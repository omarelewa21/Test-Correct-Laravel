/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x49a2=['focus','set','isReadOnly','add','remove','editorConfig','_model','isCollapsed','disabledSubmit','once','submit','_createCommentInputView','isEditMode','switchToDisplayMode','destroy','content','locale','value','_config','visibleView','fire','maxCommentCharsWhenCollapsed','get','cancel','switchToEditMode'];(function(_0x18cd00,_0x49a2d7){const _0x15d093=function(_0x4dbe7b){while(--_0x4dbe7b){_0x18cd00['push'](_0x18cd00['shift']());}};_0x15d093(++_0x49a2d7);}(_0x49a2,0xcc));const _0x15d0=function(_0x18cd00,_0x49a2d7){_0x18cd00=_0x18cd00-0x0;let _0x15d093=_0x49a2[_0x18cd00];return _0x15d093;};import{View as _0x323ebd}from'ckeditor5/src/ui';import _0x194189 from'./commentcontentview';import _0x22459a from'./commentinputview';import _0x5909af from'../../../utils/trim-html';export default class Vt extends _0x323ebd{constructor(_0xf26880,_0x9814ae,_0x3b0ebf){super(_0xf26880),this[_0x15d0('0x2')]=_0x9814ae,this['_config']=_0x3b0ebf,this[_0x15d0('0x16')](_0x15d0('0x8'),!0x1),this[_0x15d0('0x16')](_0x15d0('0x3'),!0x0),this['visibleView']=this['createCollection'](),this[_0x15d0('0xf')][_0x15d0('0x18')](this['_createCommentContentView']());}['expand'](){this[_0x15d0('0x3')]=!0x1;}['collapse'](){this[_0x15d0('0x8')]||(this[_0x15d0('0x3')]=!0x0);}[_0x15d0('0x15')](){this['element'][_0x15d0('0x15')]();}async[_0x15d0('0xa')](){await this[_0x15d0('0xf')][_0x15d0('0x12')](0x0)['destroy'](),super['destroy']();}[_0x15d0('0x14')](){this[_0x15d0('0x8')]||(this['isEditMode']=!0x0,this['visibleView']['remove'](0x0)[_0x15d0('0xa')](),this[_0x15d0('0xf')]['add'](this[_0x15d0('0x7')]()));}[_0x15d0('0x9')](){this['isEditMode']&&(this[_0x15d0('0x8')]=!0x1,this[_0x15d0('0xf')][_0x15d0('0x0')](0x0)[_0x15d0('0xa')](),this[_0x15d0('0xf')]['add'](this['_createCommentContentView']()));}['_createCommentContentView'](){const _0x224417=new _0x194189(this[_0x15d0('0xc')]);return _0x224417['bind'](_0x15d0('0xb'))['to'](this[_0x15d0('0x2')],'content',this,'isCollapsed',(_0x1a6047,_0x47705d)=>_0x47705d?_0x5909af(_0x1a6047,{'limit':this[_0x15d0('0xe')][_0x15d0('0x11')]}):_0x1a6047),_0x224417;}[_0x15d0('0x7')](){this[_0x15d0('0xe')][_0x15d0('0x1')]||(this['_config'][_0x15d0('0x1')]={}),this['_config'][_0x15d0('0x1')]['initialData']=this['_model']['content'];const _0x4ddaf9=new _0x22459a(this['locale'],this[_0x15d0('0xe')][_0x15d0('0x1')]);return _0x4ddaf9[_0x15d0('0xd')]=this[_0x15d0('0x2')]['content'],_0x4ddaf9['bind'](_0x15d0('0x4'))['to'](this[_0x15d0('0x2')],_0x15d0('0x17')),_0x4ddaf9['on'](_0x15d0('0x6'),(_0x1c6ee2,_0x1fee0a)=>{this[_0x15d0('0x10')]('updateComment',this[_0x15d0('0x2')]['id'],_0x1fee0a),this[_0x15d0('0x9')](),this[_0x15d0('0x15')]();}),_0x4ddaf9['on'](_0x15d0('0x13'),()=>{this[_0x15d0('0x9')](),this['focus']();}),_0x4ddaf9[_0x15d0('0x5')]('editorReady',()=>{_0x4ddaf9['focus']();}),_0x4ddaf9;}}