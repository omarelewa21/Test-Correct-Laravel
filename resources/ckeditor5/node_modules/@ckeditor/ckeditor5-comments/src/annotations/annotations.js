/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x387a=['stopListening','_deactivateAllAnnotations','isVisible','refreshVisibility','Annotations','activate','_activateAnnotation','has','add','listenTo','change:isVisible','activeAnnotations','collection','source','pluginName','getByInnerView','_visibleAnnotations','destroy','_bindAnnotationsToVisibleAnnotations','remove','delete','_addActiveAnnotation','deactivateAll','refreshPositioning'];(function(_0x1d826a,_0x387a93){const _0x4d9dfb=function(_0x11c1b5){while(--_0x11c1b5){_0x1d826a['push'](_0x1d826a['shift']());}};_0x4d9dfb(++_0x387a93);}(_0x387a,0xe0));const _0x4d9d=function(_0x1d826a,_0x387a93){_0x1d826a=_0x1d826a-0x0;let _0x4d9dfb=_0x387a[_0x1d826a];return _0x4d9dfb;};import{ContextPlugin as _0x47cd74}from'ckeditor5/src/core';import _0x2cf3c9 from'./annotationcollection';export default class v extends _0x47cd74{static get[_0x4d9d('0x6')](){return _0x4d9d('0x14');}constructor(_0x2c5303){super(_0x2c5303),this[_0x4d9d('0x4')]=new _0x2cf3c9(),this[_0x4d9d('0x8')]=new _0x2cf3c9(),this['set'](_0x4d9d('0x3'),new Set()),this[_0x4d9d('0xa')]();}[_0x4d9d('0x0')](_0x2bfeba){this[_0x4d9d('0x4')][_0x4d9d('0x0')](_0x2bfeba);}[_0x4d9d('0xb')](_0x21a693){this['collection'][_0x4d9d('0xb')](_0x21a693),_0x21a693[_0x4d9d('0x9')]();}[_0x4d9d('0x13')](){for(const _0x41ba30 of this['collection'])_0x41ba30[_0x4d9d('0x13')]();}[_0x4d9d('0xf')](){this[_0x4d9d('0x8')]['refreshPositioning']();}[_0x4d9d('0x7')](_0x4e07dc){return this[_0x4d9d('0x4')][_0x4d9d('0x7')](_0x4e07dc);}[_0x4d9d('0xe')](){this['fire'](_0x4d9d('0x11'));}['destroy'](){for(const _0x20e9f5 of this[_0x4d9d('0x4')])_0x20e9f5['destroy']();this['_visibleAnnotations'][_0x4d9d('0x9')](),this[_0x4d9d('0x4')]['destroy'](),super[_0x4d9d('0x9')]();}[_0x4d9d('0x15')](_0x4c84f3){this['fire'](_0x4d9d('0x16'),_0x4c84f3);}[_0x4d9d('0xd')](_0xedf333){const _0x3a2bb7=new Set(this[_0x4d9d('0x3')]);_0x3a2bb7[_0x4d9d('0x0')](_0xedf333),this['activeAnnotations']=_0x3a2bb7;}['_removeActiveAnnotation'](_0x3c2624){const _0x1e893d=new Set(this['activeAnnotations']);_0x1e893d[_0x4d9d('0xc')](_0x3c2624),this[_0x4d9d('0x3')]=_0x1e893d;}[_0x4d9d('0xa')](){const _0x15c3a0=this[_0x4d9d('0x4')],_0x48f05c=this['_visibleAnnotations'];function _0x191d29(_0x226060){const _0x7f8814=_0x226060[_0x4d9d('0x5')];_0x7f8814[_0x4d9d('0x12')]&&!_0x48f05c[_0x4d9d('0x17')](_0x7f8814)?_0x48f05c['add'](_0x7f8814):!_0x7f8814[_0x4d9d('0x12')]&&_0x48f05c[_0x4d9d('0x17')](_0x7f8814)&&_0x48f05c[_0x4d9d('0xb')](_0x7f8814);}this[_0x4d9d('0x1')](_0x15c3a0,_0x4d9d('0x0'),(_0x16088b,_0x5da884)=>{_0x5da884['isVisible']&&_0x48f05c[_0x4d9d('0x0')](_0x5da884),this[_0x4d9d('0x1')](_0x5da884,_0x4d9d('0x2'),_0x191d29);}),this[_0x4d9d('0x1')](_0x15c3a0,_0x4d9d('0xb'),(_0x31eab0,_0x2846fe)=>{_0x48f05c['has'](_0x2846fe)&&_0x48f05c['remove'](_0x2846fe),this[_0x4d9d('0x10')](_0x2846fe,_0x4d9d('0x2'),_0x191d29);});}}