/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@alpinejs/collapse/dist/module.esm.js":
/*!************************************************************!*\
  !*** ./node_modules/@alpinejs/collapse/dist/module.esm.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ module_default)
/* harmony export */ });
// packages/collapse/src/index.js
function src_default(Alpine) {
  Alpine.directive("collapse", collapse);
  collapse.inline = (el, {modifiers}) => {
    if (!modifiers.includes("min"))
      return;
    el._x_doShow = () => {
    };
    el._x_doHide = () => {
    };
  };
  function collapse(el, {modifiers}) {
    let duration = modifierValue(modifiers, "duration", 250) / 1e3;
    let floor = modifierValue(modifiers, "min", 0);
    let fullyHide = !modifiers.includes("min");
    if (!el._x_isShown)
      el.style.height = `${floor}px`;
    if (!el._x_isShown && fullyHide)
      el.hidden = true;
    if (!el._x_isShown)
      el.style.overflow = "hidden";
    let setFunction = (el2, styles) => {
      let revertFunction = Alpine.setStyles(el2, styles);
      return styles.height ? () => {
      } : revertFunction;
    };
    let transitionStyles = {
      transitionProperty: "height",
      transitionDuration: `${duration}s`,
      transitionTimingFunction: "cubic-bezier(0.4, 0.0, 0.2, 1)"
    };
    el._x_transition = {
      in(before = () => {
      }, after = () => {
      }) {
        if (fullyHide)
          el.hidden = false;
        if (fullyHide)
          el.style.display = null;
        let current = el.getBoundingClientRect().height;
        el.style.height = "auto";
        let full = el.getBoundingClientRect().height;
        if (current === full) {
          current = floor;
        }
        Alpine.transition(el, Alpine.setStyles, {
          during: transitionStyles,
          start: {height: current + "px"},
          end: {height: full + "px"}
        }, () => el._x_isShown = true, () => {
          if (el.getBoundingClientRect().height == full) {
            el.style.overflow = null;
          }
        });
      },
      out(before = () => {
      }, after = () => {
      }) {
        let full = el.getBoundingClientRect().height;
        Alpine.transition(el, setFunction, {
          during: transitionStyles,
          start: {height: full + "px"},
          end: {height: floor + "px"}
        }, () => el.style.overflow = "hidden", () => {
          el._x_isShown = false;
          if (el.style.height == `${floor}px` && fullyHide) {
            el.style.display = "none";
            el.hidden = true;
          }
        });
      }
    };
  }
}
function modifierValue(modifiers, key, fallback) {
  if (modifiers.indexOf(key) === -1)
    return fallback;
  const rawValue = modifiers[modifiers.indexOf(key) + 1];
  if (!rawValue)
    return fallback;
  if (key === "duration") {
    let match = rawValue.match(/([0-9]+)ms/);
    if (match)
      return match[1];
  }
  if (key === "min") {
    let match = rawValue.match(/([0-9]+)px/);
    if (match)
      return match[1];
  }
  return rawValue;
}

// packages/collapse/builds/module.js
var module_default = src_default;



/***/ }),

/***/ "./node_modules/@alpinejs/focus/dist/module.esm.js":
/*!*********************************************************!*\
  !*** ./node_modules/@alpinejs/focus/dist/module.esm.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ module_default)
/* harmony export */ });
// node_modules/tabbable/dist/index.esm.js
/*!
* tabbable 5.2.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/
var candidateSelectors = ["input", "select", "textarea", "a[href]", "button", "[tabindex]", "audio[controls]", "video[controls]", '[contenteditable]:not([contenteditable="false"])', "details>summary:first-of-type", "details"];
var candidateSelector = /* @__PURE__ */ candidateSelectors.join(",");
var matches = typeof Element === "undefined" ? function() {
} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
var getCandidates = function getCandidates2(el, includeContainer, filter) {
  var candidates = Array.prototype.slice.apply(el.querySelectorAll(candidateSelector));
  if (includeContainer && matches.call(el, candidateSelector)) {
    candidates.unshift(el);
  }
  candidates = candidates.filter(filter);
  return candidates;
};
var isContentEditable = function isContentEditable2(node) {
  return node.contentEditable === "true";
};
var getTabindex = function getTabindex2(node) {
  var tabindexAttr = parseInt(node.getAttribute("tabindex"), 10);
  if (!isNaN(tabindexAttr)) {
    return tabindexAttr;
  }
  if (isContentEditable(node)) {
    return 0;
  }
  if ((node.nodeName === "AUDIO" || node.nodeName === "VIDEO" || node.nodeName === "DETAILS") && node.getAttribute("tabindex") === null) {
    return 0;
  }
  return node.tabIndex;
};
var sortOrderedTabbables = function sortOrderedTabbables2(a, b) {
  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;
};
var isInput = function isInput2(node) {
  return node.tagName === "INPUT";
};
var isHiddenInput = function isHiddenInput2(node) {
  return isInput(node) && node.type === "hidden";
};
var isDetailsWithSummary = function isDetailsWithSummary2(node) {
  var r = node.tagName === "DETAILS" && Array.prototype.slice.apply(node.children).some(function(child) {
    return child.tagName === "SUMMARY";
  });
  return r;
};
var getCheckedRadio = function getCheckedRadio2(nodes, form) {
  for (var i = 0; i < nodes.length; i++) {
    if (nodes[i].checked && nodes[i].form === form) {
      return nodes[i];
    }
  }
};
var isTabbableRadio = function isTabbableRadio2(node) {
  if (!node.name) {
    return true;
  }
  var radioScope = node.form || node.ownerDocument;
  var queryRadios = function queryRadios2(name) {
    return radioScope.querySelectorAll('input[type="radio"][name="' + name + '"]');
  };
  var radioSet;
  if (typeof window !== "undefined" && typeof window.CSS !== "undefined" && typeof window.CSS.escape === "function") {
    radioSet = queryRadios(window.CSS.escape(node.name));
  } else {
    try {
      radioSet = queryRadios(node.name);
    } catch (err) {
      console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s", err.message);
      return false;
    }
  }
  var checked = getCheckedRadio(radioSet, node.form);
  return !checked || checked === node;
};
var isRadio = function isRadio2(node) {
  return isInput(node) && node.type === "radio";
};
var isNonTabbableRadio = function isNonTabbableRadio2(node) {
  return isRadio(node) && !isTabbableRadio(node);
};
var isHidden = function isHidden2(node, displayCheck) {
  if (getComputedStyle(node).visibility === "hidden") {
    return true;
  }
  var isDirectSummary = matches.call(node, "details>summary:first-of-type");
  var nodeUnderDetails = isDirectSummary ? node.parentElement : node;
  if (matches.call(nodeUnderDetails, "details:not([open]) *")) {
    return true;
  }
  if (!displayCheck || displayCheck === "full") {
    while (node) {
      if (getComputedStyle(node).display === "none") {
        return true;
      }
      node = node.parentElement;
    }
  } else if (displayCheck === "non-zero-area") {
    var _node$getBoundingClie = node.getBoundingClientRect(), width = _node$getBoundingClie.width, height = _node$getBoundingClie.height;
    return width === 0 && height === 0;
  }
  return false;
};
var isDisabledFromFieldset = function isDisabledFromFieldset2(node) {
  if (isInput(node) || node.tagName === "SELECT" || node.tagName === "TEXTAREA" || node.tagName === "BUTTON") {
    var parentNode = node.parentElement;
    while (parentNode) {
      if (parentNode.tagName === "FIELDSET" && parentNode.disabled) {
        for (var i = 0; i < parentNode.children.length; i++) {
          var child = parentNode.children.item(i);
          if (child.tagName === "LEGEND") {
            if (child.contains(node)) {
              return false;
            }
            return true;
          }
        }
        return true;
      }
      parentNode = parentNode.parentElement;
    }
  }
  return false;
};
var isNodeMatchingSelectorFocusable = function isNodeMatchingSelectorFocusable2(options, node) {
  if (node.disabled || isHiddenInput(node) || isHidden(node, options.displayCheck) || isDetailsWithSummary(node) || isDisabledFromFieldset(node)) {
    return false;
  }
  return true;
};
var isNodeMatchingSelectorTabbable = function isNodeMatchingSelectorTabbable2(options, node) {
  if (!isNodeMatchingSelectorFocusable(options, node) || isNonTabbableRadio(node) || getTabindex(node) < 0) {
    return false;
  }
  return true;
};
var tabbable = function tabbable2(el, options) {
  options = options || {};
  var regularTabbables = [];
  var orderedTabbables = [];
  var candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorTabbable.bind(null, options));
  candidates.forEach(function(candidate, i) {
    var candidateTabindex = getTabindex(candidate);
    if (candidateTabindex === 0) {
      regularTabbables.push(candidate);
    } else {
      orderedTabbables.push({
        documentOrder: i,
        tabIndex: candidateTabindex,
        node: candidate
      });
    }
  });
  var tabbableNodes = orderedTabbables.sort(sortOrderedTabbables).map(function(a) {
    return a.node;
  }).concat(regularTabbables);
  return tabbableNodes;
};
var focusable = function focusable2(el, options) {
  options = options || {};
  var candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorFocusable.bind(null, options));
  return candidates;
};
var focusableCandidateSelector = /* @__PURE__ */ candidateSelectors.concat("iframe").join(",");
var isFocusable = function isFocusable2(node, options) {
  options = options || {};
  if (!node) {
    throw new Error("No node provided");
  }
  if (matches.call(node, focusableCandidateSelector) === false) {
    return false;
  }
  return isNodeMatchingSelectorFocusable(options, node);
};

// node_modules/focus-trap/dist/focus-trap.esm.js
/*!
* focus-trap 6.6.1
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/
function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);
  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) {
      symbols = symbols.filter(function(sym) {
        return Object.getOwnPropertyDescriptor(object, sym).enumerable;
      });
    }
    keys.push.apply(keys, symbols);
  }
  return keys;
}
function _objectSpread2(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};
    if (i % 2) {
      ownKeys(Object(source), true).forEach(function(key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(Object(source)).forEach(function(key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }
  return target;
}
function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }
  return obj;
}
var activeFocusTraps = function() {
  var trapQueue = [];
  return {
    activateTrap: function activateTrap(trap) {
      if (trapQueue.length > 0) {
        var activeTrap = trapQueue[trapQueue.length - 1];
        if (activeTrap !== trap) {
          activeTrap.pause();
        }
      }
      var trapIndex = trapQueue.indexOf(trap);
      if (trapIndex === -1) {
        trapQueue.push(trap);
      } else {
        trapQueue.splice(trapIndex, 1);
        trapQueue.push(trap);
      }
    },
    deactivateTrap: function deactivateTrap(trap) {
      var trapIndex = trapQueue.indexOf(trap);
      if (trapIndex !== -1) {
        trapQueue.splice(trapIndex, 1);
      }
      if (trapQueue.length > 0) {
        trapQueue[trapQueue.length - 1].unpause();
      }
    }
  };
}();
var isSelectableInput = function isSelectableInput2(node) {
  return node.tagName && node.tagName.toLowerCase() === "input" && typeof node.select === "function";
};
var isEscapeEvent = function isEscapeEvent2(e) {
  return e.key === "Escape" || e.key === "Esc" || e.keyCode === 27;
};
var isTabEvent = function isTabEvent2(e) {
  return e.key === "Tab" || e.keyCode === 9;
};
var delay = function delay2(fn) {
  return setTimeout(fn, 0);
};
var findIndex = function findIndex2(arr, fn) {
  var idx = -1;
  arr.every(function(value, i) {
    if (fn(value)) {
      idx = i;
      return false;
    }
    return true;
  });
  return idx;
};
var valueOrHandler = function valueOrHandler2(value) {
  for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    params[_key - 1] = arguments[_key];
  }
  return typeof value === "function" ? value.apply(void 0, params) : value;
};
var createFocusTrap = function createFocusTrap2(elements, userOptions) {
  var doc = document;
  var config = _objectSpread2({
    returnFocusOnDeactivate: true,
    escapeDeactivates: true,
    delayInitialFocus: true
  }, userOptions);
  var state = {
    containers: [],
    tabbableGroups: [],
    nodeFocusedBeforeActivation: null,
    mostRecentlyFocusedNode: null,
    active: false,
    paused: false,
    delayInitialFocusTimer: void 0
  };
  var trap;
  var getOption = function getOption2(configOverrideOptions, optionName, configOptionName) {
    return configOverrideOptions && configOverrideOptions[optionName] !== void 0 ? configOverrideOptions[optionName] : config[configOptionName || optionName];
  };
  var containersContain = function containersContain2(element) {
    return state.containers.some(function(container) {
      return container.contains(element);
    });
  };
  var getNodeForOption = function getNodeForOption2(optionName) {
    var optionValue = config[optionName];
    if (!optionValue) {
      return null;
    }
    var node = optionValue;
    if (typeof optionValue === "string") {
      node = doc.querySelector(optionValue);
      if (!node) {
        throw new Error("`".concat(optionName, "` refers to no known node"));
      }
    }
    if (typeof optionValue === "function") {
      node = optionValue();
      if (!node) {
        throw new Error("`".concat(optionName, "` did not return a node"));
      }
    }
    return node;
  };
  var getInitialFocusNode = function getInitialFocusNode2() {
    var node;
    if (getOption({}, "initialFocus") === false) {
      return false;
    }
    if (getNodeForOption("initialFocus") !== null) {
      node = getNodeForOption("initialFocus");
    } else if (containersContain(doc.activeElement)) {
      node = doc.activeElement;
    } else {
      var firstTabbableGroup = state.tabbableGroups[0];
      var firstTabbableNode = firstTabbableGroup && firstTabbableGroup.firstTabbableNode;
      node = firstTabbableNode || getNodeForOption("fallbackFocus");
    }
    if (!node) {
      throw new Error("Your focus-trap needs to have at least one focusable element");
    }
    return node;
  };
  var updateTabbableNodes = function updateTabbableNodes2() {
    state.tabbableGroups = state.containers.map(function(container) {
      var tabbableNodes = tabbable(container);
      if (tabbableNodes.length > 0) {
        return {
          container,
          firstTabbableNode: tabbableNodes[0],
          lastTabbableNode: tabbableNodes[tabbableNodes.length - 1]
        };
      }
      return void 0;
    }).filter(function(group) {
      return !!group;
    });
    if (state.tabbableGroups.length <= 0 && !getNodeForOption("fallbackFocus")) {
      throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");
    }
  };
  var tryFocus = function tryFocus2(node) {
    if (node === false) {
      return;
    }
    if (node === doc.activeElement) {
      return;
    }
    if (!node || !node.focus) {
      tryFocus2(getInitialFocusNode());
      return;
    }
    node.focus({
      preventScroll: !!config.preventScroll
    });
    state.mostRecentlyFocusedNode = node;
    if (isSelectableInput(node)) {
      node.select();
    }
  };
  var getReturnFocusNode = function getReturnFocusNode2(previousActiveElement) {
    var node = getNodeForOption("setReturnFocus");
    return node ? node : previousActiveElement;
  };
  var checkPointerDown = function checkPointerDown2(e) {
    if (containersContain(e.target)) {
      return;
    }
    if (valueOrHandler(config.clickOutsideDeactivates, e)) {
      trap.deactivate({
        returnFocus: config.returnFocusOnDeactivate && !isFocusable(e.target)
      });
      return;
    }
    if (valueOrHandler(config.allowOutsideClick, e)) {
      return;
    }
    e.preventDefault();
  };
  var checkFocusIn = function checkFocusIn2(e) {
    var targetContained = containersContain(e.target);
    if (targetContained || e.target instanceof Document) {
      if (targetContained) {
        state.mostRecentlyFocusedNode = e.target;
      }
    } else {
      e.stopImmediatePropagation();
      tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());
    }
  };
  var checkTab = function checkTab2(e) {
    updateTabbableNodes();
    var destinationNode = null;
    if (state.tabbableGroups.length > 0) {
      var containerIndex = findIndex(state.tabbableGroups, function(_ref) {
        var container = _ref.container;
        return container.contains(e.target);
      });
      if (containerIndex < 0) {
        if (e.shiftKey) {
          destinationNode = state.tabbableGroups[state.tabbableGroups.length - 1].lastTabbableNode;
        } else {
          destinationNode = state.tabbableGroups[0].firstTabbableNode;
        }
      } else if (e.shiftKey) {
        var startOfGroupIndex = findIndex(state.tabbableGroups, function(_ref2) {
          var firstTabbableNode = _ref2.firstTabbableNode;
          return e.target === firstTabbableNode;
        });
        if (startOfGroupIndex < 0 && state.tabbableGroups[containerIndex].container === e.target) {
          startOfGroupIndex = containerIndex;
        }
        if (startOfGroupIndex >= 0) {
          var destinationGroupIndex = startOfGroupIndex === 0 ? state.tabbableGroups.length - 1 : startOfGroupIndex - 1;
          var destinationGroup = state.tabbableGroups[destinationGroupIndex];
          destinationNode = destinationGroup.lastTabbableNode;
        }
      } else {
        var lastOfGroupIndex = findIndex(state.tabbableGroups, function(_ref3) {
          var lastTabbableNode = _ref3.lastTabbableNode;
          return e.target === lastTabbableNode;
        });
        if (lastOfGroupIndex < 0 && state.tabbableGroups[containerIndex].container === e.target) {
          lastOfGroupIndex = containerIndex;
        }
        if (lastOfGroupIndex >= 0) {
          var _destinationGroupIndex = lastOfGroupIndex === state.tabbableGroups.length - 1 ? 0 : lastOfGroupIndex + 1;
          var _destinationGroup = state.tabbableGroups[_destinationGroupIndex];
          destinationNode = _destinationGroup.firstTabbableNode;
        }
      }
    } else {
      destinationNode = getNodeForOption("fallbackFocus");
    }
    if (destinationNode) {
      e.preventDefault();
      tryFocus(destinationNode);
    }
  };
  var checkKey = function checkKey2(e) {
    if (isEscapeEvent(e) && valueOrHandler(config.escapeDeactivates) !== false) {
      e.preventDefault();
      trap.deactivate();
      return;
    }
    if (isTabEvent(e)) {
      checkTab(e);
      return;
    }
  };
  var checkClick = function checkClick2(e) {
    if (valueOrHandler(config.clickOutsideDeactivates, e)) {
      return;
    }
    if (containersContain(e.target)) {
      return;
    }
    if (valueOrHandler(config.allowOutsideClick, e)) {
      return;
    }
    e.preventDefault();
    e.stopImmediatePropagation();
  };
  var addListeners = function addListeners2() {
    if (!state.active) {
      return;
    }
    activeFocusTraps.activateTrap(trap);
    state.delayInitialFocusTimer = config.delayInitialFocus ? delay(function() {
      tryFocus(getInitialFocusNode());
    }) : tryFocus(getInitialFocusNode());
    doc.addEventListener("focusin", checkFocusIn, true);
    doc.addEventListener("mousedown", checkPointerDown, {
      capture: true,
      passive: false
    });
    doc.addEventListener("touchstart", checkPointerDown, {
      capture: true,
      passive: false
    });
    doc.addEventListener("click", checkClick, {
      capture: true,
      passive: false
    });
    doc.addEventListener("keydown", checkKey, {
      capture: true,
      passive: false
    });
    return trap;
  };
  var removeListeners = function removeListeners2() {
    if (!state.active) {
      return;
    }
    doc.removeEventListener("focusin", checkFocusIn, true);
    doc.removeEventListener("mousedown", checkPointerDown, true);
    doc.removeEventListener("touchstart", checkPointerDown, true);
    doc.removeEventListener("click", checkClick, true);
    doc.removeEventListener("keydown", checkKey, true);
    return trap;
  };
  trap = {
    activate: function activate(activateOptions) {
      if (state.active) {
        return this;
      }
      var onActivate = getOption(activateOptions, "onActivate");
      var onPostActivate = getOption(activateOptions, "onPostActivate");
      var checkCanFocusTrap = getOption(activateOptions, "checkCanFocusTrap");
      if (!checkCanFocusTrap) {
        updateTabbableNodes();
      }
      state.active = true;
      state.paused = false;
      state.nodeFocusedBeforeActivation = doc.activeElement;
      if (onActivate) {
        onActivate();
      }
      var finishActivation = function finishActivation2() {
        if (checkCanFocusTrap) {
          updateTabbableNodes();
        }
        addListeners();
        if (onPostActivate) {
          onPostActivate();
        }
      };
      if (checkCanFocusTrap) {
        checkCanFocusTrap(state.containers.concat()).then(finishActivation, finishActivation);
        return this;
      }
      finishActivation();
      return this;
    },
    deactivate: function deactivate(deactivateOptions) {
      if (!state.active) {
        return this;
      }
      clearTimeout(state.delayInitialFocusTimer);
      state.delayInitialFocusTimer = void 0;
      removeListeners();
      state.active = false;
      state.paused = false;
      activeFocusTraps.deactivateTrap(trap);
      var onDeactivate = getOption(deactivateOptions, "onDeactivate");
      var onPostDeactivate = getOption(deactivateOptions, "onPostDeactivate");
      var checkCanReturnFocus = getOption(deactivateOptions, "checkCanReturnFocus");
      if (onDeactivate) {
        onDeactivate();
      }
      var returnFocus = getOption(deactivateOptions, "returnFocus", "returnFocusOnDeactivate");
      var finishDeactivation = function finishDeactivation2() {
        delay(function() {
          if (returnFocus) {
            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));
          }
          if (onPostDeactivate) {
            onPostDeactivate();
          }
        });
      };
      if (returnFocus && checkCanReturnFocus) {
        checkCanReturnFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)).then(finishDeactivation, finishDeactivation);
        return this;
      }
      finishDeactivation();
      return this;
    },
    pause: function pause() {
      if (state.paused || !state.active) {
        return this;
      }
      state.paused = true;
      removeListeners();
      return this;
    },
    unpause: function unpause() {
      if (!state.paused || !state.active) {
        return this;
      }
      state.paused = false;
      updateTabbableNodes();
      addListeners();
      return this;
    },
    updateContainerElements: function updateContainerElements(containerElements) {
      var elementsAsArray = [].concat(containerElements).filter(Boolean);
      state.containers = elementsAsArray.map(function(element) {
        return typeof element === "string" ? doc.querySelector(element) : element;
      });
      if (state.active) {
        updateTabbableNodes();
      }
      return this;
    }
  };
  trap.updateContainerElements(elements);
  return trap;
};

// packages/focus/src/index.js
function src_default(Alpine) {
  let lastFocused;
  let currentFocused;
  window.addEventListener("focusin", () => {
    lastFocused = currentFocused;
    currentFocused = document.activeElement;
  });
  Alpine.magic("focus", (el) => {
    let within = el;
    return {
      __noscroll: false,
      __wrapAround: false,
      within(el2) {
        within = el2;
        return this;
      },
      withoutScrolling() {
        this.__noscroll = true;
        return this;
      },
      noscroll() {
        this.__noscroll = true;
        return this;
      },
      withWrapAround() {
        this.__wrapAround = true;
        return this;
      },
      wrap() {
        return this.withWrapAround();
      },
      focusable(el2) {
        return isFocusable(el2);
      },
      previouslyFocused() {
        return lastFocused;
      },
      lastFocused() {
        return lastFocused;
      },
      focused() {
        return currentFocused;
      },
      focusables() {
        if (Array.isArray(within))
          return within;
        return focusable(within, {displayCheck: "none"});
      },
      all() {
        return this.focusables();
      },
      isFirst(el2) {
        let els = this.all();
        return els[0] && els[0].isSameNode(el2);
      },
      isLast(el2) {
        let els = this.all();
        return els.length && els.slice(-1)[0].isSameNode(el2);
      },
      getFirst() {
        return this.all()[0];
      },
      getLast() {
        return this.all().slice(-1)[0];
      },
      getNext() {
        let list = this.all();
        let current = document.activeElement;
        if (list.indexOf(current) === -1)
          return;
        if (this.__wrapAround && list.indexOf(current) === list.length - 1) {
          return list[0];
        }
        return list[list.indexOf(current) + 1];
      },
      getPrevious() {
        let list = this.all();
        let current = document.activeElement;
        if (list.indexOf(current) === -1)
          return;
        if (this.__wrapAround && list.indexOf(current) === 0) {
          return list.slice(-1)[0];
        }
        return list[list.indexOf(current) - 1];
      },
      first() {
        this.focus(this.getFirst());
      },
      last() {
        this.focus(this.getLast());
      },
      next() {
        this.focus(this.getNext());
      },
      previous() {
        this.focus(this.getPrevious());
      },
      prev() {
        return this.previous();
      },
      focus(el2) {
        if (!el2)
          return;
        setTimeout(() => {
          if (!el2.hasAttribute("tabindex"))
            el2.setAttribute("tabindex", "0");
          el2.focus({preventScroll: this._noscroll});
        });
      }
    };
  });
  Alpine.directive("trap", Alpine.skipDuringClone((el, {expression, modifiers}, {effect, evaluateLater, cleanup}) => {
    let evaluator = evaluateLater(expression);
    let oldValue = false;
    let options = {
      escapeDeactivates: false,
      allowOutsideClick: true,
      fallbackFocus: () => el
    };
    let autofocusEl = el.querySelector("[autofocus]");
    if (autofocusEl)
      options.initialFocus = autofocusEl;
    let trap = createFocusTrap(el, options);
    let undoInert = () => {
    };
    let undoDisableScrolling = () => {
    };
    const releaseFocus = () => {
      undoInert();
      undoInert = () => {
      };
      undoDisableScrolling();
      undoDisableScrolling = () => {
      };
      trap.deactivate({
        returnFocus: !modifiers.includes("noreturn")
      });
    };
    effect(() => evaluator((value) => {
      if (oldValue === value)
        return;
      if (value && !oldValue) {
        setTimeout(() => {
          if (modifiers.includes("inert"))
            undoInert = setInert(el);
          if (modifiers.includes("noscroll"))
            undoDisableScrolling = disableScrolling();
          trap.activate();
        });
      }
      if (!value && oldValue) {
        releaseFocus();
      }
      oldValue = !!value;
    }));
    cleanup(releaseFocus);
  }, (el, {expression, modifiers}, {evaluate}) => {
    if (modifiers.includes("inert") && evaluate(expression))
      setInert(el);
  }));
}
function setInert(el) {
  let undos = [];
  crawlSiblingsUp(el, (sibling) => {
    let cache = sibling.hasAttribute("aria-hidden");
    sibling.setAttribute("aria-hidden", "true");
    undos.push(() => cache || sibling.removeAttribute("aria-hidden"));
  });
  return () => {
    while (undos.length)
      undos.pop()();
  };
}
function crawlSiblingsUp(el, callback) {
  if (el.isSameNode(document.body) || !el.parentNode)
    return;
  Array.from(el.parentNode.children).forEach((sibling) => {
    if (sibling.isSameNode(el)) {
      crawlSiblingsUp(el.parentNode, callback);
    } else {
      callback(sibling);
    }
  });
}
function disableScrolling() {
  let overflow = document.documentElement.style.overflow;
  let paddingRight = document.documentElement.style.paddingRight;
  let scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;
  document.documentElement.style.overflow = "hidden";
  document.documentElement.style.paddingRight = `${scrollbarWidth}px`;
  return () => {
    document.documentElement.style.overflow = overflow;
    document.documentElement.style.paddingRight = paddingRight;
  };
}

// packages/focus/builds/module.js
var module_default = src_default;



/***/ }),

/***/ "./node_modules/@alpinejs/intersect/dist/module.esm.js":
/*!*************************************************************!*\
  !*** ./node_modules/@alpinejs/intersect/dist/module.esm.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ module_default)
/* harmony export */ });
// packages/intersect/src/index.js
function src_default(Alpine) {
  Alpine.directive("intersect", (el, {value, expression, modifiers}, {evaluateLater, cleanup}) => {
    let evaluate = evaluateLater(expression);
    let options = {
      rootMargin: getRootMargin(modifiers),
      threshold: getThreshhold(modifiers)
    };
    let observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting === (value === "leave"))
          return;
        evaluate();
        modifiers.includes("once") && observer.disconnect();
      });
    }, options);
    observer.observe(el);
    cleanup(() => {
      observer.disconnect();
    });
  });
}
function getThreshhold(modifiers) {
  if (modifiers.includes("full"))
    return 0.99;
  if (modifiers.includes("half"))
    return 0.5;
  if (!modifiers.includes("threshold"))
    return 0;
  let threshold = modifiers[modifiers.indexOf("threshold") + 1];
  if (threshold === "100")
    return 1;
  if (threshold === "0")
    return 0;
  return Number(`.${threshold}`);
}
function getLengthValue(rawValue) {
  let match = rawValue.match(/^(-?[0-9]+)(px|%)?$/);
  return match ? match[1] + (match[2] || "px") : void 0;
}
function getRootMargin(modifiers) {
  const key = "margin";
  const fallback = "0px 0px 0px 0px";
  const index = modifiers.indexOf(key);
  if (index === -1)
    return fallback;
  let values = [];
  for (let i = 1; i < 5; i++) {
    values.push(getLengthValue(modifiers[index + i] || ""));
  }
  values = values.filter((v) => v !== void 0);
  return values.length ? values.join(" ").trim() : fallback;
}

// packages/intersect/builds/module.js
var module_default = src_default;



/***/ }),

/***/ "./node_modules/@ryangjchandler/alpine-clipboard/src/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/@ryangjchandler/alpine-clipboard/src/index.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
let onCopy = () => {}

const copy = (target) => {
    if (typeof target === 'function') {
        target = target()
    }

    if (typeof target === 'object') {
        target = JSON.stringify(target)
    }

    return window.navigator.clipboard.writeText(target)
        .then(onCopy)
}

function Clipboard(Alpine) {
    Alpine.magic('clipboard', () => {
        return copy
    })

    Alpine.directive('clipboard', (el, { modifiers, expression }, { evaluateLater, cleanup }) => {
        const getCopyContent = modifiers.includes('raw') ? c => c(expression) : evaluateLater(expression)
        const clickHandler = () => getCopyContent(copy)

        el.addEventListener('click', clickHandler)

        cleanup(() => {
            el.removeEventListener('click', clickHandler)
        })
    })
}

Clipboard.configure = (config) => {
    if (config.hasOwnProperty('onCopy') && typeof config.onCopy === 'function') {
        onCopy = config.onCopy
    }

    return Clipboard
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Clipboard);

/***/ }),

/***/ "./node_modules/alpinejs/dist/module.esm.js":
/*!**************************************************!*\
  !*** ./node_modules/alpinejs/dist/module.esm.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ module_default)
/* harmony export */ });
// packages/alpinejs/src/scheduler.js
var flushPending = false;
var flushing = false;
var queue = [];
var lastFlushedIndex = -1;
function scheduler(callback) {
  queueJob(callback);
}
function queueJob(job) {
  if (!queue.includes(job))
    queue.push(job);
  queueFlush();
}
function dequeueJob(job) {
  let index = queue.indexOf(job);
  if (index !== -1 && index > lastFlushedIndex)
    queue.splice(index, 1);
}
function queueFlush() {
  if (!flushing && !flushPending) {
    flushPending = true;
    queueMicrotask(flushJobs);
  }
}
function flushJobs() {
  flushPending = false;
  flushing = true;
  for (let i = 0; i < queue.length; i++) {
    queue[i]();
    lastFlushedIndex = i;
  }
  queue.length = 0;
  lastFlushedIndex = -1;
  flushing = false;
}

// packages/alpinejs/src/reactivity.js
var reactive;
var effect;
var release;
var raw;
var shouldSchedule = true;
function disableEffectScheduling(callback) {
  shouldSchedule = false;
  callback();
  shouldSchedule = true;
}
function setReactivityEngine(engine) {
  reactive = engine.reactive;
  release = engine.release;
  effect = (callback) => engine.effect(callback, {scheduler: (task) => {
    if (shouldSchedule) {
      scheduler(task);
    } else {
      task();
    }
  }});
  raw = engine.raw;
}
function overrideEffect(override) {
  effect = override;
}
function elementBoundEffect(el) {
  let cleanup2 = () => {
  };
  let wrappedEffect = (callback) => {
    let effectReference = effect(callback);
    if (!el._x_effects) {
      el._x_effects = new Set();
      el._x_runEffects = () => {
        el._x_effects.forEach((i) => i());
      };
    }
    el._x_effects.add(effectReference);
    cleanup2 = () => {
      if (effectReference === void 0)
        return;
      el._x_effects.delete(effectReference);
      release(effectReference);
    };
    return effectReference;
  };
  return [wrappedEffect, () => {
    cleanup2();
  }];
}

// packages/alpinejs/src/mutation.js
var onAttributeAddeds = [];
var onElRemoveds = [];
var onElAddeds = [];
function onElAdded(callback) {
  onElAddeds.push(callback);
}
function onElRemoved(el, callback) {
  if (typeof callback === "function") {
    if (!el._x_cleanups)
      el._x_cleanups = [];
    el._x_cleanups.push(callback);
  } else {
    callback = el;
    onElRemoveds.push(callback);
  }
}
function onAttributesAdded(callback) {
  onAttributeAddeds.push(callback);
}
function onAttributeRemoved(el, name, callback) {
  if (!el._x_attributeCleanups)
    el._x_attributeCleanups = {};
  if (!el._x_attributeCleanups[name])
    el._x_attributeCleanups[name] = [];
  el._x_attributeCleanups[name].push(callback);
}
function cleanupAttributes(el, names) {
  if (!el._x_attributeCleanups)
    return;
  Object.entries(el._x_attributeCleanups).forEach(([name, value]) => {
    if (names === void 0 || names.includes(name)) {
      value.forEach((i) => i());
      delete el._x_attributeCleanups[name];
    }
  });
}
var observer = new MutationObserver(onMutate);
var currentlyObserving = false;
function startObservingMutations() {
  observer.observe(document, {subtree: true, childList: true, attributes: true, attributeOldValue: true});
  currentlyObserving = true;
}
function stopObservingMutations() {
  flushObserver();
  observer.disconnect();
  currentlyObserving = false;
}
var recordQueue = [];
var willProcessRecordQueue = false;
function flushObserver() {
  recordQueue = recordQueue.concat(observer.takeRecords());
  if (recordQueue.length && !willProcessRecordQueue) {
    willProcessRecordQueue = true;
    queueMicrotask(() => {
      processRecordQueue();
      willProcessRecordQueue = false;
    });
  }
}
function processRecordQueue() {
  onMutate(recordQueue);
  recordQueue.length = 0;
}
function mutateDom(callback) {
  if (!currentlyObserving)
    return callback();
  stopObservingMutations();
  let result = callback();
  startObservingMutations();
  return result;
}
var isCollecting = false;
var deferredMutations = [];
function deferMutations() {
  isCollecting = true;
}
function flushAndStopDeferringMutations() {
  isCollecting = false;
  onMutate(deferredMutations);
  deferredMutations = [];
}
function onMutate(mutations) {
  if (isCollecting) {
    deferredMutations = deferredMutations.concat(mutations);
    return;
  }
  let addedNodes = [];
  let removedNodes = [];
  let addedAttributes = new Map();
  let removedAttributes = new Map();
  for (let i = 0; i < mutations.length; i++) {
    if (mutations[i].target._x_ignoreMutationObserver)
      continue;
    if (mutations[i].type === "childList") {
      mutations[i].addedNodes.forEach((node) => node.nodeType === 1 && addedNodes.push(node));
      mutations[i].removedNodes.forEach((node) => node.nodeType === 1 && removedNodes.push(node));
    }
    if (mutations[i].type === "attributes") {
      let el = mutations[i].target;
      let name = mutations[i].attributeName;
      let oldValue = mutations[i].oldValue;
      let add2 = () => {
        if (!addedAttributes.has(el))
          addedAttributes.set(el, []);
        addedAttributes.get(el).push({name, value: el.getAttribute(name)});
      };
      let remove = () => {
        if (!removedAttributes.has(el))
          removedAttributes.set(el, []);
        removedAttributes.get(el).push(name);
      };
      if (el.hasAttribute(name) && oldValue === null) {
        add2();
      } else if (el.hasAttribute(name)) {
        remove();
        add2();
      } else {
        remove();
      }
    }
  }
  removedAttributes.forEach((attrs, el) => {
    cleanupAttributes(el, attrs);
  });
  addedAttributes.forEach((attrs, el) => {
    onAttributeAddeds.forEach((i) => i(el, attrs));
  });
  for (let node of removedNodes) {
    if (addedNodes.includes(node))
      continue;
    onElRemoveds.forEach((i) => i(node));
    if (node._x_cleanups) {
      while (node._x_cleanups.length)
        node._x_cleanups.pop()();
    }
  }
  addedNodes.forEach((node) => {
    node._x_ignoreSelf = true;
    node._x_ignore = true;
  });
  for (let node of addedNodes) {
    if (removedNodes.includes(node))
      continue;
    if (!node.isConnected)
      continue;
    delete node._x_ignoreSelf;
    delete node._x_ignore;
    onElAddeds.forEach((i) => i(node));
    node._x_ignore = true;
    node._x_ignoreSelf = true;
  }
  addedNodes.forEach((node) => {
    delete node._x_ignoreSelf;
    delete node._x_ignore;
  });
  addedNodes = null;
  removedNodes = null;
  addedAttributes = null;
  removedAttributes = null;
}

// packages/alpinejs/src/scope.js
function scope(node) {
  return mergeProxies(closestDataStack(node));
}
function addScopeToNode(node, data2, referenceNode) {
  node._x_dataStack = [data2, ...closestDataStack(referenceNode || node)];
  return () => {
    node._x_dataStack = node._x_dataStack.filter((i) => i !== data2);
  };
}
function closestDataStack(node) {
  if (node._x_dataStack)
    return node._x_dataStack;
  if (typeof ShadowRoot === "function" && node instanceof ShadowRoot) {
    return closestDataStack(node.host);
  }
  if (!node.parentNode) {
    return [];
  }
  return closestDataStack(node.parentNode);
}
function mergeProxies(objects) {
  let thisProxy = new Proxy({}, {
    ownKeys: () => {
      return Array.from(new Set(objects.flatMap((i) => Object.keys(i))));
    },
    has: (target, name) => {
      return objects.some((obj) => obj.hasOwnProperty(name));
    },
    get: (target, name) => {
      return (objects.find((obj) => {
        if (obj.hasOwnProperty(name)) {
          let descriptor = Object.getOwnPropertyDescriptor(obj, name);
          if (descriptor.get && descriptor.get._x_alreadyBound || descriptor.set && descriptor.set._x_alreadyBound) {
            return true;
          }
          if ((descriptor.get || descriptor.set) && descriptor.enumerable) {
            let getter = descriptor.get;
            let setter = descriptor.set;
            let property = descriptor;
            getter = getter && getter.bind(thisProxy);
            setter = setter && setter.bind(thisProxy);
            if (getter)
              getter._x_alreadyBound = true;
            if (setter)
              setter._x_alreadyBound = true;
            Object.defineProperty(obj, name, {
              ...property,
              get: getter,
              set: setter
            });
          }
          return true;
        }
        return false;
      }) || {})[name];
    },
    set: (target, name, value) => {
      let closestObjectWithKey = objects.find((obj) => obj.hasOwnProperty(name));
      if (closestObjectWithKey) {
        closestObjectWithKey[name] = value;
      } else {
        objects[objects.length - 1][name] = value;
      }
      return true;
    }
  });
  return thisProxy;
}

// packages/alpinejs/src/interceptor.js
function initInterceptors(data2) {
  let isObject2 = (val) => typeof val === "object" && !Array.isArray(val) && val !== null;
  let recurse = (obj, basePath = "") => {
    Object.entries(Object.getOwnPropertyDescriptors(obj)).forEach(([key, {value, enumerable}]) => {
      if (enumerable === false || value === void 0)
        return;
      let path = basePath === "" ? key : `${basePath}.${key}`;
      if (typeof value === "object" && value !== null && value._x_interceptor) {
        obj[key] = value.initialize(data2, path, key);
      } else {
        if (isObject2(value) && value !== obj && !(value instanceof Element)) {
          recurse(value, path);
        }
      }
    });
  };
  return recurse(data2);
}
function interceptor(callback, mutateObj = () => {
}) {
  let obj = {
    initialValue: void 0,
    _x_interceptor: true,
    initialize(data2, path, key) {
      return callback(this.initialValue, () => get(data2, path), (value) => set(data2, path, value), path, key);
    }
  };
  mutateObj(obj);
  return (initialValue) => {
    if (typeof initialValue === "object" && initialValue !== null && initialValue._x_interceptor) {
      let initialize = obj.initialize.bind(obj);
      obj.initialize = (data2, path, key) => {
        let innerValue = initialValue.initialize(data2, path, key);
        obj.initialValue = innerValue;
        return initialize(data2, path, key);
      };
    } else {
      obj.initialValue = initialValue;
    }
    return obj;
  };
}
function get(obj, path) {
  return path.split(".").reduce((carry, segment) => carry[segment], obj);
}
function set(obj, path, value) {
  if (typeof path === "string")
    path = path.split(".");
  if (path.length === 1)
    obj[path[0]] = value;
  else if (path.length === 0)
    throw error;
  else {
    if (obj[path[0]])
      return set(obj[path[0]], path.slice(1), value);
    else {
      obj[path[0]] = {};
      return set(obj[path[0]], path.slice(1), value);
    }
  }
}

// packages/alpinejs/src/magics.js
var magics = {};
function magic(name, callback) {
  magics[name] = callback;
}
function injectMagics(obj, el) {
  Object.entries(magics).forEach(([name, callback]) => {
    let memoizedUtilities = null;
    function getUtilities() {
      if (memoizedUtilities) {
        return memoizedUtilities;
      } else {
        let [utilities, cleanup2] = getElementBoundUtilities(el);
        memoizedUtilities = {interceptor, ...utilities};
        onElRemoved(el, cleanup2);
        return memoizedUtilities;
      }
    }
    Object.defineProperty(obj, `$${name}`, {
      get() {
        return callback(el, getUtilities());
      },
      enumerable: false
    });
  });
  return obj;
}

// packages/alpinejs/src/utils/error.js
function tryCatch(el, expression, callback, ...args) {
  try {
    return callback(...args);
  } catch (e) {
    handleError(e, el, expression);
  }
}
function handleError(error2, el, expression = void 0) {
  Object.assign(error2, {el, expression});
  console.warn(`Alpine Expression Error: ${error2.message}

${expression ? 'Expression: "' + expression + '"\n\n' : ""}`, el);
  setTimeout(() => {
    throw error2;
  }, 0);
}

// packages/alpinejs/src/evaluator.js
var shouldAutoEvaluateFunctions = true;
function dontAutoEvaluateFunctions(callback) {
  let cache = shouldAutoEvaluateFunctions;
  shouldAutoEvaluateFunctions = false;
  callback();
  shouldAutoEvaluateFunctions = cache;
}
function evaluate(el, expression, extras = {}) {
  let result;
  evaluateLater(el, expression)((value) => result = value, extras);
  return result;
}
function evaluateLater(...args) {
  return theEvaluatorFunction(...args);
}
var theEvaluatorFunction = normalEvaluator;
function setEvaluator(newEvaluator) {
  theEvaluatorFunction = newEvaluator;
}
function normalEvaluator(el, expression) {
  let overriddenMagics = {};
  injectMagics(overriddenMagics, el);
  let dataStack = [overriddenMagics, ...closestDataStack(el)];
  let evaluator = typeof expression === "function" ? generateEvaluatorFromFunction(dataStack, expression) : generateEvaluatorFromString(dataStack, expression, el);
  return tryCatch.bind(null, el, expression, evaluator);
}
function generateEvaluatorFromFunction(dataStack, func) {
  return (receiver = () => {
  }, {scope: scope2 = {}, params = []} = {}) => {
    let result = func.apply(mergeProxies([scope2, ...dataStack]), params);
    runIfTypeOfFunction(receiver, result);
  };
}
var evaluatorMemo = {};
function generateFunctionFromString(expression, el) {
  if (evaluatorMemo[expression]) {
    return evaluatorMemo[expression];
  }
  let AsyncFunction = Object.getPrototypeOf(async function() {
  }).constructor;
  let rightSideSafeExpression = /^[\n\s]*if.*\(.*\)/.test(expression) || /^(let|const)\s/.test(expression) ? `(async()=>{ ${expression} })()` : expression;
  const safeAsyncFunction = () => {
    try {
      return new AsyncFunction(["__self", "scope"], `with (scope) { __self.result = ${rightSideSafeExpression} }; __self.finished = true; return __self.result;`);
    } catch (error2) {
      handleError(error2, el, expression);
      return Promise.resolve();
    }
  };
  let func = safeAsyncFunction();
  evaluatorMemo[expression] = func;
  return func;
}
function generateEvaluatorFromString(dataStack, expression, el) {
  let func = generateFunctionFromString(expression, el);
  return (receiver = () => {
  }, {scope: scope2 = {}, params = []} = {}) => {
    func.result = void 0;
    func.finished = false;
    let completeScope = mergeProxies([scope2, ...dataStack]);
    if (typeof func === "function") {
      let promise = func(func, completeScope).catch((error2) => handleError(error2, el, expression));
      if (func.finished) {
        runIfTypeOfFunction(receiver, func.result, completeScope, params, el);
        func.result = void 0;
      } else {
        promise.then((result) => {
          runIfTypeOfFunction(receiver, result, completeScope, params, el);
        }).catch((error2) => handleError(error2, el, expression)).finally(() => func.result = void 0);
      }
    }
  };
}
function runIfTypeOfFunction(receiver, value, scope2, params, el) {
  if (shouldAutoEvaluateFunctions && typeof value === "function") {
    let result = value.apply(scope2, params);
    if (result instanceof Promise) {
      result.then((i) => runIfTypeOfFunction(receiver, i, scope2, params)).catch((error2) => handleError(error2, el, value));
    } else {
      receiver(result);
    }
  } else if (typeof value === "object" && value instanceof Promise) {
    value.then((i) => receiver(i));
  } else {
    receiver(value);
  }
}

// packages/alpinejs/src/directives.js
var prefixAsString = "x-";
function prefix(subject = "") {
  return prefixAsString + subject;
}
function setPrefix(newPrefix) {
  prefixAsString = newPrefix;
}
var directiveHandlers = {};
function directive(name, callback) {
  directiveHandlers[name] = callback;
  return {
    before(directive2) {
      if (!directiveHandlers[directive2]) {
        console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");
        return;
      }
      const pos = directiveOrder.indexOf(directive2);
      directiveOrder.splice(pos >= 0 ? pos : directiveOrder.indexOf("DEFAULT"), 0, name);
    }
  };
}
function directives(el, attributes, originalAttributeOverride) {
  attributes = Array.from(attributes);
  if (el._x_virtualDirectives) {
    let vAttributes = Object.entries(el._x_virtualDirectives).map(([name, value]) => ({name, value}));
    let staticAttributes = attributesOnly(vAttributes);
    vAttributes = vAttributes.map((attribute) => {
      if (staticAttributes.find((attr) => attr.name === attribute.name)) {
        return {
          name: `x-bind:${attribute.name}`,
          value: `"${attribute.value}"`
        };
      }
      return attribute;
    });
    attributes = attributes.concat(vAttributes);
  }
  let transformedAttributeMap = {};
  let directives2 = attributes.map(toTransformedAttributes((newName, oldName) => transformedAttributeMap[newName] = oldName)).filter(outNonAlpineAttributes).map(toParsedDirectives(transformedAttributeMap, originalAttributeOverride)).sort(byPriority);
  return directives2.map((directive2) => {
    return getDirectiveHandler(el, directive2);
  });
}
function attributesOnly(attributes) {
  return Array.from(attributes).map(toTransformedAttributes()).filter((attr) => !outNonAlpineAttributes(attr));
}
var isDeferringHandlers = false;
var directiveHandlerStacks = new Map();
var currentHandlerStackKey = Symbol();
function deferHandlingDirectives(callback) {
  isDeferringHandlers = true;
  let key = Symbol();
  currentHandlerStackKey = key;
  directiveHandlerStacks.set(key, []);
  let flushHandlers = () => {
    while (directiveHandlerStacks.get(key).length)
      directiveHandlerStacks.get(key).shift()();
    directiveHandlerStacks.delete(key);
  };
  let stopDeferring = () => {
    isDeferringHandlers = false;
    flushHandlers();
  };
  callback(flushHandlers);
  stopDeferring();
}
function getElementBoundUtilities(el) {
  let cleanups = [];
  let cleanup2 = (callback) => cleanups.push(callback);
  let [effect3, cleanupEffect] = elementBoundEffect(el);
  cleanups.push(cleanupEffect);
  let utilities = {
    Alpine: alpine_default,
    effect: effect3,
    cleanup: cleanup2,
    evaluateLater: evaluateLater.bind(evaluateLater, el),
    evaluate: evaluate.bind(evaluate, el)
  };
  let doCleanup = () => cleanups.forEach((i) => i());
  return [utilities, doCleanup];
}
function getDirectiveHandler(el, directive2) {
  let noop = () => {
  };
  let handler3 = directiveHandlers[directive2.type] || noop;
  let [utilities, cleanup2] = getElementBoundUtilities(el);
  onAttributeRemoved(el, directive2.original, cleanup2);
  let fullHandler = () => {
    if (el._x_ignore || el._x_ignoreSelf)
      return;
    handler3.inline && handler3.inline(el, directive2, utilities);
    handler3 = handler3.bind(handler3, el, directive2, utilities);
    isDeferringHandlers ? directiveHandlerStacks.get(currentHandlerStackKey).push(handler3) : handler3();
  };
  fullHandler.runCleanups = cleanup2;
  return fullHandler;
}
var startingWith = (subject, replacement) => ({name, value}) => {
  if (name.startsWith(subject))
    name = name.replace(subject, replacement);
  return {name, value};
};
var into = (i) => i;
function toTransformedAttributes(callback = () => {
}) {
  return ({name, value}) => {
    let {name: newName, value: newValue} = attributeTransformers.reduce((carry, transform) => {
      return transform(carry);
    }, {name, value});
    if (newName !== name)
      callback(newName, name);
    return {name: newName, value: newValue};
  };
}
var attributeTransformers = [];
function mapAttributes(callback) {
  attributeTransformers.push(callback);
}
function outNonAlpineAttributes({name}) {
  return alpineAttributeRegex().test(name);
}
var alpineAttributeRegex = () => new RegExp(`^${prefixAsString}([^:^.]+)\\b`);
function toParsedDirectives(transformedAttributeMap, originalAttributeOverride) {
  return ({name, value}) => {
    let typeMatch = name.match(alpineAttributeRegex());
    let valueMatch = name.match(/:([a-zA-Z0-9\-:]+)/);
    let modifiers = name.match(/\.[^.\]]+(?=[^\]]*$)/g) || [];
    let original = originalAttributeOverride || transformedAttributeMap[name] || name;
    return {
      type: typeMatch ? typeMatch[1] : null,
      value: valueMatch ? valueMatch[1] : null,
      modifiers: modifiers.map((i) => i.replace(".", "")),
      expression: value,
      original
    };
  };
}
var DEFAULT = "DEFAULT";
var directiveOrder = [
  "ignore",
  "ref",
  "data",
  "id",
  "bind",
  "init",
  "for",
  "model",
  "modelable",
  "transition",
  "show",
  "if",
  DEFAULT,
  "teleport"
];
function byPriority(a, b) {
  let typeA = directiveOrder.indexOf(a.type) === -1 ? DEFAULT : a.type;
  let typeB = directiveOrder.indexOf(b.type) === -1 ? DEFAULT : b.type;
  return directiveOrder.indexOf(typeA) - directiveOrder.indexOf(typeB);
}

// packages/alpinejs/src/utils/dispatch.js
function dispatch(el, name, detail = {}) {
  el.dispatchEvent(new CustomEvent(name, {
    detail,
    bubbles: true,
    composed: true,
    cancelable: true
  }));
}

// packages/alpinejs/src/utils/walk.js
function walk(el, callback) {
  if (typeof ShadowRoot === "function" && el instanceof ShadowRoot) {
    Array.from(el.children).forEach((el2) => walk(el2, callback));
    return;
  }
  let skip = false;
  callback(el, () => skip = true);
  if (skip)
    return;
  let node = el.firstElementChild;
  while (node) {
    walk(node, callback, false);
    node = node.nextElementSibling;
  }
}

// packages/alpinejs/src/utils/warn.js
function warn(message, ...args) {
  console.warn(`Alpine Warning: ${message}`, ...args);
}

// packages/alpinejs/src/lifecycle.js
var started = false;
function start() {
  if (started)
    warn("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems.");
  started = true;
  if (!document.body)
    warn("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?");
  dispatch(document, "alpine:init");
  dispatch(document, "alpine:initializing");
  startObservingMutations();
  onElAdded((el) => initTree(el, walk));
  onElRemoved((el) => destroyTree(el));
  onAttributesAdded((el, attrs) => {
    directives(el, attrs).forEach((handle) => handle());
  });
  let outNestedComponents = (el) => !closestRoot(el.parentElement, true);
  Array.from(document.querySelectorAll(allSelectors())).filter(outNestedComponents).forEach((el) => {
    initTree(el);
  });
  dispatch(document, "alpine:initialized");
}
var rootSelectorCallbacks = [];
var initSelectorCallbacks = [];
function rootSelectors() {
  return rootSelectorCallbacks.map((fn) => fn());
}
function allSelectors() {
  return rootSelectorCallbacks.concat(initSelectorCallbacks).map((fn) => fn());
}
function addRootSelector(selectorCallback) {
  rootSelectorCallbacks.push(selectorCallback);
}
function addInitSelector(selectorCallback) {
  initSelectorCallbacks.push(selectorCallback);
}
function closestRoot(el, includeInitSelectors = false) {
  return findClosest(el, (element) => {
    const selectors = includeInitSelectors ? allSelectors() : rootSelectors();
    if (selectors.some((selector) => element.matches(selector)))
      return true;
  });
}
function findClosest(el, callback) {
  if (!el)
    return;
  if (callback(el))
    return el;
  if (el._x_teleportBack)
    el = el._x_teleportBack;
  if (!el.parentElement)
    return;
  return findClosest(el.parentElement, callback);
}
function isRoot(el) {
  return rootSelectors().some((selector) => el.matches(selector));
}
var initInterceptors2 = [];
function interceptInit(callback) {
  initInterceptors2.push(callback);
}
function initTree(el, walker = walk, intercept = () => {
}) {
  deferHandlingDirectives(() => {
    walker(el, (el2, skip) => {
      intercept(el2, skip);
      initInterceptors2.forEach((i) => i(el2, skip));
      directives(el2, el2.attributes).forEach((handle) => handle());
      el2._x_ignore && skip();
    });
  });
}
function destroyTree(root) {
  walk(root, (el) => cleanupAttributes(el));
}

// packages/alpinejs/src/nextTick.js
var tickStack = [];
var isHolding = false;
function nextTick(callback = () => {
}) {
  queueMicrotask(() => {
    isHolding || setTimeout(() => {
      releaseNextTicks();
    });
  });
  return new Promise((res) => {
    tickStack.push(() => {
      callback();
      res();
    });
  });
}
function releaseNextTicks() {
  isHolding = false;
  while (tickStack.length)
    tickStack.shift()();
}
function holdNextTicks() {
  isHolding = true;
}

// packages/alpinejs/src/utils/classes.js
function setClasses(el, value) {
  if (Array.isArray(value)) {
    return setClassesFromString(el, value.join(" "));
  } else if (typeof value === "object" && value !== null) {
    return setClassesFromObject(el, value);
  } else if (typeof value === "function") {
    return setClasses(el, value());
  }
  return setClassesFromString(el, value);
}
function setClassesFromString(el, classString) {
  let split = (classString2) => classString2.split(" ").filter(Boolean);
  let missingClasses = (classString2) => classString2.split(" ").filter((i) => !el.classList.contains(i)).filter(Boolean);
  let addClassesAndReturnUndo = (classes) => {
    el.classList.add(...classes);
    return () => {
      el.classList.remove(...classes);
    };
  };
  classString = classString === true ? classString = "" : classString || "";
  return addClassesAndReturnUndo(missingClasses(classString));
}
function setClassesFromObject(el, classObject) {
  let split = (classString) => classString.split(" ").filter(Boolean);
  let forAdd = Object.entries(classObject).flatMap(([classString, bool]) => bool ? split(classString) : false).filter(Boolean);
  let forRemove = Object.entries(classObject).flatMap(([classString, bool]) => !bool ? split(classString) : false).filter(Boolean);
  let added = [];
  let removed = [];
  forRemove.forEach((i) => {
    if (el.classList.contains(i)) {
      el.classList.remove(i);
      removed.push(i);
    }
  });
  forAdd.forEach((i) => {
    if (!el.classList.contains(i)) {
      el.classList.add(i);
      added.push(i);
    }
  });
  return () => {
    removed.forEach((i) => el.classList.add(i));
    added.forEach((i) => el.classList.remove(i));
  };
}

// packages/alpinejs/src/utils/styles.js
function setStyles(el, value) {
  if (typeof value === "object" && value !== null) {
    return setStylesFromObject(el, value);
  }
  return setStylesFromString(el, value);
}
function setStylesFromObject(el, value) {
  let previousStyles = {};
  Object.entries(value).forEach(([key, value2]) => {
    previousStyles[key] = el.style[key];
    if (!key.startsWith("--")) {
      key = kebabCase(key);
    }
    el.style.setProperty(key, value2);
  });
  setTimeout(() => {
    if (el.style.length === 0) {
      el.removeAttribute("style");
    }
  });
  return () => {
    setStyles(el, previousStyles);
  };
}
function setStylesFromString(el, value) {
  let cache = el.getAttribute("style", value);
  el.setAttribute("style", value);
  return () => {
    el.setAttribute("style", cache || "");
  };
}
function kebabCase(subject) {
  return subject.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase();
}

// packages/alpinejs/src/utils/once.js
function once(callback, fallback = () => {
}) {
  let called = false;
  return function() {
    if (!called) {
      called = true;
      callback.apply(this, arguments);
    } else {
      fallback.apply(this, arguments);
    }
  };
}

// packages/alpinejs/src/directives/x-transition.js
directive("transition", (el, {value, modifiers, expression}, {evaluate: evaluate2}) => {
  if (typeof expression === "function")
    expression = evaluate2(expression);
  if (expression === false)
    return;
  if (!expression || typeof expression === "boolean") {
    registerTransitionsFromHelper(el, modifiers, value);
  } else {
    registerTransitionsFromClassString(el, expression, value);
  }
});
function registerTransitionsFromClassString(el, classString, stage) {
  registerTransitionObject(el, setClasses, "");
  let directiveStorageMap = {
    enter: (classes) => {
      el._x_transition.enter.during = classes;
    },
    "enter-start": (classes) => {
      el._x_transition.enter.start = classes;
    },
    "enter-end": (classes) => {
      el._x_transition.enter.end = classes;
    },
    leave: (classes) => {
      el._x_transition.leave.during = classes;
    },
    "leave-start": (classes) => {
      el._x_transition.leave.start = classes;
    },
    "leave-end": (classes) => {
      el._x_transition.leave.end = classes;
    }
  };
  directiveStorageMap[stage](classString);
}
function registerTransitionsFromHelper(el, modifiers, stage) {
  registerTransitionObject(el, setStyles);
  let doesntSpecify = !modifiers.includes("in") && !modifiers.includes("out") && !stage;
  let transitioningIn = doesntSpecify || modifiers.includes("in") || ["enter"].includes(stage);
  let transitioningOut = doesntSpecify || modifiers.includes("out") || ["leave"].includes(stage);
  if (modifiers.includes("in") && !doesntSpecify) {
    modifiers = modifiers.filter((i, index) => index < modifiers.indexOf("out"));
  }
  if (modifiers.includes("out") && !doesntSpecify) {
    modifiers = modifiers.filter((i, index) => index > modifiers.indexOf("out"));
  }
  let wantsAll = !modifiers.includes("opacity") && !modifiers.includes("scale");
  let wantsOpacity = wantsAll || modifiers.includes("opacity");
  let wantsScale = wantsAll || modifiers.includes("scale");
  let opacityValue = wantsOpacity ? 0 : 1;
  let scaleValue = wantsScale ? modifierValue(modifiers, "scale", 95) / 100 : 1;
  let delay = modifierValue(modifiers, "delay", 0) / 1e3;
  let origin = modifierValue(modifiers, "origin", "center");
  let property = "opacity, transform";
  let durationIn = modifierValue(modifiers, "duration", 150) / 1e3;
  let durationOut = modifierValue(modifiers, "duration", 75) / 1e3;
  let easing = `cubic-bezier(0.4, 0.0, 0.2, 1)`;
  if (transitioningIn) {
    el._x_transition.enter.during = {
      transformOrigin: origin,
      transitionDelay: `${delay}s`,
      transitionProperty: property,
      transitionDuration: `${durationIn}s`,
      transitionTimingFunction: easing
    };
    el._x_transition.enter.start = {
      opacity: opacityValue,
      transform: `scale(${scaleValue})`
    };
    el._x_transition.enter.end = {
      opacity: 1,
      transform: `scale(1)`
    };
  }
  if (transitioningOut) {
    el._x_transition.leave.during = {
      transformOrigin: origin,
      transitionDelay: `${delay}s`,
      transitionProperty: property,
      transitionDuration: `${durationOut}s`,
      transitionTimingFunction: easing
    };
    el._x_transition.leave.start = {
      opacity: 1,
      transform: `scale(1)`
    };
    el._x_transition.leave.end = {
      opacity: opacityValue,
      transform: `scale(${scaleValue})`
    };
  }
}
function registerTransitionObject(el, setFunction, defaultValue = {}) {
  if (!el._x_transition)
    el._x_transition = {
      enter: {during: defaultValue, start: defaultValue, end: defaultValue},
      leave: {during: defaultValue, start: defaultValue, end: defaultValue},
      in(before = () => {
      }, after = () => {
      }) {
        transition(el, setFunction, {
          during: this.enter.during,
          start: this.enter.start,
          end: this.enter.end
        }, before, after);
      },
      out(before = () => {
      }, after = () => {
      }) {
        transition(el, setFunction, {
          during: this.leave.during,
          start: this.leave.start,
          end: this.leave.end
        }, before, after);
      }
    };
}
window.Element.prototype._x_toggleAndCascadeWithTransitions = function(el, value, show, hide) {
  const nextTick2 = document.visibilityState === "visible" ? requestAnimationFrame : setTimeout;
  let clickAwayCompatibleShow = () => nextTick2(show);
  if (value) {
    if (el._x_transition && (el._x_transition.enter || el._x_transition.leave)) {
      el._x_transition.enter && (Object.entries(el._x_transition.enter.during).length || Object.entries(el._x_transition.enter.start).length || Object.entries(el._x_transition.enter.end).length) ? el._x_transition.in(show) : clickAwayCompatibleShow();
    } else {
      el._x_transition ? el._x_transition.in(show) : clickAwayCompatibleShow();
    }
    return;
  }
  el._x_hidePromise = el._x_transition ? new Promise((resolve, reject) => {
    el._x_transition.out(() => {
    }, () => resolve(hide));
    el._x_transitioning.beforeCancel(() => reject({isFromCancelledTransition: true}));
  }) : Promise.resolve(hide);
  queueMicrotask(() => {
    let closest = closestHide(el);
    if (closest) {
      if (!closest._x_hideChildren)
        closest._x_hideChildren = [];
      closest._x_hideChildren.push(el);
    } else {
      nextTick2(() => {
        let hideAfterChildren = (el2) => {
          let carry = Promise.all([
            el2._x_hidePromise,
            ...(el2._x_hideChildren || []).map(hideAfterChildren)
          ]).then(([i]) => i());
          delete el2._x_hidePromise;
          delete el2._x_hideChildren;
          return carry;
        };
        hideAfterChildren(el).catch((e) => {
          if (!e.isFromCancelledTransition)
            throw e;
        });
      });
    }
  });
};
function closestHide(el) {
  let parent = el.parentNode;
  if (!parent)
    return;
  return parent._x_hidePromise ? parent : closestHide(parent);
}
function transition(el, setFunction, {during, start: start2, end} = {}, before = () => {
}, after = () => {
}) {
  if (el._x_transitioning)
    el._x_transitioning.cancel();
  if (Object.keys(during).length === 0 && Object.keys(start2).length === 0 && Object.keys(end).length === 0) {
    before();
    after();
    return;
  }
  let undoStart, undoDuring, undoEnd;
  performTransition(el, {
    start() {
      undoStart = setFunction(el, start2);
    },
    during() {
      undoDuring = setFunction(el, during);
    },
    before,
    end() {
      undoStart();
      undoEnd = setFunction(el, end);
    },
    after,
    cleanup() {
      undoDuring();
      undoEnd();
    }
  });
}
function performTransition(el, stages) {
  let interrupted, reachedBefore, reachedEnd;
  let finish = once(() => {
    mutateDom(() => {
      interrupted = true;
      if (!reachedBefore)
        stages.before();
      if (!reachedEnd) {
        stages.end();
        releaseNextTicks();
      }
      stages.after();
      if (el.isConnected)
        stages.cleanup();
      delete el._x_transitioning;
    });
  });
  el._x_transitioning = {
    beforeCancels: [],
    beforeCancel(callback) {
      this.beforeCancels.push(callback);
    },
    cancel: once(function() {
      while (this.beforeCancels.length) {
        this.beforeCancels.shift()();
      }
      ;
      finish();
    }),
    finish
  };
  mutateDom(() => {
    stages.start();
    stages.during();
  });
  holdNextTicks();
  requestAnimationFrame(() => {
    if (interrupted)
      return;
    let duration = Number(getComputedStyle(el).transitionDuration.replace(/,.*/, "").replace("s", "")) * 1e3;
    let delay = Number(getComputedStyle(el).transitionDelay.replace(/,.*/, "").replace("s", "")) * 1e3;
    if (duration === 0)
      duration = Number(getComputedStyle(el).animationDuration.replace("s", "")) * 1e3;
    mutateDom(() => {
      stages.before();
    });
    reachedBefore = true;
    requestAnimationFrame(() => {
      if (interrupted)
        return;
      mutateDom(() => {
        stages.end();
      });
      releaseNextTicks();
      setTimeout(el._x_transitioning.finish, duration + delay);
      reachedEnd = true;
    });
  });
}
function modifierValue(modifiers, key, fallback) {
  if (modifiers.indexOf(key) === -1)
    return fallback;
  const rawValue = modifiers[modifiers.indexOf(key) + 1];
  if (!rawValue)
    return fallback;
  if (key === "scale") {
    if (isNaN(rawValue))
      return fallback;
  }
  if (key === "duration" || key === "delay") {
    let match = rawValue.match(/([0-9]+)ms/);
    if (match)
      return match[1];
  }
  if (key === "origin") {
    if (["top", "right", "left", "center", "bottom"].includes(modifiers[modifiers.indexOf(key) + 2])) {
      return [rawValue, modifiers[modifiers.indexOf(key) + 2]].join(" ");
    }
  }
  return rawValue;
}

// packages/alpinejs/src/clone.js
var isCloning = false;
function skipDuringClone(callback, fallback = () => {
}) {
  return (...args) => isCloning ? fallback(...args) : callback(...args);
}
function onlyDuringClone(callback) {
  return (...args) => isCloning && callback(...args);
}
function clone(oldEl, newEl) {
  if (!newEl._x_dataStack)
    newEl._x_dataStack = oldEl._x_dataStack;
  isCloning = true;
  dontRegisterReactiveSideEffects(() => {
    cloneTree(newEl);
  });
  isCloning = false;
}
function cloneTree(el) {
  let hasRunThroughFirstEl = false;
  let shallowWalker = (el2, callback) => {
    walk(el2, (el3, skip) => {
      if (hasRunThroughFirstEl && isRoot(el3))
        return skip();
      hasRunThroughFirstEl = true;
      callback(el3, skip);
    });
  };
  initTree(el, shallowWalker);
}
function dontRegisterReactiveSideEffects(callback) {
  let cache = effect;
  overrideEffect((callback2, el) => {
    let storedEffect = cache(callback2);
    release(storedEffect);
    return () => {
    };
  });
  callback();
  overrideEffect(cache);
}

// packages/alpinejs/src/utils/bind.js
function bind(el, name, value, modifiers = []) {
  if (!el._x_bindings)
    el._x_bindings = reactive({});
  el._x_bindings[name] = value;
  name = modifiers.includes("camel") ? camelCase(name) : name;
  switch (name) {
    case "value":
      bindInputValue(el, value);
      break;
    case "style":
      bindStyles(el, value);
      break;
    case "class":
      bindClasses(el, value);
      break;
    case "selected":
    case "checked":
      bindAttributeAndProperty(el, name, value);
      break;
    default:
      bindAttribute(el, name, value);
      break;
  }
}
function bindInputValue(el, value) {
  if (el.type === "radio") {
    if (el.attributes.value === void 0) {
      el.value = value;
    }
    if (window.fromModel) {
      el.checked = checkedAttrLooseCompare(el.value, value);
    }
  } else if (el.type === "checkbox") {
    if (Number.isInteger(value)) {
      el.value = value;
    } else if (!Number.isInteger(value) && !Array.isArray(value) && typeof value !== "boolean" && ![null, void 0].includes(value)) {
      el.value = String(value);
    } else {
      if (Array.isArray(value)) {
        el.checked = value.some((val) => checkedAttrLooseCompare(val, el.value));
      } else {
        el.checked = !!value;
      }
    }
  } else if (el.tagName === "SELECT") {
    updateSelect(el, value);
  } else {
    if (el.value === value)
      return;
    el.value = value;
  }
}
function bindClasses(el, value) {
  if (el._x_undoAddedClasses)
    el._x_undoAddedClasses();
  el._x_undoAddedClasses = setClasses(el, value);
}
function bindStyles(el, value) {
  if (el._x_undoAddedStyles)
    el._x_undoAddedStyles();
  el._x_undoAddedStyles = setStyles(el, value);
}
function bindAttributeAndProperty(el, name, value) {
  bindAttribute(el, name, value);
  setPropertyIfChanged(el, name, value);
}
function bindAttribute(el, name, value) {
  if ([null, void 0, false].includes(value) && attributeShouldntBePreservedIfFalsy(name)) {
    el.removeAttribute(name);
  } else {
    if (isBooleanAttr(name))
      value = name;
    setIfChanged(el, name, value);
  }
}
function setIfChanged(el, attrName, value) {
  if (el.getAttribute(attrName) != value) {
    el.setAttribute(attrName, value);
  }
}
function setPropertyIfChanged(el, propName, value) {
  if (el[propName] !== value) {
    el[propName] = value;
  }
}
function updateSelect(el, value) {
  const arrayWrappedValue = [].concat(value).map((value2) => {
    return value2 + "";
  });
  Array.from(el.options).forEach((option) => {
    option.selected = arrayWrappedValue.includes(option.value);
  });
}
function camelCase(subject) {
  return subject.toLowerCase().replace(/-(\w)/g, (match, char) => char.toUpperCase());
}
function checkedAttrLooseCompare(valueA, valueB) {
  return valueA == valueB;
}
function isBooleanAttr(attrName) {
  const booleanAttributes = [
    "disabled",
    "checked",
    "required",
    "readonly",
    "hidden",
    "open",
    "selected",
    "autofocus",
    "itemscope",
    "multiple",
    "novalidate",
    "allowfullscreen",
    "allowpaymentrequest",
    "formnovalidate",
    "autoplay",
    "controls",
    "loop",
    "muted",
    "playsinline",
    "default",
    "ismap",
    "reversed",
    "async",
    "defer",
    "nomodule"
  ];
  return booleanAttributes.includes(attrName);
}
function attributeShouldntBePreservedIfFalsy(name) {
  return !["aria-pressed", "aria-checked", "aria-expanded", "aria-selected"].includes(name);
}
function getBinding(el, name, fallback) {
  if (el._x_bindings && el._x_bindings[name] !== void 0)
    return el._x_bindings[name];
  let attr = el.getAttribute(name);
  if (attr === null)
    return typeof fallback === "function" ? fallback() : fallback;
  if (attr === "")
    return true;
  if (isBooleanAttr(name)) {
    return !![name, "true"].includes(attr);
  }
  return attr;
}

// packages/alpinejs/src/utils/debounce.js
function debounce(func, wait) {
  var timeout;
  return function() {
    var context = this, args = arguments;
    var later = function() {
      timeout = null;
      func.apply(context, args);
    };
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
  };
}

// packages/alpinejs/src/utils/throttle.js
function throttle(func, limit) {
  let inThrottle;
  return function() {
    let context = this, args = arguments;
    if (!inThrottle) {
      func.apply(context, args);
      inThrottle = true;
      setTimeout(() => inThrottle = false, limit);
    }
  };
}

// packages/alpinejs/src/plugin.js
function plugin(callback) {
  let callbacks = Array.isArray(callback) ? callback : [callback];
  callbacks.forEach((i) => i(alpine_default));
}

// packages/alpinejs/src/store.js
var stores = {};
var isReactive = false;
function store(name, value) {
  if (!isReactive) {
    stores = reactive(stores);
    isReactive = true;
  }
  if (value === void 0) {
    return stores[name];
  }
  stores[name] = value;
  if (typeof value === "object" && value !== null && value.hasOwnProperty("init") && typeof value.init === "function") {
    stores[name].init();
  }
  initInterceptors(stores[name]);
}
function getStores() {
  return stores;
}

// packages/alpinejs/src/binds.js
var binds = {};
function bind2(name, bindings) {
  let getBindings = typeof bindings !== "function" ? () => bindings : bindings;
  if (name instanceof Element) {
    applyBindingsObject(name, getBindings());
  } else {
    binds[name] = getBindings;
  }
}
function injectBindingProviders(obj) {
  Object.entries(binds).forEach(([name, callback]) => {
    Object.defineProperty(obj, name, {
      get() {
        return (...args) => {
          return callback(...args);
        };
      }
    });
  });
  return obj;
}
function applyBindingsObject(el, obj, original) {
  let cleanupRunners = [];
  while (cleanupRunners.length)
    cleanupRunners.pop()();
  let attributes = Object.entries(obj).map(([name, value]) => ({name, value}));
  let staticAttributes = attributesOnly(attributes);
  attributes = attributes.map((attribute) => {
    if (staticAttributes.find((attr) => attr.name === attribute.name)) {
      return {
        name: `x-bind:${attribute.name}`,
        value: `"${attribute.value}"`
      };
    }
    return attribute;
  });
  directives(el, attributes, original).map((handle) => {
    cleanupRunners.push(handle.runCleanups);
    handle();
  });
}

// packages/alpinejs/src/datas.js
var datas = {};
function data(name, callback) {
  datas[name] = callback;
}
function injectDataProviders(obj, context) {
  Object.entries(datas).forEach(([name, callback]) => {
    Object.defineProperty(obj, name, {
      get() {
        return (...args) => {
          return callback.bind(context)(...args);
        };
      },
      enumerable: false
    });
  });
  return obj;
}

// packages/alpinejs/src/alpine.js
var Alpine = {
  get reactive() {
    return reactive;
  },
  get release() {
    return release;
  },
  get effect() {
    return effect;
  },
  get raw() {
    return raw;
  },
  version: "3.12.2",
  flushAndStopDeferringMutations,
  dontAutoEvaluateFunctions,
  disableEffectScheduling,
  startObservingMutations,
  stopObservingMutations,
  setReactivityEngine,
  closestDataStack,
  skipDuringClone,
  onlyDuringClone,
  addRootSelector,
  addInitSelector,
  addScopeToNode,
  deferMutations,
  mapAttributes,
  evaluateLater,
  interceptInit,
  setEvaluator,
  mergeProxies,
  findClosest,
  closestRoot,
  destroyTree,
  interceptor,
  transition,
  setStyles,
  mutateDom,
  directive,
  throttle,
  debounce,
  evaluate,
  initTree,
  nextTick,
  prefixed: prefix,
  prefix: setPrefix,
  plugin,
  magic,
  store,
  start,
  clone,
  bound: getBinding,
  $data: scope,
  walk,
  data,
  bind: bind2
};
var alpine_default = Alpine;

// node_modules/@vue/shared/dist/shared.esm-bundler.js
function makeMap(str, expectsLowerCase) {
  const map = Object.create(null);
  const list = str.split(",");
  for (let i = 0; i < list.length; i++) {
    map[list[i]] = true;
  }
  return expectsLowerCase ? (val) => !!map[val.toLowerCase()] : (val) => !!map[val];
}
var PatchFlagNames = {
  [1]: `TEXT`,
  [2]: `CLASS`,
  [4]: `STYLE`,
  [8]: `PROPS`,
  [16]: `FULL_PROPS`,
  [32]: `HYDRATE_EVENTS`,
  [64]: `STABLE_FRAGMENT`,
  [128]: `KEYED_FRAGMENT`,
  [256]: `UNKEYED_FRAGMENT`,
  [512]: `NEED_PATCH`,
  [1024]: `DYNAMIC_SLOTS`,
  [2048]: `DEV_ROOT_FRAGMENT`,
  [-1]: `HOISTED`,
  [-2]: `BAIL`
};
var slotFlagsText = {
  [1]: "STABLE",
  [2]: "DYNAMIC",
  [3]: "FORWARDED"
};
var specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;
var isBooleanAttr2 = /* @__PURE__ */ makeMap(specialBooleanAttrs + `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected`);
var EMPTY_OBJ =  true ? Object.freeze({}) : 0;
var EMPTY_ARR =  true ? Object.freeze([]) : 0;
var extend = Object.assign;
var hasOwnProperty = Object.prototype.hasOwnProperty;
var hasOwn = (val, key) => hasOwnProperty.call(val, key);
var isArray = Array.isArray;
var isMap = (val) => toTypeString(val) === "[object Map]";
var isString = (val) => typeof val === "string";
var isSymbol = (val) => typeof val === "symbol";
var isObject = (val) => val !== null && typeof val === "object";
var objectToString = Object.prototype.toString;
var toTypeString = (value) => objectToString.call(value);
var toRawType = (value) => {
  return toTypeString(value).slice(8, -1);
};
var isIntegerKey = (key) => isString(key) && key !== "NaN" && key[0] !== "-" && "" + parseInt(key, 10) === key;
var cacheStringFunction = (fn) => {
  const cache = Object.create(null);
  return (str) => {
    const hit = cache[str];
    return hit || (cache[str] = fn(str));
  };
};
var camelizeRE = /-(\w)/g;
var camelize = cacheStringFunction((str) => {
  return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : "");
});
var hyphenateRE = /\B([A-Z])/g;
var hyphenate = cacheStringFunction((str) => str.replace(hyphenateRE, "-$1").toLowerCase());
var capitalize = cacheStringFunction((str) => str.charAt(0).toUpperCase() + str.slice(1));
var toHandlerKey = cacheStringFunction((str) => str ? `on${capitalize(str)}` : ``);
var hasChanged = (value, oldValue) => value !== oldValue && (value === value || oldValue === oldValue);

// node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js
var targetMap = new WeakMap();
var effectStack = [];
var activeEffect;
var ITERATE_KEY = Symbol( true ? "iterate" : 0);
var MAP_KEY_ITERATE_KEY = Symbol( true ? "Map key iterate" : 0);
function isEffect(fn) {
  return fn && fn._isEffect === true;
}
function effect2(fn, options = EMPTY_OBJ) {
  if (isEffect(fn)) {
    fn = fn.raw;
  }
  const effect3 = createReactiveEffect(fn, options);
  if (!options.lazy) {
    effect3();
  }
  return effect3;
}
function stop(effect3) {
  if (effect3.active) {
    cleanup(effect3);
    if (effect3.options.onStop) {
      effect3.options.onStop();
    }
    effect3.active = false;
  }
}
var uid = 0;
function createReactiveEffect(fn, options) {
  const effect3 = function reactiveEffect() {
    if (!effect3.active) {
      return fn();
    }
    if (!effectStack.includes(effect3)) {
      cleanup(effect3);
      try {
        enableTracking();
        effectStack.push(effect3);
        activeEffect = effect3;
        return fn();
      } finally {
        effectStack.pop();
        resetTracking();
        activeEffect = effectStack[effectStack.length - 1];
      }
    }
  };
  effect3.id = uid++;
  effect3.allowRecurse = !!options.allowRecurse;
  effect3._isEffect = true;
  effect3.active = true;
  effect3.raw = fn;
  effect3.deps = [];
  effect3.options = options;
  return effect3;
}
function cleanup(effect3) {
  const {deps} = effect3;
  if (deps.length) {
    for (let i = 0; i < deps.length; i++) {
      deps[i].delete(effect3);
    }
    deps.length = 0;
  }
}
var shouldTrack = true;
var trackStack = [];
function pauseTracking() {
  trackStack.push(shouldTrack);
  shouldTrack = false;
}
function enableTracking() {
  trackStack.push(shouldTrack);
  shouldTrack = true;
}
function resetTracking() {
  const last = trackStack.pop();
  shouldTrack = last === void 0 ? true : last;
}
function track(target, type, key) {
  if (!shouldTrack || activeEffect === void 0) {
    return;
  }
  let depsMap = targetMap.get(target);
  if (!depsMap) {
    targetMap.set(target, depsMap = new Map());
  }
  let dep = depsMap.get(key);
  if (!dep) {
    depsMap.set(key, dep = new Set());
  }
  if (!dep.has(activeEffect)) {
    dep.add(activeEffect);
    activeEffect.deps.push(dep);
    if (activeEffect.options.onTrack) {
      activeEffect.options.onTrack({
        effect: activeEffect,
        target,
        type,
        key
      });
    }
  }
}
function trigger(target, type, key, newValue, oldValue, oldTarget) {
  const depsMap = targetMap.get(target);
  if (!depsMap) {
    return;
  }
  const effects = new Set();
  const add2 = (effectsToAdd) => {
    if (effectsToAdd) {
      effectsToAdd.forEach((effect3) => {
        if (effect3 !== activeEffect || effect3.allowRecurse) {
          effects.add(effect3);
        }
      });
    }
  };
  if (type === "clear") {
    depsMap.forEach(add2);
  } else if (key === "length" && isArray(target)) {
    depsMap.forEach((dep, key2) => {
      if (key2 === "length" || key2 >= newValue) {
        add2(dep);
      }
    });
  } else {
    if (key !== void 0) {
      add2(depsMap.get(key));
    }
    switch (type) {
      case "add":
        if (!isArray(target)) {
          add2(depsMap.get(ITERATE_KEY));
          if (isMap(target)) {
            add2(depsMap.get(MAP_KEY_ITERATE_KEY));
          }
        } else if (isIntegerKey(key)) {
          add2(depsMap.get("length"));
        }
        break;
      case "delete":
        if (!isArray(target)) {
          add2(depsMap.get(ITERATE_KEY));
          if (isMap(target)) {
            add2(depsMap.get(MAP_KEY_ITERATE_KEY));
          }
        }
        break;
      case "set":
        if (isMap(target)) {
          add2(depsMap.get(ITERATE_KEY));
        }
        break;
    }
  }
  const run = (effect3) => {
    if (effect3.options.onTrigger) {
      effect3.options.onTrigger({
        effect: effect3,
        target,
        key,
        type,
        newValue,
        oldValue,
        oldTarget
      });
    }
    if (effect3.options.scheduler) {
      effect3.options.scheduler(effect3);
    } else {
      effect3();
    }
  };
  effects.forEach(run);
}
var isNonTrackableKeys = /* @__PURE__ */ makeMap(`__proto__,__v_isRef,__isVue`);
var builtInSymbols = new Set(Object.getOwnPropertyNames(Symbol).map((key) => Symbol[key]).filter(isSymbol));
var get2 = /* @__PURE__ */ createGetter();
var shallowGet = /* @__PURE__ */ createGetter(false, true);
var readonlyGet = /* @__PURE__ */ createGetter(true);
var shallowReadonlyGet = /* @__PURE__ */ createGetter(true, true);
var arrayInstrumentations = {};
["includes", "indexOf", "lastIndexOf"].forEach((key) => {
  const method = Array.prototype[key];
  arrayInstrumentations[key] = function(...args) {
    const arr = toRaw(this);
    for (let i = 0, l = this.length; i < l; i++) {
      track(arr, "get", i + "");
    }
    const res = method.apply(arr, args);
    if (res === -1 || res === false) {
      return method.apply(arr, args.map(toRaw));
    } else {
      return res;
    }
  };
});
["push", "pop", "shift", "unshift", "splice"].forEach((key) => {
  const method = Array.prototype[key];
  arrayInstrumentations[key] = function(...args) {
    pauseTracking();
    const res = method.apply(this, args);
    resetTracking();
    return res;
  };
});
function createGetter(isReadonly = false, shallow = false) {
  return function get3(target, key, receiver) {
    if (key === "__v_isReactive") {
      return !isReadonly;
    } else if (key === "__v_isReadonly") {
      return isReadonly;
    } else if (key === "__v_raw" && receiver === (isReadonly ? shallow ? shallowReadonlyMap : readonlyMap : shallow ? shallowReactiveMap : reactiveMap).get(target)) {
      return target;
    }
    const targetIsArray = isArray(target);
    if (!isReadonly && targetIsArray && hasOwn(arrayInstrumentations, key)) {
      return Reflect.get(arrayInstrumentations, key, receiver);
    }
    const res = Reflect.get(target, key, receiver);
    if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {
      return res;
    }
    if (!isReadonly) {
      track(target, "get", key);
    }
    if (shallow) {
      return res;
    }
    if (isRef(res)) {
      const shouldUnwrap = !targetIsArray || !isIntegerKey(key);
      return shouldUnwrap ? res.value : res;
    }
    if (isObject(res)) {
      return isReadonly ? readonly(res) : reactive2(res);
    }
    return res;
  };
}
var set2 = /* @__PURE__ */ createSetter();
var shallowSet = /* @__PURE__ */ createSetter(true);
function createSetter(shallow = false) {
  return function set3(target, key, value, receiver) {
    let oldValue = target[key];
    if (!shallow) {
      value = toRaw(value);
      oldValue = toRaw(oldValue);
      if (!isArray(target) && isRef(oldValue) && !isRef(value)) {
        oldValue.value = value;
        return true;
      }
    }
    const hadKey = isArray(target) && isIntegerKey(key) ? Number(key) < target.length : hasOwn(target, key);
    const result = Reflect.set(target, key, value, receiver);
    if (target === toRaw(receiver)) {
      if (!hadKey) {
        trigger(target, "add", key, value);
      } else if (hasChanged(value, oldValue)) {
        trigger(target, "set", key, value, oldValue);
      }
    }
    return result;
  };
}
function deleteProperty(target, key) {
  const hadKey = hasOwn(target, key);
  const oldValue = target[key];
  const result = Reflect.deleteProperty(target, key);
  if (result && hadKey) {
    trigger(target, "delete", key, void 0, oldValue);
  }
  return result;
}
function has(target, key) {
  const result = Reflect.has(target, key);
  if (!isSymbol(key) || !builtInSymbols.has(key)) {
    track(target, "has", key);
  }
  return result;
}
function ownKeys(target) {
  track(target, "iterate", isArray(target) ? "length" : ITERATE_KEY);
  return Reflect.ownKeys(target);
}
var mutableHandlers = {
  get: get2,
  set: set2,
  deleteProperty,
  has,
  ownKeys
};
var readonlyHandlers = {
  get: readonlyGet,
  set(target, key) {
    if (true) {
      console.warn(`Set operation on key "${String(key)}" failed: target is readonly.`, target);
    }
    return true;
  },
  deleteProperty(target, key) {
    if (true) {
      console.warn(`Delete operation on key "${String(key)}" failed: target is readonly.`, target);
    }
    return true;
  }
};
var shallowReactiveHandlers = extend({}, mutableHandlers, {
  get: shallowGet,
  set: shallowSet
});
var shallowReadonlyHandlers = extend({}, readonlyHandlers, {
  get: shallowReadonlyGet
});
var toReactive = (value) => isObject(value) ? reactive2(value) : value;
var toReadonly = (value) => isObject(value) ? readonly(value) : value;
var toShallow = (value) => value;
var getProto = (v) => Reflect.getPrototypeOf(v);
function get$1(target, key, isReadonly = false, isShallow = false) {
  target = target["__v_raw"];
  const rawTarget = toRaw(target);
  const rawKey = toRaw(key);
  if (key !== rawKey) {
    !isReadonly && track(rawTarget, "get", key);
  }
  !isReadonly && track(rawTarget, "get", rawKey);
  const {has: has2} = getProto(rawTarget);
  const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
  if (has2.call(rawTarget, key)) {
    return wrap(target.get(key));
  } else if (has2.call(rawTarget, rawKey)) {
    return wrap(target.get(rawKey));
  } else if (target !== rawTarget) {
    target.get(key);
  }
}
function has$1(key, isReadonly = false) {
  const target = this["__v_raw"];
  const rawTarget = toRaw(target);
  const rawKey = toRaw(key);
  if (key !== rawKey) {
    !isReadonly && track(rawTarget, "has", key);
  }
  !isReadonly && track(rawTarget, "has", rawKey);
  return key === rawKey ? target.has(key) : target.has(key) || target.has(rawKey);
}
function size(target, isReadonly = false) {
  target = target["__v_raw"];
  !isReadonly && track(toRaw(target), "iterate", ITERATE_KEY);
  return Reflect.get(target, "size", target);
}
function add(value) {
  value = toRaw(value);
  const target = toRaw(this);
  const proto = getProto(target);
  const hadKey = proto.has.call(target, value);
  if (!hadKey) {
    target.add(value);
    trigger(target, "add", value, value);
  }
  return this;
}
function set$1(key, value) {
  value = toRaw(value);
  const target = toRaw(this);
  const {has: has2, get: get3} = getProto(target);
  let hadKey = has2.call(target, key);
  if (!hadKey) {
    key = toRaw(key);
    hadKey = has2.call(target, key);
  } else if (true) {
    checkIdentityKeys(target, has2, key);
  }
  const oldValue = get3.call(target, key);
  target.set(key, value);
  if (!hadKey) {
    trigger(target, "add", key, value);
  } else if (hasChanged(value, oldValue)) {
    trigger(target, "set", key, value, oldValue);
  }
  return this;
}
function deleteEntry(key) {
  const target = toRaw(this);
  const {has: has2, get: get3} = getProto(target);
  let hadKey = has2.call(target, key);
  if (!hadKey) {
    key = toRaw(key);
    hadKey = has2.call(target, key);
  } else if (true) {
    checkIdentityKeys(target, has2, key);
  }
  const oldValue = get3 ? get3.call(target, key) : void 0;
  const result = target.delete(key);
  if (hadKey) {
    trigger(target, "delete", key, void 0, oldValue);
  }
  return result;
}
function clear() {
  const target = toRaw(this);
  const hadItems = target.size !== 0;
  const oldTarget =  true ? isMap(target) ? new Map(target) : new Set(target) : 0;
  const result = target.clear();
  if (hadItems) {
    trigger(target, "clear", void 0, void 0, oldTarget);
  }
  return result;
}
function createForEach(isReadonly, isShallow) {
  return function forEach(callback, thisArg) {
    const observed = this;
    const target = observed["__v_raw"];
    const rawTarget = toRaw(target);
    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
    !isReadonly && track(rawTarget, "iterate", ITERATE_KEY);
    return target.forEach((value, key) => {
      return callback.call(thisArg, wrap(value), wrap(key), observed);
    });
  };
}
function createIterableMethod(method, isReadonly, isShallow) {
  return function(...args) {
    const target = this["__v_raw"];
    const rawTarget = toRaw(target);
    const targetIsMap = isMap(rawTarget);
    const isPair = method === "entries" || method === Symbol.iterator && targetIsMap;
    const isKeyOnly = method === "keys" && targetIsMap;
    const innerIterator = target[method](...args);
    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
    !isReadonly && track(rawTarget, "iterate", isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY);
    return {
      next() {
        const {value, done} = innerIterator.next();
        return done ? {value, done} : {
          value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),
          done
        };
      },
      [Symbol.iterator]() {
        return this;
      }
    };
  };
}
function createReadonlyMethod(type) {
  return function(...args) {
    if (true) {
      const key = args[0] ? `on key "${args[0]}" ` : ``;
      console.warn(`${capitalize(type)} operation ${key}failed: target is readonly.`, toRaw(this));
    }
    return type === "delete" ? false : this;
  };
}
var mutableInstrumentations = {
  get(key) {
    return get$1(this, key);
  },
  get size() {
    return size(this);
  },
  has: has$1,
  add,
  set: set$1,
  delete: deleteEntry,
  clear,
  forEach: createForEach(false, false)
};
var shallowInstrumentations = {
  get(key) {
    return get$1(this, key, false, true);
  },
  get size() {
    return size(this);
  },
  has: has$1,
  add,
  set: set$1,
  delete: deleteEntry,
  clear,
  forEach: createForEach(false, true)
};
var readonlyInstrumentations = {
  get(key) {
    return get$1(this, key, true);
  },
  get size() {
    return size(this, true);
  },
  has(key) {
    return has$1.call(this, key, true);
  },
  add: createReadonlyMethod("add"),
  set: createReadonlyMethod("set"),
  delete: createReadonlyMethod("delete"),
  clear: createReadonlyMethod("clear"),
  forEach: createForEach(true, false)
};
var shallowReadonlyInstrumentations = {
  get(key) {
    return get$1(this, key, true, true);
  },
  get size() {
    return size(this, true);
  },
  has(key) {
    return has$1.call(this, key, true);
  },
  add: createReadonlyMethod("add"),
  set: createReadonlyMethod("set"),
  delete: createReadonlyMethod("delete"),
  clear: createReadonlyMethod("clear"),
  forEach: createForEach(true, true)
};
var iteratorMethods = ["keys", "values", "entries", Symbol.iterator];
iteratorMethods.forEach((method) => {
  mutableInstrumentations[method] = createIterableMethod(method, false, false);
  readonlyInstrumentations[method] = createIterableMethod(method, true, false);
  shallowInstrumentations[method] = createIterableMethod(method, false, true);
  shallowReadonlyInstrumentations[method] = createIterableMethod(method, true, true);
});
function createInstrumentationGetter(isReadonly, shallow) {
  const instrumentations = shallow ? isReadonly ? shallowReadonlyInstrumentations : shallowInstrumentations : isReadonly ? readonlyInstrumentations : mutableInstrumentations;
  return (target, key, receiver) => {
    if (key === "__v_isReactive") {
      return !isReadonly;
    } else if (key === "__v_isReadonly") {
      return isReadonly;
    } else if (key === "__v_raw") {
      return target;
    }
    return Reflect.get(hasOwn(instrumentations, key) && key in target ? instrumentations : target, key, receiver);
  };
}
var mutableCollectionHandlers = {
  get: createInstrumentationGetter(false, false)
};
var shallowCollectionHandlers = {
  get: createInstrumentationGetter(false, true)
};
var readonlyCollectionHandlers = {
  get: createInstrumentationGetter(true, false)
};
var shallowReadonlyCollectionHandlers = {
  get: createInstrumentationGetter(true, true)
};
function checkIdentityKeys(target, has2, key) {
  const rawKey = toRaw(key);
  if (rawKey !== key && has2.call(target, rawKey)) {
    const type = toRawType(target);
    console.warn(`Reactive ${type} contains both the raw and reactive versions of the same object${type === `Map` ? ` as keys` : ``}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`);
  }
}
var reactiveMap = new WeakMap();
var shallowReactiveMap = new WeakMap();
var readonlyMap = new WeakMap();
var shallowReadonlyMap = new WeakMap();
function targetTypeMap(rawType) {
  switch (rawType) {
    case "Object":
    case "Array":
      return 1;
    case "Map":
    case "Set":
    case "WeakMap":
    case "WeakSet":
      return 2;
    default:
      return 0;
  }
}
function getTargetType(value) {
  return value["__v_skip"] || !Object.isExtensible(value) ? 0 : targetTypeMap(toRawType(value));
}
function reactive2(target) {
  if (target && target["__v_isReadonly"]) {
    return target;
  }
  return createReactiveObject(target, false, mutableHandlers, mutableCollectionHandlers, reactiveMap);
}
function readonly(target) {
  return createReactiveObject(target, true, readonlyHandlers, readonlyCollectionHandlers, readonlyMap);
}
function createReactiveObject(target, isReadonly, baseHandlers, collectionHandlers, proxyMap) {
  if (!isObject(target)) {
    if (true) {
      console.warn(`value cannot be made reactive: ${String(target)}`);
    }
    return target;
  }
  if (target["__v_raw"] && !(isReadonly && target["__v_isReactive"])) {
    return target;
  }
  const existingProxy = proxyMap.get(target);
  if (existingProxy) {
    return existingProxy;
  }
  const targetType = getTargetType(target);
  if (targetType === 0) {
    return target;
  }
  const proxy = new Proxy(target, targetType === 2 ? collectionHandlers : baseHandlers);
  proxyMap.set(target, proxy);
  return proxy;
}
function toRaw(observed) {
  return observed && toRaw(observed["__v_raw"]) || observed;
}
function isRef(r) {
  return Boolean(r && r.__v_isRef === true);
}

// packages/alpinejs/src/magics/$nextTick.js
magic("nextTick", () => nextTick);

// packages/alpinejs/src/magics/$dispatch.js
magic("dispatch", (el) => dispatch.bind(dispatch, el));

// packages/alpinejs/src/magics/$watch.js
magic("watch", (el, {evaluateLater: evaluateLater2, effect: effect3}) => (key, callback) => {
  let evaluate2 = evaluateLater2(key);
  let firstTime = true;
  let oldValue;
  let effectReference = effect3(() => evaluate2((value) => {
    JSON.stringify(value);
    if (!firstTime) {
      queueMicrotask(() => {
        callback(value, oldValue);
        oldValue = value;
      });
    } else {
      oldValue = value;
    }
    firstTime = false;
  }));
  el._x_effects.delete(effectReference);
});

// packages/alpinejs/src/magics/$store.js
magic("store", getStores);

// packages/alpinejs/src/magics/$data.js
magic("data", (el) => scope(el));

// packages/alpinejs/src/magics/$root.js
magic("root", (el) => closestRoot(el));

// packages/alpinejs/src/magics/$refs.js
magic("refs", (el) => {
  if (el._x_refs_proxy)
    return el._x_refs_proxy;
  el._x_refs_proxy = mergeProxies(getArrayOfRefObject(el));
  return el._x_refs_proxy;
});
function getArrayOfRefObject(el) {
  let refObjects = [];
  let currentEl = el;
  while (currentEl) {
    if (currentEl._x_refs)
      refObjects.push(currentEl._x_refs);
    currentEl = currentEl.parentNode;
  }
  return refObjects;
}

// packages/alpinejs/src/ids.js
var globalIdMemo = {};
function findAndIncrementId(name) {
  if (!globalIdMemo[name])
    globalIdMemo[name] = 0;
  return ++globalIdMemo[name];
}
function closestIdRoot(el, name) {
  return findClosest(el, (element) => {
    if (element._x_ids && element._x_ids[name])
      return true;
  });
}
function setIdRoot(el, name) {
  if (!el._x_ids)
    el._x_ids = {};
  if (!el._x_ids[name])
    el._x_ids[name] = findAndIncrementId(name);
}

// packages/alpinejs/src/magics/$id.js
magic("id", (el) => (name, key = null) => {
  let root = closestIdRoot(el, name);
  let id = root ? root._x_ids[name] : findAndIncrementId(name);
  return key ? `${name}-${id}-${key}` : `${name}-${id}`;
});

// packages/alpinejs/src/magics/$el.js
magic("el", (el) => el);

// packages/alpinejs/src/magics/index.js
warnMissingPluginMagic("Focus", "focus", "focus");
warnMissingPluginMagic("Persist", "persist", "persist");
function warnMissingPluginMagic(name, magicName, slug) {
  magic(magicName, (el) => warn(`You can't use [$${directiveName}] without first installing the "${name}" plugin here: https://alpinejs.dev/plugins/${slug}`, el));
}

// packages/alpinejs/src/entangle.js
function entangle({get: outerGet, set: outerSet}, {get: innerGet, set: innerSet}) {
  let firstRun = true;
  let outerHash, innerHash, outerHashLatest, innerHashLatest;
  let reference = effect(() => {
    let outer, inner;
    if (firstRun) {
      outer = outerGet();
      innerSet(outer);
      inner = innerGet();
      firstRun = false;
    } else {
      outer = outerGet();
      inner = innerGet();
      outerHashLatest = JSON.stringify(outer);
      innerHashLatest = JSON.stringify(inner);
      if (outerHashLatest !== outerHash) {
        inner = innerGet();
        innerSet(outer);
        inner = outer;
      } else {
        outerSet(inner);
        outer = inner;
      }
    }
    outerHash = JSON.stringify(outer);
    innerHash = JSON.stringify(inner);
  });
  return () => {
    release(reference);
  };
}

// packages/alpinejs/src/directives/x-modelable.js
directive("modelable", (el, {expression}, {effect: effect3, evaluateLater: evaluateLater2, cleanup: cleanup2}) => {
  let func = evaluateLater2(expression);
  let innerGet = () => {
    let result;
    func((i) => result = i);
    return result;
  };
  let evaluateInnerSet = evaluateLater2(`${expression} = __placeholder`);
  let innerSet = (val) => evaluateInnerSet(() => {
  }, {scope: {__placeholder: val}});
  let initialValue = innerGet();
  innerSet(initialValue);
  queueMicrotask(() => {
    if (!el._x_model)
      return;
    el._x_removeModelListeners["default"]();
    let outerGet = el._x_model.get;
    let outerSet = el._x_model.set;
    let releaseEntanglement = entangle({
      get() {
        return outerGet();
      },
      set(value) {
        outerSet(value);
      }
    }, {
      get() {
        return innerGet();
      },
      set(value) {
        innerSet(value);
      }
    });
    cleanup2(releaseEntanglement);
  });
});

// packages/alpinejs/src/directives/x-teleport.js
var teleportContainerDuringClone = document.createElement("div");
directive("teleport", (el, {modifiers, expression}, {cleanup: cleanup2}) => {
  if (el.tagName.toLowerCase() !== "template")
    warn("x-teleport can only be used on a <template> tag", el);
  let target = skipDuringClone(() => {
    return document.querySelector(expression);
  }, () => {
    return teleportContainerDuringClone;
  })();
  if (!target)
    warn(`Cannot find x-teleport element for selector: "${expression}"`);
  let clone2 = el.content.cloneNode(true).firstElementChild;
  el._x_teleport = clone2;
  clone2._x_teleportBack = el;
  if (el._x_forwardEvents) {
    el._x_forwardEvents.forEach((eventName) => {
      clone2.addEventListener(eventName, (e) => {
        e.stopPropagation();
        el.dispatchEvent(new e.constructor(e.type, e));
      });
    });
  }
  addScopeToNode(clone2, {}, el);
  mutateDom(() => {
    if (modifiers.includes("prepend")) {
      target.parentNode.insertBefore(clone2, target);
    } else if (modifiers.includes("append")) {
      target.parentNode.insertBefore(clone2, target.nextSibling);
    } else {
      target.appendChild(clone2);
    }
    initTree(clone2);
    clone2._x_ignore = true;
  });
  cleanup2(() => clone2.remove());
});

// packages/alpinejs/src/directives/x-ignore.js
var handler = () => {
};
handler.inline = (el, {modifiers}, {cleanup: cleanup2}) => {
  modifiers.includes("self") ? el._x_ignoreSelf = true : el._x_ignore = true;
  cleanup2(() => {
    modifiers.includes("self") ? delete el._x_ignoreSelf : delete el._x_ignore;
  });
};
directive("ignore", handler);

// packages/alpinejs/src/directives/x-effect.js
directive("effect", (el, {expression}, {effect: effect3}) => effect3(evaluateLater(el, expression)));

// packages/alpinejs/src/utils/on.js
function on(el, event, modifiers, callback) {
  let listenerTarget = el;
  let handler3 = (e) => callback(e);
  let options = {};
  let wrapHandler = (callback2, wrapper) => (e) => wrapper(callback2, e);
  if (modifiers.includes("dot"))
    event = dotSyntax(event);
  if (modifiers.includes("camel"))
    event = camelCase2(event);
  if (modifiers.includes("passive"))
    options.passive = true;
  if (modifiers.includes("capture"))
    options.capture = true;
  if (modifiers.includes("window"))
    listenerTarget = window;
  if (modifiers.includes("document"))
    listenerTarget = document;
  if (modifiers.includes("debounce")) {
    let nextModifier = modifiers[modifiers.indexOf("debounce") + 1] || "invalid-wait";
    let wait = isNumeric(nextModifier.split("ms")[0]) ? Number(nextModifier.split("ms")[0]) : 250;
    handler3 = debounce(handler3, wait);
  }
  if (modifiers.includes("throttle")) {
    let nextModifier = modifiers[modifiers.indexOf("throttle") + 1] || "invalid-wait";
    let wait = isNumeric(nextModifier.split("ms")[0]) ? Number(nextModifier.split("ms")[0]) : 250;
    handler3 = throttle(handler3, wait);
  }
  if (modifiers.includes("prevent"))
    handler3 = wrapHandler(handler3, (next, e) => {
      e.preventDefault();
      next(e);
    });
  if (modifiers.includes("stop"))
    handler3 = wrapHandler(handler3, (next, e) => {
      e.stopPropagation();
      next(e);
    });
  if (modifiers.includes("self"))
    handler3 = wrapHandler(handler3, (next, e) => {
      e.target === el && next(e);
    });
  if (modifiers.includes("away") || modifiers.includes("outside")) {
    listenerTarget = document;
    handler3 = wrapHandler(handler3, (next, e) => {
      if (el.contains(e.target))
        return;
      if (e.target.isConnected === false)
        return;
      if (el.offsetWidth < 1 && el.offsetHeight < 1)
        return;
      if (el._x_isShown === false)
        return;
      next(e);
    });
  }
  if (modifiers.includes("once")) {
    handler3 = wrapHandler(handler3, (next, e) => {
      next(e);
      listenerTarget.removeEventListener(event, handler3, options);
    });
  }
  handler3 = wrapHandler(handler3, (next, e) => {
    if (isKeyEvent(event)) {
      if (isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers)) {
        return;
      }
    }
    next(e);
  });
  listenerTarget.addEventListener(event, handler3, options);
  return () => {
    listenerTarget.removeEventListener(event, handler3, options);
  };
}
function dotSyntax(subject) {
  return subject.replace(/-/g, ".");
}
function camelCase2(subject) {
  return subject.toLowerCase().replace(/-(\w)/g, (match, char) => char.toUpperCase());
}
function isNumeric(subject) {
  return !Array.isArray(subject) && !isNaN(subject);
}
function kebabCase2(subject) {
  if ([" ", "_"].includes(subject))
    return subject;
  return subject.replace(/([a-z])([A-Z])/g, "$1-$2").replace(/[_\s]/, "-").toLowerCase();
}
function isKeyEvent(event) {
  return ["keydown", "keyup"].includes(event);
}
function isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers) {
  let keyModifiers = modifiers.filter((i) => {
    return !["window", "document", "prevent", "stop", "once", "capture"].includes(i);
  });
  if (keyModifiers.includes("debounce")) {
    let debounceIndex = keyModifiers.indexOf("debounce");
    keyModifiers.splice(debounceIndex, isNumeric((keyModifiers[debounceIndex + 1] || "invalid-wait").split("ms")[0]) ? 2 : 1);
  }
  if (keyModifiers.includes("throttle")) {
    let debounceIndex = keyModifiers.indexOf("throttle");
    keyModifiers.splice(debounceIndex, isNumeric((keyModifiers[debounceIndex + 1] || "invalid-wait").split("ms")[0]) ? 2 : 1);
  }
  if (keyModifiers.length === 0)
    return false;
  if (keyModifiers.length === 1 && keyToModifiers(e.key).includes(keyModifiers[0]))
    return false;
  const systemKeyModifiers = ["ctrl", "shift", "alt", "meta", "cmd", "super"];
  const selectedSystemKeyModifiers = systemKeyModifiers.filter((modifier) => keyModifiers.includes(modifier));
  keyModifiers = keyModifiers.filter((i) => !selectedSystemKeyModifiers.includes(i));
  if (selectedSystemKeyModifiers.length > 0) {
    const activelyPressedKeyModifiers = selectedSystemKeyModifiers.filter((modifier) => {
      if (modifier === "cmd" || modifier === "super")
        modifier = "meta";
      return e[`${modifier}Key`];
    });
    if (activelyPressedKeyModifiers.length === selectedSystemKeyModifiers.length) {
      if (keyToModifiers(e.key).includes(keyModifiers[0]))
        return false;
    }
  }
  return true;
}
function keyToModifiers(key) {
  if (!key)
    return [];
  key = kebabCase2(key);
  let modifierToKeyMap = {
    ctrl: "control",
    slash: "/",
    space: " ",
    spacebar: " ",
    cmd: "meta",
    esc: "escape",
    up: "arrow-up",
    down: "arrow-down",
    left: "arrow-left",
    right: "arrow-right",
    period: ".",
    equal: "=",
    minus: "-",
    underscore: "_"
  };
  modifierToKeyMap[key] = key;
  return Object.keys(modifierToKeyMap).map((modifier) => {
    if (modifierToKeyMap[modifier] === key)
      return modifier;
  }).filter((modifier) => modifier);
}

// packages/alpinejs/src/directives/x-model.js
directive("model", (el, {modifiers, expression}, {effect: effect3, cleanup: cleanup2}) => {
  let scopeTarget = el;
  if (modifiers.includes("parent")) {
    scopeTarget = el.parentNode;
  }
  let evaluateGet = evaluateLater(scopeTarget, expression);
  let evaluateSet;
  if (typeof expression === "string") {
    evaluateSet = evaluateLater(scopeTarget, `${expression} = __placeholder`);
  } else if (typeof expression === "function" && typeof expression() === "string") {
    evaluateSet = evaluateLater(scopeTarget, `${expression()} = __placeholder`);
  } else {
    evaluateSet = () => {
    };
  }
  let getValue = () => {
    let result;
    evaluateGet((value) => result = value);
    return isGetterSetter(result) ? result.get() : result;
  };
  let setValue = (value) => {
    let result;
    evaluateGet((value2) => result = value2);
    if (isGetterSetter(result)) {
      result.set(value);
    } else {
      evaluateSet(() => {
      }, {
        scope: {__placeholder: value}
      });
    }
  };
  if (typeof expression === "string" && el.type === "radio") {
    mutateDom(() => {
      if (!el.hasAttribute("name"))
        el.setAttribute("name", expression);
    });
  }
  var event = el.tagName.toLowerCase() === "select" || ["checkbox", "radio"].includes(el.type) || modifiers.includes("lazy") ? "change" : "input";
  let removeListener = isCloning ? () => {
  } : on(el, event, modifiers, (e) => {
    setValue(getInputValue(el, modifiers, e, getValue()));
  });
  if (modifiers.includes("fill") && [null, ""].includes(getValue())) {
    el.dispatchEvent(new Event(event, {}));
  }
  if (!el._x_removeModelListeners)
    el._x_removeModelListeners = {};
  el._x_removeModelListeners["default"] = removeListener;
  cleanup2(() => el._x_removeModelListeners["default"]());
  if (el.form) {
    let removeResetListener = on(el.form, "reset", [], (e) => {
      nextTick(() => el._x_model && el._x_model.set(el.value));
    });
    cleanup2(() => removeResetListener());
  }
  el._x_model = {
    get() {
      return getValue();
    },
    set(value) {
      setValue(value);
    }
  };
  el._x_forceModelUpdate = (value) => {
    value = value === void 0 ? getValue() : value;
    if (value === void 0 && typeof expression === "string" && expression.match(/\./))
      value = "";
    window.fromModel = true;
    mutateDom(() => bind(el, "value", value));
    delete window.fromModel;
  };
  effect3(() => {
    let value = getValue();
    if (modifiers.includes("unintrusive") && document.activeElement.isSameNode(el))
      return;
    el._x_forceModelUpdate(value);
  });
});
function getInputValue(el, modifiers, event, currentValue) {
  return mutateDom(() => {
    if (event instanceof CustomEvent && event.detail !== void 0)
      return event.detail ?? event.target.value;
    else if (el.type === "checkbox") {
      if (Array.isArray(currentValue)) {
        let newValue = modifiers.includes("number") ? safeParseNumber(event.target.value) : event.target.value;
        return event.target.checked ? currentValue.concat([newValue]) : currentValue.filter((el2) => !checkedAttrLooseCompare2(el2, newValue));
      } else {
        return event.target.checked;
      }
    } else if (el.tagName.toLowerCase() === "select" && el.multiple) {
      return modifiers.includes("number") ? Array.from(event.target.selectedOptions).map((option) => {
        let rawValue = option.value || option.text;
        return safeParseNumber(rawValue);
      }) : Array.from(event.target.selectedOptions).map((option) => {
        return option.value || option.text;
      });
    } else {
      let rawValue = event.target.value;
      return modifiers.includes("number") ? safeParseNumber(rawValue) : modifiers.includes("trim") ? rawValue.trim() : rawValue;
    }
  });
}
function safeParseNumber(rawValue) {
  let number = rawValue ? parseFloat(rawValue) : null;
  return isNumeric2(number) ? number : rawValue;
}
function checkedAttrLooseCompare2(valueA, valueB) {
  return valueA == valueB;
}
function isNumeric2(subject) {
  return !Array.isArray(subject) && !isNaN(subject);
}
function isGetterSetter(value) {
  return value !== null && typeof value === "object" && typeof value.get === "function" && typeof value.set === "function";
}

// packages/alpinejs/src/directives/x-cloak.js
directive("cloak", (el) => queueMicrotask(() => mutateDom(() => el.removeAttribute(prefix("cloak")))));

// packages/alpinejs/src/directives/x-init.js
addInitSelector(() => `[${prefix("init")}]`);
directive("init", skipDuringClone((el, {expression}, {evaluate: evaluate2}) => {
  if (typeof expression === "string") {
    return !!expression.trim() && evaluate2(expression, {}, false);
  }
  return evaluate2(expression, {}, false);
}));

// packages/alpinejs/src/directives/x-text.js
directive("text", (el, {expression}, {effect: effect3, evaluateLater: evaluateLater2}) => {
  let evaluate2 = evaluateLater2(expression);
  effect3(() => {
    evaluate2((value) => {
      mutateDom(() => {
        el.textContent = value;
      });
    });
  });
});

// packages/alpinejs/src/directives/x-html.js
directive("html", (el, {expression}, {effect: effect3, evaluateLater: evaluateLater2}) => {
  let evaluate2 = evaluateLater2(expression);
  effect3(() => {
    evaluate2((value) => {
      mutateDom(() => {
        el.innerHTML = value;
        el._x_ignoreSelf = true;
        initTree(el);
        delete el._x_ignoreSelf;
      });
    });
  });
});

// packages/alpinejs/src/directives/x-bind.js
mapAttributes(startingWith(":", into(prefix("bind:"))));
directive("bind", (el, {value, modifiers, expression, original}, {effect: effect3}) => {
  if (!value) {
    let bindingProviders = {};
    injectBindingProviders(bindingProviders);
    let getBindings = evaluateLater(el, expression);
    getBindings((bindings) => {
      applyBindingsObject(el, bindings, original);
    }, {scope: bindingProviders});
    return;
  }
  if (value === "key")
    return storeKeyForXFor(el, expression);
  let evaluate2 = evaluateLater(el, expression);
  effect3(() => evaluate2((result) => {
    if (result === void 0 && typeof expression === "string" && expression.match(/\./)) {
      result = "";
    }
    mutateDom(() => bind(el, value, result, modifiers));
  }));
});
function storeKeyForXFor(el, expression) {
  el._x_keyExpression = expression;
}

// packages/alpinejs/src/directives/x-data.js
addRootSelector(() => `[${prefix("data")}]`);
directive("data", skipDuringClone((el, {expression}, {cleanup: cleanup2}) => {
  expression = expression === "" ? "{}" : expression;
  let magicContext = {};
  injectMagics(magicContext, el);
  let dataProviderContext = {};
  injectDataProviders(dataProviderContext, magicContext);
  let data2 = evaluate(el, expression, {scope: dataProviderContext});
  if (data2 === void 0 || data2 === true)
    data2 = {};
  injectMagics(data2, el);
  let reactiveData = reactive(data2);
  initInterceptors(reactiveData);
  let undo = addScopeToNode(el, reactiveData);
  reactiveData["init"] && evaluate(el, reactiveData["init"]);
  cleanup2(() => {
    reactiveData["destroy"] && evaluate(el, reactiveData["destroy"]);
    undo();
  });
}));

// packages/alpinejs/src/directives/x-show.js
directive("show", (el, {modifiers, expression}, {effect: effect3}) => {
  let evaluate2 = evaluateLater(el, expression);
  if (!el._x_doHide)
    el._x_doHide = () => {
      mutateDom(() => {
        el.style.setProperty("display", "none", modifiers.includes("important") ? "important" : void 0);
      });
    };
  if (!el._x_doShow)
    el._x_doShow = () => {
      mutateDom(() => {
        if (el.style.length === 1 && el.style.display === "none") {
          el.removeAttribute("style");
        } else {
          el.style.removeProperty("display");
        }
      });
    };
  let hide = () => {
    el._x_doHide();
    el._x_isShown = false;
  };
  let show = () => {
    el._x_doShow();
    el._x_isShown = true;
  };
  let clickAwayCompatibleShow = () => setTimeout(show);
  let toggle = once((value) => value ? show() : hide(), (value) => {
    if (typeof el._x_toggleAndCascadeWithTransitions === "function") {
      el._x_toggleAndCascadeWithTransitions(el, value, show, hide);
    } else {
      value ? clickAwayCompatibleShow() : hide();
    }
  });
  let oldValue;
  let firstTime = true;
  effect3(() => evaluate2((value) => {
    if (!firstTime && value === oldValue)
      return;
    if (modifiers.includes("immediate"))
      value ? clickAwayCompatibleShow() : hide();
    toggle(value);
    oldValue = value;
    firstTime = false;
  }));
});

// packages/alpinejs/src/directives/x-for.js
directive("for", (el, {expression}, {effect: effect3, cleanup: cleanup2}) => {
  let iteratorNames = parseForExpression(expression);
  let evaluateItems = evaluateLater(el, iteratorNames.items);
  let evaluateKey = evaluateLater(el, el._x_keyExpression || "index");
  el._x_prevKeys = [];
  el._x_lookup = {};
  effect3(() => loop(el, iteratorNames, evaluateItems, evaluateKey));
  cleanup2(() => {
    Object.values(el._x_lookup).forEach((el2) => el2.remove());
    delete el._x_prevKeys;
    delete el._x_lookup;
  });
});
function loop(el, iteratorNames, evaluateItems, evaluateKey) {
  let isObject2 = (i) => typeof i === "object" && !Array.isArray(i);
  let templateEl = el;
  evaluateItems((items) => {
    if (isNumeric3(items) && items >= 0) {
      items = Array.from(Array(items).keys(), (i) => i + 1);
    }
    if (items === void 0)
      items = [];
    let lookup = el._x_lookup;
    let prevKeys = el._x_prevKeys;
    let scopes = [];
    let keys = [];
    if (isObject2(items)) {
      items = Object.entries(items).map(([key, value]) => {
        let scope2 = getIterationScopeVariables(iteratorNames, value, key, items);
        evaluateKey((value2) => keys.push(value2), {scope: {index: key, ...scope2}});
        scopes.push(scope2);
      });
    } else {
      for (let i = 0; i < items.length; i++) {
        let scope2 = getIterationScopeVariables(iteratorNames, items[i], i, items);
        evaluateKey((value) => keys.push(value), {scope: {index: i, ...scope2}});
        scopes.push(scope2);
      }
    }
    let adds = [];
    let moves = [];
    let removes = [];
    let sames = [];
    for (let i = 0; i < prevKeys.length; i++) {
      let key = prevKeys[i];
      if (keys.indexOf(key) === -1)
        removes.push(key);
    }
    prevKeys = prevKeys.filter((key) => !removes.includes(key));
    let lastKey = "template";
    for (let i = 0; i < keys.length; i++) {
      let key = keys[i];
      let prevIndex = prevKeys.indexOf(key);
      if (prevIndex === -1) {
        prevKeys.splice(i, 0, key);
        adds.push([lastKey, i]);
      } else if (prevIndex !== i) {
        let keyInSpot = prevKeys.splice(i, 1)[0];
        let keyForSpot = prevKeys.splice(prevIndex - 1, 1)[0];
        prevKeys.splice(i, 0, keyForSpot);
        prevKeys.splice(prevIndex, 0, keyInSpot);
        moves.push([keyInSpot, keyForSpot]);
      } else {
        sames.push(key);
      }
      lastKey = key;
    }
    for (let i = 0; i < removes.length; i++) {
      let key = removes[i];
      if (!!lookup[key]._x_effects) {
        lookup[key]._x_effects.forEach(dequeueJob);
      }
      lookup[key].remove();
      lookup[key] = null;
      delete lookup[key];
    }
    for (let i = 0; i < moves.length; i++) {
      let [keyInSpot, keyForSpot] = moves[i];
      let elInSpot = lookup[keyInSpot];
      let elForSpot = lookup[keyForSpot];
      let marker = document.createElement("div");
      mutateDom(() => {
        if (!elForSpot)
          warn(`x-for ":key" is undefined or invalid`, templateEl);
        elForSpot.after(marker);
        elInSpot.after(elForSpot);
        elForSpot._x_currentIfEl && elForSpot.after(elForSpot._x_currentIfEl);
        marker.before(elInSpot);
        elInSpot._x_currentIfEl && elInSpot.after(elInSpot._x_currentIfEl);
        marker.remove();
      });
      elForSpot._x_refreshXForScope(scopes[keys.indexOf(keyForSpot)]);
    }
    for (let i = 0; i < adds.length; i++) {
      let [lastKey2, index] = adds[i];
      let lastEl = lastKey2 === "template" ? templateEl : lookup[lastKey2];
      if (lastEl._x_currentIfEl)
        lastEl = lastEl._x_currentIfEl;
      let scope2 = scopes[index];
      let key = keys[index];
      let clone2 = document.importNode(templateEl.content, true).firstElementChild;
      let reactiveScope = reactive(scope2);
      addScopeToNode(clone2, reactiveScope, templateEl);
      clone2._x_refreshXForScope = (newScope) => {
        Object.entries(newScope).forEach(([key2, value]) => {
          reactiveScope[key2] = value;
        });
      };
      mutateDom(() => {
        lastEl.after(clone2);
        initTree(clone2);
      });
      if (typeof key === "object") {
        warn("x-for key cannot be an object, it must be a string or an integer", templateEl);
      }
      lookup[key] = clone2;
    }
    for (let i = 0; i < sames.length; i++) {
      lookup[sames[i]]._x_refreshXForScope(scopes[keys.indexOf(sames[i])]);
    }
    templateEl._x_prevKeys = keys;
  });
}
function parseForExpression(expression) {
  let forIteratorRE = /,([^,\}\]]*)(?:,([^,\}\]]*))?$/;
  let stripParensRE = /^\s*\(|\)\s*$/g;
  let forAliasRE = /([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/;
  let inMatch = expression.match(forAliasRE);
  if (!inMatch)
    return;
  let res = {};
  res.items = inMatch[2].trim();
  let item = inMatch[1].replace(stripParensRE, "").trim();
  let iteratorMatch = item.match(forIteratorRE);
  if (iteratorMatch) {
    res.item = item.replace(forIteratorRE, "").trim();
    res.index = iteratorMatch[1].trim();
    if (iteratorMatch[2]) {
      res.collection = iteratorMatch[2].trim();
    }
  } else {
    res.item = item;
  }
  return res;
}
function getIterationScopeVariables(iteratorNames, item, index, items) {
  let scopeVariables = {};
  if (/^\[.*\]$/.test(iteratorNames.item) && Array.isArray(item)) {
    let names = iteratorNames.item.replace("[", "").replace("]", "").split(",").map((i) => i.trim());
    names.forEach((name, i) => {
      scopeVariables[name] = item[i];
    });
  } else if (/^\{.*\}$/.test(iteratorNames.item) && !Array.isArray(item) && typeof item === "object") {
    let names = iteratorNames.item.replace("{", "").replace("}", "").split(",").map((i) => i.trim());
    names.forEach((name) => {
      scopeVariables[name] = item[name];
    });
  } else {
    scopeVariables[iteratorNames.item] = item;
  }
  if (iteratorNames.index)
    scopeVariables[iteratorNames.index] = index;
  if (iteratorNames.collection)
    scopeVariables[iteratorNames.collection] = items;
  return scopeVariables;
}
function isNumeric3(subject) {
  return !Array.isArray(subject) && !isNaN(subject);
}

// packages/alpinejs/src/directives/x-ref.js
function handler2() {
}
handler2.inline = (el, {expression}, {cleanup: cleanup2}) => {
  let root = closestRoot(el);
  if (!root._x_refs)
    root._x_refs = {};
  root._x_refs[expression] = el;
  cleanup2(() => delete root._x_refs[expression]);
};
directive("ref", handler2);

// packages/alpinejs/src/directives/x-if.js
directive("if", (el, {expression}, {effect: effect3, cleanup: cleanup2}) => {
  let evaluate2 = evaluateLater(el, expression);
  let show = () => {
    if (el._x_currentIfEl)
      return el._x_currentIfEl;
    let clone2 = el.content.cloneNode(true).firstElementChild;
    addScopeToNode(clone2, {}, el);
    mutateDom(() => {
      el.after(clone2);
      initTree(clone2);
    });
    el._x_currentIfEl = clone2;
    el._x_undoIf = () => {
      walk(clone2, (node) => {
        if (!!node._x_effects) {
          node._x_effects.forEach(dequeueJob);
        }
      });
      clone2.remove();
      delete el._x_currentIfEl;
    };
    return clone2;
  };
  let hide = () => {
    if (!el._x_undoIf)
      return;
    el._x_undoIf();
    delete el._x_undoIf;
  };
  effect3(() => evaluate2((value) => {
    value ? show() : hide();
  }));
  cleanup2(() => el._x_undoIf && el._x_undoIf());
});

// packages/alpinejs/src/directives/x-id.js
directive("id", (el, {expression}, {evaluate: evaluate2}) => {
  let names = evaluate2(expression);
  names.forEach((name) => setIdRoot(el, name));
});

// packages/alpinejs/src/directives/x-on.js
mapAttributes(startingWith("@", into(prefix("on:"))));
directive("on", skipDuringClone((el, {value, modifiers, expression}, {cleanup: cleanup2}) => {
  let evaluate2 = expression ? evaluateLater(el, expression) : () => {
  };
  if (el.tagName.toLowerCase() === "template") {
    if (!el._x_forwardEvents)
      el._x_forwardEvents = [];
    if (!el._x_forwardEvents.includes(value))
      el._x_forwardEvents.push(value);
  }
  let removeListener = on(el, value, modifiers, (e) => {
    evaluate2(() => {
    }, {scope: {$event: e}, params: [e]});
  });
  cleanup2(() => removeListener());
}));

// packages/alpinejs/src/directives/index.js
warnMissingPluginDirective("Collapse", "collapse", "collapse");
warnMissingPluginDirective("Intersect", "intersect", "intersect");
warnMissingPluginDirective("Focus", "trap", "focus");
warnMissingPluginDirective("Mask", "mask", "mask");
function warnMissingPluginDirective(name, directiveName2, slug) {
  directive(directiveName2, (el) => warn(`You can't use [x-${directiveName2}] without first installing the "${name}" plugin here: https://alpinejs.dev/plugins/${slug}`, el));
}

// packages/alpinejs/src/index.js
alpine_default.setEvaluator(normalEvaluator);
alpine_default.setReactivityEngine({reactive: reactive2, effect: effect2, release: stop, raw: toRaw});
var src_default = alpine_default;

// packages/alpinejs/builds/module.js
var module_default = src_default;



/***/ }),

/***/ "./node_modules/axios/index.js":
/*!*************************************!*\
  !*** ./node_modules/axios/index.js ***!
  \*************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__(/*! ./lib/axios */ "./node_modules/axios/lib/axios.js");

/***/ }),

/***/ "./node_modules/axios/lib/adapters/xhr.js":
/*!************************************************!*\
  !*** ./node_modules/axios/lib/adapters/xhr.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");
var settle = __webpack_require__(/*! ./../core/settle */ "./node_modules/axios/lib/core/settle.js");
var cookies = __webpack_require__(/*! ./../helpers/cookies */ "./node_modules/axios/lib/helpers/cookies.js");
var buildURL = __webpack_require__(/*! ./../helpers/buildURL */ "./node_modules/axios/lib/helpers/buildURL.js");
var buildFullPath = __webpack_require__(/*! ../core/buildFullPath */ "./node_modules/axios/lib/core/buildFullPath.js");
var parseHeaders = __webpack_require__(/*! ./../helpers/parseHeaders */ "./node_modules/axios/lib/helpers/parseHeaders.js");
var isURLSameOrigin = __webpack_require__(/*! ./../helpers/isURLSameOrigin */ "./node_modules/axios/lib/helpers/isURLSameOrigin.js");
var createError = __webpack_require__(/*! ../core/createError */ "./node_modules/axios/lib/core/createError.js");

module.exports = function xhrAdapter(config) {
  return new Promise(function dispatchXhrRequest(resolve, reject) {
    var requestData = config.data;
    var requestHeaders = config.headers;
    var responseType = config.responseType;

    if (utils.isFormData(requestData)) {
      delete requestHeaders['Content-Type']; // Let the browser set it
    }

    var request = new XMLHttpRequest();

    // HTTP basic authentication
    if (config.auth) {
      var username = config.auth.username || '';
      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';
      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);
    }

    var fullPath = buildFullPath(config.baseURL, config.url);
    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);

    // Set the request timeout in MS
    request.timeout = config.timeout;

    function onloadend() {
      if (!request) {
        return;
      }
      // Prepare the response
      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;
      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?
        request.responseText : request.response;
      var response = {
        data: responseData,
        status: request.status,
        statusText: request.statusText,
        headers: responseHeaders,
        config: config,
        request: request
      };

      settle(resolve, reject, response);

      // Clean up request
      request = null;
    }

    if ('onloadend' in request) {
      // Use onloadend if available
      request.onloadend = onloadend;
    } else {
      // Listen for ready state to emulate onloadend
      request.onreadystatechange = function handleLoad() {
        if (!request || request.readyState !== 4) {
          return;
        }

        // The request errored out and we didn't get a response, this will be
        // handled by onerror instead
        // With one exception: request that using file: protocol, most browsers
        // will return status as 0 even though it's a successful request
        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {
          return;
        }
        // readystate handler is calling before onerror or ontimeout handlers,
        // so we should call onloadend on the next 'tick'
        setTimeout(onloadend);
      };
    }

    // Handle browser request cancellation (as opposed to a manual cancellation)
    request.onabort = function handleAbort() {
      if (!request) {
        return;
      }

      reject(createError('Request aborted', config, 'ECONNABORTED', request));

      // Clean up request
      request = null;
    };

    // Handle low level network errors
    request.onerror = function handleError() {
      // Real errors are hidden from us by the browser
      // onerror should only fire if it's a network error
      reject(createError('Network Error', config, null, request));

      // Clean up request
      request = null;
    };

    // Handle timeout
    request.ontimeout = function handleTimeout() {
      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';
      if (config.timeoutErrorMessage) {
        timeoutErrorMessage = config.timeoutErrorMessage;
      }
      reject(createError(
        timeoutErrorMessage,
        config,
        config.transitional && config.transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',
        request));

      // Clean up request
      request = null;
    };

    // Add xsrf header
    // This is only done if running in a standard browser environment.
    // Specifically not if we're in a web worker, or react-native.
    if (utils.isStandardBrowserEnv()) {
      // Add xsrf header
      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?
        cookies.read(config.xsrfCookieName) :
        undefined;

      if (xsrfValue) {
        requestHeaders[config.xsrfHeaderName] = xsrfValue;
      }
    }

    // Add headers to the request
    if ('setRequestHeader' in request) {
      utils.forEach(requestHeaders, function setRequestHeader(val, key) {
        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {
          // Remove Content-Type if data is undefined
          delete requestHeaders[key];
        } else {
          // Otherwise add header to the request
          request.setRequestHeader(key, val);
        }
      });
    }

    // Add withCredentials to request if needed
    if (!utils.isUndefined(config.withCredentials)) {
      request.withCredentials = !!config.withCredentials;
    }

    // Add responseType to request if needed
    if (responseType && responseType !== 'json') {
      request.responseType = config.responseType;
    }

    // Handle progress if needed
    if (typeof config.onDownloadProgress === 'function') {
      request.addEventListener('progress', config.onDownloadProgress);
    }

    // Not all browsers support upload events
    if (typeof config.onUploadProgress === 'function' && request.upload) {
      request.upload.addEventListener('progress', config.onUploadProgress);
    }

    if (config.cancelToken) {
      // Handle cancellation
      config.cancelToken.promise.then(function onCanceled(cancel) {
        if (!request) {
          return;
        }

        request.abort();
        reject(cancel);
        // Clean up request
        request = null;
      });
    }

    if (!requestData) {
      requestData = null;
    }

    // Send the request
    request.send(requestData);
  });
};


/***/ }),

/***/ "./node_modules/axios/lib/axios.js":
/*!*****************************************!*\
  !*** ./node_modules/axios/lib/axios.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./utils */ "./node_modules/axios/lib/utils.js");
var bind = __webpack_require__(/*! ./helpers/bind */ "./node_modules/axios/lib/helpers/bind.js");
var Axios = __webpack_require__(/*! ./core/Axios */ "./node_modules/axios/lib/core/Axios.js");
var mergeConfig = __webpack_require__(/*! ./core/mergeConfig */ "./node_modules/axios/lib/core/mergeConfig.js");
var defaults = __webpack_require__(/*! ./defaults */ "./node_modules/axios/lib/defaults.js");

/**
 * Create an instance of Axios
 *
 * @param {Object} defaultConfig The default config for the instance
 * @return {Axios} A new instance of Axios
 */
function createInstance(defaultConfig) {
  var context = new Axios(defaultConfig);
  var instance = bind(Axios.prototype.request, context);

  // Copy axios.prototype to instance
  utils.extend(instance, Axios.prototype, context);

  // Copy context to instance
  utils.extend(instance, context);

  return instance;
}

// Create the default instance to be exported
var axios = createInstance(defaults);

// Expose Axios class to allow class inheritance
axios.Axios = Axios;

// Factory for creating new instances
axios.create = function create(instanceConfig) {
  return createInstance(mergeConfig(axios.defaults, instanceConfig));
};

// Expose Cancel & CancelToken
axios.Cancel = __webpack_require__(/*! ./cancel/Cancel */ "./node_modules/axios/lib/cancel/Cancel.js");
axios.CancelToken = __webpack_require__(/*! ./cancel/CancelToken */ "./node_modules/axios/lib/cancel/CancelToken.js");
axios.isCancel = __webpack_require__(/*! ./cancel/isCancel */ "./node_modules/axios/lib/cancel/isCancel.js");

// Expose all/spread
axios.all = function all(promises) {
  return Promise.all(promises);
};
axios.spread = __webpack_require__(/*! ./helpers/spread */ "./node_modules/axios/lib/helpers/spread.js");

// Expose isAxiosError
axios.isAxiosError = __webpack_require__(/*! ./helpers/isAxiosError */ "./node_modules/axios/lib/helpers/isAxiosError.js");

module.exports = axios;

// Allow use of default import syntax in TypeScript
module.exports["default"] = axios;


/***/ }),

/***/ "./node_modules/axios/lib/cancel/Cancel.js":
/*!*************************************************!*\
  !*** ./node_modules/axios/lib/cancel/Cancel.js ***!
  \*************************************************/
/***/ ((module) => {

"use strict";


/**
 * A `Cancel` is an object that is thrown when an operation is canceled.
 *
 * @class
 * @param {string=} message The message.
 */
function Cancel(message) {
  this.message = message;
}

Cancel.prototype.toString = function toString() {
  return 'Cancel' + (this.message ? ': ' + this.message : '');
};

Cancel.prototype.__CANCEL__ = true;

module.exports = Cancel;


/***/ }),

/***/ "./node_modules/axios/lib/cancel/CancelToken.js":
/*!******************************************************!*\
  !*** ./node_modules/axios/lib/cancel/CancelToken.js ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var Cancel = __webpack_require__(/*! ./Cancel */ "./node_modules/axios/lib/cancel/Cancel.js");

/**
 * A `CancelToken` is an object that can be used to request cancellation of an operation.
 *
 * @class
 * @param {Function} executor The executor function.
 */
function CancelToken(executor) {
  if (typeof executor !== 'function') {
    throw new TypeError('executor must be a function.');
  }

  var resolvePromise;
  this.promise = new Promise(function promiseExecutor(resolve) {
    resolvePromise = resolve;
  });

  var token = this;
  executor(function cancel(message) {
    if (token.reason) {
      // Cancellation has already been requested
      return;
    }

    token.reason = new Cancel(message);
    resolvePromise(token.reason);
  });
}

/**
 * Throws a `Cancel` if cancellation has been requested.
 */
CancelToken.prototype.throwIfRequested = function throwIfRequested() {
  if (this.reason) {
    throw this.reason;
  }
};

/**
 * Returns an object that contains a new `CancelToken` and a function that, when called,
 * cancels the `CancelToken`.
 */
CancelToken.source = function source() {
  var cancel;
  var token = new CancelToken(function executor(c) {
    cancel = c;
  });
  return {
    token: token,
    cancel: cancel
  };
};

module.exports = CancelToken;


/***/ }),

/***/ "./node_modules/axios/lib/cancel/isCancel.js":
/*!***************************************************!*\
  !*** ./node_modules/axios/lib/cancel/isCancel.js ***!
  \***************************************************/
/***/ ((module) => {

"use strict";


module.exports = function isCancel(value) {
  return !!(value && value.__CANCEL__);
};


/***/ }),

/***/ "./node_modules/axios/lib/core/Axios.js":
/*!**********************************************!*\
  !*** ./node_modules/axios/lib/core/Axios.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");
var buildURL = __webpack_require__(/*! ../helpers/buildURL */ "./node_modules/axios/lib/helpers/buildURL.js");
var InterceptorManager = __webpack_require__(/*! ./InterceptorManager */ "./node_modules/axios/lib/core/InterceptorManager.js");
var dispatchRequest = __webpack_require__(/*! ./dispatchRequest */ "./node_modules/axios/lib/core/dispatchRequest.js");
var mergeConfig = __webpack_require__(/*! ./mergeConfig */ "./node_modules/axios/lib/core/mergeConfig.js");
var validator = __webpack_require__(/*! ../helpers/validator */ "./node_modules/axios/lib/helpers/validator.js");

var validators = validator.validators;
/**
 * Create a new instance of Axios
 *
 * @param {Object} instanceConfig The default config for the instance
 */
function Axios(instanceConfig) {
  this.defaults = instanceConfig;
  this.interceptors = {
    request: new InterceptorManager(),
    response: new InterceptorManager()
  };
}

/**
 * Dispatch a request
 *
 * @param {Object} config The config specific for this request (merged with this.defaults)
 */
Axios.prototype.request = function request(config) {
  /*eslint no-param-reassign:0*/
  // Allow for axios('example/url'[, config]) a la fetch API
  if (typeof config === 'string') {
    config = arguments[1] || {};
    config.url = arguments[0];
  } else {
    config = config || {};
  }

  config = mergeConfig(this.defaults, config);

  // Set config.method
  if (config.method) {
    config.method = config.method.toLowerCase();
  } else if (this.defaults.method) {
    config.method = this.defaults.method.toLowerCase();
  } else {
    config.method = 'get';
  }

  var transitional = config.transitional;

  if (transitional !== undefined) {
    validator.assertOptions(transitional, {
      silentJSONParsing: validators.transitional(validators.boolean, '1.0.0'),
      forcedJSONParsing: validators.transitional(validators.boolean, '1.0.0'),
      clarifyTimeoutError: validators.transitional(validators.boolean, '1.0.0')
    }, false);
  }

  // filter out skipped interceptors
  var requestInterceptorChain = [];
  var synchronousRequestInterceptors = true;
  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {
    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {
      return;
    }

    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;

    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);
  });

  var responseInterceptorChain = [];
  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {
    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);
  });

  var promise;

  if (!synchronousRequestInterceptors) {
    var chain = [dispatchRequest, undefined];

    Array.prototype.unshift.apply(chain, requestInterceptorChain);
    chain = chain.concat(responseInterceptorChain);

    promise = Promise.resolve(config);
    while (chain.length) {
      promise = promise.then(chain.shift(), chain.shift());
    }

    return promise;
  }


  var newConfig = config;
  while (requestInterceptorChain.length) {
    var onFulfilled = requestInterceptorChain.shift();
    var onRejected = requestInterceptorChain.shift();
    try {
      newConfig = onFulfilled(newConfig);
    } catch (error) {
      onRejected(error);
      break;
    }
  }

  try {
    promise = dispatchRequest(newConfig);
  } catch (error) {
    return Promise.reject(error);
  }

  while (responseInterceptorChain.length) {
    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());
  }

  return promise;
};

Axios.prototype.getUri = function getUri(config) {
  config = mergeConfig(this.defaults, config);
  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\?/, '');
};

// Provide aliases for supported request methods
utils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {
  /*eslint func-names:0*/
  Axios.prototype[method] = function(url, config) {
    return this.request(mergeConfig(config || {}, {
      method: method,
      url: url,
      data: (config || {}).data
    }));
  };
});

utils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {
  /*eslint func-names:0*/
  Axios.prototype[method] = function(url, data, config) {
    return this.request(mergeConfig(config || {}, {
      method: method,
      url: url,
      data: data
    }));
  };
});

module.exports = Axios;


/***/ }),

/***/ "./node_modules/axios/lib/core/InterceptorManager.js":
/*!***********************************************************!*\
  !*** ./node_modules/axios/lib/core/InterceptorManager.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");

function InterceptorManager() {
  this.handlers = [];
}

/**
 * Add a new interceptor to the stack
 *
 * @param {Function} fulfilled The function to handle `then` for a `Promise`
 * @param {Function} rejected The function to handle `reject` for a `Promise`
 *
 * @return {Number} An ID used to remove interceptor later
 */
InterceptorManager.prototype.use = function use(fulfilled, rejected, options) {
  this.handlers.push({
    fulfilled: fulfilled,
    rejected: rejected,
    synchronous: options ? options.synchronous : false,
    runWhen: options ? options.runWhen : null
  });
  return this.handlers.length - 1;
};

/**
 * Remove an interceptor from the stack
 *
 * @param {Number} id The ID that was returned by `use`
 */
InterceptorManager.prototype.eject = function eject(id) {
  if (this.handlers[id]) {
    this.handlers[id] = null;
  }
};

/**
 * Iterate over all the registered interceptors
 *
 * This method is particularly useful for skipping over any
 * interceptors that may have become `null` calling `eject`.
 *
 * @param {Function} fn The function to call for each interceptor
 */
InterceptorManager.prototype.forEach = function forEach(fn) {
  utils.forEach(this.handlers, function forEachHandler(h) {
    if (h !== null) {
      fn(h);
    }
  });
};

module.exports = InterceptorManager;


/***/ }),

/***/ "./node_modules/axios/lib/core/buildFullPath.js":
/*!******************************************************!*\
  !*** ./node_modules/axios/lib/core/buildFullPath.js ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var isAbsoluteURL = __webpack_require__(/*! ../helpers/isAbsoluteURL */ "./node_modules/axios/lib/helpers/isAbsoluteURL.js");
var combineURLs = __webpack_require__(/*! ../helpers/combineURLs */ "./node_modules/axios/lib/helpers/combineURLs.js");

/**
 * Creates a new URL by combining the baseURL with the requestedURL,
 * only when the requestedURL is not already an absolute URL.
 * If the requestURL is absolute, this function returns the requestedURL untouched.
 *
 * @param {string} baseURL The base URL
 * @param {string} requestedURL Absolute or relative URL to combine
 * @returns {string} The combined full path
 */
module.exports = function buildFullPath(baseURL, requestedURL) {
  if (baseURL && !isAbsoluteURL(requestedURL)) {
    return combineURLs(baseURL, requestedURL);
  }
  return requestedURL;
};


/***/ }),

/***/ "./node_modules/axios/lib/core/createError.js":
/*!****************************************************!*\
  !*** ./node_modules/axios/lib/core/createError.js ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var enhanceError = __webpack_require__(/*! ./enhanceError */ "./node_modules/axios/lib/core/enhanceError.js");

/**
 * Create an Error with the specified message, config, error code, request and response.
 *
 * @param {string} message The error message.
 * @param {Object} config The config.
 * @param {string} [code] The error code (for example, 'ECONNABORTED').
 * @param {Object} [request] The request.
 * @param {Object} [response] The response.
 * @returns {Error} The created error.
 */
module.exports = function createError(message, config, code, request, response) {
  var error = new Error(message);
  return enhanceError(error, config, code, request, response);
};


/***/ }),

/***/ "./node_modules/axios/lib/core/dispatchRequest.js":
/*!********************************************************!*\
  !*** ./node_modules/axios/lib/core/dispatchRequest.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");
var transformData = __webpack_require__(/*! ./transformData */ "./node_modules/axios/lib/core/transformData.js");
var isCancel = __webpack_require__(/*! ../cancel/isCancel */ "./node_modules/axios/lib/cancel/isCancel.js");
var defaults = __webpack_require__(/*! ../defaults */ "./node_modules/axios/lib/defaults.js");

/**
 * Throws a `Cancel` if cancellation has been requested.
 */
function throwIfCancellationRequested(config) {
  if (config.cancelToken) {
    config.cancelToken.throwIfRequested();
  }
}

/**
 * Dispatch a request to the server using the configured adapter.
 *
 * @param {object} config The config that is to be used for the request
 * @returns {Promise} The Promise to be fulfilled
 */
module.exports = function dispatchRequest(config) {
  throwIfCancellationRequested(config);

  // Ensure headers exist
  config.headers = config.headers || {};

  // Transform request data
  config.data = transformData.call(
    config,
    config.data,
    config.headers,
    config.transformRequest
  );

  // Flatten headers
  config.headers = utils.merge(
    config.headers.common || {},
    config.headers[config.method] || {},
    config.headers
  );

  utils.forEach(
    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],
    function cleanHeaderConfig(method) {
      delete config.headers[method];
    }
  );

  var adapter = config.adapter || defaults.adapter;

  return adapter(config).then(function onAdapterResolution(response) {
    throwIfCancellationRequested(config);

    // Transform response data
    response.data = transformData.call(
      config,
      response.data,
      response.headers,
      config.transformResponse
    );

    return response;
  }, function onAdapterRejection(reason) {
    if (!isCancel(reason)) {
      throwIfCancellationRequested(config);

      // Transform response data
      if (reason && reason.response) {
        reason.response.data = transformData.call(
          config,
          reason.response.data,
          reason.response.headers,
          config.transformResponse
        );
      }
    }

    return Promise.reject(reason);
  });
};


/***/ }),

/***/ "./node_modules/axios/lib/core/enhanceError.js":
/*!*****************************************************!*\
  !*** ./node_modules/axios/lib/core/enhanceError.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";


/**
 * Update an Error with the specified config, error code, and response.
 *
 * @param {Error} error The error to update.
 * @param {Object} config The config.
 * @param {string} [code] The error code (for example, 'ECONNABORTED').
 * @param {Object} [request] The request.
 * @param {Object} [response] The response.
 * @returns {Error} The error.
 */
module.exports = function enhanceError(error, config, code, request, response) {
  error.config = config;
  if (code) {
    error.code = code;
  }

  error.request = request;
  error.response = response;
  error.isAxiosError = true;

  error.toJSON = function toJSON() {
    return {
      // Standard
      message: this.message,
      name: this.name,
      // Microsoft
      description: this.description,
      number: this.number,
      // Mozilla
      fileName: this.fileName,
      lineNumber: this.lineNumber,
      columnNumber: this.columnNumber,
      stack: this.stack,
      // Axios
      config: this.config,
      code: this.code
    };
  };
  return error;
};


/***/ }),

/***/ "./node_modules/axios/lib/core/mergeConfig.js":
/*!****************************************************!*\
  !*** ./node_modules/axios/lib/core/mergeConfig.js ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ../utils */ "./node_modules/axios/lib/utils.js");

/**
 * Config-specific merge-function which creates a new config-object
 * by merging two configuration objects together.
 *
 * @param {Object} config1
 * @param {Object} config2
 * @returns {Object} New object resulting from merging config2 to config1
 */
module.exports = function mergeConfig(config1, config2) {
  // eslint-disable-next-line no-param-reassign
  config2 = config2 || {};
  var config = {};

  var valueFromConfig2Keys = ['url', 'method', 'data'];
  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];
  var defaultToConfig2Keys = [
    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',
    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',
    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',
    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',
    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'
  ];
  var directMergeKeys = ['validateStatus'];

  function getMergedValue(target, source) {
    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {
      return utils.merge(target, source);
    } else if (utils.isPlainObject(source)) {
      return utils.merge({}, source);
    } else if (utils.isArray(source)) {
      return source.slice();
    }
    return source;
  }

  function mergeDeepProperties(prop) {
    if (!utils.isUndefined(config2[prop])) {
      config[prop] = getMergedValue(config1[prop], config2[prop]);
    } else if (!utils.isUndefined(config1[prop])) {
      config[prop] = getMergedValue(undefined, config1[prop]);
    }
  }

  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {
    if (!utils.isUndefined(config2[prop])) {
      config[prop] = getMergedValue(undefined, config2[prop]);
    }
  });

  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);

  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {
    if (!utils.isUndefined(config2[prop])) {
      config[prop] = getMergedValue(undefined, config2[prop]);
    } else if (!utils.isUndefined(config1[prop])) {
      config[prop] = getMergedValue(undefined, config1[prop]);
    }
  });

  utils.forEach(directMergeKeys, function merge(prop) {
    if (prop in config2) {
      config[prop] = getMergedValue(config1[prop], config2[prop]);
    } else if (prop in config1) {
      config[prop] = getMergedValue(undefined, config1[prop]);
    }
  });

  var axiosKeys = valueFromConfig2Keys
    .concat(mergeDeepPropertiesKeys)
    .concat(defaultToConfig2Keys)
    .concat(directMergeKeys);

  var otherKeys = Object
    .keys(config1)
    .concat(Object.keys(config2))
    .filter(function filterAxiosKeys(key) {
      return axiosKeys.indexOf(key) === -1;
    });

  utils.forEach(otherKeys, mergeDeepProperties);

  return config;
};


/***/ }),

/***/ "./node_modules/axios/lib/core/settle.js":
/*!***********************************************!*\
  !*** ./node_modules/axios/lib/core/settle.js ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var createError = __webpack_require__(/*! ./createError */ "./node_modules/axios/lib/core/createError.js");

/**
 * Resolve or reject a Promise based on response status.
 *
 * @param {Function} resolve A function that resolves the promise.
 * @param {Function} reject A function that rejects the promise.
 * @param {object} response The response.
 */
module.exports = function settle(resolve, reject, response) {
  var validateStatus = response.config.validateStatus;
  if (!response.status || !validateStatus || validateStatus(response.status)) {
    resolve(response);
  } else {
    reject(createError(
      'Request failed with status code ' + response.status,
      response.config,
      null,
      response.request,
      response
    ));
  }
};


/***/ }),

/***/ "./node_modules/axios/lib/core/transformData.js":
/*!******************************************************!*\
  !*** ./node_modules/axios/lib/core/transformData.js ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");
var defaults = __webpack_require__(/*! ./../defaults */ "./node_modules/axios/lib/defaults.js");

/**
 * Transform the data for a request or a response
 *
 * @param {Object|String} data The data to be transformed
 * @param {Array} headers The headers for the request or response
 * @param {Array|Function} fns A single function or Array of functions
 * @returns {*} The resulting transformed data
 */
module.exports = function transformData(data, headers, fns) {
  var context = this || defaults;
  /*eslint no-param-reassign:0*/
  utils.forEach(fns, function transform(fn) {
    data = fn.call(context, data, headers);
  });

  return data;
};


/***/ }),

/***/ "./node_modules/axios/lib/defaults.js":
/*!********************************************!*\
  !*** ./node_modules/axios/lib/defaults.js ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var process = __webpack_require__(/*! process/browser.js */ "./node_modules/process/browser.js");


var utils = __webpack_require__(/*! ./utils */ "./node_modules/axios/lib/utils.js");
var normalizeHeaderName = __webpack_require__(/*! ./helpers/normalizeHeaderName */ "./node_modules/axios/lib/helpers/normalizeHeaderName.js");
var enhanceError = __webpack_require__(/*! ./core/enhanceError */ "./node_modules/axios/lib/core/enhanceError.js");

var DEFAULT_CONTENT_TYPE = {
  'Content-Type': 'application/x-www-form-urlencoded'
};

function setContentTypeIfUnset(headers, value) {
  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {
    headers['Content-Type'] = value;
  }
}

function getDefaultAdapter() {
  var adapter;
  if (typeof XMLHttpRequest !== 'undefined') {
    // For browsers use XHR adapter
    adapter = __webpack_require__(/*! ./adapters/xhr */ "./node_modules/axios/lib/adapters/xhr.js");
  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {
    // For node use HTTP adapter
    adapter = __webpack_require__(/*! ./adapters/http */ "./node_modules/axios/lib/adapters/xhr.js");
  }
  return adapter;
}

function stringifySafely(rawValue, parser, encoder) {
  if (utils.isString(rawValue)) {
    try {
      (parser || JSON.parse)(rawValue);
      return utils.trim(rawValue);
    } catch (e) {
      if (e.name !== 'SyntaxError') {
        throw e;
      }
    }
  }

  return (encoder || JSON.stringify)(rawValue);
}

var defaults = {

  transitional: {
    silentJSONParsing: true,
    forcedJSONParsing: true,
    clarifyTimeoutError: false
  },

  adapter: getDefaultAdapter(),

  transformRequest: [function transformRequest(data, headers) {
    normalizeHeaderName(headers, 'Accept');
    normalizeHeaderName(headers, 'Content-Type');

    if (utils.isFormData(data) ||
      utils.isArrayBuffer(data) ||
      utils.isBuffer(data) ||
      utils.isStream(data) ||
      utils.isFile(data) ||
      utils.isBlob(data)
    ) {
      return data;
    }
    if (utils.isArrayBufferView(data)) {
      return data.buffer;
    }
    if (utils.isURLSearchParams(data)) {
      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');
      return data.toString();
    }
    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {
      setContentTypeIfUnset(headers, 'application/json');
      return stringifySafely(data);
    }
    return data;
  }],

  transformResponse: [function transformResponse(data) {
    var transitional = this.transitional;
    var silentJSONParsing = transitional && transitional.silentJSONParsing;
    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;
    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';

    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {
      try {
        return JSON.parse(data);
      } catch (e) {
        if (strictJSONParsing) {
          if (e.name === 'SyntaxError') {
            throw enhanceError(e, this, 'E_JSON_PARSE');
          }
          throw e;
        }
      }
    }

    return data;
  }],

  /**
   * A timeout in milliseconds to abort a request. If set to 0 (default) a
   * timeout is not created.
   */
  timeout: 0,

  xsrfCookieName: 'XSRF-TOKEN',
  xsrfHeaderName: 'X-XSRF-TOKEN',

  maxContentLength: -1,
  maxBodyLength: -1,

  validateStatus: function validateStatus(status) {
    return status >= 200 && status < 300;
  }
};

defaults.headers = {
  common: {
    'Accept': 'application/json, text/plain, */*'
  }
};

utils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {
  defaults.headers[method] = {};
});

utils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {
  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);
});

module.exports = defaults;


/***/ }),

/***/ "./node_modules/axios/lib/helpers/bind.js":
/*!************************************************!*\
  !*** ./node_modules/axios/lib/helpers/bind.js ***!
  \************************************************/
/***/ ((module) => {

"use strict";


module.exports = function bind(fn, thisArg) {
  return function wrap() {
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }
    return fn.apply(thisArg, args);
  };
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/buildURL.js":
/*!****************************************************!*\
  !*** ./node_modules/axios/lib/helpers/buildURL.js ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");

function encode(val) {
  return encodeURIComponent(val).
    replace(/%3A/gi, ':').
    replace(/%24/g, '$').
    replace(/%2C/gi, ',').
    replace(/%20/g, '+').
    replace(/%5B/gi, '[').
    replace(/%5D/gi, ']');
}

/**
 * Build a URL by appending params to the end
 *
 * @param {string} url The base of the url (e.g., http://www.google.com)
 * @param {object} [params] The params to be appended
 * @returns {string} The formatted url
 */
module.exports = function buildURL(url, params, paramsSerializer) {
  /*eslint no-param-reassign:0*/
  if (!params) {
    return url;
  }

  var serializedParams;
  if (paramsSerializer) {
    serializedParams = paramsSerializer(params);
  } else if (utils.isURLSearchParams(params)) {
    serializedParams = params.toString();
  } else {
    var parts = [];

    utils.forEach(params, function serialize(val, key) {
      if (val === null || typeof val === 'undefined') {
        return;
      }

      if (utils.isArray(val)) {
        key = key + '[]';
      } else {
        val = [val];
      }

      utils.forEach(val, function parseValue(v) {
        if (utils.isDate(v)) {
          v = v.toISOString();
        } else if (utils.isObject(v)) {
          v = JSON.stringify(v);
        }
        parts.push(encode(key) + '=' + encode(v));
      });
    });

    serializedParams = parts.join('&');
  }

  if (serializedParams) {
    var hashmarkIndex = url.indexOf('#');
    if (hashmarkIndex !== -1) {
      url = url.slice(0, hashmarkIndex);
    }

    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;
  }

  return url;
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/combineURLs.js":
/*!*******************************************************!*\
  !*** ./node_modules/axios/lib/helpers/combineURLs.js ***!
  \*******************************************************/
/***/ ((module) => {

"use strict";


/**
 * Creates a new URL by combining the specified URLs
 *
 * @param {string} baseURL The base URL
 * @param {string} relativeURL The relative URL
 * @returns {string} The combined URL
 */
module.exports = function combineURLs(baseURL, relativeURL) {
  return relativeURL
    ? baseURL.replace(/\/+$/, '') + '/' + relativeURL.replace(/^\/+/, '')
    : baseURL;
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/cookies.js":
/*!***************************************************!*\
  !*** ./node_modules/axios/lib/helpers/cookies.js ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");

module.exports = (
  utils.isStandardBrowserEnv() ?

  // Standard browser envs support document.cookie
    (function standardBrowserEnv() {
      return {
        write: function write(name, value, expires, path, domain, secure) {
          var cookie = [];
          cookie.push(name + '=' + encodeURIComponent(value));

          if (utils.isNumber(expires)) {
            cookie.push('expires=' + new Date(expires).toGMTString());
          }

          if (utils.isString(path)) {
            cookie.push('path=' + path);
          }

          if (utils.isString(domain)) {
            cookie.push('domain=' + domain);
          }

          if (secure === true) {
            cookie.push('secure');
          }

          document.cookie = cookie.join('; ');
        },

        read: function read(name) {
          var match = document.cookie.match(new RegExp('(^|;\\s*)(' + name + ')=([^;]*)'));
          return (match ? decodeURIComponent(match[3]) : null);
        },

        remove: function remove(name) {
          this.write(name, '', Date.now() - 86400000);
        }
      };
    })() :

  // Non standard browser env (web workers, react-native) lack needed support.
    (function nonStandardBrowserEnv() {
      return {
        write: function write() {},
        read: function read() { return null; },
        remove: function remove() {}
      };
    })()
);


/***/ }),

/***/ "./node_modules/axios/lib/helpers/isAbsoluteURL.js":
/*!*********************************************************!*\
  !*** ./node_modules/axios/lib/helpers/isAbsoluteURL.js ***!
  \*********************************************************/
/***/ ((module) => {

"use strict";


/**
 * Determines whether the specified URL is absolute
 *
 * @param {string} url The URL to test
 * @returns {boolean} True if the specified URL is absolute, otherwise false
 */
module.exports = function isAbsoluteURL(url) {
  // A URL is considered absolute if it begins with "<scheme>://" or "//" (protocol-relative URL).
  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed
  // by any combination of letters, digits, plus, period, or hyphen.
  return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(url);
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/isAxiosError.js":
/*!********************************************************!*\
  !*** ./node_modules/axios/lib/helpers/isAxiosError.js ***!
  \********************************************************/
/***/ ((module) => {

"use strict";


/**
 * Determines whether the payload is an error thrown by Axios
 *
 * @param {*} payload The value to test
 * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false
 */
module.exports = function isAxiosError(payload) {
  return (typeof payload === 'object') && (payload.isAxiosError === true);
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/isURLSameOrigin.js":
/*!***********************************************************!*\
  !*** ./node_modules/axios/lib/helpers/isURLSameOrigin.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");

module.exports = (
  utils.isStandardBrowserEnv() ?

  // Standard browser envs have full support of the APIs needed to test
  // whether the request URL is of the same origin as current location.
    (function standardBrowserEnv() {
      var msie = /(msie|trident)/i.test(navigator.userAgent);
      var urlParsingNode = document.createElement('a');
      var originURL;

      /**
    * Parse a URL to discover it's components
    *
    * @param {String} url The URL to be parsed
    * @returns {Object}
    */
      function resolveURL(url) {
        var href = url;

        if (msie) {
        // IE needs attribute set twice to normalize properties
          urlParsingNode.setAttribute('href', href);
          href = urlParsingNode.href;
        }

        urlParsingNode.setAttribute('href', href);

        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils
        return {
          href: urlParsingNode.href,
          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',
          host: urlParsingNode.host,
          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\?/, '') : '',
          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',
          hostname: urlParsingNode.hostname,
          port: urlParsingNode.port,
          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?
            urlParsingNode.pathname :
            '/' + urlParsingNode.pathname
        };
      }

      originURL = resolveURL(window.location.href);

      /**
    * Determine if a URL shares the same origin as the current location
    *
    * @param {String} requestURL The URL to test
    * @returns {boolean} True if URL shares the same origin, otherwise false
    */
      return function isURLSameOrigin(requestURL) {
        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;
        return (parsed.protocol === originURL.protocol &&
            parsed.host === originURL.host);
      };
    })() :

  // Non standard browser envs (web workers, react-native) lack needed support.
    (function nonStandardBrowserEnv() {
      return function isURLSameOrigin() {
        return true;
      };
    })()
);


/***/ }),

/***/ "./node_modules/axios/lib/helpers/normalizeHeaderName.js":
/*!***************************************************************!*\
  !*** ./node_modules/axios/lib/helpers/normalizeHeaderName.js ***!
  \***************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ../utils */ "./node_modules/axios/lib/utils.js");

module.exports = function normalizeHeaderName(headers, normalizedName) {
  utils.forEach(headers, function processHeader(value, name) {
    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {
      headers[normalizedName] = value;
      delete headers[name];
    }
  });
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/parseHeaders.js":
/*!********************************************************!*\
  !*** ./node_modules/axios/lib/helpers/parseHeaders.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");

// Headers whose duplicates are ignored by node
// c.f. https://nodejs.org/api/http.html#http_message_headers
var ignoreDuplicateOf = [
  'age', 'authorization', 'content-length', 'content-type', 'etag',
  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',
  'last-modified', 'location', 'max-forwards', 'proxy-authorization',
  'referer', 'retry-after', 'user-agent'
];

/**
 * Parse headers into an object
 *
 * ```
 * Date: Wed, 27 Aug 2014 08:58:49 GMT
 * Content-Type: application/json
 * Connection: keep-alive
 * Transfer-Encoding: chunked
 * ```
 *
 * @param {String} headers Headers needing to be parsed
 * @returns {Object} Headers parsed into an object
 */
module.exports = function parseHeaders(headers) {
  var parsed = {};
  var key;
  var val;
  var i;

  if (!headers) { return parsed; }

  utils.forEach(headers.split('\n'), function parser(line) {
    i = line.indexOf(':');
    key = utils.trim(line.substr(0, i)).toLowerCase();
    val = utils.trim(line.substr(i + 1));

    if (key) {
      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {
        return;
      }
      if (key === 'set-cookie') {
        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);
      } else {
        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;
      }
    }
  });

  return parsed;
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/spread.js":
/*!**************************************************!*\
  !*** ./node_modules/axios/lib/helpers/spread.js ***!
  \**************************************************/
/***/ ((module) => {

"use strict";


/**
 * Syntactic sugar for invoking a function and expanding an array for arguments.
 *
 * Common use case would be to use `Function.prototype.apply`.
 *
 *  ```js
 *  function f(x, y, z) {}
 *  var args = [1, 2, 3];
 *  f.apply(null, args);
 *  ```
 *
 * With `spread` this example can be re-written.
 *
 *  ```js
 *  spread(function(x, y, z) {})([1, 2, 3]);
 *  ```
 *
 * @param {Function} callback
 * @returns {Function}
 */
module.exports = function spread(callback) {
  return function wrap(arr) {
    return callback.apply(null, arr);
  };
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/validator.js":
/*!*****************************************************!*\
  !*** ./node_modules/axios/lib/helpers/validator.js ***!
  \*****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var pkg = __webpack_require__(/*! ./../../package.json */ "./node_modules/axios/package.json");

var validators = {};

// eslint-disable-next-line func-names
['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {
  validators[type] = function validator(thing) {
    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;
  };
});

var deprecatedWarnings = {};
var currentVerArr = pkg.version.split('.');

/**
 * Compare package versions
 * @param {string} version
 * @param {string?} thanVersion
 * @returns {boolean}
 */
function isOlderVersion(version, thanVersion) {
  var pkgVersionArr = thanVersion ? thanVersion.split('.') : currentVerArr;
  var destVer = version.split('.');
  for (var i = 0; i < 3; i++) {
    if (pkgVersionArr[i] > destVer[i]) {
      return true;
    } else if (pkgVersionArr[i] < destVer[i]) {
      return false;
    }
  }
  return false;
}

/**
 * Transitional option validator
 * @param {function|boolean?} validator
 * @param {string?} version
 * @param {string} message
 * @returns {function}
 */
validators.transitional = function transitional(validator, version, message) {
  var isDeprecated = version && isOlderVersion(version);

  function formatMessage(opt, desc) {
    return '[Axios v' + pkg.version + '] Transitional option \'' + opt + '\'' + desc + (message ? '. ' + message : '');
  }

  // eslint-disable-next-line func-names
  return function(value, opt, opts) {
    if (validator === false) {
      throw new Error(formatMessage(opt, ' has been removed in ' + version));
    }

    if (isDeprecated && !deprecatedWarnings[opt]) {
      deprecatedWarnings[opt] = true;
      // eslint-disable-next-line no-console
      console.warn(
        formatMessage(
          opt,
          ' has been deprecated since v' + version + ' and will be removed in the near future'
        )
      );
    }

    return validator ? validator(value, opt, opts) : true;
  };
};

/**
 * Assert object's properties type
 * @param {object} options
 * @param {object} schema
 * @param {boolean?} allowUnknown
 */

function assertOptions(options, schema, allowUnknown) {
  if (typeof options !== 'object') {
    throw new TypeError('options must be an object');
  }
  var keys = Object.keys(options);
  var i = keys.length;
  while (i-- > 0) {
    var opt = keys[i];
    var validator = schema[opt];
    if (validator) {
      var value = options[opt];
      var result = value === undefined || validator(value, opt, options);
      if (result !== true) {
        throw new TypeError('option ' + opt + ' must be ' + result);
      }
      continue;
    }
    if (allowUnknown !== true) {
      throw Error('Unknown option ' + opt);
    }
  }
}

module.exports = {
  isOlderVersion: isOlderVersion,
  assertOptions: assertOptions,
  validators: validators
};


/***/ }),

/***/ "./node_modules/axios/lib/utils.js":
/*!*****************************************!*\
  !*** ./node_modules/axios/lib/utils.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var bind = __webpack_require__(/*! ./helpers/bind */ "./node_modules/axios/lib/helpers/bind.js");

// utils is a library of generic helper functions non-specific to axios

var toString = Object.prototype.toString;

/**
 * Determine if a value is an Array
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is an Array, otherwise false
 */
function isArray(val) {
  return toString.call(val) === '[object Array]';
}

/**
 * Determine if a value is undefined
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if the value is undefined, otherwise false
 */
function isUndefined(val) {
  return typeof val === 'undefined';
}

/**
 * Determine if a value is a Buffer
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Buffer, otherwise false
 */
function isBuffer(val) {
  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)
    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);
}

/**
 * Determine if a value is an ArrayBuffer
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is an ArrayBuffer, otherwise false
 */
function isArrayBuffer(val) {
  return toString.call(val) === '[object ArrayBuffer]';
}

/**
 * Determine if a value is a FormData
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is an FormData, otherwise false
 */
function isFormData(val) {
  return (typeof FormData !== 'undefined') && (val instanceof FormData);
}

/**
 * Determine if a value is a view on an ArrayBuffer
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false
 */
function isArrayBufferView(val) {
  var result;
  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {
    result = ArrayBuffer.isView(val);
  } else {
    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);
  }
  return result;
}

/**
 * Determine if a value is a String
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a String, otherwise false
 */
function isString(val) {
  return typeof val === 'string';
}

/**
 * Determine if a value is a Number
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Number, otherwise false
 */
function isNumber(val) {
  return typeof val === 'number';
}

/**
 * Determine if a value is an Object
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is an Object, otherwise false
 */
function isObject(val) {
  return val !== null && typeof val === 'object';
}

/**
 * Determine if a value is a plain Object
 *
 * @param {Object} val The value to test
 * @return {boolean} True if value is a plain Object, otherwise false
 */
function isPlainObject(val) {
  if (toString.call(val) !== '[object Object]') {
    return false;
  }

  var prototype = Object.getPrototypeOf(val);
  return prototype === null || prototype === Object.prototype;
}

/**
 * Determine if a value is a Date
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Date, otherwise false
 */
function isDate(val) {
  return toString.call(val) === '[object Date]';
}

/**
 * Determine if a value is a File
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a File, otherwise false
 */
function isFile(val) {
  return toString.call(val) === '[object File]';
}

/**
 * Determine if a value is a Blob
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Blob, otherwise false
 */
function isBlob(val) {
  return toString.call(val) === '[object Blob]';
}

/**
 * Determine if a value is a Function
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Function, otherwise false
 */
function isFunction(val) {
  return toString.call(val) === '[object Function]';
}

/**
 * Determine if a value is a Stream
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Stream, otherwise false
 */
function isStream(val) {
  return isObject(val) && isFunction(val.pipe);
}

/**
 * Determine if a value is a URLSearchParams object
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a URLSearchParams object, otherwise false
 */
function isURLSearchParams(val) {
  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;
}

/**
 * Trim excess whitespace off the beginning and end of a string
 *
 * @param {String} str The String to trim
 * @returns {String} The String freed of excess whitespace
 */
function trim(str) {
  return str.trim ? str.trim() : str.replace(/^\s+|\s+$/g, '');
}

/**
 * Determine if we're running in a standard browser environment
 *
 * This allows axios to run in a web worker, and react-native.
 * Both environments support XMLHttpRequest, but not fully standard globals.
 *
 * web workers:
 *  typeof window -> undefined
 *  typeof document -> undefined
 *
 * react-native:
 *  navigator.product -> 'ReactNative'
 * nativescript
 *  navigator.product -> 'NativeScript' or 'NS'
 */
function isStandardBrowserEnv() {
  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||
                                           navigator.product === 'NativeScript' ||
                                           navigator.product === 'NS')) {
    return false;
  }
  return (
    typeof window !== 'undefined' &&
    typeof document !== 'undefined'
  );
}

/**
 * Iterate over an Array or an Object invoking a function for each item.
 *
 * If `obj` is an Array callback will be called passing
 * the value, index, and complete array for each item.
 *
 * If 'obj' is an Object callback will be called passing
 * the value, key, and complete object for each property.
 *
 * @param {Object|Array} obj The object to iterate
 * @param {Function} fn The callback to invoke for each item
 */
function forEach(obj, fn) {
  // Don't bother if no value provided
  if (obj === null || typeof obj === 'undefined') {
    return;
  }

  // Force an array if not already something iterable
  if (typeof obj !== 'object') {
    /*eslint no-param-reassign:0*/
    obj = [obj];
  }

  if (isArray(obj)) {
    // Iterate over array values
    for (var i = 0, l = obj.length; i < l; i++) {
      fn.call(null, obj[i], i, obj);
    }
  } else {
    // Iterate over object keys
    for (var key in obj) {
      if (Object.prototype.hasOwnProperty.call(obj, key)) {
        fn.call(null, obj[key], key, obj);
      }
    }
  }
}

/**
 * Accepts varargs expecting each argument to be an object, then
 * immutably merges the properties of each object and returns result.
 *
 * When multiple objects contain the same key the later object in
 * the arguments list will take precedence.
 *
 * Example:
 *
 * ```js
 * var result = merge({foo: 123}, {foo: 456});
 * console.log(result.foo); // outputs 456
 * ```
 *
 * @param {Object} obj1 Object to merge
 * @returns {Object} Result of all merge properties
 */
function merge(/* obj1, obj2, obj3, ... */) {
  var result = {};
  function assignValue(val, key) {
    if (isPlainObject(result[key]) && isPlainObject(val)) {
      result[key] = merge(result[key], val);
    } else if (isPlainObject(val)) {
      result[key] = merge({}, val);
    } else if (isArray(val)) {
      result[key] = val.slice();
    } else {
      result[key] = val;
    }
  }

  for (var i = 0, l = arguments.length; i < l; i++) {
    forEach(arguments[i], assignValue);
  }
  return result;
}

/**
 * Extends object a by mutably adding to it the properties of object b.
 *
 * @param {Object} a The object to be extended
 * @param {Object} b The object to copy properties from
 * @param {Object} thisArg The object to bind function to
 * @return {Object} The resulting value of object a
 */
function extend(a, b, thisArg) {
  forEach(b, function assignValue(val, key) {
    if (thisArg && typeof val === 'function') {
      a[key] = bind(val, thisArg);
    } else {
      a[key] = val;
    }
  });
  return a;
}

/**
 * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)
 *
 * @param {string} content with BOM
 * @return {string} content value without BOM
 */
function stripBOM(content) {
  if (content.charCodeAt(0) === 0xFEFF) {
    content = content.slice(1);
  }
  return content;
}

module.exports = {
  isArray: isArray,
  isArrayBuffer: isArrayBuffer,
  isBuffer: isBuffer,
  isFormData: isFormData,
  isArrayBufferView: isArrayBufferView,
  isString: isString,
  isNumber: isNumber,
  isObject: isObject,
  isPlainObject: isPlainObject,
  isUndefined: isUndefined,
  isDate: isDate,
  isFile: isFile,
  isBlob: isBlob,
  isFunction: isFunction,
  isStream: isStream,
  isURLSearchParams: isURLSearchParams,
  isStandardBrowserEnv: isStandardBrowserEnv,
  forEach: forEach,
  merge: merge,
  extend: extend,
  trim: trim,
  stripBOM: stripBOM
};


/***/ }),

/***/ "./resources/js/AnyChart/anychart-base.min.js":
/*!****************************************************!*\
  !*** ./resources/js/AnyChart/anychart-base.min.js ***!
  \****************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

/* module decorator */ module = __webpack_require__.nmd(module);
function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj;}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;},_typeof(obj);}/**
 * AnyChart is lightweight robust charting library with great API and Docs, that works with your stack and has tons of chart types and features.
 *
 * Modules: anychart-cartesian, anychart-stock
 * Version: 8.11.0 (2023-01-10)
 * License: https://www.anychart.com/buy/
 * Contact: sales@anychart.com
 * Copyright: AnyChart.com 2023. All rights reserved.
 */(function(global,factory){if(( false?0:_typeof(module))==='object'&&_typeof(module.exports)==='object'){var wrapper=function wrapper(w){if(!w.document){throw Error('AnyChart requires a window with a document');}factory.call(w,w,w.document);try{w.acgraph.isNodeJS=Object.prototype.toString.call(global.process)=="[object process]";}catch(e){};return w.anychart;};module.exports=global.document?wrapper(global):wrapper;}else{factory.call(global,window,document);}})(typeof window!=='undefined'?window:this,function(window,document,opt_noGlobal){var $,_,$_=this.anychart;if($_&&(_=$_._)){$=$_.$;}else{$={};_={};}if(!_.core){_.core=1;(function($){var ba,baa,caa,_sa,Ea,daa,La,eaa,Sa,faa,Ya,gaa,ub,wb,Gb,Kb,Pb,Nb,Ob,ec,kc,wc,xc,Ac,Cc,Yb,paa,_Vc,Xc,Yc,Zc,_$c,raa,bd,vd,yd,Bd,xaa,Fd,Hd,Id,Jd,Nd,yaa,_Kd,$d,Wd,fe,Aaa,Od,Md,Ne,Pe,Ve,ff,_mf,ue,pf,_qf,rf,vf,Gf,Df,Vf,Zf,ag,bg,eg,hg,fg,ig,mg,og,pg,rg,ug,wg,yg,xg,vg,Eg,Dg,Ig,Lg,Haa,Mg,Og,Qg,Vg,Xg,Yg,Zg,Rg,Wg,Pg,bh,ch,dh,fh,kh,ih,hh,vh,xh,yh,zh,Dh,Eh,Fh,Gh,Hh,Ih,Kh,Lh,Mh,Rh,Sh,Th,Uh,Vh,Wh,Xh,bi,fi,gi,hi,ii,ji,ki,li,mi,ni,oi,pi,qi,ri,si,ti,Zh,$h,vi,_wi,_xi,_yi,Fi,Gi,Kaa,Laa,Maa,Hi,Ji,Mi,Ni,Oi,Si,Ti,Ui,Vi,Wi,Saa,Taa,jj,rj,tj,_uj,yj,Vaa,xj,vj,wj,Cj,Uaa,zj,Li,Oaa,Naa,Waa,Wj,Xj,Yj,bk,ck,dk,ek,gk,_fk,Vj,jk,sk,$b,Ki,yk,Dk,Gk,eba,hba,Qk,pba,tba,gl,Cba,Dba,ql,rl,tl,ul,xl,zl,Hl,Gl,Kl,Nl,Pl,Jba,_km,nm,_pm,lm,sm,_mm,_ym,_Am,Xa,Nm,Pm,Qm,Rm,Tm,an,bn,cn,dn,gn,jn,sn,tn,un,wn,vn,xn,yn,zn,An,Mn,Nn,On,Pn,Lba,Un,Vn,Xn,Wn,Yn,co,ao,_$n,fo,go,Nba,Oba,Pba,io,ho,_jo,ko,to,wo,Tba,Ho,ap,_fp,Uba,_gp,Sm,lp,np,_tp,sp,Wba,Vba,Yba,Ap,Ep,Fp,Gp,Mp,Jp,Kp,$ba,Op,Vp,_bq,_cq,sl,kq,lq,oq,pq,rq,tq,uq,ar,br,dr,hr,Cq,$q,Zq,Yq,zr,Er,Jr,Kr,Lr,aca,Rr,Tr,Ur,Wr,cca,Xr,Yr,Zr,bs,$r,as,eca,ds,es,fs,hs,is,ks,ns,ps,rs,As,ss,Ls,Ss,Ts,Us,Xs,Ys,Zs,$s,at,bt,ct,ot,rt,qt,st,vt,yt,zt,tt,Dt,Et,mca,Lt,Mt,Nt,Pt,Wt,Xt,_Yt,Zt,_iu,_ju,_ku,_lu,mu,_du,nu,hu,_ou,_pu,_ru,wu,xu,Bu,Cu,Du,Eu,Fu,Gu,Iu,Ku,Lu,nca,Su,Tu,pca,cv,ev,iv,jv,Xu,qca,kv,rca,Uu,mv,nv,ov,pv,tv,uv,vv,wv,xv,yv,zv,Bv,Cv,Ev,sca,Fv,Gv,Hv,Dv,tca,uca,wca,vca,Iv,Lv,Nv,Ov,Vv,Qv,Wv,Xv,Yv,Zv,$v,Sv,Rv,Tv,Uv,xca,yca,aw,bw,_dw,ew,hw,iw,jw,kw,lw,mw,nw,ow,pw,rw,sw,qw,tw,Aw,Dw,zca,Fw,Lw,Iw,Gw,Nw,Jw,zw,Tw,Uw,Ow,Vw,Bw,Kw,Rw,Ww,Zw,$w,Bca,Cca,Dca,Eca,Fca,bx,Gca,cx,dx,fx,gx,hx,ix,qx,Hca,yx,Ax,Bx,Ica,Fx,Ix,Jx,Mx,Qx,Ox,Rx,Vx,Wx,Xx,by,Yx,jy,ky,ly,my,ny,Kca,Lca,Mca,Nca,xy,yy,My,Xy,Zy,Pca,Wy,$y,cz,ez,jz,Rca,nz,pz,rz,sz,uz,yz,Sca,Az,Bz,Cz,Dz,Ez,Fz,Hz,Iz,Jz,Kz,Uz,Uca,Vca,$z,bA,gA,jA,lA,mA,qA,rA,wA,xA,yA,zA,AA,CA,DA,EA,FA,Wca,HA,IA,LA,PA,Wz,QA,TA,SA,RA,YA,$A,XA,cB,dB,eB,fB,Zz,iB,Yz,Xca,pB,qB,Yca,Zca,rB,tB,vB,yB,$ca,CB,GB,IB,JB,KB,LB,NB,MB,OB,PB,QB,RB,TB,UB,bC,cC,kC,lC,mC,oC,pC,rC,sC,wC,xC,zC,AC,EC,FC,GC,HC,BC,CC,DC,IC,JC,KC,LC,MC,NC,OC,PC,QC,RC,SC,TC,UC,VC,YC,dda,cda,_bD,cD,ZC,dD,eD,fD,kD,BD,yD,FD,ID,ED,JD,DD,LD,RD,aa,na,aaa;ba=function ba(a){return function(){return aa[a].apply(this,arguments);};};$.ca=function(a,b){return aa[a]=b;};$.n=function(a){return void 0!==a;};$.z=function(a){return"string"==typeof a;};$.da=function(a){return"boolean"==typeof a;};$.ea=function(a){return"number"==typeof a;};$.ha=function(a){a=a.split(".");for(var b=$.fa,c=0;c<a.length;c++)if(b=b[a[c]],null==b)return null;return b;};$.ia=function(){};$.ja=function(a){a.iV=void 0;a.Gd=function(){return a.iV?a.iV:a.iV=new a();};};$.ka=function(a){var b=_typeof(a);if("object"==b){if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function";}else return"null";}else if("function"==b&&"undefined"==typeof a.call)return"object";return b;};$.A=function(a){return"array"==$.ka(a);};$.la=function(a){var b=$.ka(a);return"array"==b||"object"==b&&"number"==typeof a.length;};$.ma=function(a){return $.C(a)&&"function"==typeof a.getFullYear;};$.E=function(a){return"function"==$.ka(a);};$.C=function(a){var b=_typeof(a);return"object"==b&&null!=a||"function"==b;};$.oa=function(a){return a[na]||(a[na]=++aaa);};baa=function baa(a,b,c){return a.call.apply(a.bind,arguments);};caa=function caa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c);};}return function(){return a.apply(b,arguments);};};$.pa=function(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$.pa=baa:$.pa=caa;return $.pa.apply(null,arguments);};$.qa=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b);};};$.ra=function(a,b){for(var c in b)a[c]=b[c];};$.F=function(a,b){var c=a.split("."),d=$.fa;c[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&$.n(b)?d[e]=b:d[e]&&d[e]!==Object.prototype[e]?d=d[e]:d=d[e]={};};$.H=function(a,b){function c(){}c.prototype=b.prototype;a.u=b.prototype;a.prototype=new c();a.prototype.constructor=a;a.OF=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d);};};_sa=function sa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,_sa);else{var b=Error().stack;b&&(this.stack=b);}a&&(this.message=String(a));};$.ua=function(a){return a[a.length-1];};$.va=function(a,b,c){var d=a.length,e=$.z(a)?a.split(""):a;for(--d;0<=d;--d)d in e&&b.call(c,e[d],d,a);};$.ya=function(a,b,c){b=$.wa(a,b,c);return 0>b?null:$.z(a)?a.charAt(b):a[b];};$.wa=function(a,b,c){for(var d=a.length,e=$.z(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1;};$.Aa=function(a,b){return 0<=(0,$.za)(a,b);};$.Ba=function(a,b){$.Aa(a,b)||a.push(b);};$.Da=function(a,b,c){$.Ca(a,c,0,b);};$.Fa=function(a,b){var c=(0,$.za)(a,b),d;(d=0<=c)&&Ea(a,c);return d;};Ea=function Ea(a,b){return 1==Array.prototype.splice.call(a,b,1).length;};$.Ga=function(a){return Array.prototype.concat.apply([],arguments);};daa=function daa(a){return Array.prototype.concat.apply([],arguments);};$.Ha=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c;}return[];};$.Ia=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if($.la(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var h=0;h<f;h++)a[e+h]=d[h];}else a.push(d);}};$.Ca=function(a,b,c,d){return Array.prototype.splice.apply(a,$.Ja(arguments,1));};$.Ja=function(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c);};$.Ka=function(a,b,c){function d(a){return $.C(a)?"o"+$.oa(a):_typeof(a).charAt(0)+a;}b=b||a;c=c||d;for(var e={},f=0,h=0;h<a.length;){var k=a[h++],l=c(k);Object.prototype.hasOwnProperty.call(e,l)||(e[l]=!0,b[f++]=k);}b.length=f;};$.Na=function(a,b,c){return La(a,c||$.Ma,!1,b);};$.Oa=function(a,b,c){return La(a,b,!0,void 0,c);};La=function La(a,b,c,d,e){for(var f=0,h=a.length,k;f<h;){var l=f+h>>1,m;c?m=b.call(e,a[l],l,a):m=b(d,a[l]);0<m?f=l+1:(h=l,k=!m);}return k?f:~f;};$.Pa=function(a,b){a.sort(b||$.Ma);};$.Ra=function(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||$.Ma;$.Pa(c,function(a,b){return e(a.value,b.value)||a.index-b.index;});for(d=0;d<a.length;d++)a[d]=c[d].value;};eaa=function eaa(a,b){var c=$.Ma;$.Pa(a,function(a,e){return c(b(a),b(e));});};Sa=function Sa(a){eaa(a,function(a){return a.offset;});};$.Ta=function(a,b){if(!$.la(a)||!$.la(b)||a.length!=b.length)return!1;for(var c=a.length,d=faa,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0;};$.Ma=function(a,b){return a>b?1:a<b?-1:0;};faa=function faa(a,b){return a===b;};$.Ua=function(a,b,c){c=$.Na(a,b,c);return 0>c?($.Da(a,b,-(c+1)),!0):!1;};$.Va=function(a,b){var c=[],d=0,e=a;void 0!==b&&(d=a,e=b);if(0>e-d)return[];for(;d<e;d+=1)c.push(d);return c;};Ya=function Ya(a){return $.Ga.apply([],(0,$.Wa)(a,Xa,void 0));};$.Za=function(a,b,c){return Math.min(Math.max(a,b),c);};$.$a=function(a,b){var c=a%b;return 0>c*b?c+b:c;};$.ab=function(a){return $.$a(a,360);};$.bb=function(a){return a*Math.PI/180;};$.cb=function(a){return 180*a/Math.PI;};$.db=function(a,b){return b*Math.cos($.bb(a));};$.eb=function(a,b){return b*Math.sin($.bb(a));};$.fb=function(a){return 0<a?1:0>a?-1:a;};$.gb=function(a,b){this.x=$.n(a)?a:0;this.y=$.n(b)?b:0;};$.hb=function(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1;};$.jb=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d);};$.kb=function(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d;};$.lb=function(a,b){this.width=a;this.height=b;};$.mb=function(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1;};$.I=function(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d;};$.nb=function(a,b){return a==b?!0:a&&b?a.left==b.left&&a.width==b.width&&a.top==b.top&&a.height==b.height:!1;};$.ob=function(a,b){var c=Math.max(a.left,b.left),d=Math.min(a.left+a.width,b.left+b.width);if(c<=d){var e=Math.max(a.top,b.top),f=Math.min(a.top+a.height,b.top+b.height);if(e<=f)return new $.I(c,e,d-c,f-e);}return null;};gaa=function gaa(a,b){var c;if((c=$.ob(a,b))&&c.height&&c.width){c=[];var d=a.top,e=a.height,f=a.left+a.width,h=a.top+a.height,k=b.left+b.width,l=b.top+b.height;b.top>a.top&&(c.push(new $.I(a.left,a.top,a.width,b.top-a.top)),d=b.top,e-=b.top-a.top);l<h&&(c.push(new $.I(a.left,l,a.width,h-l)),e=l-d);b.left>a.left&&c.push(new $.I(a.left,d,b.left-a.left,e));k<f&&c.push(new $.I(k,d,f-k,e));}else c=[a.clone()];return c;};$.pb=function(a,b){var c=Math.max(a.left+a.width,b.left+b.width),d=Math.max(a.top+a.height,b.top+b.height);a.left=Math.min(a.left,b.left);a.top=Math.min(a.top,b.top);a.width=c-a.left;a.height=d-a.top;};$.qb=function(a,b){return b instanceof $.gb?b.x>=a.left&&b.x<=a.left+a.width&&b.y>=a.top&&b.y<=a.top+a.height:a.left<=b.left&&a.left+a.width>=b.left+b.width&&a.top<=b.top&&a.top+a.height>=b.top+b.height;};$.rb=function(a,b){var c=b.x<a.left?a.left-b.x:Math.max(b.x-(a.left+a.width),0),d=b.y<a.top?a.top-b.y:Math.max(b.y-(a.top+a.height),0);return c*c+d*d;};$.sb=function(a){return new $.gb(a.left+a.width/2,a.top+a.height/2);};$.tb=function(a,b,c,d,e,f,h){var k=$.bb(f);f=Math.ceil(Math.abs(k)/Math.PI*2);k/=f;var l=$.bb(e);e=h?[a+$.db(e,c),b+$.eb(e,d)]:[];for(h=0;h<f;h++){var m=Math.cos(l),p=Math.sin(l),q=4/3*Math.sin(k/2)/(1+Math.cos(k/2)),r=a+(m-q*p)*c,t=b+(p+q*m)*d;l+=k;m=Math.cos(l);p=Math.sin(l);e.push(r,t,a+(m+q*p)*c,b+(p-q*m)*d,a+m*c,b+p*d);}return e;};ub=function ub(a){function b(a,b,c,d,e){var f=1-e;return f*f*f*a+3*f*f*e*b+3*f*e*e*c+e*e*e*d;}for(var c=[[arguments[0]],[arguments[1]]],d=2,e=arguments.length;d<e;d+=6){var f=[arguments[d-2],arguments[d-1]],h=[arguments[d],arguments[d+1]],k=[arguments[d+2],arguments[d+3]],l=[arguments[d+4],arguments[d+5]];c[0].push(l[0]);c[1].push(l[1]);for(var m,p=0;2>p;p++){var q=-3*f[p]+9*h[p]-9*k[p]+3*l[p],r=6*f[p]-12*h[p]+6*k[p];m=3*h[p]-3*f[p];if(0==q)0!=r&&(m=-m/r,0<m&&1>m&&c[p].push(b(f[p],h[p],k[p],l[p],m)));else{var t=r*r-4*m*q;0<t?(m=(-r+Math.sqrt(t))/(2*q),0<m&&1>m&&c[p].push(b(f[p],h[p],k[p],l[p],m)),m=(-r-Math.sqrt(t))/(2*q),0<m&&1>m&&c[p].push(b(f[p],h[p],k[p],l[p],m))):0==t&&(m=-r/(2*q),0<m&&1>m&&c[p].push(b(f[p],h[p],k[p],l[p],m)));}}}d=new $.I(Math.min.apply(null,c[0]),Math.min.apply(null,c[1]),0,0);d.width=Math.max.apply(null,c[0])-d.left;d.height=Math.max.apply(null,c[1])-d.top;return d;};wb=function wb(a){if(0==arguments.length)return null;for(var b=null,c=!1,d=0,e=arguments.length;d<e;d++)arguments[d]&&(b?(c||(c=!!(b=b.clone())),$.vb(b,arguments[d])):b=arguments[d]);return b;};$.zb=function(a,b){if(!b||$.yb(b))return a;var c=a.left,d=a.top,e=c+a.width,f=d+a.height;f=[c,d,c,f,e,d,e,f];b.transform(f,0,f,0,4);c=Math.min(f[0],f[2],f[4],f[6]);d=Math.min(f[1],f[3],f[5],f[7]);e=Math.max(f[0],f[2],f[4],f[6]);f=Math.max(f[1],f[3],f[5],f[7]);return new $.I(c,d,e-c,f-d);};$.Ab=function(a,b,c,d){var e=(a*c+b*d)/(Math.sqrt(a*a+b*b)*Math.sqrt(c*c+d*d));e=$.Za(e,-1,1);e=$.cb(Math.acos(e));return 0<a*d-b*c?e:-e;};$.Bb=function(a){return a?$.cb(Math.atan2(a.Ve,a.Le)):0;};$.Cb=function(a,b,c,d,e,f){if(6==arguments.length)this.setTransform(a,b,c,d,e,f);else{if(0!=arguments.length)throw Error("Insufficient matrix parameters");this.nd=this.Le=1;this.Ve=this.gf=this.Md=this.Hd=0;}};$.yb=function(a){return 1==a.nd&&0==a.Ve&&0==a.gf&&1==a.Le&&0==a.Md&&0==a.Hd;};$.Db=function(a,b,c){a.nd*=b;a.gf*=b;a.Md*=b;a.Ve*=c;a.Le*=c;a.Hd*=c;};$.Fb=function(a,b,c){a.Md+=b;a.Hd+=c;};Gb=function Gb(a,b,c){var d=a.nd,e=a.Ve;a.nd+=c*a.gf;a.Ve+=c*a.Le;a.gf+=b*d;a.Le+=b*e;};$.vb=function(a,b){var c=a.nd,d=a.gf;a.nd=b.nd*c+b.Ve*d;a.gf=b.gf*c+b.Le*d;a.Md+=b.Md*c+b.Hd*d;c=a.Ve;d=a.Le;a.Ve=b.nd*c+b.Ve*d;a.Le=b.gf*c+b.Le*d;a.Hd+=b.Md*c+b.Hd*d;return a;};$.Hb=function(a,b){var c=a.nd,d=a.Ve;a.nd=b.nd*c+b.gf*d;a.Ve=b.Ve*c+b.Le*d;c=a.gf;d=a.Le;a.gf=b.nd*c+b.gf*d;a.Le=b.Ve*c+b.Le*d;c=a.Md;d=a.Hd;a.Md=b.nd*c+b.gf*d+b.Md;a.Hd=b.Ve*c+b.Le*d+b.Hd;};$.Ib=function(a){var b=a.nd*a.Le-a.gf*a.Ve;return new $.Cb(a.Le/b,-a.Ve/b,-a.gf/b,a.nd/b,(a.gf*a.Hd-a.Le*a.Md)/b,(a.Ve*a.Md-a.nd*a.Hd)/b);};$.Jb=function(a,b,c){var d=new $.Cb(),e=Math.cos(a);a=Math.sin(a);return d.setTransform(e,a,-a,e,b-b*e+c*a,c-b*a-c*e);};Kb=function Kb(a,b){var c=a.left,d=a.top;b=b.toLowerCase();switch(b){case"left-center":d+=a.height/2;break;case"left-bottom":d+=a.height;break;case"center-top":c+=a.width/2;break;case"center":c+=a.width/2;d+=a.height/2;break;case"center-bottom":c+=a.width/2;d+=a.height;break;case"right-top":c+=a.width;break;case"right-center":c+=a.width;d+=a.height/2;break;case"right-bottom":c+=a.width,d+=a.height;}return[c,d];};$.Mb=function(a){var b,c,d=a.trim().replace(/\(\s+/gi,"(").replace(/\s+\)/gi,")").replace(/(\s+,\s+)|(\s+)/gi,",").replace(/(\)),*(\w)/gi,"$1 $2").split(" "),e=new $.Cb();a=0;for(c=d.length;a<c;a++){var f=/^(matrix|translate|rotate|scale|skewX|skewY)\(([e\d.,-]+)\)/i.exec(d[a]);var h=f[1],k=f[2].split(",");f=0;for(b=k.length;f<b;f++)k[f]=(0,window.parseFloat)(k[f]);switch(h){case"matrix":h=new $.Cb(k[0],k[1],k[2],k[3],k[4],k[5]);$.vb(e,h);break;case"translate":e.translate(k[0],k[1]||0);break;case"rotate":e.rotate($.bb(k[0]),k[1]||0,k[2]||0);break;case"scale":e.scale(k[0],k[1]||0);break;case"skewX":Gb(e,Math.tan($.bb(k[0])),0);break;case"skewY":Gb(e,0,Math.tan($.bb(k[0])));}}return e;};$.Xb=function(a,b,c,d,e,f,h){var k,l;if($.z(a)){var m=Nb(a,!1);$.z(m)&&$.n(b)&&(d=(0,window.parseFloat)(b),m={color:a,opacity:(0,window.isNaN)(d)?1:$.Za(d,0,1)});}else if($.A(a)){var p=$.Ja(a,0);for(k=p.length;k--;){var q=p[k];$.z(q)&&(q=Ob(q));(0,window.isNaN)(q.offset)&&(q.offset=k/(p.length-1||1));p[k]=q;}q=$.Ja(p,0);q.sort(function(a,b){return a.offset-b.offset;});if(0!=q[0].offset){var r={offset:0,color:p[0].color};$.n(p[0].opacity)&&!(0,window.isNaN)(p[0].opacity)&&(r.opacity=$.Za(p[0].opacity,0,1));p.unshift(r);}1!=q[q.length-1].offset&&(r={offset:1,color:p[p.length-1].color},$.n(p[p.length-1].opacity)&&!(0,window.isNaN)(p[p.length-1].opacity)&&(r.opacity=$.Za(p[p.length-1].opacity,0,1)),p.push(r));$.ea(b)&&!(0,window.isNaN)(b)&&$.ea(c)&&!(0,window.isNaN)(c)?(b=b||0,c=c||0,m={keys:p,cx:b,cy:c,mode:Pb(d),fx:(0,window.isNaN)(f)?b:+f,fy:(0,window.isNaN)(h)?c:+h,opacity:$.Za($.n(e)?e:1,0,1)}):m={keys:p,angle:+b||0,mode:Pb(c)||!!c,opacity:$.Za((0,window.isNaN)(+d)?1:+d,0,1)};}else if($.C(a)){if($.J(a,$.Qb))m=a;else if("pattern"==a.type)delete a.id,m=a.bounds,m=new $.I(m.left,m.top,m.width,m.height),m=$.Rb(m),m.me(a);else if("keys"in a){p=$.Ja(a.keys,0);for(k=p.length;k--;)q=p[k],$.z(q)?r=Ob(q):($.z(q.color)?l=q.color:l=$.A(q.color)?$.Wb(q.color):"black",r={offset:q.offset,color:l},(0,window.isNaN)(q.opacity)||(r.opacity=$.Za(q.opacity,0,1))),(0,window.isNaN)(r.offset)&&(r.offset=k/(p.length-1||1)),p[k]=r;q=$.Ja(p,0);q.sort(function(a,b){return a.offset-b.offset;});0!=q[0].offset&&(r={offset:0,color:p[0].color},$.n(p[0].opacity)&&!(0,window.isNaN)(p[0].opacity)&&(r.opacity=$.Za(p[0].opacity,0,1)),p.unshift(r));1!=q[q.length-1].offset&&(r={offset:1,color:p[p.length-1].color},$.n(p[p.length-1].opacity)&&!(0,window.isNaN)(p[p.length-1].opacity)&&(r.opacity=$.Za(p[p.length-1].opacity,0,1)),p.push(r));d=$.Za($.n(a.opacity)?a.opacity:1,0,1);e=Pb(a.mode);b=a.cx;c=a.cy;$.ea(b)&&!(0,window.isNaN)(b)&&$.ea(c)&&!(0,window.isNaN)(c)?m={keys:p,cx:+b,cy:+c,mode:e,fx:(0,window.isNaN)(a.fx)?+a.cx:+a.fx,fy:(0,window.isNaN)(a.fy)?+a.cy:+a.fy,opacity:d}:m={keys:p,angle:+a.angle||0,mode:e||!!a.mode,opacity:d};a=a.transform;null!=a&&($.J(a,$.Cb)?m.transform=a:$.C(a)?(m.transform=new $.Cb(),m.transform.setTransform(a.m00,a.m10,a.m01,a.m11,a.m02,a.m12)):$.z(a)&&(m.transform=$.Mb(a)));}else"src"in a?m={src:a.src,mode:$.n(a.mode)?a.mode:"stretch",opacity:$.Za($.n(a.opacity)?a.opacity:1,0,1)}:(l=$.z(a.color)?a.color:"black",(0,window.isNaN)(a.opacity)?m=l:m={color:l,opacity:$.Za(a.opacity,0,1)});}else m="none";return m;};$.Zb=function(a,b,c,d,e){if(null===a)var f="none";else{if($.z(a)){f=Yb(a,1);var h=(0,window.parseFloat)(f[0]);(0,window.isNaN)(h)||(a=f[1],b=h);}f=$.C(a);b=(0,window.parseFloat)(f&&"thickness"in a?a.thickness:b);if(!(0,window.isNaN)(b)&&!b)return"none";h=f&&"dash"in a;var k=f&&"lineJoin"in a,l=f&&"lineCap"in a;f=$.Xb(a);if("none"==f)return f;f=$.J(f,$.Qb)?"black":f;if(!(0,window.isNaN)(b)||h||k||l||$.n(c)||$.n(d)||$.n(e))$.z(f)&&(f={color:f}),(0,window.isNaN)(b)||(f.thickness=b),h?f.dash=a.dash||"none":null!=c&&(f.dash=c||"none"),k?f.lineJoin=a.lineJoin||"none":null!=d&&(f.lineJoin=d||"none"),l?f.lineCap=a.lineCap||"none":null!=e&&(f.lineCap=e||"none");}return f;};$.ac=function(a,b,c,d){if($.z(a)&&"none"==a.toLowerCase())return null;$.z(a)||$.ea(a)?b=$b(a,b,$.n(c)?(0,window.parseFloat)(c):void 0,$.n(d)?(0,window.parseFloat)(d):void 0):$.J(a,$.Qb)?b=a:$.C(a)?"pattern"==a.type?(delete a.id,b=a.bounds,b=new $.I(b.left,b.top,b.width,b.height),b=$.Rb(b),b.me(a)):b=$b(a.type,a.color,a.thickness,a.size):b=null;return b;};Pb=function Pb(a){if(null!=a){if($.J(a,$.I))return a;if($.C(a)&&!(0,window.isNaN)(a.left)&&!(0,window.isNaN)(a.top)&&!(0,window.isNaN)(a.width)&&!(0,window.isNaN)(a.height))return new $.I(a.left,a.top,a.width,a.height);}return null;};$.bc=function(a){return"object"===$.ka(a)&&"offsetX"in a&&"offsetY"in a?a.offsetX+" "+a.offsetY+" "+(a.blurRadius||"0")+" "+(a.color||""):$.z(a)?a:"none";};Nb=function Nb(a,b){var c=a.split(" "),d=1<c.length?$.Za(+c[c.length-1],0,1):window.NaN;if((0,window.isNaN)(d)){if(b)return{color:a};d=1;}else c.pop(),a=c.join(" ");return b||1!=d?{color:a,opacity:d}:a;};Ob=function Ob(a){var b=Yb(a,1),c=window.NaN;1<b.length&&(c=(0,window.parseFloat)(b[0]),a=(0,window.isNaN)(c)?a:b[1]);a=Nb(a,!0);(0,window.isNaN)(c)||(a.offset=$.Za(c,0,1));return a;};$.cc=function(a){var b;return a&&"none"!=a?(0,window.isNaN)(b=a.thickness)||null===b?1:b:0;};$.dc=function(){};$.fc=function(a,b,c){return b[a.b]||(b[a.b]=ec(a,b,c));};ec=function ec(a,b,c){return["ac",$.n(c)?c:b.Qm?b.Qm():"",a.i,(a.f++).toString(36)].join("_");};$.gc=function(a,b){return 0==a.lastIndexOf(b,0);};$.hc=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c;};$.ic=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s");};$.jc=function(a){return a.replace(/(\r\n|\r|\n)/g,"\n");};kc=function kc(a){return a.replace(/\xa0|[ \t]+/g," ");};$.lc=function(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"");};$.pc=function(a){return a.replace(/^[\s\xa0]+/,"");};$.rc=function(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>");};$.sc=function(a){if(!haa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(iaa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(jaa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(kaa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(laa,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(maa,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(naa,"&#0;"));return a;};wc=function wc(a){for(var b=[],c=0;c<a.length;c++){var d=c;var e=a.charAt(c);if(e in tc)e=tc[e];else if(e in uc)e=tc[e]=uc[e];else{var f=e.charCodeAt(0);if(31<f&&127>f)var h=e;else{if(256>f){if(h="\\x",16>f||256<f)h+="0";}else h="\\u",4096>f&&(h+="0");h+=f.toString(16).toUpperCase();}e=tc[e]=h;}b[d]=e;}return b.join("");};xc=function xc(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08");};$.yc=function(a,b){var c=$.n(void 0)?a.toFixed(void 0):String(a),d=c.indexOf(".");-1==d&&(d=c.length);return oaa("0",Math.max(0,b-d))+c;};$.Bc=function(a,b){for(var c=0,d=(0,$.zc)(String(a)).split("."),e=(0,$.zc)(String(b)).split("."),f=Math.max(d.length,e.length),h=0;0==c&&h<f;h++){var k=d[h]||"",l=e[h]||"";do{k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];if(0==k[0].length&&0==l[0].length)break;c=Ac(0==k[1].length?0:(0,window.parseInt)(k[1],10),0==l[1].length?0:(0,window.parseInt)(l[1],10))||Ac(0==k[2].length,0==l[2].length)||Ac(k[2],l[2]);k=k[3];l=l[3];}while(0==c);}return c;};Ac=function Ac(a,b){return a<b?-1:a>b?1:0;};Cc=function Cc(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase();});};$.Dc=function(a){var b=$.z(void 0)?xc(void 0):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase();});};Yb=function Yb(a,b){for(var c=a.split(" "),d=[];0<b&&c.length;)d.push(c.shift()),b--;c.length&&d.push(c.join(" "));return d;};$.Fc=function(a){return-1!=Ec.indexOf(a);};$.Gc=function(a,b,c){for(var d in a)b.call(c,a[d],d,a);};paa=function paa(a,b){var c={},d;for(d in a)b.call(void 0,a[d],d,a)&&(c[d]=a[d]);return c;};$.Hc=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b;};$.Ic=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b;};$.Jc=function(a,b){return null!==a&&b in a;};$.Lc=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d;};$.Mc=function(a,b){var c=$.Lc(a,b,void 0);return c&&a[c];};$.Nc=function(a){for(var b in a)return!1;return!0;};$.Oc=function(a){for(var b in a)delete a[b];};$.Pc=function(a,b){b in a&&delete a[b];};$.Qc=function(a,b,c){if(null!==a&&b in a)throw Error('The object already contains the key "'+b+'"');a[b]=c;};$.Rc=function(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0;};$.Sc=function(a){var b={},c;for(c in a)b[c]=a[c];return b;};$.Uc=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Tc.length;f++)c=Tc[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c]);}};_Vc=function Vc(a){var b=arguments.length;if(1==b&&$.A(arguments[0]))return _Vc.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c;};$.Wc=function(){return $.Fc("Trident")||$.Fc("MSIE");};Xc=function Xc(){return($.Fc("Chrome")||$.Fc("CriOS"))&&!$.Fc("Edge");};Yc=function Yc(){return $.Fc("iPhone")&&!$.Fc("iPod")&&!$.Fc("iPad");};Zc=function Zc(){return Yc()||$.Fc("iPad")||$.Fc("iPod");};_$c=function $c(a){_$c[" "](a);return a;};$.ad=function(a,b){try{return _$c(a[b]),!0;}catch(c){}return!1;};raa=function raa(a,b){var c=qaa;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a);};bd=function bd(){var a=$.fa.document;return a?a.documentMode:void 0;};$.dd=function(a){return raa(a,function(){return 0<=$.Bc($.cd,a);});};$.fd=function(a){return Number(ed)>=a;};$.gd=function(a){var b=$.ka(a);if("array"==b){b=[];for(var c=0;c<a.length;c++)c in a&&(b[c]=$.gd(a[c]));}else if("object"==b)for(c in b={},a)a.hasOwnProperty(c)&&(b[c]=$.gd(a[c]));else return a;return b;};$.jd=function(a,b,c){if($.hd||$.id)a.apply(c,b);else for(var d=0,e=5E4,f=Math.ceil(b.length/5E4),h=0;h<f;h++)a.apply(c,b.slice(d,e)),d+=5E4,e+=5E4;};$.J=function(a,b){return!!a&&a instanceof b;};$.kd=function(a){return saa[a]||"Unknown error happened";};$.nd=function(){0!=ld&&(md[$.oa(this)]=this);this.ld=this.ld;this.$u=this.$u;};$.qd=function(a,b){$.od(a,$.qa($.pd,b));};$.od=function(a,b,c){a.ld?$.n(c)?b.call(c):b():(a.$u||(a.$u=[]),a.$u.push($.n(c)?(0,$.pa)(b,c):b));};$.pd=function(a){a&&"function"==typeof a.kd&&a.kd();};$.ud=function(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];$.la(d)?$.ud.apply(null,d):$.pd(d);}};vd=function vd(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.b=!1;this.g5=!0;};yd=function yd(a){return $.wd?"webkit"+a:$.xd?"o"+a.toLowerCase():a.toLowerCase();};$.Ad=function(a,b){vd.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.f=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.i=!1;this.pointerId=0;this.pointerType="";this.Be=null;if(a){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;e?$.hd&&($.ad(e,"nodeName")||(e=null)):"mouseover"==c?e=a.fromElement:"mouseout"==c&&(e=a.toElement);this.relatedTarget=e;null===d?(this.offsetX=$.wd||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=$.wd||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.f=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.i=$.zd?a.metaKey:a.ctrlKey;this.pointerId=a.pointerId||0;this.pointerType=$.z(a.pointerType)?a.pointerType:taa[a.pointerType]||"";this.state=a.state;this.Be=a;a.defaultPrevented&&this.preventDefault();}};Bd=function Bd(a,b){return uaa?a.Be.button==b:"click"==a.type?0==b:!!(a.Be.button&vaa[b]);};$.Dd=function(a){return!(!a||!a[Cd]);};xaa=function xaa(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.xy=e;this.key=++waa;this.mE=this.ZK=!1;};Fd=function Fd(a){a.mE=!0;a.listener=null;a.proxy=null;a.src=null;a.xy=null;};Hd=function Hd(a){this.src=a;this.b={};this.f=0;};Id=function Id(a,b){var c=b.type;if(!(c in a.b))return!1;var d=$.Fa(a.b[c],b);d&&(Fd(b),0==a.b[c].length&&(delete a.b[c],a.f--));return d;};Jd=function Jd(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.mE&&f.listener==b&&f.capture==!!c&&f.xy==d)return e;}return-1;};$.Ld=function(a,b,c,d,e){if(d&&d.once)return _Kd(a,b,c,d,e);if($.A(b)){for(var f=0;f<b.length;f++)$.Ld(a,b[f],c,d,e);return null;}c=Md(c);return $.Dd(a)?a.ua(b,c,$.C(d)?!!d.capture:!!d,e):Nd(a,b,c,!1,d,e);};Nd=function Nd(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=$.C(e)?!!e.capture:!!e,k=Od(a);k||(a[Vd]=k=new Hd(a));c=k.add(b,c,d,h,f);if(c.proxy)return c;d=yaa();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)zaa||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(Wd(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");Xd++;return c;};yaa=function yaa(){var a=Aaa,b=Yd?function(c){return a.call(b.src,b.listener,c);}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c;};return b;};_Kd=function Kd(a,b,c,d,e){if($.A(b)){for(var f=0;f<b.length;f++)_Kd(a,b[f],c,d,e);return null;}c=Md(c);return $.Dd(a)?a.De(b,c,$.C(d)?!!d.capture:!!d,e):Nd(a,b,c,!0,d,e);};$.Zd=function(a,b,c,d,e){if($.A(b)){for(var f=0;f<b.length;f++)$.Zd(a,b[f],c,d,e);return null;}d=$.C(d)?!!d.capture:!!d;c=Md(c);if($.Dd(a))return a.ec(b,c,d,e);if(!a)return!1;if(a=Od(a))if(b=a.VG(b,c,d,e))return $d(b);return!1;};$d=function $d(a){if($.ea(a)||!a||a.mE)return!1;var b=a.src;if($.Dd(b))return b.JB(a);var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(Wd(c),d):b.addListener&&b.removeListener&&b.removeListener(d);Xd--;(c=Od(b))?(Id(c,a),0==c.f&&(c.src=null,b[Vd]=null)):Fd(a);return!0;};$.ce=function(a,b){if(!a)return 0;if($.Dd(a))return a.zl(b);var c=Od(a);if(!c)return 0;var d=0,e=b&&b.toString(),f;for(f in c.b)if(!e||f==e)for(var h=c.b[f].concat(),k=0;k<h.length;++k)$d(h[k])&&++d;return d;};$.de=function(a,b,c,d,e){c=Md(c);d=!!d;return $.Dd(a)?a.VG(b,c,d,e):a?(a=Od(a))?a.VG(b,c,d,e):null:null;};Wd=function Wd(a){return a in ee?ee[a]:ee[a]="on"+a;};$.ge=function(a,b,c,d){var e=!0;if(a=Od(a))if(b=a.b[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.mE&&(f=fe(f,d),e=e&&!1!==f);}return e;};fe=function fe(a,b){var c=a.listener,d=a.xy||a.src;a.ZK&&$d(a);return c.call(d,b);};Aaa=function Aaa(a,b){if(a.mE)return!0;if(!Yd){var c=b||$.ha("window.event"),d=new $.Ad(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break a;}catch(l){f=!0;}if(f||void 0==c.returnValue)c.returnValue=!0;}c=[];for(f=d.currentTarget;f;f=f.parentNode)c.push(f);f=a.type;for(var h=c.length-1;!d.b&&0<=h;h--){d.currentTarget=c[h];var k=$.ge(c[h],f,!0,d);e=e&&k;}for(h=0;!d.b&&h<c.length;h++)d.currentTarget=c[h],k=$.ge(c[h],f,!1,d),e=e&&k;}return e;}return fe(a,new $.Ad(b,this));};Od=function Od(a){a=a[Vd];return a instanceof Hd?a:null;};Md=function Md(a){if($.E(a))return a;a[he]||(a[he]=function(b){return a.handleEvent(b);});return a[he];};$.je=function(){this.b="";this.f=$.ie;};$.ke=function(a){var b=new $.je();b.b=a;return b;};$.me=function(){this.f="";this.i=$.le;};$.ne=function(a){var b=new $.me();b.f=a;return b;};$.pe=function(){this.b="";this.f=$.oe;};$.qe=function(a){var b=new $.pe();b.b=a;return b;};$.se=function(){this.f="";this.j=$.re;this.i=null;};$.te=function(a,b){var c=new $.se();c.f=a;c.i=b;return c;};$.Be=function(a){return a?new ue($.ve(a)):we||(we=new ue());};$.Ce=function(a,b){return $.z(b)?a.getElementById(b):b;};$.De=function(a,b,c,d){a=d||a;b=b&&"*"!=b?String(b).toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,h;h=a[f];f++)b==h.nodeName&&(d[e++]=h);d.length=e;return d;}return a;}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;h=a[f];f++)b=h.className,"function"==typeof b.split&&$.Aa(b.split(/\s+/),c)&&(d[e++]=h);d.length=e;return d;}return a;};$.Fe=function(a,b){$.Gc(b,function(b,d){b&&b.zy&&(b=b.au());"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:Ee.hasOwnProperty(d)?a.setAttribute(Ee[d],b):$.gc(d,"aria-")||$.gc(d,"data-")?a.setAttribute(d,b):a[d]=b;});};$.He=function(a){a=a.document;a=$.Ge(a)?a.documentElement:a.body;return new $.lb(a.clientWidth,a.clientHeight);};$.Me=function(a){var b=$.Ie(a);a=$.Je(a);return $.id&&$.dd("10")&&a.pageYOffset!=b.scrollTop?new $.gb(b.scrollLeft,b.scrollTop):new $.gb(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop);};$.Ie=function(a){return a.scrollingElement?a.scrollingElement:!$.wd&&$.Ge(a)?a.documentElement:a.body||a.documentElement;};$.Je=function(a){return a.parentWindow||a.defaultView;};$.Oe=function(a,b,c){return Ne(window.document,arguments);};Ne=function Ne(a,b){var c=String(b[0]),d=b[1];if(!Baa&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',$.sc(d.name),'"');if(d.type){c.push(' type="',$.sc(d.type),'"');var e={};$.Uc(e,d);delete e.type;d=e;}c.push(">");c=c.join("");}c=a.createElement(c);d&&($.z(d)?c.className=d:$.A(d)?c.className=d.join(" "):$.Fe(c,d));2<b.length&&Pe(a,c,b,2);return c;};Pe=function Pe(a,b,c,d){function e(c){c&&b.appendChild($.z(c)?a.createTextNode(c):c);}for(;d<c.length;d++){var f=c[d];$.la(f)&&!$.Qe(f)?(0,$.Re)($.Se(f)?$.Ha(f):f,e):e(f);}};$.Te=function(a,b){return a.createElement(String(b));};$.Ge=function(a){return"CSS1Compat"==a.compatMode;};$.Ue=function(a,b){a.appendChild(b);};Ve=function Ve(a,b){Pe($.ve(a),a,arguments,1);};$.We=function(a){for(var b;b=a.firstChild;)a.removeChild(b);};$.Xe=function(a,b,c){a.insertBefore(b,a.childNodes[c]||null);};$.Ye=function(a){a&&a.parentNode&&a.parentNode.removeChild(a);};$.$e=function(a){return Caa&&void 0!=a.children?a.children:(0,$.Ze)(a.childNodes,function(a){return 1==a.nodeType;});};$.af=function(a){if($.n(a.firstElementChild))a=a.firstElementChild;else for(a=a.firstChild;a&&1!=a.nodeType;)a=a.nextSibling;return a;};$.Qe=function(a){return $.C(a)&&0<a.nodeType;};$.bf=function(a){return $.C(a)&&1==a.nodeType;};$.cf=function(a){var b;if(Daa&&!($.id&&$.dd("9")&&!$.dd("10")&&$.fa.SVGElement&&a instanceof $.fa.SVGElement)&&(b=a.parentElement))return b;b=a.parentNode;return $.bf(b)?b:null;};$.df=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a;};$.ve=function(a){return 9==a.nodeType?a:a.ownerDocument||a.document;};$.ef=function(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=String(b);else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=String(b);}else $.We(a),a.appendChild($.ve(a).createTextNode(String(b)));};ff=function ff(a){if("outerHTML"in a)return a.outerHTML;var b=$.Te($.ve(a),"DIV");b.appendChild(a.cloneNode(!0));return b.innerHTML;};$.gf=function(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"));};$.jf=function(a){return $.id&&!$.dd("9")?(a=a.getAttributeNode("tabindex"),null!=a&&a.specified):a.hasAttribute("tabindex");};$.lf=function(a){a=a.tabIndex;return $.ea(a)&&0<=a&&32768>a;};$.nf=function(a){var b=[];_mf(a,b,!1);return b.join("");};_mf=function mf(a,b,c){if(!(a.nodeName in Eaa))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in of)b.push(of[a.nodeName]);else for(a=a.firstChild;a;)_mf(a,b,c),a=a.nextSibling;};$.Se=function(a){if(a&&"number"==typeof a.length){if($.C(a))return"function"==typeof a.item||"string"==typeof a.item;if($.E(a))return"function"==typeof a.item;}return!1;};ue=function ue(a){this.b=a||$.fa.document||window.document;};pf=function pf(a){$.nd.call(this);this.oo=a;this.b={};};_qf=function qf(a,b,c,d,e,f){if($.A(c))for(var h=0;h<c.length;h++)_qf(a,b,c[h],d,e,f);else{b=_Kd(b,c,d||a.handleEvent,e,f||a.oo||a);if(!b)return a;a.b[b.key]=b;}return a;};rf=function rf(a){$.Gc(a.b,function(a,c){this.b.hasOwnProperty(c)&&$d(a);},a);a.b={};};$.tf=function(){$.nd.call(this);this.dy=new Hd(this);this.y$=this;this.NW=null;};$.uf=function(a,b,c,d){b=a.dy.b[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.mE&&h.capture==c){var k=h.listener,l=h.xy||h.src;h.ZK&&a.JB(h);e=!1!==k.call(l,d)&&e;}}return e&&0!=d.g5;};$.wf=function(a,b,c){if($.z(b))(b=vf(a,b))&&(a.style[b]=c);else for(var d in b){c=a;var e=b[d],f=vf(c,d);f&&(c.style[f]=e);}};vf=function vf(a,b){var c=zf[b];if(!c){var d=Cc(b);c=d;void 0===a.style[d]&&(d=($.wd?"Webkit":$.hd?"Moz":$.id?"ms":$.xd?"O":null)+$.Dc(d),void 0!==a.style[d]&&(c=d));zf[b]=c;}return c;};$.Af=function(a,b){var c=a.style[Cc(b)];return"undefined"!==typeof c?c:a.style[vf(a,b)]||"";};$.Bf=function(a,b){var c=$.ve(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":"";};$.Cf=function(a,b){return $.Bf(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b];};$.Ef=function(a,b,c){if(b instanceof $.gb){var d=b.x;b=b.y;}else d=b,b=c;a.style.left=Df(d,!1);a.style.top=Df(b,!1);};$.Ff=function(a){a=a?$.ve(a):window.document;return!$.id||$.fd(9)||$.Ge($.Be(a).b)?a.documentElement:a.body;};Gf=function Gf(a){try{var b=a.getBoundingClientRect();}catch(c){return{left:0,top:0,right:0,bottom:0};}$.id&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b;};$.Hf=function(a){var b=$.ve(a),c=new $.gb(0,0),d=$.Ff(b);if(a==d)return c;a=Gf(a);b=$.Me($.Be(b).b);c.x=a.left+b.x;c.y=a.top+b.y;return c;};$.If=function(a){a=Gf(a);return new $.gb(a.left,a.top);};$.Jf=function(a){if(1==a.nodeType)return $.If(a);a=a.changedTouches?a.changedTouches[0]:a;return new $.gb(a.clientX,a.clientY);};$.Kf=function(a,b,c){if(b instanceof $.lb)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");a.style.width=Df(b,!0);a.style.height=Df(c,!0);};Df=function Df(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a;};$.Pf=function(a){var b=$.Of;if("none"!=$.Cf(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=e;return a;};$.Of=function(a){var b=a.offsetWidth,c=a.offsetHeight,d=$.wd&&!b&&!c;return $.n(b)&&!d||!a.getBoundingClientRect?new $.lb(b,c):(a=Gf(a),new $.lb(a.right-a.left,a.bottom-a.top));};$.Qf=function(a){var b=$.Hf(a);a=$.Pf(a);return new $.I(b.x,b.y,a.width,a.height);};$.Rf=function(a,b){a.style.display=b?"":"none";};$.Sf=function(a){return"rtl"==$.Cf(a,"direction");};$.Uf=function(a,b,c){c=c?null:a.getElementsByTagName("*");if(Tf){if(b=b?"none":"",a.style&&(a.style[Tf]=b),c){a=0;for(var d;d=c[a];a++)d.style&&(d.style[Tf]=b);}}else if($.id||$.xd)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b);};$.Yf=function(a){var b=$.ve(a),c=$.id&&a.currentStyle;if(c&&$.Ge($.Be(b).b)&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)return b=Vf(a,c.width,"width","pixelWidth"),a=Vf(a,c.height,"height","pixelHeight"),new $.lb(b,a);c=new $.lb(a.offsetWidth,a.offsetHeight);b=$.Wf(a,"padding");a=$.Xf(a);return new $.lb(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom);};Vf=function Vf(a,b,c,d){if(/^\d+px?$/.test(b))return(0,window.parseInt)(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return+b;};Zf=function Zf(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?Vf(a,c,"left","pixelLeft"):0;};$.Wf=function(a,b){if($.id){var c=Zf(a,b+"Left"),d=Zf(a,b+"Right"),e=Zf(a,b+"Top"),f=Zf(a,b+"Bottom");return new $.kb(e,d,f,c);}c=$.Bf(a,b+"Left");d=$.Bf(a,b+"Right");e=$.Bf(a,b+"Top");f=$.Bf(a,b+"Bottom");return new $.kb((0,window.parseFloat)(e),(0,window.parseFloat)(d),(0,window.parseFloat)(f),(0,window.parseFloat)(c));};ag=function ag(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in $f?$f[c]:Vf(a,c,"left","pixelLeft");};$.Xf=function(a){if($.id&&!$.fd(9)){var b=ag(a,"borderLeft"),c=ag(a,"borderRight"),d=ag(a,"borderTop");a=ag(a,"borderBottom");return new $.kb(d,c,a,b);}b=$.Bf(a,"borderLeftWidth");c=$.Bf(a,"borderRightWidth");d=$.Bf(a,"borderTopWidth");a=$.Bf(a,"borderBottomWidth");return new $.kb((0,window.parseFloat)(d),(0,window.parseFloat)(c),(0,window.parseFloat)(a),(0,window.parseFloat)(b));};bg=function bg(a){return(a=a.exec(Ec))?a[1]:"";};$.cg=function(a,b,c){$.tf.call(this);this.target=a;this.D=b||a;this.f=c||new $.I(window.NaN,window.NaN,window.NaN,window.NaN);this.j=$.ve(a);this.Og=new pf(this);$.qd(this,this.Og);this.deltaY=this.deltaX=this.Ba=this.ma=this.screenY=this.screenX=this.clientY=this.clientX=0;this.K=!0;this.hp=!1;this.P=0;$.Ld(this.D,["touchstart","mousedown"],this.kk,!1,this);this.G=Faa;};$.dg=function(a){a.P=Math.pow(3,2);};eg=function eg(a,b,c){var d=$.Me($.Be(a.j).b);b+=d.x-a.aa.x;c+=d.y-a.aa.y;a.aa=d;a.deltaX+=b;a.deltaY+=c;b=a.OA(a.deltaX);a=a.uw(a.deltaY);return new $.gb(b,a);};hg=function hg(a,b,c,d){a.gs(c,d);a.dispatchEvent(new fg("drag",a,b.clientX,b.clientY,b,c,d));};fg=function fg(a,b,c,d,e,f,h,k){vd.call(this,a);this.clientX=c;this.clientY=d;this.tC=e;this.left=$.n(f)?f:b.deltaX;this.top=$.n(h)?h:b.deltaY;this.f=b;this.j=!!k;};ig=function ig(a){$.cg.call(this,a.ia());this.i=a;this.b=[window.NaN,window.NaN];this.ua("earlycancel",this.Cja,!1,this);this.ua("start",this.CO,!1,this);this.ua("beforedrag",this.CO,!1,this);this.ua("drag",this.CO,!1,this);this.ua("end",this.CO,!1,this);};$.kg=function(){$.tf.call(this);this.qC={};this.AV=!1;this.wP=0;this.Ob(jg);};$.lg=function(a,b){a.LC&=~b;};mg=function mg(a,b){a.dB&&(b&&a.dB.JI(a),a.dB=null);a.ld&&a.VC();};og=function og(a){$.ng().uW()&&(a.ri?(a.Y&&a.Y.TF(),a.Ob(512)):a.Y&&a.Y.TF());};pg=function pg(a){if(!a.oV){var b=a.Gg();a.oV=b?$.Ib(b):null;}return a.oV;};$.qg=function(){this.G="none";this.i="black";this.fc=0;$.kg.call(this);};rg=function rg(a,b,c,d){this.f=new $.gb(a||0,b||0);this.b=c||0;this.j=d||0;$.qg.call(this);};$.sg=function(a,b,c){rg.call(this,a,b,c,c);};$.tg=function(){this.j=[];this.f=[];this.D=[];$.qg.call(this);};ug=function ug(a,b,c,d,e,f){var h=0;e=e||null;for(var k=0,l=b.length;k<l;k++){var m=b[k],p=Gaa[m]*c[k];f&&1!=m?a.call(e,m,d.slice(h-2,h+p)):a.call(e,m,d.slice(h,h+p));h+=p;}};wg=function wg(a){a.Vj()||(vg(a),a.Ob(32));return a;};yg=function yg(a,b,c,d,e,f,h){if(0==d||0==e)return a.Ks(b,c);if(0==a.j.length)throw $.kd(9);var k=a.Vf[0],l=a.Vf[1];if(k==b&&l==c)return a;d=Math.abs(d);e=Math.abs(e);b=(k-b)/2;c=(l-c)/2;l=b*b;k=c*c;var m=d*d,p=e*e,q=l/m+k/p;1<q&&(q=Math.sqrt(q),d*=q,e*=q,m=d*d,p=e*e);l=(m*p-m*k-p*l)/(m*k+p*l);0>l&&(l=0);l=Math.sqrt(l);f==h&&(l=-l);f=l*d*c/e;k=-l*e*b/d;l=$.Ab(1,0,(b-f)/d,(c-k)/e);b=$.Ab((b-f)/d,(c-k)/e,(-b-f)/d,(-c-k)/e)%360;!h&&0<b?b-=360:h&&0>b&&(b+=360);return xg(a,d,e,l,b);};xg=function xg(a,b,c,d,e){if(0==a.j.length)throw $.kd(9);if(0==e)return a;var f=a.Vf[0]-$.db(d,b),h=a.Vf[1]-$.eb(d,c);var k=Math.ceil(Math.abs(e)/359.999-2E-15);for(var l=e/k,m=0;m<k;m++){e=d+l;var p=f+$.db(e,b);var q=h+$.eb(e,c);a.D.push(b,c,d,l,p,q);a.j.push(4);a.f.push(1);d=e;}a.SX=!1;a.Vf=[p,q];a.Yd();a.mt=null;a.Ob(32);return a;};$.zg=function(a,b){var c=b||{};c.closePoint=a.tv?a.tv.slice():[];c.currentPoint=a.Vf?a.Vf.slice():[];c.segments=a.j.slice();c.count=a.f.slice();c.arguments=a.D.slice();return c;};vg=function vg(a){a.j.length=0;a.f.length=0;a.D.length=0;a.Yd();a.mt=null;delete a.tv;delete a.Vf;delete a.SX;};$.Cg=function(){$.tg.call(this);};Eg=function Eg(a,b,c,d){this.b=new $.I(a||0,b||0,c||0,d||0);this.K=[];this.P=[0,0,0,0];$.tg.call(this);Dg(this);};Dg=function Dg(a){var b=!a.Ia()||a.Ia().wf();b||a.Ia().suspend();wg(a);var c=a.P[0];a.QN(a.b.left+c,a.b.top);c=a.P[1];a.Ks(a.b.left+a.b.width-a.P[1],a.b.top);if(a.K[1])switch(a.K[1]){case"round":yg(a,a.b.left+a.b.width,a.b.top+c,c,c,!1,!0);break;case"round-inner":yg(a,a.b.left+a.b.width,a.b.top+c,c,c,!1,!1);break;case"cut":a.Ks(a.b.left+a.b.width,a.b.top+c);}c=a.P[2];a.Ks(a.b.left+a.b.width,a.b.top+a.b.height-c);if(a.K[2])switch(a.K[2]){case"round":yg(a,a.b.left+a.b.width-c,a.b.top+a.b.height,c,c,!1,!0);break;case"round-inner":yg(a,a.b.left+a.b.width-c,a.b.top+a.b.height,c,c,!1,!1);break;case"cut":a.Ks(a.b.left+a.b.width-c,a.b.top+a.b.height);}c=a.P[3];a.Ks(a.b.left+c,a.b.top+a.b.height);if(a.K[3])switch(a.K[3]){case"round":yg(a,a.b.left,a.b.top+a.b.height-c,c,c,!1,!0);break;case"round-inner":yg(a,a.b.left,a.b.top+a.b.height-c,c,c,!1,!1);break;case"cut":a.Ks(a.b.left,a.b.top+a.b.height-c);}c=a.P[0];a.Ks(a.b.left,a.b.top+c);if(a.K[0])switch(a.K[0]){case"round":yg(a,a.b.left+c,a.b.top,c,c,!1,!0);break;case"round-inner":yg(a,a.b.left+c,a.b.top,c,c,!1,!1);}a.bS();b||a.Ia().resume();};$.Hg=function(a,b,c,d,e){$.nd.call(this);this.f=a;this.i=!1;this.elements=[];this.b=this.fe=null;this.shape.apply(this,$.Ja(arguments,1));};Ig=function Ig(a){if(!a.i&&(a.i=!0,a.f)){var b=a.f;b.wf()?b.Ox.push(a):a.Pd();}};$.Jg=function(){this.children=[];this.fr=[];$.kg.call(this);};Lg=function Lg(a){(0,$.Kg)(a.children,function(a,c){c.vr()&&c.Pd();return a||c.vr();},!1)||$.lg(a,64);};Haa=function Haa(a,b){function c(a){var b=a.ia();b&&($.Ye(b),k++);mg(a,!1);r.push(v);}function d(a){var b=a.ia();b?(e.appendChild(b),k++,q.push(l),mg(a,!0)):p=!1;return!!e;}var e=a.ia(),f,h,k=0;if(!a.gM){a.gM={};var l=0;for(f=a.children.length;l<f;l++)a.gM[$.oa(a.children[l])]=!0;}var m=!1,p=!0,q=[],r=[];var t=!0;l=0;for(f=a.children.length-1;l<f;l++)if(a.children[l+1].zIndex()<a.children[l].zIndex()){t=!1;break;}if(t)var u=a.children;else u=$.Ha(a.children),$.Ra(u,function(a,b){return a.zIndex()-b.zIndex();});l=0;f=u.length;var v=0;for(h=a.fr.length;l<f&&v<h&&k<b;v++){t=u[l];var w=a.fr[v];if($.oa(w)in a.gM){if(w!=t||m){if(!d(t))break;m=!0;}l++;}else c(w);}k>=b&&(p=!1);if(p){for(;l<f&&k<b&&d(u[l]);l++);for(;v<h&&k<b;v++)c(a.fr[v]);if(l<f||v<h)p=!1;}if(p)a.fr=$.Ja(u,0),a.gM=null,$.lg(a,128);else{for(l=r.length;l--;)$.Ca(a.fr,r[l],1);for(l=0;l<q.length;l++)a.fr.push(u[q[l]]);}return k;};Mg=function Mg(a){for(var b=a.children.length;b--;)a.children[b].Ry();};$.Qb=function(a){this.Va=a;this.yo=!1;$.Jg.call(this);};Og=function Og(a,b,c,d){a:{a=(a||"").toLowerCase();for(e in Ng)if(Ng[e].toLowerCase()==a||Ng[e].toLowerCase().replace(/-/g,"")==a){var e=Ng[e];break a;}e="backward-diagonal";}this.type=e;this.color=String(null!=b?b:"black 0.5");this.zf=null!=c?c:1;this.size=null!=d?d:10;$.Qb.call(this,new $.I(0,0,this.size,this.size));(b=Iaa[this.type])&&b.call(this);};Qg=function Qg(a,b,c){this.Va=new $.I(0,0,a,b);Pg(this,c);};Vg=function Vg(a,b,c){this.Va=new $.I(0,0,a,b);Rg(this,a,b);Pg(this,c,"white");};Xg=function Xg(a,b,c,d){a=Wg(a,d);for(d=0;d<b.length;d++){var e=b[d];a.moveTo(e[0],e[1]);for(var f=2;f<e.length;f+=2)a.lineTo(e[f],e[f+1]);}c&&a.close();};Yg=function Yg(a,b,c){for(var d=Wg(a),e=0;e<b.length;e+=5){var f=d,h=b[e],k=b[e+1],l=b[e+2],m=b[e+3],p=b[e+4];h===l&&(h=l=Math.round(h)+p%2/2);k===m&&(k=m=Math.round(k)+p%2/2);f.moveTo(h,k).lineTo(l,m);}c&&a.rotate(c);};Zg=function Zg(a,b){for(var c=0;c<b.length;c+=3){var d=b[c+2];Rg(a,d,d,b[c],b[c+1]);}};Rg=function Rg(a,b,c,d,e){a.rect(d||0,e||0,b,c).fill(a.color).stroke("none");};Wg=function Wg(a,b){return b?a.path().fill(a.color).stroke("none"):a.path().fill("none").stroke(a.color,a.zf);};Pg=function Pg(a,b,c){a=a.path().fill(c||a.color).stroke("none");for(c=0;c<b.length;c+=2){var d=b[c],e=b[c+1];a.moveTo(d,e).lineTo(d,e+1,d+1,e+1,d+1,e).close();}};bh=function bh(a,b,c,d,e,f,h){this.j=a||null;this.b=f||$.$g;this.f=h||$.ah;this.Ab=new $.I(b||0,c||0,d||0,e||0);this.i=1;$.kg.call(this);};ch=function ch(a){$.tf.call(this);this.f={};this.b={};this.oo=new pf(this);this.Y=a;};dh=function dh(a,b,c){(c=$.z(c)?c:c.src)&&(a.f[b]={src:c,w0:$.n(void 0)?void 0:null});};fh=function fh(a,b){delete a.f[b];var c=a.b[b];c&&(delete a.b[b],a.oo.ec(c,eh,a.i),$.Nc(a.b)&&$.Nc(a.f)&&a.dispatchEvent("complete"));};$.gh=function(){this.G={};this.j="fontStyle fontVariant fontFamily fontSize fontWeight letterSpacing decoration".split(" ");};$.jh=function(a,b){if(hh(a," ",b))var c=ih(a," ",b);else{c=a.measure("a a",b);var d=a.measure("aa",b);c=new $.I(0,c.top,c.width-d.width,c.height);ih(a," ",b,c);}return c;};kh=function kh(a,b){for(var c="",d=0,e=a.j.length;d<e;d++){var f=b[a.j[d]];$.n(f)&&(c+=f+"|");}return c;};ih=function ih(a,b,c,d){var e=a.G,f=kh(a,c),h=e[f];h||(h=e[f]={});return(e=h[b])?e:h[b]=d?d:a.measure(b,c);};hh=function hh(a,b,c){a=a.G[kh(a,c)];return!(!a||!a[b]);};$.lh=function(a,b){a=$.ab(a);if(b.height==b.width)return a;if(b.height<b.width){var c=b.width;var d=b.height;d/=c;}else c=b.height,d=b.width,d=c/d;c/=2;c=$.cb(Math.atan(Math.tan($.bb(a))*c/c*d));90<a&&270>=a?c=180+c:270<a&&360>=a&&(c=360+c);return c%360;};$.rh=function(a,b,c){for(var d in c)a.kc(b,d,c[d]);};$.sh=function(a,b,c){b&&(c?a.kc(b,"id",c):b.removeAttribute("id"));};$.th=function(a,b,c){if(b.Vj())return null;var d=[],e=a.u4;(c?b.Uea:b.DT).call(b,function(a,b){var c=e[a];c&&(d.push(c),4==a?this.M4(d,b):5!=a&&this.Q4(d,b));},a);return d.join(" ");};vh=function vh(a){if(!a.gu||a.gu.ld)a.gu=new ch($.uh.document.body);return a.gu;};$.wh=function(){this.Va=new $.I(0,0,0,0);$.kg.call(this);};xh=function xh(){};yh=function yh(a){a.style||(a.style=a.D.length?$.Sc(a.D[a.D.length-1]):{});};zh=function zh(a,b){switch(b){case"b":case"strong":yh(a);a.style.fontWeight="bold";break;case"i":case"em":yh(a),a.style.fontStyle="italic";}};Dh=function Dh(a,b,c){switch(b){case"font-style":yh(a);a.style.fontStyle=c||"normal";break;case"font-variant":yh(a);a.style.fontVariant=c||"normal";break;case"font-family":yh(a);a.style.fontFamily=c||$.Ah.fontFamily;break;case"font-size":yh(a);a.style.fontSize=c||$.Ah.fontSize;break;case"font-weight":yh(a);a.style.fontWeight=c||"normal";break;case"color":yh(a);a.style.color=c||$.Ah.color;break;case"letter-spacing":yh(a);a.style.letterSpacing=c||"normal";break;case"text-decoration":yh(a);a.style.cr=c||"none";break;case"opacity":yh(a),a.style.opacity=null!=c?(0,window.parseFloat)(c):1;}};Eh=function Eh(a){""!=a.b&&(a.vb.eK(a.b,a.D.length?a.D[a.D.length-1]:null),a.b="",a.ea=!1);};Fh=function Fh(a){a.K==(a.P.length?a.P[a.P.length-1]:null)&&(Eh(a),a.D.pop(),a.P.pop(),a.tagName="");a.K="";a.state=1;};Gh=function Gh(a,b){zh(a,a.tagName);a.P.push(a.tagName);a.D.push(a.style);b&&(a.f="");a.tagName="";a.style=null;a.state=1;};Hh=function Hh(a,b,c){Dh(a,a.j,a.G||"");a.j="";a.G="";c&&(a.f="");a.state=b;};Ih=function Ih(a){zh(a,a.tagName);Dh(a,a.j,a.G||"");a.P.push(a.tagName);a.D.push(a.style);a.tagName="";a.style=null;a.f="";a.j="";a.G="";a.state=1;};Kh=function Kh(a,b,c){var d;if(a.aa){var e=Jh[a.i];$.n(e)?d=e:a.b+="&"+a.i+c;}else a.i?d=(0,window.parseInt)(a.i,10):a.b+="&#"+c;d&&(a.b+=String.fromCharCode(d)+(";"==c?"":c));a.state=b;a.i="";a.aa=!0;};Lh=function Lh(a){var b=xh.Gd();b.D=[];b.P=[];b.tagName="";b.K="";b.f="";b.ba="'";b.j="";b.G="";b.b="";b.style=null;b.vb=null;b.state=1;b.ea=!1;b.i="";b.aa=!0;b.ma=!1;b.vb=a;a=a.text();for(var c=a.length,d=-1,e,f,h,k=!1;++d<c;)switch(e=a.charAt(d),f=/\xa0|\s/.test(e),h=/[^a-zA-Z]/.test(e),b.state){case 1:if("<"==e){b.state=2;break;}if(b.ea&&f)break;if("&"==e){b.state=14;break;}if(b.ma&&(b.ma=!1,";"==e))break;b.b+=e;b.ea=f;break;case 14:if(b.aa&&!b.i&&"#"==e){b.aa=!1;break;}if("&"==e){Kh(b,14,"");break;}if(/(_|\W)/.test(e)){f="<"==e;Kh(b,f?2:1,f?"":e);break;}f=/\d/.test(e);if(!b.aa&&!f){Kh(b,1,e);break;}b.i+=e;Jh[b.i]&&(b.ma=!0,Kh(b,1,""));break;case 2:if(k){if(">"!=e)break;"br"==b.tagName&&b.vb.dK();b.tagName="";k=!1;b.state=1;break;}if(!b.tagName&&"<"==e){b.b+="<";break;}if(!b.tagName&&h&&"/"!=e){b.b+="<"+e;b.state=1;break;}if(!b.tagName&&"/"==e){b.state=3;break;}if("br"==b.tagName&&">"==e){b.vb.dK();b.tagName="";b.state=1;break;}if("br"==b.tagName&&("/"==e||f)){k=!0;break;}b.tagName&&Eh(b);if(b.tagName&&f){b.state=4;break;}if(">"==e){Gh(b);break;}b.tagName+=e.toLowerCase();break;case 3:if(k){if(">"!=e)break;Fh(b);k=!1;break;}if(!b.K&&h){b.b+="</"+e;b.state=1;break;}if(b.K&&f){k=!0;break;}if(">"==e){Fh(b);k=!1;break;}b.K+=e.toLowerCase();break;case 4:if(k){if(">"!=e)break;Gh(b,!0);k=!1;break;}if(">"==e){Gh(b,!0);break;}if(f){b.state=5;break;}if("="==e){b.f&&(b.state="style"==b.f?6:8);break;}b.f+=e.toLowerCase();break;case 5:if(">"==e){Gh(b,!0);break;}if(f)break;if(b.f&&!h){b.f=e;b.state=4;break;}if("="==e){b.f&&(b.state="style"==b.f?6:8);break;}b.f+=e;b.state=4;break;case 6:if(f)break;if(">"==e){Gh(b,!0);break;}if("'"==e||'"'==e){b.ba=e;b.state=9;break;}b.j=e;b.state=10;break;case 8:if(f)break;if(">"==e){b.f="";b.tagName="";b.state=1;break;}if("'"==e||'"'==e){b.ba=e;b.state=7;break;}b.state=11;break;case 9:if(f)break;if(e==b.ba){k=!0;Hh(b,4,!0);break;}if(":"==e){b.state=12;break;}b.j+=e.toLowerCase();break;case 12:if(f)break;if(e==b.ba){k=!0;Hh(b,4,!0);break;}if(";"==e){Hh(b,9);break;}b.G+=e.toLowerCase();break;case 7:e==b.ba&&(b.f="",b.state=4);break;case 10:if(f){k=!0;Hh(b,4,!0);break;}if(">"==e){Ih(b);break;}if(":"==e){b.state=13;break;}b.j+=e;break;case 11:if(f){Hh(b,4,!0);break;}">"==e&&Gh(b);break;case 13:if(f){k=!0;Hh(b,4,!0);break;}if(">"==e){Ih(b);break;}if(";"==e){Hh(b,10);break;}b.G+=e.toLowerCase();break;default:throw"Error while parsing HTML: Symbol '"+e+"', position: "+(d-1);}Eh(b);b.vb.iM();};Mh=function Mh(a,b){$.nd.call(this);this.b=b||{};this.text=a;this.i=!1;this.y=this.x=this.qm=this.ko=this.height=this.width=this.f=0;};$.Qh=function(a,b){this.ba=!1;this.Jo=a||0;this.Ko=b||0;this.Va=new $.I(this.Jo,this.Ko,0,0);this.Za=this.aa=this.Od=this.D=0;this.Ed=!1;this.b=[];this.f=[];this.Ba=this.Wf=this.P=0;this.td=!0;this.fh=this.ma=this.Tb=this.oe=0;this.ea=[];this.rb=1;this.eb=Nh;this.j=0;this.rc=this.K=!1;this.xc=this.Bk={fontSize:$.Ah.fontSize,color:$.Ah.fontColor,fontFamily:$.Ah.fontFamily,direction:$.Ah.textDirection,textOverflow:Nh,wordBreak:Jaa,wordWrap:Oh,selectable:!0,hAlign:$.Ph};this.Ja=null;$.qg.call(this);this.i=this.G=null;};Rh=function Rh(a,b,c){if($.n(c)){if(c!==a.xc[b]){var d=!a.Ia()||a.Ia().wf();d||a.Ia().suspend();a.xc[b]=c;a.ba=!1;a.Ob(1024);a.Ob(32);a.Ob(16384);a.px();d||a.Ia().resume();}return a;}return a.xc[b];};Sh=function Sh(a){var b=(0,window.parseFloat)(a);return(0,window.isNaN)(b)||0>b?1:$.z(a)&&$.hc(a,"%")?1+(0,window.parseFloat)(a)/100:a;};Th=function Th(a,b,c,d,e,f,h){var k,l=Math.floor((e-d)/(f.width/b.length));var m=b.substring(0,l);for(k=a.Tm(m,c);d+k.width<e&&1<l;)l++,m=b.substring(0,l),k=a.Tm(m,c);for(;d+k.width>e&&1<l;)l--,m=b.substring(0,l),k=a.Tm(m,c);d=a.O3(a.xc,c);c=b.substring(l,b.length);k=f.width-k.width;f=f.clone();f.width=k;ih($.ng(),c,d,f);f=a.xc.wordWrap!=Oh;k="keep-all"==a.xc.wordBreak;"break-all"==a.xc.wordBreak||h||(a=/\s+/g,h=/\S+/g,e=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uffef\u4e00-\u9faf\uAC00-\uD7A3\u1100–\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]+/g,d=m[m.length-1],c=c[0],k=!k&&(e.test(d)||e.test(c)),a.test(d)||a.test(c)||k||(a.test(m)?(l=m.match(h),l=m.lastIndexOf(l[l.length-1])):(m=h.exec(b)[0],f||(l=m.length))));return l;};Uh=function Uh(a,b,c,d,e){c=new Mh(b,c);$.qd(a,c);c.f=-d.top;c.height=d.height;c.width=d.width;a.j&&0==a.b.length&&(e=e||0,a.j=a.Sf&&a.j+d.width+e>a.Sf?a.Sf-d.width-e:a.j,0>a.j&&(a.j=0));a.Ba=Math.max(a.Ba,d.height);a.P+=d.width;0==a.b.length&&(a.P+=a.j);a.ma=Math.max(a.ma,c.f);a.td=a.f.length?a.td&&0==b.length:0==b.length;a.f.push(c);a.b.push(c);c.parent(a);return c;};Vh=function Vh(a,b){var c,d=b||$.ua(a.ea),e=$.ua(d),f=a.Tm(a.eb,e.b),h=a.eb,k=1<d.length&&d[d.length-2];if(k&&k.Dea){var l=(0,$.za)(a.b,e)+1;$.Ca(a.b,l,a.b.length-l);}else{if(f.width>a.Ya){var m=Th(a,a.eb,e.b,0,a.Ya,f,!0);h=a.eb.substring(0,m);}m=a.Wf;var p=a.Ya;if(""==h)l=(0,$.za)(a.b,e)+1,$.Ca(a.b,l,a.b.length-l);else if(p-m>=f.width){a.f=d;l=(0,$.za)(a.b,e)+1;$.Ca(a.b,l,a.b.length-l);var q=Uh(a,h,e.b,f);2==a.f.length&&""==a.f[0].text&&(q.qm=a.Tb-a.f[0].height,q.i=!0);}else{for(k=d.length-1;!c&&0<=k;)e=d[k],f=a.Tm(h,e.b),l=a.Tm(e.text,e.b),m-l.width+f.width<=a.Ya&&(c=e),m-=l.width,k--;c||1!=a.ea.length||(c=d[0],m-=l.width);c&&(a.f=d,k=a.f[0].qm,p-=f.width,l=(0,$.za)(d,c),$.Ca(d,l,d.length-l),l=(0,$.za)(a.b,c),$.Ca(a.b,l,a.b.length-l),a.Ba=0,a.P=0,a.ma=0,l=a.Tm(c.text,c.b),m=Th(a,c.text,c.b,m,p,l,!0),1>m&&(m=1),l=c.text.substring(0,m),d=a.Tm(l,c.b),l=Uh(a,l,c.b,d,f.width),l.x=c.x,l.y=c.y,l.Dea=!0,d.width+f.width>a.Ya&&(m=Th(a,a.eb,e.b,d.width,a.Ya,f,!0),h=a.eb.substring(0,m)),0<m&&(q=Uh(a,h,c.b,f),q.x=l.x+d.width,q.y=l.y),a.f[0].i=!0,a.f[0].qm=k);}a.K&&q&&(c=a.f[0],q.i=c.i,q.x=c.x,q.qm=c.qm,c.qm=0,c.x=0,c.i=!1,$.Fa(a.b,q),l=(0,$.za)(a.b,c),$.Da(a.b,q,l));}};Wh=function Wh(a){a.aa=a.Jo;a.xc.hAlign==$.Ph?a.aa+=a.K?a.Sf:0:"center"==a.xc.hAlign?a.aa+=a.Sf/2:"end"==a.xc.hAlign?a.aa+=a.K?0:a.Sf:"right"==a.xc.hAlign&&(a.aa+=a.Sf);};Xh=function Xh(a){if(a.path()){if(a.xc.vAlign){var b=a.b[0];"middle"==a.xc.vAlign?b.qm+=b.f-a.D/2:"bottom"==a.xc.vAlign?b.qm+=b.f-a.D:"top"==a.xc.vAlign&&(b.qm+=b.f);}}else a.Za=a.Ko+(0==a.b.length?0:a.b[0].f),a.xc.vAlign&&a.D<a.xc.height&&("middle"==a.xc.vAlign?a.Za+=a.Df/2-a.D/2:"bottom"==a.xc.vAlign&&(a.Za+=a.Df-a.D));};$.Yh=function(a){$.kg.call(this);this.Nd=$.n(a)?a:"";};bi=function bi(a,b,c,d,e,f,h,k){a=a.path?a.path():a;if(2>f)return a;h=h||0;var l=$.db(h,d),m=$.eb(h,d),p=360/(2*f),q;a.moveTo(l+b,m+c);if(k)for(q=0;q<f;q++){var r=h;h+=p;var t=l,u=m,v=$.db(r,e),w=$.eb(r,e),x=$.db(h,d),y=$.eb(h,d);l=$.db(h,e);m=$.eb(h,e);var B=(x-v)*(u-w)-(y-w)*(t-v);B/=(y-w)*(l-t)-(x-v)*(m-u);t=Zh(e,d,r,h,k,1-B);r=$h(e,d,r,h,k,1-B);a.cK(b+t,c+r,b+l,c+m);r=h;h+=p;t=l;u=m;v=$.db(h,e);w=$.eb(h,e);x=$.db(r,d);y=$.eb(r,d);l=$.db(h,d);m=$.eb(h,d);B=(x-v)*(u-w)-(y-w)*(t-v);B/=(y-w)*(l-t)-(x-v)*(m-u);t=Zh(e,d,h,r,k,B);r=$h(e,d,h,r,k,B);a.cK(b+t,c+r,b+l,c+m);}else for(q=0;q<f;q++)h+=p,l=$.db(h,e),m=$.eb(h,e),a.lineTo(b+l,c+m),h+=p,l=$.db(h,d),m=$.eb(h,d),a.lineTo(b+l,c+m);a.close();return a;};fi=function fi(a,b,c,d){return bi(a,b,c,d,d/2,4);};gi=function gi(a,b,c,d){return bi(a,b,c,d,d/2,5,-90);};hi=function hi(a,b,c,d){return bi(a,b,c,d,.5773502691896258*d,6,-90);};ii=function ii(a,b,c,d){return bi(a,b,c,d,d/2,7,-90);};ji=function ji(a,b,c,d){return bi(a,b,c,d,.8506508083520399*d,10);};ki=function ki(a,b,c,d){return bi(a,b,c,d,.5*d,3,-90);};li=function li(a,b,c,d){return bi(a,b,c,d,.5*d,3,90);};mi=function mi(a,b,c,d){return bi(a,b,c,d,.5*d,3,0);};ni=function ni(a,b,c,d){return bi(a,b,c,d,.5*d,3,180);};oi=function oi(a,b,c,d){return bi(a,b,c,d,d*Math.SQRT1_2,4);};pi=function pi(a,b,c,d){a=a.path?a.path():a;var e=d/4,f=b-d,h=b+d,k=c-d;d=c+d;a.moveTo(b-e,k).lineTo(b-e,c-e).lineTo(f,c-e).lineTo(f,c+e).lineTo(b-e,c+e).lineTo(b-e,d).lineTo(b+e,d).lineTo(b+e,c+e).lineTo(h,c+e).lineTo(h,c-e).lineTo(b+e,c-e).lineTo(b+e,k).close();return a;};qi=function qi(a,b,c,d){a=a.path?a.path():a;var e=d*Math.SQRT1_2/2,f=b-d,h=b+d,k=c-d;d=c+d;a.moveTo(f+e,k).lineTo(b,c-e).lineTo(h-e,k).lineTo(h,k+e).lineTo(b+e,c).lineTo(h,d-e).lineTo(h-e,d).lineTo(b,c+e).lineTo(f+e,d).lineTo(f,d-e).lineTo(b-e,c).lineTo(f,k+e).close();return a;};ri=function ri(a,b,c,d){a=a.path?a.path():a;var e=d/4,f=b-d;b+=d;a.moveTo(b,c-e).lineTo(b,c+e).lineTo(f,c+e).lineTo(f,c-e).close();return a;};si=function si(a,b,c,d){a=a.path?a.path():a;var e=d/4,f=c-d;c+=d;a.moveTo(b-e,f).lineTo(b+e,f).lineTo(b+e,c).lineTo(b-e,c).close();return a;};ti=function ti(a,b,c,d,e,f){a=a.path?a.path():a;f=$.Za(f,-360,360);360==Math.abs(f)?a.Ge(b,c,d,d,e,f,!1):a.moveTo(b,c).Ge(b,c,d,d,e,f,!0).close();return a;};$.ui=function(a,b,c,d,e,f,h){0>d&&(d=0);0>e&&(e=0);if(d<e){var k=d;d=e;e=k;}if(0>=e)return ti(a,b,c,d,f,h);a=a.path?a.path():a;h=$.Za(h,-360,360);k=360>Math.abs(h);a.Ge(b,c,d,d,f,h).Ge(b,c,e,e,f+h,-h,k);k&&a.close();return a;};Zh=function Zh(a,b,c,d,e,f){a=$.db(c,a);b=$.db(d,b)-a;return 0<=e?a+b*(f+e-f*e):a+b*f*(e+1);};$h=function $h(a,b,c,d,e,f){a=$.eb(c,a);b=$.eb(d,b)-a;return 0<=e?a+b*(f+e-f*e):a+b*f*(e+1);};vi=function vi(a){var b,c;switch(a.length){case 1:var d=b=c=a[0];a.push(d,b,c);break;case 2:b=a[0];c=a[1];a.push(b,c);break;case 3:c=a[1];a.push(c);break;case 4:break;default:a.push(5,5,5,5);}};_wi=function wi(a,b,c){var d=a.path?a.path():a;if(6==arguments.length){var e=arguments[2];var f=arguments[3];var h=arguments[4];var k=arguments[5];d.moveTo(b.left+e,b.top).lineTo(b.left+b.width-f,b.top).lineTo(b.left+b.width,b.top+f).lineTo(b.left+b.width,b.top+b.height-h).lineTo(b.left+b.width-h,b.top+b.height).lineTo(b.left+k,b.top+b.height).lineTo(b.left,b.top+b.height-k).lineTo(b.left,b.top+e).close();}else k=$.Ja(arguments,2,6),vi(k),e=k[0],f=k[1],h=k[2],k=k[3],_wi(d,b,e,f,h,k);return d;};_xi=function xi(a,b,c){var d=a.path?a.path():a;if(6==arguments.length){var e=arguments[2];var f=arguments[3];var h=arguments[4];var k=arguments[5];d.moveTo(b.left+e,b.top).lineTo(b.left+b.width-f,b.top).Af(b.left+b.width,b.top+f,f,f,!1,!0).lineTo(b.left+b.width,b.top+b.height-h).Af(b.left+b.width-h,b.top+b.height,h,h,!1,!0).lineTo(b.left+k,b.top+b.height).Af(b.left,b.top+b.height-k,k,k,!1,!0);0!=e&&(d.lineTo(b.left,b.top+e),d.Af(b.left+e,b.top,e,e,!1,!0));d.close();}else k=$.Ja(arguments,2,6),vi(k),e=k[0],f=k[1],h=k[2],k=k[3],_xi(d,b,e,f,h,k);return d;};_yi=function yi(a,b,c){var d=a.path?a.path():a;if(6==arguments.length){var e=arguments[2];var f=arguments[3];var h=arguments[4];var k=arguments[5];d.moveTo(b.left+e,b.top).lineTo(b.left+b.width-f,b.top).Af(b.left+b.width,b.top+f,f,f,!1,!1).lineTo(b.left+b.width,b.top+b.height-h).Af(b.left+b.width-h,b.top+b.height,h,h,!1,!1).lineTo(b.left+k,b.top+b.height).Af(b.left,b.top+b.height-k,k,k,!1,!1);0!=e&&d.lineTo(b.left,b.top+e).Af(b.left+e,b.top,e,e,!1,!1);d.close();}else k=$.Ja(arguments,2,6),vi(k),e=k[0],f=k[1],h=k[2],k=k[3],_yi(d,b,e,f,h,k);return d;};$.Ei=function(a,b,c,d){this.Hj=a;this.ze=b;this.ki=c;this.Pe=d;};Fi=function Fi(){$.gh.call(this);};Gi=function Gi(a){return $.uh.document.createElementNS("http://www.w3.org/2000/svg",a);};Kaa=function Kaa(){var a=$.ng();$.Ye(a.Jk);$.Ye(a.RD);$.Ye(a.f);$.Ye(a.i);$.Ye(a.tp);$.Ye(a.Mp);a.Jk=null;a.RD=null;a.f=null;a.i=null;a.tp=null;a.Mp=null;};Laa=function Laa(a){var b=$.bb(a),c=Math.tan(b);a=1/(2*c);c/=2;.5>=Math.abs(c)?(a=-.5,b=0>Math.cos(b)):(c=-.5,b=0<Math.sin(b));b&&(a=-a,c=-c);return new $.Ei(.5+a,.5+c,.5-a,.5-c);};Maa=function Maa(a,b){var c=a%90,d=$.bb(a),e=1,f=b.left+b.width/2,h=b.top+b.height/2,k=0>Math.sin(d)||180==a||360==a;if(90==a||270==a)c+=1E-6;180!=a&&(0>Math.tan(d)||90==a||270==a)&&(e=-1,c=90-c);c=$.bb(c);d=Math.sin(c)*(b.height/2-Math.tan(c)*b.width/2)+b.width/2/Math.cos(c);e*=Math.cos(c)*d;c=Math.sin(c)*d;k&&(e=-e,c=-c);return new $.Ei(Math.round(f-e),Math.round(h+c),Math.round(f+e),Math.round(h-c));};Hi=function Hi(a,b,c){var d=Naa(c,b.keys,b.cx,b.cy,b.fx,b.fy,b.opacity,b.mode,b.transform);if(!d.yo){var e=Gi("radialGradient");$.sh(a,e,d.id());$.Ue(c.ia(),e);d.mF=c;d.yo=!0;(0,$.Re)(d.keys,function(a){var b=Gi("stop");$.rh(this,b,{offset:a.offset,style:"stop-color:"+a.color+";stop-opacity:"+((0,window.isNaN)(a.opacity)?d.opacity:a.opacity)});e.appendChild(b);},a);d.Va?$.rh(a,e,{cx:d.Bc*d.Va.width+d.Va.left,cy:d.zc*d.Va.height+d.Va.top,fx:d.Re*d.Va.width+d.Va.left,fy:d.i*d.Va.height+d.Va.top,r:Math.min(d.Va.width,d.Va.height)/2,spreadMethod:"pad",gradientUnits:"userSpaceOnUse"}):$.rh(a,e,{cx:d.Bc,cy:d.zc,fx:d.Re,fy:d.i,gradientUnits:"objectBoundingBox"});d.transform&&a.kc(e,"gradientTransform",d.transform.toString());}return d.id();};Ji=function Ji(a,b,c,d){var e=$.Ii(c,b.keys,b.opacity,!0===b.mode?$.lh(b.angle,d):b.angle,b.mode,b.transform);if(!e.yo){var f=a.E0();$.sh(a,f,e.id());$.Ue(c.ia(),f);e.lF=c;e.yo=!0;(0,$.Re)(e.keys,function(a){var b=Gi("stop");$.rh(this,b,{offset:a.offset,style:"stop-color:"+a.color+";stop-opacity:"+((0,window.isNaN)(a.opacity)?e.opacity:a.opacity)});f.appendChild(b);},a);e.Va?(b=Maa(e.angle,e.Va),$.rh(a,f,{x1:b.Hj,y1:b.ze,x2:b.ki,y2:b.Pe,spreadMethod:"pad",gradientUnits:"userSpaceOnUse"})):(b=Laa(e.angle),$.rh(a,f,{x1:b.Hj,y1:b.ze,x2:b.ki,y2:b.Pe,gradientUnits:"objectBoundingBox"}));e.transform&&a.kc(f,"gradientTransform",e.transform.toString());}return e.id();};Mi=function Mi(a,b){var c=b.fill();if(c){var d=b.Ia().tn,e='url("'+Ki()+"#";c&&c.opacity&&1E-4>=c.opacity&&$.id&&$.dd("9")&&(c.opacity=1E-4);if($.z(c))a.kc(b.ia(),"fill",c),b.ia().removeAttribute("fill-opacity");else if($.A(c.keys)&&c.cx&&c.cy)a.kc(b.ia(),"fill",e+Hi(a,c,d)+'")'),a.kc(b.ia(),"fill-opacity",$.n(c.opacity)?c.opacity:1);else if($.A(c.keys))b.qb()&&(a.kc(b.ia(),"fill",e+Ji(a,c,d,b.qb())+'")'),a.kc(b.ia(),"fill-opacity",$.n(c.opacity)?c.opacity:1));else if(c.src){var f=b.ck();f?(f.width=f.width||0,f.height=f.height||0,f.left=f.left||0,f.top=f.top||0):f=new $.I(0,0,0,0);"tile"==c.mode?Li(d,c.src,f,c.mode,c.opacity,function(a){a.id();a.parent(b.Ia()).Pd();$.ng().kc(b.ia(),"fill",e+a.id()+'")');}):(d=Li(d,c.src,f,c.mode,c.opacity),d.id(),d.parent(b.Ia()).Pd(),a.kc(b.ia(),"fill",e+d.id()+'")'),a.kc(b.ia(),"fill-opacity",$.n(c.opacity)?c.opacity:1));}else $.J(c,Og)?(c=Oaa(d,c.type,c.color,c.zf,c.size),c.id(),c.parent(b.Ia()).Pd(),a.kc(b.ia(),"fill",e+c.id()+'")')):$.J(c,$.Qb)?(c.id(),c.parent(b.Ia()).Pd(),a.kc(b.ia(),"fill",e+c.id()+'")')):$.rh(a,b.ia(),{fill:c.color,"fill-opacity":c.opacity});}};Ni=function Ni(a,b){var c=b.stroke();if(c){var d=b.Ia().tn,e=b.ia(),f='url("'+Ki()+"#";if($.z(c))a.kc(e,"stroke",c);else if($.A(c.keys)&&c.cx&&c.cy)a.kc(e,"stroke",f+Hi(a,c,d)+'")');else if($.A(c.keys)){if(!b.qb())return;a.kc(e,"stroke",f+Ji(a,c,d,b.qb())+'")');}else a.kc(e,"stroke",c.color);c.lineJoin?a.kc(e,"stroke-linejoin",c.lineJoin):e.removeAttribute("stroke-linejoin");c.lineCap?a.kc(e,"stroke-linecap",c.lineCap):e.removeAttribute("stroke-linecap");c.opacity?a.kc(e,"stroke-opacity",c.opacity):e.removeAttribute("stroke-opacity");c.thickness?a.kc(e,"stroke-width",c.thickness):e.removeAttribute("stroke-width");c.dash?a.kc(e,"stroke-dasharray",c.dash):e.removeAttribute("stroke-dasharray");}};Oi=function Oi(a){a.ia().removeAttribute("clip-path");a.ia().removeAttribute("clipPathUnits");};$.Ri=function(a,b){vd.call(this,a.type);this.target=$.Pi(a.target,b)||a.target;this.relatedTarget=$.Pi(a.relatedTarget||null,b)||a.relatedTarget;this.offsetX=a.offsetX;this.offsetY=a.offsetY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.button=Bd(a,0)?$.Qi:Bd(a,1)?Paa:Bd(a,2)?Qaa:Raa;this.actionButton=a.IA();this.keyCode=a.keyCode;this.charCode=a.f;this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.platformModifierKey=a.i;this.Be=a;};Si=function Si(a,b){this.i=a;this.j=b;this.f=0;this.b=null;};Ti=function Ti(a,b){a.j(b);100>a.f&&(a.f++,b.next=a.b,a.b=b);};Ui=function Ui(){this.f=this.b=null;};Vi=function Vi(){this.next=this.f=this.b=null;};Wi=function Wi(a){$.fa.setTimeout(function(){throw a;},0);};Saa=function Saa(){var a=$.fa.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!$.Fc("Presto")&&(a=function a(){var a=window.document.createElement("IFRAME");a.style.display="none";a.src="";window.document.documentElement.appendChild(a);var b=a.contentWindow;a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host;a=(0,$.pa)(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage();},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function postMessage(){b.postMessage(c,d);}};});if("undefined"!==typeof a&&!$.Wc()){var b=new a(),c={},d=c;b.port1.onmessage=function(){if($.n(c.next)){c=c.next;var a=c.l0;c.l0=null;a();}};return function(a){d.next={l0:a};d=d.next;b.port2.postMessage(0);};}return"undefined"!==typeof window.document&&"onreadystatechange"in window.document.createElement("SCRIPT")?function(a){var b=window.document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null;};window.document.documentElement.appendChild(b);}:function(a){$.fa.setTimeout(a,0);};};$.ij=function(a,b){Xi||Taa();Yi||(Xi(),Yi=!0);$i.add(a,b);};Taa=function Taa(){if($.fa.Promise&&$.fa.Promise.resolve){var a=$.fa.Promise.resolve(void 0);Xi=function Xi(){a.then(jj);};}else Xi=function Xi(){var a=jj;!$.E($.fa.setImmediate)||$.fa.Window&&$.fa.Window.prototype&&!$.Fc("Edge")&&$.fa.Window.prototype.setImmediate==$.fa.setImmediate?(kj||(kj=Saa()),kj(a)):$.fa.setImmediate(a);};};jj=function jj(){for(var a;a=$i.remove();){try{a.b.call(a.f);}catch(b){Wi(b);}Ti(lj,a);}Yi=!1;};$.qj=function(a){this.bc=mj;this.D=void 0;this.f=this.b=this.Y=null;this.i=this.j=!1;if(a!=$.ia)try{var b=this;a.call(void 0,function(a){$.nj(b,$.oj,a);},function(a){$.nj(b,pj,a);});}catch(c){$.nj(this,pj,c);}};rj=function rj(){this.next=this.context=this.f=this.i=this.b=null;this.j=!1;};tj=function tj(a,b,c){var d=sj.get();d.i=a;d.f=b;d.context=c;return d;};_uj=function uj(a,b){if(a.bc==mj)if(a.Y){var c=a.Y;if(c.b){for(var d=0,e=null,f=null,h=c.b;h&&(h.j||(d++,h.b==a&&(e=h),!(e&&1<d)));h=h.next)e||(f=h);e&&(c.bc==mj&&1==d?_uj(c,b):(f?(d=f,d.next==c.f&&(c.f=d),d.next=d.next.next):vj(c),wj(c,e,pj,b)));}a.Y=null;}else $.nj(a,pj,b);};yj=function yj(a,b){a.b||a.bc!=$.oj&&a.bc!=pj||xj(a);a.f?a.f.next=b:a.b=b;a.f=b;};$.Aj=function(a,b,c,d){var e=tj(null,null,null);e.b=new $.qj(function(a,h){e.i=b?function(c){try{var e=b.call(d,c);a(e);}catch(m){h(m);}}:a;e.f=c?function(b){try{var e=c.call(d,b);!$.n(e)&&b instanceof zj?h(b):a(e);}catch(m){h(m);}}:h;});e.b.Y=a;yj(a,e);return e.b;};$.nj=function(a,b,c){a.bc==mj&&(a===c&&(b=pj,c=new TypeError("Promise cannot resolve to itself")),a.bc=1,$.Bj(c,a.K,a.P,a)||(a.D=c,a.bc=b,a.Y=null,xj(a),b!=pj||c instanceof zj||Uaa(a,c)));};$.Bj=function(a,b,c,d){if(a instanceof $.qj)return yj(a,tj(b||$.ia,c||null,d)),!0;if(a)try{var e=!!a.$goog_Thenable;}catch(h){e=!1;}else e=!1;if(e)return a.then(b,c,d),!0;if($.C(a))try{var f=a.then;if($.E(f))return Vaa(a,f,b,c,d),!0;}catch(h){return c.call(d,h),!0;}return!1;};Vaa=function Vaa(a,b,c,d,e){function f(a){k||(k=!0,d.call(e,a));}function h(a){k||(k=!0,c.call(e,a));}var k=!1;try{b.call(a,h,f);}catch(l){f(l);}};xj=function xj(a){a.j||(a.j=!0,$.ij(a.G,a));};vj=function vj(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.f=null);return b;};wj=function wj(a,b,c,d){if(c==pj&&b.f&&!b.j)for(;a&&a.i;a=a.Y)a.i=!1;if(b.b)b.b.Y=null,Cj(b,c,d);else try{b.j?b.i.call(b.context):Cj(b,c,d);}catch(e){Dj.call(null,e);}Ti(sj,b);};Cj=function Cj(a,b,c){b==$.oj?a.i.call(a.context,c):a.f&&a.f.call(a.context,c);};Uaa=function Uaa(a,b){a.i=!0;$.ij(function(){a.i&&Dj.call(null,b);});};zj=function zj(a){_sa.call(this,a);};$.Fj=function(a,b,c){if($.E(a))c&&(a=(0,$.pa)(a,c));else if(a&&"function"==typeof a.handleEvent)a=(0,$.pa)(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:$.Ej.setTimeout(a,b||0);};$.Gj=function(a){$.Ej.clearTimeout(a);};$.Hj=function(a,b,c,d,e){$.nd.call(this);this.keys=a;this.opacity=null!=b?$.Za(b,0,1):1;this.angle=null!=c?$.ab(c):0;this.mode=null!=d?d:!1;this.Va=d&&$.J(d,$.I)?d:null;this.transform=null!=e?e:null;};$.Ij=function(a,b,c,d,e){c=null!=c?$.ab(c):0;b=null!=b?$.Za(b,0,1):1;var f=!!d;d=null!=d?$.J(d,$.I)?d:null:null;var h=[];(0,$.Re)(a,function(a){h.push(String(a.offset)+a.color+(a.opacity?a.opacity:null));});return h.join("")+b+c+f+(d?String(d.left)+d.top+d.width+d.height:"")+(e?e.toString():"");};$.Jj=function(a,b,c,d,e,f,h,k){$.nd.call(this);this.Bc=b;this.zc=c;this.Re=d;this.i=e;this.keys=a;this.opacity=null!=f?$.Za(f,0,1):1;this.Va=null!=h?h:null;this.transform=null!=k?k:null;};$.Kj=function(a,b,c,d,e,f,h,k){f=null!=f?$.Za(f,0,1):1;var l=[];(0,$.Re)(a,function(a){l.push(String(a.offset)+a.color+(a.opacity?a.opacity:1));});return l.join("")+f+b+c+d+e+(h?String(h.left)+h.top+h.width+h.height:"")+(k?k.toString():"");};$.Lj=function(a){$.nd.call(this);this.pu={};this.D={};this.i={};this.b={};this.j=a;};Li=function Li(a,b,c,d,e,f){e=$.n(e)?e:1;d=null!=d?d:"stretch";var h=[b,c.left,c.top,c.width,c.height,d,e].join(),k=null,l=$.ia;if("tile"==d)l=function l(d,k){if($.Jc(a.b,h))var l=a.b[h];else l=new $.Qb(new $.I(c.left,c.top,d,k)),l.uk().src(b).opacity(e).width(d).height(k),a.b[h]=l;f&&f.call(this,l);};else{if($.Jc(a.b,h))return a.b[h];k=new $.Qb(c);switch(d){case"stretch":k.uk().src(b).opacity(e).width(c.width).height(c.height);break;case"fit-max":k.uk().src(b).opacity(e).width(c.width).height(c.height).align("x-mid-y-mid").YC("slice");break;case"fit":k.uk().src(b).opacity(e).width(c.width).height(c.height).align("x-mid-y-mid");}a.b[h]=k;}$.ng().MN(b,l);l=null;return a.b[h];};Oaa=function Oaa(a,b,c,d,e){b=null!=b?b:"backward-diagonal";c=null!=c?c:"black";d=null!=d?d:1;e=null!=e?e:10;var f=[b,c,d,e].join();return $.Jc(a.i,f)?a.i[f]:a.i[f]=new Og(b,c,d,e);};$.Ii=function(a,b,c,d,e,f){var h=$.Ij(b,c,d,e,f);return $.Jc(a.pu,h)?a.pu[h]:a.pu[h]=new $.Hj(b,c,d,e,f);};Naa=function Naa(a,b,c,d,e,f,h,k,l){var m=$.Kj(b,c,d,e,f,h,k,l);return $.Jc(a.D,m)?a.D[m]:a.D[m]=new $.Jj(b,c,d,e,f,h,k,l);};$.Mj=function(a){if(a.classList)return a.classList;a=a.className;return $.z(a)&&a.match(/\S+/g)||[];};$.Qj=function(a,b){return a.classList?a.classList.contains(b):$.Aa($.Mj(a),b);};$.Rj=function(a,b){a.classList?a.classList.add(b):$.Qj(a,b)||(a.className+=0<a.className.length?" "+b:b);};$.Sj=function(a,b){if(a.classList)(0,$.Re)(b,function(b){$.Rj(a,b);});else{var c={};(0,$.Re)($.Mj(a),function(a){c[a]=!0;});(0,$.Re)(b,function(a){c[a]=!0;});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d;}};$.Tj=function(a,b){a.classList?a.classList.remove(b):$.Qj(a,b)&&(a.className=(0,$.Ze)($.Mj(a),function(a){return a!=b;}).join(" "));};Waa=function Waa(a,b){a.classList?(0,$.Re)(b,function(b){$.Tj(a,b);}):a.className=(0,$.Ze)($.Mj(a),function(a){return!$.Aa(b,a);}).join(" ");};$.Uj=function(){var a=$.Be().b,b=a.body;return!!(b.webkitRequestFullscreen||b.mozRequestFullScreen&&a.mozFullScreenEnabled||b.msRequestFullscreen&&a.msFullscreenEnabled||b.requestFullscreen&&a.fullscreenEnabled);};$.Zj=function(a,b,c){$.tf.call(this);this.EO=(0,$.pa)(this.EO,this);this.At=(0,$.pa)(this.At,this);var d=$.uh.document;$.Ah.jP||($.Ah.jP={});var e=$.fc($.dc.Gd(),this,"stage");$.Ah.jP[e]=this;this.m0={};this.Og=new pf(this);this.mp=d.createElement("DIV");$.wf(this.mp,{position:"relative",left:0,top:0,overflow:"hidden"});this.Sd=$.ng().J0();Vj(this);$.ng().ZO(this.Sd,"100%","100%");$.wf(this.Sd,"display","block");$.Rj(this.Sd,"anychart-ui-support");this.mp.appendChild(this.Sd);this.Sd.setAttribute("ac-id",e);this.Ox=[];this.tn=this.z0();this.tn.Pd();this.Na=new $.Jg();this.Na.el(this).Pd();e=this.Na.ia();this.Sd.appendChild(e);$.ng().Vp();this.Og.ua(this.ia(),"mousedown mouseover mouseout click dblclick touchstart touchend touchcancel MSPointerDown MSPointerUp pointerdown pointerup contextmenu".split(" "),this.qq,!1);Wj(this,b||"100%");Xj(this,c||"100%");(this.Hc=$.z(a)?d.getElementById(a):a)&&Yj(this);this.At(!0,!0);this.resume();};Wj=function Wj(a,b){if(a.uL!=b){var c=(0,window.parseFloat)(b);if(!(0,window.isNaN)(c))return a.uL=$.ea(b)?b:String(b),a.nM=$.z(b)&&$.hc(b,"%")?window.NaN:c,a.mp.style.width=Df(a.uL,!0),!0;}return!1;};Xj=function Xj(a,b){if(a.sL!=b){var c=(0,window.parseFloat)(b);if(!(0,window.isNaN)(c))return a.sL=$.ea(b)?b:String(b),a.mM=$.z(b)&&$.hc(b,"%")?window.NaN:c,a.mp.style.height=Df(a.sL,!0),!0;}return!1;};$.ak=function(a){return a.mp?$.Jf(a.mp):new $.gb(0,0);};Yj=function Yj(a){a.Hc?a.mp.parentNode!=a.Hc&&a.Hc.appendChild(a.mp):$.Ye(a.mp);};bk=function bk(a){a.ow=!1;a.dispatchEvent("renderfinish");var b=vh($.ng()),c=$.ng().e3();b&&c?a.O2||(a.O2=!0,_Kd(b,"complete",function(){this.O2=!1;this.ow||this.dispatchEvent("stagerendered");},!1,a)):a.dispatchEvent("stagerendered");};ck=function ck(a){$.Lj.call(this,a);this.f={};};dk=function dk(a,b){var c=$.fc($.dc.Gd(),b),d=a.f[c];if(!d){d=a.f;$.ng();var e=Gi("clipPath");d[c]=d=e;}return d;};ek=function ek(a,b,c){$.Zj.call(this,a,b,c);};$.hk=function(){for(var a=window.document.styleSheets,b=[],c=_fk(a),d=0;a=c[d];d++){var e=gk(a);if(e&&e.length)for(var f=0,h=0,k=e.length,l;h<k;h++)l=e[h],l.href||(l.style&&(l.parentStyleSheet||(l.style["-closure-parent-stylesheet"]=a),l.style["-closure-rule-index"]=f),b.push(l)),f++;}return b;};gk=function gk(a){var b=null;try{b=a.cssRules||a.rules;}catch(c){if(15==c.code)throw c.styleSheet=a,c;}return b;};_fk=function fk(a){var b=[];a=a||window.document.styleSheets;var c=$.n(void 0)?void 0:!1;if(a.imports&&a.imports.length)for(var d=0,e=a.imports.length;d<e;d++)$.Ia(b,_fk(a.imports[d]));else if(a.length)for(d=0,e=a.length;d<e;d++)$.Ia(b,_fk(a[d]));else{var f=gk(a);if(f&&f.length){d=0;e=f.length;for(var h;d<e;d++)h=f[d],h.styleSheet&&$.Ia(b,_fk(h.styleSheet));}}!(a.type||a.rules||a.cssRules)||a.disabled&&!c||b.push(a);return b;};Vj=function Vj(a){var b=a.ia();if(b){var c=String($.oa(a));ik[c]=a;b.setAttribute("data-ac-wrapper-id",c);}};jk=function jk(a){delete ik[String($.oa(a))];(a=a.ia())&&a.removeAttribute("data-ac-wrapper-id");};$.Pi=function(a,b){for(var c,d=b.ia().parentNode;a&&a!=d;){c=a.getAttribute&&a.getAttribute("data-ac-wrapper-id")||null;if(null!=c)break;a=a.parentNode;}return(c=ik[c||""]||null)&&c.ia()==a?c:null;};$.ng=function(){if(!kk)if("vml"==$.lk){var a=$.Ah.vml;if(a)kk=a.getRenderer();else throw Error("VML module should be included to render AnyChart in IE8-");}else kk=Fi.Gd();return kk;};$.mk=function(a,b,c){if("vml"==$.lk){var d=$.Ah.vml;if(d)a=new d.Stage(a,b,c);else throw Error("VML module should be included to render AnyChart in IE8-");}else a=new ek(a,b,c);return a;};$.nk=function(a,b,c,d){return new Eg(a,b,c,d);};$.ok=function(a,b,c){return new $.sg(a,b,c);};$.pk=function(){return new $.Jg();};$.qk=function(a,b,c,d){return new rg(a,b,c,d);};$.rk=function(){return new $.Cg();};sk=function sk(a,b,c,d,e){return new bh(a,b,c,d,e);};$.tk=function(a,b,c,d){if("vml"==$.lk){var e=$.Ah.vml;if(e)a=new e.Text(a,b);else throw Error("VML module should be included to render AnyChart in IE8-");}else a=new $.Qh(a,b);d&&a.style(d);c&&a.text(c);return a;};$b=function $b(a,b,c,d){return new Og(a,b,c,d);};$.Rb=function(a){return new $.Qb(a);};$.uk=function(a,b,c,d){if("vml"==$.lk){var e=$.Ah.vml;if(e)return new e.Clip(null,a,b,c,d);throw Error("VML module should be included to render AnyChart in IE8-");}return new $.Hg(null,a,b,c,d);};$.vk=function(a){return new $.Yh(a);};Ki=function Ki(){return $.n(wk)?wk:$.id&&$.dd("9")&&!$.dd("10")?wk="":wk=xk||null===xk&&$.De(window.document,"base",void 0,void 0).length?$.uh.location.origin+$.uh.location.pathname+$.uh.location.search:"";};yk=function yk(){return $.Fc("iPad")||$.Fc("Android")&&!$.Fc("Mobile")||$.Fc("Silk");};$.zk=function(){return!(!yk()&&($.Fc("iPod")||$.Fc("iPhone")||$.Fc("Android")||$.Fc("IEMobile")))&&!yk();};$.Ak=function(a,b,c){if(!a.AZ){var d={},e;for(e in a){var f=a[e],h=f.toLowerCase();d[h]=f;d[h.replace(/-/g,"")]=f;}a.AZ=d;}return a.AZ[String(b).toLowerCase()]||c;};$.Bk=function(a,b){return $.Ak(Xaa,a,b||"by-x");};$.Ck=function(a,b){return $.Ak(Yaa,a,b||"none");};Dk=function Dk(a,b){return $.Ak(Zaa,a,b||"default");};$.Ek=function(a,b){return $.Ak($aa,a,$.n(b)?b:"left-top");};$.Fk=function(a,b){return $.Ak(aba,a,b);};Gk=function Gk(a,b){return $.Ak(bba,a,b||"center");};$.Hk=function(a,b){return $.Ak(cba,a,b||"vertical");};eba=function eba(a,b){return $.Ak(dba,a,b||"vertical");};$.Lk=function(a,b){return $.Ak(fba,a,b||"top");};hba=function hba(a,b){return $.Ak(gba,a,b||"outside");};$.Mk=function(a,b){return $.Ak(iba,a,b||"none");};$.Ok=function(a,b){return $.Ak(Nk,a,b||"star5");};Qk=function Qk(a){return $.Ak(Nk,a,null)||$.Ak($.Pk,a,null);};$.Rk=function(a,b){return $.Ak(jba,a,b||"circle");};$.Sk=function(a,b){return $.Ak(kba,a,b||"auto");};$.Tk=function(a,b){return $.Ak(lba,a,b||"axis");};$.Uk=function(a,b,c){b="auto-width"!=String(a).toLowerCase()||c?b:void 0;a="auto-width"!=String(a).toLowerCase()||c?a:b;return $.Ak(mba,a,b||"allow-overlap");};$.Vk=function(a){return $.Ak(nba,a,"square");};pba=function pba(a,b){return $.Ak(oba,a,b||"default");};$.Wk=function(a,b){return $.Ak(qba,a,b||"inside");};$.Yk=function(a){return $.Ak(rba,a,null)||$.Xk(a);};$.Zk=function(a,b,c){a=String(a).toLowerCase();switch(a){case"years":case"year":case"yyyy":case"yy":case"y":return"year";case"semesters":case"semester":case"sem":return"semester";case"quarters":case"quarter":case"q":return"quarter";case"months":case"month":case"mm":case"m":return"month";case"thirdofmonths":case"third-of-month":case"thirdofmonth":case"decades":case"decade":case"tom":case"dec":return"third-of-month";case"weeks":case"week":case"w":return"week";case"days":case"day":case"dd":case"d":return"day";case"hours":case"hour":case"hh":case"h":return c?"day":"hour";case"minutes":case"minute":case"min":case"n":return c?"day":"minute";case"seconds":case"second":case"secs":case"sec":case"s":return c?"day":"second";case"milliseconds":case"millisecond":case"millis":case"milli":case"ms":return c?"day":"millisecond";}return $.n(b)?b:"year";};tba=function tba(a){$.C(a)&&(a=a.mode);return $.Ak(sba,a,"csv");};$.$k=function(a){return $.Ak(uba,a,"start");};$.al=function(a){return $.Ak(vba,a,"top");};$.bl=function(a){return $.Ak(wba,a,"none");};$.cl=function(a){return $.Ak(xba,a,"normal");};$.dl=function(a){return $.Ak(yba,a,"normal");};$.el=function(a){return $.Ak(zba,a,"ltr");};$.fl=function(a){return $.Ak(Aba,a,$.n(void 0)?void 0:"last-date");};gl=function gl(a){return $.Ak(Bba,a,"none");};$.il=function(a,b,c){$.hl("error","Error: "+a+"\nDescription: "+Cba(a,c),b||"");};Cba=function Cba(a,b){switch(a){case 1:return"Container is not set or can not be properly recognized. Use container() method to set it.";case 2:return"Scale is not set. Use scale() method to set it.";case 3:return"Table.contents() accepts only an Array of Arrays as it's first argument.";case 4:return'Feature "'+b[0]+'" is not supported in this module. See modules list at https://docs.anychart.com/Quick_Start/Modules for details.';case 5:return b[0]+" should be only "+b[1]+" type"+(b[2]?" ("+b[2]+").":".");case 7:return"Empty config passed to anychart.fromJson() or anychart.fromXml() method.";case 8:return"Bullet, Sparkline, Sankey and Circular Gauge charts do not support Legend. Please use anychart.standalones.Legend component for a group of charts instead.";case 51:return"Stock chart itself doesn't support legend - stock plots do. So use stock.plot().legend() instead.";case 9:return"Bullet and Sparkline charts do not support Credits.";case 10:return"Invalid GeoJSON object:";case 100:return"Double quotes in separator are not allowed.";case 101:return"CSV parsing failed.";case 200:return"Cannot create a computer on the table with the mapping of another table.";case 201:return'Cannot create computed field "'+b[0]+'" - field name should be unique for the table';case 202:return'Cannot create output field "'+b[0]+'" on the computer - field with this name already exists';case 300:var c=b[2],d=[],e;for(e in c)d.push(e+" ("+c[e]+")");return['Series "',b[0],'" of type "',b[1],'" cannot be drawn, because it requires ',c.length," shapes with the following names: ",d.join(", ")].join("");case 400:return"Surface chart data is malformed.";default:return"Unknown error occurred. Please, contact support team at http://support.anychart.com/.\nWe will be very grateful for your report.";}};$.kl=function(a,b,c,d){var e;d&&!jl[e=Dba(a,c)]&&(jl[e]=!0,$.hl("warn","Warning: "+a+"\nDescription: "+e,b||""));};Dba=function Dba(a,b){switch(a){case 1:return"Data item with ID='"+b[0]+"' already exists in the tree and will be used as the parent for all related data items.";case 2:return"Data item with ID='"+b[0]+"' is not unique. First met object will be used.";case 3:return"One of the data items was looking for the parent with ID='"+b[0]+"', but did not find it. Please check the data.\nPLEASE NOTE: this data item will be added as the root to avoid loss of information.";case 4:return"Data item {ID='"+b[0]+"', PARENT='"+b[1]+"'} belongs to a cycle and will not be added to the tree.";case 5:return"Can not set value for the '"+b[0]+"' field to an array row if it is not mapped.";case 6:return"Setting complex value to the default '"+b[0]+"' field changes row behaviour.";case 7:return"Can not set value for the '"+b[0]+"' field to a row that is not an object or an array.";case 8:return"We can not serialize '"+b[0]+"' function, please reset it manually.";case 9:return"Data grid incorrect method '"+b[0]+"()' usage: You use not standalone data grid. Perform all operations on data grid using the controller, but not directly. In current case, use '"+b[1]+"()' instead. "+b[2];case 404:return b[0]+" with id='"+b[1]+"' is not found in data tree. Please check what you are looking for.";case 11:return"Can not fit gantt chart timeline to task with id '"+b[0]+"' because both fields 'actualStart' and 'actualEnd' must be correctly specified in data item.";case 12:return'Series type "'+b[0]+'" does not support error settings - only Area, Bar, Column, Line, Marker, Spline, SplineArea, StepLine and StepLineArea do.';case 13:return"Toolbar container is not specified. Please set a container using toolbar.container() method.";case 14:return"Target chart has not method "+b[0]+"(). PLease make sure that you use correct instance of chart.";case 15:return"No chart is assigned for toolbar. Please set a target chart using toolbar.target() method.";case 405:return(b[3]||"Method")+" "+b[0]+" is deprecated. Use "+b[1]+" instead"+(b[2]?b[2]+".":".");case 407:return(b[3]||"Method")+" "+b[0]+" is deprecated.";case 19:return"The projection that used cannot work correctly without Proj4. Please include Proj4 binary (https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.15/proj4.js) into your page, or use another projection";case 17:return"Incorrect arguments passed to treeDataItem.set() method. You try to set a value by path in complex structure, but path contains errors (It can be not string and not numeric values, or invalid path in existing structure, or incorrect number of path's elements etc). Please, see the documentation for treeDataItem.set() method and carefully check your data.";case 101:return"Table is already in transaction mode. Calling startTransaction() multiple times does nothing.";case 201:return"Wrong mapping passed to "+b[0]+' series - required "'+b[1]+"' field is missing.";case 406:return'Could not parse date time value "'+b[0]+'".'+(b[1]?"Symbols parsed: "+b[1]:"");case 500:return"Scale is immutable for this type of axis marker and scale will not be set.";case 501:return"Layout is immutable for this type of axis marker and layout will not be set.";case 18:return"There should be only one root in tree map data. First node has been taken as root.";case 301:return'Feature with id "'+b[0]+'" not found';case 20:var c=b[1];return"Current scale ticks settings resulted in too many ticks: trying to generate about "+b[0]/c+" ticks with interval "+c;case 21:return"Data item with ID='"+b[0]+"' already exists. You should use another key.";case 22:return"Area "+b[0]+" not represented on screen.";case 700:return"Can't add state. All states for store '"+b[0]+"' has been used.";case 701:return"Last state for store '"+b[0]+"' has been used.";case 702:return"State '"+b[1]+"' already exists in '"+b[0]+"' store.";case 800:return"Surface chart has "+b[0]+" points now. If more than 3000 points are drawn on surface chart you may experience instability and poor performance.";case 900:return'Nodes with id "'+b[0]+'" and "'+b[1]+'" already connected. Supports only one connection between nodes now.';case 901:return'Node with id "'+b[0]+'" has\'t "'+b[1]+'" coordinate. Set '+b[1]+" = 0.";case 902:return'Node with id "'+b[0]+'" already exist.';case 903:return"Can't connect edge with id: \""+b[0]+'" to node with id "'+b[1]+'", node not exists.';case 904:return'You try make edge with id "'+b[0]+'" on one node with id "'+b[1]+'".';case 905:return'No group with id "'+b[0]+'". At first set groups for nodes then use groups method.';case 906:return'Data must contain "nodes" and "edges" fields';case 907:return'Nodes data must has "id" field';case 1E3:return"Offline export failed. Using server export fallback.";case 1001:return"Both client side export and export server fallback are disabled. Nothing will be exported.";case 1002:return"Offline export failed. Fallback to server disabled.";default:return"Unknown error. Please, contact support team at http://support.anychart.com/.\nWe will be very grateful for your report!";}};$.hl=function(a,b,c){var d=$.ll.console;d&&(a=d[a]||d.log,"object"!=_typeof(a)&&a.call(d,b,c||""));};ql=function ql(a,b){$.nd.call(this);this.f=a;this.K=b;this.ma=Eba.test($.ll.location.hostname);this.G=!(this.K||this.ma);this.bc=ml|nl|ol|pl;};rl=function rl(){return("https:"==$.ll.location.protocol?"https://":"http://")+"static.anychart.com/logo.png";};tl=function tl(a){return sl()||a.ma;};ul=function ul(){this.b={};this.i=$.ng();this.f=null;};$.wl=function(a){var b=$.vl,c="m"+$.oa(a);c in b.b||($.L(a,b.j,b),b.b[c]={wO:a,dS:[],yV:!0});};xl=function xl(a){a.f||(a.f=a.i.So(),a.i.Vp().appendChild(a.f));return a.f;};$.Bl=function(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(yl.test(c))return b.tk=zl(c),b.type="hex",b;a:{var d=a.match(Fba);if(d){c=Number(d[1]);var e=Number(d[2]);d=Number(d[3]);if(0<=c&&255>=c&&0<=e&&255>=e&&0<=d&&255>=d){c=[c,e,d];break a;}}c=[];}if(c.length)return b.tk=$.Wb(c),b.type="rgb",b;if(Al&&(c=Al[a.toLowerCase()]))return b.tk=c,b.type="named",b;throw Error(a+" is not a valid color string");};zl=function zl(a){if(!yl.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(Gba,"#$1$1$2$2$3$3"));return a.toLowerCase();};$.Cl=function(a){a=zl(a);return[(0,window.parseInt)(a.substr(1,2),16),(0,window.parseInt)(a.substr(3,2),16),(0,window.parseInt)(a.substr(5,2),16)];};$.Wb=function(a){var b=a[0],c=a[1];a=a[2];b=Number(b);c=Number(c);a=Number(a);if(b!=(b&255)||c!=(c&255)||a!=(a&255))throw Error('"('+b+","+c+","+a+'") is not a valid RGB color');b=Gl(b.toString(16));c=Gl(c.toString(16));a=Gl(a.toString(16));return"#"+b+c+a;};Hl=function Hl(a,b,c){0>c?c+=1:1<c&&--c;return 1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a;};Gl=function Gl(a){return 1==a.length?"0"+a:a;};$.Il=function(a,b,c){c=$.Za(c,0,1);return[Math.round(c*a[0]+(1-c)*b[0]),Math.round(c*a[1]+(1-c)*b[1]),Math.round(c*a[2]+(1-c)*b[2])];};$.Jl=function(a,b){return $.Il([0,0,0],a,b);};$.Ll=function(a,b,c){a=Kl(a);b=Kl(b);var d=(a.opacity+b.opacity)/2;return{color:$.Wb($.Il(a.h5,b.h5,$.n(c)?c:.5)),opacity:d};};Kl=function Kl(a){var b=a,c=1;$.A(a)||($.z(a)?b=a:(b=a.color||"#000",c=$.n(a.opacity)?a.opacity:1),a=$.Ml(b).tk,b=$.Cl(a));return{h5:b,opacity:c};};Nl=function Nl(a,b,c,d){b=null==b||(0,window.isNaN)(+b)?7:+b;d=null!=d?$.Za(d,0,1):window.NaN;a=$.Ml(a||"#000").tk;var e=$.Cl(a);a=e[0]/255;var f=e[1]/255;e=e[2]/255;var h=Math.max(a,f,e),k=Math.min(a,f,e),l=0,m=0,p=.5*(h+k);h!=k&&(h==a?l=60*(f-e)/(h-k):h==f?l=60*(e-a)/(h-k)+120:h==e&&(l=60*(a-f)/(h-k)+240),m=0<p&&.5>=p?(h-k)/(2*p):(h-k)/(2-2*p));e=[Math.round(l+360)%360,m,p];a=e[0];f=e[1];e=e[2];(0,window.isNaN)(d)?(d=e,c=null!=c?$.Za(c,0,1):.95):c=null!=c?$.Za(c,0,1):e;e=1<b?Math.abs(d-c)/(b-1):0;h=[];d=c<d?1:-1;for(k=0;k<b;k++){m=c+d*e*k;var q=a/360;if(0==f)p=m=l=255*m;else{l=.5>m?m*(1+f):m+f-f*m;var r=2*m-l;p=255*Hl(r,l,q+1/3);m=255*Hl(r,l,q);l=255*Hl(r,l,q-1/3);}h.push($.Wb([Math.round(p),Math.round(m),Math.round(l)]));}return h;};$.Ol=function(a,b,c){c=$.n(c)?c:7;a=$.Ml(a||"yellow").tk;b=$.Ml(b||"brown").tk;for(var d=[a],e=1/c,f=1;f<c-1;f++){var h=$.Ll(b,a,e*f);d.push(h.color);}d.push(b);return d;};Pl=function Pl(a){if($.C(a))if(a.color)a=a.color;else return null;if($.z(a))try{return $.Bl(a).tk;}catch(b){}return null;};$.Ql=function(a,b){if($.C(a)){if($.n(a.color)||$.n(a.keys)){var c=$.Sc(a);if($.n(a.keys)){for(var d=c.keys,e=[],f=0,h=d.length;f<h;f++){var k=$.Sc(d[f]);k.color=$.Ql(k.color,b);e.push(k);}c.keys=e;}$.n(c.color)&&(c.color=$.Ql(c.color,b));return c;}return a;}if(null===(c=Pl(a)))return a;c=$.Cl(c);null!=b||(b=.3);return $.Wb($.Il([255,255,255],c,+b));};$.Rl=function(a,b){if($.C(a)){if($.n(a.color)||$.n(a.keys)){var c=$.Sc(a);if($.n(a.keys)){for(var d=c.keys,e=[],f=0,h=d.length;f<h;f++){var k=$.Sc(d[f]);k.color=$.Rl(k.color,b);e.push(k);}c.keys=e;}$.n(c.color)&&(c.color=$.Rl(c.color,b));return c;}return a;}if(null===(c=Pl(a)))return a;c=$.Cl(c);null!=b||(b=.3);return $.Wb($.Jl(c,+b));};$.Sl=function(a){var b;$.J(a,Og)?b={type:a.type,color:$.Sl(a.color),thickness:a.zf,size:a.size}:$.J(a,$.Qb)?b=a.F():$.C(a)?b=$.Tl(a):b=$.da(a)?a:String(a||"none");return b;};$.Ul=function(a){return $.C(a)?a.F?JSON.stringify(a.F()):JSON.stringify(a):_typeof(a).charAt(0)+a;};$.Ml=function(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(Hba.test(c))return b.tk=zl(c),b.type="hex",b;a:{var d=a.match(Iba);if(d){c=Number(d[1]);var e=Number(d[2]);d=Number(d[3]);if(0<=c&&255>=c&&0<=e&&255>=e&&0<=d&&255>=d){c=[c,e,d];break a;}}c=[];}return c.length?(b.tk=$.Wb(c),b.type="rgb",b):Al&&(a=Al[a.toLowerCase()])?(b.tk=a,b.type="named",b):null;};$.Vl=function(a,b,c){var d;c?d=$.Xb(a):d=$.Zb(a);$.z(d)?d={color:d,opacity:b}:$.C(d)&&(d.opacity=b);return d;};$.Wl=function(a){var b=1;$.z(a)?b="none"==a?0:1:$.C(a)&&(b=$.ea(a.opacity)?a.opacity:1);return b;};$.Xl=function(a,b,c){a=$.Zb(a);$.z(a)?a={color:a,thickness:b}:$.C(a)&&(a.thickness=b);c&&(a.opacity=c);return a;};$.dm=function(a,b,c,d){if(!a)return $.Yl;if($.z(a)){var e=b+"|"+a+"|"+c+(d?"|"+d:"");var f=Zl[e];if(!f){switch(b){case 2:f=$.$l;break;case 3:f=$.am;break;default:case 1:f=$.bm;}Zl[e]=f=$.qa(Jba,a,f,3==b,c,!!d);}}else(f=Zl.transparent)||(f=Zl.transparent=function(){return $.cm;});return f;};$.Yl=function(){return"none";};$.em=function(a){return a?$.C(a)?a.color?"none"!=a.color:!0:"none"!=a:!1;};Jba=function Jba(a,b,c,d,e,f,h,k,l,m){h=$.fm(h);l=l||f.check($.gm);var p=f.$();if(d&&h!=$.hm){var q=f.qc(a,h,p,b,e,void 0,k);c&&!0===q&&(q=b(f.Ah()));if($.n(q)){if(!$.E(q))return q;if(c)return a=f.Wi(k),b(q.call(a,a));}}d=f.qc(a,0,p,b,e,void 0,k);c&&!0===d&&(d=b(f.Ah()));if(m&&!c&&a!=m){var r=f.qc(m,0,p,b,e,void 0,k);$.E(r)&&(a=f.He(void 0,k,l),r=b(r.call(a,a)));}$.E(d)&&(a=c?f.Wi(k):f.He(r,k,l),d=b(d.call(a,a)));q&&(a=f.He(d,k,l),d=b(q.call(a,a)));return d;};$.im=function(a,b){a&&(b=b.charAt(0).toUpperCase()+b.substr(1));return a?(a?1==a?"hover":"select":"")+b:b;};_km=function km(a,b,c){var d=b.split(".");b=jm[d[0]];if(!b)return jm[d[0]]={oE:[],AC:c,tI:0},!0;if(d=b.AC<=c){b.AC=c+1;for(var e=b.oE,f=0;f<e.length;f++){var h=e[f];_km(a,h.Rb,c);var k=h.Qb;h=h.Rb.split(".");for(var l=0;l<k.length;l++){var m=k[l].split(".");lm(a,m,_mm(nm(a,m),nm(a,h)));}}}return d||b.tI<c;};nm=function nm(a,b){for(var c=a,d=0;d<b.length;d++)if($.C(c))c=c[b[d]];else return;return c;};$.rm=function(a,b,c){c=$.om(c);b=nm(c,["scales",b]);a=_pm(a);if(b){c=a.type;var d=b.type;$.n(c)&&$.n(d)&&"ordinal"==d^"ordinal"==c||(a=_mm(a,b));}c=a.type||"linear";var e;"ordinal-color"==c?$.om("defaultOrdinalColorScale"):"linear-color"==c?$.om("defaultLinearColorScale"):e=nm($.om("defaultScaleSettings"),[$.qm(c)]);return _mm(a,e);};_pm=function pm(a){if("object"==$.ka(a)){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=_pm(a[c]));return b;}return a;};lm=function lm(a,b,c){if($.n(c)){a=$.C(a)?a:{};for(var d=0;d<b.length-1;d++){var e=b[d];$.C(a[e])||(a[e]={});a=a[e];}a[b[b.length-1]]=c;}};sm=function sm(a,b){for(var c=a=$.C(a)?a:{},d=[c],e=b.length-1,f=0;f<e;f++){var h=b[f];if(!$.C(c[h]))return a;c=c[h];d.push(c);}for(f=e+1;f--;){c=d.pop();delete c[b[f]];e=!1;for(var k in c){e=!0;break;}if(e)break;}return a;};_mm=function mm(a,b){if($.n(a)){if("object"==$.ka(a)){if("object"==$.ka(b))for(var c in b)c in a&&c in xm||(a[c]=_mm(a[c],b[c]));}else if(($.da(a)||null===a)&&"object"==$.ka(b))return _mm({enabled:!!a},b);return a;}return $.Tl(b);};$.Em=function(a,b){var c=a=_ym(a,b),d,e;for(e in zm){var f=e.split("."),h=nm(c,f);if($.A(h)){var k=h.length;var l=nm(b,f),m=nm(b,zm[e].split(".")),p=!0,q=$.A(l)?l.length:0;if(q==k)for(d=0;d<k;d++){var r=$.Tl(l[d]);r=_mm(r,m);if(!_Am(h[d],r)){p=!1;break;}}else p=!1;if(p)c=sm(c,f);else for(d=0;d<k;d++)d<q?(r=$.Tl(l[d]),r=_mm(r,m)):r=m,h[d]=_ym(h[d],r)||{};}}for(e=0;e<Bm.length;e++)if(f=Bm[e].split("."),h=nm(c,f),$.A(h)){l=nm(b,f);k=l.length;for(d=0;d<k;d++)m=l[d].type,m=nm($.om("defaultScaleSettings"),[m]),l[d]=_mm(l[d],m);k=h.length;m=!0;if($.A(l)&&l.length==k)for(d=0;d<k;d++){if(!_Am(h[d],l[d])){m=!1;break;}}else m=!1;if(m)c=sm(c,f);else for(d=0;d<k;d++)h[d]=_ym(h[d],l[d])||{};}a:{if(c){d=c.chart||c.gauge||c.gantt||c.map;if(!d){a=c;break a;}k=$.ka(d.credits);e=$.ka($.Cm("stageCredits"));"object"==k&&"object"==e&&(k=$.Cm("stageCredits"),k=_ym(d.credits,k),$.n(k)&&(d.credits=k));}a=c;}c=a;for(var t in Dm)if(d=Dm[t],k=t.split("."),f=nm(c,k),h=nm(b,d.HL.split(".")),$.A(f)&&$.n(h))for(e=f.length,k=0;k<e;k++)l=nm(f,[k,d.KP]),$.n(l)&&(f[k]=_ym(f[k],nm(h,[l]))||{});return c;};_ym=function ym(a,b,c){var d=$.ka(a),e=$.ka(b),f;if("object"==d&&"object"==e){d=!0;for(var h in a)if(h in b){e=b[h];if(h in xm){var k=xm[h];switch(k){case Fm:e=$.E(e)?void 0:$.Xb(e);break;case Gm:e=$.E(e)?void 0:$.Sl($.ac(e));break;case Hm:e=$.E(e)?void 0:$.Zb(e);break;case Im:e=$.Jm(e);}}else k=Km;k!=Km?f=_Am(a[h],e,k)?void 0:a[h]:f=_ym(a[h],e,k||c);$.n(f)?(a[h]=f,d=!1):"xScale"==h||"yScale"==h||"colorScale"==h?d=!1:"enabled"!=h&&delete a[h];}else $.n(a[h])&&(d=!1);if(d)return;}else{if($.n(c)&&"array"==d&&"array"==e)return _Am(a,b,c)?void 0:a;if(a==b)return;}return a;};_Am=function Am(a,b,c){var d=$.ka(a),e=$.ka(b);if(d==e){if("object"==d)for(var f in a){d=b[f];if(f in xm)switch(xm[f]){case Fm:d=$.E(d)?void 0:$.Xb(d);break;case Gm:d=$.E(d)?void 0:$.Sl($.ac(d));break;case Hm:d=$.E(d)?void 0:$.Zb(d);}if(!_Am(a[f],d,c))return!1;}else if("array"==d){f=a.length;if(f!=b.length)return!1;for(e=0;e<f;e++){d=b[e];switch(c){case Lm:d=$.Xb(d);break;case Mm:d=$.Sl($.ac(d));}if(!_Am(a[e],d))return!1;}}else return a===b;return!0;}return!1;};Xa=function Xa(a){if($.z(a))var b=[a];else{b=[];var c=a[0];a=a[1];c=$.z(c)?[c]:Ya(c);a=$.z(a)?[a]:Ya(a);for(var d=0;d<c.length;d++)for(var e=0;e<a.length;e++)b.push(c[d]+a[e]);}return b;};Nm=function Nm(){};$.Om=function(){$.nd.call(this);this.aJ=this.lB.length-1;this.XF=this.Sz.length-1;this.uO=(0,$.pa)(this.uO,this);};Pm=function Pm(a){for(var b=a.length,c=Array(b),d=c[0]=-1,e=1;e<b;e++){var f=a.charAt(e);if('"'==f)throw $.il(100),Error("Double quotes in separator are not allowed");for(;0<d&&a.charAt(d+1)!=f;)d=c[d];a.charAt(d+1)==f&&d++;c[e]=d;}return c;};Qm=function Qm(a,b){for(;-1<a.Vo&&a.Sz.charAt(a.Vo+1)!=b;)a.Vo=a.f[a.Vo];a.Sz.charAt(a.Vo+1)==b&&a.Vo++;return a.Vo==a.XF;};Rm=function Rm(a,b){for(;-1<a.Wo&&a.lB.charAt(a.Wo+1)!=b;)a.Wo=a.i[a.Wo];a.lB.charAt(a.Wo+1)==b&&a.Wo++;return a.Wo==a.aJ;};Tm=function Tm(a){if(a.kM)return!1;var b=0,c=a.ah-1;a.Wo=-1;a.Vo=-1;for(var d=0,e="",f=0;++c<a.Wz;){var h=a.Nd.charAt(c);switch(d){case 0:if('"'==h){++c<a.Wz?h=a.Nd.charAt(c):c--;a.ah=c;'"'==h?d=1:(d=2,c--);break;}if(Qm(a,h)){a.b(b++,null);e="";a.Vo=-1;a.Wo=-1;a.ah=c+1;break;}if(Rm(a,h)){a.Vo=-1;a.Wo=-1;a.ah=c+1;if(0<b)return a.b(b,null),!0;e="";break;}if(!a.jw||" "!=h&&"\t"!=h)a.ah=c,d=1;break;case 1:if(Qm(a,h)){h=c-a.ah-a.XF;0<a.XF&&a.jw?(e=Sm(a.Nd.substr(a.ah,h)))||(e=null):(a.jw&&(h-=f),e=0<h?a.Nd.substr(a.ah,h):null);a.b(b++,e);e="";a.Vo=-1;a.Wo=-1;a.ah=c+1;d=f=0;break;}if(Rm(a,h))if(h=c-a.ah-a.aJ,!b&&0>=h){e="";d=0;a.Vo=-1;a.Wo=-1;a.ah=c+1;f=0;break;}else return 0<a.aJ&&a.jw?(e=Sm(a.Nd.substr(a.ah,h)))||(e=null):(a.jw&&(h-=f),e=0<h?a.Nd.substr(a.ah,h):null),a.b(b,e),a.ah=c+1,!0;!a.jw||" "!=h&&"\t"!=h?f=0:f++;break;case 2:if('"'==h){if(++c<a.Wz)h=a.Nd.charAt(c);else return e+=a.Nd.substr(a.ah,c-a.ah-1),a.b(b,e.length?e:null),a.ah=c,a.kM=!0;'"'==h?(e+=a.Nd.substr(a.ah,c-a.ah),a.ah=c+1):(a.Vo=-1,a.Wo=-1,d=3,e+=a.Nd.substr(a.ah,c-a.ah-1),a.b(b++,e?e:null),e="",c--);}break;case 3:if(Qm(a,h))e="",a.Vo=-1,a.Wo=-1,a.ah=c+1,d=f=0;else if(Rm(a,h))return a.ah=c+1,!0;}}h=a.Wz-a.ah;2!=d&&1!=d||!h||(e+=a.Nd.substr(a.ah,h),a.jw&&(e=Sm(a.Nd.substr(a.ah,h))),a.b(b++,e?e:null),a.ah=a.Wz);a.kM=!0;return 0<b;};$.Um=function(){return new $.Om();};$.Vm=function(a){return $.J(a,$.gb)?a:$.A(a)?new $.gb(a[0],a[1]):$.C(a)?new $.gb(a.x,a.y):new $.gb(0,0);};$.Wm=function(a,b){var c=Math.pow(10,Math.min(b||0,14-Math.floor(Math.log(Math.abs(a))*Math.LOG10E)));return Math.round(a*c)/c||0;};$.Ym=function(a,b){var c=Math.floor(Math.log(Math.abs(a))*Math.LOG10E);c=0>c?Math.min($.Xm(a),14):13-Math.max(c,7);return $.Wm(a,b?b:c);};$.Xm=function(a){if(!(0,window.isFinite)(a))return 0;for(var b=1,c=0;Math.round(a*b)/b!==a;)b*=10,c++;return c;};$.Zm=function(a,b,c){return Math.abs(a-b)<(c||.01);};$.$m=function(a,b){var c=Math.log(Math.max(1E-7,a));return b?$.Ym(c/Math.log(b),14):c;};an=function an(a,b){return $.Wm(Math.pow(a,b),7);};bn=function bn(a){a=$.Ha(a);$.Pa(a);var b=Math.floor(a.length/2);return a.length%2?a[b]:(a[b-1]+a[b])/2;};cn=function cn(a){for(var b={},c=a[0],d=1,e=0;e<a.length;e++){var f=a[e];$.n(b[f])?b[f]++:b[f]=1;b[f]>d&&(c=f,d=b[f]);}return c;};$.en=function(a,b){var c=!1,d;if(!a||!b)return!1;var e=0;for(d=a.length;e<d-1;e+=2){var f=e==d-2?0:e+2;var h=e==d-2?1:e+3;c=c||dn(a[e],a[e+1],a[f],a[h],b);}e=0;for(d=b.length;e<d-1;e+=2)f=e==d-2?0:e+2,h=e==d-2?1:e+3,c=c||dn(b[e],b[e+1],b[f],b[h],a);return!c;};dn=function dn(a,b,c,d,e){for(var f=!0,h=0,k=e.length;h<k-1;h+=2)f=f&&0>=$.fn(a,b,c,d,e[h],e[h+1]);return f;};$.fn=function(a,b,c,d,e,f){return(a=(b-d)*e+(c-a)*f+(a*d-c*b))?0<a?1:-1:0;};gn=function gn(a,b,c,d){if(a>b){var e=a;a=b;b=e;}c>d&&(e=c,c=d,d=e);return Math.max(a,c)<=Math.min(b,d);};$.hn=function(a,b,c,d,e,f,h,k){return gn(a,c,e,h)&&gn(b,d,f,k)&&0>=((c-a)*(f-b)-(d-b)*(e-a))*((c-a)*(k-b)-(d-b)*(h-a))&&0>=((h-e)*(b-f)-(k-f)*(a-e))*((h-e)*(d-f)-(k-f)*(c-e));};jn=function jn(a,b,c,d,e,f,h,k){var l=window.NaN;0!=a-2*c+e?(l=(a-c+Math.sqrt((a-2*c+e)*h+c*c-a*e))/(a-2*c+e),a=(a-c-Math.sqrt((a-2*c+e)*h+c*c-a*e))/(a-2*c+e),c=(b-d+Math.sqrt((b-2*d+f)*k+d*d-b*f))/(b-2*d+f),b=(b-d-Math.sqrt((b-2*d+f)*k+d*d-b*f))/(b-2*d+f),l=0<l&&1>l?l:0<a&&1>a?a:0<c&&1>c?c:0<b&&1>b?b:window.NaN):a!=c?l=(h-a)/(2*(c-a)):a==c&&c!=e&&(l=Math.sqrt((h-a)/(e-c)));return l;};$.kn=function(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b);};$.ln=function(a,b,c){return(c||0)+b*$.Wm(Math.cos(a),8);};$.mn=function(a,b,c){return(c||0)+b*$.Wm(Math.sin(a),8);};$.nn=function(a,b,c,d){return new $.I(a,b,c,d);};$.on=function(a){return[a.left,a.top,a.left+a.width,a.top,a.left+a.width,a.top+a.height,a.left,a.top+a.height];};$.pn=function(a){for(var b=new $.I(0,0,0,0),c=new $.I(a[0],a[1],0,0),d=2,e=a.length;d<e;d+=2)b.left=a[d],b.top=a[d+1],$.pb(c,b);return c;};$.qn=function(a){return new $.I(+a.left||0,+a.top||0,+a.width||0,+a.height||0);};$.rn=function(a,b){0<arguments.length&&(this.x=a,this.y=b);};sn=function sn(a,b){return new $.rn(a.x*b,a.y*b);};tn=function tn(a,b,c){return new $.rn(a.x+(b.x-a.x)*c,a.y+(b.y-a.y)*c);};un=function un(a){var b=arguments;this.b=[];for(var c=b.length-1;0<=c;c--)this.b.push(b[c]);};wn=function wn(a){a.jJ();switch(a.b.length-1){case 0:var b=[];break;case 1:b=[];var c=a.b[1];0!=c&&b.push(-a.b[0]/c);break;case 2:b=[];if(2==a.b.length-1){var d=a.b[2];c=a.b[1]/d;d=c*c-a.b[0]/d*4;0<d?(d=Math.sqrt(d),b.push(.5*(-c+d)),b.push(.5*(-c-d))):0==d&&b.push(.5*-c);}break;case 3:b=vn(a);break;case 4:b=[];if(4==a.b.length-1){var e=a.b[4];c=a.b[3]/e;d=a.b[2]/e;var f=a.b[1]/e;a=a.b[0]/e;e=vn(new un(1,-d,c*f-4*a,-c*c*a+4*d*a-f*f))[0];var h=c*c/4-d+e;1E-6>=Math.abs(h)&&(h=0);0<h?(a=Math.sqrt(h),e=3*c*c/4-a*a-2*d,f=(4*c*d-8*f-c*c*c)/(4*a),d=e+f,f=e-f,1E-6>=Math.abs(d)&&(d=0),1E-6>=Math.abs(f)&&(f=0),0<=d&&(d=Math.sqrt(d),b.push(-c/4+(a+d)/2),b.push(-c/4+(a-d)/2)),0<=f&&(d=Math.sqrt(f),b.push(-c/4+(d-a)/2),b.push(-c/4-(d+a)/2))):0>h||(f=e*e-4*a,-1E-6<=f&&(0>f&&(f=0),f=2*Math.sqrt(f),e=3*c*c/4-2*d,1E-6<=e+f&&(d=Math.sqrt(e+f),b.push(-c/4+d/2),b.push(-c/4-d/2)),1E-6<=e-f&&(d=Math.sqrt(e-f),b.push(-c/4+d/2),b.push(-c/4-d/2))));}break;default:b=[];}return b;};vn=function vn(a){var b=[];if(3==a.b.length-1){var c=a.b[3],d=a.b[2]/c,e=a.b[1]/c,f=(3*e-d*d)/3;a=(2*d*d*d-9*e*d+a.b[0]/c*27)/27;d/=3;c=a*a/4+f*f*f/27;a/=2;0<c?(f=Math.sqrt(c),c=-a+f,e=0<=c?Math.pow(c,1/3):-Math.pow(-c,1/3),c=-a-f,e=0<=c?e+Math.pow(c,1/3):e-Math.pow(-c,1/3),b.push(e-d)):0>c?(f=Math.sqrt(-f/3),c=Math.atan2(Math.sqrt(-c),-a)/3,a=Math.cos(c),c=Math.sin(c),e=Math.sqrt(3),b.push(2*f*a-d),b.push(-f*(a+e*c)-d),b.push(-f*(a-e*c)-d)):(c=0<=a?-Math.pow(a,1/3):Math.pow(-a,1/3),b.push(2*c-d),b.push(-c-d));}return b;};xn=function xn(a,b,c,d,e,f,h,k,l,m,p,q){a=new $.rn(a,b);c=new $.rn(c,d);e=new $.rn(e,f);h=new $.rn(h,k);m=new $.rn(l,m);l=new $.rn(p,q);p=[];k=sn(c,-2);q=a.add(k.add(e));k=sn(a,-2);e=sn(c,2);c=k.add(e);a=new $.rn(a.x,a.y);k=sn(m,-2);l=h.add(k.add(l));k=sn(h,-2);e=sn(m,2);m=k.add(e);h=new $.rn(h.x,h.y);if(0==q.y)k=q.x*(a.y-h.y),e=k-c.x*c.y,f=c.y*c.y,k=new un(q.x*l.y*l.y,2*q.x*m.y*l.y,q.x*m.y*m.y-l.x*f-l.y*k-l.y*e,-m.x*f-m.y*k-m.y*e,(a.x-h.x)*f+(a.y-h.y)*e);else{k=q.x*l.y-q.y*l.x;e=q.x*m.y-m.x*q.y;var r=c.x*q.y-c.y*q.x;f=a.y-h.y;d=q.y*(a.x-h.x)-q.x*f;b=-c.y*r+q.y*d;r*=r;k=new un(k*k,2*k*e,(-l.y*r+q.y*e*e+q.y*k*d+k*b)/q.y,(-m.y*r+q.y*e*d+e*b)/q.y,(f*r+d*b)/q.y);}k=wn(k);for(e=0;e<k.length;e++)if(f=k[e],0<=f&&1>=f&&(d=wn(new un(q.x,c.x,a.x-h.x-f*m.x-f*f*l.x)),b=wn(new un(q.y,c.y,a.y-h.y-f*m.y-f*f*l.y)),0<d.length&&0<b.length))a:for(r=0;r<d.length;r++){var t=d[r];if(0<=t&&1>=t)for(var u=0;u<b.length;u++)if(1E-4>Math.abs(t-b[u])){p.push(sn(l,f*f).add(sn(m,f).add(h)));break a;}}return p;};yn=function yn(a,b,c,d,e,f,h,k){var l,m=(k-f)*(c-a)-(h-e)*(d-b);0!=m?(h=((h-e)*(b-f)-(k-f)*(a-e))/m,e=((c-a)*(b-f)-(d-b)*(a-e))/m,0<=h&&1>=h&&0<=e&&1>=e?l=new $.rn(a+h*(c-a),b+h*(d-b)):l=null):l=null;return l;};zn=function zn(a,b){switch(b){case 1:return 0!=a%4||0==a%100&&0!=a%400?28:29;case 5:case 8:case 10:case 3:return 30;}return 31;};An=function An(a,b,c,d,e){a=new Date(a,b,c);d=$.n(d)?d:3;e=e||0;b=((a.getDay()+6)%7-e+7)%7;return a.valueOf()+864E5*((d-e+7)%7-b);};$.Ln=function(a,b,c,d,e,f){$.z(a)?(this.Yh=a==Bn?b:0,this.og=a==Cn?b:0,this.Dg=a==Dn?b:0,this.ai=a==En?b:0,this.Xj=a==Fn?b:0,this.Gh=a==Kn?b:0):(this.Yh=a||0,this.og=b||0,this.Dg=c||0,this.ai=d||0,this.Xj=e||0,this.Gh=f||0);};Mn=function Mn(a){a=a.match(Kba);if(!a)return null;var b=!(a[6]||a[7]||a[8]);if(b&&!(a[2]||a[3]||a[4])||b&&a[5])return null;b=(0,window.parseInt)(a[2],10)||0;var c=(0,window.parseInt)(a[3],10)||0,d=(0,window.parseInt)(a[4],10)||0,e=(0,window.parseInt)(a[6],10)||0,f=(0,window.parseInt)(a[7],10)||0,h=(0,window.parseFloat)(a[8])||0;return a[1]?new $.Ln(-b,-c,-d,-e,-f,-h):new $.Ln(b,c,d,e,f,h);};Nn=function Nn(a,b){var c=Math.min(a.Yh,a.og,a.Dg,a.ai,a.Xj,a.Gh),d=Math.max(a.Yh,a.og,a.Dg,a.ai,a.Xj,a.Gh);if(0>c&&0<d)return null;if(!b&&0==c&&0==d)return"PT0S";d=[];0>c&&d.push("-");d.push("P");(a.Yh||b)&&d.push(Math.abs(a.Yh)+"Y");(a.og||b)&&d.push(Math.abs(a.og)+"M");(a.Dg||b)&&d.push(Math.abs(a.Dg)+"D");if(a.ai||a.Xj||a.Gh||b)d.push("T"),(a.ai||b)&&d.push(Math.abs(a.ai)+"H"),(a.Xj||b)&&d.push(Math.abs(a.Xj)+"M"),(a.Gh||b)&&d.push(Math.abs(a.Gh)+"S");return d.join("");};$.Rn=function(a,b,c){$.ea(a)?(this.b=On(a,b||0,c||1),Pn(this,c||1)):$.C(a)?(this.b=On(a.getFullYear(),a.getMonth(),a.getDate()),Pn(this,a.getDate())):(this.b=new Date((0,$.Qn)()),a=this.b.getDate(),this.b.setHours(0),this.b.setMinutes(0),this.b.setSeconds(0),this.b.setMilliseconds(0),Pn(this,a));};On=function On(a,b,c){b=new Date(a,b,c);0<=a&&100>a&&b.setFullYear(b.getFullYear()-1900);return b;};Pn=function Pn(a,b){if(a.getDate()!=b){var c=a.getDate()<b?1:-1;a.b.setUTCHours(a.b.getUTCHours()+c);}};$.Sn=function(a,b,c,d,e,f,h){this.b=$.ea(a)?new Date(a,b||0,c||1,d||0,e||0,f||0,h||0):new Date(a&&a.getTime?a.getTime():(0,$.Qn)());};$.Tn=function(a,b,c,d,e,f,h){a=$.ea(a)?Date.UTC(a,b||0,c||1,d||0,e||0,f||0,h||0):a?a.getTime():(0,$.Qn)();this.b=new Date(a);};Lba=function Lba(){if(!$.id)return!1;try{return new window.ActiveXObject("MSXML2.DOMDocument"),!0;}catch(a){return!1;}};Un=function Un(){var a=new window.ActiveXObject("MSXML2.DOMDocument");a.resolveExternals=!1;a.validateOnParse=!1;try{a.setProperty("ProhibitDTD",!0),a.setProperty("MaxXMLSize",2048),a.setProperty("MaxElementDepth",256);}catch(b){}return a;};Vn=function Vn(){};Xn=function Xn(a){if("number"==typeof a){var b=new Vn();b.D=a;var c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",$.yc(c,2));c=d.join("");}b.i=c;c=a;0==c?c="UTC":(d=["UTC",0>c?"+":"-"],c=Math.abs(c),d.push(Math.floor(c/60)%100),c%=60,0!=c&&d.push(":",c),c=d.join(""));a=Wn(a);b.j=[c,c];b.b={Mra:a,vZ:a};b.f=[];return b;}b=new Vn();b.i=a.id;b.D=-a.std_offset;b.j=a.names;b.b=a.names_ext;b.f=a.transitions;return b;};Wn=function Wn(a){var b=["GMT"];b.push(0>=a?"+":"-");a=Math.abs(a);b.push($.yc(Math.floor(a/60)%100,2),":",$.yc(a%60,2));return b.join("");};Yn=function Yn(a,b){for(var c=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5,d=0;d<a.f.length&&c>=a.f[d];)d+=2;return 0==d?0:a.f[d-1];};$.bo=function(a,b){this.f=[];this.b=b||Zn;"number"==typeof a?_$n(this,a):ao(this,a);};co=function co(a){return a.getHours?a.getHours():0;};ao=function ao(a,b){for(Mba&&(b=b.replace(/\u200f/g,""));b;){for(var c=b,d=0;d<eo.length;++d){var e=b.match(eo[d]);if(e){var f=e[0];b=b.substring(f.length);0==d&&("''"==f?f="'":(f=f.substring(1,"'"==e[1]?f.length-1:f.length),f=f.replace(/''/g,"'")));a.f.push({text:f,type:d});break;}}if(c===b)throw Error("Malformed pattern part: "+b);}};_$n=function $n(a,b){if(4>b)var c=a.b.dF[b];else if(8>b)c=a.b.iF[b-4];else if(12>b)c=a.b.gQ[b-8],c=c.replace("{1}",a.b.dF[b-8]),c=c.replace("{0}",a.b.iF[b-8]);else{_$n(a,10);return;}ao(a,c);};fo=function fo(a,b){var c=String(b);var d=a.b||Zn;if(void 0!==d.GQ){for(var e=[],f=0;f<c.length;f++){var h=c.charCodeAt(f);e.push(48<=h&&57>=h?String.fromCharCode(d.GQ+h-48):c.charAt(f));}c=e.join("");}return c;};go=function go(a){if(!(a.getHours&&a.getSeconds&&a.getMinutes))throw Error("The date to format has no time (probably a goog.date.Date). Use Date or goog.date.DateTime, or use a pattern without time fields.");};Nba=function Nba(a,b,c,d,e,f){var h=b.length;switch(b.charAt(0)){case"G":return c=0<d.getFullYear()?1:0,4<=h?a.b.ZY[c]:a.b.kQ[c];case"y":return c=d.getFullYear(),0>c&&(c=-c),2==h&&(c%=100),fo(a,$.yc(c,h));case"Y":return c=d.getFullYear(),e=d.getMonth(),d=d.getDate(),c=An(c,e,d,a.b.YJ,a.b.XJ),c=new Date(c).getFullYear(),0>c&&(c=-c),2==h&&(c%=100),fo(a,$.yc(c,h));case"M":a:switch(c=d.getMonth(),h){case 5:h=a.b.cZ[c];break a;case 4:h=a.b.pQ[c];break a;case 3:h=a.b.wQ[c];break a;default:h=fo(a,$.yc(c+1,h));}return h;case"k":return go(e),c=co(e)||24,fo(a,$.yc(c,h));case"S":return c=e.getMilliseconds()/1E3,fo(a,c.toFixed(Math.min(3,h)).substr(2)+(3<h?$.yc(0,h-3):""));case"E":return c=d.getDay(),4<=h?a.b.FQ[c]:a.b.yQ[c];case"a":return go(e),h=co(e),a.b.cQ[12<=h&&24>h?1:0];case"h":return go(e),c=co(e)%12||12,fo(a,$.yc(c,h));case"K":return go(e),c=co(e)%12,fo(a,$.yc(c,h));case"H":return go(e),c=co(e),fo(a,$.yc(c,h));case"c":a:switch(c=d.getDay(),h){case 5:h=a.b.sZ[c];break a;case 4:h=a.b.uZ[c];break a;case 3:h=a.b.tZ[c];break a;default:h=fo(a,$.yc(c,1));}return h;case"L":a:switch(c=d.getMonth(),h){case 5:h=a.b.rZ[c];break a;case 4:h=a.b.AQ[c];break a;case 3:h=a.b.BQ[c];break a;default:h=fo(a,$.yc(c+1,h));}return h;case"Q":return c=Math.floor(d.getMonth()/3),4>h?a.b.xQ[c]:a.b.sQ[c];case"d":return fo(a,$.yc(d.getDate(),h));case"m":return go(e),fo(a,$.yc(e.getMinutes(),h));case"s":return go(e),fo(a,$.yc(e.getSeconds(),h));case"v":return h=f||Xn(c.getTimezoneOffset()),h.i;case"V":return a=f||Xn(c.getTimezoneOffset()),2>=h?a.i:0<Yn(a,c)?$.n(a.b.P7)?a.b.P7:a.b.DST_GENERIC_LOCATION:$.n(a.b.vZ)?a.b.vZ:a.b.STD_GENERIC_LOCATION;case"w":return c=e.getFullYear(),d=e.getMonth(),e=e.getDate(),c=An(c,d,e,a.b.YJ,a.b.XJ),d=new Date(new Date(c).getFullYear(),0,1).valueOf(),fo(a,$.yc(Math.floor(Math.round((c-d)/864E5)/7)+1,h));case"z":return a=f||Xn(c.getTimezoneOffset()),4>h?a.j[0<Yn(a,c)?2:0]:a.j[0<Yn(a,c)?3:1];case"Z":return d=f||Xn(c.getTimezoneOffset()),4>h?(h=-d.iD(c),a=[0>h?"-":"+"],h=Math.abs(h),a.push($.yc(Math.floor(h/60)%100,2),$.yc(h%60,2)),h=a.join("")):h=fo(a,Wn(d.iD(c))),h;default:return"";}};Oba=function Oba(a){return /^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""));};Pba=function Pba(a){a=String(a);if(Oba(a))try{return eval("("+a+")");}catch(b){}throw Error("Invalid JSON string: "+a);};io=function io(a){return new ho().F(a);};ho=function ho(){};_jo=function jo(a,b,c){if(null==b)c.push("null");else{if("object"==_typeof(b)){if($.A(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),_jo(a,d[f],c),e=",";c.push("]");return;}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");e="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(f=b[d],"function"!=typeof f&&(c.push(e),ko(d,c),c.push(":"),_jo(a,f,c),e=","));c.push("}");return;}}switch(_typeof(b)){case"string":ko(b,c);break;case"number":c.push((0,window.isFinite)(b)&&!(0,window.isNaN)(b)?String(b):"null");break;case"boolean":c.push(String(b));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+_typeof(b));}}};ko=function ko(a,b){b.push('"',a.replace(Qba,function(a){var b=lo[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),lo[a]=b);return b;}),'"');};$.mo=function(a){if($.fa.JSON)try{return $.fa.JSON.stringify(a);}catch(b){}return io(a);};$.no=function(a){if($.fa.JSON)try{return $.fa.JSON.parse(a);}catch(b){}return Pba(a);};$.so=function(a,b){for(var c=[],d=0;d<a.length;d+=2){var e=a[d],f=void 0,h=a[d+1];if(h==Rba)f=e;else if(e){switch(h){case $.oo:e=e.Oa;break;case $.po:e=e.na;break;case $.qo:e=e.Ld;}b?h==Sba?f=e.get(b):(f=e[b],h==ro&&(f=f?f.call(e):void 0)):f=e;}c.push(f);}return c;};to=function to(a,b,c,d){if(c)for(var e=0;e<c.length;e++){var f=c[e];if(f in a){b=f;break;}}return 3<arguments.length?(e=a[b],a[b]=d,e):a[b];};wo=function wo(a,b){if("number"==typeof a&&"number"==typeof b)return $.uo(a,b);a=$.vo(a);b=$.vo(b);return a>b?1:a==b?0:-1;};Tba=function Tba(a,b){return-wo(a,b);};$.uo=function(a,b){return(0,window.isNaN)(a)?(0,window.isNaN)(b)?0:1:(0,window.isNaN)(b)?-1:a-b;};$.xo=function(a){for(var b;$.J(a,$.kg);){b=a.tag;if($.n(b))return b;a=a.parent();}};$.yo=function(a,b){if(!a)return!1;for(;$.J(b,$.tf)&&b!=a;)b=b.Yi();return b==a;};$.vo=function(a){return $.C(a)?"o"+$.oa(a):_typeof(a).charAt(0)+a;};$.M=function(a,b,c){a=$.ea(a)?a:!(0,window.isNaN)(b)&&$.zo(a)?b*(0,window.parseFloat)(a)/100:(0,window.parseFloat)(a);return c&&!(0,window.isNaN)(b)?b-a:a;};$.Co=function(a){switch(a){case $.Ao:return"hovered";case $.Bo:return"selected";default:return"normal";}};$.zo=function(a){return $.z(a)&&$.hc(a,"%")&&!(0,window.isNaN)((0,window.parseFloat)(a));};$.Do=function(a,b){if(null===a)return null;a=$.n(a)?a:0;b=$.n(b)?b:0;var c=$.zo(a),d=(0,window.parseFloat)(a);return(0,window.isNaN)(d)?b:c?a:d;};$.Eo=function(a,b){if($.zo(a))return a;$.ea(a)||(a=(0,window.parseFloat)(a));return(0,window.isNaN)(a)?b?window.NaN:"0%":a+"%";};$.Fo=function(a){return $.zo(a)?(0,window.parseFloat)(a)/100:+a;};$.N=function(a){return null==a||$.da(a)?window.NaN:+a;};$.Go=function(a){return $.z(a)?a:$.N(a);};Ho=function Ho(a){return $.ea(a)&&!(0,window.isNaN)(a)||$.z(a)&&""!=(0,$.zc)(a)?a:null;};$.Io=function(a){return(0,window.isNaN)($.N(a));};$.Jo=function(a,b,c){$.ea(a)||(a=(0,window.parseFloat)(a));a=Math.round(a);return!(0,window.isNaN)(a)&&(0<a||c&&!a)?a:$.n(b)?b:c?0:1;};$.Xk=function(a){if($.ea(a))var b=a;else $.z(a)?(b=+new Date(a),(0,window.isNaN)(b)&&(b=+a)):b=null!=a?Number(a):window.NaN;return b;};$.Ko=function(a,b){var c=a.left,d=a.top;switch($.Ek(b)){case"left-center":d+=a.height/2;break;case"left-bottom":d+=a.height;break;case"center-top":c+=a.width/2;break;case"center":c+=a.width/2;d+=a.height/2;break;case"center-bottom":c+=a.width/2;d+=a.height;break;case"right-top":c+=a.width;break;case"right-center":c+=a.width;d+=a.height/2;break;case"right-bottom":c+=a.width,d+=a.height;}return{x:c,y:d};};$.Mo=function(a){a=$.ab(a);a/=90;a!=~~a&&(a=Math.round(a-.5)+.5);return $.Lo[(a+a+6)%8];};$.No=function(a){return"outside"==a||"byPath"==a?1:"inside"==a?-1:0;};$.Oo=function(a,b){var c=0,d=$.n(b)?b:window.NaN;if(a.enabled()){var e=a.g("position"),f=a.g("length");"outside"==e?c=0>=d?0:f:"center"==e?c=d*f/2:"inside"==e&&(c=0<=d?0:-f);}return c;};$.Po=function(a,b){var c=$.ab(-b)/90;if(c){var d=(0,$.za)($.Lo,a);0<=d&&(c!=~~c&&(c=Math.round(c-.5)+.5),a=$.Lo[(d+(c+c))%$.Lo.length]);}return a;};$.Qo=function(a){return"left-top"==a||"center-top"==a||"right-top"==a;};$.Ro=function(a){return"left-bottom"==a||"center-bottom"==a||"right-bottom"==a;};$.So=function(a){return"left-top"==a||"left-center"==a||"left-bottom"==a;};$.To=function(a){return"right-top"==a||"right-center"==a||"right-bottom"==a;};$.Uo=function(a,b,c,d){c=c||0;d=7<=d?d:7;return $.Wm(b*Math.floor($.Wm((a-c)/b,d))+c,d);};$.Vo=function(a,b,c,d){c=c||0;d=7<=d?d:7;return $.Wm(b*Math.ceil($.Wm((a-c)/b,d))+c,d);};$.Yo=function(a,b,c){var d=new Date(a),e=d.getUTCFullYear(),f=d.getUTCMonth(),h=d.getUTCDate(),k=d.getUTCHours(),l=d.getUTCMinutes(),m=d.getUTCSeconds(),p=d.getUTCMilliseconds();return b.Yh?(e=$.Uo(e,b.Yh,new Date(c).getUTCFullYear()),Date.UTC(e,0)):b.og?(f=$.Uo(f,b.og),Date.UTC(e,f)):b.Dg&&0==b.Dg%7?(a=$.Wo($.Xo()),$.Uo(d.getTime(),864E5*b.Dg,Date.UTC(2E3,0,2+(a?a.firstDayOfWeek:0)))):b.Dg?(h=$.Uo(h,b.Dg),Date.UTC(e,f,h)):b.ai?(k=$.Uo(k,b.ai),Date.UTC(e,f,h,k)):b.Xj?(l=$.Uo(l,b.Xj),Date.UTC(e,f,h,k,l)):1<=b.Gh?(m=$.Uo(m,b.Gh),Date.UTC(e,f,h,k,l,m)):b.Gh?(p=$.Uo(p,1E3*b.Gh),Date.UTC(e,f,h,k,l,m,p)):a;};$.Zo=function(a,b,c,d){var e=new Date(a),f=e.getUTCFullYear(),h=e.getUTCMonth(),k=e.getUTCDate(),l=e.getUTCHours(),m=e.getUTCMinutes(),p=e.getUTCSeconds(),q=e.getUTCMilliseconds();switch(b){case"year":return f=$.Uo(f,c,new Date(d).getUTCFullYear()),Date.UTC(f,0);case"semester":return h=$.Uo(h,6*c),Date.UTC(f,h);case"quarter":return h=$.Uo(h,3*c),Date.UTC(f,h);case"month":return h=$.Uo(h,c),Date.UTC(f,h);case"third-of-month":return $.Uo(e.getTime(),864E6*c,Date.UTC(2E3,0,2));case"week":return a=$.Wo($.Xo()),$.Uo(e.getTime(),6048E5*c,Date.UTC(2E3,0,2+(a?a.firstDayOfWeek:0)));case"day":return $.Uo(e.getTime(),864E5*c,Date.UTC(2E3,0,2));case"hour":return l=$.Uo(l,c),Date.UTC(f,h,k,l);case"minute":return m=$.Uo(m,c),Date.UTC(f,h,k,l,m);case"second":return p=$.Uo(p,c),Date.UTC(f,h,k,l,m,p);case"millisecond":return q=$.Uo(q,c),Date.UTC(f,h,k,l,m,p,q);}return a;};$.$o=function(a,b){switch(a){case"year":var c=Bn;var d=b;break;case"semester":c=Cn;d=6*b;break;case"quarter":c=Cn;d=3*b;break;case"month":c=Cn;d=b;break;case"third-of-month":c=Dn;d=10*b;break;case"week":c=Dn;d=7*b;break;case"day":c=Dn;d=b;break;case"hour":c=En;d=b;break;case"minute":c=Fn;d=b;break;case"second":c=Kn;d=b;break;case"millisecond":c=Kn;d=b/1E3;break;default:c=Bn,d=b;}return new $.Ln(c,d);};$.O=function(a,b,c){b=(b&1)/2;return .5<=a%1?Math.ceil(a)-(c?-b:b):Math.floor(a)+(c?-b:b);};ap=function ap(a){a=$.O(a,1);return a=$.n(void 0)&&void 0>a?Math.floor(a):Math.ceil(a);};$.bp=function(a,b){var c=a.left+a.width,d=a.top+a.height;a.left=$.O(a.left,b);a.top=$.O(a.top,b);a.width=$.O(c,b)-a.left;a.height=$.O(d,b)-a.top;return a;};$.cp=function(a,b,c,d){switch(b){case"left-top":case"left-center":case"center-top":case"center":a.x+=c;a.y+=d;break;case"left-bottom":case"center-bottom":a.x+=c;a.y-=d;break;case"right-center":case"right-top":a.x-=c;a.y+=d;break;case"right-bottom":a.x-=c,a.y-=d;}};$.dp=function(a){for(var b=0,c=arguments.length;b<c;b++){var d=arguments[b];if($.n(d))return d;}};$.ep=function(a){for(var b=0,c=arguments.length;b<c;b++){var d=arguments[b];if(null!=d)return d;}};_fp=function fp(a){for(var b=0,c=arguments.length;b<c;b++){var d=arguments[b];$.A(d)&&(d=_fp.apply(null,d));if(null!=d)return d;}};Uba=function Uba(a){for(var b=0,c=arguments.length;b<c;b++){var d=arguments[b];$.A(d)&&(d=_fp.apply(null,d));if(null!=d)return d;}};$.Tl=function(a){var b=$.ka(a);if("array"==b){b=[];for(var c=0;c<a.length;c++)c in a&&(b[c]=$.Tl(a[c]));}else if("object"==b)for(c in b={},a)a.hasOwnProperty(c)&&(b[c]=$.Tl(a[c]));else return a;return b;};_gp=function gp(a,b){var c=$.ka(a);if("array"==c){var d="array"==$.ka(b)?b:[];c=[];for(var e=Math.max(a.length,d.length),f=0;f<e;f++)c[f]=_gp(a[f],d[f]);}else if("object"==c){d="object"==$.ka(b)?b:{};c={};for(e in a)a.hasOwnProperty(e)&&!$.gc(e,"closure_uid")&&(c[e]=_gp(a[e],d[e]));for(e in d)!d.hasOwnProperty(e)||e in c||$.gc(e,"closure_uid")||(c[e]=$.Tl(d[e]));}else return $.n(b)?b:a;return c;};$.ip=function(a){return null===a||$.z(a)&&"none"==a.toLowerCase();};$.jp=function(a){a=$.Zb(a);return $.ip(a)?0:$.C(a)?$.cc(a):1;};$.kp=function(){return this.value;};Sm=function Sm(a){return a.replace(/[\s\xa0]+$/,"");};lp=function lp(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"");};$.mp=function(a){var b=!0;-1!=a.indexOf('"')&&($.il(100),b=!1);return b;};np=function np(a,b,c,d,e,f){for(var h=0;h<d;h++){var k=a[h],l=e?e[h]:void 0;f&&l&&($.E(f)?k=f(l,k):"object"==$.ka(f)&&(l=f[l])&&(k=l(k)));if(null!=k){if($.z(k)||(k=String(k)),-1!=k.indexOf(b)||-1!=k.indexOf(c))k=k.split('"').join('""'),k='"'+k+'"';}else k="";a[h]=k;}return a.join(b);};$.op=function(a,b,c){var d=c&&c.rowsSeparator||"\n",e=c&&c.columnsSeparator||",",f=c&&c.ignoreFirstRow||!1,h=c&&c.formats||void 0,k=c&&c.headers||void 0;if(!b.length||!$.mp(d)||!$.mp(e))return"";c=[];f||c.push(np(a,e,d,a.length,a,k));for(f=0;f<b.length;f++)c.push(np(b[f],e,d,a.length,a,h));return c.join(d);};$.rp=function(a){if($.z(a))if("undefined"!=typeof window.DOMParser)a=new window.DOMParser().parseFromString(a,"application/xml");else if(pp){var b=Un();b.loadXML(a);a=b;}else throw Error("Your browser does not support loading xml documents");if(!a)return null;switch(a.nodeType){case 1:b={};var c=!!a.getAttribute(qp);c&&(b=[]);var d={},e,f=!0;var h=a.childNodes.length;var k="";for(e=0;e<h;e++){var l=a.childNodes[e];var m=$.rp(l);l=l.nodeName;if("#"==l.charAt(0))k+=m;else if(c&&"item"==l)f=!1,""==m?b.push(m):$.A(m)||(0,window.isNaN)(+m)?"true"==m?b.push(!0):"false"==m?b.push(!1):"null"==m?b.push(null):b.push(m):b.push(+m);else if((null!==m||"point"==l)&&!c){f=!1;var p;l=$.qm(l,!0);(p=Vba(l))?(l=m[p[1]],$.A(l)||(l=$.n(l)?[l]:[]),b[p[0]]=l):l in b?d[l]?b[l].push(m):(b[l]=[b[l],m],d[l]=!0):"data"===a.nodeName&&1===h&&$.A(m)?b[l]=[m]:b[l]=m;}}h=null==a.attributes?0:a.attributes.length;for(e=0;e<h;e++)c=a.attributes[e],l=String(c.nodeName).toLowerCase(),"xmlns"!=l&&l!=qp&&(l=$.qm(c.nodeName,!0),l in b||(m=sp(c.value),b[l]=""==m?m:(0,window.isNaN)(+m)?"true"==m?!0:"false"==m?!1:"null"==m?null:m:1<m.length&&"0"==m.charAt(0)&&(0>=+m||1<=+m)?m:+m,f=!1));return f?0<k.length?sp(k):{}:b;case 3:return a=lp(a.nodeValue),""==a?null:a;case 4:return a.nodeValue;case 9:return $.rp(a.documentElement);default:return null;}};$.up=function(a,b,c){$.z(a)&&(a=$.no(a));a:if(window.document.implementation&&window.document.implementation.createDocument)var d=window.document.implementation.createDocument("","",null);else{if(pp&&(d=Un()))break a;throw Error("Your browser does not support creating new documents");}if(a=_tp(a,b||"anychart",d))b||a.setAttribute("xmlns","http://anychart.com/schemas/8.11.0/xml-schema.xsd"),d.appendChild(a);if(c)b=d;else if(b=d,c=b.xml)b=c;else if("undefined"!=typeof window.XMLSerializer)b=new window.XMLSerializer().serializeToString(b);else throw Error("Your browser does not support serializing XML documents");return b;};_tp=function tp(a,b,c){b=String(b).replace(/([A-Z])/g,"_$1").toLowerCase();b=c.createElement(b);var d,e;if($.z(a)||$.ea(a))b.appendChild(c.createCDATASection(wc(String(a))));else if($.A(a))for(b.setAttribute(qp,"true"),d=0;d<a.length;d++)$.n(a[d])&&b.appendChild(_tp(a[d],"item",c));else if(null!=a)for(d in a)if(a.hasOwnProperty(d)){var f=a[d],h;if($.A(f)&&(h=Wba(d))){var k=c.createElement(h[0]);b.appendChild(k);var l=h[1];for(e=0;e<f.length;e++)k.appendChild(_tp(f[e],l,c));}else $.n(f)&&($.C(f)||!Xba.test(f)?b.appendChild(_tp(f,d,c)):($.z(f)&&(f=wc(String(f))),b.setAttribute(String(d).replace(/([A-Z])/g,"_$1").toLowerCase(),f)));}return b;};sp=function sp(a){return a.replace(/\\([0bfnrt"'\\]|x([0-9a-fA-F]{2})|u([0-9a-fA-F]{4}))/g,function(a,c,d,e){switch(c.charAt(0)){case"0":return"\x00";case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case'"':return'"';case"'":return"'";case"\\":return"\\";case"x":return String.fromCharCode((0,window.parseInt)(d,16));case"u":return String.fromCharCode((0,window.parseInt)(e,16));}});};Wba=function Wba(a){switch(a){case"series":return["series_list","series"];case"annotationsList":return["annotations_list","annotation"];case"keys":return["keys","key"];case"data":return["data","point"];case"lineAxesMarkers":return["line_axes_markers","line_axes_marker"];case"rangeAxesMarkers":return["range_axes_markers","range_axes_marker"];case"textAxesMarkers":return["text_axes_markers","text_axes_marker"];case"xGrids":return["x_grids","grid"];case"yGrids":return["y_grids","grid"];case"xMinorGrids":return["x_minor_grids","grid"];case"yMinorGrids":return["y_minor_grids","grid"];case"xAxes":return["x_axes","axis"];case"yAxes":return["y_axes","axis"];case"axes":return["axes","axis"];case"bars":return["bar_pointers","pointer"];case"markers":return["marker_pointers","pointer"];case"needles":return["needle_pointers","pointer"];case"knobs":return["knob_pointers","pointer"];case"pointers":return["pointers","pointer"];case"scaleBars":return["scale_bars","scale_bar"];case"points":return["points","point"];case"scales":return["scales","scale"];case"colorScales":return["color_scales","scale"];case"explicit":return["explicit","tick"];case"values":return["values","value"];case"names":return["names","name"];case"ranges":return["ranges","range"];case"chartLabels":return["chart_labels","label"];case"items":return["items","item"];case"columns":return["columns","column"];case"colors":return["colors","color"];case"children":return["children","data_item"];case"index":return["index","key"];case"outliers":return["outliers","outlier"];case"inverted":return["inverted_list","inverted"];case"drillTo":return["drill_to","item"];case"extraClassNames":return["extra_class_names","class_name"];case"dependsOn":return["depends_on","item"];case"precision":return["precision_list","precision"];case"labels":return["quarter_labels","label"];case"weights":return["weights","weight"];case"angles":return["angles","angle"];case"levels":return["levels","level"];case"xLabels":return["x_labels","item"];case"yLabels":return["y_labels","item"];}return null;};Vba=function Vba(a){switch(a){case"seriesList":return["series","series"];case"annotationsList":return["annotationsList","annotation"];case"keys":return["keys","key"];case"data":return["data","point"];case"lineAxesMarkers":return["lineAxesMarkers","lineAxesMarker"];case"rangeAxesMarkers":return["rangeAxesMarkers","rangeAxesMarker"];case"textAxesMarkers":return["textAxesMarkers","textAxesMarker"];case"xGrids":return["xGrids","grid"];case"yGrids":return["yGrids","grid"];case"xMinorGrids":return["xMinorGrids","grid"];case"yMinorGrids":return["yMinorGrids","grid"];case"xAxes":return["xAxes","axis"];case"yAxes":return["yAxes","axis"];case"axes":return["axes","axis"];case"barPointers":return["bars","pointer"];case"markerPointers":return["markers","pointer"];case"needlePointers":return["needles","pointer"];case"knobPointers":return["knobs","pointer"];case"pointers":return["pointers","pointer"];case"scaleBars":return["scaleBars","scaleBar"];case"points":return["points","point"];case"scales":return["scales","scale"];case"explicit":return["explicit","tick"];case"values":return["values","value"];case"names":return["names","name"];case"ranges":return["ranges","range"];case"chartLabels":return["chartLabels","label"];case"items":return["items","item"];case"columns":return["columns","column"];case"colors":return["colors","color"];case"children":return["children","dataItem"];case"index":return["index","key"];case"outliers":return["outliers","outlier"];case"invertedList":return["inverted","inverted"];case"colorScales":return["colorScales","scale"];case"drillTo":return["drillTo","item"];case"extraClassNames":return["extraClassNames","className"];case"dependsOn":return["dependsOn","item"];case"precisionList":return["precision","precision"];case"quarterLabels":return["labels","label"];case"weights":return["weights","weight"];case"angles":return["angles","angle"];case"levels":return["levels","level"];case"xLabels":return["xLabels","item"];case"yLabels":return["yLabels","item"];}return null;};$.qm=function(a,b){return String(a).replace(b?/[_]([a-z])/g:/[-_]([a-z|\d])/g,function(a,b){return b.toUpperCase();});};Yba=function Yba(){if(vp)return vp;var a=wp.length,b=0==a%2?a/2:a+.5;return vp=(0,$.Wa)((0,$.Wa)(wp,function(a,d){return a+d%b*(d%2?-1:1);}),function(a){return String.fromCharCode(a);}).join("");};$.xp=function(a,b){switch(a){case"year":return 315576E5*b;case"semester":return 315576E5*b/2;case"quarter":return 315576E5*b/4;case"month":return 315576E5*b/12;case"third-of-month":return 315576E5*b/36;case"week":return 6048E5*b;case"day":return 864E5*b;case"hour":return 36E5*b;case"minute":return 6E4*b;case"second":return 1E3*b;default:return b;}};$.zp=function(a,b){for(var c=0;c<$.yp.length&&$.yp[c].Bg!=a;c++);return $.yp[$.Za(c-(b||1),0,$.yp.length)].Bg;};Ap=function Ap(a){var b=a.Yh;b=365.25*b+a.og;b=365.25*b/12+a.Dg;b=24*b+a.ai;b=60*b+a.Xj;b=60*b+a.Gh;return 1E3*b;};$.Dp=function(a){a=String(a).toLowerCase();switch(a){case"arrowhead":return function(a,c,d,e){var b=c-e/2,h=d-e/3,k=c-e/2,l=d+e/3;a.moveTo(c+e/2,d).lineTo(b,h).lineTo(k,l).close();return a;};case"star4":return fi;case"star6":return hi;case"star7":return ii;case"star10":return ji;case"diamond":return oi;case"triangle-up":return ki;case"triangle-down":return li;case"triangle-right":return mi;case"triangle-left":return ni;case"cross":return pi;case"diagonal-cross":return qi;case"circle":return function(a,c,d,e){return ti(a,c,d,e,0,360);};case"trapezium":return function(a,c,d,e){var b=e/3;c-=e/2;d-=e/2;a.moveTo(c+b,d+e);a.lineTo(c+e-b,d+e);a.lineTo(c+e,d);a.lineTo(c,d);a.close();return a;};case"pentagon":return function(a,c,d,e){c-=e;d-=e;a.moveTo(c+e*Bp[0],d+e*Cp[0]);for(var b=1;5>b;b++)a.lineTo(c+e*Bp[b],d+e*Cp[b]);a.lineTo(c+e*Bp[0],d+e*Cp[0]);a.close();return a;};case"square":return function(a,c,d,e,f){var b=c-e,k=d-e;c+=e;d+=e;$.n(f)&&(f=f||0,b=$.O(b,f),k=$.O(k,f),c=$.O(c,f),d=$.O(d,f));a.moveTo(b,k).lineTo(c,k).lineTo(c,d).lineTo(b,d).lineTo(b,k).close();return a;};case"v-line":case"line":return function(a,c,d,e,f){e*=2;var b=e/2;c-=b/2;d-=e/2;b=c+b;e=d+e;$.n(f)&&(f=f||0,c=$.O(c,f),d=$.O(d,f),b=$.O(b,f),e=$.O(e,f));a.moveTo(c,d).lineTo(b,d).lineTo(b,e).lineTo(c,e).lineTo(c,d).close();return a;};case"arrow-up":return function(a,c,d,e,f){var b=e/2,k=b/2;e=c+b;var l=c-b,m=d+b;b=d-b;var p=c+k;k=c-k;$.n(f)&&(f=f||0,e=$.O(e,f),l=$.O(l,f),m=$.O(m,f),b=$.O(b,f),p=$.O(p,f),k=$.O(k,f),c=$.O(c,f),d=$.O(d,f));a.moveTo(c,b);a.lineTo(e,d,p,d,p,m,k,m,k,d,l,d);a.close();return a;};case"arrow-down":return function(a,c,d,e,f){var b=e/2,k=b/2;e=c+b;var l=c-b,m=d+b;b=d-b;var p=c+k;k=c-k;$.n(f)&&(f=f||0,e=$.O(e,f),l=$.O(l,f),m=$.O(m,f),b=$.O(b,f),p=$.O(p,f),k=$.O(k,f),c=$.O(c,f),d=$.O(d,f));a.moveTo(c,m);a.lineTo(e,d,p,d,p,b,k,b,k,d,l,d);a.close();return a;};case"arrow-left":return function(a,c,d,e,f){var b=e/2,k=b/2;e=c+b;var l=c-b,m=d+b;b=d-b;var p=d+k;k=d-k;$.n(f)&&(f=f||0,e=$.O(e,f),l=$.O(l,f),m=$.O(m,f),b=$.O(b,f),p=$.O(p,f),k=$.O(k,f),c=$.O(c,f),d=$.O(d,f));a.moveTo(l,d);a.lineTo(c,m,c,p,e,p,e,k,c,k,c,b);a.close();return a;};case"arrow-right":return function(a,c,d,e,f){var b=e/2,k=b/2;e=c+b;var l=c-b,m=d+b;b=d-b;var p=d+k;k=d-k;$.n(f)&&(f=f||0,e=$.O(e,f),l=$.O(l,f),m=$.O(m,f),b=$.O(b,f),p=$.O(p,f),k=$.O(k,f),c=$.O(c,f),d=$.O(d,f));a.moveTo(e,d);a.lineTo(c,m,c,p,l,p,l,k,c,k,c,b);a.close();return a;};default:return gi;}};Ep=function Ep(a,b,c,d){var e=new $.Om();c=!0;$.C(d)&&(e.bJ(d.rowsSeparator),e.YF(d.columnsSeparator),e.DH(d.ignoreTrailingSpaces),c=!d.ignoreFirstRow,e.BH(c));if(a=e.fC(a)){d=$.Oe("table");b&&(e=$.Oe("caption"),Ve(e,b),d.appendChild(e));if(c){var f=$.Oe("thead");var h=$.Oe("tr");f.appendChild(h);}b=$.Oe("tbody");for(e=0;e<a.length;e++){var k=a[e],l;if(e||!c){var m=$.Oe("tr");for(l=0;l<k.length;l++){var p=k[l];var q=$.Oe(l?"td":"th");Ve(q,p);m.appendChild(q);}b.appendChild(m);}else if(c)for(l=0;l<k.length;l++)p=k[l],m=$.Oe("th"),Ve(m,p),h.appendChild(m);}c&&d.appendChild(f);d.appendChild(b);return d;}return null;};Fp=function Fp(a){var b="";"..."==a.textOverflow&&(a.textOverflow="ellipsis");var c=a.fontSize;$.ea(c)&&(a.fontSize=c.toString()+"px");for(var d in a)b+=(Zba[d]||String(d).replace(/([A-Z])/g,"-$1").toLowerCase())+": "+a[d]+";";return b;};Gp=function Gp(a,b,c){return[{offset:0,color:c,opacity:b},{offset:Math.max(a-.05,0),color:c,opacity:b},{offset:a,color:c,opacity:0},{offset:1,color:c,opacity:0}];};$.Hp=function(a,b){var c=(0,window.setTimeout)(function(){a.ld||a.dispatchEvent(b);(0,window.clearTimeout)(c);},0);};$.Ip=function(a,b,c){var d=(0,window.setTimeout)(function(){a.call(c);b&&b.call(c);(0,window.clearTimeout)(d);c=b=a=null;},1);return d;};Mp=function Mp(a,b,c,d,e,f){if($.wd&&!$.dd("525"))return!0;if($.zd&&e)return Jp(a);if(e&&!d)return!1;if(!$.hd){$.ea(b)&&(b=Kp(b));var h=17==b||18==b||$.zd&&91==b;if((!c||$.zd)&&h||$.zd&&16==b&&(d||f))return!1;}if(($.wd||$.Lp)&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1;}if($.id&&d&&b==a)return!1;switch(a){case 13:return $.hd?f||e?!1:!(c&&d):!0;case 27:return!($.wd||$.Lp||$.hd);}return $.hd&&(d||e||f)?!1:Jp(a);};Jp=function Jp(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||($.wd||$.Lp)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1;}};Kp=function Kp(a){if($.hd)a=$ba(a);else if($.zd&&$.wd)switch(a){case 93:a=91;}return a;};$ba=function $ba(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a;}};$.Np=function(a,b){$.tf.call(this);a&&this.QM(a,b);};Op=function Op(a,b,c,d){$.Ad.call(this,d);this.type="key";this.keyCode=a;this.f=b;this.repeat=c;};$.Qp=function(a){$.n(a)&&($.ll=$.fa=a,$.Pp=a.document);return $.fa;};$.Sp=function(a){$.n(a)&&(Rp=a);return Rp;};Vp=function Vp(a,b){$.Tp?Up.push((0,$.pa)(a,b)):a.apply(b);};$.Wp=function(){$.Tp--;if(!$.Tp)for(var a=Up.slice(0),b=Up.length=0;b<a.length;b++)a[b]();};$.aq=function(a){var b;$.z(a)?b=$.no(a):$.C(a)&&!$.E(a)&&(b=a);a=null;if(b){var c=b.chart,d=b.gauge,e=b.gantt,f=b.map;if(c){if(b=c.type,a=$.Xp[b])a=a();else throw"Unknown chart type: "+b+"\nProbably it is in some other module, see module list for details.";}else if(d){if(b=d.type,a=$.Yp[b])a=a();else throw"Unknown gauge type: "+b+"\nProbably it is in some other module, see module list for details.";}else if(e){if("project"==e.type?e.type="gantt-project":"resource"==e.type&&(e.type="gantt-resource"),b=e.type,a=$.Zp[b])a=a();else throw"Unknown gantt type: "+b+"\nProbably it is in some other module, see module list for details.";}else if(f)if(b=f.type,a=$.$p[b])a=a();else throw"Unknown map type: "+b+"\nProbably it is in some other module, see module list for details.";}a?a.fa(!1,c||d||e||f):$.il(7);return a;};_bq=function bq(a){var b=$.Pp;if(b.addEventListener||"load"===$.ll.event.type||"complete"===b.readyState)b=$.ll,$.Zd($.Pp,["DOMContentLoaded","readystatechange"],_bq,!1),$.Zd(b,"load",_bq,!1),_cq(a);};_cq=function cq(a){if(!dq){if(!$.Pp.body)return(0,window.setTimeout)(function(){_cq(a);},1);dq=!0;for(var b=0,c=eq.length;b<c;b++){var d=eq[b];d[0].apply(d[1],[a]);}}};sl=function sl(){if(null==fq||!$.z(fq))return!1;var a=fq.lastIndexOf("-"),b=fq.substr(a+1);a=fq.substr(0,a)+Yba();if(!gq){for(var c,d=[],e=0;256>e;e++){c=e;for(var f=0;8>f;f++)c=c&1?3988292384^c>>>1:c>>>1;d[e]=c;}gq=d;}c=-1;for(d=0;d<a.length;)c=c>>>8^gq[(c^a.charCodeAt(d++))&255];a=((c^-1)>>>0).toString(16);return b==a;};kq=function kq(){hq.length||(hq=[$.iq.themes.defaultTheme||{}],jq.length&&(hq=$.Ga(hq,jq)));return hq;};lq=function lq(a){a=$.z(a)?$.Tl($.iq.themes[a]):a;jq.push(a);hq.length=0;};$.Cm=function(a,b,c){b=$.n(b)?b:{};a=a.split(".");for(var d=kq(),e,f=0;f<d.length;f++){for(var h=d[f],k=0;k<a.length;k++)h&&(e=a[k],h=h[e]);$.n(h)&&("object"==$.ka(h)?(e=h,$.n(e.padding)&&(e.padding=$.Jm(e.padding)),$.n(e.margin)&&(e.margin=$.Jm(e.margin))):$.E(c)?h=c(h):$.da(h)?h={enabled:h}:h=null,h&&$.ra(b,h));}return b;};$.om=function(a){a=$.qm(a);var b;mq.length||(mq.push($.iq.themes.defaultTheme||{}),nq.push(mq[0]));for(b=mq.length-1;b<jq.length;b++){var c=jq[b];c=$.Tl($.z(c)?$.iq.themes[c]:c);mq.push($.C(c)?c:{});nq.push({});}c=window.Infinity;for(b=0;b<mq.length;b++)_km(mq[b],a,b)&&(c=Math.min(c,b));for(b=Math.max(1,c);b<nq.length;b++){c=a.split(".");lm(nq[b],[c[0]],_mm($.Tl(nm(mq[b],c[0].split("."))),nm(nq[b-1],c[0].split("."))));c=b;var d=a.split("."),e=jm[d[0]];e||(jm[d[0]]={oE:[],tI:0,AC:0});e.tI=c;}return nm(nq[nq.length-1],a.split("."));};oq=function oq(a,b){return function(c){b&&c||$.il(4,null,[a]);};};pq=function pq(a,b,c){a=a.split(".");for(var d=$.ll,e=0;e<a.length;e++)if(d=d[a[e]],!d)return oq(b,c);return d;};rq=function rq(a){return(a=qq[a])?a:oq("Exporting");};tq=function tq(a,b){sq[b]&&sq[b]==a&&delete sq[b];};uq=function uq(a,b){return a!==b;};$.vq=function(a,b,c,d,e){if($.A(b))return $.vq.apply(null,$.Ga(a,b));b={xy:b,aX:c,Cr:d};$.n(e)&&(c=b.Uda=e);return a[c]=b;};$.wq=function(a,b){for(var c={},d=0;d<b.length;d++)c[b[d][1]]=$.vq.apply(null,$.Ga(a,b[d]));return c;};$.xq=function(a,b,c,d,e,f,h,k){c={eo:c,gka:d};$.n(e)&&(c.Bb=e);$.n(f)&&$.E(f)&&(c.Z_=f,c.context=h);c.Iga=k;a[b]=c;};$.Q=function(a,b){for(var c=0;c<b.length;c++)$.xq.apply(null,$.Ga(a,b[c]));};$.zq=function(){return $.wq({},$.yq());};$.yq=function(){return[[0,"minFontSize",$.Aq],[0,"maxFontSize",$.Aq],[0,"maxLength",$.Bq],[1,"adjustFontSize",Cq],[0,"fontSize",$.Aq],[0,"fontFamily",$.Dq],[0,"fontColor",$.Eq],[0,"fontOpacity",$.Fq],[0,"fontDecoration",$.bl],[0,"fontStyle",$.cl],[0,"fontVariant",$.dl],[0,"fontWeight",$.Aq],[0,"letterSpacing",$.Aq],[0,"textDirection",$.el],[0,"textShadow",$.bc],[0,"lineHeight",$.Aq],[0,"textIndent",$.Fq],[0,"vAlign",$.al],[0,"hAlign",$.$k],[0,"wordWrap",$.Gq],[0,"wordBreak",$.Gq],[0,"textOverflow",$.Dq],[0,"selectable",$.Hq],[0,"disablePointerEvents",$.Hq],[0,"useHtml",$.Hq]];};$.Iq=function(a,b,c,d,e,f){$.Q(a,[["minFontSize",b,d,void 0,f],["maxFontSize",b,d,void 0,f],["maxLength",b,d,void 0,f],["adjustFontSize",b,d,void 0,f],["fontSize",b,d,void 0,f],["fontFamily",b,d,void 0,f],["fontColor",c,e],["fontOpacity",c,e],["fontDecoration",b,d,void 0,f],["fontStyle",b,d,void 0,f],["fontVariant",b,d,void 0,f],["fontWeight",b,d,void 0,f],["letterSpacing",b,d,void 0,f],["textDirection",b,d,void 0,f],["textShadow",c,e],["lineHeight",b,d,void 0,f],["textIndent",b,d,void 0,f],["vAlign",b,d,void 0,f],["hAlign",b,d,void 0,f],["wordWrap",b,d,void 0,f],["wordBreak",b,d,void 0,f],["textOverflow",b,d,void 0,f],["selectable",c,e],["disablePointerEvents",c,e],["useHtml",b,d,void 0,f]]);};$.S=function(a,b,c){c||(a=a.prototype);for(var d in b)c=b[d],a[d]=$.qa(Jq[c.xy],c.aX,c.Uda,c.Cr);};$.Kq=function(a,b,c){for(var d=0;d<b.length;d++){var e=b[d];a.prototype[e]=function(a){return function(b){var d=this[c]();return $.n(arguments[0])?(d[a].apply(d,arguments),this):d[a]();};}(e);}};$.Pq=function(a,b,c,d){if(d&&a.na)$.Lq(a.na,b,c);else for(var e in b)b=c[e],$.n(b)&&(a.g?a[e](b):a[e]=b);};$.Xq=function(a,b,c,d,e,f){var h;e=$.n(e)?e:b;for(h in e){e=void 0;var k=b[h];a.oh(h)&&(e=a.md(h),$.E(e)&&$.kl(8,null,[(d?d+" ":"")+h]));k&&($.n(e)||f||!a.check(a.getCapabilities(h))||(e=a.uf(h)),$.n(e)&&!$.E(e)&&(k.Cr==$.Qq||k.Cr==$.Rq||k.Cr==$.Sq||k.Cr==$.Tq||k.Cr==$.Uq||k.Cr==$.Vq?e=$.Sl(k.Cr([e])):k.Cr!=$.Wq||null===e?k.Cr==Cq&&(e=k.Cr([e])):e=$.Sl(k.Cr(e)),c[h]=e));}};$.Lq=function(a,b,c){for(var d in b)b=c[d],$.n(b)&&(a[d]=b);};ar=function ar(a,b,c,d){return $.n(d)?(d=c.call(this,d),Yq(this,a).call(this,this.md(a),d)&&(this.sa(a,d),this.check(this.getCapabilities(a))&&(Zq(this,a).call($q(this,a)),b=this.vs(a),(a=this.vM(a))?this.B(a,b):this.va(b))),this):this.g(a);};br=function br(a,b,c,d,e){if($.n(d)){for(var f=[],h=3;h<arguments.length;h++)f.push(arguments[h]);d=c.call(this,f);Yq(this,a).call(this,this.md(a),d)&&(this.sa(a,d),this.check(this.getCapabilities(a))&&(Zq(this,a).call($q(this,a)),f=this.vs(a),(h=this.vM(a))?this.B(h,f):this.va(f)));return this;}return this.g(a);};$.Gq=function(a){return a;};$.Wq=function(a){return null===a?a:$.Xb(a);};$.Tq=function(a){return $.Zb.apply(null,a);};$.Qq=function(a){return $.E(a[0])?a[0]:$.Zb.apply(null,a);};$.$l=function(a){return $.E(a)?a:$.Zb(a);};$.Uq=function(a){return $.Xb.apply(null,a);};$.Rq=function(a){return $.E(a[0])?a[0]:$.Xb.apply(null,a);};$.bm=function(a){return $.E(a)?a:$.Xb(a);};$.Sq=function(a){return $.E(a[0])||!0===a[0]?a[0]:$.ac.apply(null,a);};$.am=function(a){return $.E(a)||!0===a?a:$.ac(a);};$.Vq=function(a){return $.ac.apply(null,a);};$.Hq=function(a){return!!a;};$.cr=function(a){return null===a?a:!!a;};$.Fq=function(a){return Number(a);};$.Bq=function(a){return null===a?a:Number(a);};dr=function dr(a){return Ho(a)||0;};$.Dq=function(a){return String(a);};$.Eq=function(a){return null===a?a:String(a);};$.er=function(a){return $.E(a)?a:String(a);};$.fr=function(a){return $.Do(a,null);};$.gr=function(a){return $.E(a)?a:$.Ok(a);};hr=function hr(a){return null===a?a:$.Lk(a);};Cq=function Cq(a){var b=a[0];return 1==a.length?$.A(b)?{width:0<b.length?b[0]:void 0,height:1<b.length?b[1]:b[0]}:$.C(b)?{width:b.width,height:b.height}:{width:!!b,height:!!b}:{width:!!b,height:!!a[1]};};$.Aq=function(a){return $.Go(a);};$.ir=function(a){return $.Za($.N(a),0,1);};$.jr=function(a){return $.A(a[0])?a[0]:a;};$.kr=function(a){return $.E(a)?a:null;};$.lr=function(){var a=this.ig();a||(a=$.Ga(this.Ud(),this.Vd()),this.ig(a));return a;};$.mr=function(a){for(var b=this.bh(),c=0;c<b.length;c++){var d=b[c];if(d&&(d=d[a],$.n(d)))return d;}};$.U=function(){$.tf.call(this);this.Oa={};this.na={};this.ta={};this.e4=!1;this.GB=[];this.KC=[];this.Lm={};this.nl={};$.nr(this);};$q=function $q(a,b){var c=a.ta[b];return c?c.context||a:a;};Zq=function Zq(a,b){var c=a.ta[b];return c?c.Z_||$.ia:$.ia;};Yq=function Yq(a,b){var c=a.ta[b];return c?c.Iga||uq:uq;};$.L=function(a,b,c){a.ua("signal",b,!1,c);};$.or=function(a,b,c){a.ec("signal",b,!1,c);};$.pr=function(a,b){return a|(this.tJ[b]||0);};$.qr=function(a,b){return b in a.Zq&&b in a.nl;};$.rr=function(a,b,c,d){$.qr(a,b)&&(c=(a.Zq[b].tJ[c]||0)&~a.nl[b],a.nl[b]|=c,(c||a.Yj())&&a.va(d||0));};$.sr=function(a,b,c,d){$.qr(a,b)&&(c=(0,$.Kg)(c,$.pr,0,a.Zq[b])&~a.nl[b],a.nl[b]|=c,(c||a.Yj())&&a.va(d||0));};$.nr=function(a){for(var b in a.Zq)a.nl[b]=a.Zq[b].Iu;};$.tr=function(a,b,c){$.qr(a,b)&&(a.nl[b]&=~(a.Zq[b].tJ[c]||0));};$.ur=function(a,b,c){$.qr(a,b)&&(c=(0,$.Kg)(c,$.pr,0,a.Zq[b]),a.nl[b]&=~c);};$.vr=function(a,b,c){return $.qr(a,b)?!!(a.nl[b]&(a.Zq[b].tJ[c]||0)):!1;};$.V=function(a){a.xP++;(0,window.isNaN)(a.Io)&&(a.Io=0);return a;};$.wr=function(a){return a.GB.length?a.GB:[a.na];};$.xr=function(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d];e&&($.z(e)?c.push(e+"."+b):$.n(e[b])&&c.push($.Sc(e[b])));}return c;};$.Ar=function(a,b,c,d){$.n(a.Lm[b])||(a.Lm[b]={o6:$.yr[b]});if(a.Lm[b].AD)return a.Lm[b].AD;if($.n(a.Lm[b].enabled))return a.Lm[b].enabled;var e=a.Lm[b].o6?$.Ha(a.Lm[b].o6):[],f=$.xr($.wr(a),b);e.push.apply(e,f);if(c)return zr(a,b,d),a.Lm[b].AD;c=kq();for(f=e.length;f--;){var h=e[f];if($.z(h))for(var k=h.split("."),l=c.length;l--;){h=c[l];for(var m=0;m<k.length;m++)h&&(h=h[k[m]]);if($.n(h)){if($.da(h)||null===h)h={enabled:!!h};if($.n(h.enabled))return h.enabled?zr(a,b,d):a.Lm[b].enabled=!1,a.Lm[b].AD?a.Lm[b].AD:null;}}}return null;};zr=function zr(a,b,c){a.Lm[b].enabled=!0;c=$.E(c)?c:a[b];c=c.call(a);a.Lm[b].AD||$.W(a,b,c);};$.W=function(a,b,c){var d=$.xr($.wr(a),b);c.Fa(d);$.n(a.Lm[b])||(a.Lm[b]={});a.Lm[b].AD=c;};$.Br=function(a){for(var b=arguments.length;b--;){var c=arguments[b];$.A(c)?$.Br.apply(null,c):$.J(c,$.U)&&$.V(c);}};$.Cr=function(a){for(var b=arguments.length;b--;){var c=arguments[b];$.A(c)?$.Cr.apply(null,c):$.J(c,$.U)&&c.da(!0);}};$.Dr=function(a){for(var b=arguments.length;b--;){var c=arguments[b];$.A(c)?$.Dr.apply(null,c):$.J(c,$.U)&&c.da(!1);}};Er=function Er(a,b,c){vd.call(this,"signal",a);this.f=b;c&&$.ra(this,c);};$.X=function(a,b){return!!(a.f&b);};$.Fr=function(a){this.view=a;this.reset();};$.Gr=function(a){$.U.call(this);this.be=a;a.ua("signal",this.LI,!1,this);this.B(1);};$.Hr=function(a){a.nf()||(a.SD&&(a.SD.length=0),a.xw=null,a.uo=a.uC(),a.I(1));};$.Ir=function(a,b,c){$.Hr(a);var d=[];if($.n(b)){a=a.$();var e=window.Infinity;c||(b=$.N(b));for(a.reset();a.advance();){var f=a.la();var h=a.get("x");if(c)h==b&&d.push(f);else if(h=$.N(h),!(0,window.isNaN)(h)){var k=Math.abs(h-b);if(k<e){e=k;var l=h;d.length=0;}h==l&&d.push(f);}}}return d;};Jr=function Jr(a,b){var c;var d=a.yf(b);if($.A(d)){var e=a.Ql(b);if(e.j){var f={};e=e.mr();for(k in e){var h=e[k];for(c=0;c<h.length;c++)if(h[c]in d){h=a.XO(d[h[c]]);f[k]=h;break;}}}else f=(0,$.Wa)(d,a.XO);}else if($.C(d)){if(e=a.Ql(b),e.j){f={};e=e.mr();for(k in e)for(h=e[k],c=0;c<h.length;c++)if(h[c]in d){h=d[h[c]];$.J(h,Date)&&(h=h.getTime());if(!$.n(h)||$.ea(h)&&(0,window.isNaN)(h))h=null;f[k]=h;break;}for(k in d)!d.hasOwnProperty(k)||k in e&&k in f||(h=a.XO(d[k]),f[k]=h);}else{var k=a.XO;e={};for(f in d)e[f]=k.call(void 0,d[f],f,d);f=e;}}else{if(!$.n(d)||$.ea(d)&&(0,window.isNaN)(d))d=null;f=d;}return f;};Kr=function Kr(a,b){$.Gr.call(this,a);this.b=b;b.ua("signal",this.LI,!1,this);};Lr=function Lr(a,b,c){$.Gr.call(this,a);this.b=b;this.f=c;};$.Nr=function(a,b){$.Gr.call(this,a);$.Mr(this,b);};aca=function aca(a,b,c,d){var e=$.ka(b);if("array"==e){if(a=a.Zc[c]){c=a[0];for(e=0;e<a.length;e++){if(a[e]<b.length)return b[a[e]]=d,b;a[e]<c&&(c=a[e]);}b[c]=d;return b;}$.kl(5,null,[c]);}else"object"==e?void 0===to(b,c,a.Zc[c],d)&&b.hasOwnProperty(c)&&(d=a.be,d.xt||(d.xt={}),d.xt[c]=!0):-1<(0,$.za)(Or,c)?b=d:$.kl(7,null,[c]);return b;};$.Mr=function(a,b){var c;if($.C(b))for(c in b)$.A(b[c])||(b[c]=[b[c]]);else b=void 0;a.j=!!b;a.Zc=b||Pr;};$.Qr=function(a,b){$.U.call(this);this.data(a||null,b);};Rr=function Rr(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d];if($.A(e)){var f=e.length;a.qK<f&&(a.qK=f);f=$.Ja(e,0);}else if($.C(e)){a.xt||(a.xt={});f={};for(var h in e)f[h]=e[h],a.xt[h]=!0;}else a.RX=!0,f=e;c.push(f);}return c;};$.Sr=function(a,b){return new $.Qr(a,b);};Tr=function Tr(a,b,c){$.Gr.call(this,a);this.b=b;var d=$.E(c)?c:"desc"==$.Mk(c,"asc")?Tba:wo;this.f=function(a,b){return d(a.value,b.value)||a.index-b.index;};};Ur=function Ur(a,b,c,d,e){c={x:e?e[0]:0};for(var f=0,h=d.length;f<h;f++)c[d[f]]=e?e[b]:b,b++;return a.Wd(c);};Wr=function Wr(a,b){var c=tba(b);if("csv"==c)try{var d=new $.Om();$.C(b)&&(d.bJ(b.rowsSeparator),d.YF(b.columnsSeparator),d.DH(b.ignoreTrailingSpaces),d.BH(b.ignoreFirstRow));var e=d.fC(a);}catch(r){e=null,$.il(101);}else{var f={},h=0,k=window.NaN,l=window.NaN;d=window.NaN;var m;b&&((m=b.ignoreItems)&&(m=new RegExp("^("+m.join("|")+")$")),b.minLength&&(h=b.minLength),b.maxLength&&(k=b.maxLength),b.cutLength&&(l=b.cutLength),b.maxItems&&(d=b.maxItems));if("by-word"==c)a.split(Vr).forEach(function(a){a=a.replace(bca,"");var b=a.length;m&&m.test(a.toLowerCase())||b>k||b<h||((0,window.isNaN)(l)||(a=a.substr(0,l)),f[a=a.toLowerCase()]=(f[a]||0)+1);});else{a=a.replace(Vr,"");c=0;for(var p=a.length;c<p;c++){var q=a[c];m&&m.test(q.toLowerCase())||(f[q=q.toLowerCase()]=(f[q]||0)+1);}}e=[];$.Gc(f,function(a,b){e.push([b,a]);});e=e.sort(function(a,b){return b[1]-a[1];});e.length=Math.min(e.length,d||window.Infinity);}return e;};cca=function cca(a,b){this.b=[];this.f=b||Zn;if("number"==typeof a){var c=a;11<c&&(c=10);if(4>c)var d=this.f.dF[c];else 8>c?d=this.f.iF[c-4]:(d=this.f.gQ[c-8],d=d.replace("{1}",this.f.dF[c-8]),d=d.replace("{0}",this.f.iF[c-8]));Xr(this,d);}else Xr(this,a);};Xr=function Xr(a,b){for(var c=!1,d="",e=0;e<b.length;e++){var f=b.charAt(e);if(" "==f)for(0<d.length&&(a.b.push({text:d,count:0,XB:!1}),d=""),a.b.push({text:" ",count:0,XB:!1});e<b.length-1&&" "==b.charAt(e+1);)e++;else if(c)"'"==f?e+1<b.length&&"'"==b.charAt(e+1)?(d+="'",e++):c=!1:d+=f;else if(0<=dca.indexOf(f)){0<d.length&&(a.b.push({text:d,count:0,XB:!1}),d="");var h=b.charAt(e);for(var k=e+1;k<b.length&&b.charAt(k)==h;)k++;h=k-e;a.b.push({text:f,count:h,XB:!1});e+=h-1;}else"'"==f?e+1<b.length&&"'"==b.charAt(e+1)?(d+="'",e++):c=!0:d+=f;}0<d.length&&a.b.push({text:d,count:0,XB:!1});c=!1;for(d=0;d<a.b.length;d++)Yr(a.b[d])?!c&&d+1<a.b.length&&Yr(a.b[d+1])&&(c=!0,a.b[d].XB=!0):c=!1;};Yr=function Yr(a){if(0>=a.count)return!1;var b="MydhHmsSDkK".indexOf(a.text.charAt(0));return 0<b||0==b&&3>a.count;};Zr=function Zr(a,b){var c=a.substring(b[0]).match(/^\s+/);c&&(b[0]+=c[0].length);};bs=function bs(a,b,c,d,e,f){Zr(b,c);var h=c[0],k=d.text.charAt(0),l=-1;if(Yr(d))if(0<e){if(h+e>b.length)return!1;l=$r(a,b.substring(0,h+e),c);}else l=$r(a,b,c);switch(k){case"G":return l=as(b,c,a.f.kQ),0<=l&&(f.era=l),!0;case"M":case"L":a:{d=l;if(0>d){a=a.f.pQ.concat(a.f.AQ).concat(a.f.wQ).concat(a.f.BQ);d=as(b,c,a);if(0>d){f=!1;break a;}f.month=d%12;}else f.month=d-1;f=!0;}return f;case"E":return d=as(b,c,a.f.FQ),0>d&&(d=as(b,c,a.f.yQ)),0>d?f=!1:(f.b=d,f=!0),f;case"a":return l=as(b,c,a.f.cQ),0<=l&&(f.i=l),!0;case"y":a:{if(0>l){var m=b.charAt(c[0]);if("+"!=m&&"-"!=m){f=!1;break a;}c[0]++;l=$r(a,b,c);if(0>l){f=!1;break a;}"-"==m&&(l=-l);}m||2!=c[0]-h||2!=d.count?f.year=l:(b=l,c=new Date().getFullYear()-80,a=c%100,f.D=b==a,b+=100*Math.floor(c/100)+(b<a?100:0),f.year=b);f=!0;}return f;case"Q":return 0>l?(d=as(b,c,a.f.sQ),0>d&&(d=as(b,c,a.f.xQ)),0>d?f=!1:(f.month=3*d,f.day=1,f=!0)):f=!1,f;case"d":return 0<=l&&(f.day=l),!0;case"S":return b=c[0]-h,f.j=3>b?l*Math.pow(10,3-b):Math.round(l/Math.pow(10,b-3)),!0;case"h":12==l&&(l=0);case"K":case"H":case"k":return 0<=l&&(f.ai=l),!0;case"m":return 0<=l&&(f.Xj=l),!0;case"s":return 0<=l&&(f.Gh=l),!0;case"z":case"Z":case"v":b.indexOf("GMT",c[0])==c[0]&&(c[0]+=3);a:if(c[0]>=b.length)f.f=0,f=!0;else{d=1;switch(b.charAt(c[0])){case"-":d=-1;case"+":c[0]++;}h=c[0];l=$r(a,b,c);if(0>l)f=!1;else{if(c[0]<b.length&&":"==b.charAt(c[0])){m=60*l;c[0]++;l=$r(a,b,c);if(0>l){f=!1;break a;}m+=l;}else m=l,m=24>m&&2>=c[0]-h?60*m:m%100+m/100*60;f.f=-(m*d);f=!0;}}return f;default:return!1;}};$r=function $r(a,b,c){if(a.f.GQ){for(var d=[],e=c[0];e<b.length;e++){var f=b.charCodeAt(e)-a.f.GQ;d.push(0<=f&&9>=f?String.fromCharCode(f+48):b.charAt(e));}b=d.join("");}else b=b.substring(c[0]);a=b.match(/^\d+/);if(!a)return-1;c[0]+=a[0].length;return(0,window.parseInt)(a[0],10);};as=function as(a,b,c){var d=0,e=-1;a=a.substring(b[0]).toLowerCase();for(var f=0;f<c.length;f++){var h=c[f].length;h>d&&0==a.indexOf(c[f].toLowerCase())&&(e=f,d=h);}0<=e&&(b[0]+=d);return e;};eca=function eca(){};ds=function ds(a){$.C(a)||(a=String(a),a=cs[a]||$.iq.format.locales[a]);return a||null;};$.Wo=function(a){return(a=ds(a))&&a.dateTimeLocale||null;};es=function es(a){return(a=ds(a))&&a.numberLocale||null;};fs=function fs(a,b){var c=$.Wo(a);return c&&c[b||"dateTimeFormat"]||null;};hs=function hs(a){if(!a)return Zn;var b=$.oa(a);b in gs||(gs[b]={kQ:a.eras,ZY:a.eraNames,cZ:a.narrowMonths,rZ:a.standaloneNarrowMonths,pQ:a.months,AQ:a.standaloneMonths,wQ:a.shortMonths,BQ:a.standaloneShortMonths,FQ:a.weekdays,uZ:a.standaloneWeekdays,yQ:a.shortWeekdays,tZ:a.standaloneShortWeekdays,P8:a.narrowWeekdays,sZ:a.standaloneNarrowWeekdays,xQ:a.shortQuarters,sQ:a.quarters,cQ:a.ampms||a.amPmS,dF:a.dateFormats||[],iF:a.timeFormats||[],gQ:a.dateTimeFormats||[],XJ:a.firstDayOfWeek,h$:a.weekendRange,YJ:a.firstWeekCutOffDay||a.firstWeekCutOfDay});return gs[b];};is=function is(a,b){var c=ds(a);if(c){var d="object"==$.ka(a);cs[d?b:a]=_gp($.iq.format.locales["default"],c);}};ks=function ks(a){$.n(a)&&(js=$.ma(a)?a.getTime():$.N(a));return(0,window.isNaN)(js)?(a=new Date(),a.setTime(Date.UTC(a.getUTCFullYear(),a.getUTCMonth())),a):new Date(js);};$.Xo=function(a){if($.n(a)){var b=$.z(a),c="object"==$.ka(a);b||c?(c=c?"output":a,is(a,c),ls=b?c:cs[c]||cs.output||a):ls="default";}return ls;};ns=function ns(a){$.n(a)&&($.z(a)?ms=a:ms=null);return ms||fs(ls)||fs("output")||fs("default")||"yyyy.MM.dd";};ps=function ps(a){$.n(a)&&($.z(a)?os=a:os=null);return os||fs(ls,"dateFormat")||fs("output","dateFormat")||fs("default","dateFormat")||"yyyy.MM.dd";};rs=function rs(a){$.n(a)&&($.z(a)?qs=a:qs=null);return qs||fs(ls,"timeFormat")||fs("output","timeFormat")||fs("default","timeFormat")||"HH:mm:ss";};$.ts=function(a,b,c,d){return $.ma(a)?a:$.ea(a)?(0,window.isNaN)(a)?null:new Date(a):$.z(a)?ss(a,b,c,d):null;};$.us=function(a){var b=ds(ls);return(b=b&&b.messages)&&a in b?b[a]:a;};$.vs=function(a,b,c){b=$.Zk(b);a=$.Zk(a);return((c?c+"_":"")+(a==b?a:b+"_"+a)).replace(/-/g,"_");};$.ws=function(a,b,c){a=(c=$.Wo(c)||$.Wo(ls)||$.Wo("output")||$.Wo("default"))&&c.formats&&c.formats[a];return($.A(a)?a[Math.min(a.length-1,b||0)]:$.z(a)?a:"")||"yyyy/MM/dd'T'HH:mm:ss.SSS";};$.xs=function(a,b){var c=$.Wo(b)||$.Wo(ls)||$.Wo("output")||$.Wo("default");c=c&&c.formats&&c.formats[a];return $.A(c)?c:$.z(c)?[c]:[];};$.zs=function(a,b,c){return $.ys(a,ps(),b,c);};As=function As(a,b,c){return $.ys(a,rs(),b,c);};$.ys=function(a,b,c,d){a=$.J(a,Date)?a:new Date(a);if((0,window.isNaN)(a.getTime()))return String(a);d=$.Wo(d)||$.Wo(ls)||$.Wo("output")||$.Wo("default");b=b||ms||ns()||"yyyy.MM.dd";var e=b+$.oa(d);e in Bs||(d=hs(d),Bs[e]=new $.bo(b,d));d=Bs[e];c=c||Cs;c in Ds||(Ds[c]=Xn(c));return d.format(a,Ds[c]);};$.Fs=function(a,b,c,d,e,f,h,k){var l;$.z(b)?l=es(b):$.C(b)&&(l=b);var m=es(ls)||es("default");b=$.ea(b)?b:l&&$.ea(l.decimalsCount)?l.decimalsCount:m.decimalsCount;c=$.z(c)?c:l&&$.z(l.decimalPoint)?l.decimalPoint:m.decimalPoint;d=$.z(d)?d:l&&$.z(l.groupsSeparator)?l.groupsSeparator:m.groupsSeparator;e=$.C(e)||$.da(e)?e:l&&($.C(l.scale)||$.da(l.scale))?l.scale:m.scale;f=$.da(f)?f:l&&$.da(l.zeroFillDecimals)?l.zeroFillDecimals:m.zeroFillDecimals;h=$.z(h)?h:l&&$.z(l.scaleSuffixSeparator)?l.scaleSuffixSeparator:m.scaleSuffixSeparator;k=$.da(k)?k:l&&$.da(l.useBracketsForNegative)?l.useBracketsForNegative:m.useBracketsForNegative;!0===e&&(e=Es);a=Number(a);(l=0>a)&&(a=-a);m="";if($.C(e)&&$.A(e.factors)&&$.A(e.suffixes)){var p=1,q=e.factors;e=e.suffixes;for(var r=Math.min(q.length,e.length),t=0;t<r;t++)if(p=q[t],a>=p||1>=p&&a>.1*p){m=e[t];break;}m?m=h+m:p=1;a/=p;}f=f?a.toFixed(b):$.Wm(a,b).toString();a="";/(e+|e-)/.test(f)&&(b=f.split("e"),f=b[0],a="e"+b[1]);b=f.split(".");if(d){f=b[0];for(h=[];0<(e=f.substr(0,f.length-3)).length;)h.unshift(f.substr(-3)),f=e;f&&h.unshift(f);b[0]=h.join(d);}d=l?"-":"";c=b.join(c)+a+m;l&&k&&(c=["(",c,")"].join(""),d="");return d+c;};ss=function ss(a,b,c,d){if(b=($.n(b)?b:Gs)||null){d=$.Wo(d)||$.Wo(Hs)||$.Wo("input")||$.Wo("default");var e=$.oa(d);e=b+e;e in Ks||(d=hs(d),Ks[e]=new cca(b,d));var f=Ks[e];c=$.ma(c)?c:ks();(b=-1==b.replace(/'.+?'/g,"").search(/z+/i))&&c.setTime(c.getTime()+6E4*c.getTimezoneOffset());d=a.length;a:{var h=new eca();e=[0];for(var k=-1,l=0,m=0,p=0;p<f.b.length;p++)if(0<f.b[p].count){if(0>k&&f.b[p].XB&&(k=p,m=l=0),0<=k){var q=f.b[p].count;if(p==k&&(q-=m,m++,0==q)){a=0;break a;}bs(f,a,e,f.b[p],q,h)||(p=k-1,e[0]=l);}else{if(k=-1,!bs(f,a,e,f.b[p],0,h)){a=0;break a;}}}else{k=-1;if(" "==f.b[p].text.charAt(0)){if(q=e[0],Zr(a,e),e[0]>q)continue;}else if(a.indexOf(f.b[p].text,e[0])==e[0]){e[0]+=f.b[p].text.length;continue;}a=0;break a;}b:{if(null==c)throw Error("Parameter 'date' should not be null.");void 0!=h.era&&void 0!=h.year&&0==h.era&&0<h.year&&(h.year=-(h.year-1));void 0!=h.year&&c.setFullYear(h.year);a=c.getDate();c.setDate(1);void 0!=h.month&&c.setMonth(h.month);void 0!=h.day?c.setDate(h.day):(f=zn(c.getFullYear(),c.getMonth()),c.setDate(a>f?f:a));$.E(c.setHours)&&(void 0==h.ai&&(h.ai=c.getHours()),void 0!=h.i&&0<h.i&&12>h.ai&&(h.ai+=12),c.setHours(h.ai));$.E(c.setMinutes)&&void 0!=h.Xj&&c.setMinutes(h.Xj);$.E(c.setSeconds)&&void 0!=h.Gh&&c.setSeconds(h.Gh);$.E(c.setMilliseconds)&&void 0!=h.j&&c.setMilliseconds(h.j);void 0!=h.f&&c.setTime(c.getTime()+6E4*(h.f-c.getTimezoneOffset()));h.D&&(a=new Date(),a.setFullYear(a.getFullYear()-80),c.getTime()<a.getTime()&&c.setFullYear(a.getFullYear()+100));if(void 0!=h.b)if(void 0==h.day)a=(7+h.b-c.getDay())%7,3<a&&(a-=7),h=c.getMonth(),c.setDate(c.getDate()+a),c.getMonth()!=h&&c.setDate(c.getDate()+(0<a?-7:7));else if(h.b!=c.getDay()){a=!1;break b;}a=!0;}a=a?e[0]-0:0;}return d==a?(b&&c.setTime(c.getTime()-6E4*c.getTimezoneOffset()),c):null;}c=Number(a);a=new Date((0,window.isNaN)(c)?a:c);return(0,window.isNaN)(a.getTime())?null:a;};Ls=function Ls(a){$.z(a)&&(a=ss(a));return Number(a);};$.Ms=function(){$.U.call(this);this.Fa("palette");this.We=null;this.Dp(!0);};$.Ns=function(){$.U.call(this);this.Fa("hatchFillPalette");};$.Os=function(){$.U.call(this);this.Fa("markerPalette");};$.Ps=function(){$.U.call(this);this.We=null;this.b=window.NaN;this.f=[];this.i=window.NaN;this.Dp(!0);};$.Qs=function(a,b){a.i!=b&&(a.i=b,((0,window.isNaN)(a.b)||null===a.b)&&a.B(16));};Ss=function Ss(){this.G=[0,1];this.i=[0,1];this.D=[];this.j=Rs;this.b=this.f=null;};Ts=function Ts(a,b){$.n(b)&&(a.G=$.Ja(b,0),a.f=a.b=null);};Us=function Us(a,b){$.n(b)&&($.A(b)?(a.D=$.Ja(b,0),a.j=Rs):(a.D=[],a.j=Number(b)||fca),a.f=a.b=null);};Xs=function Xs(a,b,c,d,e,f){var h=Math.min(a.length,b.length)-1;a[0]>a[h]&&(a=$.Ja(a,0).reverse(),b=$.Ja(b,0).reverse());for(var k=[],l=[],m=0;m<h;m++)k.push(Vs[c[m]||d](a[m],a[m+1])),l.push(Ws[e[m]||f](b[m],b[m+1]));return 1==h?function(a){a=k[0](a);return l[0](a);}:function(b){var c=$.Na(a,b,void 0);0>c&&(c=~c);c=$.Za(c,1,h)-1;b=k[c](b);return l[c](b);};};Ys=function Ys(a){$.U.call(this);this.scale=a;this.j=gca;this.i=hca;this.f=ica;};Zs=function Zs(a,b,c,d){b=Math.abs(c-b)/a.nn;c=a.f.length;for(var e=0;e<c;e++)if(b<=a.f[e])return d?a.j[e].clone():a.i[e].clone();return d?new $.Ln(Bn,Math.ceil(b/31536E6)/4):new $.Ln(Bn,Math.ceil(b/31536E6));};$s=function $s(){$.U.call(this);this.Fa("defaultScaleSettings.linear");this.Yr=0;this.GD=!1;this.QB=1;this.UJ=0;this.bY="none";this.aY="direct";};at=function at(a,b,c){if(a.QB!=b||a.UJ!=c)a.QB=b,a.UJ=c,a.jN(),a.va(2);};bt=function bt(a,b){a.GD&&(b=1-b);return b/a.QB+a.UJ;};$.gt=function(a,b){return ct(dt[a],b?$.et:ft);};ct=function ct(a,b){ht||(ht={},ht[ft]=$.it,ht[2]=$.jt,ht[4]=$.kt,ht[$.et]=$.lt,ht[32]=function(){var a;return(a=$.iq.scales.linearColor)?a():$.il(4,null,["Color scales"]);},ht[16]=function(){var a;return(a=$.iq.scales.ordinalColor)?a():$.il(4,null,["Color scales"]);});var c=ht[a]||ht[b]||null;return c&&c()||null;};$.mt=function(a,b,c,d,e,f,h){var k=null;if(a!=b){d=d||15;var l=a?a.La():null,m;var p=m=null;if($.z(b))var q=b||l;else $.J(b,$s)?(q=b.La(),m=b):$.C(b)&&(q=b.type||l||c,p=b);b=dt[q];b&d?(m||q==l||(m=ct(b,dt[c]||null)),m&&($.V(m),f&&(a&&$.or(a,f,h),$.L(m,f,h)),m.va(4),k=a=m),a&&p&&(m||$.V(a),a.U(p),k=a)):e&&$.il(5,void 0,e);}return k;};$.nt=function(){$s.call(this);this.bl=window.NaN;this.bA=0;this.aA=1;this.Ln=this.Nn=this.vX=!0;this.rI=this.xI=.1;this.Jq=this.ft=this.max=this.min=window.NaN;this.Mq=null;this.wJ=this.Mc=!1;};ot=function ot(a,b,c,d,e){b=a+e*b;if(c&&0>=a*b)return 0;d&&(a=$.Ym(b),c=+("1e-"+(Math.min($.Xm(a),$.Xm(b))+1)),a>b&&(a+=e*c),b=a);return b;};$.pt=function(){$.nt.call(this);this.Fa("defaultScaleSettings.dateTime");this.Bi=this.vh=null;};$.kt=function(){var a=new $.pt();a.N(a.na);return a;};rt=function rt(){$.U.call(this);this.f=this.b=null;this.i={OY:{},BS:{}};var a=$.Wo($.Xo());this.G=$.Ha(a.weekendRange);this.j=qt(this.G);this.D={};};qt=function qt(a){var b=a[1],c={};for(a=a[0];a<=b;a++)c[String((a+1)%7)]=!0;return c;};st=function st(a,b,c,d){c=jca.b(c);b.add(c);b=b.getTime();d.push({from:a,to:b-1});return b;};$.ut=function(){$.U.call(this);this.Go=this.Ho=this.Xm=this.Ym=this.C6=this.D6=this.Mh=this.Nh=this.Fj=this.Gj=this.Ze=this.$e=window.NaN;this.Yl={value:.01,isPixels:!1};this.Xl={value:.01,isPixels:!1};this.AS=window.NaN;this.Mc=!1;this.iT=this.eM=window.NaN;this.gd=tt(kca);this.nA=1;this.LG=0;this.bl=lca;this.Vq=this.ie=null;};vt=function vt(a){var b=new Date();(0,window.isNaN)(a.eM)&&(a.eM=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()));(0,window.isNaN)(a.iT)&&(a.iT=a.eM+864E5);return{min:a.eM,max:a.iT};};$.wt=function(a,b,c){b=$.Xk(b);c=$.Xk(c);if(a.Nh!=b||a.Mh!=c)a.Nh=b,a.Mh=c,a.Gj=window.NaN,a.Fj=window.NaN,a.Mc=!1,a.nb(),a.va(4);};yt=function yt(a){var b=a.Vq.ob().width,c=$.xt(a.Yl.value,b),d=$.xt(a.Xl.value,b),e=a.Mh-a.Nh;a.Gj=(0,window.isNaN)(a.Ym)?(0,window.isNaN)(a.Ho)?Math.round(a.Nh-(Math.max(e*c/(b-c-d),0)||0)):Math.min(a.Ho,a.Nh):a.Ym;a.Fj=(0,window.isNaN)(a.Xm)?(0,window.isNaN)(a.Go)?Math.round(a.Mh+(Math.max(e*d/(b-c-d),0)||0)):Math.max(a.Go,a.Mh):a.Xm;};zt=function zt(a,b){var c=b?a.Yl:a.Xl,d=b?a.Xl:a.Yl,e=a.Vq.ob().width,f=a.Mh-a.Nh;d=f*d.value;c=$.xt(c.value,e);e=c*(f+d)/(e-c)||0;a.Gj=(0,window.isNaN)(a.Ym)?(0,window.isNaN)(a.Ho)?b?a.Nh-e:a.Nh-d:Math.min(a.Ho,a.Nh):a.Ym;a.Fj=(0,window.isNaN)(a.Xm)?(0,window.isNaN)(a.Go)?b?a.Mh+d:a.Mh+e:Math.max(a.Go,a.Mh):a.Xm;};$.At=function(a){if(a.Vj())return!0;var b=a.vj();return a.$e<=b.min;};$.Bt=function(a){if(a.Vj())return!0;var b=a.vj();return a.Ze>=b.max;};tt=function tt(a){var b=[];if($.A(a)){for(var c=0;c<a.length;c++){var d=a[c];if($.A(d)){for(var e=[],f=0;f<d.length;f++){var h=d[f],k=null;if($.z(h)){k=$.Zk(h,null);var l=1;}else $.C(h)&&(k=$.Zk(h.unit,null),l=$.Jo(h.count));k&&e.push({unit:k,count:l});}e.length&&b.push({range:$.xp(e[0].unit,e[0].count),levels:e});}}b.sort(function(a,b){return a.range-b.range;});}return b;};$.xt=function(a,b){return 0<b?Math.max(Math.min(Math.floor(b/2)-1,a),0):0;};$.Ct=function(a,b,c){var d=c.value;if(c.isPixels){c=a.Ze-a.$e;if((0,window.isNaN)(c))return a.wW=!0,.01*b;a=a.Vq.ob().width;return Math.round($.xt(d,a)*c/a)||0;}return b*d;};Dt=function Dt(a,b){var c={value:0,isPixels:!!b};$.n(a)&&("object"===$.ka(a)?(c.value=+a.value||0,c.isPixels=!!a.isPixels):c.value=+a||0);return c;};Et=function Et(a,b){return a.value===b.value&&a.isPixels===b.isPixels;};$.Ft=function(a){return!(!a.Yl.isPixels&&!a.Xl.isPixels);};$.Gt=function(a){$.Ft(a)&&!a.Vj()&&(a.Gj=window.NaN,a.Fj=window.NaN,a.Mc=!1);};$.Ht=function(a,b){a.nb();if($.z(b)){switch(b.toLowerCase()){case"current":(0,window.isNaN)(a.AS)&&(a.AS=(0,$.Qn)());var c=a.AS;break;case"start":c=a.D6;break;case"end":c=a.C6;}$.n(c)||(c=$.ts(b));}c=null!=c?c:$.Xk(b);var d=a.tj(),e=d.min;return(c-e)/(d.max-e);};$.It=function(a,b){var c=a.tj(),d=c.min;return Math.round(b*(c.max-d)+d);};$.Jt=function(a){a.nb();var b=a.tj();b=(b.max-b.min)/20;for(var c=a.gd.length-1,d,e=0;e<c;e++)if(b<=a.gd[e].range){d=a.gd[e];break;}d||(d=a.gd[c]);return d.levels;};$.Kt=function(a){$.U.call(this);this.qa=a;};mca=function mca(a,b,c,d,e,f,h){function k(a){return 0>a?-m(-a+e-1):a?m(a+e-1):0;}function l(a){return-m(a);}function m(a){return an(d,a);}var p=$.$m(Math.abs(b),d),q=$.$m(Math.abs(c),d),r=b*c,t=!1;0<r?0<b?(a=Lt(a,p,q,f,h),k=m,e=a.result[0]):(a=Lt(a,q,p,f,h),k=l,t=!0,e=a.result[1]):a=0>r?Lt(a,-(p-(e-1)),q-(e-1),f,h):c?Lt(a,0,q-(e-1),f,h):Lt(a,-(p-(e-1)),0,f,h);a.Wa=(0,$.Wa)(a.Wa,k);a.result=(0,$.Wa)(a.result,k);t&&(a.Wa.reverse(),t=a.result[0],a.result[0]=a.result[1],a.result[1]=t,t=a.result[2],a.result[2]=a.result[3],a.result[3]=t);a.result[4]=e;return a;};Lt=function Lt(a,b,c,d,e,f,h){h=h||0;var k=a.Hl,l=a.kh,m=a.mm,p=c-b;!(0,window.isNaN)(k)&&p/k>a.qa.Zm()&&($.kl(20,null,[p,k]),k=window.NaN,l=4,m=6);if((0,window.isNaN)(k)){var q=window.NaN;for(a=window.NaN;l<=m;l++){var r=l-1;q=$.Ym(p/r);0==q&&(q=$.Ym(p/r,10));var t=Math.log(q);r=Math.pow(10,Math.floor(t*Math.LOG10E));t=Math.pow(10,Math.ceil(t*Math.LOG10E));var u=$.$m(q/t,2);r=[r,t,q<r+r?r/2:window.Infinity,Math.pow(2,Math.floor(u))*t,Math.pow(2,Math.ceil(u))*t];r=(0,$.Wa)(r,function(a){return $.Vo(q,a,0,10)||window.Infinity;});f||(r=(0,$.Wa)(r,function(a){return(0,window.isFinite)(a)&&~~a==a?a:window.Infinity;}));(r=Math.min.apply(null,r))&&(0,window.isFinite)(r)?q=r:f||(q=Math.round(q)||1);r=$.Ym($.Uo(b,q,h))-b;r*=r;t=$.Ym($.Vo(c,q,h))-c;t*=t;r+=t;if((0,window.isNaN)(a)||r<a)a=r,k=q;}}(0,window.isNaN)(k)&&(k=.5);f=[b,c];m=[];p=$.Xm(k);a=$.Ym($.Uo(b,k,h,p),p);d?f[0]=b=a:1E-7<b-a&&(m.push(b),f[2]=a);d=$.Ym($.Vo(c,k,h,p),p);e?f[1]=c=d:1E-7<d-c&&(f[3]=d);for(b=$.Ym($.Vo(b,k,h,p),p);b<=c;b=$.Ym(b+k,p))m.push(b);3 in f&&m.push(c);return{Wa:m,result:f};};Mt=function Mt(a,b,c,d,e,f,h){f=f||[];c=$.Wm(c,7);var k=0;if(h&&c<=a.Uc)for(h=a=$.Wm(c,7);h>=b;h=$.Wm(h-d,7)){e!=h&&$.Da(f,h);if(k&&a==h)break;k++;}else for(h=a=$.Wm(b,7);h<=c;h=$.Wm(h+d,7)){e!=h&&f.push(h);if(k&&a==h)break;k++;}return f;};Nt=function Nt(a,b,c,d){a=a.Hl;(0,window.isNaN)(a)&&(a=(c-b)/(d-1));return Math.max(a,1E-7);};$.Ot=function(){$.nt.call(this);this.Fa("defaultScaleSettings.linear");this.Bi=this.vh=null;this.WR=!0;this.vw=10;this.wJ=!0;this.JK=this.B3;};$.it=function(){var a=new $.Ot();a.N(a.na);return a;};Pt=function Pt(){$.Ot.call(this);this.Fa("defaultScaleSettings.log");};$.jt=function(){var a=new Pt();a.N(a.na);a.Wa().N(a.Wa().na);a.wb().N(a.wb().na);return a;};$.Qt=function(a){$.U.call(this);this.scale=a;};$.Rt=function(a){a.Gz=null;a.Bx=null;a.Mk=null;};$.St=function(){this.hh=[];this.Qf=[];this.Kr=[];this.Uw=[];this.mz=[];this.KR=!0;this.NB={};this.j4=null;this.LF=!0;this.lb=null;$s.call(this);this.Fa("defaultScaleSettings.ordinal");};$.Tt=function(a,b){null===b?a.Kr.length=0:$.A(b)&&(a.Kr=$.Ha(b));a.Nx()||(a.Kr.length=0);a.Uw.length=0;a.mz.length=0;$.Rt(a.Wa());a.va(2);};$.Ut=function(a){if(!a.mz||a.mz.length!=a.hh.length){var b=a.FY(),c=0,d;for(d in b)c+=b[d];a.mz=b.map(function(a){return a/c;});a.PJ=[0];for(b=0;b<a.mz.length;b++)a.PJ.push(a.mz[b]+a.PJ[b]);}return a.mz;};$.Vt=function(a){return $.A(a.Qf)?null:a.Qf;};$.lt=function(){var a=new $.St();a.N(a.na);return a;};Wt=function Wt(){this.Zc=[];};Xt=function Xt(a){this.Jd=a;this.f=[-1];this.b=void 0;this.D=this.P0;this.i=this.S0;this.j=-1;};_Yt=function Yt(a,b){if(!b.length||!a.f.length)return null;var c=b[++a.f[a.f.length-1]];if(!c)return a.f.pop(),_Yt(a,Zt(a));var d=b;c.$b()&&a.i(c)&&(a.f.push(-1),d=c.Rv());return a.D(c)?c:_Yt(a,d);};Zt=function Zt(a){var b=a.Jd.Rv();a.j=0;if(1<a.f.length)for(var c=0;c<a.f.length-1;c++)b=b[a.f[c]],a.j=c+1,b=b.Rv();return b;};$.$t=function(a,b){$.U.call(this);this.Jd=a;this.Zc=b;this.Jd.ua("treeItemMove",this.eO,!1,this);this.Jd.ua("treeItemUpdate",this.eO,!1,this);this.Jd.ua("treeItemCreate",this.eO,!1,this);this.Jd.ua("treeItemRemove",this.eO,!1,this);$.L(this.Jd,this.Wia,this);};$.bu=function(a,b,c){this.Qu=a;this.be=c;this.Rk=b;this.Ai={};this.uid=++au;};$.cu=function(a,b,c,d){$.U.call(this);this.Zc=d||{};this.Gq=[];this.zd={};this.UH={};this.FH={};this.LS=this.Yv();this.Pu=null;this.OC=!0;this.sS("id",!0);a&&this.Ur(a,b,c);};$.eu=function(a){var b=new $.cu();$.V(b);"rootMapping"in a&&(b.Zc=a.rootMapping);if("index"in a)for(var c=a.index,d=0,e=c.length;d<e;d++)b.sS(c[d]);if("children"in a)for(c=a.children,d=0,e=c.length;d<e;d++)b.gc(_du(b,c[d]));b.da(!1);return"mapping"in a?b.Wd(a.mapping):b;};_iu=function iu(a,b){var c=new $.fu(a,b),d=b[a.Zc[gu.wx]||gu.wx];if(d)for(var e=0,f=d.length;e<f;e++)hu(c,_iu(a,d[e]));return c;};_ju=function ju(a,b,c,d){if(c){if(d)for(var e=b.$b();e--;)_ju(a,b.wd(e),c,d);if(d=a.zd[c])e=b.get(c),a.UH[c]&&(e=String(e)),a=$.Na(d,e,a.FH[c]),c={key:e,value:b},0>a?$.Da(d,c,~a):(a=d[a],$.A(a.value)?$.Ba(a.value,b):a.value!=b&&(a.value=[a.value],a.value.push(b)));}else for(e in a.zd)_ju(a,b,e,d);};_ku=function ku(a,b,c,d){if(c){if(d)for(var e=b.$b();e--;)_ku(a,b.wd(e),c,d);if(d=a.zd[c])e=b.get(c),a.UH[c]&&(e=String(e)),b.get(c),e=$.Na(d,e,a.FH[c]),(d=d[e])&&($.A(d.value)&&1<d.value.length?$.Fa(d.value,b):Ea(a.zd[c],e));}else for(e in a.zd)_ku(a,b,e,d);};_lu=function lu(a,b){_ju(a,b);b.o("nc",!0);for(var c=0;c<b.$b();c++)_lu(a,b.wd(c));};mu=function mu(a){return function(b,c){return a(b,c.key);};};$.fu=function(a,b){this.Jd=a;this.Y=null;this.b=[];this.Ai={};var c=$.Sc(b);delete c[this.Jd.Zc[gu.wx]||gu.wx];delete c[this.Jd.Zc[gu.VB]||gu.VB];this.ka=c;this.f={};this.uid=++au;};_du=function du(a,b){var c=new $.fu(a,"treeDataItemData"in b?b.treeDataItemData:{});if("treeDataItemMeta"in b){var d=b.treeDataItemMeta,e;for(e in d)c.o(e,d[e]);}d=b[a.Zc[gu.wx]||gu.wx];if($.A(d))for(e=0;e<d.length;e++){var f=_du(a,d[e]);c.gc(f);}return c;};nu=function nu(a){null!=a.Y&&(a.Y=null,a.Jd.va(16));};hu=function hu(a,b){$.Da(a.b,b,a.$b());b.Y=a;};_ou=function ou(a,b){a.Jd=b;for(var c=0,d=a.$b();c<d;c++)_ou(a.b[c],b);};_pu=function pu(a,b){var c=String($.oa(b));if(c in a.f)return a.f[c][1];var d=null===a.getParent()?null:_pu(a.getParent(),b);d=new $.bu(b,a,d);a.f[c]=[b,d];return d;};$.qu=function(a,b,c,d){return new $.cu(a,b,c,d);};_ru=function ru(a,b,c,d,e,f,h){var k=$.Sc(b.treeDataItemData);$.n(k.id)||(a.oW++,a.AH=-1);k.parent=[a.My,f,h];f=a.My++;c.push(k);for(var l in k)l in d||(d[l]=e++);if((b=b.children)&&b.length)for(h=0,l=b.length;h<l;h++)_ru(a,b[h],c,d,e,f,k.id);};$.su=function(a,b){if(!a)return"";var c=a.F().children,d=[],e={},f,h={AH:1,oW:0,My:0};e.id=0;e.parent=1;for(f=0;f<c.length;f++)_ru(h,c[f],d,e,2,null,null);h.oW===h.My?h.AH=0:0===h.oW&&(h.AH=1);c=[];for(k in e)c[e[k]]=k;var k=[];0>h.AH&&(e.__original_id__=c.length,e.__original_parent__=c.length+1,c.push("__original_id__","__original_parent__"));for(f=0;f<d.length;f++){var l=Array(c.length);var m=d[f];var p=m.parent;if(0>=h.AH){var q=p[0];var r=p[1];}else q=m.id,r=p[2];for(e=0;e<c.length;e++){var t=c[e];var u=$.C(m[t])?io(m[t]):m[t];l[e]="id"===t?q:"parent"===t?null===r?void 0:r:"__original_parent__"===t?p[2]:"__original_id__"===t?m.id:u;}k.push(l);}return $.op(c,k,b);};$.Y=function(){$.U.call(this);this.vc=new pf(this);this.PE=this.na.enabled=!0;this.B(4294967295);};$.tu=function(a,b,c,d,e,f,h,k){b.tag=a;a.vc.ua(b,"click",e||a.nh);a.vc.ua(b,"dblclick",a.nh);a.vc.ua(b,"mouseover",c||a.nh);a.vc.ua(b,"mouseout",d||a.nh);a.vc.ua(b,"mousedown",h||a.nh);a.vc.ua(b,"mouseup",k||a.nh);a.vc.ua(b,"mousemove",f||a.nh);a.vc.ua(b,"touchstart",a.nh);a.vc.ua(b,"touchend",a.nh);a.vc.ua(b,"touchcancel",a.nh);a.vc.ua(b,"touchmove",a.nh);a.vc.ua(b,"contextmenu",a.nh);};$.uu=function(a,b,c,d,e,f,h,k){a.vc.ua(b,"click",e||h||a.Eh);a.vc.ua(b,"dblclick",h||a.Eh);a.vc.ua(b,"mouseover",c||h||a.Eh);a.vc.ua(b,"mouseout",d||h||a.Eh);a.vc.ua(b,"mousedown",k||h||a.Eh);a.vc.ua(b,"mouseup",h||a.Eh);a.vc.ua(b,"mousemove",f||h||a.Eh);a.vc.ua(b,"touchstart",h||a.Eh);a.vc.ua(b,"touchend",h||a.Eh);a.vc.ua(b,"touchcancel",h||a.Eh);a.vc.ua(b,"touchmove",h||a.Eh);a.vc.ua(b,"contextmenu",h||a.Eh);};$.vu=function(a,b,c,d){$.U.call(this);arguments.length&&this.set.apply(this,arguments);};wu=function wu(a,b,c){null===a.Bw||(b=Math.max(b,$.M(a.Bw,c)));null===a.yw||(b=Math.min(b,$.M(a.yw,c)));return b;};xu=function xu(a,b,c){null===a.Cw||(b=Math.max(b,$.M(a.Cw,c)));null===a.Aw||(b=Math.min(b,$.M(a.Aw,c)));return b;};$.yu=function(){$.Y.call(this);};$.zu=function(a,b){function c(){this.ro();}function d(){Vp(this.W,this);}a.prototype.W=function(){b.prototype.W.call(this);var a=this.O();(a=a?a.Ia():null)&&(this.er()?a.ua("stageresize",c,!1,this):a.ec("stageresize",c,!1,this));$.L(this,d,this);return this;};};$.Au=function(){$.Y.call(this);this.KC=this.Fa($.yr.background);this.P=!0;this.Vb=this.Y=null;$.Q(this.ta,[["fill",16],["stroke",20],["topStroke",20],["rightStroke",20],["bottomStroke",20],["leftStroke",20],["disablePointerEvents",64],["cornerType",4]]);};Bu=function Bu(a,b,c,d){a=a.mS();return $.M(4>a.length?a[0]:a[b],Math.min(d,c))||0;};Cu=function Cu(a,b,c,d,e,f,h){switch(a.g("cornerType")){case"round":b.Af(e,f,h,h,!1,!0);break;case"round-inner":b.Af(e,f,h,h,!1,!1);break;case"cut":b.lineTo(e,f);break;default:b.lineTo(c,d).lineTo(e,f);}};Du=function Du(){$.Au.call(this);};Eu=function Eu(){this.P=$.ng();this.jc="";this.f={};this.b=0;};Fu=function Fu(a,b){return null!=b&&a.length>b?a.slice(0,b)+"...":a;};Gu=function Gu(a,b,c,d){$.U.call(this);this.Vb=this.Y=null;($.n(a)||$.n(b)||$.n(c)||$.n(d))&&this.set.apply(this,arguments);$.Q(this.ta,[["left"],["top"],["bottom"],["right"]]);};$.Jm=function(a){var b=arguments[0],c=arguments[1],d=arguments[2],e=arguments[3];if($.A(b)){var f=b;b=f[0];c=f[1];d=f[2];e=f[3];f=f.length;}else f=arguments.length;if(!f)return{};if("object"==$.ka(b)){var h=b.top||0;var k=b.right||0;var l=b.bottom||0;var m=b.left||0;}else 1==f?m=l=k=h=b||0:2==f?(l=h=b||0,m=k=c||0):3==f?(h=b||0,m=k=c||0,l=d||0):4<=f&&(h=b||0,k=c||0,l=d||0,m=e||0);return{top:h,left:m,bottom:l,right:k};};Iu=function Iu(a,b){for(var c in Hu){var d=b[c];$.n(d)&&(a.na[c]=d);}};$.Ju=function(a,b,c,d){Gu.call(this,a,b,c,d);};$.Mu=function(a,b){var c=b.top||0,d=b.left||0,e=Ku(a.height,c,b.bottom||0),f=Lu(a.width,d,b.right||0);d=$.M(d,f);c=$.M(c,e);return new $.I(a.left-d,a.top-c,f,e);};Ku=function Ku(a,b,c){var d=1;$.zo(b)?d-=(0,window.parseFloat)(b)/100:a+=$.ea(b)?b:(0,window.parseFloat)(b);$.zo(c)?d-=(0,window.parseFloat)(c)/100:a+=$.ea(c)?c:(0,window.parseFloat)(c);d||(d=1E-7);return a/d;};Lu=function Lu(a,b,c){var d=1;$.zo(b)?d-=(0,window.parseFloat)(b)/100:a+=$.ea(b)?b:(0,window.parseFloat)(b);$.zo(c)?d-=(0,window.parseFloat)(c)/100:a+=$.ea(c)?c:(0,window.parseFloat)(c);d||(d=1E-7);return a/d;};$.Nu=function(){this.b={};};nca=function nca(a){function b(a){var b=[],c,d;for(d in a)if(a.hasOwnProperty(d)){var e=a[d];if(d in l){var f=l[d];"number"==f&&(e=$.N(e));"boolean"==f&&(e=k[lp(e).toLowerCase()],e="useNegativeSign"==d?!e:e);if("scale"==f){var h=lp(e);if(h in k)e=k[h];else{e={};h=h.split("|");var p=function p(a,b){return 0!=b%2;};f=(0,$.Ze)(h[0].split(/\(([ \w\+\-]*)\)/),p);h=(0,$.Ze)(h[1].split(/\(([^\)]*)\)/),p);f=(0,$.Wa)(f,function(a){return+a;});var q=f[0];p=[q];for(c=1;c<f.length;c++)q*=f[c],p.push(q);p.length!=h.length&&(f=Math.min(p.length,h.length),p.length=f,h.length=f);p.reverse();h.reverse();e.factors=p;e.suffixes=h;}}}f=d;d in m&&m[d]&&(f=m[d],f!=d&&b.push(d));a[f]=e;}for(c=b.length;c--;)delete a[b[c]];}function c(a,b,c){if("%_message"==a)return $.us(b&&b.key||"");var d="%"==a.charAt(0)?a.substr(1):a;var e=d.toLowerCase();var f=c.oc.Em[a],h=c.oc.Bl[f]||c.oc.values[f]||c.oc.Bl[a]||c.oc.values[a]||c.oc.Bl[d]||c.oc.values[d];if(h)e=h.value;else{b:{for(var k in c.oc.Bl)if(c.oc.Bl.hasOwnProperty(k)&&k.toLowerCase()==e){h=c.oc.Bl[k].value;break b;}for(k in c.oc.values)if(c.oc.values.hasOwnProperty(k)&&k.toLowerCase()==e){h=c.oc.values[k].value;break b;}h=void 0;}$.n(h)?e=h:(d=f?c.getData(f)||c.getData(d):c.getData(d),e=$.n(d)?d:c.Qg(e));}b&&"true"===b.localized&&(e=$.us(e));if(!$.n(e))return"";b=b||{};d=$.n(b.dateTimeFormat)||$.n(b.timeZone);b.type&&(b.type=lp(b.type));if(!(f=p[String(b.type).toLowerCase()])){if(d)c="date-time";else{f="%"==a.charAt(0)?a.substr(1):a;d=f.toLowerCase();h=c.oc.Em[a];f=(a=c.oc.Bl[h]||c.oc.values[h]||c.oc.Bl[a]||c.oc.values[a]||c.oc.Bl[f]||c.oc.values[f]||c.oc.Bl[d]||c.oc.values[d])&&$.n(a.type)?a.type:"string";if(!a&&c.oc.Ji.length)switch(d){case Ou.Yla:case Ou.uma:case Ou.J7:case Ou.K7:case Ou.L7:case Ou.o9:case Ou.p9:case Ou.r9:case Ou.s9:case Ou.A9:case Ou.n9:case Ou.w9:case Ou.y9:case Ou.i9:case Ou.j9:case Ou.v9:case Ou.k9:case Ou.D9:case Ou.x9:case Ou.l9:case Ou.G9:case Ou.z9:case Ou.m9:case Ou.H9:case Ou.I9:case Ou.J9:case Ou.m7:case Ou.e7:case Ou.f7:case Ou.g7:case Ou.i7:case Ou.j7:case Ou.l7:case Ou.E7:case Ou.y7:case Ou.C7:case Ou.D7:case Ou.v7:case Ou.w7:case Ou.B7:case Ou.x7:case Ou.EQ:case Ou.s$:case Ou.u8:case Ou.I8:case Ou.OPEN:case Ou.q7:case Ou.o$:case Ou.Y6:case Ou.z8:case Ou.X8:case Ou.W8:case Ou.iZ:case Ou.K9:case Ou.C9:case Ou.E9:case Ou.B9:case Ou.u9:case Ou.t9:case Ou.M7:case Ou.H7:case Ou.I7:case Ou.G7:case Ou.z7:case Ou.A7:case Ou.Z6:case Ou.c7:case Ou.d7:case Ou.h7:case Ou.k7:case Ou.p$:case Ou.q$:case Ou.r$:case Ou.m$:case Ou.n$:case Ou.U8:f="number";}c=f;}f=c;}switch(f){case"":return"";case"string":return String(e);case"date-time":return $.ys(e,b.dateTimeFormat,b.timeZone);case"date":return $.zs(e,b.timeZone);case"time":return As(e,b.timeZone);case"number":return $.Fs(e,b.decimalsCount,b.decimalPoint,b.groupsSeparator,b.scale,b.zeroFillDecimals,b.scaleSuffixSeparator,b.useBracketsForNegative);case"percent":return $.Eo($.Wm(100*e,2));}}function d(a){return a;}function e(a,d){var e=y,f=[],k;for(k in e)if(e.hasOwnProperty(k)){var l=lp(k);l!=k&&(e[l]=e[k],f.push(k));}for(k=f.length;k--;)delete e[f[k]];b(y);h.push($.qa(c,a,d));}function f(a){h.push($.qa(d,a));}for(var h=[],k={"true":!0,"false":!1},l={numDecimals:"number",decimalsCount:"number",useNegativeSign:"boolean",useBracketsForNegative:"boolean",leadingZeros:"number",trailingZeros:"boolean",zeroFillDecimals:"boolean",scale:"scale"},m={numDecimals:"decimalsCount",decimalSeparator:"decimalPoint",thousandsSeparator:"groupsSeparator",useNegativeSign:"useBracketsForNegative",trailingZeros:"zeroFillDecimals"},p={number:"number",string:"string",datetime:"date-time",date:"date",time:"time",percent:"percent"},q=a.length,r=0,t,u="",v,w,x,y,B=!1,G=0;G<q;G++)switch(t=a.charAt(G),r){case 0:"{"==t?r=1:u+=t;break;case 1:"%"==t?(0<u.length&&f(u),u="%",r=2):(u+="{"+t,r=0);break;case 2:"}"==t?1<u.length?(v=u,u="",r=3):(u="{%}",r=0):u+=t;break;case 3:"{"==t?r=4:(e(v,null),u=t,r=0);break;case 4:"%"==t?(e(v,null),u="%",r=2):(w="{"+t,u=t,r=x="",y={},B="\\"==t,r=5);break;case 5:w+=t;B?(u+=t,B=!1):"\\"==t?B=!0:":"==t?(x=u,u="",r=6):"}"==t?(x=lp(u),y[x]="",e(v,y),w=u=r=x="",r=0):u+=t;break;case 6:w+=t,B?(u+=t,B=!1):"\\"==t?B=!0:","==t?(r=u,y[x]=r,r=x=u="",r=5):"}"==t?(r=u,y[x]=r,e(v,y),w=u=r=x="",r=0):u+=t;}switch(r){case 0:0<u.length&&f(u);break;case 1:f("{");break;case 2:f("{"+u);break;case 3:e(v,null);break;case 4:e(v,null);f("{");break;case 5:case 6:f(w);}return h;};$.Pu=function(a,b){if(!a.b[b]){var c=nca(b);a.b[b]=function(a){return(0,$.Wa)(c,function(b){return b(a);}).join("");};}return a.b[b];};$.Ru=function(a){$.V(this);$.Y.call(this);a||(this.KC=this.Fa($.yr.labelsFactory));delete this.na.enabled;this.ub=null;this.LX="background padding height width offsetY offsetX position anchor rotation format positionFormatter minFontSize maxFontSize maxLength clip connectorStroke adjustFontSize useHtml fontSize fontWeight fontFamily fontColor textDirection textShadow wordWrap wordBreak fontOpacity fontDecoration fontStyle fontVariant letterSpacing lineHeight textIndent vAlign hAlign textOverflow selectable disablePointerEvents".split(" ");this.Ld={};$.Qu(this,"different");this.da(!1);$.Iq(this.ta,20,20,9,1);$.Q(this.ta,[["format",20,9],["positionFormatter",4,9],["position",20,9],["anchor",4,9],["offsetX",4,9],["offsetY",4,9],["connectorStroke",512,1],["rotation",4,9],["width",4,9],["height",4,9],["clip",256,1]]);};Su=function Su(a){a=$.Ek(a,"auto");"auto"==a&&(a=void 0);return a;};$.Qu=function(a,b){return $.n(b)?(b=$.Ak(oca,b,"different"),a.aa!=b&&(a.aa=b,a.$B()&&a.B(4,9)),a):a.aa;};Tu=function Tu(a){a.Ga&&(a.Oa.background=a.Ga.Oa);a.Ua&&(a.Oa.padding=a.Ua.Oa);};pca=function pca(a){(0,$.Re)(a.Ca,function(a){a&&a.vb&&!Uu(a)&&a.vb.qb();},a);};$.Zu=function(a,b,c,d,e){var f=new $.I(0,0,0,0),h=a.ja();if(h){var k=h.width;var l=h.height;}if($.J(b,$.Vu)&&!d){var m=b;var p=m.Ph();var q=m.Bf();b=c||m.ic()||{value:{x:0,y:0}};var r=$.Wu(m);if(h=Xu(m,function(a,b){var c=$.J(b,$.Ru)?b.ja():b.ja;if(c)return c;}))k=h.width,l=h.height;var t=r.useHtml;var u=r.width;var v=r.height;d=r.offsetY;c=r.offsetX;var w=r.anchor;var x=r.format;var y=r.padding;p.style(r);}else a.b?a.b.clear():(a.b=a.nL(),a.b.cp=a),a.K||(a.K=$.tk(),a.K.Bd("aria-hidden","true")),m=a.b,p=a.K,$.J(b,$.Vu)?(a.b.N($.Wu(b)),q=b.Bf(),b=c||b.ic()||{value:{x:0,y:0}}):(q=b,b=c||{value:{x:0,y:0}}),a.b.N(d),t=$.n(m.g("useHtml"))?m.g("useHtml"):a.g("useHtml"),y=($.Nc(m.Oa.padding)&&$.Nc(m.na.padding)?void 0:m.padding())||a.Ua||null,u=$.n(m.g("width"))?m.g("width"):a.g("width"),v=$.n(m.g("height"))?m.g("height"):a.g("height"),d=m.g("offsetY")||a.g("offsetY")||0,c=m.g("offsetX")||a.g("offsetX")||0,w=m.g("anchor")||a.g("anchor"),x=m.g("format")||a.g("format"),m.Zh(p,!0,a.na),m.Zh.call(a,p,!1),m.Zh(p,!1);$.J(y,$.Ju)||(y=a.padding());e=$.Yu(a,x,q,e);e=m.MK(e);p.width(null);p.height(null);t?p.htmlText(null!=e?String(e):null):p.text(null!=e?String(e):null);q=null!==u;m=null!==v;e=p.qb();if(q){k=Math.ceil($.M(u,k));var B=y?y.Kg(k):k;f.width=k;}else k=e.width,f.width=y?y.Ik(k):k;$.n(B)&&p.width(B);e=p.qb();if(m){B=Math.ceil($.M(v,l));var G=y?y.Vh(B):B;f.height=B;}else B=e.height,f.height=y?y.ak(B):B;$.n(G)&&p.height(G);G=$.Sc(a.g("positionFormatter").call(b,b));return a.M1(f,G,h,c,d,w);};$.Yu=function(a,b,c,d){$.z(b)&&(b=$.Pu($.Nu.Gd(),b));a.i||(a.i={});if(null!=d){if(!$.n(a.i[d])){if($.n(c)&&c.series){var e=c.series.$();$.E(e.select)&&e.select($.n(c.index)?c.index:d);}a.i[d]=b.call(c,c);}return a.i[d];}return b.call(c,c);};$.$u=function(a,b){$.n(b)?a.i&&$.n(a.i[b])&&delete a.i[b]:a.i={};};$.Vu=function(){$.Y.call(this);delete this.na.enabled;this.jx={};this.Ld={};this.ea="pointState seriesState chartState pointNormal seriesNormal chartNormal seriesStateTheme chartStateTheme auto seriesNormalTheme chartNormalTheme".split(" ");this.P=$.Ja(this.ea,0);this.ur=!0;this.Fi();this.I(1024);$.Iq(this.ta,20,20,9,1);$.Q(this.ta,[["format",1044,9],["positionFormatter",4,9],["position",4,9],["anchor",4,9],["offsetX",4,9],["offsetY",4,9],["connectorStroke",512,1],["rotation",4,9],["width",4,9],["height",4,9],["clip",256,1],["enabled",1,9]]);};$.av=function(a,b){return null!=b?(a.state("seriesNormal")!=b&&(a.cp=b,a.state("seriesNormal",b),a.state("seriesNormalTheme",b?b.na:null),a.B(16,1)),a):a.state("seriesNormal");};$.bv=function(a,b){return $.n(b)?(a.state("seriesState")!=b&&(a.state("seriesState",b),a.state("seriesStateTheme",b?b.na:null),a.B(16,1)),a):a.state("seriesState");};cv=function cv(a){return a.P||(a.P=$.Ja(a.ea,0));};$.dv=function(a,b,c){var d=!1,e=cv(a);$.n(c)&&$.z(b)?(c=$.N(c),a=(0,$.za)(e,b),a!=c&&(c=(0,window.isNaN)(c)?e.length-1:c,e.length<=c&&(e.length=c+1),-1!=a&&delete e[a],e[c]=b)):($.A(b)?(a.P=$.Ja(b,0),d=!0):null===b&&(a.P=$.Ja(a.ea,0),d=!0),d&&a.B(17,9));};ev=function ev(a,b){return Xu(a,function(a,d){if(($.J(d,$.Vu)||$.J(d,$.Ru))&&d.J(b))return!0;})||a.J(b);};iv=function iv(a,b){if($.n(b)){var c=!!b;a.Ld.vertical!==c&&(a.Ld.vertical=c,$.n(a.Ld.vertical)||a.B(16,8));return a;}return a.Ld.vertical;};jv=function jv(a){a.Ga&&(a.Oa.background=a.Ga.Oa);a.Ua&&(a.Oa.padding=a.Ua.Oa);};Xu=function Xu(a,b,c,d){var e=void 0,f=cv(a);$.va(f,function(a,f){var h=$.z(a)?"auto"==a?this.Ld:this.jx[a]:a;h&&(h=b.call(this,a,h,f,c,d),$.n(h)&&("object"==$.ka(h)?null!=e?$.Uc(e,h):e=$.Sc(h):e=h));},a);return e;};qca=function qca(a,b,c,d,e){if($.J(b,$.Vu)||$.J(b,$.Ru)){if("enabled"==d){a=b[d]();var f=null===a?void 0:a;}else f=b.aU(d);}else"object"==$.ka(b)&&("adjustFontSize"==d?(b=b[d],$.n(b)?$.A(b)?(a=b[0],b=b[1]):$.C(b)?(a=b.width,b=b.height):(a=!!b,b=!!b):b=a=void 0,f={width:a,height:b}):"padding"==d&&$.ea(b[d])?f=$.Jm(b[d]):(f=b[d],"enabled"==d&&null===f&&(f=void 0)));f&&$.E(f.F)&&(f=f.F());e&&$.n(f)&&(f=e(f));return f;};kv=function kv(a,b,c){return Xu(a,qca,b,c);};$.Wu=function(a){var b=cv(a);1==b.length&&(b=b[0],a.b=$.z(b)?a.jx[b]:b);if(a.b)return $.Sc(a.b);b=a.cp.LX;for(var c={},d=0,e=b.length;d<e;d++){var f=b[d],h=a.hc(f);"adjustFontSize"==f?(c.adjustByWidth=h.width,c.adjustByHeight=h.height):c[f]=h;}a.b=c;return $.Sc(a.b);};$.lv=function(a,b,c,d,e,f,h){var k=rca(a);a=$.Va(d,e+1);d=$.Oa(a,function(a){k.fontSize(a);var d=k.qb();a=d.width;d=d.height;return f&&a>b||h&&d>c?-1:f&&a==b||h&&d==c?0:1;});0>d&&(d=~d-1);return a[$.Za(d,0,a.length)];};rca=function rca(a){var b=$.Wu(a),c=b.useHtml,d=a.Bf();a.J(1024)&&($.$u(a.cp,a.la()),a.I(1024));b=a.rk(b.format,d,a.la());a.Ov||(a.Ov=$.tk(),a.Ov.Bd("aria-hidden","true"));c?a.Ov.htmlText($.n(b)?String(b):""):a.Ov.text($.n(b)?String(b):"");Xu(a,function(a,b,c){a=0==c;$.J(b,$.Ru)||$.J(b,$.Vu)?this.Zh.call(b,this.Ov,a):this.Zh(this.Ov,a,b);});return a.Ov;};Uu=function Uu(a){if($.da(a.ur))return a.ur;var b=$.Wu(a),c=null!==b.width,d=null!==b.height,e=b.useHtml,f=a.vb?!!a.vb.path():!1;a=String(a.rk(b.format,a.Bf(),a.la()));a=$.jc(kc(a));return 1!=a.split(/\n/g).length||c||d||e||f;};mv=function mv(a){var b=Uu(a),c=$.J(a.vb,Eu),d=$.J(a.vb,$.Qh);return!a.vb||b&&c||!b&&d;};nv=function nv(){$.Ru.call(this);};ov=function ov(){$.Vu.call(this);};pv=function pv(a,b,c){this.oc={values:a||{},kg:b||null,Ji:c||[],Em:{},Bl:{}};this.oc.Em["%Value"]="value";this.oc.Em["%YValue"]="value";this.oc.Em["%Index"]="index";};$.qv=function(a){return $.n(void 0)?(a.oc.values=void 0,a):a.oc.values;};$.rv=function(a,b){var c;if($.n(b)){for(c in a)a.hasOwnProperty(c)&&!$.E(a[c])&&a[c]!=a.oc&&delete a[c];a.oc.values=b;}for(c in a.oc.values)a[c]=a.oc.values[c].value;return a;};$.sv=function(a){$.U.call(this);this.b=a;};tv=function tv(a){this.oa=a;$.U.call(this);};uv=function uv(a,b,c){var d=a.oa.O()?a.oa.O().Ia().To():null;return d?$.n(c)?(d[b](c),a):d[b]():$.n(c)?(a[b+"_"]!==c&&(a[b+"_"]=c),a.B(16,2),a):a[b+"_"];};vv=function vv(a){var b={},c=a.text_,d=a.url_,e=a.alt_,f=a.imgAlt_,h=a.logoSrc_;a=a.enabled_;$.n(c)&&(b.text=c);$.n(d)&&(b.url=d);$.n(e)&&(b.alt=e);$.n(f)&&(b.imgAlt=f);$.n(h)&&(b.logoSrc=h);$.n(a)&&(b.enabled=a);return b;};wv=function wv(){$.Y.call(this);this.Y=null;this.Za={};this.Vb=null;$.Q(this.ta,[["fontSize",20,9],["fontFamily",20,9],["fontColor",16,1],["fontOpacity",16,1],["fontDecoration",20,9],["fontStyle",20,9],["fontVariant",20,9],["fontWeight",20,9],["letterSpacing",20,9],["textDirection",20,9],["lineHeight",20,9],["textIndent",20,9],["textShadow",16,1],["vAlign",20,9],["hAlign",20,9],["wordWrap",20,9],["wordBreak",20,9],["textOverflow",20,9],["selectable",16,1],["disablePointerEvents",16,1],["useHtml",20,9]]);};xv=function xv(){wv.call(this);this.Ga=null;this.K=void 0;this.vb=this.Ua=null;this.Na=$.pk();$.tu(this,this.Na);$.Q(this.ta,[["text",20,9],["position",4,9],["width",4,9],["height",4,9],["anchor",4,9],["offsetX",4,9],["offsetY",4,9],["rotation",4,9],["adjustFontSize",4,9],["minFontSize",0,0,0,this.ea],["maxFontSize",0,0,0,this.ea]]);this.ta.disablePointerEvents.Z_=function(){this.background().disablePointerEvents(this.md("disablePointerEvents"));};};yv=function yv(a){var b=a.ja(),c;var d=a.g("width");var e=a.g("height");var f=a.T1();b&&f?(null!=d?(a.Mi=d=$.M(d,f.width),b=!1):(d=0,b=!0),null!=e?(a.Li=c=$.M(e,f.height),f=!1):(c=0,f=!0)):($.Io(d)?(b=!0,d=0):(b=!1,a.Mi=d=$.N(d)),$.Io(e)?(f=!0,c=0):(f=!1,a.Li=c=$.N(e)));e=a.padding();a.vb.width(null);a.vb.height(null);b?(d+=a.vb.qb().width,a.ln=d,a.Mi=e.Ik(d)):d=a.ln=e.Kg(d);a.vb.width(a.ln);f?(c+=a.vb.qb().height,a.jn=c,a.Li=e.ak(c)):c=a.jn=e.Vh(c);a.vb.height(a.jn);var h=!b,k=!f,l=a.g("adjustFontSize");h=l&&(h&&l.width||k&&l.height);$.V(a);h?(d=a.TR(d,c),a.fontSize(d),a.vb.fontSize(d),b&&(a.vb.width(null),a.ln=a.vb.qb().width,a.vb.width(a.ln),a.Mi=e.Ik(a.ln)),f&&(a.vb.height(null),a.jn=a.vb.qb().height,a.vb.height(a.jn),a.Li=e.ak(a.jn))):l&&(l.width||l.height)&&(a.fontSize(a.g("minFontSize")),a.vb.fontSize(a.g("minFontSize")),b&&(a.vb.width(null),a.ln=a.vb.qb().width,a.vb.width(a.ln),a.Mi=e.Ik(a.ln)),f&&(a.vb.height(null),a.jn=a.vb.qb().height,a.vb.height(a.jn),a.Li=e.ak(a.jn)));a.da(!1);a.Ig=$.M(e.g("left"),a.Mi);a.Jg=$.M(e.g("top"),a.Li);};zv=function zv(a){var b;if(b=!a.vb)a.vb=$.tk(),a.vb.Bd("aria-hidden","true");return b;};$.Av=function(){xv.call(this);$.Q(this.ta,[["visible",128,1]]);this.na.visible=!0;};Bv=function Bv(){$.Av.call(this);};Cv=function Cv(){function a(){this.Xy=!0;}function b(){this.Yb=null;}wv.call(this);this.Fa($.yr.legendItem);this.ub=$.pk();this.ad=this.ub.text();this.ad.Bd("aria-hidden","true");this.SW=this.TW=null;this.JF=window.NaN;this.g4={line:"black",spline:"black","step-line":"black",ohlc:"black",candlestick:"black"};this.dka={line:!0,spline:!0,"step-line":!0,ohlc:!0};this.NC={iconStroke:"#999",iconFill:"#999",iconHatchFill:"none",iconMarkerStroke:"#999",iconMarkerFill:"#999",fontColor:"#999"};$.Q(this.ta,[["text",20,9],["x",4,9,0,b],["y",4,9,0,b],["iconType",16,1,0,a],["iconTextSpacing",4,9,0,b],["maxWidth",4,9,0,b],["maxHeight",4,9,0,b],["iconFill",17,0,a],["iconStroke",16,1,0,a],["iconHatchFill",16,1,0,a]]);this.LK();};Ev=function Ev(a,b,c){a.Wl?a.Wl.clear():a.Wl=b.parent().path();a.gw&&(Dv(a,a.ya),b=a.gw,($.z(b)?$.Dp(b):b).call(a,a.Wl,c/2,c/2,c/6));};sca=function sca(a){switch(a){case"step-area":a=function a(_a,b){_a.moveTo(0,.6*b).lineTo(.5*b,.6*b).lineTo(.5*b,.1*b).lineTo(b,.1*b).lineTo(b,b).lineTo(0,b).lineTo(0,.6*b).close();};break;case"area":a=function a(_a2,b){_a2.moveTo(0,.7*b).lineTo(.35*b,.3*b).lineTo(.5*b,.5*b).lineTo(b,0).lineTo(b,b).lineTo(0,b).lineTo(0,.7*b).close();};break;case"range-step-area":case"range-spline-area":case"range-area":a=function a(_a3,b){_a3.moveTo(0,.2*b).lineTo(.5*b,.4*b).lineTo(b,.2*b).lineTo(b,.8*b).lineTo(.5*b,.6*b).lineTo(0,.8*b).close();};break;case"spline-area":a=function a(_a4,b){var c=b/2;_a4.moveTo(b,.6*c).lineTo(b,b).lineTo(0,b).lineTo(0,1.3*c).Ge(0,c,c,.3*c,90,-90).Ge(b,c,c,.4*c,180,90).moveTo(0,0).close();};break;case"range-bar":a=function a(_a5,b){_a5.moveTo(.35*b,0).lineTo(.65*b,0).lineTo(.65*b,.15*b).lineTo(.35*b,.15*b).close().moveTo(.1*b,.4*b).lineTo(.9*b,.4*b).lineTo(.9*b,.55*b).lineTo(.1*b,.55*b).close().moveTo(.25*b,.8*b).lineTo(.75*b,.8*b).lineTo(.75*b,.95*b).lineTo(.25*b,.95*b).close();};break;case"range-column":a=function a(_a6,b){_a6.moveTo(0,.6*b).lineTo(0,.4*b).lineTo(.15*b,.4*b).lineTo(.15*b,.6*b).lineTo(0,.6*b).close().moveTo(.4*b,.9*b).lineTo(.4*b,.1*b).lineTo(.55*b,.1*b).lineTo(.55*b,.9*b).lineTo(.4*b,.9*b).close().moveTo(.8*b,.7*b).lineTo(.8*b,.3*b).lineTo(.95*b,.3*b).lineTo(.95*b,.7*b).lineTo(.8*b,.7*b).close();};break;case"bar":a=function a(_a7,b){_a7.moveTo(0,0).lineTo(.6*b,0).lineTo(.6*b,.15*b).lineTo(0,.15*b).close().moveTo(0,.4*b).lineTo(b,.4*b).lineTo(b,.55*b).lineTo(0,.55*b).close().moveTo(0,.8*b).lineTo(.8*b,.8*b).lineTo(.8*b,.95*b).lineTo(0,.95*b).close();};break;case"column":a=function a(_a8,b){_a8.moveTo(0,b).lineTo(0,.4*b).lineTo(.15*b,.4*b).lineTo(.15*b,b).close().moveTo(.4*b,b).lineTo(.4*b,0).lineTo(.55*b,0).lineTo(.55*b,b).close().moveTo(.8*b,b).lineTo(.8*b,.2*b).lineTo(.95*b,.2*b).lineTo(.95*b,b).close();};break;case"step-line":a=function a(_a9,b){_a9.moveTo(0,.8*b).lineTo(.5*b,.8*b).lineTo(.5*b,.2*b).lineTo(b,.2*b).moveTo(0,0).close();Ev(this,_a9,b);};break;case"line":a=function a(_a10,b){_a10.moveTo(0,.5*b).lineTo(b,.5*b).close();Ev(this,_a10,b);};break;case"spline":a=function a(_a11,b){var c=b/2;_a11.Ge(0,c,c,.8*c,90,-90).Ge(b,c,c,.6*c,180,90).moveTo(0,0).close();Ev(this,_a11,b);};break;case"bubble":case"circle":a=function a(_a12,b){var c=b/2;_a12.Ge(c,c,c,c,0,360).close();};break;case"candlestick":a=function a(_a13,b){_a13.moveTo(.5*b,0).lineTo(.5*b,b).moveTo(0,.3*b).lineTo(b,.3*b).lineTo(b,.7*b).lineTo(0,.7*b).lineTo(0,.3*b).close();};break;case"ohlc":a=function a(_a14,b){_a14.moveTo(0,.2*b).lineTo(.5*b,.2*b).moveTo(.5*b,0).lineTo(.5*b,b).moveTo(.5*b,.8*b).lineTo(b,.8*b).close();};break;case"triangle-up":case"triangle-down":case"triangle-right":case"triangle-left":case"diamond":case"cross":case"diagonal-cross":case"star4":case"star5":case"star6":case"star7":case"star10":case"pentagon":case"trapezium":case"arrowhead":case"v-line":a=$.Ok(a);var b=$.Dp(a);a=function a(_a15,d){return b(_a15,d/2,d/2,d/2);};break;default:a=function a(_a16,b){_a16.moveTo(0,0).lineTo(b,0).lineTo(b,b).lineTo(0,b).close();};}return a;};Fv=function Fv(a,b){a.Wl&&a.Wl.clear();a.Cs?(b.call(a,a.iw.clear(),a.lp),a.Bs&&b.call(a,a.Bs.clear(),a.lp)):(a.iw.clear(),a.Bs&&a.Bs.clear());};Gv=function Gv(a,b,c){a.Zh(a.ad,!!c);c=a.g("fontColor");b=a.cq?a.NC.fontColor:b?$.Ql(c):c;(0,window.isNaN)(a.JF)?(a.ad.color(b),a.ad.fill(b)):(c=a.g("fontOpacity"),c=$.n(c)?c:1,b={keys:Gp(a.JF,c,b)},a.Ph().fill(b));};Hv=function Hv(a,b){a.iw.stroke(tca(a,b));a.iw.fill(uca(a,b));a.Bs&&a.Bs.fill(a.cq?a.NC.iconHatchFill:a.g("iconHatchFill"));};Dv=function Dv(a,b){a.Wl&&(a.Wl.fill(vca(a,b)),a.Wl.stroke(wca(a,b)));};tca=function tca(a,b){if(a.cq)return a.NC.iconStroke;var c=a.g("iconType");return $.ip(a.g("iconStroke"))&&c in a.g4?a.g4[c]:b?$.Ql(a.g("iconStroke")):a.g("iconStroke");};uca=function uca(a,b){return a.g("iconType")in a.dka?null:a.cq?a.NC.iconFill:b?$.Ql(a.g("iconFill")):a.g("iconFill");};wca=function wca(a,b){return a.cq?a.NC.iconMarkerStroke:b?$.Ql(a.ew):a.ew;};vca=function vca(a,b){return a.cq?a.NC.iconMarkerFill:b?$.Ql(a.dw):a.dw;};Iv=function Iv(a,b){return $.n(b)?(a.TW=b,a):a.TW;};$.Kv=function(){wv.call(this);this.Df=this.Sf=null;this.bc=Jv;this.iE=this.dL=!1;this.IH();$.Q(this.ta,[["text",20,9]]);this.B(4294967295);};Lv=function Lv(a){var b=a.ja();if(b){var c=b.width;var d=b.height;}else c=d=void 0;var e=!!a.vb;if(e){var f=a.vb.qb();var h=f.width;var k=f.height;}var l=null!=a.Sf,m=null!=a.Df;f=a.padding();l?(h=$.zo(a.Sf)&&!$.n(c)?e?h:0:$.M(a.Sf,c),e&&(a.Ig=$.M(f.g("left"),h))):(h=e?h:0,e&&(a.Ig=$.M(f.g("left"),h)),h=f.Ik(h));b&&c<h&&(h=c);m?(k=$.zo(a.Df)&&!$.n(d)?e?k:0:$.M(a.Df,d),e&&(a.Jg=$.M(f.g("top"),k))):(k=e?k:0,e&&(a.Jg=$.M(f.g("top"),k)),k=f.ak(k));b&&d<k&&(k=d);e&&(a.vb.width(h),a.vb.height(k));b=$.Vm(a.af);b.x=c?$.M(b.x,c):0;b.y=d?$.M(b.y,d):0;a.vC=new $.I(b.x,b.y,h,k);};$.Mv=function(a,b){$.n(b)&&(a.ZN=b);};Nv=function Nv(){$.Kv.call(this);this.Fa("defaultLegend.paginator.buttonsSettings");this.b=$.ia;this.Iu(16,!1);this.IH();};Ov=function Ov(a,b){$.n(b)&&a.b!=b&&(a.b=b,a.B(64,1));};$.Pv=function(a,b,c,d){Gu.apply(this,arguments);};Vv=function Vv(){wv.call(this);this.Fa($.yr.paginator);this.ba=this.jc=null;Qv(this,1);this.IC(1);this.j=new Nv();this.j.padding(null);this.j.enabled(!0);$.Mv(this.j,(0,$.pa)(Rv,this));$.L(this.j,Sv,this.j);this.i=new Nv();this.i.padding(null);this.i.enabled(!0);$.Mv(this.i,(0,$.pa)(Rv,this));$.L(this.i,Sv,this.i);var a=this;Ov(this.j,Tv);Ov(this.i,Uv);$.Q(this.ta,[["text",20,9],["orientation",4,9],["layout",4,9,0,function(){"horizontal"==this.g("layout")?(Ov(a.j,Tv),Ov(a.i,Uv)):(Ov(a.j,xca),Ov(a.i,yca));}]]);};Qv=function Qv(a,b){if($.n(b)&&(b=Math.ceil((0,window.isNaN)((0,window.parseFloat)(b))?1:+b),a.P!=b)){if($.n(a.P)){if(0<b)b<a.aa+1&&(a.aa=b-1),a.P=b;else throw Error("incorrect pageCount value!! Should be more than 0");}else a.P=b;a.B(20,9);}};Wv=function Wv(a){return((0,window.isNaN)(a.aa)?"-":String(a.aa+1))+" / "+((0,window.isNaN)(a.P)?"-":String(a.P));};Xv=function Xv(a,b){return $.n(b)?(a.ea!=b&&(a.ea=b,a.B(1,a.kr())),a):a.ea;};Yv=function Yv(a){return a.enabled()?Xv(a):!1;};Zv=function Zv(a,b){var c=a.padding(),d=a.margin(),e=a.ja();if(e){var f=e.width;var h=e.height;}a.K||(a.K={});var k=$.n(b)?b:a.P;var l=k+a.g("layout").substr(0,1);if(a.K[l])k=a.K[l];else{var m=$.tk();m.Bd("aria-hidden","true");a.Zh(m,!0);m.text(k+" / "+k);k=m.qb();$.pd(m);var p=k.height;"horizontal"==a.g("layout")?(m=2*p+20+k.width,k=k.height):(m=Math.max(p,k.width),k=2*p+20+k.height);k=a.K[l]=[m,k];}l=k[0];k=k[1];a.f=c.Ik(l);a.b=c.ak(k);e&&f<a.f&&(a.f=d.Kg(a.f));e&&h<a.b&&(a.b=d.Vh(a.b));c=d.Ik(a.f);l=d.ak(a.b);k=e?$.M(d.g("left"),a.f):0;d=e?$.M(d.g("top"),a.b):0;if(e){switch(a.g("orientation")){case"top":a.D=e.sb()+(f-c)/2+k;a.G=e.Ub()+d;break;case"right":a.D=e.bb()-c+k;a.G=e.Ub()+(h-l)/2+d;break;case"bottom":a.D=e.sb()+(f-c)/2+k;a.G=e.Ta()-l+d;break;case"left":a.D=e.sb()+k,a.G=e.Ub()+(h-l)/2+d;}a.Yb=new $.I(a.D-k,a.G-d,c,l);}else a.D=k,a.G=d,a.Yb=new $.I(0,0,c,l);};$v=function $v(a,b){a.Yb&&!a.J(4)||Zv(a,b);return a.Yb;};Sv=function Sv(a){$.X(a,1)&&this.W();};Rv=function Rv(a){var b=this.IC(),c=this.Z1();switch(a){case this.j:0<b&&this.IC(b-1);break;case this.i:b<c&&this.IC(b+1);break;default:throw Error("Something wrong with onClickListener!");}};Tv=function Tv(a,b){a.moveTo(b.bb(),b.Ub()).lineTo(b.bb(),b.Ta()).lineTo(b.sb(),b.Ub()+b.height/2).close();};Uv=function Uv(a,b){a.moveTo(b.sb(),b.Ub()).lineTo(b.bb(),b.Ub()+b.height/2).lineTo(b.sb(),b.Ta()).close();};xca=function xca(a,b){a.moveTo(b.sb()+b.width/2,b.Ub()).lineTo(b.bb(),b.Ta()).lineTo(b.sb(),b.Ta()).close();};yca=function yca(a,b){a.moveTo(b.sb(),b.Ub()).lineTo(b.bb(),b.Ub()).lineTo(b.sb()+b.width/2,b.Ta()).close();};aw=function aw(){$.Y.call(this);this.Fa($.yr.separator);delete this.na.enabled;this.Rc=null;this.G=this.D=window.NaN;this.Vb=this.Y=this.Yb=null;var a=(0,$.pa)(function(a,c){c=c.clone().round();if(!this.Mb()){var b=1==c.width?.5:0;c.left-=b;c.width+=2*b;}a.moveTo(c.left,c.top).lineTo(c.left+c.width,c.top).lineTo(c.left+c.width,c.top+c.height).lineTo(c.left,c.top+c.height).close();},this);this.bf(a);this.B(4294967295);$.Q(this.ta,[["fill",16,1],["stroke",16,1],["width",20,9],["height",20,9],["orientation",20,9]]);};bw=function bw(a){var b=a.margin(),c=a.ja();if(c){if(a.Mb()){var d=c.width;var e=c.height;}else d=c.height,e=c.width;}else d=e=void 0;var f=a.g("width"),h=a.g("height");h=$.ip(h)||!$.n(h)?"100%":h;f=$.M($.ip(f)||!$.n(f)?"100%":f,d);c&&d<b.Ik(f)&&(f=b.Kg(d));h=$.M(h,e);c&&e<b.ak(h)&&(h=b.Vh(e));var k=b.Ik(f),l=b.ak(h);d=$.M(b.g("left"),d);b=$.M(b.g("top"),e);e=a.g("orientation")||"top";if(c)switch(e){case"top":a.D=c.sb()+d;a.G=c.Ub()+b;a.f=f;a.b=h;a.Yb=new $.I(c.sb(),c.Ub(),k,l);break;case"bottom":a.D=c.sb()+d;a.G=c.Ta()-l+b;a.f=f;a.b=h;a.Yb=new $.I(c.sb(),c.Ta()-l,k,l);break;case"left":a.D=c.sb()+b;a.G=c.Ta()-d-f;a.f=h;a.b=f;a.Yb=new $.I(c.sb(),c.Ub(),l,k);break;case"right":a.D=c.bb()-b-h,a.G=c.Ub()+d,a.f=h,a.b=f,a.Yb=new $.I(c.bb()-l,c.Ub(),l,k);}else a.D=d,a.G=b,a.Mb()?a.Yb=new $.I(0,0,k,l):a.Yb=new $.I(0,0,l,k);};$.cw=function(){$.Y.call(this);delete this.na.enabled;this.Fa($.yr.title);this.P=this.ba=this.ub=this.Ga=null;this.D=this.G=this.b=this.f=window.NaN;this.i=this.Ua=this.Pc=this.Yb=null;this.Ld={};this.Ld.orientation="top";this.Vb=this.Y=null;this.h3=!1;$.Iq(this.ta,20,16,9,1);$.Q(this.ta,[["width",4],["height",4],["align",4],["orientation",4],["rotation",4],["maxLength",20],["text",20]]);};_dw=function dw(a){var b=[a.na];a.Y&&(b=$.Ga(b,_dw(a.Y)));return b;};ew=function ew(a,b){a.ba=0>b?null:b;$.n(a.width())||a.B(4);};$.fw=function(a,b){if($.n(b)){var c=a.g("orientation")!=b;a.Ld.orientation=b;c&&a.B(4);return a;}return a.Ld.orientation;};$.gw=function(a,b){if($.n(b)){var c=null==b?"":String(b);a.aa!=c&&(a.aa=c,a.B(20,9));return a;}return a.aa;};hw=function hw(a){var b=!1;a.ub||(b=!0,a.ub=$.pk(),a.background().O(a.ub),a.jc=a.ub.text(),a.jc.zIndex(.1),a.jc.Bd("aria-hidden","true"),$.tu(a,a.ub));return b;};iw=function iw(a){var b=a.padding(),c=a.margin(),d=a.ja(),e=a.g("orientation"),f=0==a.uA()%180;var h=0==(a.uA()+90)%180;if(d){if(h){var k=d.height;h=d.width;}else k=d.width,h=d.height;}else k=h=void 0;var l=hw(a);if(l||a.J(16))a.Zh(l),a.I(16);a.jc.width(null);a.jc.height(null);a.jc.nc(1,0,0,1,0,0);l=a.jc.qb();var m=a.oh("width")?a.md("width"):a.ba||null;null===m?(a.G=l.width,a.f=b.Ik(a.G)):(a.f=$.M(m,k),a.G=b.Kg(a.f));d&&k<c.Ik(a.f)?(a.f=c.Kg(k),a.G=b.Kg(a.f),a.jc.width(a.G)):null===m||a.jc.width(a.G);a.jc.nc(1,0,0,1,0,0);l=a.jc.qb();k=a.oh("height")?a.md("height"):a.P||null;null===k?(a.D=l.height,a.b=b.ak(a.D)):(a.b=$.M(k,h),a.D=b.Vh(a.b));d&&h<c.ak(a.b)?(a.b=c.Vh(h),a.D=b.Vh(a.b),a.jc.height(a.D)):null===k||a.jc.height(a.D);a.Yb=new $.I(-a.f/2,-a.b/2,a.f,a.b);b=$.Jb($.bb(a.uA()),0,0);var p=$.zb(a.Yb,b);h=$.M(c.g("left"),a.f);k=$.M(c.g("right"),a.f);l=$.M(c.g("top"),a.b);c=$.M(c.g("bottom"),a.b);m=p.width/2;p=p.height/2;var q=h+m,r=l+p,t="top"==e||"bottom"==e;if(d)if(t||f){if(t){switch(a.g("align")){case"left":q=d.sb()+h+m;break;case"right":q=d.bb()-k-m;break;default:q=(d.sb()+d.bb()+h-k)/2;}"top"==e?r=d.Ub()+l+p:"bottom"==e&&(r=d.Ta()-c-p);}else switch("right"==e?q=d.bb()-k-m:"left"==e&&(q=d.sb()+h+m),a.g("align")){case"top":case"left":r=d.Ub()+l+p;break;case"bottom":case"right":r=d.Ta()-c-p;break;default:r=(d.Ub()+d.Ta()+l-c)/2;}}else if("left"==e){switch(a.g("align")){case"top":case"right":r=d.Ub()+k+p;break;case"bottom":case"left":r=d.Ta()-h-p;break;default:r=(d.Ub()+d.Ta()-h+k)/2;}q=d.sb()+l+m;}else{switch(a.g("align")){case"top":case"left":r=d.Ub()+h+p;break;case"bottom":case"right":r=d.Ta()-k-p;break;default:r=(d.Ub()+d.Ta()+h-k)/2;}q=d.bb()-l-m;}d=[q,r,0,0];$.Ib(b).transform(d,0,d,0,2);a.i=b.translate(d[0]-d[2],d[1]-d[3]);a.Yb=$.zb(a.Yb,a.i);a.i.translate(-a.f/2,-a.b/2);"top"==e||"bottom"==e||f?(a.Yb.left-=h,a.Yb.top-=l,a.Yb.width+=h+k,a.Yb.height+=l+c):(a.Yb.left-=l,a.Yb.top-=k,a.Yb.width+=l+c,a.Yb.height+=h+k);};jw=function jw(){$.cw.call(this);};kw=function kw(a){$.nd.call(this);this.fb=a;this.i=this.f=this.j=this.b=this.Hc=null;this.D=this.G="";};lw=function lw(){return $.Oe("DIV",{});};mw=function mw(a){if(!a.b){a.b=lw(a.fb.background());a.b.className="anychart-tooltip";var b=a.fb.title();b=lw(b.background());b.className="anychart-tooltip-title";a.j=b;a.f=$.Oe("HR");a.f.setAttribute("noshade",!0);a.f.className="anychart-tooltip-separator";a.i=$.Oe("DIV");a.b.appendChild(a.j);a.b.appendChild(a.f);a.b.appendChild(a.i);b=a.getContext();a=a.fb.g("onDomReady");$.E(a)&&a.call(b);}};nw=function nw(a){mw(a);var b=$.gw(a.fb.title());if($.n(b)&&a.G!=b){mw(a);a.G=b;b=a.getContext();var c=a.fb.g("onBeforeTitleChange");if($.E(c)?c.call(b):1)a.j.innerHTML=a.G,c=a.fb.g("onTitleChanged"),$.E(c)&&c.call(b);}$.Rf(a.j,a.fb.title().enabled());$.Rf(a.f,a.fb.Wr().enabled());b=a.fb.Oi().text();$.n(b)&&a.D!=b&&(mw(a),a.D=b,b=a.getContext(),c=a.fb.g("onBeforeContentChange"),$.E(c)?c.call(b):1)&&(a.i.innerHTML=a.D,c=a.fb.g("onContentChanged"),$.E(c)&&c.call(b));$.Rf(a.i,a.fb.Oi().enabled());};ow=function ow(){$.nd.call(this);this.j=!1;this.Er=$.Oe("div");this.b=$.id&&!$.dd("9")?$.mk(null,1,1):$.mk();this.b.yx=!0;this.b.O(this.Er);this.b.nta=!0;this.Hc=null;};pw=function pw(a,b,c){$.nd.call(this);this.b=a;this.i=b||0;this.oo=c;this.f=(0,$.pa)(this.vfa,this);};rw=function rw(a,b){$.tf.call(this);this.i=a;this.b=qw(this.i);this.K=b||100;this.j=$.Ld(a,"resize",this.D,!1,this);};sw=function sw(a){$.tf.call(this);this.f=a||window;this.i=$.Ld(this.f,"resize",this.j,!1,this);this.b=$.He(this.f||window);};qw=function qw(a){return a.b?a.b.clone():null;};tw=function tw(){ow.call(this);this.i=new sw();this.f=new rw(this.i);$.Ld(this.f,"resize",this.D,!1,this);};$.yw=function(a){$.Y.call(this);this.Fa($.yr.tooltip);delete this.na.enabled;this.eb=a;this.ga=new $.I(0,0,0,0);this.Y=null;this.j={};this.i=this.f=this.Vb=this.Ba=this.b=null;this.Ya=!1;this.Ha={format:void 0,titleFormat:void 0};uw[String($.oa(this))]=this;$.Iq(this.ta,vw,640,1,1,this.pE);$.Q(this.ta,[["useHtml",vw|2,16385,void 0,this.UK],["width",vw,9],["height",vw,9],["titleFormat",vw,1],["format",vw,1],["unionFormat",vw,1],["valuePrefix",vw,1],["valuePostfix",vw,1],["position",64,1],["anchor",64,1],["offsetX",64,1],["offsetY",64,1],["x",64,1],["y",64,1],["allowLeaveScreen",2,1],["allowLeaveChart",2,1],["allowLeaveStage",2,1],["displayMode",4096,1,ww],["positionMode",64,1,xw],["onDomReady",0,0],["onBeforeTitleChange",0,0],["onTitleChanged",0,0],["onBeforeContentChange",0,0],["onContentChanged",0,0],["hideDelay",0,0,0,this.mL]]);};Aw=function Aw(a,b,c,d,e,f){if(a.enabled()){var h=a.g("allowLeaveStage"),k=a.g("allowLeaveScreen"),l=a.g("allowLeaveChart"),m=a.g("useHtml"),p=zw(a),q=m?0:a.g("offsetX");m=m?0:a.g("offsetY");if(!k){a.x(b);a.y(c);k=p?0:d.x;p=p?0:d.y;d=a.ob();var r=$.He($.ll||window);0>d.left-q+k&&(b-=d.left-q+k);0>d.top-m+p&&(c-=d.top-m+p);d.bb()-q+k>r.width&&(b-=d.bb()-q+k-r.width);d.Ta()-m+p>r.height&&(c-=d.Ta()-m+p-r.height);}h||(a.x(b),a.y(c),d=a.ob(),d.left<q&&(b-=d.left-q),d.top<m&&(c-=d.top-m),d.bb()>e.width+q&&(b-=d.bb()-e.width-q),d.Ta()>e.height+m&&(c-=d.Ta()-e.height-m));l||(a.x(b),a.y(c),d=a.ob(),d.left<f.left+q&&(b-=d.left-q-f.left),d.top<f.top+m&&(c-=d.top-m-f.top),d.bb()>f.bb()+q&&(b-=d.bb()-q-f.bb()),d.Ta()>f.Ta()+m&&(c-=d.Ta()-m-f.Ta()));a.x(b);a.y(c);}};Dw=function Dw(a,b,c,d,e){var f=b.parent()?Bw(b):a,h=f.g("positionMode")||"float";f=f.xa()||$.Cw(a);a=f.ob();var k=f.O().Ia();f=$.ak(k);k=k.qb();var l=zw(b),m=b.g("position");switch(h){case"float":var p=l?c:c-f.x;var q=l?d:d-f.y;break;case"point":var r;e&&e.$h?r=e.$h(m,!0).value:r={x:c,y:d};p=l?r.x+f.x:r.x;q=l?r.y+f.y:r.y;break;case"chart":c=$.Ko(a,m),p=c.x+(l?f.x:0),q=c.y+(l?f.y:0);}Aw(b,p,q,f,k,a);};zca=function zca(a,b,c,d,e,f){if(a.check(ww|xw)&&(a.b=e?e.Sa():a,$.Ew(a,[a.b]),a.b.enabled())){for(var h={clientX:{value:c,type:"number"},clientY:{value:d,type:"number"},formattedValues:{value:[],type:""},points:{value:[],type:""}},k=[],l=0;l<b.length;l++){var m=b[l];if(m){var p=m.series;if(!$.n(p.Pk))return;var q=p.Sa();if(p.enabled()&&!Fw(q,m)){var r=p.Pk();h.formattedValues.value.push(Gw(q,r));h.points.value.push(r);l||(h.x={value:r.kg().Ch(),type:"string"},h.name={value:r.getData("name"),type:"string"});$.A(m.points)&&k.push({series:p,points:(0,$.Wa)(m.points,function(a){p.$().select(a);return p.Pk(!0);})});}}}k.length==b.length&&(h.allPoints={value:k,type:""});h.formattedValues.value.length&&(k=a.b.g("useHtml")?"<br/>":"\n",h.joinedFormattedValues={value:h.formattedValues.value.join(k),type:"string"},f&&$.Uc(h,f),k=e&&e.wc&&e.wc()||b[0]&&b[0].series&&b[0].series.wc&&b[0].series.wc()||void 0,f=[],!e&&b[0]&&b[0].series&&f.push(b[0].series),e&&f.push(e),k&&f.push(k),b=new $.Hw(h),b.Ji(f),e&&b.kg(e.$()),$.rv(b),a.b.Oi().text(Gw(a,b,!0)),$.gw(a.b.title(),Iw(a,b)),$.Ew(a.b),a.b.g("useHtml")&&nw(a.b.i),Jw(a.b).parent()||a.b.B(2),Kw(a,a.b),Dw(a,a.b,c,d,e),Lw(a.b,c,d));}};Fw=function Fw(a,b){return!a.enabled()||b.nearestPointToCursor&&!(0,window.isFinite)(b.nearestPointToCursor.distance);};$.Pw=function(a,b,c,d,e,f,h){if(!a.f||a.f.HA()||!a.f.Dm()||a.check(ww)||b.length){$.Mw(a);var k=a.g("displayMode");if("single"==k)e=b[0],b=e.series,a.b=f?a:b.Sa(),!Fw(a.b,e)&&$.n(b.Pk)&&(f=b.Pk(),h&&($.Uc($.qv(f),h),$.rv(f)),f.clientX=c,f.clientY=d,$.gw(a.b.title(),Iw(a.b,f)),a.b.Oi().text(Gw(a.b,f)),a.b==a?$.Ew(a):(Nw(a),$.Ew(a,[a.b])),((h=a.g("useHtml"))&&!a.b.i.O()||!Jw(a.b).parent())&&a.b.B(2),h&&nw(a.b.i),Kw(a,a.b),Dw(a,a.b,c,d,b),Lw(a.b,c,d));else if("union"==k)zca(a,b,c,d,e,h);else if("separated"==k)for(Nw(a),h=0;h<b.length;h++){k=b[h];f=k.series;if(!$.n(f.Pk))break;e=f.Sa();Fw(e,k)||(k=f.Pk(),k.clientX=c,k.clientY=d,$.gw(e.title(),Iw(e,k)),e.Oi().text(Gw(e,k)),Jw(e).parent()||e.B(2),e.g("useHtml")&&nw(e.i),Kw(a,e),Ow(a,e,c,d,f),Lw(e,c,d));}}};Lw=function Lw(a,b,c){if(a.enabled()){$.Mw(a);Jw(a).parent()||a.B(2);Kw(a,a);a.D&&a.D.sq()&&a.D.stop();a.W();var d=Jw(a),e=d.ia();if(a.g("selectable")&&e){d.Fd(!1);a:{d=a.ob();if(b<d.sb()){if(c<d.Ub()){e=d.bb();var f=d.sb();var h=d.Ub();var k=d.Ta();c-=2;}else c>d.Ta()?(e=d.sb(),f=d.bb(),h=d.Ub(),k=d.Ta(),c+=2):(e=f=d.sb()+2,h=d.Ub(),k=d.Ta(),b-=2);}else if(b>d.bb())c<d.Ub()?(e=d.bb(),f=d.sb(),h=d.Ta(),k=d.Ub(),c-=2):c>d.Ta()?(e=d.sb(),f=d.bb(),h=d.Ta(),k=d.Ub(),c+=2):(e=f=d.bb()-2,h=d.Ub(),k=d.Ta(),b+=2);else if(c<d.Ub())h=k=d.Ub()+2,e=d.bb(),f=d.sb(),c-=2;else if(c>d.Ta())h=k=d.Ta()-2,e=d.sb(),f=d.bb(),c+=2;else break a;a.K=[e,h,f,k,b,c];}$.Zd(window.document,"mousemove",a.RN,!1,a);}else e&&d.Fd(!0);}};$.Qw=function(a,b,c,d){$.Mw(a);a.b=a;d&&(d.clientX=b,d.clientY=c,$.gw(a.title(),Iw(a,d)),a.Oi().text(Gw(a,d)));a.g("useHtml")&&!a.b.i.O()&&a.b.B(2);Kw(a,a);Dw(a,a,b,c);Lw(a,b,c);};Iw=function Iw(a,b){$.qv(b).titleText={value:a.ib.g("text"),type:"string"};$.rv(b);var c=a.g("titleFormat");$.z(c)&&(c=$.Pu($.Nu.Gd(),c));return c.call(b,b);};Gw=function Gw(a,b,c){$.qv(b).valuePrefix={value:a.g("valuePrefix")||"",type:"string"};$.qv(b).valuePostfix={value:a.g("valuePostfix")||"",type:"string"};$.rv(b);c=c?a.g("unionFormat"):a.g("format");$.z(c)&&(c=$.Pu($.Nu.Gd(),c));a=a.g("maxLength");b=c.call(b,b);return b=Fu(b,a);};Nw=function Nw(a,b,c){if(b)return a.D&&a.D.stop(),a.remove(),!0;if(a.g("selectable")&&c){b=c.originalEvent.clientX;c=c.originalEvent.clientY;var d=a.ob().Nf(new $.gb(b,c)),e=Jw(a).ia();if(e&&!d)return $.Ld(e,"mouseleave",a.$M,!1,a),a.K=null,!1;if(Rw(a,b,c))return $.Ld(window.document,"mousemove",a.RN,!1,a),e&&($.Ld(Jw(a).ia(),"mouseenter",a.pY,!1,a),$.Ld(Jw(a).ia(),"mouseleave",a.qY,!1,a)),!1;a.K=null;}if(a.g("hideDelay"))return a.mL(),a.D.sq()||a.D.start(),!1;a.remove();return!0;};$.Mw=function(a){var b=a.Yj();a.title().Yj(b);a.Wr().Yj(b);a.background().Yj(b);a.padding().Yj(b);};Jw=function Jw(a){if(!a.Na){a.Na=$.pk();$.tu(a,a.Na);var b=a.background(),c=a.title(),d=a.Wr(),e=a.Oi();b.O(a.Na);c.O(a.Na);d.O(a.Na);e.O(a.Na);}return a.Na;};$.Cw=function(a,b){return $.n(b)?(a.Ba=b,a):a.Ba;};zw=function zw(a){return Aca&&a.g("allowLeaveStage")&&a.g("allowLeaveChart");};$.Ew=function(a,b){b=b||[];for(var c in a.j)(0,$.Sw)(b,function(a){return String($.oa(a))==c;})||a.j[c].Ic(!0);};Tw=function Tw(a){if(a.g("useHtml"))a.P=a.i.qb();else if(!a.P){$.V(a.Oi());a.Zh();a.Oi().da(!1);var b=a.g("width"),c=a.g("height"),d=(a.oa||$.Cw(a)).ob();b=$.M(b,d.width);c=$.M(c,d.height);d=!(0,window.isNaN)(b);var e=!(0,window.isNaN)(c),f=new $.I(0,0,0,0),h=null,k=null,l=a.title(),m=a.Wr(),p=a.Oi();$.V(l);$.V(m);$.V(p);if(!d||!e){if(l.enabled()){"svg"==$.lk?l.ja(null):l.ja(a.oa&&a.oa.O()?a.oa.O().Ia().qb():null);var q=l.g("width");var r=null!=l.md("width");var t=l.g("height");var u=null!=l.md("height");$.zo(q)&&(h=q,d?(q=a.padding().Kg(b),l.width(q)):l.width(null));$.zo(t)&&(k=t,e?(q=a.padding().Vh(c),l.height(q)):l.height(null));t=l.vi();f.width=b||Math.max(f.width,t.width);r?l.width(h):delete l.Oa.width;u?l.height(k):delete l.Oa.height;k=h=null;e||(f.height+=t.height);}if(p.enabled()){var v=(r=a.Y?a.Y.Oi():null)?r.width():void 0;r=r?r.height():void 0;p.ja(null);v=p.width()||v;r=p.height()||r;$.zo(v)&&(h=v,d?(q=a.padding().Kg(b),p.width(q)):p.width(null));$.zo(r)&&(k=r,e?(q=a.padding().Vh(c),p.height(q)):p.height(null));v=p.vi();f.width=b||Math.max(f.width,v.width);h&&p.width(h);k&&p.height(k);e||(f.height+=v.height);}l.enabled()&&l.ja(new $.I(0,0,f.width,t.height));p.enabled()&&p.ja(new $.I(0,0,f.width,v.height));m.enabled()&&(m.ja(l.enabled()||p.enabled()?f:null),t=m.vi(),f.width=b||Math.max(f.width,t.width),e||(f.height+=t.height));}f=a.padding().GY(f);d&&(f.width=b);e&&(f.height=c);f.left=0;f.top=0;a.P=f;l.da(!1);m.da(!1);p.da(!1);}};Uw=function Uw(a){Tw(a);if(!a.G){var b=a.g("anchor"),c=a.g("useHtml"),d=c?0:a.g("offsetX"),e=c?0:a.g("offsetY");c=c?$.Wf(a.i.Xa(),"margin"):new $.kb(0,0,0,0);var f=a.g("x"),h=a.g("y");f=new $.gb(f,h);$.cp(f,b,d+c.left,e+c.top);b=$.Ko(a.P,b);f.x-=b.x;f.y-=b.y;a.G=f;}};Ow=function Ow(a,b,c,d,e){var f=c,h=d,k=a.g("positionMode")||"float",l=a.g("displayMode"),m=(a.xa()||$.Cw(a)).ob(),p=a.Ba.O().Ia(),q=p.qb();p=$.ak(p);var r=zw(b);"float"==k?(f=r?c:c-p.x,h=r?d:d-p.y):"point"==k?(a="union"==l?a.g("position"):b.g("position"),a=e.$h(a,!0).value,f=r?a.x+p.x:a.x,h=r?a.y+p.y:a.y):"chart"==k&&(f=a.xa().ob(),a="union"==l?a.g("position"):b.g("position"),a=$.Ko(f,a),f=a.x+(r?p.x:0),h=a.y+(r?p.y:0));Aw(b,f,h,p,q,m);};Vw=function Vw(a){var b=null;$.Cw(a)?b=$.Cw(a).O():a.xa()?b=a.xa().O():a.parent()&&(a=Bw(a),$.Cw(a)?b=$.Cw(a).O():a.xa()&&(b=a.xa().O()));return b;};Bw=function Bw(a){for(;a.parent();)a=a.parent();return a;};Kw=function Kw(a,b){if(b.J(2))if(zw(b)||"vml"==$.lk){if(b.g("useHtml"))b.i.O($.Pp.body);else{var c=tw.Gd();a.f&&a.f.HA()&&b.f.O(null);b.f=c;b.f.O(window.document.body);b.O(c.b);Jw(b).parent(b.O());}b.I(2);}else if(c=Vw(b)){var d=c.Ia().Pl();if(b.g("useHtml"))b.i.O(d);else{var e=Ww(b);c=Xw[e];c||(c=new ow(),Xw[e]=c);b.f=c;Jw(b).parent(b.O());c.O(d);b.O(c.b);}b.I(2);}};Rw=function Rw(a,b,c){if(!a.K)return!1;var d=a.K[0],e=a.K[1],f=a.K[2],h=a.K[3],k=a.K[4],l=a.K[5];a=$.fn(f,h,k,l,b,c);k=$.fn(k,l,d,e,b,c);return $.fn(d,e,f,h,b,c)==a&&a==k;};Ww=function Ww(a){a=Vw(a).Ia();return"stg"+$.oa(a);};$.Yw=function(){wv.call(this);this.Fa($.yr.legend);this.ba=this.Sb=null;this.Ha=window.NaN;this.Ja=!0;this.B(4294967295);$.uu(this,this,null,null,null,null,this.maa,null);$.Q(this.ta,[["inverted",16,1],["itemsLayout",4,9],["iconSize",4,9,0,function(){if(null!=this.Sb)for(var a=0,b=this.Sb.length;a<b;a++)this.Sb[a].hw(this.g("iconSize"));}],["width",68,9],["height",68,9],["maxWidth",68,9],["maxHeight",68,9],["position",0,0,0,function(){this.PL=!1;this.B(4,9);}],["positionMode",0,0,0,function(){this.PL=!1;this.g("drag")?this.B(2048,9):this.va(8);}],["align",4,9,0,function(){this.PL=!1;}],["drag",2048,1],["itemsFormat",1040,1],["titleFormat",132,9],["itemsSpacing",4,9],["itemsHAlign",16,1],["itemsSourceMode",1040,1],["hoverCursor",16,1,0,function(){if(null!=this.Sb)for(var a=0,b=this.Sb.length;a<b;a++)this.Sb[a].XU(this.M2);}],["iconTextSpacing",4,9,0,function(){if(null!=this.Sb)for(var a=0,b=this.Sb.length;a<b;a++)this.Sb[a].iconTextSpacing(this.g("iconTextSpacing"));}]]);};Zw=function Zw(a,b){if(!a.f||!b||a.f.length!=b.length)return!1;for(var c=0;c<b.length;c++)if(a.f[c]!=b[c])return!1;return!0;};$w=function $w(a,b){var c=a.Sa();if(c.enabled()){var d=b.itemIndex,e=a.Sb[d];e&&b&&(d={value:{value:e.g("text"),type:"string"},iconType:{value:e.g("iconType"),type:"string"},iconStroke:{value:e.g("iconStroke"),type:""},iconFill:{value:e.g("iconFill"),type:""},iconHatchFill:{value:e.g("iconHatchFill"),type:""},iconMarkerType:{value:e.fw(),type:"string"},iconMarkerStroke:{value:e.fu(),type:""},iconMarkerFill:{value:e.eu(),type:""},meta:{value:a.Tb[d],type:""}},d=new $.Hw(d),$.Qw(c,b.clientX,b.clientY,$.rv(d)));}};Bca=function Bca(a,b,c){if(null==a.Sb)return $.nn(0,0,0,0);for(var d=0,e,f=-Number.MAX_VALUE,h=0,k,l=-Number.MAX_VALUE,m=0,p=0,q=1,r=0,t=0,u=1,v=0,w=0,x=a.g("itemsLayout"),y=a.g("itemsSpacing"),B=0,G=a.Sb.length;B<G;B++)B in a.G||(k=a.Sb[B].ob(),e=k.width,d+=e+y,f=Math.max(f,e),k=k.height,h+=k+y,l=Math.max(l,k),"horizontal-expandable"==x?p+e>b?(v=Math.max(v,p),w+=m,q++,p=e+y,m=k+y):(p+=e+y,m=Math.max(m,k+y)):"vertical-expandable"==x&&(r+k>c?(w=Math.max(w,r),v+=t,u++,t=e+y,r=k+y):(r+=k+y,t=Math.max(t,e+y))));!d||0>f?f=d=0:d-=y;!h||0>l?l=h=0:h-=y;a.oe=u;return"vertical"==x?$.nn(0,0,Math.max(0,f),Math.max(0,h)):"horizontal"==x?$.nn(0,0,Math.max(0,d),Math.max(0,l)):"vertical-expandable"==x?(w=Math.max(w,r)-y,$.nn(0,0,Math.max(0,v+(t-y)),Math.max(0,w))):"horizontal-expandable"==x?(v=Math.max(v,p)-y,$.nn(0,0,Math.max(0,v),Math.max(0,w+(m-y)))):$.nn(0,0,0,0);};Cca=function Cca(a){if($.A(a.Ba))return a.Ba;if(null!=a.f){for(var b,c=[],d=0;d<a.f.length;d++)if(b=a.f[d],null!==b&&$.E(b.Kl)){var e=a.g("itemsFormat");$.z(e)&&(e=$.Pu($.Nu.Gd(),e));c=$.Ga(c,b.Kl(a.g("itemsSourceMode"),e));}return c;}return[];};Dca=function Dca(a,b){if(!$.A(b))return[];for(var c=[],d,e=a.ce(),f=0;f<b.length;f++)(0,window.isNaN)(b[f].iconSize)&&(b[f].iconSize=a.g("iconSize")),d={iconTextSpacing:a.g("iconTextSpacing"),iconSize:a.g("iconSize"),hoverCursor:a.g("hoverCursor")},$.Uc(d,e,b[f]),c.push(d);return c;};Eca=function Eca(a,b){a.Sb||(a.j=[],a.Sb=[]);var c;a.G={};if(!a.Ja&&a.Sb){var d=0;for(c=b.length;d<c;d++){$.n(b[d].enabled)&&!b[d].enabled&&(a.G[d]=!0);for(var e=0;e<a.Sb.length;e++){var f=a.Sb[e];var h=f.lJ(),k=f.Ii();if($.n(h)&&$.n(k)&&h==b[d].sourceUid&&k==b[d].sourceKey){f.clear();f.N(b[d]);Gv(f,f.ya,void 0);e=a.g("inverted")?b.length-1-d:d;f.ub.tag={index:e};break;}}}}else if(b&&0<b.length)for($.ax(a),a.Tb=[],d=0;d<b.length;d++){$.n(b[d].enabled)&&!b[d].enabled&&(a.G[d]=!0);a:{f=a;c=b[d];e=0;for(h=f.j.length;e<h;e++)if(k=f.j[e],k.tja==c.sourceUid&&k.sja==c.sourceKey){$.Ca(f.j,e,1);f=k;break a;}(c=f.j.pop())||(c=new Cv(),c.Fa(f.na,"defaultFontSettings"));f=c;}f.O(a.ba);b[d].enabled=!1;f.N(b[d]);f.oh("text")||(f.Oa.text="Legend Item");f.Zh(f.Ph(),!0);c=a.g("inverted")?b.length-1-d:d;f.ub.tag={index:c};a.Sb.push(f);a.Tb.push(b[d].meta?b[d].meta:{});}else $.ax(a);for(d=0;d<a.Sb.length;d++)f=a.Sb[d],e=f.ce(),h=Fp(e),e=Iv(f),e||(e=a.P.Tx(),a.D.appendChild(e),Iv(f,e)),e.style.cssText=h,e.textContent=f.text();c=a.P.Tx();a.D.appendChild(c);e=a.iO().ce();h=Fp(e);c.style.cssText=h;for(d=0;d<a.Sb.length;d++)f=a.Sb[d],e=Iv(f),e=e.getBBox(),e=new $.I(e.x,e.y,e.width,e.height),$.n(e)&&(f.SW=e);d=a.K;$.n(c)&&!d.ba&&(d.ba=c);a.Ja=!1;a.B(4);};$.ax=function(a){for(var b=0,c=a.Sb.length;b<c;b++)a.j.push(a.Sb[b].clear());a.Sb.length=0;};Fca=function Fca(a){if(null!=a.Ha&&!(0,window.isNaN)(a.Ha)&&(a=a.b[a.Ha]))for(var b=0;b<a.length;b++)a[b].enabled(!1).W();};bx=function bx(a,b,c,d){a.B(4);$.V(a).ja(d).x(b).y(c).enabled(!0).da(!1).W();};Gca=function Gca(a,b,c){if(null!=a.Sb){a.ba.nc(1,0,0,1,0,0);var d=a.b[b],e=a.g("itemsLayout");if(d)switch(e){case"horizontal":switch(a.g("itemsHAlign")){case"left":case"start":e=0;for(var f=a.g("itemsSpacing"),h=0;h<d.length;h++){var k=d[h];bx(k,e,0,c);e+=k.ob().yd()+f;}break;case"right":case"end":e=a.g("itemsSpacing");f=c.width;for(h=d.length-1;0<=h;h--)k=d[h],f-=k.ob().yd()+e,bx(k,f,0,c);break;case"center":e=a.g("itemsSpacing");for(f=h=0;f<d.length;f++)h+=d[f].ob().yd()+e;k=(c.width-(h-e))/2;for(f=0;f<d.length;f++)h=d[f],bx(h,k,0,c),k+=h.ob().yd()+e;}break;case"vertical":e=0;f=a.g("itemsSpacing");for(h=0;h<d.length;h++)k=d[h],bx(k,0,e,c),e+=k.ob().pd()+f;break;case"horizontal-expandable":h=f=e=0;k=a.g("itemsSpacing");for(var l=0;l<d.length;l++){var m=d[l],p=m.ob();e+p.yd()>c.width&&(f+=h,h=e=0);bx(m,e,f,c);e+=m.ob().yd()+k;h=Math.max(h,p.pd()+k);}break;case"vertical-expandable":for(h=f=e=0,k=a.g("itemsSpacing"),l=0;l<d.length;l++)m=d[l],p=m.ob(),f+p.pd()>c.height&&(e+=h,h=f=0),bx(m,e,f,c),f+=m.ob().pd()+k,h=Math.max(h,p.yd()+k);}if((c=$.Ar(a,"title"))&&c.enabled()&&(c=c.g("orientation")||$.fw(c),"top"!=c&&"bottom"!=c)){d=c=0;if(e=a.Ma.Qd)c=e.Md,d=e.Hd;e=a.ib.vi();e.top+=d;e.left+=c;}}a.Ha=b;};cx=function cx(a,b){var c=$.N(b.itemIndex);if((0,window.isNaN)(c))return null;var d=b.type;switch(d){case"mouseout":d="legenditemmouseout";break;case"mouseover":d="legenditemmouseover";break;case"mousemove":d="legenditemmousemove";break;case"mousedown":d="legenditemmousedown";break;case"mouseup":d="legenditemmouseup";break;case"click":d="legenditemclick";break;case"dblclick":d="legenditemdblclick";break;default:return null;}c=a.g("inverted")?a.Sb.length-1-c:c;var e=null,f=window.NaN,h=a.Sb[c];if(h&&a.f)for(var k=0;k<a.f.length;k++){var l=a.f[k];if($.oa(l)==h.lJ()&&$.E(l.Js)&&l.Js(a.g("itemsSourceMode"))){e=l;f=h.Ii();break;}}return{type:d,itemIndex:c,itemSource:e,itemIndexInSource:f,target:a,originalEvent:b};};dx=function dx(){$.Yw.call(this);};$.ex=function(){$.U.call(this);$.Q(this.ta,[["enabled",0,2],["duration",0,2]]);};fx=function fx(a){$.U.call(this);this.xa=a;this.Rs=null;$.Q(this.ta,[["enabled",0,10],["titleFormat",0,2]]);};gx=function gx(a,b){return $.n(b)?(a.Rs!=b&&(a.Rs&&$.or(a.Rs,a.JW,a),a.Rs=b,$.L(a.Rs,a.JW,a)),a):a.Rs;};hx=function hx(a){fx.call(this,a);this.lE=null;$.Q(this.ta,[["mode",0,2]]);};ix=function ix(a){fx.call(this,a.wc());this.Ra=a;this.b=null;};$.jx=function(a){$.U.call(this);this.Y=a;this.ta={};$.Q(this.ta,[["spotRadius",0,0],["multiSelectOnClick",0,0],["unselectOnClickOutOfPoint",0,0],["hoverMode",0,2],["selectionMode",0,0],["zoomOnMouseWheel",0,0],["scrollOnMouseWheel",0,0]]);};$.kx=function(a){this.target=a;this.f=[];this.b=[];this.Dc=$.hm;};$.nx=function(a,b,c,d,e){if((0,window.isNaN)(c))return e;var f=$.Na(a.f,c);if(b==$.hm)0<f&&(e=$.lx(a,b,f,e));else{var h=!0,k=$.mx(a,window.NaN);0>f?($.Da(a.f,c,~f),$.Da(a.b,b,~f)):(h=!(a.b[f]&b))?a.b[f]|=b:$.n(d)&&(a.b[f]=d);a.target.enabled()&&a.target.$().select(c)&&(a.target.eh()||"single"!=a.target.Tl()||(k?a.target.ll(b):$.n(d)&&!k&&$.mx(a,window.NaN)&&a.target.ll(d)),h?e=a.target.mk(b,e):$.n(d)&&(e=a.target.mk(d,e)));}return e;};$.mx=function(a,b){if($.n(b)){if((0,window.isNaN)(b))return!$.ox(a,$.Bo)&&!(a.Dc&$.Bo);var c=$.px(a,+b);}else c=a.Dc;return!(c&$.Bo);};qx=function qx(a,b,c,d){if(!a.target.$().select(c))return d;var e=$.Na(a.f,c);b!=$.hm&&(0>e?($.Da(a.f,c,~e),$.Da(a.b,b,~e),a.Dc==$.hm&&(d=a.target.mk(b,d)),$.mx(a,window.NaN)&&!a.target.eh()&&"single"==a.target.Tl()&&a.target.ll(b)):a.b[e]|=b);return d;};$.sx=function(a,b){var c=$.Ao,d;if($.n(b)){if(!(b>=a.target.$().Jb())){var e=a.target.nq();if($.A(b))for($.Pa(b),d=b.length;d--;)e=qx(a,c,+b[d],e);else e=qx(a,c,+b,e);a.target.sm(e);}}else if(a.Dc&c){if(c==$.Ao){for(d=a.b.length;d--;)$.rx(a,c,d)&&($.Ca(a.b,d,1),$.Ca(a.f,d,1));a.Dc=$.hm;}else c==$.Bo&&(a.b.length=0,a.f.length=0,a.Dc=$.hm);}else{for(d=a.b.length;d--;)$.rx(a,c,d)&&($.Ca(a.b,d,1),$.Ca(a.f,d,1));a.Dc=c;}};$.rx=function(a,b,c){return!(a.b[c]&=~b);};$.lx=function(a,b,c,d){var e=a.f[c];$.rx(a,b,c)?($.Ca(a.f,c,1),$.Ca(a.b,c,1),a.target.enabled()&&a.target.$().select(e)&&a.Dc==$.hm&&(d=a.target.mk($.hm,d))):a.target.enabled()&&a.target.$().select(e)&&a.Dc==$.hm&&(d=a.target.mk(a.b[c],d));return d;};$.tx=function(a,b,c,d){if((0,window.isNaN)(c))return d;c=$.Na(a.f,c);0<=c&&(d=$.lx(a,b,c,d));return d;};$.ux=function(a,b){for(var c=[],d=0,e=a.b.length;d<e;d++)b&a.b[d]&&c.push(a.f[d]);return c;};$.px=function(a,b){var c=+b;return(0,window.isNaN)(c)?$.hm:(c=$.Na(a.f,c),0<=c?a.b[c]:$.hm);};$.vx=function(a,b,c){c=$.Na(a.f,c);return!!(b&a.b[c]);};$.ox=function(a,b){return 0<=$.wa(a.b,function(a){return!!(a&b);});};$.fm=function(a){return Math.min(a&($.Ao|$.Bo),$.Bo);};$.wx=function(){$.V(this);$.Y.call(this);this.Fa("chart");this.Ua=this.ib=this.Pc=this.cP=this.Ga=this.Ma=null;this.qv=[];this.Hx=!0;this.il=this.aL=this.dv=null;this.JR=!1;this.Jh=this.li=0;this.hn={};this.om=null;this.yx=!1;this.Fn=this.Qs=this.Gs=null;this.fB=!1;this.fe=null;this.B(4294967295);$.Q(this.ta,[["selectRectangleMarqueeFill",0,0,0,function(){this.eN()&&this.Fn.fill(this.g("selectRectangleMarqueeFill"));}],["selectRectangleMarqueeStroke",0,0,0,function(){this.eN()&&this.Fn.stroke(this.g("selectRectangleMarqueeStroke"));}]]);this.da(!1);};Hca=function Hca(a){switch(a.La().toLowerCase()){case"map":return"map";case"gantt-resource":case"gantt-project":return"gantt";case"circular-gauge":case"linear-gauge":case"thermometer":case"tank":case"led":return"gauge";default:return"chart";}};$.xx=function(a,b){b?(a.Qs||(a.Qs=$.nk(0,0,0,0),a.Qs.zIndex(1E4)),a.Qs.Fd(!1),a.Qs.cursor("wait"),a.Qs.fill($.cm),a.Qs.stroke(null),a.Qs.Kf(a.ob()),a.Qs.parent(a.O())):a.Qs&&a.Qs.remove();};$.zx=function(a,b,c,d,e,f,h,k,l,m){if(!a.Ma)return!1;yx(a);a.lN=!!m;a.rV=!1;a.Gs=e?$.Ga(e):[a.Yf()];a.V2=!1;a.wV=b;a.uV=c;a.vV=d;a.X2=!!h;a.Fn||(a.Fn=$.nk(0,0,0,0),a.Fn.zIndex(10001),a.Fn.Fd(!0));a.Fn.stroke(k||"3 red");a.Fn.fill(l||"red 0.5");b=a.Ma;a.tV=b;a.sV=f||null;a.ju=new pf(a);a.sV&&(a.ju.ua(b,"mouseover",a.mN,!0),a.ju.ua(window.document,"mousemove",a.mN,!0),a.ju.ua(window.document,"touchmove",a.mN,!0),a.ju.ua(b,"mouseout",a.mN,!0));a.ju.ua(b,"touchstart",a.W2,!0);a.ju.ua(b,"mousedown",a.W2,!0);return!0;};yx=function yx(a){a.Gs&&(a.lN=!1,a.X2=!1,a.rV=!1,a.V2&&$.xx(a,!1),a.V2=!1,a.wV=a.uV=a.vV=null,a.Fn&&a.Fn.parent(null),a.sV=null,$.ud(a.Fy,a.ju),a.Gs=a.Fy=a.ju=null,a.tV.cursor(null),a.tV=null);};Ax=function Ax(a,b,c){if(a.Gs&&a.O()){var d=$.ak(a.O().Ia());b-=d.x;c-=d.y;for(d=0;d<a.Gs.length;d++){var e=a.Gs[d];if(e&&e.left<b&&b<e.left+e.width&&e.top<c&&c<e.top+e.height)return d+1;}}return 0;};Bx=function Bx(a){$.cg.call(this,a.ia());$.Zd(this.D,["touchstart","mousedown"],this.kk,!1,this);};$.Cx=function(a){var b=a.f2(),c={},d=0,e=1<b.length;e&&(c["#"]=d++);var f;for(f=0;f<b.length;f++)d=b[f].nO(c,d);var h=[];for(k in c)h[c[k]]=k;var k=[];for(f=0;f<b.length;f++)for(var l=b[f],m=0,p=l.Jb();m<p;m++){var q=Array(d);a.PW(q,l.Cn(m),c);e&&(q[0]=f);k.push(q);}return{headers:h,data:k};};Ica=function Ica(a,b,c,d){return($.J(b,$.Dx)?b.name():"series"+String(c))+(1<d?" ("+a+")":"");};$.Ex=function(){this.zi=null;$.wx.call(this);this.uP()&&$.uu(this,this,this.Cf,this.gg,null,this.Cf,null,this.Tj);};Fx=function Fx(a,b){var c=a.$f();$.V(c);!c.O()&&c.enabled()&&c.O(a.Ma);c.ja(b);c.KA()||c.KA(a);c.da(!1);c.B(16);a.J(512)&&c.B(1024);c.W();c=c.xd();$.nb(a.Yga,c)||$.nb(b,c)||(a.Yga=c,a.B(4));a.I(512);};$.Gx=function(){$.tf.call(this);this.state=this.eL=this.Jj=null;};$.Hx=function(a,b){$.tf.call(this);this.Cd=a;var c=$.bf(this.Cd)?this.Cd:this.Cd?this.Cd.body:null;this.D=!!c&&$.Sf(c);this.f=$.Ld(this.Cd,$.hd?"DOMMouseScroll":"mousewheel",this,b);};Ix=function Ix(a){return $.wd&&($.zd||Jca)&&0!=a%40?a:a/40;};Jx=function Jx(a,b,c,d){$.Ad.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d;};$.Kx=function(a){$.U.call(this);this.Ga=this.Ua=this.Y=this.Vb=this.b=null;$.oa(this);this.f=0;$.Q(this.ta,[["format",0,8,0,this.Ug],["maxLength",0,8,0,this.Ug],["adjustFontSize",0,0],["fontVariant",0,8,0,this.Ug],["letterSpacing",0,8,0,this.Ug],["textDirection",0,0],["textIndent",0,8,0,this.Ug],["textOverflow",0,1,0,this.Ug],["useHtml",0,8,0,this.Ug],["wordBreak",0,8,0,this.Ug],["wordWrap",0,8,0,this.Ug],["fontColor",0,1,0,this.Ug],["fontDecoration",0,8,0,this.Ug],["fontFamily",0,8,0,this.Ug],["fontOpacity",0,1,0,this.Ug],["fontSize",0,8,0,this.Ug],["fontStyle",0,8,0,this.Ug],["fontWeight",0,8,0,this.Ug],["hAlign",0,8,0,this.Ug],["lineHeight",0,8,0,this.Ug],["maxFontSize",0,0],["minFontSize",0,0],["vAlign",0,1,0,this.Ug],["textShadow",0,1,0,this.Ug],["anchor",0,1,0,this.Ug],["height",0,8,0,this.Ug],["offsetX",0,2,0],["offsetY",0,2,0],["position",0,3,0,this.Ug],["rotation",0,8,0,this.Ug],["width",0,8,0,this.Ug],["allowMultiline",0,8,0,this.Ug],["zIndex",0,0],["clip",0,0],["enabled",0,32768,0,this.Ug],["selectable",0,1,0,this.Ug],["disablePointerEvents",0,1,0,this.Ug],["autoRotate",0,1,0,this.Ug]]);a||this.Fa("defaultSimpleLabelsSettings");};$.Lx=function(){this.P=$.ng();this.jc="";this.f={};this.aa=11;this.eo={style:!1,text:!1,BC:!1};this.O=null;this.b=[];this.i=[];this.Za=this.ba=this.ea=this.ma=!1;this.G=this.K=null;this.Ha=this.eb=0;this.Ja=null;this.Ba="";};$.Nx=function(a){a.eo.BC=!1;for(var b=0;b<a.i.length;b++){var c=a.i[b];if(c)for(var d=0;d<c.length;d++)c[d].kd();c.length=0;}a.i.length=0;a.K&&(a.K.kd(),a.K=null);a.G&&(a.G.kd(),a.G=null);Mx(a);a.ma=!1;a.ea=!1;a.ba=!1;};Mx=function Mx(a,b){var c,d;if(b){for(c=0;c<a.b.length;c++)(d=a.b[c])&&d.kd();a.b.length=0;}else for(c=a.b.length-1;0<=c;c--)if(d=a.b[c])d.eo.text?(d.kd(),--a.b.length):d.style(a.f);};$.Px=function(a){a.eo.BC||(a.eo.BC=!0,a.f.useHtml?$.Wc()?Lh(a):a.Za=!0:Ox(a));};Qx=function Qx(a){a.D||(a.D=Gi("foreignObject"),a.Ya=$.Oe("div"),a.Ya.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),a.D.appendChild(a.Ya));a.Ya.innerHTML=a.jc||"";};Ox=function Ox(a){a.Za=!1;var b=a.jc.split(/\n/g),c=a.f.width,d=a.f.wordBreak,e=a.f.wordWrap;if(d&&null!=c){if("break-all"==d){if(a.ea=!0,!a.i.length)for(e=0;e<b.length;e++){c=b[e];d=[];for(var f="",h=0;h<c.length;h++)f+=c[h],d.push(Rx(a,f));a.i.push(d);}}else if(a.ma=!0,!a.i.length)for(a.K=Rx(a,"W W",a.K),a.G=Rx(a,"W",a.G),c=0;c<b.length;c++){d=b[c];e=d.split(" ");f="";d=[];for(h=0;h<e.length;h++)f+=e[h],d.push(Rx(a,f)),f+=h==e.length-1?"":" ";a.i.push(d);}Mx(a,!0);}else if(null==e&&1<b.length){a.ba=!0;for(c=0;c<b.length;c++)d=b[c],a.b[c]?Rx(a,d,a.b[c]):a.b.push(Rx(a,d));for(;c<a.b.length;c++)a.b[c].kd();a.b.length=b.length;}};$.Tx=function(a){if(a.Za)$.Nx(a),Mx(a,!0),$.Ye(a.Td());else if(a.eo.BC){a.eo.BC=!1;var b;a.D&&($.Ye(a.D),a.D=null,a.Ya=null);if(a.ma||a.ea){for(b=0;b<a.b.length;b++){var c=a.b[b];c.Ij();$.Sx(c,a.O);}a.ia&&($.Ye(a.ia),a.O=null);}else if(a.ba){for(b=0;b<a.b.length;b++)c=a.b[b],c.Ij(),$.Sx(c,a.O);a.ia&&($.Ye(a.ia),a.O=null);}}};Rx=function Rx(a,b,c){c=c||new $.Lx();c.style(a.f);c.text(b);c.Ij();return c;};$.Ux=function(a){if(a.j){for(var b=0;b<a.b.length;b++)$.Ux(a.b[b]);b=a.j.tn;a.Ja&&b&&(b.jX(a.rb),$.Pc(b.pu,a.Ja),$.Ye($.Ce(window.document,a.Ja)),a.Ja=null);}};Vx=function Vx(a,b){if(a.j){var c=a.Td();if(a.f.textOverflow){$.Ux(a);a.rb=$.Ii(a.j.tn,Gp(1,a.f.fontOpacity,a.f.fontColor||"black"),void 0,void 0,b);var d="url("+Ki()+"#";a.Ja=Ji(a.P,a.rb,a.j.tn,b);c.setAttribute("fill",d+a.Ja+")");}else c.setAttribute("fill",a.f.fontColor);}};$.Sx=function(a,b,c){if(a.Za)a.O!=b&&((a.O=b)?(Qx(a),b.appendChild(a.D)):a.D&&$.Ye(a.D));else{var d,e;if(a.ma||a.ea){var f=xl($.vl);a.O=b;a.G&&$.Sx(a.G,f);a.K&&$.Sx(a.K,f);for(d=0;d<a.i.length;d++)if(e=a.i[d])for(var h=0;h<e.length;h++)$.Sx(e[h],f,c);for(d=0;d<a.b.length;d++)(e=a.b[d])&&$.Sx(e,b,c);}else if(a.ba)for(a.O=b,d=0;d<a.b.length;d++)(e=a.b[d])&&$.Sx(e,b,c);else a.O!=b&&(a.O=b,a=a.Td(),b?b.appendChild(a):$.Ye(a));}};$.ay=function(a,b,c){$.n(c)&&(a.j=c);if(a.Za){Qx(a);a.D.setAttribute("x",b.left);a.D.setAttribute("y",b.top);a.D.setAttribute("width",b.width);a.D.setAttribute("height",b.height);c=b.width;b=b.height;var d=a.f,e="display: table-cell; ";"fontStyle"in d&&(e+="font-style: "+d.fontStyle+"; ");"fontVariant"in d&&(e+="font-variant: "+d.fontVariant+"; ");"fontFamily"in d&&(e+="font-family: "+d.fontFamily+"; ");if("fontSize"in d){var f=(0,window.parseFloat)(d.fontSize);f=(0,window.isNaN)(f)?13:f;e+="font-size: "+f+"px; ";}"fontWeight"in d&&(e+="font-weight: "+d.fontWeight+"; ");"letterSpacing"in d&&(e+="letter-spacing: "+d.letterSpacing+"; ");"fontDecoration"in d&&(e+="text-decoration: "+d.fontDecoration+"; ");"fontColor"in d&&(e+="color: "+d.fontColor+"; ");"vAlign"in d&&(e+="vertical-align: "+d.vAlign+"; ");"hAlign"in d&&(e+="text-align: "+d.hAlign+"; ");"wordBreak"in d&&d.wordBreak&&(e+="word-break: "+d.wordBreak+"; ");"textShadow"in d&&"none"!=d.textShadow&&(e+="text-shadow: "+d.textShadow+"; ");a.Ya.setAttribute("style",e+("width: "+c+"px; height: "+b+"px; max-width: "+c+"px; max-height: "+b+"px;"));}else if(!a.f.textOverflow||a.f.textOverflow&&1<=b.width){if(a.ea)Wx(a,b);else if(a.ma)Wx(a,b,!0);else if(a.ba)Xx(a,b);else{Mx(a,!0);c=a.Td();f=null!=a.f.height;var h=null!=a.f.width,k=a.height(),l=a.f.anchor,m=a.f.position;d="top";e="left";h&&a.f.hAlign&&(e=a.f.hAlign);f&&a.f.vAlign&&(d=a.f.vAlign);h=Yx(b,k,m,l);f=h.left;h=h.top;h+=a.aa;switch(d){case"middle":h=Math.max(h,b.top+b.height/2+a.aa/2);break;case"bottom":h=Math.max(h,b.top+b.height-a.Ha+a.aa);}switch(e){case"right":f=Math.max(f,f+b.width-a.Va.width);break;case"center":f=Math.max(f,f+b.width/2-a.Va.width/2);}Vx(a,b);c.setAttribute("x",f);c.setAttribute("y",h);}}else $.Sx(a,null);};Wx=function Wx(a,b,c){var d=$.M(a.f.width,b.width);Mx(a,!0);a.eo.BC=!0;a.Va.width=0;a.Va.height=0;for(var e=c?a.eb:0,f,h,k=0;k<a.i.length;k++){for(var l=a.i[k],m=0,p=0,q="",r,t=0;t<l.length;t++)if(f=l[t],h=f.Va,h.width-p-e>d){t?r=l[t-1]:r=f;f=new $.Lx();var u=r.jc.replace(q,"");q=r.jc+(c?" ":"");f.text(u);f.style(a.f);p=r.width();u=new $.I(h.left,h.top,p-m,h.height);m=p+=+e;f.Va=u;f.eb=e;f.j=a.j;a.b.push(f);a.Va.width=Math.max(a.Va.width,u.width);a.Va.height+=u.height;}(f=l[l.length-1])&&1<=l.length&&f!=r&&(u=f.jc.replace(q,""),h=f.Va,l=new $.I(h.left,h.top,h.width-p,h.height),a.Va.width=Math.max(a.Va.width,l.width),a.Va.height+=l.height,f=new $.Lx(),f.text(u),f.Va=l,f.style(a.f),f.j=a.j,a.b.push(f));}Xx(a,b);};Xx=function Xx(a,b){var c,d=0;for(c=0;c<a.b.length;c++){var e=a.b[c];e.j=a.j;d+=e.height();}var f=null!=a.f.height,h="top";c="left";null!=a.f.width&&a.f.hAlign&&(c=a.f.hAlign);f&&a.f.vAlign&&(h=a.f.vAlign);e=Yx(b,d,a.f.position,a.f.anchor);var k=f?$.M(a.f.height,b.height):b.height,l=e.top;"middle"==h?l=Math.max(l,b.top+k/2-d/2):"bottom"==h&&(l=Math.max(l,b.top+k-d));d=l;h=e.left;switch(c){case $.Ph:case"left":for(c=0;c<a.b.length;c++)e=a.b[c],k=d-l,d=by(e,h,k,b,f,!c,d);break;case"center":for(c=0;c<a.b.length;c++)e=a.b[c],k=d-l,h=Math.max(b.left,b.left+b.width/2-e.Va.width/2),d=by(e,h,k,b,f,!c,d);break;case"end":case"right":for(c=0;c<a.b.length;c++)e=a.b[c],k=d-l,h=Math.max(b.left,b.left+b.width-e.Va.width),d=by(e,h,k,b,f,!c,d);}};by=function by(a,b,c,d,e,f,h){var k=a.Td(),l=a.height();c+=l;Vx(a,d);e&&c<=d.height||!e||f?(k.setAttribute("x",b+"px"),k.setAttribute("y",h+a.aa),h+=l):(k.setAttribute("x","-99999px"),k.setAttribute("y","-99999px"));return h;};$.cy=function(a){var b,c;a.Va=new $.I(0,0,0,0);if(a.ea)for(b=0;b<a.i.length;b++){var d=a.i[b];for(c=0;c<d.length;c++)$.cy(d[c]);}else if(a.ma)for($.cy(a.K),$.cy(a.G),a.eb=a.K.Va.width-2*a.G.Va.width,b=0;b<a.i.length;b++)for(d=a.i[b],c=0;c<d.length;c++)$.cy(d[c]);else if(a.ba)for(b=0;b<a.b.length;b++)c=a.b[b],$.cy(c),a.Va.width=Math.max(a.Va.width,c.Va.width),a.Va.height+=c.height();else b=a.Td().getBBox(),a.Va.left=b.x,a.Va.top=-b.y,a.Va.width=b.width,a.Va.height=a.Ha;};Yx=function Yx(a,b,c,d){$.hc(d,"center")?a.top-=b/2:$.hc(d,"bottom")&&(a.top-=b);a=$.Ko(a,c);return{left:a.x,top:a.y};};$.dy=function(a){$.Ru.call(this,a);$.Aa(this.LX,"autoRotate")||this.LX.push("autoRotate");$.Q(this.ta,[["autoRotate",4,9]]);};$.ey=function(){$.Vu.call(this);$.Q(this.ta,[["autoRotate",16,9]]);};$.fy=function(a,b,c){$.V(this);$.Y.call(this);c||(this.KC=this.Fa($.yr.markersFactory));delete this.na.enabled;this.uv=!!b;this.K=!a;this.j=this.ub=null;this.b={};$.Q(this.ta,[["position",4,9],["offsetY",4,9],["offsetX",4,9],["fill",16,1],["stroke",16,1,0],["positionFormatter",4,9],["anchor",4,9],["size",4,9],["rotation",4,9],["type",4,9]]);this.B(4294967295);this.da(!0);};$.gy=function(){$.Y.call(this);delete this.na.enabled;this.f={};$.Q(this.ta,[["position",4,9],["offsetY",4,9],["offsetX",4,9],["fill",16,1],["stroke",16,1],["positionFormatter",4,9],["anchor",4,9],["size",4,9],["rotation",4,9],["type",16,1]]);this.Fi();};$.hy=function(a,b){return null!=b?(a.i!=b&&(a.i=b,a.B(16,1)),a):a.i;};$.iy=function(a,b){return $.n(b)?(a.K!=b&&(a.K=b,a.B(16,1)),a):a.K;};jy=function jy(a,b,c,d,e,f){return $.iy(a)&&$.hy(a)!=$.iy(a)?$.n(c)?c:f?e:$.n(b)?b:d:$.n(b)?b:d;};ky=function ky(){$.fy.call(this);};ly=function ly(){$.gy.call(this);};my=function my(){$.U.call(this);this.Vb=this.Y=null;this.I(4294967295);$.Q(this.ta,[["stroke",0,1],["fill",0,1],["width",0,1],["offset",0,1],["enabled",0,1]]);};ny=function ny(){$.U.call(this);$.Q(this.ta,[["stroke",16,1],["length",16,1]]);};$.oy=function(a,b,c,d){$.U.call(this);this.$j=a;this.ta=b;this.aa=c;if($.n(d)){a={};for(var e in this.WB)a[e]=this.WB[e];d=$.wq(a,d);this.WB=a;$.S(this,d,!0);}};$.py=function(){return new $.Ru();};$.qy=function(){return new $.Ru(!0);};$.ry=function(){return new $.dy(!0);};$.sy=function(){return new $.fy();};$.ty=function(){return new $.fy(void 0,void 0,!0);};Kca=function Kca(){return new my();};$.uy=function(a){$.L(a,this.ae,this);a.jb(this);};Lca=function Lca(a){$.L(a,this.uga,this);a.jb(this);};$.vy=function(a){$.L(a,this.Kn,this);a.jb(this);};Mca=function Mca(a){$.L(a,this.aja,this);a.jb(this);};Nca=function Nca(a){$.L(a,this.ug,this);};$.wy=function(a,b){for(var c=0;c<b.length;c++)$.xq.apply(null,$.Ga(a.ta,b[c]));};xy=function xy(a){"object"!=$.ka(a)||"enabled"in a||(a.enabled=!0);};yy=function yy(a){var b={labels:a.Ca,minLabels:a.j,maxLabels:a.f,headers:a.i,lowerLabels:a.K,markers:a.Gc,outlierMarkers:a.D,outline:a.G,connector:a.b,background:a.Ga},c;for(c in b){var d=b[c];d&&d.df&&(d.df(),d.KC.length&&d.Fa.apply(d,d.KC),$.W(a,c,d));}};$.zy=function(a,b){b?a.setAttribute("role",b):a.removeAttribute("role");};$.By=function(a,b,c){$.A(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(Ay||(Ay={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=Ay,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c);};$.Cy=function(){};$.Dy=function(a){$.tf.call(this);this.f=a||$.Be();this.Za=Oca;this.fe=null;this.vf=!1;this.Cd=null;this.G=void 0;this.D=this.j=this.Y=this.dh=null;this.eb=!1;};$.Ey=function(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close";}throw Error("Invalid component state");};$.Fy=function(a){a.G||(a.G=new pf(a));return a.G;};$.Gy=function(a){null==a.Za&&(a.Za=$.Sf(a.vf?a.Cd:a.f.b.body));return a.Za;};$.Hy=function(a){return a.j?a.j.length:0;};$.Iy=function(a,b){if(a.D&&b){var c=a.D;c=(null!==c&&b in c?c[b]:void 0)||null;}else c=null;return c;};$.Jy=function(a,b){$.Dy.call(this,b);this.i=a||"";};$.Ly=function(){null!=Ky||(Ky="placeholder"in $.Te(window.document,"INPUT"));return Ky;};My=function My(a){!a.K&&a.Og&&a.Xa().form&&(a.Og.ua(a.Xa().form,"submit",a.aga),a.K=!0);};$.Ny=function(a){return!!a.Xa()&&""!=a.Xa().value&&a.Xa().value!=a.i;};$.Oy=function(a,b){null!=a.St&&(a.St=b);a.Xa().value=b;a.co();};$.Py=function(){$.Y.call(this);this.oa=this.b=this.j=null;this.i=!1;$.uu(this,this);$.Q(this.ta,[["scaleRangeMode",4,4]]);};$.Ry=function(a){var b=a.scale();if(b){var c=$.Qy(a);c.clear();var d=a.g("to"),e=a.g("from"),f=b.transform(e),h=b.transform(d);f>h&&(d=a.g("from"),e=a.g("to"));f=b.transform(e,0);b=b.transform(d,1);e=Math.min(b,f);var k=Math.max(b,f);(0,window.isNaN)(e)||(0,window.isNaN)(k)||!(0<=k&&1>=e||a.i)||(a.i||(e=$.Za(e,0,1),k=$.Za(k,0,1)),b=a.ja(),d=a.Op(),a.Mb()?(f=Math.floor(b.Ta()-b.height*k),e=Math.ceil(b.Ta()-b.height*e),h=b.sb(),k=b.bb(),c.moveTo(h,f).lineTo(k,f).lineTo(k,e).lineTo(h,e).close()):(f=b.Ta(),h=b.Ub(),e=Math.floor(b.sb()+b.width*e),k=Math.ceil(b.sb()+b.width*k),c.moveTo(e,f).lineTo(e,h).lineTo(k,h).lineTo(k,f).close()),a.i||c.clip(d.Ej(b)));}else $.il(2);};$.Qy=function(a){a.D||(a.D=$.rk(),$.tu(a,a.D));return a.D;};$.Sy=function(){$.Y.call(this);$.Q(this.ta,[["stroke",0,1],["length",0,9],["position",0,9]]);this.path=$.rk();$.tu(this,this.path);};$.Ty=function(a){if(!a.$o)switch(a.uh){case"top":a.$o=a.$0;break;case"right":a.$o=a.cT;break;case"bottom":a.$o=a.XS;break;case"left":a.$o=a.aT;}return a.$o;};$.Uy=function(){$.V(this);$.Y.call(this);this.Fa($.yr.axis);this.bi=[];this.Dk=[];this.Ld={};this.Ld.orientation="top";this.re=980;$.Q(this.ta,[["width",this.re,9],["drawFirstLabel",this.re,9,0,function(){this.Yd();this.js();},this],["drawLastLabel",this.re,9,0,function(){this.Yd();this.js();},this],["staggerMode",this.re,9,0,this.Yd,this],["overlapMode",this.re,9],["staggerMaxLines",0,0,0,function(){this.Yd();this.js();this.g("staggerMode")&&this.B(this.re,9);},this],["staggerLines",0,0,0,function(){this.Yd();this.js();this.g("staggerMode")&&this.B(this.re,9);},this],["orientation",this.re,9,0,this.js,this],["stroke",this.re,9],["value",this.re,9,void 0,function(){null===this.g("value")?this.xh=void 0:this.xh=25;this.B(8);},this]]);this.da(!1);};$.Vy=function(a,b){if($.n(b)){var c=a.g("orientation")!=b;a.Ld.orientation=b;c&&a.B(a.re);}};Xy=function Xy(a,b){if(a.labels().enabled()||a.pb().enabled()){if(a.g("staggerMode")){if(a.ma)var c=a.ma;else{var d=a.labels();if((c=a.scale())&&d.enabled()){a.qJ=1;a.G=1;c=c.Wa().get();for(var e=c.length,f,h,k,l,m=0;m<e;m++)a.Zd(m,!0,c,b);d=d.g("position");var p=a.JH&&0>$.No(d)?a.JH:null,q=a.g("staggerMaxLines"),r=a.g("staggerLines"),t=a.g("drawFirstLabel"),u=a.g("drawLastLabel");d=[];for(m=0;m<e;m++)!m&&!t||m==e-1&&!u?d[m]=!1:(h=a.qd(m,!0,c,b),d[m]=p?!Wy(a,p,h):!0);if(null===r){var v=!1;for(m=1;!v&&m<=e;)for(v=!0,h=0;h<m;h++){for(f=h;f<e-m;f+=m){k=a.qd(f,!0,c,b);var w=a.qd(f+m,!0,c,b);if(d[f]&&$.en(k,w)){v=!1;m++;break;}}if(!v)break;}a.qJ=v?m:e;a.G=null!==q&&a.qJ>q?q:a.qJ;}else a.G=r;if((null!==r||null!==q&&a.qJ>q)&&"no-overlap"==a.g("overlapMode")){for(f=0;f<a.G;f++)for(q=-1,m=f;m<e;m+=a.G)k=a.qd(m,!0,c,b),-1!=q?w=a.qd(q,!0,c,b):w=null,m!=e-1&&a.g("drawLastLabel")?l=a.qd(e-1,!0,c,b):l=null,h=p?!Wy(a,p,k):!0,m?m==e-1?u&&h?(q=m,d[m]=!0):d[m]=!1:!h||$.en(k,w)||$.en(k,l)?d[m]=!1:(q=m,d[m]=!0):t&&h?(q=m,d[m]=!0):d[m]=!1;t||(d[0]=!1);u||(d[d.length-1]=!1);}w={labels:d,pb:!1};a.aa=[];a.ba=[];a.j||(a.j=[]);for(m=h=0;m<e;m++)if(!d||d&&d[m]){a.j[m]?l=a.j[m]:(l=a.qd(m,!0,c,b),a.j[m]=l=$.pn(l));l=a.Mb()?l.height:l.width;if(!a.aa[h]||a.aa[h]<l)a.aa[h]=l;a.ba[h]||(a.ba[h]=[]);a.ba[h].push(m);(h+1)%a.G?h++:h=0;}c=a.ma=w;}else c=a.ma={labels:!1,pb:!1};}}else c=a.py(b);}else c=!0;return c;};$.Yy=function(a,b,c,d){var e=0,f=0,h=0,k=a.title();var l=a.labels();var m=a.pb(),p=a.g("orientation");k.enabled()&&(k.O()||k.O(a.O()),$.V(k),k.ja(b),$.fw(k,p),h=a.Mb()?k.vi().height:k.vi().width,k.da(!1));k=a.scale();l=l.enabled()&&$.n(k);m=m.enabled()&&$.n(k)&&$.J(k,$.nt);var q=a.Mb()?c:0;c=a.Mb()?0:c;var r=b?b.left:0;var t=b?b.top:0;var u=a.padding(),v=$.M(u.g("top"),b.height),w=$.M(u.g("right"),b.width),x=$.M(u.g("bottom"),b.height);b=$.M(u.g("left"),b.width);switch(p){case"top":r+=b;t+=v;break;case"right":r+=q-w;t+=v;break;case"bottom":r+=b;t+=c-x;break;case"left":r+=b,t+=v;}p=new $.I(r,t,q,c);q=Xy(a,p);r=a.g("staggerMode");if(l&&k)if(c=k.Wa().get(),v=$.C(q)?q.labels:!q,r)for(l=0;l<a.aa.length;l++)e+=a.aa[l];else for(l=0,b=c.length;l<b;l++)if($.A(v)?v[l]:v)t=$.pn(a.qd(l,!0,c,p)),t=a.Mb()?t.height:t.width,t>e&&(e=t);if(m&&!r)for(m=$.C(q)?q.pb:!q,c=k.wb().get(),l=0,b=m.length;l<b;l++)if($.A(m)?m[l]:m)t=$.pn(a.qd(l,!1,c,p)),t=a.Mb()?t.height:t.width,t>f&&(f=t);return a.f0(e,f,d)+h;};Zy=function Zy(a,b){var c=a.scale();return $.A(b)?(c.transform(b[0],0)+c.transform(b[1],1))/2:c.transform(b,.5);};Pca=function Pca(a,b,c,d,e){var f=$.n(e)?e:a.ob();e=$.n(e)?e:a.line.qb();var h=c?a.Wa():a.wb(),k=c?a.labels():a.pb();c=a.g("stroke");c=$.jp(c);b=Zy(a,d[b]);d=k.g("position");h=$.Oo(h,$.No(d));a=a.BM(f,b,c,h,e);return{value:{x:a.x,y:a.y}};};Wy=function Wy(a,b,c){var d=!1;switch(a.g("orientation")){case"top":case"bottom":d=b.left>c[0]||b.bb()<c[2];break;case"right":case"left":d=b.top>c[1]||b.Ta()<c[7];}return d;};$y=function $y(){$.Uy.call(this);};$.az=function(){xv.call(this);this.oa=this.b=this.j=null;this.D="horizontal";this.i=null;this.G=!1;$.uu(this,this);$.Q(this.ta,[["align",4,9],["scaleRangeMode",4,4]]);};$.bz=function(a,b){var c=!a.f&&a.D!=b;a.D=b;c&&a.B(4);};cz=function cz(a){return $.n(void 0)?(void 0!==a.g("value")&&a.value(void 0),a):a.g("value");};$.dz=function(a){$.U.call(this);this.b=a||null;this.Ca=null;this.oA={};this.f=[];this.xe=[];this.i=!1;};$.fz=function(a){a.i=!1;if(a.b)var b=$.A(a.b)?a.b:[a.b];else{var c=$.Wo($.Xo());var d=$.Wo("default");d=(c=c||d)&&c.formats||d.formats;}if(b)for(c=0;c<b.length;c++){var e=b[c];e in a.oA||ez(a,e);}else if(d)for(var f in d){if(b=d[f],$.gc(f,"timeline_"))for(c=0;c<b.length;c++)e=b[c],e in a.oA||ez(a,e);}else"yyyy/MM/dd'T'HH:mm:ss.SSS"in a.oA||ez(a,"yyyy/MM/dd'T'HH:mm:ss.SSS");};$.gz=function(a){if(!a.i){for(var b=0;b<a.xe.length;b++){var c=a.xe[b],d=a.f[b];d.width=c.Va.width;d.height=c.Va.height;}a.i=!0;}};ez=function ez(a,b){var c={index:a.f.length,width:window.NaN,height:window.NaN,format:b};a.oA[b]=c;a.f.push(c);c=new $.Lx();c.text($.ys(Qca,b,0));c.style(a.labels().flatten());c.Ij();a.xe.push(c);};$.hz=function(){$.nt.call(this);this.Fa("defaultLinearColorScale");this.rI=this.xI=0;this.vw=10;};$.iz=function(a){var b=new $.hz();b.N(b.na);b.Jj.apply(b,arguments);return b;};jz=function jz(a){$.Qt.call(this,a);};$.kz=function(){$s.call(this);this.df().Fa("defaultScaleSettings.ordinalColor","defaultOrdinalColorScale");this.Qf=this.We=null;this.gd=[];this.Zn=this.vk=null;this.ka=[];this.$V=!1;};Rca=function Rca(a){$.Pa(a,function(a,c){var b=a.start>c.start?1:a.start<c.start?-1:0;b||(b=a.end>c.end?1:a.end<c.end?-1:0);if(a.bp&&c.bp?Math.max(a.start,c.start)<=Math.min(a.end,c.end):Math.max(a.start,c.start)<Math.min(a.end,c.end))a.start>c.start?a.sourceIndex>c.sourceIndex?c.end=a.start:(a.start=c.end,a.start>=a.end&&(a.enabled=!1)):a.start<c.start?a.sourceIndex>c.sourceIndex?(c.start=a.end,c.start>=c.end&&(c.enabled=!1)):a.end=c.start:a.sourceIndex>c.sourceIndex?(c.start=a.end,c.start>=c.end&&(c.enabled=!1)):(a.end=c.start,a.start>=a.end&&(a.enabled=!1));return b;});};$.lz=function(a){var b=new $.kz();b.N(b.na);b.Wy(a);return b;};$.mz=function(){$.Y.call(this);this.Fa("defaultGridSettings");this.j=null;this.AL="horizontal";this.Ea=this.Vb=this.Y=null;this.D={};this.aa=null;$.Q(this.ta,[["stroke",16],["fill",4],["drawFirstLine",64],["drawLastLine",64],["isMinor",80,9]]);};nz=function nz(a,b){$.J(b,$.Ps)||$.C(b)&&"range"==b.type?a.Ec($.Ps):($.J(b,$.Ms)||$.C(b)||null==a.Ea)&&a.Ec($.Ms);};$.oz=function(a,b){var c=!a.f&&a.AL!=b;a.AL=b;c&&a.B(64);};pz=function pz(a,b,c){var d=b?a.aa:a.qa;if($.n(c)){var e=c&&$.E(c.La)&&c.La(),f=(e="stock-scatter-date-time"==e||"stock-ordinal-date-time"==e)?c==d?null:c:$.mt(d,c,null,15,null,a.xg,a);if(f||null===c&&d)c=d==f,f||$.or(d,a.xg,a),d=f,b?a.aa=d:a.qa=d,f&&!e&&f.da(c),c||a.B(20,9);}};$.qz=function(a,b){var c=a.g("fill");if($.E(c)){var d={index:b,grid:a,palette:a.ac()||a.Y.ac()};c=c.call(d);}d=b in a.D?a.D[b.toString()]:a.D[b.toString()]=a.YZ();d.fill(c);return d;};rz=function rz(){$.mz.call(this);};sz=function sz(){$.mz.call(this);};uz=function uz(){$.tf.call(this);this.bc=$.tz;this.D=this.j=null;};$.xz=function(a){a=$.oa(a);delete vz[a];$.Nc(vz)&&wz&&wz.stop();};yz=function yz(){wz||(wz=new pw(function(){Sca();},20));var a=wz;a.sq()||a.start();};Sca=function Sca(){var a=(0,$.Qn)();$.Gc(vz,function(b){b.jG(a);});$.Nc(vz)||yz();};$.zz=function(a,b,c,d){uz.call(this);if(!$.A(a)||!$.A(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.b=a;this.f=b;this.duration=c;this.K=d;this.coords=[];this.Id=0;};Az=function Az(a,b){$.E(a.K)&&(b=a.K(b));a.coords=Array(a.b.length);for(var c=0;c<a.b.length;c++)a.coords[c]=(a.f[c]-a.b[c])*b+a.b[c];};Bz=function Bz(a,b){vd.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.duration=b.duration;this.Id=b.Id;this.state=b.bc;};Cz=function Cz(){uz.call(this);this.dc=[];};Dz=function Dz(){Cz.call(this);this.b=0;};Ez=function Ez(){Cz.call(this);this.b=0;};Fz=function Fz(){Dz.call(this);};$.Gz=function(a,b,c,d,e){$.zz.call(this,b,c,d,e);this.X=a;};Hz=function Hz(a,b,c){$.Gz.call(this,a,[],[],b,c);};Iz=function Iz(a,b,c){$.Gz.call(this,a,[0,0],[0,0],b,c);this.G=window.NaN;};Jz=function Jz(a,b,c){$.Gz.call(this,a,[],[],b,c);};$.Lz=function(a,b,c){var d;a.prototype.Zq?d=$.Sc(a.prototype.Zq):d={};if($.A(c))for(var e=0;e<c.length;e++)Kz(d,b,c[e]);else Kz(d,b,c);a.prototype.Zq=d;};Kz=function Kz(a,b,c){a[b]||(a[b]={Iu:0,s3:-1,tJ:{}});a=a[b];var d=a.tJ;if(d[c])$.kl(702,void 0,[b,c]);else if(31==a.s3)$.kl(700,void 0,[b]);else{var e=++a.s3;d[c]=1<<e;a.Iu|=d[c];31==e&&$.kl(701,void 0,[b]);}};$.Mz=function(){$.U.call(this);this.mY=[{jk:"area splineArea stepArea rangeArea rangeSplineArea rangeStepArea polygon".split(" "),AP:"areaLike"},{jk:"bar column box rangeBar rangeColumn candlestick waterfall".split(" "),AP:"barLike"},{jk:"hilo line spline stepLine jumpLine ohlc stick polyline".split(" "),AP:"lineLike"},{jk:"rangeBar rangeColumn rangeArea rangeSplineArea rangeStepArea hilo".split(" "),AP:"rangeLike"}];this.FB={};};$.Nz=function(){$.Y.call(this);};$.Oz=function(){$.Ex.call(this);this.gb=[];this.cc=this.ed=this.Ie=this.Ea=null;var a={};$.Q(a,[["labels",0,0],["minLabels",0,0],["maxLabels",0,0]]);this.ca=new $.oy(this,a,$.hm);this.ca.sa("labelsFactoryConstructor",$.qy);this.ca.sa("labelsAfterInitCallback",function(a){a.I(4294967295);$.L(a,this.In,this);});a={};$.Q(a,[["labels",0,0],["minLabels",0,0],["maxLabels",0,0]]);this.ya=new $.oy(this,a,$.Ao);this.ya.sa("labelsFactoryConstructor",$.qy);$.Q(a,[["labels",0,0],["minLabels",0,0],["maxLabels",0,0]]);this.Da=new $.oy(this,a,$.Bo);this.Da.sa("labelsFactoryConstructor",$.qy);$.Q(this.ta,[["defaultSeriesType",0,0],["maxBubbleSize",32768,1,0,this.T2],["minBubbleSize",32768,1,0,this.T2],["pointWidth",32768,1,0,this.Cy],["maxPointWidth",32768,1,0,this.Cy],["minPointLength",32768,1,0,this.iB],["baseline",32768,1,0,this.Fja]]);};$.Pz=function(a,b){function c(a){return function(b,c){return this.Ae(a,b,c);};}var d=a.prototype,e;for(e in b){var f=$.qm(e);d[f]=c(e);}};$.Qz=function(a){var b,c=[Number.MAX_VALUE,-Number.MAX_VALUE];for(b=a.gb.length;b--;)if(a.gb[b].yk()){var d=a.gb[b],e=c;if(d.J(512)){d.UO=Number.POSITIVE_INFINITY;d.TO=Number.NEGATIVE_INFINITY;for(var f=d.Xf();f.advance();){var h=Number(f.get("size"));!(0,window.isNaN)(h)&&(0<=h||d.g("displayNegative"))&&(h=Math.abs(h),h>d.TO&&(d.TO=h),h<d.UO&&(d.UO=h));}}e[0]=Math.min(e[0],d.UO);e[1]=Math.max(e[1],d.TO);}for(b=a.gb.length;b--;)a.gb[b].yk()&&(d=a.gb[b],e=c[1],f=a.g("minBubbleSize"),h=a.g("maxBubbleSize"),d.mW=c[0],d.M3=e,d.Cha=f,d.vha=h);};$.Rz=function(a,b,c,d,e){var f;if(a.J(32768)){$.Br(a.gb);var h=0;for(f=a.gb.length;h<f;h++){var k=a.gb[h];k.O(a.Ma);k.ja(a.cc);a.O5(k,b,c,d,e);}a.TK();a.Z0();a.iB(!0);a.I(32768);$.Dr(a.gb);}};$.Sz=function(a){function b(){this.Cy();}$.Oz.call(this);this.rX=this.Zw=null;this.Hs=void 0;this.Oo=a;this.Cc=this.cb=null;this.wD=!1;this.mn={};this.im={};this.Xe=[];this.vn={};$.Q(this.ta,[["barGroupsPadding",32772,9,0,b],["barsPadding",32772,9,0,b]]);};$.Tz=function(a,b){for(var c=0,d=0;d<a.gb.length;d++){var e=a.gb[d];!e||!e.enabled()||b&&e.sl()!=b&&e.ab()!=b||(c|=e.B(1024));}c&&a.nV();};Uz=function Uz(a){if(a.J(131072)){$.Br(a.gb);var b,c,d=a.gb.length,e=!d,f={},h={};for(b=0;b<d;b++)if(c=a.gb[b]){var k=c.Qa(),l=$.oa(k);f[l]=k;l in a.im||(e=!0);k=c.ab();l=$.oa(k);h[l]=k;l in a.mn||(e=!0);}a.mn=h;a.im=f;e&&(a.GA(),a.B(302350336));$.Dr(a.gb);a.I(131072);}};Uca=function Uca(a){for(var b={},c=0;c<a.length;c++)for(var d=a[c],e=d.X.rm||[],f=0;f<e.length;f++){var h=e[f];b[h]=!0;d.data[h].o.missing=(Number(d.data[h].o.missing)||0)|(Number(Vz)||0);}return paa(b,function(b,c){for(var d=0;d<a.length;d++)if(!Wz(a[d].data[+c].o.missing,Tca))return!1;return!0;});};Vca=function Vca(a){if(a.J(262144)){var b,c;a.wD=!1;for(c in a.mn){var d=a.mn[c];d.If()&&d.zg();}for(var e in a.iA){var f=a.vn[e][0].data;d=f.length;var h=a.im[e];if($.J(h,$.St)){if(d){var k=$.Za(Math.floor(a.sU()*d-1),0,d-1);var l=$.Za(Math.ceil(a.rU()*d+1),0,d-1);h=$.Za(Math.floor(a.sU()*d+.5),0,d-1);var m=$.Za(Math.floor(a.rU()*d-.5),0,d-1);}else k=l=h=m=window.NaN;}else{k=h.Jc(0);l=h.Jc(1);if(d){var p=function p(a,b){return a-b.data.x;};k=$.Na(f,k,p);0>k&&(k=~k-1);k=$.Za(k,0,d-1);l=$.Na(f,l,p);0>l&&(l=~l);l=$.Za(l,0,d-1);h.inverted()&&(f=k,k=l,l=f);}else k=l=window.NaN;h=k;m=l;}var q=a.iA[e];for(var r in q){p=q[r];d=a.mn[r];f=a.jH(d);var t=a.ab().ix();var u="none"!=f,v="direct"==t,w="percent"==f;if(u){var x=[];for(b=k;b<=l;b++)x.push({Ow:0,zp:0,Fw:0,Nw:0,vp:0,Ew:0,hE:!1,UD:!1,Os:!1,HE:{cB:window.NaN,XA:window.NaN,YM:!1,c1:!1}});}for(t=0;t<p.length;t++){var y=p[v?p.length-t-1:t];var B=y.X;y.sj=k;y.lastIndex=l;y.pJ=u&&B.vP();y.su=window.Infinity;y.ru=-window.Infinity;a.wD=a.wD||y.pJ;f=y.data;if(y.pJ||w)for(b=k;b<=l;b++){var G=f[b];var D=x[b-k];G.o.shared=D.HE;G.o.stackedMissing=D.Os;if(Wz(G.o.missing,Xz))D.Os=!0;else{B=a.dU(G);b>=h&&b<=m&&(y.su>B&&(y.su=B),y.ru<B&&(y.ru=B));0<=B?(G.o.stackedZero=D.zp,D.zp+=B,G.o.stackedValue=D.zp,w||(D.hE?(G.o.stackedZeroPrev=D.Ow,G.o.stackedValuePrev=D.Ow+B):G.o.stackedZeroPrev=G.o.stackedValuePrev=window.NaN,D.UD?(G.o.stackedZeroNext=D.Fw,G.o.stackedValueNext=D.Fw+B):G.o.stackedZeroNext=G.o.stackedValueNext=window.NaN)):(G.o.stackedZero=D.vp,D.vp+=B,G.o.stackedValue=D.vp,w||(D.hE?(G.o.stackedZeroPrev=D.Nw,G.o.stackedValuePrev=D.Nw+B):G.o.stackedZeroPrev=G.o.stackedValuePrev=window.NaN,D.UD?(G.o.stackedZeroNext=D.Ew,G.o.stackedValueNext=D.Ew+B):G.o.stackedZeroNext=G.o.stackedValueNext=window.NaN));if(!w){a.ls(d,G.o.stackedValuePrev);a.ls(d,G.o.stackedValue);a.ls(d,G.o.stackedValueNext);if(G=f[b-1])Wz(G.o.missing,Xz)?D.hE=!0:0<=B?D.Ow+=B:D.Nw+=B;if(G=f[b+1])Wz(G.o.missing,Xz)?D.UD=!0:0<=B?D.Fw+=B:D.Ew+=B;}D.Os=!1;D.HE.YM=D.HE.YM||!(!D.zp&&!D.vp);}}else{var K=B.Ce();for(b=k;b<=l;b++)if((G=f[b])&&!Wz(G.o.missing,Xz)){for(D=0;D<K.length;D++)a.ls(d,G.data[K[D]]);if(b>=h&&b<=m)for(D=0;D<K.length;D++)B=$.N(G.data[K[D]]),y.su>B&&(y.su=B),y.ru<B&&(y.ru=B);}if(y.X.check(256))for(b=k;b<=l;b++)if(G=f[b],B=G.data.outliers,!Wz(G.o.missing,Xz)&&$.A(B))for(D=0;D<B.length;D++)a.ls(d,B[D]);if(Yz(y.X)&&(Zz(y.X.error())||y.H2))for(f=y.X.Ac();f.advance();)Wz(f.o("missing"),Xz)||(b=y.X.error().rs(!1),B=$.N(f.get("value")),a.ls(d,B-b[0]),a.ls(d,B+b[1]));}}if(w)for(a.ls(d,0),t=0;t<p.length;t++)for(y=p[t],f=y.data,b=k;b<=l;b++)G=f[b],D=x[b-k],Wz(G.o.missing,Xz)?(G.o.stackedPositiveZero=G.o.stackedPositiveZero/D.zp*100||0,G.o.stackedNegativeZero=G.o.stackedNegativeZero/D.vp*100||0):(B=G.o.stackedValue,0<=B?(v=D.zp,B&&a.ls(d,100)):(v=-D.vp,a.ls(d,-100)),G.o.stackedZero=G.o.stackedZero/v*100||0,G.o.stackedValue=G.o.stackedValue/v*100||0);u&&a.E4(p,k,l,d);}}a.SR();for(c in a.mn)d=a.mn[c],d.If()&&d.Fg();$.Nc(a.mn)&&a.ab().If()&&(a.ab().zg(),a.ab().Fg());a.B(1572864);a.I(262144);}};$z=function $z(a){var b=[],c;for(c in a)b.push(a[c]);return b;};bA=function bA(a,b,c){var d=a.cc||$.nn(0,0,0,0),e=d.left,f=d.top,h=d.width,k=d.height;d=$.ak(a.O().Ia());b-=d.x;c-=d.y;d=a.Hs?(k-(c-f))/k:(b-e)/h;if(b<e||b>e+h||c<f||c>f+k)return null;e=[];var l=a.hU();f=0;for(h=l.length;f<h;f++)if((k=l[f])&&k.enabled()){var m=k.Qa().Jc(d);if(a.Oo){m=$.aA(k,m);var p=0<=m?[m]:$.A(m)?m:[];}else p=$.Ir(k.data(),m,$.J(k.Qa(),$.St));m=k.$();var q=window.Infinity;if(p.length){for(var r=0;r<p.length;r++)if(m.select(p[r])){var t=m.o("x");var u=k.Ce();for(var v=0;v<u.length;v++){var w=m.o(u[v]);w=$.kn(t,w,b,c);if(w<q){q=w;var x=p[r];}}}e.push({X:k,ud:p,Jn:p[p.length-1],Ee:{index:x,Nf:q}});}}return e;};$.cA=function(a,b,c,d,e,f,h,k){for(var l=[],m=0;m<d.length;m++){var p=d[m];p&&l.push(e.call(a,p,f,h,k));}l.length&&(b[c]=l);};$.dA=function(a,b,c,d,e){if(c){var f=$.oa(c);f in e||(e[f]=d.length,d.push(c.F()));a[b]=e[f];}};$.eA=function(){$.Py.call(this);this.Fa("defaultLineMarkerSettings");this.G="horizontal";$.Q(this.ta,[["stroke",16,1],["value",0,0,0,function(){this.B(4,this.lD());}]]);};$.fA=function(a,b){var c=!a.f&&a.G!=b;a.G=b;c&&a.B(4);};gA=function gA(){$.eA.call(this);this.Fa("standalones.lineAxisMarker");};$.hA=function(){function a(){this.B(4,this.lD());}$.Py.call(this);this.Fa("defaultRangeMarkerSettings");this.G="horizontal";$.Q(this.ta,[["fill",16,1],["from",0,0,0,a],["to",0,0,0,a]]);};$.iA=function(a,b){var c=!a.f&&a.G!=b;a.G=b;c&&a.B(4);};jA=function jA(){$.hA.call(this);this.Fa("standalones.rangeAxisMarker");};$.kA=function(){$.az.call(this);this.Fa("defaultFontSettings","defaultLabelSettings","defaultTextMarkerSettings");$.Q(this.ta,[["value",0,0,0,function(){this.B(4,this.lD());}]]);};lA=function lA(){$.kA.call(this);this.Fa("standalones.textAxisMarker");};mA=function mA(){xv.call(this);this.aa=0;this.Ko=this.Jo=window.NaN;$.Q(this.ta,[["format",20,9],["axisIndex",0,2]]);};$.nA=function(){$.Y.call(this);this.lc=this.Ul=null;this.Lr=$.rk();this.Or=$.rk();this.Lr.Fd(!0);this.Or.Fd(!0);this.KY=!0;this.Y=this.Vb=null;this.fL={};$.Q(this.ta,[["xStroke",16,1],["yStroke",16,1],["displayMode",0,0]]);};qA=function qA(a,b,c){a=c?$.oA(a):$.pA(a);for(c=0;c<b.length;c++)b[c]&&a[c]&&a[c].df().parent(b[c]);};rA=function rA(a,b,c,d){var e;for(e in a.fL){var f=a.fL[e];var h=d?$.oA(f):$.pA(f);(h=h[c])||(h=d?f.OB(c):f.PB(c));h.df().parent(b);}a.Y&&(h=d?$.oA(a.Y):$.pA(a.Y),(e=h[c])||(e=d?a.Y.OB(c):a.Y.PB(c)),b.df().parent(e));};$.sA=function(a){switch(a.orientation()){case"left":return"right-center";case"top":return"center-bottom";case"right":return"left-center";case"bottom":return"center-top";default:return"left-top";}};$.oA=function(a){if(!a.YP){a.YP=[];var b=a.na.xLabels,c;if($.A(b))for(c=0;c<b.length;c++)a.OB(c,b[c]);else"xLabel"in a.na&&a.OB(0,a.na.xLabel);}return a.YP;};$.pA=function(a){if(!a.$P){a.$P=[];var b=a.na.yLabels,c;if($.A(b))for(c=0;c<b.length;c++)a.PB(c,b[c]);else"yLabel"in a.na&&a.PB(0,a.na.yLabel);}return a.$P;};$.tA=function(a,b){for(var c=a.length,d=0;d<c;d++){var e=a[d];e&&e.O(b);}};$.uA=function(a,b){for(var c=a.length,d=0;d<c;d++){var e=a[d];e&&e.ja(b);}};$.vA=function(a,b){return $.n(b)?(a.Ul!=b&&(a.Ul&&(a.Ul.ec("mouseover",a.Cf,!1,a),a.Ul.ec("mousemove",a.Cf,!1,a),a.Ul.ec("mouseout",a.gg,!1,a)),a.Ul=b,a.Ul&&(a.Ul.ua("mouseover",a.Cf,!1,a),a.Ul.ua("mousemove",a.Cf,!1,a),a.Ul.ua("mouseout",a.gg,!1,a))),a):a.Ul;};wA=function wA(a,b){if($.n(b))b.O(null),b.remove();else for(var c=$.oA(a),d=0;d<c.length;d++){var e=c[d];e&&(e.O(null),e.remove());}};xA=function xA(a){a=a.qA();return"left-top"==a||"center-top"==a||"right-top"==a;};yA=function yA(){$.U.call(this);$.xq(this.ta,"stroke",0,1);};zA=function zA(){$.Au.call(this);this.Fa("chart.defaultQuarterSettings");this.Ua=this.Pc=this.ib=null;this.Ca=[];};AA=function AA(a){$.U.call(this);this.Fa("chart.defaultQuarterSettings");this.oa=a;this.i=this.b=this.f=this.j=null;this.D=[];};$.BA=function(a){$.Sz.call(this,a);this.Uf=null;this.b=[];this.pf=[];this.ng=[];this.qg=[];this.sg=[];this.Yg=[];this.Zg=[];this.ih=[];this.jh=[];this.ma=null;this.aa=$.iq.annotations;};CA=function CA(a,b){var c=b.Mb()^a.wa()?a.ab():a.Qa();$.J(b,$.mz)?pz(b,!0,c):b.OK(c);};DA=function DA(a,b){var c=b.WE();return $.J(c,$.Uy)?c:$.Aa(a.b,b)?a.pf[c]:$.Aa(a.pf,b)?a.b[c]:b;};EA=function EA(a,b,c){a.nb();b=$.Sc(b);var d=$.Ga(a.ng,a.qg,a.sg,a.Yg,a.Zg,a.ih,a.jh),e,f;for(f=0;f<d.length;f++)if(e=d[f]){var h=!!(e.Mb()^a.wa());c^h&&(h=e.scale())&&(e=String($.oa(h)),e in b||(b[e]=h));}a=c?a.b:a.pf;for(f=0;f<a.length;f++)if(h=a[f]&&a[f].scale())e=String($.oa(h)),e in b||(b[e]=h);return b;};FA=function FA(a,b){for(var c=$z(b),d=$.Ga(a.ng,a.qg,a.sg),e=0;e<d.length;e++){var f=d[e];if(f&&f.enabled()){var h=f.Mb()^a.wa()?a.ab():a.Qa();if(h=f.scale()?f.scale():h)for(var k=0;k<c.length;k++){var l=c[k];l===h&&"consider"==f.g("scaleRangeMode")&&l.Wc.apply(l,f.us());}}}};Wca=function Wca(a,b){var c=b.g("value"),d=DA(a,b);if(!d)return!0;var e=d.scale();d=null===c;c=e.transform(c);e=e.jD()/2;return d||!(0,window.isNaN)(c)&&c>=-e&&c<=1-e;};$.GA=function(a,b){var c=a.Zt(),d=$.n(b)?b:a.na,e=$.n(b);a.em(d.xGrids,a.hm,c,e);a.em(d.yGrids,a.jm,c,e);a.em(d.xMinorGrids,a.Mr,c,e);a.em(d.yMinorGrids,a.Pr,c,e);};HA=function HA(a,b){for(var c=0;c<b.length;c++){var d=a[c];null!=d&&d.WE(b[c]);}};IA=function IA(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d];e?(e=e.WE(),c[d]=$.ea(e)?e:(0,$.za)(b,e)):c[d]=null;}return c;};$.JA=function(a,b){this.xa=a;this.index=$.Jo(b,0,!0);this.hn={};};$.KA=function(a,b){$.JA.call(this,a.wc(),b);this.X=a;};LA=function LA(a,b){$.KA.call(this,a,b);};$.MA=function(a,b,c,d){b?a.moveTo(d,c):a.moveTo(c,d);};$.NA=function(a,b,c){if(b){var d=1;var e=0;}else d=0,e=1;for(var f=2;f<arguments.length;f+=2)a.lineTo(arguments[f+d],arguments[f+e]);};$.OA=function(a){$.nd.call(this);this.X=a;};PA=function PA(a,b){return 0>(a.prevValue-a.aa||1)*(b-a.aa||1);};Wz=function Wz(a,b){return!!((Number(a)||0)&(b||255));};QA=function QA(a){$.U.call(this);this.Ra=a;this.b=null;$.Q(this.ta,[["start",0,1],["point",0,1],["updatePoint",0,1],["finish",0,1],["needsZero",0,4],["needsWidth",0,4],["yValues",0,4]]);};TA=function TA(a,b,c,d,e){if(a){var f=void 0;if(e&&(f=c.o("shapes"),!f))return;b=c?new RA(b,c,d||$.hm,f):new SA(b);a.call(b,b);}};SA=function SA(a){this.series=a;this.seriesState=a.ek();};RA=function RA(a,b,c,d){SA.call(this,a);this.b=b;for(var e=a.Ce(),f=0;f<e.length;f++){var h=e[f];this[h]=b.o(h);}a.check(2)&&(this.size=b.o("size"));this.x=b.o("x");this.pointState=c;this.missing=!!b.o("missing");this.categoryWidth=a.k0;a.op()&&(this.pointWidth=a.wu);$.UA(a)&&(this.zero=b.o("zero"));d&&(this.shapes=d);};$.VA=function(a,b,c,d,e,f){$.nd.call(this);this.P=d||"shapes";this.Hb=e||$.ia;this.X=a;this.Ad=null;this.aa=c;this.i={};this.D={};this.G={};this.f={};this.MC=!!f;for(a=0;a<b.length;a++){c=b[a];d=$.dm(c.Wb,c.Gb?3:1,c.Zb,c.Fk);e=$.dm(c.Xb,2,c.Zb,c.Fk);f=c.Pb;switch(String(f).toLowerCase()){case"none":var h=null;break;case"rect":h=$.nk;break;case"circle":h=$.ok;break;case"ellipse":h=$.qk;break;default:h=$.rk;}this.i[f]||(this.i[f]=[],this.D[f]=[],this.G[f]=0);this.f[c.name]={fill:d,stroke:e,zIndex:+c.zIndex,Gb:c.Gb,cS:h,Pb:f,Wb:c.Wb,Xb:c.Xb};}};$.WA=function(a,b){if(a.Ad!=b){a.Ad=b;for(var c in a.i)for(var d=a.i[c],e=0;e<d.length;e++)d[e].parent(b);}};YA=function YA(a,b,c,d,e,f,h){b=a.f[b];var k=b.fill(a.X,c),l=b.stroke(a.X,c);f.fill(k);f.stroke(l);f.bq(a.MC);f.zIndex(b.zIndex+e);a.aa&&a.aP(f,b.Gb,d);b.Gb||XA(a,k,l);c=!(k||c!=$.hm&&b.fill(a.X,$.hm)||c!=$.Ao&&b.fill(a.X,$.Ao)||c!=$.Bo&&b.fill(a.X,$.Bo));(h?b.Gb&&c:b.Gb)?c?f.parent(null):f.parent(a.Ad):h&&f.parent(a.Ad);return f;};$.ZA=function(a,b,c,d,e){var f={};c=c||a.f;var h;a.X.eh()?h=a.X.$().la():h=!0;for(var k in c)if("none"==c[k].Pb&&e)$.J(e,$.qg)&&(f[k]=YA(a,k,b,h,d||0,e));else{var l=k;var m=void 0;var p=a,q=k,r=b,t=h,u=d||0,v=p.f[q],w=v.Pb;p.D[w].length>p.G[w]?m=p.D[w][p.G[w]]:p.D[w].push(m=v.cS());p.G[w]++;p.i[w].push(m);m=YA(p,q,r,t,u,m,!0);f[l]=m;}a.Hb(a.X,f,b);return f;};$A=function $A(a,b,c){for(var d in c){var e=a.f[d],f=c[d],h=e.fill(a.X,b),k=e.stroke(a.X,b);f.fill(h);f.stroke(k);e.Gb&&("none"==f.fill()&&"none"==f.stroke()?f.visible(!1):f.visible(!0));e.Gb||XA(a,h,k);}a.Hb(a.X,c,b);};XA=function XA(a,b,c){a=a.X.$();$.n(b)&&a.o("fill",b);$.n(c)&&a.o("stroke",c);};$.aB=function(a,b,c,d,e,f){$.VA.call(this,a,b,c,d,e,f);};$.bB=function(a,b,c,d,e,f){$.VA.call(this,a,b,c,d,e,f);this.j={};};cB=function cB(a,b,c,d,e){var f=void 0;if(d){var h=a.X.$();f=$.Co(c);var k=h.get(f);(h=k?k[d]:h.get($.im(c,d)))?f=h:(k=a.X.jd(),h=a.X[f]()[d](),$.E(h)||k?h!=$.iq.themes.defaultTheme.chart.defaultSeriesSettings.base[f][d]||k?f=e?b.fill(a.X,c):b.stroke(a.X,c):(a={sourceColor:a.X.g("color")},f=h.call(a)):f=h);}return f;};dB=function dB(a,b,c){c=c||a.f;var d=a.X.$(),e,f,h="",k;for(k in c){var l=a.f[k];var m=l.Xb;var p=cB(a,l,b,l.Wb,!0);m=cB(a,l,b,m);l.Gb||(p&&$.em(p)&&(e=p),m&&$.em(m)&&(f=m));h+=k+$.Ul(p)+$.Ul(m);}XA(a,e,f);d.o("shapeNames",c);return h;};eB=function eB(a){$.U.call(this);this.Ra=a;this.Bm="both";this.ba=null;this.i=this.j=void 0;this.K=null;this.b=this.f=void 0;this.G=this.aa=10;this.D=this.P="#1D8BD1";};fB=function fB(a){return $.J(a,$.nt)&&!$.J(a,$.pt)&&"none"==a.gn();};Zz=function Zz(a){var b=a.ZE(),c=a.$E(),d=a.aF(),e=a.UE(),f=a.VE();a=a.YE();e=$.n(f)||$.n(a)||$.zo(e)||!$.Io(e);return $.n(c)||$.n(d)||$.zo(b)||!$.Io(b)||e;};$.gB=function(){wv.call(this);this.Oa={};$.Q(this.ta,[["text",20,9]]);};$.Dx=function(a,b,c,d){$.Y.call(this);this.xa=a;this.jf=b;this.Ld={};this.Ld.pointWidth="90%";this.Ld.isVertical=this.xa.wa();this.Ld.minPointLength=0;this.eg=!1;this.hn={};this.TC=this.lA=null;this.qe=c;this.ri=null;this.Px=0;this.il=null;this.Wj=[];this.bq=!1;this.Au=new QA(this);$.L(this.Au,this.Eja,this);$.Q(this.ta,[["color",2048,65,4294967295],["xPointPosition",1024,1,4294967295],["pointWidth",1024,1,1024],["maxPointWidth",1024,1,1024],["minPointLength",1024,5,1024,this.qE],["connectMissingPoints",1024,1,16],["displayNegative",1024,5,2],["stepDirection",1024,1,131072],["isVertical",1024,5,4294967295]]);this.IH();this.Kz(d,!0);};$.hB=function(a){var b=1E-5*a.Uq;b=a.jf.sM(a)+b;a.xh=b;};iB=function iB(){return[["fill",0,0,4294967295],["negativeFill",0,0,4294967295],["risingFill",0,0,4294967295],["fallingFill",0,0,4294967295],["stroke",0,0,4294967295],["lowStroke",0,0,4294967295],["highStroke",0,0,4294967295],["lowFill",0,0,4294967295],["highFill",0,0,4294967295],["negativeStroke",0,0,4294967295],["risingStroke",0,0,4294967295],["fallingStroke",0,0,4294967295],["medianStroke",0,0,4294967295],["stemStroke",0,0,4294967295],["whiskerStroke",0,0,4294967295],["hatchFill",0,0,4294967295],["negativeHatchFill",0,0,4294967295],["risingHatchFill",0,0,4294967295],["fallingHatchFill",0,0,4294967295],["highHatchFill",0,0,4294967295],["lowHatchFill",0,0,4294967295],["whiskerWidth",0,0,256],["type",0,0,8192],["size",0,0,8192],["labels",0,0],["minLabels",0,0],["maxLabels",0,0],["markers",0,0],["outlierMarkers",0,0]];};Yz=function Yz(a){return a.check(128)&&a.check(2097152);};$.UA=function(a){return!!a.Au.g("needsZero");};$.jB=function(a,b){a.Ld.pointWidth=String(100*b)+"%";};$.kB=function(a,b){a.Ld.xPointPosition=b;};$.lB=function(a,b){a.Ld.type=b;a.ca.Eb().NF=b;a.check(8192)&&a.B(1024);};$.mB=function(a){a.ke||(a.ke=new $.Hw());return a.ke;};$.oB=function(a,b,c,d){if(!a)return Xca;var e=$.oa(b)+"|"+a+"|"+c+(d?"|"+d:"");d=d||a;var f=nB[e];f||(nB[e]=f=function f(e,_f,l){l=$.fm(l);return l!=$.hm&&c&&(l=e.qc(a,l,_f,b,!1,d),$.n(l))?l:e.qc(a,0,_f,b,!1,d);});return f;};Xca=function Xca(){};pB=function pB(a,b,c,d,e,f){$.V(b);if(a.check(e)&&(!1!==b.enabled()||c||d)){if(b.O(a.O1()),a.J(f))return b.clear(),b.ja(a.ga),!0;}else b.clear(),b.O(null);b.W();b.da(!1);return!1;};qB=function qB(a,b){var c=b[0],d=b[1]||c;return c.eH()[a]||d.eH()[a]||b[2]&&$.n(b[2][a])||b[3]&&$.n(b[3][a]);};Yca=function Yca(a,b){(0,$.Re)(b,function(a){$.J(a,$.Ru)?this.$S(a):a.W();a.da(!1);},a);};Zca=function Zca(a,b){return+$.Lc(a.GH,function(a){return(0,$.Sw)(a,function(a){return a==b;});});};rB=function rB(a){a&&(a=a.o("shared"))&&(a.cB=window.NaN,a.XA=window.NaN);};tB=function tB(a){var b=a.eg;if($.da(b)){b=a.Kx.clone();b=$.bp(b,1);var c=b.top,d=b.Ta();c=Math.floor(c);d=Math.ceil(d);b.top=c;b.height=d-c;c=b.left;d=b.bb();c=Math.floor(c);d=Math.ceil(d);b.left=c;b.width=d-c;a.check($.sB)&&(b=b.clone(),a=a.xa,c=a.Jh,b.top-=c,b.height+=c,b.width+=a.li);}return b;};$.uB=function(a,b,c){c=c||a.$();b.Ji(a.vS(c)).kg(c).Em(a.jF).Bl(a.QT(c));return $.rv(b,a.um(b,c));};vB=function vB(a){this.Ra=a;$.Fr.call(this,a.data());};$.wB=function(a,b,c,d,e){$.Dx.call(this,a,b,c,d);this.state=new $.kx(this);this.jka=e;$.xq(this.ta,"xMode",1024,5,4294967295);this.data(null);};$.xB=function(a,b,c){if(b){var d={},e=-window.Infinity;b=function b(a,_b){var c=_b.data.x;if(c in d){var h=a[d[c]];a[d[c]]=_b;}else d[c]=a.length,a.push(_b),c<e&&(f=!0),e=c;return h||null;};}else b=function b(a,_b2){a.push(_b2);return null;};var f=!1;a=a.RT([],b,c?function(a){return(a=$.ts(a))?a.getTime():window.NaN;}:function(a){return a;},window.isNaN);f&&$.Pa(a.data,$ca);return a;};$.zB=function(a,b,c,d,e){var f="scatter"==a.g("xMode"),h=!1;d?d=f?function(a,c){var d=$.vo(c.data.x);a.push(d in b?c:null);return null;}:function(a,c){var d=$.vo(c.data.x);if(d in b){var e=a[b[d]];a[b[d]]=c;}return e||null;}:e?d=function d(a,b){a.push(b);return null;}:f?(h=!0,d=function d(a,_d){var e=_d.data.x,f=$.vo(e);f in b||(b[f]=c.length,c.push(e));a.push(_d);return null;}):d=function d(a,_d2){var e=_d2.data.x,f=$.vo(e);if(f in b){var h=a[b[f]];a[b[f]]=_d2;}else b[f]=c.length,c.push(e),a.push(_d2);return h||null;};a=a.RT(h?[]:Array(c.length),d,function(a){return a;},function(a){return void 0===a;});h=a.data;for(d=0;d<h.length;d++)h[d]||(h[d]=yB(c[d]));a.Jp=b;a.nt=c;return a;};yB=function yB(a){var b={};b.missing=AB;return{data:{x:a},o:b};};$ca=function $ca(a,b){return $.uo(a.data.x,b.data.x);};$.aA=function(a,b){if(a.od){if(a.od.Jp){var c=a.od.Jp[$.vo(b)];if((0,window.isNaN)(c))return-1;if("scatter"==a.g("xMode")){c=[];for(var d=a.od.data,e=0;e<d.length;e++){var f=d[e];f.data.x==b&&c.push(f.o.rawIndex);}}return c;}return a.od.data.length?(c=$.Oa(a.od.data,function(a){return b-a.data.x;}),0>c&&(c=~c,0<c&&(c==a.od.data.length?c--:a.od.data[c].data.x-b>b-a.od.data[c-1].data.x&&c--)),c):-1;}return a.lG.find("x",b);};$.BB=function(a,b,c,d,e){var f=a.$();f.reset();for(var h=[];f.advance();){var k=void 0,l=a,m=f,p=b,q=c,r=d,t=e;if($.J(l.Lf,$.aB)&&(k=m.o(l.Lf.P)))a:{var u=void 0;var v=k,w=p;l=q;var x=r,y=t;for(u in v){var B=v[u];if($.J(B,$.kg)&&(B=B.qb(),B.left<=w+x&&w<=B.left+B.width&&B.top<=l+y&&l<=B.top+B.height)){u=!0;break a;}}u=!1;}else u=m.o(l.yh.yb+"X"),v=m.o(l.yh.yb),l.yh.yb==l.yh.zb?u=p<=u&&u<=p+r&&q<=v&&v<=q+t:(w=m.o(l.yh.zb+"X"),l=m.o(l.yh.zb),u=$.en([u,v,w,l],[p,q,p+r,q,p+r,q+t,p,q+t]));!u&&(k=m.o("marker"))&&(u=k.Td().qb().qo(new $.I(p,q,r,t)));u&&h.push(f.la());}return h;};CB=function CB(a,b){return $.n(b)?(a.Yja=!!b,a):a.Yja||!1;};$.DB=function(a,b,c){if(!a.enabled())return a;$.A(b)?(c||a.he(),a.state.Hh($.Bo,b,c?void 0:$.Ao)):$.ea(b)&&a.state.Hh($.Bo,b,c?void 0:$.Ao);return a;};$.FB=function(a){$.Y.call(this);this.Fa($.yr.scroller);this.Ja=!1;this.mB=this.VN=this.G=this.ba=this.P=this.b=this.f=this.za=null;this.D=0;this.j=EB;this.ga=new $.I(0,0,0,0);this.i=new $.I(0,0,0,0);this.ma=this.ea=this.Ba=null;this.Ha=0;this.Ya=this.eb=this.Za=!1;this.Ua=this.aa=null;this.rb=!!a;$.Q(this.ta,[["height",4,9],["minHeight",4,9],["maxHeight",4,9],["orientation",196,9],["inverted",16,1],["autoHide",256,9],["fill",16,1],["selectedFill",16,1],["outlineStroke",16,1],["allowRangeChange",0,0]]);};GB=function GB(a){return a.Mb()?"ew-resize":"ns-resize";};$.HB=function(a,b,c){b=$.Za(Math.round(b*EB),0,EB);c=$.Za(Math.round(c*EB),0,EB);if(b>c){var d=b;b=c;c=d;}if(b!=a.D||c!=a.j)a.D=b,a.j=c,a.B(16,1);};IB=function IB(a){a.Ja||(a.za.gc(a.f),a.za.gc(a.b),a.Ja=!0);};JB=function JB(a){a.Ja&&a.K().g("autoHide")&&!a.Ha&&!a.Za&&(a.za.removeChild(a.f),a.za.removeChild(a.b),a.Ja=!1);};KB=function KB(a,b,c){a=a.K();a.g("enabled")?c?(c=a.kb().g("fill"),a=a.kb().g("stroke")):(c=a.Pa().g("fill"),a=a.Pa().g("stroke")):(c=$.cm,a="none");b.fill(c);b.stroke(a);};LB=function LB(a,b,c,d,e){return a.dispatchEvent(a.D3(c,($.n(d)?d:a.D)/EB,($.n(e)?e:a.j)/EB,b));};NB=function NB(a,b,c){c=MB(a,b,c);var d=a.ga;switch(a.g("orientation")){case"right":case"left":d=(d.top+d.height-c)/d.height;break;default:d=(c-d.left)/d.width;}a.g("inverted")&&(d=1-d);if((c=a.g("allowRangeChange"))&&b==a.f)c=d,d=a.j/EB,b="thumb-drag";else if(c&&b==a.b)c=a.D/EB,b="thumb-drag";else{var e=(a.j-a.D)/EB/2;c=d-e;d+=e;b=!0===b?"selected-range-drag":"background-click";}c=$.Za(Math.round(c*EB),0,EB);d=$.Za(Math.round(d*EB),0,EB);c==d&&(d+=d<EB?1:-1);c>d&&(e=a.f,a.f=a.b,a.b=e,e=a.Ba,a.Ba=a.ea,a.ea=e,e=c,c=d,d=e);c==a.D&&d==a.j||!LB(a,b,"scrollerchange",c,d)||(a.D=c,a.j=d,a.B(16,1));};MB=function MB(a,b,c){var d=a.ga,e=a.Mb();a=$.da(b)||!a.g("allowRangeChange")?(a.j-a.D)/EB*(e?d.width:d.height)/2:0;return e?$.Za(c,d.left+a,d.left+d.width-a):$.Za(c,d.top+a,d.top+d.height-a);};OB=function OB(a,b){var c=(c=a.g("allowRangeChange"))&&b==a.f?a.D:c&&b==a.b?a.j:(a.D+a.j)/2;c/=EB;a.g("inverted")&&(c=1-c);var d=a.ga;return a.Mb()?d.left+d.width*c:d.top+d.height*(1-c);};PB=function PB(a,b,c){$.cg.call(this,b.ia());this.i=a;this.b=c?b:null;this.Qj=void 0;this.ns=(0,$.pa)(function(){this.Qj=void 0;NB(this.i,this.b||!0,this.ba);},this);$.dg(this);this.ua("end",this.naa);};QB=function QB(a){$.U.call(this);this.Fa($.yr.thumbs);this.i=a;$.Q(this.ta,[["enabled",80,1],["autoHide",16,1]]);a={};$.Q(a,[["fill",16,1],["stroke",16,1]]);this.ca=new $.oy(this,a,$.hm);$.W(this,"normal",this.ca);this.ya=new $.oy(this,a,$.Ao);$.W(this,"hovered",this.ya);};RB=function RB(){$.FB.call(this);};$.SB=function(){$.FB.call(this,!0);this.af="after-axes";$.xq(this.ta,"position",20,9);};TB=function TB(a,b){this.D=b;this.oa=a;this.i=0;this.b=1;this.j=!0;this.f=null;};UB=function UB(a){var b=a.oa;Uz(b);b.J(65536)&&(b.Rq().f||b.Sq().f)&&b.nb();if(a.f)if((b=a.f.scale)||(b=a.oa,b=a.D?b.Qa():b.ab()),a.f.count&&$.J(b,$.St))b=a.f.count/b.values().length,a.f.Yea?a.sB(1-b,1):a.sB(0,b);else if($.n(a.f.start)&&$.n(a.f.end)&&b){var c=bt(b,b.transform(a.f.start,0)),d=bt(b,b.transform(a.f.end,1));c>d&&(c=bt(b,b.transform(a.f.end,0)),d=bt(b,b.transform(a.f.start,1)));a.sB(c,d);}else a.f=null;};$.VB=function(a){$.BA.call(this,$.n(a)?a:!0);this.Fa("cartesianBase");this.Tc=new TB(this,!0);this.Wf=new TB(this,!1);$.Q(this.ta,[["zAngle",4,9],["zAspect",4,9],["zDistribution",131076,9],["zPadding",4,9]]);};bC=function bC(a,b){var c="before-axes"==a.g("position");a.padding(0);a.ja(b);var d=a.Mb(),e=window.NaN;c?e=d?b.height-a.xd().height:b.width-a.xd().width:b=a.xd();return{u0:b,u5:e};};cC=function cC(a,b,c,d){if("before-axes"==c.g("position"))switch(c.g("orientation")){case"top":c.padding().top(b[0]+(a.eb||0));c.padding().bottom(0);b[0]+=d;break;case"bottom":c.padding().top(0);c.padding().bottom(b[2]+(a.Ha||0));b[2]+=d;break;case"left":c.padding().left(b[3]+(a.Ja||0));c.padding().right(0);b[3]+=d;break;case"right":c.padding().left(0),c.padding().right(b[1]+(a.Za||0)),b[1]+=d;}c.Mb()?(c.padding().left(b[3]),c.padding().right(b[1])):(c.padding().top(b[0]),c.padding().bottom(b[2]));return b;};$.dC=function(a,b){this.f={};this.b=[];this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1]);}else if(a)if(a instanceof $.dC)for(c=a.Wt(),d=0;d<c.length;d++)this.set(c[d],a.get(c[d]));else for(d in a)this.set(d,a[d]);};$.fC=function(a){if(a.i!=a.b.length){for(var b=0,c=0;b<a.b.length;){var d=a.b[b];$.eC(a.f,d)&&(a.b[c++]=d);b++;}a.b.length=c;}if(a.i!=a.b.length){var e={};for(c=b=0;b<a.b.length;)d=a.b[b],$.eC(e,d)||(a.b[c++]=d,e[d]=1),b++;a.b.length=c;}};$.eC=function(a,b){return Object.prototype.hasOwnProperty.call(a,b);};$.gC=function(){Ez.call(this);};$.hC=function(a){$.U.call(this);this.xa=a;this.Vb=this.Y=null;this.I(4294967295);$.Q(this.ta,[["stroke",0,1],["fill",0,1]]);};$.iC=function(a,b,c,d){$.Jg.call(this);this.j=a;this.i=b||$.ia;this.f=$.n(d)?d:this;this.b=[];};$.jC=function(a){var b=a.b.pop();b?a.i.call(a.f,b):b=a.j.call(a.f);a.gc(b);return b;};kC=function kC(a){$.OA.call(this,a);};lC=function lC(a,b,c,d,e,f,h){f=$.O(f,1);f=f<d?Math.floor(f):Math.ceil(f);$.MA(b[h.fill],a.wa,e,f);$.NA(b[h.fill],a.wa,c,d);$.MA(b[h.pe],a.wa,e,f);$.NA(b[h.pe],a.wa,c,d);$.MA(b[h.stroke],a.wa,c,d);};mC=function mC(a,b,c,d,e,f){var h=a.mh(f,a.prevValue);if(b!=a.b){var k=a.ma;var l=a.P;var m=a.K;f=PA(a,f);if(a.ba&&f)l=e,k=(c-a.ma)*(l-a.P)/(d-a.P)+a.ma;else if(!a.Ha||a.ba)k+=(c-k)/2,l+=(d-l)/2;$.NA(a.b[m.fill],a.wa,k,l);$.NA(a.b[m.pe],a.wa,k,l);$.NA(a.b[m.stroke],a.wa,k,l);a.i=k;a.Hm();a.X.gh()&&(a.f=[k,l]);a.b=b;$.MA(a.b[h.fill],a.wa,k,e);$.NA(a.b[h.fill],a.wa,k,l);$.MA(a.b[h.pe],a.wa,k,e);$.NA(a.b[h.pe],a.wa,k,l);$.MA(a.b[h.stroke],a.wa,k,l);}$.NA(a.b[h.fill],a.wa,c,d);$.NA(a.b[h.pe],a.wa,c,d);$.NA(a.b[h.stroke],a.wa,c,d);};$.nC=function(a){$.OA.call(this,a);};oC=function oC(a,b,c){var d=b.o("x"),e=b.o("value");b=b.o("size");b=Math.abs(b);a.wa&&(a=d,d=e,e=a);for(var f in c){a=c[f];a.Po(d).Qo(e).Cb(b);var h=a.Qd;h&&!$.yb(h)&&a.nc(1,0,0,1,0,0);}};pC=function pC(a){$.OA.call(this,a);};$.qC=function(a){$.OA.call(this,a);};rC=function rC(a){$.OA.call(this,a);};sC=function sC(a,b,c,d){var e=b.o("x");b=b.o("value");e-=a.j/2;var f=e+a.j,h=$.cc(c[d.stroke].stroke());e=$.O(e,h);f=$.O(f,h);b=$.O(b,h);c=c[d.stroke];$.MA(c,a.wa,e,b);$.NA(c,a.wa,f,b);};$.tC=function(a){$.OA.call(this,a);};$.uC=function(a){$.OA.call(this,a);this.f=$.oB("type",$.gr,!0);this.b=$.oB("markerSize",$.Fq,!0,"size");};$.vC=function(a,b,c,d,e){var f=b.o("x"),h=b.o("value"),k=a.f(a.X,b,c);b=a.b(a.X,b,c);k=$.E(k)?k:$.Dp(k);a.wa&&(a=f,f=h,h=a);k(d[e.path],f,h,b);k(d[e.pe],f,h,b);};wC=function wC(a){$.OA.call(this,a);};xC=function xC(a){$.OA.call(this,a);};$.yC=function(a){$.OA.call(this,a);};zC=function zC(){this.bc=0;this.G=this.D=this.Ba=this.ma=window.NaN;this.Ha=this.K=!1;this.Ya=[];this.Za=[];this.j=[];this.ea=[];this.ba=1;this.Th=[];};AC=function AC(a){a.Aa=a.P;a.P=null;};EC=function EC(a,b,c){var d=null;switch(a.bc){case 3:if(a.D==b&&a.G==c)break;d=a.ma;var e=a.Ba,f=a.D,h=a.G;BC(a,d,e,f,h,b,c);var k=[],l;var m=d+a.ea[0];var p=e+a.ea[1];var q=f-a.j[0]*a.ba;var r=h-a.j[1]*a.ba;var t=(m+q)/2;var u=(p+r)/2;if(a.P){"middle"==a.b&&(a.b=u);var v=!1;if($.A(a.b))for(l=0;l<a.b.length&&!(v=!!xn(d,e,m,p,t,u,a.b[l],a.b[l+1],a.b[l+2],a.b[l+3],a.b[l+4],a.b[l+5])[0]);l+=6);else v=e<=a.b&&u>=a.b||e>=a.b&&u<=a.b;v?(v=CC(a,d,e,m,p,t,u),l=v.VO,a.f("c",l[2],l[3],l[4],l[5],"bc",l[4],a.i),DC(a,v),AC(a),a.f("bs",l[4],a.i,l[4],l[5],"c",l[6],l[7],l[8],l[9],"c",q,r,f,h),k.push(l[0],l[1],l[2],l[3],l[4],l[5]),k.push(l[4],l[5],l[6],l[7],l[8],l[9]),k.push(t,u,q,r,f,h)):(v=CC(a,t,u,q,r,f,h),l=v.VO,a.f("c",m,p,t,u,"c",l[2],l[3],l[4],l[5],"bc",l[4],a.i),DC(a,v),AC(a),a.f("bs",l[4],a.i,l[4],l[5],"c",l[6],l[7],l[8],l[9]),k.push(d,e,m,p,t,u),k.push(l[0],l[1],l[2],l[3],l[4],l[5]),k.push(l[4],l[5],l[6],l[7],l[8],l[9]));}else a.f("c",m,p,t,u,"c",q,r,f,h),k.push(d,e,m,p,t,u,t,u,q,r,f,h);a.ba=(b-f)*a.Ja;a.ea[0]=a.j[0]*a.ba;a.ea[1]=a.j[1]*a.ba;d=k;a.ma=a.D;a.Ba=a.G;a.D=b;a.G=c;break;case 2:if(a.D==b&&a.G==c)break;f=a.ma;h=a.Ba;d=a.D;k=a.G;BC(a,f,h,d,k,b,c);e=[];p=(d-f)*a.Ja;m=d-a.j[0]*p;p=k-a.j[1]*p;a.P?(f=CC(a,f,h,m,p,d,k),h=f.VO,a.f("bs",h[0],a.i,h[0],h[1],"c",h[2],h[3],h[4],h[5],"bc",h[4],a.i),DC(a,f),AC(a),a.f("bs",h[4],a.i,h[4],h[5],"c",h[6],h[7],h[8],h[9]),e.push(h[0],h[1],h[2],h[3],h[4],h[5]),e.push(h[4],h[5],h[6],h[7],h[8],h[9])):(a.f("bs",f,a.i,f,h,"c",m,p,d,k),e.push(f,h,m,p,d,k));a.ba=(b-d)*a.Ja;a.ea[0]=a.j[0]*a.ba;a.ea[1]=a.j[1]*a.ba;d=e;a.ma=a.D;a.Ba=a.G;a.D=b;a.G=c;a.bc=3;break;case 1:if(a.ma==b&&a.Ba==c)break;a.D=b;a.G=c;a.bc=2;break;case 0:a.ma=b,a.Ba=c,a.bc=1;}return d;};FC=function FC(a){var b=null;switch(a.bc){case 3:var c=a.ma,d=a.Ba,e=a.D,f=a.G;b=[];var h=c+a.ea[0];var k=d+a.ea[1];a.P?(c=CC(a,c,d,h,k,e,f),d=c.VO,a.f("c",d[2],d[3],d[4],d[5],"bc",d[4],a.i),DC(a,c),AC(a),a.f("bs",d[4],a.i,d[4],d[5],"c",d[6],d[7],d[8],d[9],"bc",d[8],a.i),b.push(d[0],d[1],d[2],d[3],d[4],d[5]),b.push(d[4],d[5],d[6],d[7],d[8],d[9])):(a.f("c",h,k,e,f,"bc",e,a.i),b.push(c,d,h,k,e,f));if(a.Th.length){for(c=0;c<a.Th.length;c+=6)0==c&&a.f("l",a.Th[c],a.Th[c+1]),a.f("c",a.Th[c+2],a.Th[c+3],a.Th[c+4],a.Th[c+5]);a.Th.length=0;}break;case 2:c=a.ma;d=a.Ba;e=a.D;f=a.G;b=[];if(a.P){if(k=$.A(a.b)){var l=yn(c,d,e,f,a.b[0],a.b[1],a.b[4],a.b[5]);h=l.x;l=l.y;}else l="middle"==a.b?(d+f)/2:a.b,h=(e-c)*(l-d)/(f-d)+c;a.f("bs",c,a.i,c,d,"l",h,l,"bc",h,a.i);k&&a.f("l",a.b[4],a.b[5]);AC(a);a.f("bs",h,a.i,h,l,"l",e,f,"bc",e,a.i);k&&a.f("l",a.b[0],a.b[1]);b.push(c,d,c,d,h,l);b.push(h,l,e,f,e,f);}else a.f("bs",c,a.i,c,d,"l",e,f,"bc",e,a.i),b.push(c,d,c,d,e,f);if(a.Th.length){for(c=0;c<a.Th.length;c+=2)a.f("l",a.Th[c],a.Th[c+1]);a.Th.length=0;}break;case 1:b=null;}a.bc=0;return b;};GC=function GC(a,b){a.Ha^a.K&&(b=!b);a.Ja=b?-.25:.25;};HC=function HC(a,b,c,d,e){a[0]=d-b;a[1]=e-c;b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);a[0]/=b;a[1]/=b;};BC=function BC(a,b,c,d,e,f,h){HC(a.Ya,d,e,b,c);HC(a.Za,d,e,f,h);0<=a.Ya[1]*a.Za[1]?(a.j[0]=0>a.Ja?-1:1,a.j[1]=0):HC(a.j,a.Ya[0],a.Ya[1],a.Za[0],a.Za[1]);};CC=function CC(a,b,c,d,e,f,h){var k=0,l=0,m=0,p=0,q=0,r=0,t={};if($.A(a.b)){var u=[];var v=!1;for(var w=a.b.length-1;0<w;w-=6){var x=$.Wm(a.b[w-5],3);var y=$.Wm(a.b[w-4],3);var B=$.Wm(a.b[w-3],3);var G=$.Wm(a.b[w-2],3);var D=$.Wm(a.b[w-1],3);var K=$.Wm(a.b[w],3);if(P)t.Th||(t.Th=[]),t.Th.push(x,y,B,G,D,K);else var P=xn(b,c,d,e,f,h,x,y,B,G,D,K)[0];P?v||(k=x,l=y,m=B,p=G,q=D,r=K,v=!0):u.push(x,y,B,G,D,K);}P?(G=jn(b,c,d,e,f,h,P.x,P.y)||0,v=jn(k,l,m,p,q,r,P.x,P.y)||1):(P=new $.rn(b,c),k=x,l=y,m=B,p=G,q=D,r=K,G=0,v=1);}else if("middle"==a.b)G=.5,D=1-G,P=new $.rn(D*D*b+2*G*D*d+G*G*f,D*D*c+2*G*D*e+G*G*h);else if($.Zm(c,a.b))P=new $.rn(b,c),G=0;else if($.Zm(h,a.b))P=new $.rn(f,h),G=1;else{P=new $.rn(b,c);x=new $.rn(d,e);y=new $.rn(f,h);B=new $.rn(b,a.b);G=new $.rn(f,a.b);D=B.min(G);K=B.max(G);w=[];var R=sn(x,-2);var T=P.add(R.add(y));R=sn(P,-2);R=R.add(sn(x,2));var xa=new $.rn(P.x,P.y);var ta=new $.rn(B.y-G.y,G.x-B.x);T=wn(new un(ta.x*T.x+ta.y*T.y,ta.x*R.x+ta.y*R.y,ta.x*xa.x+ta.y*xa.y+(B.x*G.y-G.x*B.y)));for(R=0;R<T.length;R++)xa=T[R],0<=xa&&1>=xa&&(xa=tn(tn(P,x,xa),tn(x,y,xa),xa),B.x==G.x?D.y<=xa.y&&xa.y<=K.y&&w.push(xa):B.y==G.y?D.x<=xa.x&&xa.x<=K.x&&w.push(xa):xa.x>=D.x&&xa.y>=D.y&&xa.x<=K.x&&xa.y<=K.y&&w.push(xa));G=(P=w[0])?jn(b,c,d,e,f,h,P.x,P.y):.5;}D=1-G;x=b*D+d*G;y=c*D+e*G;B=d*D+f*G;G=e*D+h*G;P?(d=P.x,e=P.y):e=d=window.NaN;t.VO=[b,c,x,y,d,e,B,G,f,h];$.A(a.b)&&(D=1-v,x=k*D+m*v,y=l*D+p*v,P?(d=P.x,e=P.y):e=d=window.NaN,u.push(d,e,m*D+q*v,p*D+r*v,q,r),t.Kda=u,t.Th||(t.Th=[]),t.Th.push(k,l,x,y,d,e));return t;};DC=function DC(a,b){var c=b.Kda,d=b.Th;if(c)for(var e=c.length-1;0<e;e-=6)a.f("c",c[e-3],c[e-2],c[e-1],c[e]);a.Th&&a.Th.length&&a.f("c",a.Th[2],a.Th[3],a.Th[4],a.Th[5]);d&&(a.Th=d);};IC=function IC(a){$.OA.call(this,a);this.i=new zC();this.D=new zC();};JC=function JC(a){$.OA.call(this,a);};KC=function KC(a){$.OA.call(this,a);};LC=function LC(a,b,c,d){var e=b.o("x"),f=b.o("high");b=b.o("low");var h=$.cc(c[d].stroke());a.uv&&(e=$.O(e,h));f=$.O(f,h);b=$.O(b,h);c=c[d];$.MA(c,a.wa,e,b);$.NA(c,a.wa,e,f);};MC=function MC(a){$.OA.call(this,a);this.f=new zC();};NC=function NC(a){$.OA.call(this,a);this.i=new zC();};OC=function OC(a){$.OA.call(this,a);};PC=function PC(a,b,c,d,e){var f=a.b[b.fill],h=a.b[b.stroke];b=a.b[b.pe];switch(a.P){case"forward":break;case"backward":c=a.D;break;default:c=(c+a.D)/2;}$.NA(f,a.wa,c,d,c,e);$.NA(b,a.wa,c,d,c,e);$.NA(h,a.wa,c,d,c,e);return c;};QC=function QC(a,b,c,d,e,f){$.MA(b[c.fill],a.wa,d,f);$.NA(b[c.fill],a.wa,d,e);$.MA(b[c.pe],a.wa,d,f);$.NA(b[c.pe],a.wa,d,e);$.MA(b[c.stroke],a.wa,d,e);};RC=function RC(a,b,c,d,e,f,h){var k=a.i;if(b!=a.b){var l=a.b[a.K.fill];var m=a.b[a.K.pe];d=PA(a,d);a.ba&&d?(k=h,d=PC(a,a.K,e,a.i,k)):(d=PC(a,a.K,e,a.i,k),$.NA(l,a.wa,d,h),$.NA(m,a.wa,d,h));l.close();m.close();a.b=b;l=a.b[c.fill];b=a.b[c.stroke];m=a.b[c.pe];$.MA(l,a.wa,d,h);$.NA(l,a.wa,d,k);$.MA(m,a.wa,d,h);$.NA(m,a.wa,d,k);$.MA(b,a.wa,d,k);}PC(a,c,e,k,f);$.NA(a.b[c.fill],a.wa,e,f);$.NA(a.b[c.pe],a.wa,e,f);$.NA(a.b[c.stroke],a.wa,e,f);};SC=function SC(a){$.OA.call(this,a);};TC=function TC(a,b,c,d,e){b=a.b[b.stroke];switch(a.P){case"forward":break;case"backward":c=a.D;break;default:c=(c+a.D)/2;}$.NA(b,a.wa,c,d,c,e);return c;};UC=function UC(a){$.OA.call(this,a);};VC=function VC(a,b,c,d){var e=b.o("x"),f=b.o("zero");b=b.o("value");var h=$.cc(c[d.stroke].stroke());a.uv&&(e=$.O(e,h));f=$.O(f,1);f=f<b?Math.floor(f):Math.ceil(f);c=c[d.stroke];$.MA(c,a.wa,e,b);$.NA(c,a.wa,e,f);};$.XC=function(a){$.tf.call(this);this.f=this.i={};this.j=0;this.ea=_Vc(ada);this.ma=_Vc(bda);this.K=!0;this.G=this.P=!1;this.aa=!0;this.D=null;this.b=a;$.Ld(this.b,"keydown",this.BU,void 0,this);$.WC&&$.Ld(this.b,"keypress",this.z2,void 0,this);$.Ld(this.b,"keyup",this.t2,void 0,this);};YC=function YC(a){this.b=a||null;this.next=a?null:{};};dda=function dda(a){if($.z(a[1]))a=(0,$.Wa)(cda(a[1]),function(a){return ZC(a.key||"",a.keyCode,a.Hha);});else{var b=a,c=1;$.A(a[1])&&(b=a[1],c=0);for(a=[];c<b.length;c+=2)a.push(ZC("",b[c],b[c+1]));}return a;};cda=function cda(a){a=a.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase();a=a.split(" ");for(var b=[],c,d=0;c=a[d];d++){var e=c.split("+"),f=null,h=null;c=0;for(var k,l=0;k=e[l];l++){switch(k){case"shift":c|=1;continue;case"ctrl":c|=2;continue;case"alt":c|=4;continue;case"meta":c|=8;continue;}e=void 0;f=k;if(!$C){h={};for(e in aD)h[aD[e]]=Kp((0,window.parseInt)(e,10));$C=h;}h=$C[f];f=k;break;}b.push({key:f,keyCode:h,Hha:c});}return b;};_bD=function bD(a,b,c){var d=b.shift();(0,$.Re)(d,function(c){if((c=a[c])&&(0==b.length||c.b))throw Error("Keyboard shortcut conflicts with existing shortcut");});b.length?(0,$.Re)(d,function(d){d=d.toString();var e=new YC();d=d in a?a[d]:a[d]=e;_bD(d.next,b.slice(0),c);}):(0,$.Re)(d,function(b){a[b]=new YC(c);});};cD=function cD(a,b){for(var c=0;c<b.length;c++){var d=a[b[c]];if(d)return d;}};ZC=function ZC(a,b,c){c=c||0;b=["c_"+b+"_"+c];""!=a&&b.push("n_"+a+"_"+c);return b;};dD=function dD(a,b,c){vd.call(this,a,c);this.identifier=b;};eD=function eD(a){this.b=a;this.reset();};fD=function fD(a,b){$.JA.call(this,a,b.o("index"));this.node=b;};$.gD=function(a,b){$.Ex.call(this);this.Dr=["x","value"];this.fh=0;this.ba=[];this.Tc=[];this.data(a,b);};$.hD=function(a,b){var c=[];if(b){for(var d=b;d=d.getParent();)c.unshift(a.$d(d.o("index")));c.push(a.$d(b.o("index")));}return c;};$.iD=function(){};kD=function kD(a,b,c){if(a=a.Xa?a.Xa():a){var d=[b];$.id&&!$.dd("7")&&(d=$.jD($.Mj(a),b),d.push(b));(c?$.Sj:Waa)(a,d);}};$.lD=function(a,b,c){if(a=c||a.oH())c=b.getAttribute("role")||null,a!=c&&$.zy(b,a);};$.oD=function(a,b,c){b.Oe()||$.By(c,"hidden",!b.Oe());b.isEnabled()||a.Ru(c,1,!b.isEnabled());$.mD(b,8)&&a.Ru(c,8,b.Ue());$.mD(b,16)&&a.Ru(c,16,$.nD(b,16));$.mD(b,64)&&a.Ru(c,64,$.nD(b,64));};$.pD=function(a,b){var c=a.Dh(),d=[c],e=a.Dh();e!=c&&d.push(e);c=b.bc;for(e=[];c;){var f=c&-c;e.push(a.OG(f));c&=~f;}d.push.apply(d,e);(c=b.zs)&&d.push.apply(d,c);$.id&&!$.dd("7")&&d.push.apply(d,$.jD(d));return d;};$.jD=function(a,b){var c=[];b&&(a=$.Ga(a,[b]));(0,$.Re)([],function(d){!(0,$.qD)(d,$.qa($.Aa,a))||b&&!$.Aa(d,b)||c.push(d.join("_"));});return c;};$.rD=function(a){var b=a.Dh();a.b={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"};};$.sD=function(){};$.tD=function(a,b){a&&(b?a.title=b:a.removeAttribute("title"));};$.vD=function(a,b){if(!a)throw Error("Invalid class name "+a);if(!$.E(b))throw Error("Invalid decorator function "+b);$.uD[a]=b;};$.xD=function(a,b,c){$.Dy.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=$.oa(b);if(d=wD[d])break;b=b.u?b.u.constructor:null;}b=d?$.E(d.Gd)?d.Gd():new d():null;}this.i=b;this.Nd=$.n(a)?a:null;};$.zD=function(a,b){a.vf&&b!=a.PU&&yD(a,b);a.PU=b;};$.AD=function(a,b){b&&(a.zs?$.Aa(a.zs,b)||a.zs.push(b):a.zs=[b],kD(a,b,!0));};BD=function BD(a,b,c){c?$.AD(a,b):b&&a.zs&&$.Fa(a.zs,b)&&(0==a.zs.length&&(a.zs=null),kD(a,b,!1));};yD=function yD(a,b){var c=$.Fy(a),d=a.Xa();b?(c.ua(d,$.CD.fF,a.Tj).ua(d,[$.CD.gF,$.CD.eF],a.rr).ua(d,"mouseover",a.no).ua(d,"mouseout",a.gg),a.qH!=$.ia&&c.ua(d,"contextmenu",a.qH),$.id&&($.dd(9)||c.ua(d,"dblclick",a.s2),a.K||(a.K=new DD(a),$.qd(a,a.K)))):(c.ec(d,$.CD.fF,a.Tj).ec(d,[$.CD.gF,$.CD.eF],a.rr).ec(d,"mouseover",a.no).ec(d,"mouseout",a.gg),a.qH!=$.ia&&c.ec(d,"contextmenu",a.qH),$.id&&($.dd(9)||c.ec(d,"dblclick",a.s2),$.pd(a.K),a.K=null));};$.GD=function(a,b){ED(a,4,b)&&FD(a,4,b);};$.HD=function(a,b){ED(a,16,b)&&FD(a,16,b);};$.nD=function(a,b){return!!(a.bc&b);};FD=function FD(a,b,c,d){d||1!=b?$.mD(a,b)&&c!=$.nD(a,b)&&(a.i.AU(a,b,c),a.bc=c?a.bc|b:a.bc&~b):a.Dj(!c);};$.mD=function(a,b){return!!(a.Ju&b);};ID=function ID(a,b){return!!(a.kv&b)&&$.mD(a,b);};ED=function ED(a,b,c){return $.mD(a,b)&&$.nD(a,b)!=c&&(!(a.uJ&b)||a.dispatchEvent($.Ey(b,c)))&&!a.ld;};JD=function JD(a,b){return!!a.relatedTarget&&$.df(b,a.relatedTarget);};DD=function DD(a){$.nd.call(this);this.f=a;this.b=!1;this.oo=new pf(this);$.qd(this,this.oo);a=this.f.Cd;this.oo.ua(a,"mousedown",this.i).ua(a,"mouseup",this.j).ua(a,"click",this.D);};LD=function LD(a,b){if(!KD)return a.button=0,a.type=b,a;var c=window.document.createEvent("MouseEvents");c.initMouseEvent(b,a.bubbles,a.cancelable,a.view||null,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,a.relatedTarget||null);return c;};$.MD=function(){};$.ND=function(a,b,c){$.xD.call(this,a,b||$.MD.Gd(),c);};$.OD=function(a,b){a.fb=b;$.tD(a.Xa(),b);};$.PD=function(a,b){var c=a.i,d=$.Gy(a),e=c.Dh()+"-collapse-left";c=c.Dh()+"-collapse-right";BD(a,d?c:e,!!(b&1));BD(a,d?e:c,!!(b&2));};$.QD=function(a,b,c){$.ND.call(this,a||"",b,c);this.b=null;this.aa=0;this.P=null;};$.SD=function(a,b){a.b=b;$.n(void 0)&&(a.aa=void 0);a.vf&&RD(a);};RD=function RD(a){var b=a.Xa();b=a.i.En(b);var c=$.De(window.document,"I",null,b)[0];a.b?c?(c.className=a.b,$.Rf(c,!0)):(c=$.Oe("I",a.b),$.By(c,"hidden",!0),$.Xe(b,c,a.aa),a.P&&(c=$.Oe("SPAN","ac-fallback-symbol",a.P),$.Xe(b,c,a.aa+1))):c&&$.Rf(c,!1);};aa=[];$.TD=$.TD||{};$.fa=this;na="closure_uid_"+(1E9*Math.random()>>>0);aaa=0;$.Qn=Date.now||function(){return+new Date();};var kk,xk=null;$.H(_sa,Error);_sa.prototype.name="CustomError";var we;$.za=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0);}:function(a,b){if($.z(a))return $.z(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1;};$.eda=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1);}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if($.z(a))return $.z(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1;};$.Re=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c);}:function(a,b,c){for(var d=a.length,e=$.z(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a);};$.Ze=Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,b,c);}:function(a,b,c){for(var d=a.length,e=[],f=0,h=$.z(a)?a.split(""):a,k=0;k<d;k++)if(k in h){var l=h[k];b.call(c,l,k,a)&&(e[f++]=l);}return e;};$.Wa=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c);}:function(a,b,c){for(var d=a.length,e=Array(d),f=$.z(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e;};$.Kg=Array.prototype.reduce?function(a,b,c,d){d&&(b=(0,$.pa)(b,d));return Array.prototype.reduce.call(a,b,c);}:function(a,b,c,d){var e=c;(0,$.Re)(a,function(c,h){e=b.call(d,e,c,h,a);});return e;};$.Sw=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0);}:function(a,b){for(var c=a.length,d=$.z(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1;};$.qD=Array.prototype.every?function(a,b,c){return Array.prototype.every.call(a,b,c);}:function(a,b,c){for(var d=a.length,e=$.z(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0;};$.g=$.gb.prototype;$.g.clone=function(){return new $.gb(this.x,this.y);};$.g.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this;};$.g.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this;};$.g.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this;};$.g.translate=function(a,b){a instanceof $.gb?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),$.ea(b)&&(this.y+=b));return this;};$.g.scale=function(a,b){var c=$.ea(b)?b:a;this.x*=a;this.y*=c;return this;};$.g=$.kb.prototype;$.g.yd=function(){return this.right-this.left;};$.g.pd=function(){return this.bottom-this.top;};$.g.clone=function(){return new $.kb(this.top,this.right,this.bottom,this.left);};$.g.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this;};$.g.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this;};$.g.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this;};$.g.translate=function(a,b){a instanceof $.gb?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,$.ea(b)&&(this.top+=b,this.bottom+=b));return this;};$.g.scale=function(a,b){var c=$.ea(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this;};$.g=$.lb.prototype;$.g.clone=function(){return new $.lb(this.width,this.height);};$.g.pC=function(){return this.width*this.height;};$.g.aspectRatio=function(){return this.width/this.height;};$.g.Vj=function(){return!this.pC();};$.g.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this;};$.g.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this;};$.g.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this;};$.g.scale=function(a,b){var c=$.ea(b)?b:a;this.width*=a;this.height*=c;return this;};$.g=$.I.prototype;$.g.clone=function(){return new $.I(this.left,this.top,this.width,this.height);};$.g.qo=function(a){return this.left<=a.left+a.width&&a.left<=this.left+this.width&&this.top<=a.top+a.height&&a.top<=this.top+this.height;};$.g.Nf=function(a){return Math.sqrt($.rb(this,a));};$.g.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this;};$.g.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this;};$.g.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this;};$.g.translate=function(a,b){a instanceof $.gb?(this.left+=a.x,this.top+=a.y):(this.left+=a,$.ea(b)&&(this.top+=b));return this;};$.g.scale=function(a,b){var c=$.ea(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this;};$.gb.prototype.Ch=function(){return this.x;};$.gb.prototype.xs=function(){return this.y;};$.g=$.I.prototype;$.g.sb=function(){return this.left;};$.g.Ub=function(){return this.top;};$.g.yd=function(){return this.width;};$.g.pd=function(){return this.height;};$.g.bb=function(){return this.left+this.width;};$.g.Ta=function(){return this.top+this.height;};$.lb.prototype.yd=function(){return this.width;};$.lb.prototype.pd=function(){return this.height;};$.F("acgraph.math.Size",$.lb);$.F("acgraph.math.coordinate",function(a,b){return new $.gb(a,b);});$.F("acgraph.math.rect",function(a,b,c,d){return new $.I(a,b,c,d);});$.F("acgraph.math.Rect",$.I);var UD=$.gb.prototype;UD.getX=UD.Ch;UD.getY=UD.xs;UD=$.I.prototype;UD.getWidth=UD.yd;UD.getHeight=UD.pd;UD.getLeft=UD.sb;UD.getTop=UD.Ub;UD.getWidth=UD.yd;UD.getHeight=UD.pd;UD.getRight=UD.bb;UD.getBottom=UD.Ta;$.g=$.Cb.prototype;$.g.clone=function(){return new $.Cb(this.nd,this.Ve,this.gf,this.Le,this.Md,this.Hd);};$.g.setTransform=function(a,b,c,d,e,f){if(!($.ea(a)&&$.ea(b)&&$.ea(c)&&$.ea(d)&&$.ea(e)&&$.ea(f)))throw Error("Invalid transform parameters");this.nd=a;this.Ve=b;this.gf=c;this.Le=d;this.Md=e;this.Hd=f;return this;};$.g.scale=function(a,b){this.nd*=a;this.Ve*=a;this.gf*=b;this.Le*=b;return this;};$.g.translate=function(a,b){this.Md+=a*this.nd+b*this.gf;this.Hd+=a*this.Ve+b*this.Le;return this;};$.g.rotate=function(a,b,c){return $.vb(this,$.Jb(a,b,c));};$.g.toString=function(){return"matrix("+[this.nd,this.Ve,this.gf,this.Le,this.Md,this.Hd].join()+")";};$.g.transform=function(a,b,c,d,e){var f=b;for(b+=2*e;f<b;){e=a[f++];var h=a[f++];c[d++]=e*this.nd+h*this.gf+this.Md;c[d++]=e*this.Ve+h*this.Le+this.Hd;}};$.F("acgraph.vector.normalizeFill",$.Xb);$.F("acgraph.vector.normalizeStroke",$.Zb);$.F("acgraph.vector.normalizeHatchFill",$.ac);$.F("acgraph.vector.normalizeTextShadow",$.bc);$.ja($.dc);$.dc.prototype.f=0;$.dc.prototype.i=(1E9*Math.random()>>>0).toString(16);$.dc.prototype.b="ac_uid_"+(1E9*Math.random()>>>0);var iaa,jaa,kaa,laa,maa,naa,haa,uc,tc,oaa;$.zc=String.prototype.trim?function(a){return a.trim();}:function(a){return /^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1];};iaa=/&/g;jaa=/</g;kaa=/>/g;laa=/"/g;maa=/'/g;naa=/\x00/g;haa=/[\x00&<>"']/;uc={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"};tc={"'":"\\'"};oaa=String.prototype.repeat?function(a,b){return a.repeat(b);}:function(a,b){return Array(b+1).join(a);};var Ec;a:{var VD=$.fa.navigator;if(VD){var WD=VD.userAgent;if(WD){Ec=WD;break a;}}Ec="";};var Tc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");_$c[" "]=$.ia;var Jca,gda,hda,ida,jda;$.xd=$.Fc("Opera");$.id=$.Wc();$.Lp=$.Fc("Edge");$.fda=$.Lp||$.id;$.hd=$.Fc("Gecko")&&!(-1!=Ec.toLowerCase().indexOf("webkit")&&!$.Fc("Edge"))&&!($.Fc("Trident")||$.Fc("MSIE"))&&!$.Fc("Edge");$.wd=-1!=Ec.toLowerCase().indexOf("webkit")&&!$.Fc("Edge");$.zd=$.Fc("Macintosh");$.WC=$.Fc("Windows");Jca=$.Fc("Linux")||$.Fc("CrOS");gda=$.Fc("Android");hda=Yc();ida=$.Fc("iPad");jda=$.Fc("iPod");$.kda=Zc();a:{var XD="",YD=function(){var a=Ec;if($.hd)return /rv:([^\);]+)(\)|;)/.exec(a);if($.Lp)return /Edge\/([\d\.]+)/.exec(a);if($.id)return /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if($.wd)return /WebKit\/(\S+)/.exec(a);if($.xd)return /(?:Version)[ \/]?(\S+)/.exec(a);}();YD&&(XD=YD?YD[1]:"");if($.id){var ZD=bd();if(null!=ZD&&ZD>(0,window.parseFloat)(XD)){$.cd=String(ZD);break a;}}$.cd=XD;}var qaa={},$D;var aE=$.fa.document;$D=aE&&$.id?bd()||("CSS1Compat"==aE.compatMode?(0,window.parseInt)($.cd,10):5):void 0;var ed=$D;var saa={0:"Can't find an error message that corresponds to the specified error code",1:"Requested stage type is not supported",2:"Container should be defined to render stage",3:"Stage should have a DOM element",4:"Unable to set the parent component",5:"Trying to perform an operation with the disposed element",6:"Synchronous rendering didn't clean up all dirty states",7:"Can't add an element constructed by another Stage",8:"Wrong arguments passed to swapChildren",9:"Path must start with moveTo command",10:"Method must be implemented",11:"Missing required parameter",12:"Parameter type mismatch",13:"Required parameter is null or undefined",14:"Invalid number of parameters",15:"Sorry, this feature in not supported in VML oriented browsers"};var uaa=!$.id||$.fd(9),Yd=!$.id||$.fd(9),lda=$.id&&!$.dd("9"),zaa=function(){if(!$.fa.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function get(){a=!0;}});$.fa.addEventListener("test",$.ia,b);$.fa.removeEventListener("test",$.ia,b);return a;}();var ld=0,md={};$.nd.prototype.ld=!1;$.nd.prototype.kd=function(){if(!this.ld&&(this.ld=!0,this.R(),0!=ld)){var a=$.oa(this);if(0!=ld&&this.$u&&0<this.$u.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete md[a];}};$.nd.prototype.R=function(){if(this.$u)for(;this.$u.length;)this.$u.shift()();};vd.prototype.stopPropagation=function(){this.b=!0;};vd.prototype.preventDefault=function(){this.defaultPrevented=!0;this.g5=!1;};$.CD={Vma:"click",Yqa:"rightclick",zna:"dblclick",fF:"mousedown",gF:"mouseup",opa:"mouseover",npa:"mouseout",mpa:"mousemove",kpa:"mouseenter",lpa:"mouseleave",eF:"mousecancel",kra:"selectionchange",lra:"selectstart",Bsa:"wheel",Poa:"keypress",Ooa:"keydown",Qoa:"keyup",lma:"blur",uoa:"focus",Ana:"deactivate",voa:"focusin",woa:"focusout",Qma:"change",Tqa:"reset",ira:"select",Pra:"submit",Loa:"input",Mqa:"propertychange",Zna:"dragstart",Una:"drag",Wna:"dragenter",Yna:"dragover",Xna:"dragleave",O7:"drop",Vna:"dragend",asa:"touchstart",$ra:"touchmove",Zra:"touchend",Yra:"touchcancel",ima:"beforeunload",dna:"consolemessage",ena:"contextmenu",Cna:"devicechange",Dna:"devicemotion",Ena:"deviceorientation",Nna:"DOMContentLoaded",eoa:"error",t8:"help",Xoa:"load",epa:"losecapture",Wpa:"orientationchange",Sqa:"readystatechange",Uqa:"resize",fra:"scroll",hsa:"unload",vma:"canplay",wma:"canplaythrough",aoa:"durationchange",coa:"emptied",doa:"ended",$oa:"loadeddata",apa:"loadedmetadata",eqa:"pause",wqa:"play",xqa:"playing",Pqa:"ratechange",gra:"seeked",hra:"seeking",Kra:"stalled",Rra:"suspend",Xra:"timeupdate",wsa:"volumechange",ysa:"waiting",Ira:"sourceopen",Hra:"sourceended",Gra:"sourceclosed",yla:"abort",ksa:"update",nsa:"updatestart",lsa:"updateend",Doa:"hashchange",bqa:"pagehide",cqa:"pageshow",Lqa:"popstate",hna:"copy",dqa:"paste",u7:"cut",bma:"beforecopy",cma:"beforecut",gma:"beforepaste",Upa:"online",Tpa:"offline",hpa:"message",ana:"connect",Moa:"install",Ala:"activate",loa:"fetch",yoa:"foreignfetch",ipa:"messageerror",Lra:"statechange",msa:"updatefound",gna:"controllerchange",Lla:yd("AnimationStart"),Jla:yd("AnimationEnd"),Kla:yd("AnimationIteration"),bsa:yd("TransitionEnd"),Bqa:"pointerdown",Hqa:"pointerup",Aqa:"pointercancel",Eqa:"pointermove",Gqa:"pointerover",Fqa:"pointerout",Cqa:"pointerenter",Dqa:"pointerleave",Boa:"gotpointercapture",fpa:"lostpointercapture",qpa:"MSGestureChange",rpa:"MSGestureEnd",spa:"MSGestureHold",tpa:"MSGestureStart",upa:"MSGestureTap",vpa:"MSGotPointerCapture",wpa:"MSInertiaStart",xpa:"MSLostPointerCapture",ypa:"MSPointerCancel",zpa:"MSPointerDown",Apa:"MSPointerEnter",Bpa:"MSPointerHover",Cpa:"MSPointerLeave",Dpa:"MSPointerMove",Epa:"MSPointerOut",Fpa:"MSPointerOver",Gpa:"MSPointerUp",Y9:"text",Vra:$.id?"textinput":"textInput",Yma:"compositionstart",Zma:"compositionupdate",Xma:"compositionend",dma:"beforeinput",joa:"exit",Yoa:"loadabort",Zoa:"loadcommit",bpa:"loadredirect",cpa:"loadstart",dpa:"loadstop",Vqa:"responsive",Cra:"sizechanged",isa:"unresponsive",vsa:"visibilitychange",Ora:"storage",Sna:"DOMSubtreeModified",Ona:"DOMNodeInserted",Qna:"DOMNodeRemoved",Rna:"DOMNodeRemovedFromDocument",Pna:"DOMNodeInsertedIntoDocument",Lna:"DOMAttrModified",Mna:"DOMCharacterDataModified",hma:"beforeprint",Dla:"afterprint",fma:"beforeinstallprompt",Mla:"appinstalled"};$.H($.Ad,vd);var vaa=[1,4,2],taa={2:"touch",3:"pen",4:"mouse"};$.Ad.prototype.IA=function(){return Bd(this,0)&&!($.wd&&$.zd&&this.ctrlKey);};$.Ad.prototype.stopPropagation=function(){$.Ad.u.stopPropagation.call(this);this.Be.stopPropagation?this.Be.stopPropagation():this.Be.cancelBubble=!0;};$.Ad.prototype.preventDefault=function(){$.Ad.u.preventDefault.call(this);var a=this.Be;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,lda)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1;}catch(b){}};$.Ad.prototype.C1=ba(0);var Cd="closure_listenable_"+(1E6*Math.random()|0),waa=0;Hd.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.b[f];a||(a=this.b[f]=[],this.f++);var h=Jd(a,b,d,e);-1<h?(b=a[h],c||(b.ZK=!1)):(b=new xaa(b,this.src,f,!!d,e),b.ZK=c,a.push(b));return b;};Hd.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.b))return!1;var e=this.b[a];b=Jd(e,b,c,d);return-1<b?(Fd(e[b]),Ea(e,b),0==e.length&&(delete this.b[a],this.f--),!0):!1;};Hd.prototype.VG=function(a,b,c,d){a=this.b[a.toString()];var e=-1;a&&(e=Jd(a,b,c,d));return-1<e?a[e]:null;};var Vd="closure_lm_"+(1E6*Math.random()|0),ee={},Xd=0,he="__closure_events_fn_"+(1E9*Math.random()>>>0);$.F("acgraph.events.listen",$.Ld);$.F("acgraph.events.listenOnce",_Kd);$.F("acgraph.events.unlisten",$.Zd);$.F("acgraph.events.unlistenByKey",$d);$.F("acgraph.events.removeAll",$.ce);var Baa=!$.id||$.fd(9),Caa=!$.hd&&!$.id||$.id&&$.fd(9)||$.hd&&$.dd("1.9.1"),bE=$.id&&!$.dd("9"),Daa=$.id||$.xd||$.wd;$.je.prototype.zy=!0;$.je.prototype.au=function(){return this.b;};$.je.prototype.toString=function(){return"Const{"+this.b+"}";};$.ie={};$.ke("");$.me.prototype.zy=!0;$.me.prototype.au=function(){return this.f;};$.me.prototype.cV=!0;$.me.prototype.b=ba(2);$.le={};$.ne("about:blank");$.pe.prototype.zy=!0;$.oe={};$.pe.prototype.au=function(){return this.b;};$.mda=$.qe("");$.cE=RegExp("\\b(url\\([ \t\n]*)('[ -&(-\\[\\]-~]*'|\"[ !#-\\[\\]-~]*\"|[!#-&*-\\[\\]-~]*)([ \t\n]*\\))","g");$.nda=RegExp("\\b(hsl|hsla|rgb|rgba|matrix|(rotate|scale|translate)(X|Y|Z|3d)?)\\([-0-9a-z.%, ]+\\)","g");$.se.prototype.cV=!0;$.se.prototype.b=ba(1);$.se.prototype.zy=!0;$.se.prototype.au=function(){return this.f;};$.re={};$.te("<!DOCTYPE html>",0);$.te("",0);$.te("<br>",0);var Ee={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Eaa={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},of={IMG:" ",BR:"\n"};$.g=ue.prototype;$.g.Xa=function(a){return $.Ce(this.b,a);};$.g.getElementsByTagName=function(a,b){return(b||this.b).getElementsByTagName(String(a));};$.g.sc=function(a,b,c){return Ne(this.b,arguments);};$.g.createElement=function(a){return $.Te(this.b,a);};$.g.appendChild=$.Ue;$.g.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case"APPLET":case"AREA":case"BASE":case"BR":case"COL":case"COMMAND":case"EMBED":case"FRAME":case"HR":case"IMG":case"INPUT":case"IFRAME":case"ISINDEX":case"KEYGEN":case"LINK":case"NOFRAMES":case"NOSCRIPT":case"META":case"OBJECT":case"PARAM":case"SCRIPT":case"SOURCE":case"STYLE":case"TRACK":case"WBR":return!1;}return!0;};$.g.dj=$.We;$.g.Fga=$.Xe;$.g.Ol=$.$e;$.g.Q1=$.af;$.g.PH=$.bf;$.H(pf,$.nd);var dE=[];$.g=pf.prototype;$.g.ua=function(a,b,c,d){$.A(b)||(b&&(dE[0]=b.toString()),b=dE);for(var e=0;e<b.length;e++){var f=$.Ld(a,b[e],c||this.handleEvent,d||!1,this.oo||this);if(!f)break;this.b[f.key]=f;}return this;};$.g.De=function(a,b,c,d){return _qf(this,a,b,c,d);};$.g.ec=function(a,b,c,d,e){if($.A(b))for(var f=0;f<b.length;f++)this.ec(a,b[f],c,d,e);else if(a=$.de(a,b,c||this.handleEvent,$.C(d)?!!d.capture:!!d,e||this.oo||this))$d(a),delete this.b[a.key];return this;};$.g.R=function(){pf.u.R.call(this);rf(this);};$.g.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};$.H($.tf,$.nd);$.tf.prototype[Cd]=!0;$.g=$.tf.prototype;$.g.Yi=function(){return this.NW;};$.g.jb=function(a){this.NW=a;};$.g.addEventListener=function(a,b,c,d){$.Ld(this,a,b,c,d);};$.g.removeEventListener=function(a,b,c,d){$.Zd(this,a,b,c,d);};$.g.dispatchEvent=function(a){var b,c=this.Yi();if(c)for(b=[];c;c=c.Yi())b.push(c);c=this.y$;var d=a.type||a;if($.z(a))a=new vd(a,c);else if(a instanceof vd)a.target=a.target||c;else{var e=a;a=new vd(d,c);$.Uc(a,e);}e=!0;if(b)for(var f=b.length-1;!a.b&&0<=f;f--){var h=a.currentTarget=b[f];e=$.uf(h,d,!0,a)&&e;}a.b||(h=a.currentTarget=c,e=$.uf(h,d,!0,a)&&e,a.b||(e=$.uf(h,d,!1,a)&&e));if(b)for(f=0;!a.b&&f<b.length;f++)h=a.currentTarget=b[f],e=$.uf(h,d,!1,a)&&e;return e;};$.g.R=function(){$.tf.u.R.call(this);this.zl();this.NW=null;};$.g.ua=function(a,b,c,d){return this.dy.add(String(a),b,!1,c,d);};$.g.De=function(a,b,c,d){return this.dy.add(String(a),b,!0,c,d);};$.g.ec=function(a,b,c,d){return this.dy.remove(String(a),b,c,d);};$.g.JB=function(a){return Id(this.dy,a);};$.g.zl=function(a){if(this.dy){var b=this.dy;a=a&&a.toString();var c=0,d;for(d in b.b)if(!a||d==a){for(var e=b.b[d],f=0;f<e.length;f++)++c,Fd(e[f]);delete b.b[d];b.f--;}b=c;}else b=0;return b;};$.g.VG=function(a,b,c,d){return this.dy.VG(String(a),b,c,d);};var zf={},Tf=$.hd?"MozUserSelect":$.wd||$.Lp?"WebkitUserSelect":null,$f={thin:2,medium:4,thick:6};$.oda=function(){if($.WC){var a=/Windows NT ([0-9.]+)/;return(a=a.exec(Ec))?a[1]:"0";}return $.zd?(a=/10[_.][0-9_.]+/,(a=a.exec(Ec))?a[0].replace(/_/g,"."):"10"):gda?(a=/Android\s+([^\);]+)(\)|;)/,(a=a.exec(Ec))?a[1]:""):hda||ida||jda?(a=/(?:iPhone|CPU)\s+OS\s+(\S+)/,(a=a.exec(Ec))?a[1].replace(/_/g,"."):""):"";}();var pda,qda,rda;pda=$.Fc("Firefox");$.eE=Yc()||$.Fc("iPod");$.fE=$.Fc("iPad");qda=$.Fc("Android")&&!(Xc()||$.Fc("Firefox")||$.Fc("Opera")||$.Fc("Silk"));rda=Xc();$.gE=$.Fc("Safari")&&!(Xc()||$.Fc("Coast")||$.Fc("Opera")||$.Fc("Edge")||$.Fc("Silk")||$.Fc("Android"))&&!Zc();$.sda=function(){if(pda)return bg(/Firefox\/([0-9.]+)/);if($.id||$.Lp||$.xd)return $.cd;if(rda)return Zc()?bg(/CriOS\/([0-9.]+)/):bg(/Chrome\/([0-9.]+)/);if($.gE&&!Zc())return bg(/Version\/([0-9.]+)/);if($.eE||$.fE){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(Ec);if(a)return a[1]+"."+a[2];}else if(qda)return(a=bg(/Android\s+([0-9.]+)/))?a:bg(/Version\/([0-9.]+)/);return"";}();$.H($.cg,$.tf);var Faa=$.fa.document&&$.fa.document.documentElement&&!!$.fa.document.documentElement.setCapture&&!!$.fa.document.releaseCapture;$.g=$.cg.prototype;$.g.FX=function(a){this.f=a||new $.I(window.NaN,window.NaN,window.NaN,window.NaN);};$.g.Dj=function(a){this.K=a;};$.g.R=function(){$.cg.u.R.call(this);$.Zd(this.D,["touchstart","mousedown"],this.kk,!1,this);rf(this.Og);this.G&&this.j.releaseCapture();this.D=this.target=null;};$.g.kk=function(a){var b="mousedown"==a.type;if(!this.K||this.hp||b&&!a.IA())this.dispatchEvent("earlycancel");else{if(0==this.P){if(this.dispatchEvent(new fg("start",this,a.clientX,a.clientY,a)))this.hp=!0,b&&a.preventDefault();else return;}else b&&a.preventDefault();b=this.j;var c=b.documentElement,d=!this.G;this.Og.ua(b,["touchmove","mousemove"],this.hga,{capture:d,passive:!1});this.Og.ua(b,["touchend","mouseup"],this.by,d);this.G?(c.setCapture(!1),this.Og.ua(c,"losecapture",this.by)):this.Og.ua(b?$.Je(b):window,"blur",this.by);this.t5&&this.Og.ua(this.t5,"scroll",this.Mia,d);this.clientX=this.ma=a.clientX;this.clientY=this.Ba=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Yq();this.aa=$.Me($.Be(this.j).b);}};$.g.by=function(a,b){rf(this.Og);this.G&&this.j.releaseCapture();if(this.hp){this.hp=!1;var c=this.OA(this.deltaX),d=this.uw(this.deltaY);this.dispatchEvent(new fg("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type));}else this.dispatchEvent("earlycancel");};$.g.hga=function(a){if(this.K){var b=a.clientX-this.clientX,c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.hp){var d=this.ma-this.clientX,e=this.Ba-this.clientY;if(d*d+e*e>this.P)if(this.dispatchEvent(new fg("start",this,a.clientX,a.clientY,a)))this.hp=!0;else{this.ld||this.by(a);return;}}c=eg(this,b,c);b=c.x;c=c.y;this.hp&&this.dispatchEvent(new fg("beforedrag",this,a.clientX,a.clientY,a,b,c))&&(hg(this,a,b,c),a.preventDefault());}};$.g.Mia=function(a){var b=eg(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;hg(this,a,b.x,b.y);};$.g.OA=function(a){var b=this.f,c=(0,window.isNaN)(b.left)?null:b.left;b=(0,window.isNaN)(b.width)?0:b.width;return Math.min(null!=c?c+b:window.Infinity,Math.max(null!=c?c:-window.Infinity,a));};$.g.uw=function(a){var b=this.f,c=(0,window.isNaN)(b.top)?null:b.top;b=(0,window.isNaN)(b.height)?0:b.height;return Math.min(null!=c?c+b:window.Infinity,Math.max(null!=c?c:-window.Infinity,a));};$.g.Yq=function(){this.deltaX=this.target.offsetLeft;this.deltaY=this.target.offsetTop;};$.g.gs=function(a,b){this.target.style.left=a+"px";this.target.style.top=b+"px";};$.H(fg,vd);$.H(ig,$.cg);$.g=ig.prototype;$.g.Cja=function(){return this.i.dispatchEvent("earlycancel");};$.g.CO=function(a){return this.i.dispatchEvent(new fg(a.type,this,a.clientX,a.clientY,a.tC,a.left,a.top,a.j));};$.g.FX=function(a){this.f=a||new $.I(window.NaN,window.NaN,window.NaN,window.NaN);};$.g.Yq=function(){this.deltaX=this.i.A1();this.deltaY=this.i.B1();};$.g.OA=function(){this.b[0]=this.deltaX;this.b[1]=this.deltaY;if(!(0,window.isNaN)(this.f.left)||!(0,window.isNaN)(this.f.top)){var a=this.i.parent().Gg();a&&pg(this.i.parent()).transform(this.b,0,this.b,0,1);var b=this.f,c=(0,window.isNaN)(b.left)?null:b.left,d=(0,window.isNaN)(b.width)?0:b.width,e=(0,window.isNaN)(b.top)?null:b.top;b=(0,window.isNaN)(b.height)?0:b.height;d-=this.i.yd();b-=this.i.pd();b=null!=e?e+b:window.Infinity;e=null!=e?e:-window.Infinity;this.b[0]=Math.min(null!=c?c+d:window.Infinity,Math.max(null!=c?c:-window.Infinity,this.b[0]));this.b[1]=Math.min(b,Math.max(e,this.b[1]));a&&a.transform(this.b,0,this.b,0,1);}return this.b[0];};$.g.uw=function(){return this.b[1];};$.g.gs=function(a,b){var c=pg(this.i.parent());if(c){var d=[a,b];c.transform(d,0,d,0,1);a=d[0];b=d[1];}this.i.setPosition(a,b);};$.H($.kg,$.tf);var jg=4294967295;$.g=$.kg.prototype;$.g.tG=!1;$.g.MC=!1;$.g.lx=null;$.g.mx=null;$.g.xv=null;$.g.yv=null;$.g.ow=!1;$.g.JC=null;$.g.aE=null;$.g.Sd=null;$.g.Y=null;$.g.dB=null;$.g.ij=!0;$.g.ri=null;$.g.KL=!1;$.g.Qd=null;$.g.MG=null;$.g.QY=0;$.g.hl=506631;$.g.LC=0;$.g.id=function(a){if($.n(a))return a=a||"",this.fe!=a&&(this.fe=a,this.Ob(2048)),this;$.n(this.fe)||this.id(ec($.dc.Gd(),this));return this.fe;};$.g.Ia=function(){var a=this.parent();return a?a.Ia():null;};$.g.ia=function(){return this.Sd;};$.g.parent=function(a){if($.n(a)){if(a){if(a!=this.Y){var b=this.Ia();b=b&&b!=a.Ia();a.gc(this);b&&this.vO();}}else this.remove();return this;}return this.Y;};$.g.vO=function(){var a=this.clip();a&&a.id(null);this.Ob(536);};$.g.ZM=function(){return!!this.Y;};$.g.remove=function(){this.Y&&this.Y.removeChild(this);return this;};$.g.title=function(a){return $.n(a)?(this.mx!=a&&(this.mx=a,this.Ob(65536)),this):this.mx;};$.g.RS=function(a){return $.n(a)?(this.yv!=a&&(this.yv=a,this.Ob(131072)),this):this.yv;};$.g.Bd=function(a,b){return $.n(b)?(this.qC[a]!==b&&(this.qC[a]=b,this.Ob(262144)),this):a in this.qC?this.qC[a]:$.ng().getAttribute(this.Sd,a);};$.g.cursor=function(a){return $.n(a)?(this.JC=a,this.iG(),this):this.JC;};$.g.iG=function(){this.Ob(4096);};$.g.vr=function(){return!!this.LC;};$.g.Pf=function(a){return!!(this.LC&a);};$.g.suspend=function(){this.AV=!0;};$.g.resume=function(){this.AV=!1;this.Ob(this.wP);this.wP=0;};$.g.Ob=function(a){if(a&=this.hl)this.AV?this.wP|=a:(this.LC|=a,this.Y&&this.Y.Ob(64),a=this.Ia(),!a||a.wf()||a.rN()||this.rN()||this.Pd());};$.g.el=function(a){this.Y&&this.Y==a||(this.dB?this.dB==a&&(this.dB=null):this.dB=this.Y,this.Y=a,this.jb(a));return this;};$.g.ov=$.ia;$.g.Ir=function(){this.oV=this.MG=null;this.Yd();this.Ob(4);og(this);};$.g.Ry=function(){this.MG=null;this.Yd();$.ng().EI()&&this.Ob(256);og(this);};$.g.Gg=function(){if(!this.MG){var a=this.Y?this.Y.Gg():null;this.MG=wb(a,this.Qd);}return this.MG;};$.g.rotate=function(a,b,c){this.ov();a=$.Jb($.bb(a),b||0,c||0);this.Qd?$.Hb(this.Qd,a):this.Qd=a;this.Ir();return this;};$.g.Bu=function(a,b){var c=Kb(this.qb(),b||"center");return this.rotate(a,c[0],c[1]);};$.g.BE=function(a,b,c){return this.rotate(a-this.kD(),b,c);};$.g.YO=function(a,b){return this.Bu(a-this.kD(),b);};$.g.translate=function(a,b){this.ov();this.Qd?this.Qd.translate(a,b):this.Qd=new $.Cb().setTransform(1,0,0,1,a,b);this.Ir();return this;};$.g.setPosition=function(a,b){var c=[a,b,this.Ch(),this.xs()];this.Qd&&$.Ib(this.Qd).transform(c,0,c,0,2);return this.translate(c[0]-c[2],c[1]-c[3]);};$.g.cka=function(a,b){this.ov();if(this.Qd){var c=this.Qd.Md,d=this.Qd.Hd;if(a==c&&b==d)return this;$.Fb(this.Qd,a-c,b-d);}else this.Qd=new $.Cb().setTransform(1,0,0,1,a,b);this.Ir();return this;};$.g.scale=function(a,b,c,d){this.ov();this.Qd||(this.Qd=new $.Cb());$.Db(this.Qd,a,b);$.Fb(this.Qd,(c||0)*(1-a),(d||0)*(1-b));this.Ir();return this;};$.g.OO=function(a,b,c){c=Kb(this.qb(),c||"center");return this.scale(a,b,c[0],c[1]);};$.g.IF=function(a,b,c,d,e,f){this.ov();this.Qd?$.vb(this.Qd,new $.Cb(a,b,c,d,e,f)):this.Qd=new $.Cb(a,b,c,d,e,f);this.Ir();return this;};$.g.nc=function(a,b,c,d,e,f){this.ov();this.Qd?this.Qd.setTransform(a,b,c,d,e,f):this.Qd=new $.Cb(a,b,c,d,e,f);this.Ir();return this;};$.g.kD=function(){return $.Bb(this.Qd);};$.g.gp=function(){return this.Qd?[this.Qd.nd,this.Qd.Ve,this.Qd.gf,this.Qd.Le,this.Qd.Md,this.Qd.Hd]:[1,0,0,1,0,0];};$.g.sc=function(a){var b=this.Ia(),c;if(c=b)c=hE,c=c==hE||2==c||3==c?0<b.oF(1):!0;if(c||a)this.Sd=this.Dt(),Vj(this),$.lg(this,1);};$.g.Dt=function(){return null;};$.g.rN=function(){return this.ow;};$.g.Pd=function(){this.ow=!0;if(this.ld||!this.Ia())return this;if(this.Pf(1)){this.sc();if(this.Pf(1))return this;this.tG&&this.Mm(this.tG);}this.$_();this.ik();this.ow=!1;return this;};$.g.$_=function(){};$.g.ik=function(){if(this.Pf(262144)){var a=$.ng(),b=this.qC,c=this.ia();if(c&&$.C(b))for(var d in b){var e=b[d];null===e?c.removeAttribute(d):a.kc(c,d,e);}this.qC={};$.lg(this,262144);}this.Pf(2)&&($.ng().Hi(this),$.lg(this,2));this.Pf(4096)&&this.Y4();this.Pf(8192)&&($.ng().I5(this),$.lg(this,8192));(this.Pf(4)||this.Pf(256))&&this.Tw();this.Pf(512)&&($.ng().zX(this),$.lg(this,512));this.Pf(32768)&&($.ng().y5(this,this.MC),$.lg(this,32768));this.Pf(65536)&&($.ng().JX(this,this.mx),$.lg(this,65536));this.Pf(131072)&&($.ng().BX(this,this.yv),$.lg(this,131072));this.Pf(2048)&&(a=$.ng(),$.sh(a,this.ia(),this.id()),$.lg(this,2048));};$.g.Tw=function(){$.ng().tB(this);$.lg(this,4);$.lg(this,256);};$.g.Y4=function(){$.ng().x5(this,this.JC||this.aE);$.lg(this,4096);};$.g.Fd=function(a){if(!$.n(a))return this.KL;this.KL=!!a;this.Ob(8192);return this;};$.g.dispatchEvent=function(a){$.z(a)?a=a.toLowerCase():"type"in a&&(a.type=String(a.type).toLowerCase());return $.kg.u.dispatchEvent.call(this,a);};$.g.ua=function(a,b,c,d){return $.kg.u.ua.call(this,String(a).toLowerCase(),b,c,d);};$.g.De=function(a,b,c,d){return $.kg.u.De.call(this,String(a).toLowerCase(),b,c,d);};$.g.ec=function(a,b,c,d){return $.kg.u.ec.call(this,String(a).toLowerCase(),b,c,d);};$.g.zl=function(a){$.n(a)&&(a=String(a).toLowerCase());return $.kg.u.zl.call(this,a);};$.g.zIndex=function(a){return $.n(a)?(a=+a||0,this.QY!=a&&(this.QY=a,this.Y&&this.Y.Ob(128)),this):this.QY||0;};$.g.visible=function(a){return $.n(a)?(a=!!a,this.ij!=a&&(this.ij=a,this.Ob(2)),this):this.ij;};$.g.bq=function(a){return $.n(a)?(a=!!a,this.MC!=a&&(this.MC=null!=a?a:!0,this.Ob(32768)),this):this.MC;};$.g.clip=function(a){if(0==arguments.length)return this.ri;var b="none"==a?null:a;if(!this.ri&&!b||this.ri&&this.ri===b)return this;b&&!$.J(b,$.Hg)?$.J(b,$.qg)&&b.ZM()&&$.J(b.parent(),$.Hg)?(this.ri&&!this.ri.ld&&$.Fa(this.ri.elements,this),this.ri=b.parent(),$.Ba(this.ri.elements,this)):this.ri?this.ri.shape(b):(this.ri=$.uk(b),$.Ba(this.ri.elements,this)):this.ri=b||null;this.Y&&this.Y.TF();this.Ob(512);return this;};$.g.ml=null;$.g.Ch=function(){return this.qb().left;};$.g.xs=function(){return this.qb().top;};$.g.yd=function(){return this.qb().width;};$.g.pd=function(){return this.qb().height;};$.g.qb=function(){return this.ml||this.Vt(this.Qd);};$.g.kF=null;$.g.A1=function(){return this.ir().left;};$.g.B1=function(){return this.ir().top;};$.g.KT=function(){return this.ir().width;};$.g.JT=function(){return this.ir().height;};$.g.ir=function(){return this.kF||this.Vt(this.Gg());};$.g.Vt=function(a){var b=a==this.Qd;if(this.ml&&b)a=this.ml.clone();else{var c=a==this.Gg();this.kF&&c?a=this.kF.clone():(a=this.wC(a),b&&(this.ml=a.clone()),c&&(this.kF=a.clone()));}return a;};$.g.wC=function(a){return $.zb(this.ck(),a);};$.g.ck=function(){return this.Vt(null);};$.g.Yd=function(){this.kF=this.ml=null;};$.g.Mm=function(a){return null!=a?((this.tG=a)&&!this.Pf(1)?(a=$.J(a,$.I)?this.tG:null,this.lf||(this.lf=new ig(this)),this.lf.Dj(!0),this.lf.FX(a)):this.lf&&this.lf.Dj(!1),this):this.tG;};$.g.me=function(a){"id"in a&&this.id(a.id);if("clip"in a){var b=$.uk();b.me(a.clip);this.clip(b);}"drag"in a&&(b=a.drag,this.Mm($.da(b)?b:new $.I(b.left,b.top,b.width,b.height)));"cursor"in a&&this.cursor(a.cursor);"transformation"in a&&this.nc.apply(this,a.transformation);};$.g.F=function(){var a={};this.fe&&(a.id=this.fe);var b=this.clip();b&&(a.clip=b.F());(b=this.cursor())&&(a.cursor=b);(b=this.Mm())&&(a.drag=b);(b=this.Qd)&&(a.transformation=[b.nd,b.Ve,b.gf,b.nd,b.Md,b.Hd]);return a;};$.g.kd=function(){$.kg.u.kd.call(this);};$.g.R=function(){this.ZM()?this.remove():this.VC();$.kg.u.R.call(this);};$.g.VC=function(){$.ud(this.oo,this.ri,this.lf);this.lf=this.ri=this.oo=null;this.el(null);jk(this);this.Qd=this.zB=this.Sd=null;};var iE=$.kg.prototype;iE.id=iE.id;iE.visible=iE.visible;iE.disableStrokeScaling=iE.bq;iE.domElement=iE.ia;iE.parent=iE.parent;iE.hasParent=iE.ZM;iE.remove=iE.remove;iE.attr=iE.Bd;iE.title=iE.title;iE.desc=iE.RS;iE.getStage=iE.Ia;iE.cursor=iE.cursor;iE.disablePointerEvents=iE.Fd;iE.rotate=iE.rotate;iE.rotateByAnchor=iE.Bu;iE.setRotation=iE.BE;iE.setRotationByAnchor=iE.YO;iE.translate=iE.translate;iE.setTranslation=iE.cka;iE.setPosition=iE.setPosition;iE.scale=iE.scale;iE.scaleByAnchor=iE.OO;iE.appendTransformationMatrix=iE.IF;iE.setTransformationMatrix=iE.nc;iE.getRotationAngle=iE.kD;iE.getTransformationMatrix=iE.gp;iE.clip=iE.clip;iE.zIndex=iE.zIndex;iE.getX=iE.Ch;iE.getY=iE.xs;iE.getWidth=iE.yd;iE.getHeight=iE.pd;iE.getBounds=iE.qb;iE.getAbsoluteX=iE.A1;iE.getAbsoluteY=iE.B1;iE.getAbsoluteWidth=iE.KT;iE.getAbsoluteHeight=iE.JT;iE.getAbsoluteBounds=iE.ir;iE.listen=iE.ua;iE.listenOnce=iE.De;iE.unlisten=iE.ec;iE.unlistenByKey=iE.JB;iE.removeAllListeners=iE.zl;iE.drag=iE.Mm;iE.dispose=iE.kd;$.H($.qg,$.kg);$.g=$.qg.prototype;$.g.hl=$.kg.prototype.hl|24;$.g.fill=function(a,b,c,d,e,f,h){if(!$.n(a))return this.G;var k=$.Xb.apply(this,arguments);this.G!=k&&(this.G=k,this.fc=this.fc&2|!(!k.mode&&!k.src),this.Ob(8));return this;};$.g.stroke=function(a,b,c,d,e){if(!$.n(a))return this.i;var f=$.Zb.apply(this,arguments);this.i!=f&&(this.i=f,this.fc=this.fc&1|f.mode<<1,this.Ob(16));return this;};$.g.fl=function(a){return $.n(a)?($.z(this.i)?this.i={color:this.i,thickness:(0,window.isNaN)(a)?1:+a}:this.i.thickness=(0,window.isNaN)(a)?1:+a,this.Ob(16),this):$.z(this.i)?1:$.cc(this.i);};$.g.$_=function(){this.fc&&this.Pf(32)&&(this.fc&1&&this.Ob(8),this.fc&2&&this.Ob(16));};$.g.ik=function(){$.qg.u.ik.call(this);if(this.Pf(8)||this.Pf(16))$.ng().L_(this),$.lg(this,8),$.lg(this,16);};$.g.me=function(a){if("fill"in a){var b=a.fill;var c=b.type;"pattern"==c?(c=b.bounds,c=$.Rb(new $.I(c.left,c.top,c.width,c.height)),c.me(b)):"hatchFill"==c?c=$b(b.hatchType,b.color,b.thickness,b.size):($.C(b)&&"type"in b&&delete b.type,c=b);this.fill(c);}"stroke"in a&&this.stroke(a.stroke);$.qg.u.me.call(this,a);};$.g.F=function(){var a=$.qg.u.F.call(this);if(this.G){if($.J(this.G,Og))var b={type:"hatchFill",hatchType:this.G.type,color:this.G.color,thickness:this.G.zf,size:this.G.size};else $.J(this.G,$.Qb)?b=this.G.F():$.C(this.G)&&"keys"in this.G?"cx"in this.G&&"cy"in this.G?(b=$.gd(this.G),b.type="RadialGradientFill"):(b=$.gd(this.G),b.type="LinearGradientFill"):b=this.G;b&&(a.fill=b);}this.i?a.stroke=this.i:$.C(this.i)&&"keys"in this.i&&("cx"in this.i&&"cy"in this.i?(b=$.gd(this.i),b.type="RadialGradientFill"):(b=$.gd(this.i),b.type="LinearGradientFill"),a.stroke=b);return a;};$.g.R=function(){delete this.G;delete this.i;$.qg.u.R.call(this);};var jE=$.qg.prototype;jE.stroke=jE.stroke;jE.strokeThickness=jE.fl;jE.fill=jE.fill;jE.attr=jE.Bd;$.H(rg,$.qg);$.g=rg.prototype;$.g.hl=$.qg.prototype.hl|32;$.g.Qm=function(){return"ellipse";};$.g.Po=function(a){return $.n(a)?(this.f.x!=a&&(this.f.x=a,this.Yd(),this.Ob(32)),this):this.f.x;};$.g.Qo=function(a){return $.n(a)?(this.f.y!=a&&(this.f.y=a,this.Yd(),this.Ob(32)),this):this.f.y;};$.g.Rp=function(a){return $.n(a)?($.hb(this.f,a)||(this.f.x=a.x,this.f.y=a.y,this.Yd(),this.Ob(32)),this):this.f.clone();};$.g.Tr=function(a){return $.n(a)?(this.b!=a&&(this.b=a,this.Yd(),this.Ob(32)),this):this.b;};$.g.xx=function(a){return $.n(a)?(this.j!=a&&(this.j=a,this.Yd(),this.Ob(32)),this):this.j;};$.g.bka=function(a,b){this.Tr(a);this.xx(b);return this;};$.g.ck=function(){return new $.I(this.f.x-this.b,this.f.y-this.j,this.b+this.b,this.j+this.j);};$.g.wC=function(a){if(a){var b=$.tb(this.f.x,this.f.y,this.b,this.j,0,360,!0);a.transform(b,0,b,0,b.length/2);a=ub.apply(null,b);}else a=this.ck();return a;};$.g.Dt=function(){return $.ng().B0();};$.g.ik=function(){this.Pf(32)&&(this.Bp(),this.fill()&&this.fill().src&&this.Ob(8));rg.u.ik.call(this);};$.g.Tw=function(){$.ng().z5(this);$.lg(this,4);$.lg(this,256);};$.g.Bp=function(){$.ng().CX(this);$.lg(this,32);};$.g.me=function(a){this.Po(a.cx).Qo(a.cy);"rx"in a&&this.Tr(a.rx);"ry"in a&&this.xx(a.ry);rg.u.me.call(this,a);};$.g.F=function(){var a=rg.u.F.call(this);a.type="ellipse";a.cx=this.Po();a.cy=this.Qo();a.rx=this.Tr();a.ry=this.xx();return a;};$.g.R=function(){this.Yd();this.f=null;rg.u.R.call(this);};$.F("acgraph.vector.Ellipse",rg);var kE=rg.prototype;kE.center=kE.Rp;kE.centerX=kE.Po;kE.centerY=kE.Qo;kE.radiusX=kE.Tr;kE.radiusY=kE.xx;kE.setRadius=kE.bka;$.H($.sg,rg);$.g=$.sg.prototype;$.g.Qm=function(){return"circle";};$.g.Cb=function(a){return null!=a?(this.Tr(a),this.xx(a),this):this.Tr();};$.g.Dt=function(){return $.ng().x0();};$.g.Bp=function(){$.ng().w5(this);$.lg(this,32);};$.g.me=function(a){this.Tr(a.radius);$.sg.u.me.call(this,a);};$.g.F=function(){var a=$.sg.u.F.call(this);a.type="circle";delete a.rx;delete a.ry;a.radius=this.Tr();return a;};$.F("acgraph.vector.Circle",$.sg);var lE=$.sg.prototype;lE.radius=lE.Cb;$.H($.tg,$.qg);var Gaa=[,2,2,6,6,2];$.g=$.tg.prototype;$.g.DT=function(a,b,c){ug(a,this.j,this.f,this.D,b,c);};$.g.Uea=function(a,b,c){if(this.mt)var d=this.mt;else{var e=this.Gg();e&&!$.yb(e)?(d=[],this.jJ(),e.transform(this.D,0,d,0,this.D.length/2)):d=this.D;}ug(a,this.j,this.f,d,b,c);};$.g.hl=$.qg.prototype.hl|32;$.g.tv=null;$.g.Vf=null;$.g.SX=!0;$.g.mt=null;$.g.Qm=function(){return"path";};$.g.Vj=function(){return 0==this.j.length;};$.g.jJ=function(){if(!this.SX){var a=this.D,b=this.j,c=this.f;this.D=[];this.j=[];this.f=[];vg(this);ug((0,$.pa)(function(a,b){mE[a].apply(this,b);},this),b,c,a);this.Ob(32);}};$.g.QN=function(a,b){1==$.ua(this.j)?this.D.length-=2:(this.j.push(1),this.f.push(1));this.D.push(a,b);this.Vf=this.tv=[a,b];this.mt=null;this.Ob(32);return this;};$.g.Ks=function(a,b,c){var d=$.ua(this.j);if(null==d)throw $.kd(9);2!=d&&(this.j.push(2),this.f.push(0));for(d=0;d<arguments.length;d+=2)a=arguments[d],b=arguments[d+1],this.D.push(a,b);this.f[this.f.length-1]+=d/2;this.Vf=[a,b];this.Yd();this.mt=null;this.Ob(32);return this;};$.g.vL=function(a,b,c,d,e,f,h){var k=$.ua(this.j);if(null==k)throw $.kd(9);3!=k&&(this.j.push(3),this.f.push(0));for(k=0;k<arguments.length;k+=6){var l=arguments[k+4],m=arguments[k+5];this.D.push(arguments[k],arguments[k+1],arguments[k+2],arguments[k+3],l,m);}this.f[this.f.length-1]+=k/6;this.Vf=[l,m];this.Yd();this.mt=null;this.Ob(32);return this;};$.g.zja=function(a,b,c,d,e){if(0==this.j.length)throw $.kd(9);for(var f=this.Vf[0],h=this.Vf[1],k=0;k<arguments.length;k+=4){a=arguments[k];b=arguments[k+1];var l=arguments[k+2],m=arguments[k+3];this.vL(f+2*(a-f)/3,h+2*(b-h)/3,a+(l-a)/3,b+(m-b)/3,l,m);f=l;h=m;}return this;};$.g.O_=function(a,b,c,d){a=$.tb(this.Vf[0]-$.db(c,a),this.Vf[1]-$.eb(c,b),a,b,c,d);this.vL.apply(this,a);this.Yd();this.mt=null;this.Ob(32);return this;};$.g.bS=function(){var a=$.ua(this.j);if(null==a)throw $.kd(9);5!=a&&(this.D.push(this.tv[0],this.tv[1]),this.j.push(5),this.f.push(1),this.Vf=this.tv,this.Ob(32));return this;};$.g.wC=function(a){if(this.Vf){if(a&&!$.yb(a)){var b=[this.Vf[0],this.Vf[1]];a.transform(b,0,b,0,1);b=new $.I(b[0],b[1],0,0);this.jJ();}else b=new $.I(this.Vf[0],this.Vf[1],0,0);this.DT(function(a,b){$.jd(nE[a],b,this);},{rect:b,transform:a},!0);}else b=new $.I(window.NaN,window.NaN,window.NaN,window.NaN);return b;};$.g.Ir=function(){$.tg.u.Ir.call(this);this.mt=null;};$.g.Ry=function(){$.tg.u.Ry.call(this);this.mt=null;};$.g.Tw=function(){$.ng().G5(this);$.lg(this,4);$.lg(this,256);};$.g.Dt=function(){return $.ng().G0();};$.g.ik=function(){$.tg.u.ik.call(this);this.Pf(32)&&($.ng().GX(this),$.lg(this,32));};var mE,oE=[];oE[1]=$.tg.prototype.QN;oE[2]=$.tg.prototype.Ks;oE[5]=$.tg.prototype.bS;oE[3]=$.tg.prototype.vL;oE[4]=$.tg.prototype.O_;mE=oE;var nE,pE=[];pE[1]=$.ia;pE[2]=function(a){var b=new $.I(0,0,0,0);if(this.transform){var c=arguments;this.transform.transform(c,0,c,0,Math.floor(arguments.length/2));}c=0;for(var d=arguments.length;c<d;c+=2)b.left=arguments[c],b.top=arguments[c+1],$.pb(this.rect,b);};pE[5]=$.ia;pE[3]=function(a){if(this.transform){var b=arguments;this.transform.transform(b,0,b,0,Math.floor(arguments.length/2));}$.pb(this.rect,ub.apply(null,arguments));};pE[4]=function(a,b,c,d,e,f,h,k){var l=new $.I(0,0,0,0);h=[a,h];k=[b,k];a-=$.db(e,c);b-=$.eb(e,d);var m=0<f?90:-90,p=90*(0<f?Math.ceil(e/90):Math.floor(e/90));for(e+=f;p<e^0>f;p+=m)switch((Math.floor(p/90)+4)%4){case 0:h.push(a+c);break;case 1:k.push(b+d);break;case 2:h.push(a-c);break;case 3:k.push(b-d);}l.left=Math.min.apply(null,h);l.width=Math.max.apply(null,h)-l.left;l.top=Math.min.apply(null,k);l.height=Math.max.apply(null,k)-l.top;$.pb(this.rect,l);};nE=pE;$.tg.prototype.Pg=function(){var a=0;if(this.Vj())return a;var b=[];this.DT(function(c,d){if(1!=c){var e=$.Ja(b,b.length-2);if(4==c){var f=6;d=$.tb(e[0]-$.db(d[2],d[0]),e[1]-$.eb(d[2],d[1]),d[0],d[1],d[2],d[3]);}else 2==c?f=2:3==c&&(f=6);for(var h=0,k=d.length-(f-1);h<k;h+=f){Array.prototype.push.apply(e,$.Ja(d,h,h+f));var l=a,m,p=e;var q=p.length;var r=q/2-1;var t=[];for(m=0;m<q;m+=2)t.push({x:p[m],y:p[m+1]});p=[];for(q=0;100>=q;q++){m=q/100;var u={x:0,y:0};if(0===m)p.push(t[0]);else if(1===m)p.push(t[r]);else{var v=t,w=1-m;if(1===r)m={x:w*v[0].x+m*v[1].x,y:w*v[0].y+m*v[1].y},p.push(m);else if(4>r){var x=w*w,y=m*m,B=0;if(2===r){v=[v[0],v[1],v[2],u];var G=x;var D=w*m*2;var K=y;}else 3===r&&(G=x*w,D=x*m*3,K=w*y*3,B=m*y);m={x:G*v[0].x+D*v[1].x+K*v[2].x+B*v[3].x,y:G*v[0].y+D*v[1].y+K*v[2].y+B*v[3].y};p.push(m);}else{for(v=JSON.parse(JSON.stringify(t));1<v.length;){for(u=0;u<v.length-1;u++)v[u]={x:v[u].x+(v[u+1].x-v[u].x)*m,y:v[u].y+(v[u+1].y-v[u].y)*m};v.splice(v.length-1,1);}p.push(v[0]);}}}for(u=t=0;u<p.length-1;u++)m=p[u],q=p[u+1],r=q.x-m.x,q=q.y-m.y,t+=Math.sqrt(r*r+q*q);a=l+(100*t|0)/100;e=$.Ja(e,e.length-2);}}$.jd(Array.prototype.push,d,b);});return a;};$.tg.prototype.me=function(a){this.tv=a.closePoint;this.Vf=a.currentPoint;this.j=a.segments;this.f=a.count;this.D=a.arguments;this.Ob(32);$.tg.u.me.call(this,a);};$.tg.prototype.F=function(){var a=$.tg.u.F.call(this);a.type="path";return a=$.zg(this,a);};$.tg.prototype.R=function(){this.Vf=this.tv=null;this.Yd();this.mt=null;delete this.j;delete this.f;delete this.D;$.tg.u.R.call(this);};$.H($.Cg,$.tg);$.g=$.Cg.prototype;$.g.clear=function(){return wg(this);};$.g.moveTo=function(a,b){return this.QN(a,b);};$.g.lineTo=function(a,b,c){return $.tg.prototype.Ks.apply(this,arguments);};$.g.Qk=function(a,b,c,d,e,f,h){return $.tg.prototype.vL.apply(this,arguments);};$.g.cK=function(a,b,c,d,e){return $.tg.prototype.zja.apply(this,arguments);};$.g.Ge=function(a,b,c,d,e,f,h){a+=$.db(e,c);b+=$.eb(e,d);this.Vf&&this.Vf[0]==a&&this.Vf[1]==b||(h?this.Ks(a,b):this.QN(a,b));return xg(this,c,d,e,f);};$.g.Af=function(a,b,c,d,e,f){return yg(this,a,b,c,d,e,f);};$.g.arcTo=function(a,b,c,d){return xg(this,a,b,c,d);};$.g.zR=function(a,b,c,d){return this.O_(a,b,c,d);};$.g.close=function(){return this.bS();};$.g.BZ=function(){return this.Vf?new $.gb(this.Vf[0],this.Vf[1]):null;};var qE=$.Cg.prototype;$.F("acgraph.vector.Path",$.Cg);qE.moveTo=qE.moveTo;qE.lineTo=qE.lineTo;qE.curveTo=qE.Qk;qE.quadraticCurveTo=qE.cK;qE.arcTo=qE.arcTo;qE.arcToByEndPoint=qE.Af;qE.arcToAsCurves=qE.zR;qE.circularArc=qE.Ge;qE.close=qE.close;qE.clear=qE.clear;qE.getCurrentPoint=qE.BZ;qE.getLength=qE.Pg;$.H(Eg,$.tg);$.g=Eg.prototype;$.g.hl=$.qg.prototype.hl|32;$.g.Qm=function(){return"rect";};$.g.Eo=function(a){a!=this.b.left&&(this.b.left=a,Dg(this));return this;};$.g.Fo=function(a){a!=this.b.top&&(this.b.top=a,Dg(this));return this;};$.g.Do=function(a){this.b.width!=a&&(this.b.width=a,Dg(this));return this;};$.g.Co=function(a){this.b.height!=a&&(this.b.height=a,Dg(this));return this;};$.g.Kf=function(a){$.nb(this.b,a)||(this.b.left=a.left,this.b.top=a.top,this.b.width=a.width,this.b.height=a.height,Dg(this));return this;};$.g.AX=function(a,b){var c,d;var e=$.Ja(arguments,1);var f=e[0];$.z(f)?d=Yb(f,4):d=e;4>d.length?d=c=f=e=(0,window.parseFloat)(d[0]):(e=(0,window.parseFloat)(d[0]),f=(0,window.parseFloat)(d[1]),c=(0,window.parseFloat)(d[2]),d=(0,window.parseFloat)(d[3]));this.P[0]=e?e:0;this.K[0]=e?a:void 0;this.P[1]=f?f:0;this.K[1]=f?a:void 0;this.P[2]=c?c:0;this.K[2]=c?a:void 0;this.P[3]=d?d:0;this.K[3]=d?a:void 0;};$.g.round=function(a,b,c,d){$.Ca(arguments,0,0,"round");this.AX.apply(this,arguments);Dg(this);return this;};$.g.Oja=function(a,b,c,d){$.Ca(arguments,0,0,"round-inner");this.AX.apply(this,arguments);Dg(this);return this;};$.g.Mda=function(a,b,c,d){$.Ca(arguments,0,0,"cut");this.AX.apply(this,arguments);Dg(this);return this;};$.g.me=function(a){Eg.u.me.call(this,a);this.Eo(a.x).Fo(a.y).Do(a.width).Co(a.height);a.cornerTypes&&(this.K=Yb(a.cornerTypes,4),a=Yb(a.cornerSizes,4),(0,$.Re)(a,function(a,c,d){d[c]=(0,window.parseFloat)(a);}),this.P=a,Dg(this));};$.g.F=function(){var a=Eg.u.F.call(this);a.type="rect";a.x=this.b.left;a.y=this.b.top;a.width=this.b.width;a.height=this.b.height;a.cornerTypes=this.K.join(" ");a.cornerSizes=this.P.join(" ");return a;};$.g.R=function(){this.b=this.K=this.P=null;this.Yd();Eg.u.R.call(this);};var rE=Eg.prototype;$.F("acgraph.vector.Rect",Eg);rE.setX=rE.Eo;rE.setY=rE.Fo;rE.setWidth=rE.Do;rE.setHeight=rE.Co;rE.setBounds=rE.Kf;rE.cut=rE.Mda;rE.round=rE.round;rE.roundInner=rE.Oja;$.H($.Hg,$.nd);$.Hg.prototype.j=function(a){return $.n(a)?(this.f=a,this.i&&(a=this.f,a.wf()?a.Ox.push(this):this.Pd()),this):this.f;};var sE={rect:Eg,circle:$.sg,ellipse:rg,path:$.Cg};$.g=$.Hg.prototype;$.g.shape=function(a,b,c,d){if(arguments.length){if($.J(a,$.qg)){if(this.b){var e=!1;for(h in sE){var f=sE[h];if($.J(this.b,f)&&$.J(a,f)){e=!0;break;}}e?this.b.me(a.F()):(this.b.parent(null),this.b=a,this.b.parent(this));}else this.b=a,this.b.parent(this);}else{if($.J(a,$.I)){e=a.left;var h=a.top;f=a.width;var k=a.height;}else $.A(a)?(e=null!=a[0]?a[0]:0,h=null!=a[1]?a[1]:0,f=null!=a[2]?a[2]:0,k=null!=a[3]?a[3]:0):$.C(a)?(e=null!=a.left?a.left:0,h=null!=a.top?a.top:0,f=null!=a.width?a.width:0,k=null!=a.height?a.height:0):(e=null!=a?a:0,h=null!=b?b:0,f=null!=c?c:0,k=null!=d?d:0);this.b?$.J(this.b,Eg)?this.b.Eo(e).Fo(h).Do(f).Co(k):(this.b.parent(null),this.b=$.nk(e,h,f,k),this.b.parent(this)):(this.b=$.nk(e,h,f,k),this.b.parent(this));}return this;}return this.b;};$.g.vr=function(){return this.i;};$.g.id=function(a){return $.n(a)?(this.fe=a,this):this.fe;};$.g.Pd=function(){this.i=!1;if(this.fe){$.ng();var a=this.shape();if(a.ia())this.shape().Pd();else{var b=dk(this.Ia().tn,this);a.Pd();a=a.ia();b.appendChild(a);}}};$.g.F=function(){return this.b.F();};$.g.me=function(a){var b=sE[a.type];b&&(b=new b(),b.me(a),this.shape(b));};$.g.gc=function(a){a.remove();a.el(this);Ig(this);mg(a,!0);return this;};$.g.removeChild=function(a){a.el(null);var b=a.ia();b&&$.Ye(b);Ig(this);mg(a,!1);return a;};$.g.Gg=function(){return null;};$.g.JI=function(){};$.g.Ia=function(){return this.j();};$.g.Ob=function(){Ig(this);};$.g.kd=function(){$.Hg.u.kd.call(this);};$.g.R=function(){this.f&&$.Fa(this.f.Ox,this);$.ng().T0(this);this.b.kd();delete this.f;delete this.fe;delete this.elements;delete this.i;delete this.b;$.Hg.u.R.call(this);};var tE=$.Hg.prototype;tE.shape=tE.shape;tE.dispose=tE.kd;$.H($.Jg,$.kg);$.g=$.Jg.prototype;$.g.Qm=function(){return"layer";};$.g.hl=$.kg.prototype.hl|224;$.g.vO=function(){for(var a=0;a<this.children.length;a++)this.children[a].vO();$.Jg.u.vO.call(this);};$.g.Ob=function(a){$.Jg.u.Ob.call(this,a);a&192&&this.Yd();};$.g.gc=function(a){return this.Cg(a,this.$b());};$.g.Cg=function(a,b){a.remove();b=$.Za(b,0,this.$b());$.Da(this.children,a,b);a.el(this);a.vr()&&this.Ob(64);this.Ob(128);a.Ry();var c=this.cursor()||this.aE;a.aE!=c&&(a.aE=c,a.iG());return this;};$.g.wd=function(a){return this.children[a]||null;};$.g.Ef=function(a){return(0,$.za)(this.children,a);};$.g.removeChild=function(a){return this.Cj(this.Ef(a));};$.g.Cj=function(a){var b=null;0<=a&&a<this.$b()&&(b=this.ld?this.children[a]:$.Ca(this.children,a,1)[0],b.el(null),this.Ob(128));return b;};$.g.dj=function(){for(var a=0;a<this.$b();a++)this.children[a].el(null);a=this.children;this.ld||(this.children=[]);this.Ob(128);return a;};$.g.yP=function(a,b){return this.AJ(this.Ef(a),this.Ef(b));};$.g.AJ=function(a,b){if(0>a||a>=this.$b()||0>b||b>=this.$b())throw $.kd(8);if(a!=b){var c=this.children[a];this.children[a]=this.children[b];this.children[b]=c;this.Ob(128);}return this;};$.g.XM=function(a){return!!a&&$.Aa(this.children,a);};$.g.$b=function(){return this.children.length;};$.g.Pj=function(a,b){$.n(b)||(b=this);(0,$.Re)(this.children,a,b);return this;};$.g.Ad=function(){var a=$.pk();a.parent(this);return a;};$.g.LP=function(){var a=$.vk();a.parent(this);return a;};$.g.text=function(a,b,c,d){a=$.tk(a,b);d&&a.style(d);c&&a.text(c);a.parent(this);return a;};$.g.dN=function(a,b,c,d){a=$.tk(a,b);d&&a.style(d);c&&a.htmlText(c);a.parent(this);return a;};$.g.rect=function(a,b,c,d){a=$.nk(a,b,c,d);a.parent(this);return a;};$.g.uk=function(a,b,c,d,e){a=sk(a,b,c,d,e);a.parent(this);return a;};$.g.IO=function(a,b){$.Da(arguments,this.path(),0);return _xi.apply(this,arguments).parent(this);};$.g.HO=function(a,b){$.Da(arguments,this.path(),0);return _yi.apply(this,arguments).parent(this);};$.g.JP=function(a,b){$.Da(arguments,this.path(),0);return _wi.apply(this,arguments).parent(this);};$.g.pn=function(a,b,c){a=$.ok(a,b,c);a.parent(this);return a;};$.g.ellipse=function(a,b,c,d){a=$.qk(a,b,c,d);a.parent(this);return a;};$.g.path=function(){return $.rk().parent(this);};$.g.kP=function(a,b,c,d,e,f,h){return bi(this.path(),a,b,c,d,e,f,h).parent(this);};$.g.mP=function(a,b,c){return fi(this.path(),a,b,c).parent(this);};$.g.nP=function(a,b,c){return gi(this.path(),a,b,c).parent(this);};$.g.oP=function(a,b,c){return hi(this.path(),a,b,c).parent(this);};$.g.pP=function(a,b,c){return ii(this.path(),a,b,c).parent(this);};$.g.lP=function(a,b,c){return ji(this.path(),a,b,c).parent(this);};$.g.IP=function(a,b,c){return ki(this.path(),a,b,c).parent(this);};$.g.FP=function(a,b,c){return li(this.path(),a,b,c).parent(this);};$.g.HP=function(a,b,c){return mi(this.path(),a,b,c).parent(this);};$.g.GP=function(a,b,c){return ni(this.path(),a,b,c).parent(this);};$.g.JL=function(a,b,c){return oi(this.path(),a,b,c).parent(this);};$.g.qL=function(a,b,c){return pi(this.path(),a,b,c).parent(this);};$.g.IL=function(a,b,c){return qi(this.path(),a,b,c).parent(this);};$.g.VM=function(a,b,c){return ri(this.path(),a,b,c).parent(this);};$.g.PP=function(a,b,c){return si(this.path(),a,b,c).parent(this);};$.g.pg=function(a,b,c,d,e){return ti(this.path(),a,b,c,d,e).parent(this);};$.g.OL=function(a,b,c,d,e,f){return $.ui(this.path(),a,b,c,d,e,f).parent(this);};$.g.Dt=function(){return $.ng().So();};$.g.ik=function(){this.Pf(32)&&this.Bp();var a=this.Ia();a=a.oF(Math.floor(Math.max(500-a.fs,0)/3));this.Pf(64)&&Lg(this);var b=this.Ia();b.fs-=a;if(this.Pf(128)&&(a=this.Ia().oF(this.children.length+this.fr.length+1),b=Haa(this,a),b<a)){var c=this.Ia();c.fs-=a-b;}this.Pf(64)&&Lg(this);$.Jg.u.ik.call(this);};$.g.iG=function(){$.Jg.u.iG.call(this);for(var a=this.children.length;a--;)this.children[a].aE=this.cursor()||this.aE,this.children[a].iG();};$.g.Y4=function(){$.lg(this,4096);};$.g.JI=function(a){this.ld||(a=(0,$.za)(this.fr,a),0<=a&&$.Ca(this.fr,a,1));};$.g.Bp=function(){$.ng().D5(this);$.lg(this,32);};$.g.Tw=function(){this.Pf(4)&&$.ng().E5(this);$.lg(this,4);$.lg(this,256);};$.g.wC=function(a){for(var b=null,c=0,d=this.children.length;c<d;c++){var e=this.children[c];e=e.Vt(wb(a,e.Qd));(0,window.isNaN)(e.left)||(0,window.isNaN)(e.top)||(0,window.isNaN)(e.width)||(0,window.isNaN)(e.height)||(b?$.pb(b,e):b=e);}b||(b=$.zb(new $.I(0,0,0,0),a));return b;};$.g.ov=function(){for(var a=this.children.length;a--;)this.children[a].ov();};$.g.Ir=function(){$.Jg.u.Ir.call(this);Mg(this);};$.g.Ry=function(){$.Jg.u.Ry.call(this);Mg(this);};$.g.TF=function(){$.ng().uW()&&(this.Ob(512),this.ZM()&&this.parent().TF());};$.g.me=function(a){(0,$.Re)(a.children,function(a){switch(a.type){case"rect":var b=this.rect();break;case"circle":b=this.pn();break;case"ellipse":b=this.ellipse();break;case"image":b=this.uk();break;case"text":b=this.text();break;case"path":b=this.path();break;case"layer":b=this.Ad();break;default:b=null;}b&&b.me(a);},this);$.Jg.u.me.call(this,a);};$.g.F=function(){var a=$.Jg.u.F.call(this),b=[];this.Pj(function(a){b.push(a.F());});a.type="layer";a.children=b;return a;};$.g.R=function(){this.children&&$.ud.apply(null,this.children);this.fr&&delete this.fr;this.Yd();$.Jg.u.R.call(this);};$.g.VC=function(){this.children&&(0,$.Re)(this.children,function(a){a.VC();});delete this.fr;delete this.children;$.Jg.u.VC.call(this);};var uE=$.Jg.prototype;$.F("acgraph.vector.Layer",$.Jg);uE.addChild=uE.gc;uE.addChildAt=uE.Cg;uE.removeChild=uE.removeChild;uE.removeChildAt=uE.Cj;uE.removeChildren=uE.dj;uE.swapChildren=uE.yP;uE.swapChildrenAt=uE.AJ;uE.getChildAt=uE.wd;uE.hasChild=uE.XM;uE.forEachChild=uE.Pj;uE.indexOfChild=uE.Ef;uE.numChildren=uE.$b;uE.circle=uE.pn;uE.layer=uE.Ad;uE.unmanagedLayer=uE.LP;uE.ellipse=uE.ellipse;uE.rect=uE.rect;uE.truncatedRect=uE.JP;uE.roundedRect=uE.IO;uE.roundedInnerRect=uE.HO;uE.path=uE.path;uE.star=uE.kP;$.Jg.prototype.star4=$.Jg.prototype.mP;$.Jg.prototype.star5=$.Jg.prototype.nP;$.Jg.prototype.star6=$.Jg.prototype.oP;$.Jg.prototype.star7=$.Jg.prototype.pP;$.Jg.prototype.star10=$.Jg.prototype.lP;uE.diamond=uE.JL;uE.triangleUp=uE.IP;uE.triangleDown=uE.FP;uE.triangleRight=uE.HP;uE.triangleLeft=uE.GP;uE.cross=uE.qL;uE.diagonalCross=uE.IL;uE.hLine=uE.VM;uE.vLine=uE.PP;uE.pie=uE.pg;uE.donut=uE.OL;uE.text=uE.text;uE.html=uE.dN;uE.image=uE.uk;$.H($.Qb,$.Jg);$.g=$.Qb.prototype;$.g.hl=2277;$.g.Qm=function(){return"fill-pattern";};$.g.parent=function(a){return $.n(a)?(a?this.el(a):this.remove(),this):$.Qb.u.parent.call(this);};$.g.ck=function(){return this.Va.clone();};$.g.Dt=function(){return $.ng().C0();};$.g.Bp=function(){$.ng().A5(this);$.lg(this,32);};$.g.ik=function(){if(!this.yo){var a=this.Ia().tn.ia(),b=this.ia();a.appendChild(b);}this.yo=!0;$.Qb.u.ik.call(this);};$.g.Tw=function(){this.Pf(4)&&$.ng().H5(this);$.lg(this,4);};$.g.me=function(a){$.Qb.u.me.call(this,a);};$.g.F=function(){var a=$.Qb.u.F.call(this),b=this.ck();a.type="pattern";a.bounds=b;return a;};$.g.R=function(){$.Ye(this.ia());this.Ab=null;$.Qb.u.R.call(this);};var vE=$.Qb.prototype;$.F("acgraph.vector.PatternFill",$.Qb);vE.addChild=vE.gc;vE.dispose=vE.kd;$.H(Og,$.Qb);var Ng={$la:"backward-diagonal",Aoa:"forward-diagonal",bZ:"horizontal",zZ:"vertical",lna:"dashed-backward-diagonal",$Y:"grid",mna:"dashed-forward-diagonal",nna:"dashed-horizontal",ona:"dashed-vertical",XY:"diagonal-cross",Fna:"diagonal-brick",Kna:"divot",Goa:"horizontal-brick",rsa:"vertical-brick",Sma:"checker-board",$ma:"confetti",vqa:"plaid",Fra:"solid-diamond",Ksa:"zig-zag",zsa:"weave",gqa:"percent-05",hqa:"percent-10",iqa:"percent-20",jqa:"percent-25",kqa:"percent-30",lqa:"percent-40",mqa:"percent-50",nqa:"percent-60",oqa:"percent-70",pqa:"percent-75",qqa:"percent-80",rqa:"percent-90"},Iaa=function(){var a={"backward-diagonal":function backwardDiagonal(){Yg(this,[-1,0,this.size+1,0,this.zf],-45);},"forward-diagonal":function forwardDiagonal(){Yg(this,[-1,0,this.size+1,0,this.zf],45);},horizontal:function horizontal(){Yg(this,[-1,this.size/2,this.size+1,this.size/2,this.zf]);},vertical:function vertical(){Yg(this,[this.size/2,-1,this.size/2,this.size+1,this.zf]);},"diagonal-cross":function diagonalCross(){Yg(this,[0,this.size/2,this.size,this.size/2,this.zf,this.size/2,0,this.size/2,this.size,this.zf],45);},grid:function grid(){Yg(this,[-1,this.size/2,this.size+1,this.size/2,this.zf,this.size/2,-1,this.size/2,this.size+1,this.zf]);},"horizontal-brick":function horizontalBrick(){Yg(this,[0,0,0,this.size/2-1,this.zf,0,this.size/2-1,this.size,this.size/2-1,this.zf,this.size/2,this.size/2-1,this.size/2,this.size-1,this.zf,0,this.size-1,this.size,this.size-1,this.zf]);},"vertical-brick":function verticalBrick(){Yg(this,[0,0,0,this.size/2-1,this.zf,0,this.size/2-1,this.size,this.size/2-1,this.zf,this.size/2,this.size/2-1,this.size/2,this.size-1,this.zf,0,this.size-1,this.size,this.size-1,this.zf],90);},"diagonal-brick":function diagonalBrick(){Yg(this,[0,0,0,this.size/2-1,this.zf,0,this.size/2-1,this.size,this.size/2-1,this.zf,this.size/2,this.size/2-1,this.size/2,this.size-1,this.zf,0,this.size-1,this.size,this.size-1,this.zf],45);},"checker-board":function checkerBoard(){Zg(this,[0,0,this.size/2,this.size/2,this.size/2,this.size]);},confetti:function confetti(){var a=this.size/8,c=this.size/4;Zg(this,[0,2*a,c,a,5*a,c,2*a,0,c,4*a,4*a,c,5*a,a,c,6*a,6*a,c]);},plaid:function plaid(){Rg(this,this.size/2,this.size/2);for(var a=this.size/8,c,d=0;2>d;d++){c=!1;for(var e=0;4>e;e++){c=!c;for(var f=0;4>f;f++)c&&Rg(this,a,a,e*a+d*this.size/2,f*a+this.size/2),c=!c;}}},"solid-diamond":function solidDiamond(){Xg(this,[[this.size/2,0,0,this.size/2,this.size/2,this.size,this.size,this.size/2,this.size/2,0]],!0,!0);},"dashed-forward-diagonal":function dashedForwardDiagonal(){Yg(this,[0,0,this.size/2,this.size/2,this.zf]);},"dashed-backward-diagonal":function dashedBackwardDiagonal(){Yg(this,[this.size/2,0,0,this.size/2,this.zf]);},"dashed-horizontal":function dashedHorizontal(){Yg(this,[0,0,this.size/2,0,this.zf,this.size/2,this.size/2,this.size,this.size/2,this.zf]);},"dashed-vertical":function dashedVertical(){Yg(this,[0,0,0,this.size/2,this.zf,this.size/2,this.size/2,this.size/2,this.size,this.zf]);},divot:function divot(){var a=.1*this.size,c=this.size*(.8-.2)/2;Xg(this,[[a+c,a,a,a+c/2,a+c,a+c],[this.size-a-c,this.size-a-c,this.size-a,this.size-a-c/2,this.size-a-c,this.size-a]]);},"zig-zag":function zigZag(){Xg(this,[[0,0,this.size/2,this.size/2,this.size,0],[0,this.size/2,this.size/2,this.size,this.size,this.size/2]]);},weave:function weave(){Xg(this,[[0,0,this.size/2,this.size/2,this.size,0],[0,this.size/2,this.size/2,this.size,this.size,this.size/2],[this.size/2,this.size/2,3*this.size/4,3*this.size/4],[this.size,this.size/2,3*this.size/4,this.size/4]]);}};a["percent-05"]=$.qa(Qg,8,8,[0,0,4,4]);a["percent-10"]=$.qa(Qg,8,4,[0,0,4,2]);a["percent-20"]=$.qa(Qg,4,4,[0,0,2,2]);a["percent-25"]=$.qa(Qg,4,2,[0,0,2,1]);a["percent-30"]=$.qa(Qg,4,4,[0,0,2,0,3,1,0,2,2,2,1,3]);a["percent-40"]=$.qa(Qg,4,8,[0,0,2,0,3,1,0,2,2,2,1,3,3,3,0,4,2,4,1,5,3,5,0,6,2,6,1,7,3,7]);a["percent-50"]=$.qa(Qg,2,2,[0,0,1,1]);a["percent-60"]=$.qa(Qg,4,4,[0,0,2,0,0,1,1,1,3,1,0,2,2,2,1,3,2,3,3,3]);a["percent-70"]=$.qa(Qg,4,4,[0,0,2,0,3,0,0,1,1,1,2,1,0,2,2,2,3,2,0,3,1,3,2,3]);a["percent-75"]=$.qa(Vg,4,4,[0,0,2,2]);a["percent-80"]=$.qa(Vg,8,4,[0,0,4,2]);a["percent-90"]=$.qa(Vg,8,8,[7,7,4,3]);return a;}();Og.prototype.Qm=function(){return"hatch-fill";};Og.prototype.R=function(){if(this.Ia()){var a=this.Ia().tn,b=[this.type,this.color,this.zf,this.size].join();$.Jc(a.i,b)&&$.Pc(a.i,b);a=$.Ce(window.document,this.id());$.Ye(a);}Og.u.R.call(this);};var wE=Og.prototype;wE.dispose=wE.kd;$.H(bh,$.kg);$.ah="meet";$.$g="none";$.g=bh.prototype;$.g.hl=$.kg.prototype.hl|32;$.g.Qm=function(){return"image";};$.g.YC=function(a){return null!=a?(a!=this.f&&(this.f=a,this.Ob(32)),this):this.f;};$.g.align=function(a){return null!=a?(a!=this.b&&(this.b=a,this.Ob(32)),this):this.b;};$.g.x=function(a){return null!=a?(a!=this.Ab.left&&(this.Ab.left=a,this.Ob(32),this.Yd()),this):this.Ab.left;};$.g.y=function(a){return null!=a?(a!=this.Ab.top&&(this.Ab.top=a,this.Ob(32),this.Yd()),this):this.Ab.top;};$.g.width=function(a){return null!=a?(a!=this.Ab.width&&(this.Ab.width=a,this.Ob(32),this.Yd()),this):this.Ab.width;};$.g.height=function(a){return null!=a?(a!=this.Ab.height&&(this.Ab.height=a,this.Ob(32),this.Yd()),this):this.Ab.height;};$.g.src=function(a){return $.n(a)?(a!=this.j&&(this.j=a,this.Ob(32)),this):this.j;};$.g.opacity=function(a){return $.n(a)?(a!=this.i&&(this.i=a,this.Ob(32)),this):this.i;};$.g.ck=function(){return this.Ab.clone();};$.g.Dt=function(){return $.ng().D0();};$.g.ik=function(){this.Pf(32)&&($.ng().EI()&&this.Ob(4),this.Bp());bh.u.ik.call(this);};$.g.Tw=function(){$.ng().C5(this);$.lg(this,4);$.lg(this,256);};$.g.Bp=function(){$.ng().B5(this);$.lg(this,32);};$.g.me=function(a){var b=a.bounds;this.x(b.left).y(b.top).width(b.width).height(b.height).src(a.src).align(a.align).YC(a.fittingMode);bh.u.me.call(this,a);};$.g.F=function(){var a=bh.u.F.call(this);a.type="image";a.bounds=this.ck();a.src=this.src();a.align=this.align();a.fittingMode=this.YC();return a;};$.g.R=function(){this.Ab=null;this.Yd();bh.u.R.call(this);};$.F("acgraph.vector.Image",bh);var xE=bh.prototype;xE.fittingMode=xE.YC;xE.align=xE.align;xE.x=xE.x;xE.y=xE.y;xE.width=xE.width;xE.height=xE.height;xE.src=xE.src;$.H(ch,$.tf);var eh=[$.id&&!$.dd("11")?"readystatechange":"load","abort","error"];ch.prototype.start=function(){var a=this.f;(0,$.Re)($.Ic(a),function(b){var c=a[b];if(c&&(delete a[b],!this.ld)){var d;this.Y?d=$.Be(this.Y).sc("IMG"):d=new window.Image();c.w0&&(d.crossOrigin=c.w0);this.oo.ua(d,eh,this.i);this.b[b]=d;d.id=b;d.src=c.src;}},this);};ch.prototype.i=function(a){var b=a.currentTarget;if(b){if("readystatechange"==a.type)if("complete"==b.readyState)a.type="load";else return;"undefined"==typeof b.naturalWidth&&("load"==a.type?(b.naturalWidth=b.width,b.naturalHeight=b.height):(b.naturalWidth=0,b.naturalHeight=0));this.dispatchEvent({type:a.type,target:b});this.ld||fh(this,b.id);}};ch.prototype.R=function(){delete this.f;delete this.b;$.pd(this.oo);ch.u.R.call(this);};$.ja($.gh);$.g=$.gh.prototype;$.g.y5=$.ia;$.g.JX=$.ia;$.g.BX=$.ia;$.g.getAttribute=function(a,b){return a?a.getAttribute(b):void 0;};$.g.kc=function(a,b,c){a.setAttribute(b,c);};$.g.M4=function(a,b){var c=b[3];a.push(b[0],b[1],0,180<Math.abs(c)?1:0,0<c?1:0,b[4],b[5]);};$.g.Q4=function(a,b){$.jd(Array.prototype.push,b,a);};$.g.K0=function(){return null;};$.g.c4=function(){return!1;};$.g.e3=function(){return!1;};$.g.EI=function(){return!1;};$.g.uW=function(){return!1;};$.H($.wh,$.kg);$.g=$.wh.prototype;$.g.jc=null;$.g.hl=$.kg.prototype.hl|32;$.g.Qm=function(){return"simple-text";};$.g.ck=function(){return this.Va.clone();};$.g.text=function(a){return $.n(a)?(a!=this.jc&&(this.jc=String(a),(a=!this.Ia()||this.Ia().wf())||this.Ia().suspend(),this.Ob(32),a||this.Ia().resume()),this):this.jc;};$.g.Dt=function(){return $.ng().Tx();};$.g.ik=function(){this.Pf(32)&&($.ng(),this.ia().textContent=this.text(),$.lg(this,32));$.wh.u.ik.call(this);};$.g.Tw=function(){$.lg(this,4);$.lg(this,256);};var yE=$.wh.prototype;yE.text=yE.text;$.F("acgraph.vector.SimpleText",$.wh);$.ja(xh);var Jh={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};xh.prototype.vb=null;$.H(Mh,$.nd);$.g=Mh.prototype;$.g.Sd=null;$.g.Y=null;$.g.parent=function(a){return $.n(a)?(this.Y=a,this):this.Y;};$.g.ia=function(){return this.Sd;};$.g.Qm=function(){return"t-segment";};$.g.Bp=function(){""!=this.text&&(this.Sd=$.ng().xS())&&$.ng().DZ(this);};$.g.R=function(){$.Ye(this.Sd);this.Sd=null;Mh.u.R.call(this);};var Jaa,Oh,Nh,zE,AE;$.H($.Qh,$.qg);Jaa="normal";Oh="normal";Nh="";$.Ph="start";zE={oQ:"left",T9:$.Ph,vz:"center",V7:"end",uQ:"right"};AE={DQ:"top",O8:"middle",dQ:"bottom"};$.g=$.Qh.prototype;$.g.hl=$.qg.prototype.hl|17504;$.g.xc=null;$.g.jc=null;$.g.x=function(a){return null!=a?(this.Jo!=a&&(this.Jo=a,this.ba&&Wh(this),this.Va.left=a,this.Ob(16384),this.Yd()),this):this.Jo;};$.g.y=function(a){return null!=a?(this.Ko!=a&&(this.Ko=a,this.ba&&Xh(this),this.Va.top=a,this.Ob(16384),this.Yd()),this):this.Ko;};$.g.px=function(){if($.ng().EI()){var a=this.Gg();a&&!$.yb(a)&&this.Ob(4);}};$.g.width=function(a){$.n(a)&&Rh(this,"width")!=a&&(null===a||(a=Math.max((0,window.parseFloat)(a),0)||0),this.Sf=a);return Rh(this,"width",a);};$.g.height=function(a){$.n(a)&&(Rh(this,"height")==a||null!==a&&(a=Math.max((0,window.parseFloat)(a),0)||0),this.Df=a);return Rh(this,"height",a);};$.g.opacity=function(a){return null!=a?(this.xc.opacity=a,this.Ob(1024),this):this.xc.opacity;};$.g.color=function(a){return null!=a?(this.xc.color=a,this.Ob(1024),this):this.xc.color;};$.g.fontSize=function(a){return Rh(this,"fontSize",a);};$.g.fontFamily=function(a){return Rh(this,"fontFamily",a);};$.g.direction=function(a){return Rh(this,"direction",a);};$.g.fontStyle=function(a){return Rh(this,"fontStyle",a);};$.g.fontVariant=function(a){return Rh(this,"fontVariant",a);};$.g.fontWeight=function(a){return Rh(this,"fontWeight",a);};$.g.letterSpacing=function(a){return Rh(this,"letterSpacing",a);};$.g.cr=function(a){return Rh(this,"decoration",a);};$.g.lineHeight=function(a){null!=a&&(this.rb=Sh(a));return Rh(this,"lineHeight",a);};$.g.textIndent=function(a){null!=a&&(this.j=a);return Rh(this,"textIndent",a);};$.g.textShadow=function(a){return $.n(a)?Rh(this,"textShadow",$.bc(a)):this.xc.textShadow;};$.g.vAlign=function(a){if($.n(a))if("center"==a)a="middle";else{var b=!1;$.Gc(AE,function(c){a==c&&(b=!0);});b||(a="top");}return Rh(this,"vAlign",a);};$.g.xm=function(a){if($.n(a))if("middle"==a)a="center";else{var b=!1;$.Gc(zE,function(c){a==c&&(b=!0);});b||(a=$.Ph);}return Rh(this,"hAlign",a);};$.g.Vu=function(a){return Rh(this,"wordBreak",a);};$.g.wordWrap=function(a){return Rh(this,"wordWrap",a);};$.g.textOverflow=function(a){null!=a&&(this.eb=a);return Rh(this,"textOverflow",a);};$.g.Dm=function(a){return Rh(this,"selectable",a);};$.g.path=function(a){return $.n(a)?(this.Rc=a,this.Ia()&&this.Rc.parent(this.Ia().tn),(a=!this.Ia()||this.Ia().wf())||this.Ia().suspend(),this.ba=!1,this.Ob(17504),this.px(),a||this.Ia().resume(),this):this.Rc;};$.g.style=function(a){if(null!=a){$.Gc(a,function(a,b){var c=b;switch(b){case"fontDecoration":case"textDecoration":c="decoration";break;case"fontColor":c="color";break;case"fontOpacity":c="opacity";}this.xc[c]=a;},this);this.Sf=(0,window.parseFloat)(this.xc.width)||0;this.Df=(0,window.parseFloat)(this.xc.height)||0;this.xc.lineHeight&&(this.rb=Sh(this.xc.lineHeight));var b=this.xc.vAlign;if(null!=b)if("center"==b)this.xc.vAlign="middle";else{var c=!1;$.Gc(AE,function(a){b==a&&(c=!0);});c||(this.xc.vAlign="top");}var d=this.xc.hAlign;null!=d&&("middle"==d?this.xc.hAlign="center":(c=!1,$.Gc(zE,function(a){d==a&&(c=!0);}),c||(this.xc.hAlign=$.Ph)));null!=this.xc.direction&&(this.K="rtl"==this.xc.direction);null!=this.xc.textOverflow&&(this.eb=this.xc.textOverflow);null!=this.xc.textIndent&&(this.j=this.xc.textIndent);this.K&&(this.j=0);(a=!this.Ia()||this.Ia().wf())||this.Ia().suspend();this.ba=!1;this.Ob(1024);this.Ob(32);this.Ob(16384);this.Ob(4);this.px();a||this.Ia().resume();return this;}return this.xc;};$.g.htmlText=function(a){return $.n(a)?(a!=this.jc&&(this.jc=String(a),this.Ed=!0,(a=!this.Ia()||this.Ia().wf())||this.Ia().suspend(),this.ba=!1,this.Ob(1024),this.Ob(32),this.Ob(16384),this.px(),a||this.Ia().resume()),this):this.jc;};$.g.Qm=function(){return"text";};$.g.ck=function(){return this.Va.clone();};$.g.Vt=function(a){this.ba||this.CB();return a?$.Qh.u.Vt.call(this,a):this.wC(null);};$.g.wC=function(a){if(this.path()){if(this.wg)var b=this.wg;else{b=$.ng();b.Vp();this.ba||this.CB();var c=this.path();c.ia()||c.sc(!0);b.GX(c);var d=c.ia().parentNode;var e=c.ia();b.f.appendChild(e);d||(d=$.fc($.dc.Gd(),c.ia(),"path"),$.sh(b,c.ia(),d));this.ia()||this.sc(!0);this.kX();this.Bp();$.ng().IX(this);$.lg(this,1024);this.FO();this.Tw();d=$.fc($.dc.Gd(),c.ia(),"path");c=Ki();this.Ja.setAttributeNS("http://www.w3.org/1999/xlink","href",c+"#"+d);c=this.ia();d=c.parentNode;b.Mp.appendChild(c);b=this.ia().getBBox();d&&d.appendChild(c);b=new $.I(b.x,b.y,b.width,b.height);}}else b=this.Va.clone();return $.zb(b,a);};$.g.XG=ba(4);$.g.Yd=function(){$.Qh.u.Yd.call(this);this.wg=null;};$.g.O3=function(a){for(var b=$.ng().j,c=arguments,d={},e=0,f=b.length;e<f;e++)for(var h=c.length;h--;){var k=c[h];if(k&&(k=k[b[e]],$.n(k))){d[b[e]]=k;break;}}return d;};$.g.Tm=function(a,b){var c=this.O3(this.xc,b);return ih($.ng(),a,c);};$.g.mU=function(){this.ba||this.CB();return this.Od;};$.g.gH=function(){this.ba||this.CB();return this.D;};$.g.dK=function(){this.iM();this.oe++;this.eK("",null,!0);var a=this.f[0]?this.f[0].height:0;this.Tb+=$.z(this.rb)?(0,window.parseInt)(this.rb,0)+a:this.rb*a;};$.g.eK=function(a,b,c){if(!this.rc){b=b||{};var d=this.Tm(a,b),e=0==this.b.length?this.j:0;if(this.aj)for(;this.P+d.width+e>this.Ya&&!this.rc;){var f=Th(this,a,b,e+this.P,this.Ya,d);1>f&&0==this.f.length&&(f=1);0!=f&&(e=$.pc(a.substring(0,f)),d=this.Tm(e,b),Uh(this,e,b,d));this.iM();1==a.length&&(this.rc=!0);e=0;a=$.pc(a.substring(f,a.length));d=this.Tm(a,b);}this.rc||!a.length&&!c||Uh(this,a,b,d);}};$.g.iM=function(){if(!this.rc&&0!=this.f.length){var a=0==this.ea.length;if(this.Df&&this.D+this.Ba>this.Df&&0!=this.ea.length)Vh(this),this.rc=!0;else{this.Ba=$.z(this.rb)?(0,window.parseInt)(this.rb,0)+this.Ba:this.rb*this.Ba;if($.ng().c4()){var b;var c=this.K&&this.xc.hAlign==$.Ph||!this.K&&"end"==this.xc.hAlign||"right"==this.xc.hAlign;var d="center"==this.xc.hAlign;if(this.K&&"end"==this.xc.hAlign||!this.K&&this.xc.hAlign==$.Ph||"left"==this.xc.hAlign){d=this.K?0:this.j&&a?this.j:0;var e=0;for(b=this.f.length;e<b;e++)c=this.f[e],c.x=d,c.y=this.D+this.ma+c.height-1.5*c.f,d+=c.width;}else if(d)for(d=-this.P/2,!this.K&&this.j&&a&&(d+=this.j),e=0,b=this.f.length;e<b;e++)c=this.f[e],c.x=d+c.width/2,c.y=this.D+this.ma+c.height-1.5*c.f,d+=c.width;else if(c)for(d=this.K?this.j&&a?-this.j:0:0,e=this.f.length-1;0<=e;e--)c=this.f[e],c.x=d,c.y=this.D+this.ma+c.height-1.5*c.f,d-=c.width;}if(a){var f=this.f[0];f.f=this.ma;f.i=!0;this.j&&"center"==this.xc.hAlign&&(f.ko=this.K?-this.j/2:this.j/2);}else{for(e=0;e<this.f.length;e++)if(""!=this.f[e].text){f=this.f[e];break;}f&&(f.i=!0,this.td||(f.qm=this.Tb&&1<this.oe?this.Tb:this.fh+this.ma));}this.aj&&this.xc.wordWrap==Oh&&this.P>this.Ya&&(1<this.f.length&&!this.f[0].text.length&&(c=(0,$.za)(this.b,this.f[0]),Ea(this.f,0),Ea(this.b,c)),c=$.ua(this.f),a=this.Tm(c.text,c.b),a=Th(this,c.text,c.b,0,this.Ya-(this.P-a.width),a,!0),d=c.text.substring(0,a),a=this.Tm(d,c.b),c.text=d,this.Wf=this.P=c.width=a.width,Vh(this,this.f));this.path()&&(f.ko="start"==this.align?0:"middle"==this.align?this.path().Pg()/2-this.P/2:this.path().Pg()-this.P);this.D+=this.Ba;this.Od=Math.max(this.Od,this.P);this.fh=this.Ba-this.ma;this.Wf=this.P;this.td||(this.oe=this.Tb=0);this.td=!0;this.ma=this.P=this.Ba=0;this.ea.push(this.f);this.f=[];}}};$.g.text=function(a){return $.n(a)?(a!=this.jc&&(this.jc=String(a),this.Ed=!1,(a=!this.Ia()||this.Ia().wf())||this.Ia().suspend(),this.ba=!1,this.Ob(1024),this.Ob(32),this.Ob(16384),this.px(),a||this.Ia().resume()),this):this.jc;};$.g.CB=function(){0!=this.b.length&&($.ud(this.b,this.ea),this.ea=[],this.b=[]);null!=this.xc.direction&&(this.K="rtl"==this.xc.direction);null!=this.xc.textIndent&&(this.j=this.xc.textIndent);this.K&&(this.j=0);this.Sf=(0,window.parseFloat)(this.xc.width)||0;this.Df=(0,window.parseFloat)(this.xc.height)||0;this.rc=!1;this.ma=this.P=this.Ba=this.oe=this.Tb=this.D=this.Od=this.fh=this.Wf=0;this.f=[];this.Za=this.aa=0;this.wg=null;this.align="start";this.xc.hAlign&&(this.align="rtl"==this.xc.direction?$.hd||$.id?"end"==this.xc.hAlign||"left"==this.xc.hAlign?$.Ph:this.xc.hAlign==$.Ph||"right"==this.xc.hAlign?"end":"middle":"end"==this.xc.hAlign||"left"==this.xc.hAlign?"end":this.xc.hAlign==$.Ph||"right"==this.xc.hAlign?$.Ph:"middle":"end"==this.xc.hAlign||"right"==this.xc.hAlign?"end":this.xc.hAlign==$.Ph||"left"==this.xc.hAlign?$.Ph:"middle");var a=null!=this.xc.width;this.aj=this.path()||a;a=a?(0,window.parseFloat)(this.xc.width):Number.POSITIVE_INFINITY;this.Ya=Math.max(this.path()?Math.min(this.path().Pg(),a):this.Sf,0);var b;if(null!=this.jc){if(this.Ed)Lh(this);else{this.jc=$.jc(kc(this.jc));var c=this.jc.split(/\n/g);for(b=0;b<c.length;b++)a=$.pc(c[b]),null!=a&&(""!=a&&this.eK(a),this.dK());}this.j&&0<this.ea.length&&(a=this.ea[0][0],this.K?this.xc.hAlign&&this.xc.hAlign!=$.Ph&&"right"!=this.xc.hAlign||(a.ko-=this.j):this.xc.hAlign&&this.xc.hAlign!=$.Ph&&"left"!=this.xc.hAlign||(a.ko+=this.j));this.xc.width||(this.Sf=this.Od);this.xc.height||(this.Df=this.D);Wh(this);Xh(this);this.Va=new $.I(this.Jo,this.Ko,this.Sf,this.Df);this.ba=!0;}};$.g.Dt=function(){return $.ng().Tx();};$.g.ik=function(){this.ba||this.CB();this.Pf(64)&&this.kX();this.Pf(1024)&&($.ng().IX(this),$.lg(this,1024));this.Pf(32)&&this.Bp();this.Pf(16384)&&this.FO();$.Qh.u.ik.call(this);};$.g.kX=function(){this.Rc&&!this.Ja?this.Ja=$.ng().K0():this.Rc||($.Ye(this.Ja),this.Ja=null);$.lg(this,64);};$.g.FO=function(){for(var a=0,b=this.b.length;a<b;a++){var c=this.b[a];c.Sd&&$.ng().CZ(c);}$.ng().HX(this);$.lg(this,16384);};$.g.Bp=function(){this.ia()&&$.We(this.ia());this.Ja&&($.We(this.Ja),this.ia().appendChild(this.Ja));for(var a=0,b=this.b.length;a<b;a++)this.b[a].Bp();$.lg(this,32);};$.g.Tw=function(){$.ng().J5(this);$.lg(this,4);$.lg(this,256);};$.g.me=function(a){this.x(a.x).y(a.y).style(a.style);a.html?this.htmlText(a.text):this.text(a.text);$.Qh.u.me.call(this,a);};$.g.F=function(){var a=$.Qh.u.F.call(this);a.type="text";a.x=this.x();a.y=this.y();a.html=this.Ed;a.text=this.text();a.style=this.style();return a;};$.g.R=function(){$.ud(this.b,this.f);this.b.length=0;this.f.length=0;delete this.ea;delete this.Va;$.Qh.u.R.call(this);};var BE=$.Qh.prototype;$.F("acgraph.vector.Text",$.Qh);BE.text=BE.text;BE.style=BE.style;BE.htmlText=BE.htmlText;BE.path=BE.path;BE.x=BE.x;BE.y=BE.y;BE.fontSize=BE.fontSize;BE.color=BE.color;BE.fontFamily=BE.fontFamily;BE.direction=BE.direction;BE.fontStyle=BE.fontStyle;BE.fontVariant=BE.fontVariant;BE.fontWeight=BE.fontWeight;BE.letterSpacing=BE.letterSpacing;BE.decoration=BE.cr;BE.opacity=BE.opacity;BE.lineHeight=BE.lineHeight;BE.textIndent=BE.textIndent;BE.vAlign=BE.vAlign;BE.hAlign=BE.xm;BE.width=BE.width;BE.height=BE.height;BE.getTextHeight=BE.gH;BE.getTextWidth=BE.mU;BE.wordWrap=BE.wordWrap;BE.wordBreak=BE.Vu;BE.textOverflow=BE.textOverflow;BE.selectable=BE.Dm;$.H($.Yh,$.kg);$.g=$.Yh.prototype;$.g.Qm=function(){return"unmanageable-layer";};$.g.hl=$.kg.prototype.hl|32;$.g.content=function(a){return $.n(a)?(a!=this.Nd&&(this.Nd=a,this.Ob(32)),this):this.Nd;};$.g.Dt=function(){return $.ng().So();};$.g.ik=function(){$.Yh.u.ik.call(this);if(this.Pf(32)){var a=this.ia();$.We(a);$.z(this.Nd)?a.innerHTML=this.Nd:a.appendChild(this.Nd);$.lg(this,32);}};$.g.ck=function(){return $.ng().eW(this.Nd);};$.g.me=function(a){"content"in a&&this.content(a.content);$.Yh.u.me.call(this,a);};$.g.F=function(){var a=$.Yh.u.F.call(this);a.content=$.z(this.Nd)?this.Nd:this.Nd.outerHTML;return a;};var CE=$.Yh.prototype;CE.content=CE.content;$.F("acgraph.vector.primitives.star",bi);$.F("acgraph.vector.primitives.star4",fi);$.F("acgraph.vector.primitives.star5",gi);$.F("acgraph.vector.primitives.star6",hi);$.F("acgraph.vector.primitives.star7",ii);$.F("acgraph.vector.primitives.star10",ji);$.F("acgraph.vector.primitives.diamond",oi);$.F("acgraph.vector.primitives.triangleUp",ki);$.F("acgraph.vector.primitives.triangleDown",li);$.F("acgraph.vector.primitives.triangleRight",mi);$.F("acgraph.vector.primitives.triangleLeft",ni);$.F("acgraph.vector.primitives.cross",pi);$.F("acgraph.vector.primitives.diagonalCross",qi);$.F("acgraph.vector.primitives.hLine",ri);$.F("acgraph.vector.primitives.vLine",si);$.F("acgraph.vector.primitives.pie",ti);$.F("acgraph.vector.primitives.donut",$.ui);$.F("acgraph.vector.primitives.truncatedRect",_wi);$.F("acgraph.vector.primitives.roundedRect",_xi);$.F("acgraph.vector.primitives.roundedInnerRect",_yi);$.Ei.prototype.clone=function(){return new $.Ei(this.Hj,this.ze,this.ki,this.Pe);};$.H(Fi,$.gh);$.ja(Fi);$.g=Fi.prototype;$.g.Mp=null;$.g.Jk=null;$.g.RD=null;$.g.tp=null;$.g.gu=null;$.g.Vp=function(){this.Mp||(this.Mp=Gi("svg"),this.Jk=this.Tx(),this.RD=this.nF(""),this.f=this.pS(),this.Jk.appendChild(this.RD),this.Mp.appendChild(this.Jk),this.Mp.appendChild(this.f),this.i=this.So(),this.Mp.appendChild(this.i),$.rh(this,this.Mp,{width:0,height:0}),this.Mp.style.cssText="position: absolute; left: -99999px; top: -99999px",this.tp=this.So(),this.Mp.appendChild(this.tp),$.uh.document.body.appendChild(this.Mp));return this.Mp;};$.g.measure=function(a,b){this.Vp();var c=null,d=0;if(0==a.length)return hh(this,"",b)?d=ih(this,"",b):(d=this.measure("a",b),d=new $.I(0,d.top,0,d.height),ih(this,"",b,d)),d;if(" "==a)return $.jh(this,b);$.gc(a," ")&&(d+=c=$.jh(this,b).width);$.hc(a," ")&&(d+=c||$.jh(this,b).width);b.fontStyle?this.kc(this.Jk,"font-style",b.fontStyle):this.Jk.removeAttribute("font-style");b.fontVariant?this.kc(this.Jk,"font-variant",b.fontVariant):this.Jk.removeAttribute("font-variant");b.fontFamily?this.kc(this.Jk,"font-family",b.fontFamily):this.Jk.removeAttribute("font-family");b.fontSize?this.kc(this.Jk,"font-size",b.fontSize):this.Jk.removeAttribute("font-size");b.fontWeight?this.kc(this.Jk,"font-weight",b.fontWeight):this.Jk.removeAttribute("font-weight");b.letterSpacing?this.kc(this.Jk,"letter-spacing",b.letterSpacing):this.Jk.removeAttribute("letter-spacing");b.decoration?this.kc(this.Jk,"text-decoration",b.decoration):this.Jk.removeAttribute("text-decoration");this.RD.nodeValue=a;c=this.Jk.getBBox();b.fontVariant&&$.xd&&(this.RD.nodeValue=a.charAt(0).toUpperCase(),c.height=this.Jk.getBBox().height);return new $.I(c.x,c.y,c.width+d,c.height);};$.g.eW=function(a){this.Vp();$.z(a)?this.tp.innerHTML=a:(a=a.cloneNode(!0),this.tp.appendChild(a));a=this.tp.getBBox();$.We(this.tp);return new $.I(a.x,a.y,a.width,a.height);};$.g.MN=function(a,b){this.b||(vh(this),this.b={},$.Ld(this.gu,"complete",function(){this.D=!1;},!1,this),$.Ld(this.gu,"load",this.w$,!1,this));this.b[$.oa(b)]=[a,b];this.D=!0;dh(this.gu,a,a);this.gu.start();};$.g.w$=function(a){var b=a.target;$.Gc(this.b,function(a,d){a[0]==b.id&&(a[1].call(this,b.naturalWidth,b.naturalHeight),delete this.b[d]);},this);};$.g.e3=function(){return this.D;};$.g.u4={1:"M",2:"L",3:"C",4:"A",5:"Z"};$.g.J0=function(){var a=Gi("svg");$.id||this.kc(a,"xmlns","http://www.w3.org/2000/svg");this.kc(a,"border","0");return a;};$.g.E0=function(){return Gi("linearGradient");};$.g.C0=function(){return Gi("pattern");};$.g.D0=function(){return Gi("image");};$.g.So=function(){return Gi("g");};$.g.x0=function(){return Gi("circle");};$.g.G0=function(){return Gi("path");};$.g.B0=function(){return Gi("ellipse");};$.g.pS=function(){return Gi("defs");};$.g.Tx=function(){return Gi("text");};$.g.K0=function(){return Gi("textPath");};$.g.xS=function(){return Gi("tspan");};$.g.nF=function(a){return window.document.createTextNode(String(a));};$.g.A5=function(a){var b=a.ck();$.rh(this,a.ia(),{x:b.left,y:b.top,width:b.width,height:b.height,patternUnits:"userSpaceOnUse"});};$.g.B5=function(a){var b=a.ck();this.MN(a.src(),$.ia);var c=a.src()||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",d=a.ia(),e=b.left,f=b.top,h=b.width;b=b.height;switch(a.align()){case"x-min-y-min":var k="xMinYMin";break;case"x-mid-y-min":k="xMidYMin";break;case"x-max-y-min":k="xMaxYMin";break;case"x-min-y-mid":k="xMinYMid";break;case"x-mid-y-mid":k="xMidYMid";break;case"x-max-y-mid":k="xMaxYMid";break;case"x-min-y-max":k="xMinYMax";break;case"x-mid-y-max":k="xMidYMax";break;case"x-max-y-max":k="xMaxYMax";break;default:k="none";}k=k+" "+a.YC();$.rh(this,d,{x:e,y:f,width:h,height:b,"image-rendering":"optimizeQuality",preserveAspectRatio:k,opacity:a.opacity()});d.setAttributeNS("http://www.w3.org/1999/xlink","href",c);};$.g.x5=function(a,b){var c=a.ia();c&&(c.style.cursor=b||"");};$.g.HX=function(a){var b=a.ia();this.kc(b,"x",a.aa);this.kc(b,"y",a.Za);};$.g.IX=function(a){var b=a.style(),c=a.path(),d=a.ia();if(c&&a.Ia()){var e=a.Ia().tn;c.parent(e);c.Pd();$.lg(c,jg);var f=c.ia();e.ia().appendChild(f);e=$.fc($.dc.Gd(),f,"path");$.sh(this,f,e);f=Ki();a.Ja.setAttributeNS("http://www.w3.org/1999/xlink","href",f+"#"+e);}if(a.Dm()){if(d.style["-webkit-touch-callout"]="",d.style["-webkit-user-select"]="",d.style["-khtml-user-select"]="",d.style["-moz-user-select"]="",d.style["-ms-user-select"]="",d.style["-o-user-select"]="",d.style["user-select"]="",$.id&&9==ed||$.xd)d.removeAttribute("unselectable"),d.removeAttribute("onselectstart");}else if(d.style["-webkit-touch-callout"]="none",d.style["-webkit-user-select"]="none",d.style["-khtml-user-select"]="none",d.style["-moz-user-select"]="moz-none",d.style["-ms-user-select"]="none",d.style["-o-user-select"]="none",d.style["user-select"]="none",$.id&&9==ed||$.xd)this.kc(d,"unselectable","on"),this.kc(d,"onselectstart","return false;");b.fontStyle?this.kc(d,"font-style",b.fontStyle):d.removeAttribute("font-style");b.fontVariant?$.hd?d.style["font-variant"]=b.fontVariant:this.kc(d,"font-variant",b.fontVariant):$.hd?d.style["font-variant"]="":d.removeAttribute("font-variant");b.fontFamily?(this.kc(d,"font-family",b.fontFamily),d.style.fontFamily=b.fontFamily):(d.removeAttribute("font-family"),d.style.fontFamily="");b.fontSize?this.kc(d,"font-size",b.fontSize):d.removeAttribute("font-size");b.fontWeight?this.kc(d,"font-weight",b.fontWeight):d.removeAttribute("font-weight");b.color?this.kc(d,"fill",b.color):d.removeAttribute("fill");b.letterSpacing?this.kc(d,"letter-spacing",b.letterSpacing):d.removeAttribute("letter-spacing");b.decoration?this.kc(d,"text-decoration",b.decoration):d.removeAttribute("text-decoration");b.direction?this.kc(d,"direction",b.direction):d.removeAttribute("direction");b.hAlign&&!c?this.kc(d,"text-anchor","rtl"==b.direction?$.hd||$.id?"end"==b.hAlign||"left"==b.hAlign?$.Ph:b.hAlign==$.Ph||"right"==b.hAlign?"end":"middle":"end"==b.hAlign||"left"==b.hAlign?"end":b.hAlign==$.Ph||"right"==b.hAlign?$.Ph:"middle":"end"==b.hAlign||"right"==b.hAlign?"end":b.hAlign==$.Ph||"left"==b.hAlign?$.Ph:"middle"):d.removeAttribute("text-anchor");d.style.opacity=b.opacity?b.opacity:"1";a=b.textShadow;d.style.textShadow=a&&"none"!=a?a:"";};$.g.CZ=function(a){var b=a.ia(),c=a.parent();(a.i||a.ko)&&this.kc(b,"x",c.path()?a.ko:c.aa+a.ko);this.kc(b,"dy",a.qm);};$.g.DZ=function(a){var b=a.b,c=a.ia(),d=a.parent(),e=this.nF(a.text);c.appendChild(e);if($.id&&9==ed||$.xd)d.Dm()?(c.removeAttribute("onselectstart"),c.removeAttribute("unselectable")):(this.kc(c,"onselectstart","return false;"),this.kc(c,"unselectable","on"));b.fontStyle&&this.kc(c,"font-style",b.fontStyle);b.fontVariant&&this.kc(c,"font-variant",b.fontVariant);b.fontFamily&&this.kc(c,"font-family",b.fontFamily);b.fontSize&&this.kc(c,"font-size",b.fontSize);b.fontWeight&&this.kc(c,"font-weight",b.fontWeight);b.color&&this.kc(c,"fill",b.color);b.letterSpacing&&this.kc(c,"letter-spacing",b.letterSpacing);b.cr&&this.kc(c,"text-decoration",b.cr);(a.parent().path()?a.parent().Ja:a.parent().ia()).appendChild(c);};$.g.L_=function(a){Mi(this,a);Ni(this,a);};$.g.Hi=function(a){a.visible()?a.ia().removeAttribute("visibility"):this.kc(a.ia(),"visibility","hidden");};$.g.tB=function(a){var b=a.Qd;b&&!$.yb(b)?this.kc(a.ia(),"transform",b.toString()):a.ia().removeAttribute("transform");};$.g.H5=function(a){var b=a.Qd;b&&!$.yb(b)?this.kc(a.ia(),"patternTransform",b.toString()):a.ia().removeAttribute("patternTransform");};$.g.G5=Fi.prototype.tB;$.g.C5=Fi.prototype.tB;$.g.E5=Fi.prototype.tB;$.g.J5=Fi.prototype.tB;$.g.z5=Fi.prototype.tB;$.g.ZO=function(a,b,c){$.rh(this,a,{width:b,height:c});};$.g.JX=function(a,b){var c=a.ia();c&&(null!=b?(a.lx||(a.lx=Gi("title"),this.kc(a.lx,"aria-label","")),$.cf(a.lx)||$.Xe(c,a.lx,0),a.lx.innerHTML=b):a.lx&&c.removeChild(a.lx));};$.g.BX=function(a,b){var c=a.ia();c&&(null!=b?(a.xv||(a.xv=Gi("desc"),this.kc(a.xv,"aria-label","")),$.cf(a.xv)||$.Xe(c,a.xv,0),a.xv.innerHTML=b):a.xv&&c.removeChild(a.xv));};$.g.y5=function(a,b){var c=a.ia();c&&(b?this.kc(c,"vector-effect","non-scaling-stroke"):c.removeAttribute("vector-effect"));};$.g.D5=$.ia;$.g.w5=function(a){$.rh(this,a.ia(),{cx:a.Po(),cy:a.Qo(),r:a.Cb()});};$.g.CX=function(a){$.rh(this,a.ia(),{cx:a.Po(),cy:a.Qo(),rx:a.Tr(),ry:a.xx()});};$.g.GX=function(a){var b=$.th(this,a,!1);b?this.kc(a.ia(),"d",b):this.kc(a.ia(),"d","M 0,0");};$.g.T0=function(a){for(var b=a.elements,c=0;c<b.length;c++)b[c].ia()&&Oi(b[c]),b[c].clip(null);a=a.id();if(a=$.Ce(window.document,a))$.Ye($.af(a)),$.Ye(a);};$.g.zX=function(a){var b=a.clip();if(b){var c;$.J(b,$.Hg)&&(c=b.id());if(!c){c=a.Ia().tn;var d=dk(c,b),e=$.fc($.dc.Gd(),d,"clip");$.cf(d)!=c.ia()&&(this.kc(d,"clip-rule","nonzero"),$.sh(this,d,e));b.j(a.Ia());b.id(e);b=b.shape();b.Pd();if(b=b.ia())d.appendChild(b),c.ia().appendChild(d);c=e;}d=Ki();$.rh(this,a.ia(),{"clip-path":'url("'+d+"#"+c+'")',clipPathUnits:"userSpaceOnUse"});}else Oi(a);};$.g.I5=function(a){a.Fd()?this.kc(a.ia(),"pointer-events","none"):a.ia().removeAttribute("pointer-events");};var Paa,Qaa,Raa;$.H($.Ri,vd);$.Qi="left";Paa="middle";Qaa="right";Raa="none";$.Ri.prototype.preventDefault=function(){$.Ri.u.preventDefault.call(this);this.Be.preventDefault();};$.Ri.prototype.stopPropagation=function(){$.Ri.u.stopPropagation.call(this);this.Be.stopPropagation();};$.Ri.prototype.Hu=function(){vd.prototype.stopPropagation.call(this);};$.Ri.prototype.IA=function(){return this.Be.IA();};var DE=$.Ri.prototype;DE.stopPropagation=DE.stopPropagation;DE.stopWrapperPropagation=DE.Hu;DE.preventDefault=DE.preventDefault;Si.prototype.get=function(){if(0<this.f){this.f--;var a=this.b;this.b=a.next;a.next=null;}else a=this.i();return a;};var lj=new Si(function(){return new Vi();},function(a){a.reset();});Ui.prototype.add=function(a,b){var c=lj.get();c.set(a,b);this.f?this.f.next=c:this.b=c;this.f=c;};Ui.prototype.remove=function(){var a=null;this.b&&(a=this.b,this.b=this.b.next,this.b||(this.f=null),a.next=null);return a;};Vi.prototype.set=function(a,b){this.b=a;this.f=b;this.next=null;};Vi.prototype.reset=function(){this.next=this.f=this.b=null;};var kj;var Xi,Yi=!1,$i=new Ui();var mj,pj;mj=0;$.oj=2;pj=3;rj.prototype.reset=function(){this.context=this.f=this.i=this.b=null;this.j=!1;};var sj=new Si(function(){return new rj();},function(a){a.reset();});$.qj.prototype.then=function(a,b,c){return $.Aj(this,$.E(a)?a:null,$.E(b)?b:null,c);};$.qj.prototype.then=$.qj.prototype.then;$.qj.prototype.$goog_Thenable=!0;$.qj.prototype.cancel=function(a){this.bc==mj&&$.ij(function(){var b=new zj(a);_uj(this,b);},this);};$.qj.prototype.K=function(a){this.bc=mj;$.nj(this,$.oj,a);};$.qj.prototype.P=function(a){this.bc=mj;$.nj(this,pj,a);};$.qj.prototype.G=function(){for(var a;a=vj(this);)wj(this,a,this.bc,this.D);this.j=!1;};var Dj=Wi;$.H(zj,_sa);zj.prototype.name="cancel";$.Ej=$.fa;$.H($.Hj,$.nd);$.g=$.Hj.prototype;$.g.yo=!1;$.g.lF=null;$.g.id=function(){return this.fe||(this.fe=ec($.dc.Gd(),this));};$.g.Qm=function(){return"linear-gradient";};$.g.kd=function(){$.Hj.u.kd.call(this);};$.g.R=function(){this.lF&&(this.lF.jX(this),this.lF=null);this.transform=this.Va=null;delete this.keys;this.mode=!1;$.Hj.u.R.call(this);};var EE=$.Hj.prototype;EE.dispose=EE.kd;$.H($.Jj,$.nd);$.g=$.Jj.prototype;$.g.yo=!1;$.g.mF=null;$.g.id=function(){return this.fe||(this.fe=ec($.dc.Gd(),this));};$.g.Qm=function(){return"radial-gradient";};$.g.kd=function(){$.Jj.u.kd.call(this);};$.g.R=function(){this.mF&&(this.mF.X4(this),this.mF=null);this.transform=this.Va=null;delete this.keys;$.Jj.u.R.call(this);};var FE=$.Jj.prototype;FE.dispose=FE.kd;$.H($.Lj,$.nd);$.g=$.Lj.prototype;$.g.Sd=null;$.g.ia=function(){return this.Sd;};$.g.sc=function(){this.Sd=$.ng().pS();};$.g.clear=function(){$.Oc(this.pu);$.Oc(this.D);$.Oc(this.i);$.Oc(this.b);$.We(this.Sd);};$.g.jX=function(a){var b=$.Ij(a.keys,a.opacity,a.angle,a.mode,a.transform);$.Jc(this.pu,b)&&$.Pc(this.pu,b);a=$.Ce(window.document,a.id());$.Ye(a);};$.g.X4=function(a){var b=$.Kj(a.keys,a.Bc,a.zc,a.Re,a.i,a.opacity,a.Va,a.transform);$.Jc(this.D,b)&&$.Pc(this.D,b);a=$.Ce(window.document,a.id());$.Ye(a);};$.g.Pd=function(){this.sc();var a=this.j.ia(),b=this.ia();a.appendChild(b);};$.g.gc=function(a){a.remove();a.el(this);return this;};$.g.removeChild=function(a){a.el(null);$.Ye(a.ia());return a;};$.g.Gg=function(){return null;};$.g.JI=$.ia;$.g.Ia=function(){return this.j;};$.g.Ob=$.ia;$.g.R=function(){$.Ye(this.Sd);this.Sd=null;$.Gc(this.pu,function(a){$.pd(a);});$.Gc(this.D,function(a){$.pd(a);});$.Gc(this.b,function(a){$.pd(a);});$.Gc(this.i,function(a){$.pd(a);});this.i=this.b=this.D=this.pu=null;delete this.j;};$.H($.Zj,$.tf);var hE=1;$.g=$.Zj.prototype;$.g.Sf=window.NaN;$.g.Df=window.NaN;$.g.nM=window.NaN;$.g.mM=window.NaN;$.g.uL=window.NaN;$.g.sL=window.NaN;$.g.KN=100;$.g.yC=window.NaN;$.g.fs=0;$.Zj.prototype.pathToRadialGradientImage="RadialGradient.png";$.g=$.Zj.prototype;$.g.fe=void 0;$.g.zJ=1;$.g.Hc=null;$.g.lx=null;$.g.mx=void 0;$.g.xv=null;$.g.yv=void 0;$.g.ER=!1;$.g.ow=!1;$.g.id=function(a){if($.n(a))return a=a||"",this.fe!=a&&(this.fe=a,$.sh($.ng(),this.Sd,this.fe)),this;$.n(this.fe)||this.id(ec($.dc.Gd(),this));return this.fe;};$.g.Ia=function(){return this;};$.g.parent=function(){return this;};$.g.ia=function(){return this.Sd;};$.g.width=function(a){return $.n(a)?(Wj(this,a)&&this.At(!0),this):this.Sf||0;};$.g.height=function(a){return $.n(a)?(Xj(this,a)&&this.At(!0),this):this.Df||0;};$.g.resize=function(a,b){var c=Wj(this,a),d=Xj(this,b);(c||d)&&this.At(!0);};$.g.uha=function(a){return $.n(a)?(a=(0,window.parseFloat)(a),0<=a&&(this.KN>a&&!(0,window.isNaN)(this.yC)&&(0,window.clearTimeout)(this.yC),this.KN=a,this.At(!0)),this):this.KN;};$.g.O=function(a){return $.n(a)?(a=$.Ce(window.document,a||null),this.Hc!=a&&(this.Hc=a,Yj(this),this.At(!0),this.Pd()),this):this.Hc?this.mp:null;};$.g.jfa=function(){return this.Hc;};$.g.Pl=function(){return this.mp;};$.g.suspend=function(){this.zJ++;return this;};$.g.resume=function(a){this.zJ=a?0:Math.max(this.zJ-1,0);this.Pd();return this;};$.g.eda=function(a){return $.n(a)?(this.ER=!!a,this):this.ER;};$.g.wf=function(){return!!this.zJ;};$.g.rN=function(){return this.ow;};$.g.title=function(a){return $.n(a)?(this.mx!=a&&(this.mx=a,$.ng().JX(this,this.mx)),this):this.mx;};$.g.RS=function(a){return $.n(a)?(this.yv!=a&&(this.yv=a,$.ng().BX(this,this.yv)),this):this.yv;};$.g.visible=function(a){if(0==arguments.length)return this.Na.visible();this.Na.visible(a);return this;};$.g.data=function(a){if(0==arguments.length)return this.F();var b=a.type;if(b)switch(b){case"rect":var c=this.rect();break;case"circle":c=this.pn();break;case"ellipse":c=this.ellipse();break;case"image":c=this.uk();break;case"text":c=this.text();break;case"path":c=this.path();break;case"layer":c=this.Ad();break;default:c=null;}else this.me(a);c&&c.me(a);return this;};$.g.remove=function(){return this.O(null);};$.g.Ch=function(){return 0;};$.g.xs=function(){return 0;};$.g.qb=function(){return new $.I(0,0,this.width(),this.height());};$.g.clip=function(a){return this.Na.clip(a);};$.g.uM=function(){return this.m0;};$.g.fullScreen=function(a){var b=this.Pl();if($.n(a))return b&&this.Iy()&&(a=!!a,this.fullScreen()!=a&&(a?b.mozRequestFullScreenWithKeys?b.mozRequestFullScreenWithKeys():b.webkitRequestFullscreen?b.webkitRequestFullscreen():b.webkitRequestFullscreen?b.webkitRequestFullscreen():b.mozRequestFullScreen?b.mozRequestFullScreen():b.msRequestFullscreen?b.msRequestFullscreen():b.requestFullscreen&&b.requestFullscreen():(b=$.Be().b,b.webkitCancelFullScreen?b.webkitCancelFullScreen():b.mozCancelFullScreen?b.mozCancelFullScreen():b.msExitFullscreen?b.msExitFullscreen():b.exitFullscreen&&b.exitFullscreen()))),this;if(!(a=!b)){a:{a=$.Be().b;a=[a.webkitFullscreenElement,a.mozFullScreenElement,a.msFullscreenElement,a.fullscreenElement];for(var c=0;c<a.length;c++)if(null!=a[c]){a=a[c];break a;}a=null;}a=a!=b;}return!a;};$.g.Iy=function(){return $.Uj();};$.g.Qm=function(){return"stage";};$.g.rl=function(){return this.Na;};$.g.JI=function(a){this.Na.JI(a);};$.g.TF=$.ia;$.g.At=function(a,b){a&&!(0,window.isNaN)(this.yC)&&(0,window.clearTimeout)(this.yC);this.yC=window.NaN;var c=(0,window.isNaN)(this.nM);var d=(0,window.isNaN)(this.mM);var e=c||d;if(e){var f=this.fullScreen()?$.Yf(this.mp):this.Hc?$.Yf(this.Hc):new $.lb(window.NaN,window.NaN);f.width=Math.max(f.width||0,0);f.height=Math.max(f.height||0,0);var h=!f.width&&!f.height;c=c?f.width:this.nM;d=d?f.height:this.mM;}else c=this.nM,d=this.mM,h=!1;c==this.Sf&&d==this.Df||h||(this.Sf=c,this.Df=d,b||this.dispatchEvent("stageresize"));this.Hc&&e&&!$.Ah.isNodeJS&&(this.yC=(0,window.setTimeout)(this.At,this.KN));};$.g.tda=function(){this.tn.clear();};$.g.me=function(a){this.width(a.width);this.height(a.height);a.type="layer";this.rl().me(a);this.rl().id("");"id"in a&&this.id(a.id);};$.g.F=function(){var a=this.rl().F();this.fe&&(a.id=this.fe);a.width=this.uL;a.height=this.sL;delete a.type;return a;};$.g.EZ=function(a){this.fs+=a;return a;};$.g.x$=function(a){a=Math.min(500-this.fs,a);this.fs+=a;return a;};$.g.oF=$.Zj.prototype.EZ;$.g.Pd=function(){if(!this.zJ&&this.Hc&&!this.ow)if(this.ow=!0,this.dispatchEvent("renderstart"),this.fs=0,this.ER)this.oF=this.x$,(0,window.setTimeout)(this.EO,0);else{this.oF=this.EZ;this.ik();if(this.vr())throw $.kd(6);bk(this);}};$.g.EO=function(){this.ik();this.vr()?(0,window.setTimeout)(this.EO,0):bk(this);};$.g.ik=function(){if(this.Ox&&this.Ox.length){for(var a=0;a<this.Ox.length;a++){var b=this.Ox[a];b.vr()&&b.Pd();}this.Ox.length=0;}this.Na.vr()&&this.Na.Pd();this.To&&this.To().Pd();};$.g.Ob=function(){};$.g.vr=function(){return this.Na.vr();};$.g.Pf=function(a){return this.Na.Pf(a);};$.g.Ad=$.Jg.prototype.Ad;$.g.LP=$.Jg.prototype.LP;$.g.text=$.Jg.prototype.text;$.g.dN=$.Jg.prototype.dN;$.g.rect=$.Jg.prototype.rect;$.g.uk=$.Jg.prototype.uk;$.g.IO=$.Jg.prototype.IO;$.g.HO=$.Jg.prototype.HO;$.g.JP=$.Jg.prototype.JP;$.g.pn=$.Jg.prototype.pn;$.g.ellipse=$.Jg.prototype.ellipse;$.g.path=$.Jg.prototype.path;$.g.kP=$.Jg.prototype.kP;$.g.mP=$.Jg.prototype.mP;$.g.nP=$.Jg.prototype.nP;$.g.oP=$.Jg.prototype.oP;$.g.pP=$.Jg.prototype.pP;$.g.lP=$.Jg.prototype.lP;$.g.IP=$.Jg.prototype.IP;$.g.FP=$.Jg.prototype.FP;$.g.HP=$.Jg.prototype.HP;$.g.GP=$.Jg.prototype.GP;$.g.JL=$.Jg.prototype.JL;$.g.qL=$.Jg.prototype.qL;$.g.IL=$.Jg.prototype.IL;$.g.VM=$.Jg.prototype.VM;$.g.PP=$.Jg.prototype.PP;$.g.pg=$.Jg.prototype.pg;$.g.OL=$.Jg.prototype.OL;$.g.y0=function(a,b,c,d){return new $.Hg(this,a,b,c,d);};$.g.pattern=function(a){return new $.Qb(a);};$.g.pe=function(a,b,c,d){return $b(a,b,c,d);};$.g.$b=function(){return this.Na.$b();};$.g.gc=function(a){this.Na.gc(a);return this;};$.g.Cg=function(a,b){this.Na.Cg(a,b);return this;};$.g.wd=function(a){return this.Na.wd(a);};$.g.removeChild=function(a){return this.Na.removeChild(a);};$.g.Cj=function(a){return this.Na.Cj(a);};$.g.dj=function(){return this.Na.dj();};$.g.XM=function(a){return this.Na.XM(a);};$.g.Ef=function(a){return this.Na.Ef(a);};$.g.yP=function(a,b){this.Na.yP(a,b);return this;};$.g.AJ=function(a,b){this.Na.AJ(a,b);return this;};$.g.Pj=function(a,b){this.Na.Pj(a,b);return this;};$.g.rotate=function(a,b,c){this.Na.rotate(a,b,c);return this;};$.g.Bu=function(a,b){this.Na.Bu(a,b);return this;};$.g.BE=function(a,b,c){this.Na.BE(a,b,c);return this;};$.g.YO=function(a,b){this.Na.YO(a,b);return this;};$.g.translate=function(a,b){this.Na.translate(a,b);return this;};$.g.setPosition=function(a,b){this.Na.setPosition(a,b);return this;};$.g.scale=function(a,b,c,d){this.Na.scale(a,b,c,d);return this;};$.g.OO=function(a,b,c){this.Na.OO(a,b,c);return this;};$.g.IF=function(a,b,c,d,e,f){this.Na.IF(a,b,c,d,e,f);return this;};$.g.nc=function(a,b,c,d,e,f){this.Na.nc(a,b,c,d,e,f);return this;};$.g.kD=function(){return this.Na.kD();};$.g.gp=function(){return this.Na.gp();};$.g.Gg=function(){return null;};$.g.dispatchEvent=function(a){$.z(a)?a=a.toLowerCase():"type"in a&&(a.type=String(a.type).toLowerCase());return $.Zj.u.dispatchEvent.call(this,a);};$.g.ua=function(a,b,c,d){return $.Zj.u.ua.call(this,String(a).toLowerCase(),b,c,d);};$.g.De=function(a,b,c,d){return $.Zj.u.De.call(this,String(a).toLowerCase(),b,c,d);};$.g.ec=function(a,b,c,d){return $.Zj.u.ec.call(this,String(a).toLowerCase(),b,c,d);};$.g.zl=function(a){$.n(a)&&(a=String(a).toLowerCase());return $.Zj.u.zl.call(this,a);};$.g.qq=function(a){var b=new $.Ri(a,this);if($.J(b.target,$.kg)){b.target.dispatchEvent(b);var c=b.type;b.defaultPrevented&&a.preventDefault();$.J(b.relatedTarget,$.kg)&&b.relatedTarget.Ia()==this||("mouseover"==c?this.Og.ua(window.document,"mousemove",this.qq,!1):"mouseout"==c&&this.Og.ec(window.document,"mousemove",this.qq,!1));switch(c){case"mousedown":this.Og.ua(window.document,"mouseup",this.qq,!1);break;case"mouseup":this.Og.ec(window.document,"mouseup",this.qq,!1);break;case"touchstart":this.Og.ua(window.document,"touchmove",this.qq,{capture:!1,passive:!1});break;case"touchend":this.Og.ec(window.document,"touchmove",this.qq,{capture:!1,passive:!1});break;case"pointerdown":this.Og.ua(window.document,"pointermove",this.qq,!1);break;case"pointerup":this.Og.ec(window.document,"pointermove",this.qq,!1);}}};$.g.kd=function(){$.Zj.u.kd.call(this);};$.g.R=function(){$.Zj.u.R.call(this);$.Gc(this.m0,function(a,c,d){a.remove();delete d[a];});$.pd(this.Og);this.Og=null;$.pd(this.tn);delete this.tn;$.pd(this.Na);this.ik();this.Na.VC();delete this.Na;var a=$.fc($.dc.Gd(),this,"stage");delete $.Ah.jP[a];jk(this);$.Ye(this.mp);this.Hc=null;delete this.mp;this.Sd=null;$.Nc(ik)&&Kaa();this.om&&(this.om.kd(),this.om=null);};var GE=$.Zj.prototype;$.F("acgraph.vector.Stage",$.Zj);GE.id=GE.id;GE.container=GE.O;GE.getContainerElement=GE.jfa;GE.getDomWrapper=GE.Pl;GE.maxResizeDelay=GE.uha;GE.dispose=GE.kd;GE.getBounds=GE.qb;GE.layer=GE.Ad;GE.unmanagedLayer=GE.LP;GE.circle=GE.pn;GE.ellipse=GE.ellipse;GE.rect=GE.rect;GE.truncatedRect=GE.JP;GE.roundedRect=GE.IO;GE.roundedInnerRect=GE.HO;GE.path=GE.path;GE.star=GE.kP;GE.star4=GE.mP;GE.star5=GE.nP;GE.star6=GE.oP;GE.star7=GE.pP;GE.star10=GE.lP;GE.diamond=GE.JL;GE.triangleUp=GE.IP;GE.triangleDown=GE.FP;GE.triangleRight=GE.HP;GE.triangleLeft=GE.GP;GE.cross=GE.qL;GE.diagonalCross=GE.IL;GE.hLine=GE.VM;GE.vLine=GE.PP;GE.pie=GE.pg;GE.donut=GE.OL;GE.text=GE.text;GE.html=GE.dN;GE.image=GE.uk;GE.data=GE.data;GE.pattern=GE.pattern;GE.hatchFill=GE.pe;GE.clearDefs=GE.tda;GE.numChildren=GE.$b;GE.addChild=GE.gc;GE.addChildAt=GE.Cg;GE.removeChild=GE.removeChild;GE.removeChildAt=GE.Cj;GE.removeChildren=GE.dj;GE.swapChildren=GE.yP;GE.swapChildrenAt=GE.AJ;GE.getChildAt=GE.wd;GE.hasChild=GE.XM;GE.forEachChild=GE.Pj;GE.indexOfChild=GE.Ef;GE.getX=GE.Ch;GE.getY=GE.xs;GE.width=GE.width;GE.height=GE.height;GE.getBounds=GE.qb;GE.resize=GE.resize;GE.asyncMode=GE.eda;GE.resume=GE.resume;GE.suspend=GE.suspend;GE.isRendering=GE.rN;GE.isSuspended=GE.wf;GE.remove=GE.remove;GE.domElement=GE.ia;GE.visible=GE.visible;GE.rotate=GE.rotate;GE.rotateByAnchor=GE.Bu;GE.setRotation=GE.BE;GE.setRotationByAnchor=GE.YO;GE.translate=GE.translate;GE.setPosition=GE.setPosition;GE.scale=GE.scale;GE.scaleByAnchor=GE.OO;GE.appendTransformationMatrix=GE.IF;GE.setTransformationMatrix=GE.nc;GE.getRotationAngle=GE.kD;GE.getTransformationMatrix=GE.gp;GE.clip=GE.clip;GE.createClip=GE.y0;GE.parent=GE.parent;GE.getStage=GE.Ia;GE.listen=GE.ua;GE.listenOnce=GE.De;GE.unlisten=GE.ec;GE.unlistenByKey=GE.JB;GE.removeAllListeners=GE.zl;GE.title=GE.title;GE.desc=GE.RS;GE.getCharts=GE.uM;GE.fullScreen=GE.fullScreen;GE.isFullScreenAvailable=GE.Iy;$.H(ck,$.Lj);ck.prototype.clear=function(){$.Oc(this.f);ck.u.clear.call(this);};ck.prototype.R=function(){ck.u.R.call(this);for(var a in this.f)delete this.f[a];delete this.f;};$.H(ek,$.Zj);ek.prototype.z0=function(){return new ck(this);};var ik;ik={};$.Ah=$.fa.acgraph;if($.fa.IS_ANYCHART_AMD)$.uh=window;else $.uh=$.fa,$.uh.acgraph=$.uh.acgraph||{};$.lk=null;$.lk=$.id&&!$.dd("9")?"vml":"svg";$.Ah.fontSize="10px";$.Ah.fontColor="#000";$.Ah.textDirection="ltr";$.Ah.fontFamily="Verdana";var wk=void 0;$.F("acgraph.create",$.mk);$.F("acgraph.getStage",function(a){return $.Ah.jP[a];});$.F("acgraph.type",function(){return $.lk;});$.F("acgraph.rect",$.nk);$.F("acgraph.circle",$.ok);$.F("acgraph.ellipse",$.qk);$.F("acgraph.path",$.rk);$.F("acgraph.text",$.tk);$.F("acgraph.layer",$.pk);$.F("acgraph.image",sk);$.F("acgraph.hatchFill",$b);$.F("acgraph.patternFill",$.Rb);$.F("acgraph.clip",$.uk);$.F("acgraph.useAbsoluteReferences",function(a){if($.n(a))xk=a;else return!!Ki();});$.F("acgraph.updateReferences",function(){var a=wk;wk=void 0;if($.n(a)&&Ki()!=a){var b=$.ng(),c;for(c in ik)if(ik.hasOwnProperty(c)){a=ik[c];var d=a.Ia();d&&($.J(a,$.kg)&&(d.wf()?a.Ob(512):a.Pf(512)||b.zX(a)),$.J(a,$.qg)&&(d.wf()?a.Ob(24):(a.Pf(8)||Mi(b,a),a.Pf(16)||Ni(b,a))));}}});var HE,eq;if($.fa.IS_ANYCHART_AMD){$.iq=$.fa;$.ll=window;}else $.ll=$.fa,$.ll.anychart=$.ll.anychart||{},$.iq=$.ll.anychart;$.Ah.anychart=$.iq;$.Ej=$.ll||$.fa;$.Pp=$.ll.document;$.F("anychart.VERSION","8.11.0.1934");$.F("anychart.DEVELOP",!1);$.F("anychart.DEFAULT_THEME","defaultTheme");$.F("anychart.PERFORMANCE_MONITORING",!1);var Xaa,Yaa,Zaa,$aa,aba,tda,bba,cba,dba,fba,gba,iba,Nk,jba,kba,lba,mba,uda,nba,oba,qba,JE,rba,vda,wda,gu,xda,yda,zda,sba,uba,vba,wba,xba,yba,zba,Aba,Ada,Bda,Cda,oca,Dda,LE,Ou,ME;Xaa={qma:"by-spot",tma:"by-x",M9:"single"};Yaa={NONE:"none",Bra:"single-select",Ipa:"multi-select",$na:"drill-down"};Zaa={WY:"default",jna:"crosshair",zqa:"pointer",ppa:"move",Y9:"text",xsa:"wait",t8:"help",Qpa:"n-resize",Mpa:"ne-resize",koa:"e-resize",Ara:"se-resize",Tra:"s-resize",Sra:"sw-resize",Dsa:"w-resize",Ppa:"nw-resize",Npa:"ns-resize",foa:"ew-resize",Opa:"nwse-resize",Lpa:"nesw-resize"};$aa={G8:"left-top",E8:"left-center",D8:"left-bottom",o7:"center-top",vz:"center",n7:"center-bottom",e9:"right-top",d9:"right-center",c9:"right-bottom",UY:"auto"};aba={G8:"left-top",E8:"left-center",D8:"left-bottom",o7:"center-top",vz:"center",n7:"center-bottom",e9:"right-top",d9:"right-center",c9:"right-bottom",UY:"auto"};tda={jma:"before-axes",Ela:"after-axes"};bba={vz:"center",oQ:"left",uQ:"right",DQ:"top",dQ:"bottom"};cba={zZ:"vertical",bZ:"horizontal"};dba={zZ:"vertical",bZ:"horizontal",ssa:"vertical-expandable",Hoa:"horizontal-expandable"};fba={oQ:"left",uQ:"right",DQ:"top",dQ:"bottom"};gba={mQ:"inside",gZ:"outside"};iba={Rla:"asc",Bna:"desc",NONE:"none"};Nk={fQ:"circle",N9:"square",N7:"diamond",f$:"triangle-up",c$:"triangle-down",e$:"triangle-right",d$:"triangle-left",s7:"cross",XY:"diagonal-cross",P9:"star4",Q9:"star5",R9:"star6",S9:"star7",O9:"star10",T8:"pentagon",a$:"trapezium",qt:"line",g$:"v-line",X6:"arrowhead",Qla:"arrow-up",Pla:"arrow-right",Nla:"arrow-down",Ola:"arrow-left"};jba={fQ:"circle",Y8:"rect",uqa:"pin",toa:"flag"};kba={jsa:"up",Tna:"down",UY:"auto",Spa:"odd-even"};lba={nra:"series",ura:"series-positive",tra:"series-negative",ZERO:"zero",Xla:"axis"};mba={S8:"no-overlap",W6:"allow-overlap",Tla:"auto-width"};uda={NONE:"none",$qa:"round",u7:"cut",ara:"round-inner"};nba={SB:"area",bF:"bar",eQ:"bubble",VY:"candlestick",cF:"column",qt:"line",fZ:"ohlc",jZ:"range-area",kZ:"range-bar",tQ:"range-column",lZ:"range-spline-area",mZ:"range-step-area",pZ:"spline",qZ:"spline-area",xZ:"step-line",wZ:"step-area",fQ:"circle",N9:"square",f$:"triangle-up",c$:"triangle-down",e$:"triangle-right",d$:"triangle-left",N7:"diamond",s7:"cross",XY:"diagonal-cross",P9:"star4",Q9:"star5",R9:"star6",S9:"star7",O9:"star10",T8:"pentagon",a$:"trapezium",X6:"arrowhead",g$:"v-line",Zu:"marker",Zqa:"rising-falling"};oba={WY:"default",xma:"categories"};$.Pk={l$:"x",qt:"line",S7:"ellipse",bF:"bar"};qba={mQ:"inside",vz:"center",gZ:"outside"};JE={NONE:"none",EQ:"value",fqa:"percent"};rba={vra:"series-start",roa:"first-visible",pra:"series-end",Toa:"last-visible"};vda={Ina:"direct",Wqa:"reverse"};wda={SB:"area",bF:"bar",oma:"box",eQ:"bubble",VY:"candlestick",cF:"column",A8:"jump-line",qt:"line",Zu:"marker",fZ:"ohlc",jZ:"range-area",kZ:"range-bar",tQ:"range-column",lZ:"range-spline-area",mZ:"range-step-area",pZ:"spline",qZ:"spline-area",wZ:"step-area",xZ:"step-line",V9:"stick",y8:"hilo"};gu={wx:"children",VB:"parent"};xda={g8:"first-date",h8:"first-visible-date",C8:"last-visible-date",B8:"last-date"};yda={WY:"default",Qqa:"raw",jra:"selected",Coa:"grouped"};zda={NONE:"none",l$:"x",EQ:"value",nma:"both"};sba={kna:"csv",rma:"by-word",pma:"by-char"};uba={oQ:"left",T9:"start",vz:"center",V7:"end",uQ:"right"};vba={DQ:"top",O8:"middle",dQ:"bottom"};wba={kma:"blink",Woa:"line-through",aqa:"overline",esa:"underline",NONE:"none"};xba={R8:"normal",Noa:"italic",Rpa:"oblique"};yba={R8:"normal",Era:"small-caps"};zba={gpa:"ltr",bra:"rtl"};$.KE={gsa:"unit",POINTS:"points",iZ:"range",Hsa:"ytd",Nqa:"qtd",Hpa:"mtd",M8:"max"};Aba={g8:"first-date",h8:"first-visible-date",C8:"last-visible-date",B8:"last-date"};Ada={fsa:"union",mra:"separated",M9:"single"};Bda={FLOAT:"float",yqa:"point",Rma:"chart"};Cda={FLOAT:"float",Nra:"sticky"};oca={cra:"same",Hna:"different"};Dda={vz:"center",zoa:"forward",Zla:"backward"};LE={Wla:"average",Y6:"bubbleSize",Z6:"bubbleSizePercentOfCategory",c7:"bubbleSizePercentOfSeries",d7:"bubbleSizePercentOfTotal",yma:"categoryName",e7:"categoryYAverage",Ama:"categoryYMax",f7:"categoryYMedian",Dma:"categoryYMin",g7:"categoryYMode",h7:"categoryYPercentOfTotal",Gma:"categoryYRangeAverage",i7:"categoryYRangeMax",Jma:"categoryYRangeMedian",j7:"categoryYRangeMin",Mma:"categoryYRangeMode",k7:"categoryYRangePercentOfTotal",l7:"categoryYRangeSum",m7:"categoryYSum",p7:"chartElements",q7:"close",ina:"count",v7:"dataPlotBubbleMaxSize",w7:"dataPlotBubbleMinSize",x7:"dataPlotBubbleSizeAverage",y7:"dataPlotBubbleSizeSum",pna:"dataPlotMaxXSumSeriesName",rna:"dataPlotMaxYSumSeriesName",qna:"dataPlotMaxXValuePointSeriesName",sna:"dataPlotMaxYValuePointSeriesName",tna:"dataPlotMinXSumSeriesName",vna:"dataPlotMinYSumSeriesName",una:"dataPlotMinXValuePointSeriesName",wna:"dataPlotMinYValuePointSeriesName",z7:"dataPlotPointCount",A7:"dataPlotSeriesCount",B7:"dataPlotXAverage",C7:"dataPlotXMax",D7:"dataPlotXMin",E7:"dataPlotXSum",G7:"dataPlotYAverage",H7:"dataPlotYMax",I7:"dataPlotYMin",J7:"dataPlotYRangeMax",K7:"dataPlotYRangeMin",L7:"dataPlotYRangeSum",M7:"dataPlotYSum",u8:"high",z8:"index",I8:"low",M8:"max",jpa:"min",Jpa:"name",OPEN:"open",Iqa:"pointsCount",sqa:"pertChartCriticalPathStandardDeviation",tqa:"pertChartProjectDuration",iZ:"range",W8:"rangeEnd",X8:"rangeStart",ora:"seriesAverage",i9:"seriesBubbleMaxSize",j9:"seriesBubbleMinSize",k9:"seriesBubbleSizeAverage",l9:"seriesBubbleSizeMedian",m9:"seriesBubbleSizeMode",n9:"seriesBubbleSizeSum",o9:"seriesFirstXValue",p9:"seriesFirstYValue",r9:"seriesLastXValue",s9:"seriesLastYValue",qra:"seriesMax",rra:"seriesMin",sra:"seriesName",u9:"seriesPointCount",t9:"seriesPointsCount",wra:"seriesSum",v9:"seriesXAverage",w9:"seriesXMax",x9:"seriesXMedian",y9:"seriesXMin",z9:"seriesXMode",A9:"seriesXSum",B9:"seriesYAverage",C9:"seriesYMax",D9:"seriesYMedian",E9:"seriesYMin",G9:"seriesYMode",xra:"seriesYRangeAverage",H9:"seriesYRangeMax",yra:"seriesYRangeMedian",I9:"seriesYRangeMin",zra:"seriesYRangeMode",J9:"seriesYRangeSum",K9:"seriesYSum",Qra:"sum",EQ:"value",U8:"percentValue",m$:"xPercentOfSeries",n$:"xPercentOfTotal",o$:"xValue",p$:"yPercentOfCategory",q$:"yPercentOfSeries",r$:"yPercentOfTotal",s$:"yValue",Fsa:"xScalesMin",Esa:"xScalesMax",Jsa:"yScalesMin",Isa:"yScalesMax",Pma:"catYSumArr_",Ema:"catYMinArr_",Bma:"catYMaxArr_",zma:"catYAvgArr_",Cma:"catYMedianArr_",Fma:"catYModeArr_",Oma:"catYRangeSumArr_",Lma:"catYRangeMinArr_",Ima:"catYRangeMaxArr_",Hma:"catYRangeAvgArr_",Kma:"catYRangeMedianArr_",Nma:"catYRangeModeArr_"};Ou={};for(ME in LE)LE.hasOwnProperty(ME)&&(Ou[ME]=LE[ME].toLowerCase());var Eda={p7:"chart-elements",xna:"data-table"},Bba={NONE:"none",cna:"consider"},Fda={Vpa:"ordinal",dra:"scatter"},Gda={Jna:"discrete",fna:"continuous"};var jl={};$.H(ql,$.nd);var Eba=/^(.*\.)?anychart\.(com|stg|dev)$/i,NE=!1,ml=1,nl=2,ol=4,pl=8;$.g=ql.prototype;$.g.nf=function(){return!this.bc;};$.g.J=function(a){return!!(this.bc&a);};$.g.I=function(a){this.bc&=~a;};$.g.B=function(a,b){var c=a&~this.bc;this.bc|=c;!this.ld&&!this.f.wf()&&c&&b&&this.f.Pd();};$.g.enabled=function(a){return $.n(a)?(this.G!=a&&(this.G=a,(tl(this)||this.K)&&this.B(ml,!0)),this):this.G;};$.g.text=function(a){return $.n(a)?(this.jc!=a&&(this.jc=a,tl(this)&&this.B(ol,!0)),this):this.jc;};$.g.pK=function(a){return $.n(a)?(this.Ha!=a&&(this.Ha=a,tl(this)&&this.B(nl,!0)),this):this.Ha;};$.g.nK=function(a){return $.n(a)?(this.aa!=a&&(this.aa=a,tl(this)&&this.B(nl,!0)),this):this.aa;};$.g.oK=function(a){return $.n(a)?(this.ba!=a&&(this.ba=a,tl(this)&&this.B(nl,!0)),this):this.ba;};$.g.wF=function(a){return $.n(a)?(this.ea!=a&&(this.ea=a,tl(this)&&this.B(pl,!0)),this):this.ea;};$.g.Ia=function(){return this.f;};$.g.ia=function(){return this.Sd;};$.g.Pd=function(){var a=tl(this);a&&$.n(this.Ba)&&!this.Ba&&this.B(ml,!1);this.Ba=a;if(this.nf()||this.ld||!this.f||this.f.wf())return this;if(!this.enabled()&&(this.K||a))return this.J(ml)&&($.Ye(this.Sd),this.I(ml)),this;if(!NE){var b="",c=$.Oe("STYLE");c.type="text/css";b+='.anychart-credits{position:absolute;overflow:hidden;right:9px;bottom:6px;height:10px;}.anychart-credits a {text-decoration:none;}.anychart-credits-logo{border:none;margin-right:2px;height:10px;width:10px;display:inline-block;vertical-align:top;}.anychart-credits-text{font-size:10px;line-height:9px;display:inline-block;vertical-align:top;text-decoration:none;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;color:#929292;height:10px;}';c.styleSheet?c.styleSheet.cssText=b:c.appendChild(window.document.createTextNode(String(b)));$.Xe($.De(window.document,"head",void 0,void 0)[0],c,0);NE=!0;}this.Sd||(this.Sd=$.Oe("DIV","anychart-credits"));this.i||(this.i=$.Oe("A"),this.D=$.Oe("SPAN","anychart-credits-text"),this.b=$.Oe("IMG","anychart-credits-logo"),Ve(this.i,this.D),this.Sd.appendChild(this.i));b=this.f.Pl();this.J(ml)&&(b&&b.appendChild(this.Sd),this.I(ml));this.J(nl)&&(b=$.ic.apply(null,[", v%s.%s.%s.%s"].concat(["8","11","0","1934"])),c=a?this.nK():"AnyChart - JavaScript Charts designed to be embedded and integrated{{anychart-version}}",$.Fe(this.i,{href:a?this.pK():"https://www.anychart.com/?utm_source=trial",title:c.replace("{{anychart-version}}",b),target:"_blank"}),$.Fe(this.b,{alt:a?this.oK():"AnyChart - JavaScript Charts"}),this.I(nl));this.J(ol)&&(a=a?this.text():"AnyChart Trial Version",$.ef(this.D,a),this.I(ol));if(this.J(pl)){if(a=tl(this)?this.wF():rl()){if(this.P=a,b=vh($.ng()))$.Ld(b,"complete",this.l4,!1,this),$.Ld(b,"load",this.a_,!1,this),$.Ld(b,"error",this.m4,!1,this),this.j&&(fh(b,a),this.j=!1),dh(b,a,a),this.j=!0,b.start();}else $.Ye(this.b);this.I(pl);}return this;};$.g.a_=function(a){var b=this.P;a.target.id==b&&(this.ld||(tl(this)?this.wF():rl())!=b||this.b.parentNode||$.Xe(this.i,this.b,0),$.Fe(this.b,{src:b}),this.j=!1);};$.g.l4=function(a){a.target.id==this.P&&(this.j=!1);};$.g.m4=function(a){a.target.id==this.P&&$.Ye(this.b);};$.g.N=function(a){this.f.suspend();$.z(a)?(this.text(a),this.enabled(!0)):$.da(a)||null===a?this.enabled(!!a):$.C(a)&&(this.pK(a.url),this.text(a.text),this.nK(a.alt),this.oK(a.imgAlt),this.wF(a.logoSrc),this.enabled(a.enabled));this.f.resume();};$.g.F=function(){var a={};a.url=this.pK();a.alt=this.nK();a.imgAlt=this.oK();a.text=this.text();a.logoSrc=this.wF();a.enabled=this.enabled();return a;};$.g.R=function(){var a=$.ng();a.gu&&!a.gu.ld&&(a=vh($.ng()),$.Zd(a,"load",this.a_,!1,this),$.Zd(a,"complete",this.l4,!1,this),$.Zd(a,"error",this.m4,!1,this));$.Ye(this.D);$.Ye(this.b);$.Ye(this.i);$.Ye(this.Sd);this.f=this.Sd=this.i=this.b=this.D=null;ql.u.R.call(this);};var OE=ql.prototype;OE.text=OE.text;OE.url=OE.pK;OE.alt=OE.nK;OE.imgAlt=OE.oK;OE.logoSrc=OE.wF;OE.enabled=OE.enabled;$.ll.performance&&$.E($.ll.performance.now)&&(0,$.pa)($.ll.performance.now,$.ll.performance);ul.prototype.measure=function(){xl(this);var a=[],b;for(b in this.b){var c=this.b[b];if(!c.yV){for(var d=0;d<c.dS.length;d++){var e=c.dS[d];e&&((e.ea?e.i[0]&&e.i[0][0]&&e.i[0][0].O:e.ma?e.G.O:e.ba?e.b[0].O:e.O)||$.Sx(e,this.f),a.push(e));}c.yV=!0;}}for(b=0;b<a.length;b++)$.cy(a[b]);};ul.prototype.j=function(a){var b=a.target,c=$.X(a,$.PE);a=$.X(a,$.QE);if(c||a)b="m"+$.oa(b),b=this.b[b],b.yV=!a,c&&(b.dS=b.wO.Qw());};var Al={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var Gba=/#(.)(.)(.)/,yl=/^#(?:[0-9a-f]{3}){1,2}$/i,Fba=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;var Hba,Iba,Zl;$.cm={color:"#fff",opacity:1E-5};Hba=/^#(?:[0-9a-f]{3}){1,2}$/i;Iba=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;Zl={};$.F("anychart.color.blend",$.Ll);$.F("anychart.color.lighten",$.Ql);$.F("anychart.color.darken",$.Rl);$.F("anychart.color.setThickness",$.Xl);$.F("anychart.color.setOpacity",$.Vl);$.F("anychart.color.singleHueProgression",Nl);$.F("anychart.color.bipolarHueProgression",function(a,b,c){c=$.n(c)?c:7;a=Nl(a||"blue",Math.floor(c/2)+1,null,1);b=Nl(b||"red",Math.floor(c/2)+1,1);0==c%2&&$.Ca(a,a.length-1,1);$.Ca(b,0,1);return a.concat(b);});$.F("anychart.color.blendedHueProgression",$.Ol);var jm,Km,Fm,Hm,Gm,Lm,Mm,Im,xm,zm,Bm,Dm;for(var RE=[{Rb:"defaultScaleSettings.linear",Qb:[["defaultScaleSettings.",["log","dateTime"]]]},{Rb:"defaultOrdinalColorScale",Qb:["defaultScaleSettings.ordinalColor"]},{Rb:"defaultLinearColorScale",Qb:["defaultScaleSettings.linearColor"]},{Rb:"defaultFontSettings",Qb:[["default",["Title","CrosshairLabel","ButtonSettings.normal",["Tooltip",["",".contentInternal"]],["Legend",["",".paginator"]],["Label",["Factory","Settings"]]]],[["cartesianBase","scatter","mekko"],".defaultTextMarkerSettings"],["standalones.",["label","table","textAxisMarker"]],[["standalones","resource"],".resourceList.baseSettings"],"stock.eventMarkers.normal","chart.defaultAnnotationSettings.label"]},{Rb:"defaultLabelSettings",Qb:[["chart.",[[["","defaultQuarterSettings."],"defaultLabelSettings"]]],"defaultTextMarkerSettings"]},{Rb:"defaultBackground",Qb:[[[["default",["Title","Timeline.header","TextMarkerSettings","ButtonSettings.normal",["Tooltip",["",".contentInternal"]],"LabelFactory","CrosshairLabel",["Legend",["",".paginator"]]]],["chart",["",".defaultAnnotationSettings.label",[["",".defaultQuarterSettings"],".defaultLabelSettings"],".dataArea"]],["stock.",[[["defaultPlotSettings","scroller"],".xAxis"],"defaultPlotSettings.dataArea"]],["resource.",["grid","timeLine","resourceList"]],["standalones",["",".label",".resourceList"]]],".background"],"chart.defaultQuarterSettings"]},{Rb:"chart.defaultLabelSettings",Qb:["defaultNoDataLabel"]},{Rb:"defaultLabelFactory",Qb:[["default",[["Axis.",[[["minorL","l"],"abels"]]],["Timeline.",["header","labels"]]]],"standalones.labelsFactory",["map.axesSettings.",[[["l","minorL"],"abels"]]],[["pert.milestones",["resource.",["activities","conflicts"]]],".labels"],["pert.tasks.",[[["upper","lower"],"Labels"]]],"stock.defaultPlotSettings.defaultPriceIndicatorSettings.label","treeMap.normal.headers",[["venn","pieFunnelPyramidBase","sunburst",["sankey.",["node","flow","dropoff"]],[["heat","tree"],"Map"],[["chart.defaultAnnotation","linearGauge.defaultPointer",[["chart","map"],".defaultSeries"]],"Settings.base"]],".normal.labels"]]},{Rb:"chart.normal.labels",Qb:["chart.defaultSeriesSettings.base.normal.labels"]},{Rb:"defaultCrosshairLabel",Qb:[[["cartesianBase","mekko","scatter","map","stock"],".crosshair.defaultLabelSettings"]]},{Rb:"defaultMarkerFactory",Qb:["defaultTimeline.markers","standalones.markersFactory",[["venn","pieFunnelPyramidBase",[["heat","tree"],"Map"],[["chart.defaultAnnotation",[["chart","map"],".defaultSeries"]],"Settings.base"]],".normal.markers"]]},{Rb:"defaultTitle",Qb:[[[["default",["Tooltip","Axis","Legend","DataGrid.defaultColumnSettings"]],["chart",["",".defaultQuarterSettings"]],"stock.defaultPlotSettings","standalones","map.axesSettings"],".title"]]},{Rb:"defaultSeparator",Qb:[["default",[[["Tooltip.s","Legend.titleS"],"eparator"]]]]},{Rb:"defaultTooltip",Qb:[[[["default",["Legend","DataGrid","Timeline"]],"chart","pieFunnelPyramidBase",["pert.",["milestones","tasks"]],"stock.eventMarkers"],".tooltip"]]},{Rb:"defaultLegend",Qb:[[["chart","standalones"],".legend"]]},{Rb:"palette",Qb:[[["chart","stock.scroller",["default",["DataGrid","Timeline"]]],".palette"]]},{Rb:"hatchFillPalette",Qb:[[["chart","stock.scroller"],".hatchFillPalette"]]},{Rb:"hatchFillPaletteFor3D",Qb:["cartesian3dBase.hatchFillPalette"]},{Rb:"markerPalette",Qb:[[["chart","stock.defaultPlotSettings"],".markerPalette"]]},{Rb:"defaultGridSettings",Qb:[[["defaultMinor",["cartesianBase scatter polar radar heatMap stock.defaultPlotSettings".split(" "),".default"]],"GridSettings"],"map.gridsSettings",["standalones.",[[["linear","radar","polar"],"Grid"]]]]},{Rb:"defaultMinorGridSettings",Qb:[[["cartesianBase","scatter","polar","radar","stock.defaultPlotSettings"],".defaultMinorGridSettings"]]},{Rb:"defaultLineMarkerSettings",Qb:[["cartesianBase scatter mekko sparkline defaultTimeline stock.defaultPlotSettings".split(" "),".defaultLineMarkerSettings"],"standalones.lineAxisMarker"]},{Rb:"defaultTextMarkerSettings",Qb:[["cartesianBase scatter mekko sparkline defaultTimeline stock.defaultPlotSettings".split(" "),".defaultTextMarkerSettings"],"standalones.textAxisMarker"]},{Rb:"defaultRangeMarkerSettings",Qb:[["cartesianBase scatter mekko sparkline defaultTimeline stock.defaultPlotSettings".split(" "),".defaultRangeMarkerSettings"],"standalones.rangeAxisMarker"]},{Rb:"defaultAxis",Qb:[[[[["cartesianBase","heatMap","scatter","mekko"],[[".default",["X","Y"]]]],[["circular","linear"],"Gauge.default"]],"AxisSettings"],[["radar.","polar."],[[["x","y"],"Axis"]]],["stock.",[["defaultPlotSettings.",["defaultYAxisSettings","xAxis"]],"scroller.xAxis"]],"bullet.axis","defaultColorRange",["standalones.",[[["linear","polar","radar","radial"],"Axis"]]]]},{Rb:"defaultColorRange",Qb:[[["map","treeMap","calendar","standalones","tagCloud"],".colorRange"]]},{Rb:"defaultCallout",Qb:["map.defaultCalloutSettings"]},{Rb:"defaultScroller",Qb:[[[["cartesianBase.",["x","y"]]],"Scroller"],[["stock","standalones"],".scroller"],["resource.",[[["horizontal","vertical"],"ScrollBar"]]]]},{Rb:"defaultNoDataLabel",Qb:[[["chart","stock.defaultPlotSettings"],".noDataLabel"]]},{Rb:"defaultButtonSettings",Qb:["defaultDataGrid.buttons"]},{Rb:"chart",Qb:["tagCloud","scatter","radar","polar","bullet","map","sparkline",[[["cartesian",["","3d"]],"pieFunnelPyramid","gantt"],"Base"],["stock",["",".defaultPlotSettings"]],[["heat","tree"],"Map"],[["circular","linear"],"Gauge"],"pert","resource","mekko","venn","sunburst","sankey","calendar"]},{Rb:"chart.defaultSeriesSettings",Qb:["stock.scroller.defaultSeriesSettings"]},{Rb:"pieFunnelPyramidBase",Qb:["pie","pyramid","funnel"]},{Rb:"pie",Qb:["pie3d"]},{Rb:"cartesianBase.defaultAnnotationSettings.base",Qb:[["cartesianBase.defaultAnnotationSettings.",["ray","line",[["infinite","vertical","horizontal"],"Line"],"rectangle","ellipse","triangle","trendChannel","andrewsPitchfork",["fibonacci",["Fan","Arc","Retracement","Timezones"]],"marker","label"]]]},{Rb:"cartesianBase.defaultSeriesSettings.rangeLike",Qb:[["cartesianBase.defaultSeriesSettings.",[["range",["Bar","Column",[["","Spline","Step"],"Area"]]],"hilo"]]]},{Rb:"cartesianBase.defaultSeriesSettings.base",Qb:[["cartesianBase.defaultSeriesSettings.",[[["area","bar","line"],"Like"],"marker","bubble"]]]},{Rb:"cartesianBase.defaultSeriesSettings.areaLike",Qb:[["cartesianBase.defaultSeriesSettings.",[[["a","splineA","stepA"],"rea"],["range",[[["","Spline","Step"],"Area"]]]]]]},{Rb:"cartesianBase.defaultSeriesSettings.barLike",Qb:[["cartesianBase.defaultSeriesSettings.",["bar","column","box",["range",["Bar","Column"]],"candlestick"]]]},{Rb:"cartesianBase.defaultSeriesSettings.lineLike",Qb:[["cartesianBase.defaultSeriesSettings.",[[["","sp"],"line"],[["step","jump"],"Line"],"ohlc","stick","hilo"]]]},{Rb:"cartesianBase",Qb:["cartesian","area",["vertical",["Area","Line"]],"bar","box","column","financial","line","jumpLine","stick","pareto","waterfall"]},{Rb:"waterfall.defaultSeriesSettings.barLike",Qb:["waterfall.defaultSeriesSettings.waterfall"]},{Rb:"cartesian3dBase.defaultSeriesSettings.base",Qb:[["cartesian3dBase.defaultSeriesSettings.",["bar","column","area","line","line2d"]]]},{Rb:"cartesian3dBase",Qb:[[["area","bar","column","line","cartesian"],"3d"]]},{Rb:"cartesian",Qb:["cartesian3d"]},{Rb:"bar",Qb:["bar3d"]},{Rb:"column",Qb:["column3d"]},{Rb:"area",Qb:[[["area","line"],"3d"]]},{Rb:"mekko.defaultSeriesSettings.base",Qb:[["mekko.defaultSeriesSettings.",["mosaic",[["","bar"],"mekko"]]]]},{Rb:"scatter.defaultAnnotationSettings.base",Qb:[["scatter.defaultAnnotationSettings.",["ray","line",[["infinite","vertical","horizontal"],"Line"],"rectangle","ellipse","triangle","trendChannel","andrewsPitchfork",["fibonacci",["Fan","Arc","Retracement","Timezones"]],"marker","label"]]]},{Rb:"scatter.defaultSeriesSettings.base",Qb:[["scatter.defaultSeriesSettings.",["bubble","lineLike","marker"]]]},{Rb:"scatter.defaultSeriesSettings.lineLike",Qb:["scatter.defaultSeriesSettings.line"]},{Rb:"scatter",Qb:["marker","bubble","quadrant"]},{Rb:"radar.defaultSeriesSettings.base",Qb:[["radar.defaultSeriesSettings.",[[["area","line"],"Like"],"marker"]]]},{Rb:"radar.defaultSeriesSettings.areaLike",Qb:["radar.defaultSeriesSettings.area"]},{Rb:"radar.defaultSeriesSettings.lineLike",Qb:["radar.defaultSeriesSettings.line"]},{Rb:"polar.defaultSeriesSettings.base",Qb:[["polar.defaultSeriesSettings.",[[["area","line","bar"],"Like"],"marker"]]]},{Rb:"polar.defaultSeriesSettings.rangeLike",Qb:["polar.defaultSeriesSettings.rangeColumn"]},{Rb:"polar.defaultSeriesSettings.areaLike",Qb:[["polar.defaultSeriesSettings.",["area","polygon"]]]},{Rb:"polar.defaultSeriesSettings.lineLike",Qb:[["polar.defaultSeriesSettings.",[[["","poly"],"line"]]]]},{Rb:"polar.defaultSeriesSettings.barLike",Qb:[["polar.defaultSeriesSettings.",[[["c","rangeC"],"olumn"]]]]},{Rb:"chart.normal.labels",Qb:["sparkline.labels"]},{Rb:"chart.normal.markers",Qb:["sparkline.markers"]},{Rb:"chart.defaultSeriesSettings.base.normal",Qb:["sparkline.defaultSeriesSettings.base"]},{Rb:"chart.defaultSeriesSettings.area.normal",Qb:["sparkline.defaultSeriesSettings.area"]},{Rb:"chart.defaultSeriesSettings.line.normal",Qb:["sparkline.defaultSeriesSettings.line"]},{Rb:"chart.defaultSeriesSettings.column.normal",Qb:["sparkline.defaultSeriesSettings.column"]},{Rb:"sparkline.defaultSeriesSettings.base",Qb:[["sparkline.defaultSeriesSettings.",["area","line","column","winLoss"]]]},{Rb:"circularGauge.defaultPointerSettings.base",Qb:[["circularGauge.defaultPointerSettings.",["bar","marker","needle","knob"]]]},{Rb:"map.defaultSeriesSettings.base",Qb:[["map.defaultSeriesSettings.",["choropleth","bubble","marker","connector"]]]},{Rb:"heatMap.defaultAnnotationSettings.base",Qb:[["heatMap.defaultAnnotationSettings.",["ray","line",[["infinite","vertical","horizontal"],"Line"],"rectangle","ellipse","triangle","trendChannel","andrewsPitchfork",["fibonacci",["Fan","Arc","Retracement","Timezones"]],"marker","label"]]]},{Rb:"stock.defaultAnnotationSettings.base",Qb:[["stock.defaultAnnotationSettings.",["ray","line",[["infinite","vertical","horizontal"],"Line"],"rectangle","ellipse","triangle","trendChannel","andrewsPitchfork",["fibonacci",["Fan","Arc","Retracement","Timezones"]],"marker","label"]]]},{Rb:"stock.defaultPlotSettings.defaultSeriesSettings.base",Qb:[["stock.defaultPlotSettings.defaultSeriesSettings.",[[["area","bar","line"],"Like"],"marker"]]]},{Rb:"stock.defaultPlotSettings.defaultSeriesSettings.rangeLike",Qb:[["stock.defaultPlotSettings.defaultSeriesSettings.",[["range",["Column",[["","Spline","Step"],"Area"]]],"hilo"]]]},{Rb:"stock.defaultPlotSettings.defaultSeriesSettings.areaLike",Qb:[["stock.defaultPlotSettings.defaultSeriesSettings.",[[["a","splineA","stepA"],"rea"],["range",[[["","Spline","Step"],"Area"]]]]]]},{Rb:"stock.defaultPlotSettings.defaultSeriesSettings.barLike",Qb:[["stock.defaultPlotSettings.defaultSeriesSettings.",["column","rangeColumn","candlestick"]]]},{Rb:"stock.defaultPlotSettings.defaultSeriesSettings.lineLike",Qb:[["stock.defaultPlotSettings.defaultSeriesSettings.",[[["","sp"],"line"],[["step","jump"],"Line"],"ohlc","stick","hilo"]]]},{Rb:"stock.scroller.defaultSeriesSettings.base",Qb:[["stock.scroller.defaultSeriesSettings.",[[["area","bar","line"],"Like"],"marker"]]]},{Rb:"stock.scroller.defaultSeriesSettings.areaLike",Qb:[["stock.scroller.defaultSeriesSettings.",[[["a","splineA","stepA"],"rea"],["range",[[["","Spline","Step"],"Area"]]]]]]},{Rb:"stock.scroller.defaultSeriesSettings.barLike",Qb:[["stock.scroller.defaultSeriesSettings.",["column","rangeColumn","candlestick"]]]},{Rb:"stock.scroller.defaultSeriesSettings.lineLike",Qb:[["stock.scroller.defaultSeriesSettings.",[[["","sp"],"line"],[["step","jump"],"Line"],"ohlc","stick","hilo"]]]},{Rb:"stock.scroller.defaultSeriesSettings.rangeLike",Qb:[["stock.scroller.defaultSeriesSettings.",[["range",["Column",[["","Spline","Step"],"Area"]]],"hilo"]]]},{Rb:"defaultScrollBar",Qb:[[[["default",["DataGrid","Timeline"]],"standalones.timeline"],[[[".horizontal",".vertical"],"ScrollBar"]]]]},{Rb:"defaultDataGrid",Qb:[[["ganttBase","standalones"],".dataGrid"]]},{Rb:"defaultTimeline",Qb:[[["ganttBase.t",["standalones.",["projectT","resourceT"]]],"imeline"]]},{Rb:"defaultTimeline.elements",Qb:[["defaultTimeline.",["tasks","baselines","milestones","periods"]]]},{Rb:"defaultTimeline.elements.milestones",Qb:["defaultTimeline.elements.milestones.preview"]},{Rb:"defaultTimeline.tasks",Qb:[["defaultTimeline.",["groupingTasks"]]]},{Rb:"ganttBase",Qb:[["gantt",["Resource","Project"]]]},{Rb:"defaultGroupingSettings",Qb:[["stock.",[[["g","scrollerG"],"rouping"]]]]},{Rb:"linearGauge.defaultPointerSettings.base",Qb:[["linearGauge.defaultPointerSettings.","bar rangeBar marker tank thermometer led".split(" ")]]},{Rb:"linearGauge",Qb:["thermometer","tank","led"]},{Rb:"standalones.resourceList.baseSettings",Qb:[[["standalones.resourceList."],["names","types","descriptions","tags"]]]},{Rb:"resource.resourceList.baseSettings",Qb:[[["resource.resourceList."],["names","types","descriptions","tags"]]]},{Rb:"chart.defaultQuarterSettings",Qb:[["chart.quarters.",[[["right","left"],"Top"],[["right","left"],"Bottom"]]]]},{Rb:"mekko",Qb:["mosaic","barmekko"]},{Rb:"mekko.defaultAnnotationSettings.base",Qb:[["mekko.defaultAnnotationSettings.",["ray","line",[["infinite","vertical","horizontal"],"Line"],"rectangle","ellipse","triangle","trendChannel","andrewsPitchfork",["fibonacci",["Fan","Arc","Retracement","Timezones"]],"marker","label"]]]}],SE=0;SE<RE.length;SE++)RE[SE].Qb=Ya(RE[SE].Qb);for(var TE={},UE=0;UE<RE.length;UE++)for(var VE=RE[UE].Rb,WE=RE[UE].Qb,XE=0;XE<WE.length;XE++){var YE=WE[XE],ZE=YE.split(".")[0],$E=TE[ZE];$E||(TE[ZE]=$E={oE:[],AC:0,tI:0});var aF=$E.oE[$E.oE.length-1];aF&&aF.Rb==VE?aF.Qb.push(YE):$E.oE.push({Rb:VE,Qb:[YE]});}jm=TE;Km=0;Fm=1;Hm=2;Gm=3;Lm=4;Mm=5;Im=8;xm=function(){function a(a,d){for(var c=Xa(a),f=0;f<c.length;f++)b[c[f]]=d;}var b={padding:Im,margin:Im,scale:7,palette:Lm,fill:Fm,stroke:Hm,hatchFill:Gm,hatchFillPalette:Mm,shapes:9};a([["x","y","color"],"Scale"],7);a([["range","marker"],"Palette"],Lm);a([["negative","first","last","max","min","rising","falling","background","progress","milestone","parent","connector","odd","even","title","slider","cell",["row",["","Odd","Even","Hover","Selected"]],["base",["","line"]],["icon",["","Marker"]],["drag",["Preview","Area"]],["hover",["","Negative","Rising","Falling"]],["select"," ed edElement Negative Rising Falling Marquee".split(" ")]],"Fill"],Fm);a([["negative","first","last","max","min","rising","falling","icon",["hover",["","Negative","Rising","Falling"]],["select",["","ed","Negative","Rising","Falling"]]],"HatchFill"],Gm);a([["column","row","connector","median","stem","whisker","negative","high","low","rising","falling","progress","milestone","parent","slider","background",[["","line"],"base"],["hover"," Median Stem Whisker Negative High Low Rising Falling".split(" ")],["icon",["","Marker"]],["drag",["Preview","Area"]],[["x","value"],"Error"],["select"," ed edElement Low High Negative Rising Falling edRising edFalling Median Stem Whisker Marquee".split(" ")]],"Stroke"],Hm);return b;}();zm={"chart.chartLabels":"chart.defaultLabelSettings","chart.grids":"chart.defaultGridSettings","chart.minorGrids":"chart.defaultMinorGridSettings","chart.xAxes":"chart.defaultXAxisSettings","chart.yAxes":"chart.defaultYAxisSettings","chart.axes":"chart.defaultAxisSettings","chart.lineAxesMarkers":"chart.defaultLineMarkerSettings","chart.rangeAxesMarkers":"chart.defaultRangeMarkerSettings","chart.textAxesMarkers":"chart.defaultTextMarkerSettings","plot.lineAxesMarkers":"plot.defaultLineMarkerSettings","plot.rangeAxesMarkers":"plot.defaultRangeMarkerSettings","plot.textAxesMarkers":"plot.defaultTextMarkerSettings","chart.ranges":"chart.defaultRangeSettings","gauge.bars":"gauge.defaultPointerSettings","gauge.markers":"gauge.defaultPointerSettings","gauge.needles":"gauge.defaultPointerSettings","gauge.knobs":"gauge.defaultPointerSettings","gauge.ranges":"gauge.defaultRangeSettings","gauge.axes":"gauge.defaultAxisSettings","gauge.scaleBars":"gauge.defaultScaleBarSettings","map.callouts":"map.defaultCalloutSettings","chart.quarters.rightTop.labels":"chart.defaultQuarterSettings.defaultLabelSettings","chart.quarters.leftTop.labels":"chart.defaultQuarterSettings.defaultLabelSettings","chart.quarters.leftBottom.labels":"chart.defaultQuarterSettings.defaultLabelSettings","chart.quarters.rightBottom.labels":"chart.defaultQuarterSettings.defaultLabelSettings"};Bm=["chart.scales","gauge.scales"];Dm={"chart.series":{HL:"chart.defaultSeriesSettings",KP:"seriesType"},"map.series":{HL:"map.defaultSeriesSettings",KP:"seriesType"},"gauge.pointers":{HL:"gauge.defaultPointerSettings",KP:"pointerType"},annotationsList:{HL:"defaultAnnotationSettings",KP:"type"}};$.yr={title:["defaultFontSettings","defaultTitle"],background:["defaultBackground"],legend:["defaultFontSettings","defaultLegend"],legendItem:["defaultFontSettings"],paginator:["defaultFontSettings"],separator:["defaultSeparator"],titleSeparator:["defaultSeparator"],tooltip:["defaultFontSettings","defaultTooltip"],labelsFactory:["defaultFontSettings","defaultLabelFactory"],markersFactory:["defaultMarkerFactory"],axis:["defaultAxis"],scroller:["defaultScroller"],thumbs:["defaultScroller.thumbs"]};$.yr.xScroller=$.yr.scroller;$.yr.yScroller=$.yr.scroller;$.yr.titleSeparator=$.yr.separator;$.g=Nm.prototype;$.g.getData=function(){return this.ka;};$.g.Pw=function(){this.ka.push(this.f||[]);this.f=[];};$.g.ZW=function(a,b){this.f.push(b);};$.g.start=function(){this.ka=[];this.f=[];};$.g.Id=$.ia;$.g.rK=function(){this.f&&this.f.length&&this.Pw();};$.H($.Om,$.nd);$.g=$.Om.prototype;$.g.pp=null;$.g.lB="\n";$.g.Sz=",";$.g.aJ=window.NaN;$.g.XF=window.NaN;$.g.Wz=window.NaN;$.g.jw=!1;$.g.CH=!1;$.g.ah=window.NaN;$.g.Wo=-1;$.g.Vo=-1;$.g.kM=!1;$.g.$W=window.NaN;$.g.bJ=function(a){return $.n(a)?(this.lB=a,this.aJ=this.lB.length-1,this):this.lB;};$.g.YF=function(a){return $.n(a)?(this.Sz=a,this.XF=this.Sz.length-1,this):this.Sz;};$.g.BH=function(a){return $.n(a)?(this.CH=!!a,this):this.CH;};$.g.DH=function(a){return $.n(a)?(this.jw=!!a,this):this.jw;};$.g.fC=function(a,b,c){this.pp=b||new Nm();c=!!c;this.Nd=a||"";this.Wz=a.length;this.i=Pm(this.lB);this.f=Pm(this.Sz);this.ah=0;this.kM=this.ah==this.Wz;this.b=this.CH?this.wja:this.J4;this.pp.start();Tm(this)&&(this.CH?this.b=this.J4:this.pp.Pw());this.CH=!1;if(c)this.uO();else{for(;Tm(this);)this.pp.Pw();this.pp.Id(this.ah);this.pp.rK();if($.J(this.pp,Nm))return this.pp.getData();}return null;};$.g.uO=function(){(0,window.clearTimeout)(this.$W);for(var a=0,b=Tm(this);b&&500>a++;){if(this.ld)return;this.pp.Pw();b=Tm(this);}b&&this.pp.Pw();this.ld||(b?(this.pp.Id(this.ah),this.$W=(0,window.setTimeout)(this.uO,0)):this.pp.rK());};$.g.J4=function(a,b){this.pp.ZW(a,b);};$.g.wja=$.ia;$.g.R=function(){(0,window.clearTimeout)(this.$W);this.f=this.i=this.pp=null;$.Om.u.R.call(this);};var bF=$.Om.prototype;$.F("anychart.data.csv.parser",$.Um);bF.parse=bF.fC;bF.rowsSeparator=bF.bJ;bF.columnsSeparator=bF.YF;bF.ignoreTrailingSpaces=bF.DH;bF.ignoreFirstRow=bF.BH;$.I.prototype.F=function(){return{left:this.left,top:this.top,width:this.width,height:this.height};};$.rn.prototype.add=function(a){return new $.rn(this.x+a.x,this.y+a.y);};$.rn.prototype.min=function(a){return new $.rn(Math.min(this.x,a.x),Math.min(this.y,a.y));};$.rn.prototype.max=function(a){return new $.rn(Math.max(this.x,a.x),Math.max(this.y,a.y));};un.prototype.jJ=function(){for(var a=this.b.length-1;0<=a;a--)if(1E-6>=Math.abs(this.b[a]))this.b.pop();else break;};$.F("anychart.math.rect",$.nn);var cF={kQ:["BC","AD"],ZY:["Before Christ","Anno Domini"],cZ:"JFMAMJJASOND".split(""),rZ:"JFMAMJJASOND".split(""),pQ:"January February March April May June July August September October November December".split(" "),AQ:"January February March April May June July August September October November December".split(" "),wQ:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),BQ:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),FQ:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),uZ:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),yQ:"Sun Mon Tue Wed Thu Fri Sat".split(" "),tZ:"Sun Mon Tue Wed Thu Fri Sat".split(" "),P8:"SMTWTFS".split(""),sZ:"SMTWTFS".split(""),xQ:["Q1","Q2","Q3","Q4"],sQ:["1st quarter","2nd quarter","3rd quarter","4th quarter"],cQ:["AM","PM"],dF:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],iF:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],gQ:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],XJ:6,h$:[5,6],YJ:5},Zn=cF;Zn=cF;var Kba=/^(-)?P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(T(?:(\d+)H)?(?:(\d+)M)?(?:(\d+(?:\.\d+)?)S)?)?$/;$.Ln.prototype.clone=function(){return new $.Ln(this.Yh,this.og,this.Dg,this.ai,this.Xj,this.Gh);};var Bn="y",Cn="m",Dn="d",En="h",Fn="n",Kn="s";$.Ln.prototype.b=function(a){return new $.Ln(this.Yh*a,this.og*a,this.Dg*a,this.ai*a,this.Xj*a,this.Gh*a);};$.Ln.prototype.add=function(a){this.Yh+=a.Yh;this.og+=a.og;this.Dg+=a.Dg;this.ai+=a.ai;this.Xj+=a.Xj;this.Gh+=a.Gh;};$.g=$.Rn.prototype;$.g.WC=Zn.XJ;$.g.XC=Zn.YJ;$.g.clone=function(){var a=new $.Rn(this.b);a.WC=this.WC;a.XC=this.XC;return a;};$.g.getFullYear=function(){return this.b.getFullYear();};$.g.getMonth=function(){return this.b.getMonth();};$.g.getDate=function(){return this.b.getDate();};$.g.getTime=function(){return this.b.getTime();};$.g.getDay=function(){return this.b.getDay();};$.g.getUTCFullYear=function(){return this.b.getUTCFullYear();};$.g.getUTCMonth=function(){return this.b.getUTCMonth();};$.g.getUTCDate=function(){return this.b.getUTCDate();};$.g.OM=function(){return this.b.getDay();};$.g.getUTCHours=function(){return this.b.getUTCHours();};$.g.getUTCMinutes=function(){return this.b.getUTCMinutes();};$.g.getTimezoneOffset=function(){return this.b.getTimezoneOffset();};$.g.set=function(a){this.b=new Date(a.getFullYear(),a.getMonth(),a.getDate());};$.g.setFullYear=function(a){this.b.setFullYear(a);};$.g.setMonth=function(a){this.b.setMonth(a);};$.g.setDate=function(a){this.b.setDate(a);};$.g.setTime=function(a){this.b.setTime(a);};$.g.vU=function(a){this.b.setUTCFullYear(a);};$.g.zfa=function(a){this.b.setUTCMonth(a);};$.g.yfa=function(a){this.b.setUTCDate(a);};$.g.add=function(a){if(a.Yh||a.og){var b=this.getMonth()+a.og+12*a.Yh,c=this.getFullYear()+Math.floor(b/12);b%=12;0>b&&(b+=12);var d=Math.min(zn(c,b),this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d);}a.Dg&&(b=new Date(this.getFullYear(),this.getMonth(),this.getDate(),12),a=new Date(b.getTime()+864E5*a.Dg),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),this.setDate(a.getDate()),Pn(this,a.getDate()));};$.g.PM=function(a){return[this.getFullYear(),$.yc(this.getMonth()+1,2),$.yc(this.getDate(),2)].join(a?"-":"");};$.g.DJ=ba(6);$.g.toString=function(){return this.PM();};$.g.valueOf=function(){return this.b.valueOf();};$.H($.Sn,$.Rn);$.g=$.Sn.prototype;$.g.getHours=function(){return this.b.getHours();};$.g.getMinutes=function(){return this.b.getMinutes();};$.g.getSeconds=function(){return this.b.getSeconds();};$.g.getMilliseconds=function(){return this.b.getMilliseconds();};$.g.OM=function(){return this.b.getUTCDay();};$.g.getUTCHours=function(){return this.b.getUTCHours();};$.g.getUTCMinutes=function(){return this.b.getUTCMinutes();};$.g.uU=function(){return this.b.getUTCSeconds();};$.g.wfa=function(){return this.b.getUTCMilliseconds();};$.g.setHours=function(a){this.b.setHours(a);};$.g.setMinutes=function(a){this.b.setMinutes(a);};$.g.setSeconds=function(a){this.b.setSeconds(a);};$.g.setMilliseconds=function(a){this.b.setMilliseconds(a);};$.g.j2=function(a){this.b.setUTCHours(a);};$.g.k2=function(a){this.b.setUTCMinutes(a);};$.g.l2=function(a){this.b.setUTCSeconds(a);};$.g.xfa=function(a){this.b.setUTCMilliseconds(a);};$.g.add=function(a){$.Rn.prototype.add.call(this,a);a.ai&&this.j2(this.b.getUTCHours()+a.ai);a.Xj&&this.k2(this.b.getUTCMinutes()+a.Xj);a.Gh&&this.l2(this.b.getUTCSeconds()+a.Gh);};$.g.PM=function(a){var b=$.Rn.prototype.PM.call(this,a);return a?b+" "+$.yc(this.getHours(),2)+":"+$.yc(this.getMinutes(),2)+":"+$.yc(this.getSeconds(),2):b+"T"+$.yc(this.getHours(),2)+$.yc(this.getMinutes(),2)+$.yc(this.getSeconds(),2);};$.g.DJ=ba(5);$.g.toString=function(){return this.PM();};$.g.clone=function(){var a=new $.Sn(this.b);a.WC=this.WC;a.XC=this.XC;return a;};$.H($.Tn,$.Sn);$.g=$.Tn.prototype;$.g.clone=function(){var a=new $.Tn(this.b);a.WC=this.WC;a.XC=this.XC;return a;};$.g.add=function(a){(a.Yh||a.og)&&$.Rn.prototype.add.call(this,new $.Ln(a.Yh,a.og));this.b=new Date(this.b.getTime()+1E3*(a.Gh+60*(a.Xj+60*(a.ai+24*a.Dg))));};$.g.getTimezoneOffset=function(){return 0;};$.g.getFullYear=$.Sn.prototype.getUTCFullYear;$.g.getMonth=$.Sn.prototype.getUTCMonth;$.g.getDate=$.Sn.prototype.getUTCDate;$.g.getHours=$.Sn.prototype.getUTCHours;$.g.getMinutes=$.Sn.prototype.getUTCMinutes;$.g.getSeconds=$.Sn.prototype.uU;$.g.getMilliseconds=$.Sn.prototype.wfa;$.g.getDay=$.Sn.prototype.OM;$.g.setFullYear=$.Sn.prototype.vU;$.g.setMonth=$.Sn.prototype.zfa;$.g.setDate=$.Sn.prototype.yfa;$.g.setHours=$.Sn.prototype.j2;$.g.setMinutes=$.Sn.prototype.k2;$.g.setSeconds=$.Sn.prototype.l2;$.g.setMilliseconds=$.Sn.prototype.xfa;var pp=$.id&&Lba();Vn.prototype.iD=function(a){return this.D-Yn(this,a);};var eo=[/^'(?:[^']|'')*('|$)/,/^(?:G+|y+|Y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|V+|w+|z+|Z+)/,/^[^'GyYMkSEahKHcLQdmsvVwzZ]+/];$.bo.prototype.format=function(a,b){if(!a)throw Error("The date to format must be non-null.");var c=b?6E4*(a.getTimezoneOffset()-b.iD(a)):0,d=c?new Date(a.getTime()+c):a,e=d;b&&d.getTimezoneOffset()!=a.getTimezoneOffset()&&(d=new Date(d.getTime()+6E4*(d.getTimezoneOffset()-a.getTimezoneOffset())),e=new Date(a.getTime()+(c+(0<c?-864E5:864E5))));c=[];for(var f=0;f<this.f.length;++f){var h=this.f[f].text;1==this.f[f].type?c.push(Nba(this,h,a,d,e,b)):c.push(h);}return c.join("");};var Mba=!1;ho.prototype.F=function(a){var b=[];_jo(this,a,b);return b.join("");};var lo={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Qba=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;var dF,au,ro,Sba,Rba,Xba,qp,gq,wp,vp,uw,Xw,Bp,Cp,Zba;au=0;$.oo=1;$.po=2;$.qo=3;ro=4;Sba=5;Rba=6;$.Lo="center-top right-top right-center right-bottom center-bottom left-bottom left-center left-top".split(" ");Xba=/^[^<&"\n\r–]*$/;qp="treat_as_array";gq=null;wp=[45,113,99,117,108,106,110,124,109,118,35,120,99,111,91,123,85];vp=null;uw={};Xw={};$.yp=[{Bg:"year",we:31536E6,Zr:!0},{Bg:"semester",we:15768E6,Zr:!1},{Bg:"quarter",we:7884E6,Zr:!1},{Bg:"month",we:24192E5,Zr:!0},{Bg:"third-of-month",we:876E6,Zr:!1},{Bg:"week",we:6048E5,Zr:!1},{Bg:"day",we:864E5,Zr:!0},{Bg:"hour",we:36E5,Zr:!0},{Bg:"minute",we:6E4,Zr:!0},{Bg:"second",we:1E3,Zr:!0},{Bg:"millisecond",we:1,Zr:!0}];Bp=[1+Math.cos((.4-.5)*Math.PI),1+Math.cos((.8-.5)*Math.PI),1+Math.cos(.7*Math.PI),1+Math.cos(1.1*Math.PI),1+Math.cos(1.5*Math.PI)];Cp=[1+Math.sin((.4-.5)*Math.PI),1+Math.sin((.8-.5)*Math.PI),1+Math.sin(.7*Math.PI),1+Math.sin(1.1*Math.PI),1+Math.sin(1.5*Math.PI)];Zba={decoration:"text-decoration",hAlign:"text-anchor",color:"fill",fontColor:"fill"};$.F("anychart.utils.printUtilsBoolean",function(){return sl();});$.F("anychart.utils.xml2json",$.rp);$.F("anychart.utils.json2xml",$.up);$.F("anychart.utils.hideTooltips",function(a){for(var b in uw)if(uw.hasOwnProperty(b)){var c=uw[b];c.ld||c.Ic(a);}});$.F("anychart.utils.htmlTableFromCsv",Ep);$.F("anychart.utils.schedule",$.Ip);$.H($.Np,$.tf);$.g=$.Np.prototype;$.g.Cd=null;$.g.BN=null;$.g.HV=null;$.g.CN=null;$.g.oq=-1;$.g.LA=-1;$.g.OQ=!1;var eF={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},fF={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},gF=!$.wd||$.dd("525"),hF=$.zd&&$.hd;$.g=$.Np.prototype;$.g.Afa=function(a){($.wd||$.Lp)&&(17==this.oq&&!a.ctrlKey||18==this.oq&&!a.altKey||$.zd&&91==this.oq&&!a.metaKey)&&this.rE();-1==this.oq&&(a.ctrlKey&&17!=a.keyCode?this.oq=17:a.altKey&&18!=a.keyCode?this.oq=18:a.metaKey&&91!=a.keyCode&&(this.oq=91));gF&&!Mp(a.keyCode,this.oq,a.shiftKey,a.ctrlKey,a.altKey,a.metaKey)?this.handleEvent(a):(this.LA=Kp(a.keyCode),hF&&(this.OQ=a.altKey));};$.g.rE=function(){this.LA=this.oq=-1;};$.g.dga=function(a){this.rE();this.OQ=a.altKey;};$.g.handleEvent=function(a){var b=a.Be,c=b.altKey;if($.id&&"keypress"==a.type){var d=this.LA;var e=13!=d&&27!=d?b.keyCode:0;}else($.wd||$.Lp)&&"keypress"==a.type?(d=this.LA,e=0<=b.charCode&&63232>b.charCode&&Jp(d)?b.charCode:0):$.xd&&!$.wd?(d=this.LA,e=Jp(d)?b.keyCode:0):(d=b.keyCode||this.LA,e=b.charCode||0,hF&&"keypress"==a.type&&(c=this.OQ),$.zd&&63==e&&224==d&&(d=191));var f=d=Kp(d);d?63232<=d&&d in eF?f=eF[d]:25==d&&a.shiftKey&&(f=9):b.keyIdentifier&&b.keyIdentifier in fF&&(f=fF[b.keyIdentifier]);$.hd&&gF&&"keypress"==a.type&&!Mp(f,this.oq,a.shiftKey,a.ctrlKey,c,a.metaKey)||(a=f==this.oq,this.oq=f,b=new Op(f,e,a,b),b.altKey=c,this.dispatchEvent(b));};$.g.Xa=function(){return this.Cd;};$.g.QM=function(a,b){this.CN&&this.lH();this.Cd=a;this.BN=$.Ld(this.Cd,"keypress",this,b);this.HV=$.Ld(this.Cd,"keydown",this.Afa,b,this);this.CN=$.Ld(this.Cd,"keyup",this.dga,b,this);};$.g.lH=function(){this.BN&&($d(this.BN),$d(this.HV),$d(this.CN),this.CN=this.HV=this.BN=null);this.Cd=null;this.LA=this.oq=-1;};$.g.R=function(){$.Np.u.R.call(this);this.lH();};$.H(Op,$.Ad);var Rp,Up,dq,fq,hq,jq,mq,nq,sq;$.iF=$.fa.acgraph;Rp=!1;$.Zj.prototype.yx=!1;$.Zj.prototype.To=function(a){this.om||(this.om=new ql(this,this.yx),this.om.N($.Cm("stageCredits")));return $.n(a)?(this.om.N(a),this):this.om;};$.Tp=0;Up=[];$.Xp={};$.Yp={};$.$p={};$.Zp={};dq=!1;fq=null;hq=[];jq=[];mq=[];nq=[];$.vl=new ul();sq={};(function(){for(var a=["ms","moz","webkit","o"],b=0,c;c=a[b]&&!$.fa.requestAnimationFrame;++b)$.fa.requestAnimationFrame=$.fa[c+"RequestAnimationFrame"],$.fa.cancelAnimationFrame=$.fa[c+"CancelAnimationFrame"]||$.fa[c+"CancelRequestAnimationFrame"];if(!$.fa.requestAnimationFrame){var d=0;$.fa.requestAnimationFrame=function(a){var b=new Date().getTime(),c=Math.max(0,16-(b-d));d=b+c;return $.fa.setTimeout(function(){a(b+c);},c);};$.fa.cancelAnimationFrame||($.fa.cancelAnimationFrame=function(a){(0,window.clearTimeout)(a);});}})();$.F("anychart.graphics",$.iF);$.F("anychart.fromJson",$.aq);$.F("anychart.fromXml",function(a){return $.aq($.rp(a));});$.F("anychart.onDocumentLoad",function(a,b){HE||(HE=[]);HE.push([a,b]);$.Ld($.ll,"load",function(){for(var a=0,b=HE.length;a<b;a++){var e=HE[a];e[0].apply(e[1]);}HE.length=0;});});$.F("anychart.onDocumentReady",function(a,b){$.ll.isNodeJS&&(dq=!0);if(dq)a.call(b);else if(eq||(eq=[]),eq.push([a,b]),"complete"===$.Pp.readyState)(0,window.setTimeout)(_cq,1);else{var c=$.ll;$.Ld($.Pp,["DOMContentLoaded","readystatechange"],_bq,!1);$.Ld(c,"load",_bq,!1);}});$.F("anychart.licenseKey",function(a){$.n(a)&&(fq=a);return fq;});$.F("anychart.theme",function(a){if($.n(a)){jq.length=0;if(a)if($.A(a))for(var b=0;b<a.length;b++)lq(a[b]);else lq(a);hq.length=0;mq.length=0;nq.length=0;for(var c in jm)a=jm[c],a.AC=Math.min(a.AC,1),a.tI=0;}return jq;});$.F("anychart.appendTheme",lq);$.F("anychart.global",$.Qp);$.F("anychart.getChartById",function(a){return sq[a];});$.F("anychart.isAsync",$.Sp);$.F("anychart.area",pq("anychart.area","Area chart"));$.F("anychart.area3d",pq("anychart.area3d","3D Area chart"));$.F("anychart.bar",pq("anychart.bar","Bar chart"));$.F("anychart.vertical",pq("anychart.vertical","Bar chart"));$.F("anychart.bar3d",pq("anychart.bar3d","3D Bar chart"));$.F("anychart.bubble",pq("anychart.bubble","Bubble chart"));$.F("anychart.bullet",pq("anychart.bullet","Bullet chart"));$.F("anychart.calendar",pq("anychart.calendar","Calendar chart"));$.F("anychart.cartesian",pq("anychart.cartesian","Cartesian chart"));$.F("anychart.cartesian3d",pq("anychart.cartesian3d","3D Cartesian chart"));$.F("anychart.scatter",pq("anychart.scatter","Scatter chart"));$.F("anychart.stick",pq("anychart.stick","Stick chart"));$.F("anychart.jumpLine",pq("anychart.jumpLine","JumpLine chart"));$.F("anychart.stepLine",pq("anychart.stepLine","StepLine chart"));$.F("anychart.ohlc",pq("anychart.ohlc","OHLC chart"));$.F("anychart.candlestick",pq("anychart.candlestick","Candlestick chart"));$.F("anychart.column",pq("anychart.column","Column chart"));$.F("anychart.column3d",pq("anychart.column3d","3D Column chart"));$.F("anychart.box",pq("anychart.box","Box chart"));$.F("anychart.financial",pq("anychart.financial","Financial chart"));$.F("anychart.funnel",pq("anychart.funnel","Funnel chart"));$.F("anychart.line",pq("anychart.line","Line chart"));$.F("anychart.verticalLine",pq("anychart.verticalLine","Vertical Line chart"));$.F("anychart.verticalArea",pq("anychart.verticalArea","Vertical Area chart"));$.F("anychart.marker",pq("anychart.marker","Marker chart"));$.F("anychart.sunburst",pq("anychart.sunburst","Sunburst chart"));$.F("anychart.pie",pq("anychart.pie","Pie chart"));$.F("anychart.pie3d",pq("anychart.pie3d","3D Pie chart"));$.F("anychart.pyramid",pq("anychart.pyramid","Pyramid chart"));$.F("anychart.radar",pq("anychart.radar","Radar chart"));$.F("anychart.polar",pq("anychart.polar","Polar chart"));$.F("anychart.pert",pq("anychart.pert","Pert chart"));$.F("anychart.sparkline",pq("anychart.sparkline","Sparkline chart"));$.F("anychart.heatMap",pq("anychart.heatMap","HeatMap chart"));$.F("anychart.gauges.circular",pq("anychart.gauges.circular","Circular gauge"));$.F("anychart.gauges.linear",pq("anychart.gauges.linear","Linear gauge"));$.F("anychart.gauges.tank",pq("anychart.gauges.tank","Tank gauge"));$.F("anychart.gauges.thermometer",pq("anychart.gauges.thermometer","Thermometer gauge"));$.F("anychart.gauges.led",pq("anychart.gauges.led","LED gauge"));$.F("anychart.map",pq("anychart.map","Map"));$.F("anychart.choropleth",pq("anychart.choropleth","Choropleth map"));$.F("anychart.bubbleMap",pq("anychart.bubbleMap","Bubble map"));$.F("anychart.connector",pq("anychart.connector","Connector map"));$.F("anychart.markerMap",pq("anychart.markerMap","Marker map"));$.F("anychart.seatMap",pq("anychart.seatMap","Seat map"));$.F("anychart.ganttProject",pq("anychart.ganttProject","Gantt Project chart"));$.F("anychart.ganttResource",pq("anychart.ganttResource","Gantt Resource chart"));$.F("anychart.stock",pq("anychart.stock","Stock chart"));$.F("anychart.treeMap",pq("anychart.treeMap","TreeMap chart"));$.F("anychart.circlePacking",pq("anychart.circlePacking","CirclePacking chart"));$.F("anychart.pareto",pq("anychart.pareto","Pareto chart"));$.F("anychart.resource",pq("anychart.resource","Resource chart"));$.F("anychart.quadrant",pq("anychart.quadrant","Quadrant chart"));$.F("anychart.venn",pq("anychart.venn","Venn chart"));$.F("anychart.tagCloud",pq("anychart.tagCloud","TagCloud chart"));$.F("anychart.timeline",pq("anychart.timeline","Timeline chart"));$.F("anychart.mekko",pq("anychart.mekko","Mekko chart"));$.F("anychart.mosaic",pq("anychart.mosaic","Mosaic chart"));$.F("anychart.barmekko",pq("anychart.barmekko","Barmekko chart"));$.F("anychart.waterfall",pq("anychart.waterfall","Waterfall chart"));$.F("anychart.wordtree",pq("anychart.wordtree","Wordtree chart"));$.F("anychart.sankey",pq("anychart.sankey","Sankey chart"));$.F("anychart.surface",pq("anychart.surface","Surface chart"));$.F("anychart.graph",pq("anychart.graph","Graph chart"));$.F("anychart.standalones.background",pq("anychart.standalones.background","anychart.standalones.Background"));$.F("anychart.standalones.colorRange",pq("anychart.standalones.colorRange","anychart.standalones.ColorRange"));$.F("anychart.standalones.dataGrid",pq("anychart.standalones.dataGrid","anychart.standalones.DataGrid"));$.F("anychart.standalones.label",pq("anychart.standalones.label","anychart.standalones.Label"));$.F("anychart.standalones.labelsFactory",pq("anychart.standalones.labelsFactory","anychart.standalones.LabelsFactory"));$.F("anychart.standalones.legend",pq("anychart.standalones.legend","anychart.standalones.Legend"));$.F("anychart.standalones.markersFactory",pq("anychart.standalones.markersFactory","anychart.standalones.MarkersFactory"));$.F("anychart.standalones.projectTimeline",pq("anychart.standalones.projectTimeline","anychart.standalones.ProjectTimeline"));$.F("anychart.standalones.resourceTimeline",pq("anychart.standalones.resourceTimeline","anychart.standalones.ResourceTimeline"));$.F("anychart.standalones.resourceList",pq("anychart.standalones.resourceList","anychart.standalones.ResourceList"));$.F("anychart.standalones.scroller",pq("anychart.standalones.scroller","anychart.standalones.scroller"));$.F("anychart.standalones.table",pq("anychart.standalones.table","anychart.standalones.Table"));$.F("anychart.standalones.title",pq("anychart.standalones.title","anychart.standalones.Title"));$.F("anychart.standalones.axes.linear",pq("anychart.standalones.axes.linear","anychart.standalones.axes.Linear"));$.F("anychart.standalones.axes.polar",pq("anychart.standalones.axes.polar","anychart.standalones.axes.Polar"));$.F("anychart.standalones.axes.radar",pq("anychart.standalones.axes.radar","anychart.standalones.axes.Radar"));$.F("anychart.standalones.axes.radial",pq("anychart.standalones.axes.radial","anychart.standalones.axes.Radial"));$.F("anychart.standalones.axisMarkers.line",pq("anychart.standalones.axisMarkers.line","anychart.standalones.axisMarkers.Line"));$.F("anychart.standalones.axisMarkers.range",pq("anychart.standalones.axisMarkers.range","anychart.standalones.axisMarkers.Range"));$.F("anychart.standalones.axisMarkers.text",pq("anychart.standalones.axisMarkers.text","anychart.standalones.axisMarkers.Text"));$.F("anychart.standalones.grids.linear",pq("anychart.standalones.grids.linear","anychart.standalones.grids.Linear"));$.F("anychart.standalones.grids.linear3d",pq("anychart.standalones.grids.linear3d","anychart.standalones.grids.Linear3d"));$.F("anychart.standalones.grids.polar",pq("anychart.standalones.grids.polar","anychart.standalones.grids.Polar"));$.F("anychart.standalones.grids.radar",pq("anychart.standalones.grids.radar","anychart.standalones.grids.Radar"));$.F("anychart.ui.contextMenu",pq("anychart.ui.contextMenu","Context Menu",!0));$.F("anychart.ui.ganttToolbar",pq("anychart.ui.ganttToolbar","Gantt toolbar"));$.F("anychart.ui.preloader",pq("anychart.ui.preloader","Preloader"));$.F("anychart.ui.rangePicker",pq("anychart.ui.rangePicker","Range picker"));$.F("anychart.ui.rangeSelector",pq("anychart.ui.rangeSelector","Range selector"));$.F("anychart.ui.zoom",pq("anychart.ui.zoom","Zoom control"));$.F("anychart.ui.binding.exec",pq("anychart.ui.binding.exec","UI binding"));$.F("anychart.ui.binding.init",pq("anychart.ui.binding.init","UI binding"));$.F("anychart.fromXmlFile",pq("anychart.fromXmlFile","Data adapter"));$.F("anychart.fromJsonFile",pq("anychart.fromJsonFile","Data adapter"));$.F("anychart.data.parseHtmlTable",pq("anychart.data.parseHtmlTable","Data adapter"));$.F("anychart.data.loadJsonFile",pq("anychart.data.loadJsonFile","Data adapter"));$.F("anychart.data.loadXmlFile",pq("anychart.data.loadXmlFile","Data adapter"));$.F("anychart.data.loadCsvFile",pq("anychart.data.loadCsvFile","Data adapter"));$.F("anychart.data.loadGoogleSpreadsheet",pq("anychart.data.loadGoogleSpreadsheet","Data adapter"));var qq=$.Zj.prototype;qq.credits=qq.To;qq.saveAsPNG=rq("saveAsPng");qq.saveAsJPG=rq("saveAsJpg");qq.saveAsPDF=rq("saveAsPdf");qq.saveAsSVG=rq("saveAsSvg");qq.saveAsPng=rq("saveAsPng");qq.saveAsJpg=rq("saveAsJpg");qq.saveAsPdf=rq("saveAsPdf");qq.saveAsSvg=rq("saveAsSvg");qq.shareAsPng=rq("shareAsPng");qq.shareAsJpg=rq("shareAsJpg");qq.shareAsPdf=rq("shareAsPdf");qq.shareAsSvg=rq("shareAsSvg");qq.getPngBase64String=rq("getPngBase64String");qq.getJpgBase64String=rq("getJpgBase64String");qq.getSvgBase64String=rq("getSvgBase64String");qq.getPdfBase64String=rq("getPdfBase64String");qq.print=rq("print");qq.toSvg=rq("toSvg");var Jq,jF=[];jF[0]=ar;jF[1]=br;jF[2]=function(a,b,c,d){a?$.kl(405,null,[b+"()",a+"()"],!0):$.kl(407,null,[b+"()"],!0);return ar.call(this,a,b,c,d);};jF[3]=function(a,b,c,d,e){a?$.kl(405,null,[b+"()",a+"()"],!0):$.kl(407,null,[b+"()"],!0);return br.apply(this,arguments);};Jq=jF;$.Z={};$.Z.jQ=[0,"enabled",$.Hq];$.Z.wz=[1,"fill",$.Uq];$.Z.TB=[1,"fill",$.Rq];$.Z.f8=[0,"fill",$.bm];$.Z.dZ=[1,"negativeFill",$.Rq];$.Z.f9=[1,"risingFill",$.Rq];$.Z.Z7=[1,"fallingFill",$.Rq];$.Z.J8=[1,"lowFill",$.Rq];$.Z.v8=[1,"highFill",$.Rq];$.Z.Wn=[1,"stroke",$.Tq];$.Z.hF=[1,"stroke",$.Qq];$.Z.X9=[0,"stroke",$.$l];$.Z.L8=[1,"lowStroke",$.Qq];$.Z.x8=[1,"highStroke",$.Qq];$.Z.Q8=[1,"negativeStroke",$.Qq];$.Z.h9=[1,"risingStroke",$.Qq];$.Z.d8=[1,"fallingStroke",$.Qq];$.Z.N8=[1,"medianStroke",$.Qq];$.Z.U9=[1,"stemStroke",$.Qq];$.Z.i$=[1,"whiskerStroke",$.Qq];$.Z.lQ=[1,"hatchFill",$.Vq];$.Z.aZ=[1,"hatchFill",$.Sq];$.Z.Eoa=[0,"hatchFill",$.am];$.Z.eZ=[1,"negativeHatchFill",$.Sq];$.Z.g9=[1,"risingHatchFill",$.Sq];$.Z.c8=[1,"fallingHatchFill",$.Sq];$.Z.w8=[1,"highHatchFill",$.Sq];$.Z.K8=[1,"lowHatchFill",$.Sq];$.Z.WJ=[0,"align",Gk];$.Z.j$=[0,"whiskerWidth",$.fr];$.Z.yZ=[0,"type",$.gr];$.Z.oZ=[0,"size",$.Fq];$.Z.b$=[1,"trend",$.Qq];$.Z.$Y=[1,"grid",$.Qq];$.Z.T7=[1,"emptyFill",$.Rq];$.Z.U7=[1,"emptyHatchFill",$.Sq];$.Z.k8=[0,"fontFamily",$.Dq];$.Z.o8=[0,"fontStyle",$.cl];$.Z.p8=[0,"fontVariant",$.dl];$.Z.q8=[0,"fontWeight",$.Aq];$.Z.n8=[0,"fontSize",function(a){return null===a||$.E(a)||$.zo(a)?a:(0,window.parseFloat)(a);}];$.Z.i8=[0,"fontColor",$.Eq];$.Z.Z9=[0,"textShadow",$.bc];$.Z.l8=[0,"fontOpacity",$.Fq];$.Z.j8=[0,"fontDecoration",$.bl];$.Z.Q7=[1,"dummyFill",$.Rq];$.Z.R7=[1,"dummyStroke",$.Qq];$.Z.X7=[0,"type",$.Rk];$.Z.$J=[0,"length",$.fr];$.Z.YY=[0,"direction",$.Sk];$.Z.W7=[0,"position",$.Tk];$.Z.q9=[0,"seriesId",$.Dq];$.Z.e8=[0,"fieldName",$.Dq];$.Z.aK=[0,"width",$.fr];$.Z.ZJ=[0,"height",$.fr];$.Z.r8=[0,"format",$.er];$.Z.m8=[0,"fontPadding",$.fr];$.Z.W9=[0,"stickToLeft",$.Hq];$.Z.Y7=[0,"explode",$.fr];$.Z.xz=[0,"startAngle",function(a){return $.ab($.N(a)||0);}];$.Z.t7=[0,"cursor",Dk];$.Z.r7=[0,"content",$.Gq];$.Z.UB=[0,"overlapMode",$.Uk];$.Z.TY=[0,"anchor",$.Ek];$.Z.V8=[0,"position",$.Fk];$.Z.qQ=[0,"offsetY",$.Fq];$.Z.rQ=[0,"offsetX",$.Fq];$.Z.hZ=[0,"positionFormatter",$.kr];$.Z.vQ=[0,"rotation",$.Bq];$.Z.hQ=[0,"drawFirstLabel",$.Hq];$.Z.iQ=[0,"drawLastLabel",$.Hq];$.Z.k$=[0,"width",$.Bq];$.Z.s8=[0,"height",$.Bq];$.Z.L9=[0,"shape",$.Eq];$.PE=524288;$.QE=1048576;$.hm=0;$.Ao=1;$.Bo=2;$.H($.U,$.tf);$.g=$.U.prototype;$.g.pa=0;$.g.ra=0;$.g.Vz=0;$.g.Io=window.NaN;$.g.xP=0;$.g.md=function(a){return this.Oa[a];};$.g.oh=function(a){return $.n(this.Oa[a]);};$.g.uf=function(a){return this.na[a];};$.g.g=function(a){return this.oh(a)?this.md(a):this.uf(a);};$.g.sa=function(a,b){this.Oa[a]=b;};$.g.check=function(){return!0;};$.g.getCapabilities=function(a){return(a=this.ta[a])?a.Bb:0;};$.g.vM=function(a){return(a=this.ta[a])?a.eo||0:0;};$.g.vs=function(a){return(a=this.ta[a])?a.gka||0:0;};$.g.YG=function(){return null;};$.g.Yj=function(a){return $.n(a)?(this.e4=a,this):this.e4;};$.g.B=function(a,b){a&=this.ra;var c=a&~this.Vz;this.Vz|=c;(c||this.Yj())&&this.va(b||0);return c;};$.g.I=function(a){this.Vz&=~a;};$.g.nf=function(a){if(a=!(this.Vz&~(a||0)))a:{for(var b in this.nl)if(this.nl[b]){a=!1;break a;}a=!0;}return a;};$.g.J=function(a){return!!(this.Vz&a);};$.g.va=function(a,b,c){if(a&=this.pa)(0,window.isNaN)(this.Io)||b?(b=this.Yi(),this.jb(null),a=new Er(this,a,c),this.dispatchEvent(a),this.jb(b)):this.Io|=a;};$.g.da=function(a){if((0,window.isNaN)(this.Io)||--this.xP)return this;var b=this.Io;this.Io=window.NaN;a&&b&&this.va(b);return this;};$.g.F=function(){return{};};$.g.N=function(a){for(var b=[!1],c=0;c<arguments.length;c++)b.push(arguments[c]);return this.fa.apply(this,b);};$.g.fa=function(a,b){var c=arguments[1];if($.n(c)){$.V(this);for(var d=[],e=0;e<arguments.length;e++)d.push(arguments[e]);!this.Je.apply(this,d)&&$.C(c)&&this.U(c,a);this.da(!0);}return this;};$.g.U=function(){};$.g.Je=function(){return!1;};$.g.Xd=function(){return null;};$.g.Fa=function(a){if($.A(arguments[0]))return this.Fa.apply(this,arguments[0]);var b=[];if(arguments.length){for(var c=0;c<arguments.length;c++){var d=arguments[c];if($.C(d)||-1==this.GB.indexOf(d))this.GB.push(d),b.push(d);}this.BT();}return b;};$.g.df=function(a){this.GB.length=0;this.na={};a&&(this.KC.length=0);return this;};$.g.BT=function(){for(var a=this.na||{},b=(0,$.pa)(this.Xd,this),c=0;c<this.GB.length;c++){var d=this.GB[c];$.z(d)?a=$.Cm(d,a,b):$.C(d)&&$.ra(a,d);}this.na=a;};$.H(Er,vd);$.g=Er.prototype;$.g.Jka=function(){return $.X(this,1);};$.g.Dka=function(){return $.X(this,8);};$.g.Eka=function(){return $.X(this,16);};$.g.Gka=function(){return $.X(this,32);};$.g.Hka=function(){return $.X(this,2);};$.g.Ika=function(){return $.X(this,4);};$.g=$.U.prototype;$.g.dispatchEvent=function(a){$.z(a)?a=a.toLowerCase():"type"in a&&(a.type=String(a.type).toLowerCase());return $.U.u.dispatchEvent.call(this,a);};$.g.ua=function(a,b,c,d){return $.U.u.ua.call(this,String(a).toLowerCase(),b,c,d);};$.g.De=function(a,b,c,d){return $.U.u.De.call(this,String(a).toLowerCase(),b,c,d);};$.g.ec=function(a,b,c,d){return $.U.u.ec.call(this,String(a).toLowerCase(),b,c,d);};$.g.JB=function(a){return $.U.u.JB.call(this,a);};$.g.zl=function(a){$.n(a)&&(a=String(a).toLowerCase());return $.U.u.zl.call(this,a);};var kF=$.U.prototype;kF.listen=kF.ua;kF.listenOnce=kF.De;kF.unlisten=kF.ec;kF.unlistenByKey=kF.JB;kF.removeAllListeners=kF.zl;kF.dispose=kF.kd;kF.isConsistent=kF.nf;kF=Er.prototype;kF.targetNeedsRedraw=kF.Jka;kF.targetBoundsChanged=kF.Dka;kF.targetDataChanged=kF.Eka;kF.targetMetaChanged=kF.Gka;kF.targetNeedsReapplication=kF.Hka;kF.targetNeedsRecalculation=kF.Ika;$.F("anychart.PointState.NORMAL",$.hm);$.F("anychart.PointState.HOVER",$.Ao);$.F("anychart.PointState.SELECT",$.Bo);$.g=$.Fr.prototype;$.g.select=function(a){this.i=a-1;return this.advance();};$.g.Gu=function(a){this.select(a);};$.g.current=function(){return this.i;};$.g.reset=function(){this.i=-1;this.f=void 0;return this;};$.g.advance=function(){this.f=this.view.yf(++this.i);var a=this.Jb();return!!a&&this.i<a;};$.g.get=function(a){if(!(this.i>=this.Jb()))return this.view.Ql(this.i).dk(this.f,this.i,a);};$.g.jr=function(a){return this.get(a);};$.g.la=function(){return this.i;};$.g.Ch=function(){return this.get("x");};$.g.Jb=function(){return this.view.Jb();};$.g.o=function(a,b){return 1<arguments.length?(this.view.o(this.i,a,b),this):this.view.o(this.i,a);};var lF=$.Fr.prototype;lF.select=lF.select;lF.reset=lF.reset;lF.advance=lF.advance;lF.get=lF.get;lF.meta=lF.o;lF.getIndex=lF.la;lF.getRowsCount=lF.Jb;$.H($.Gr,$.U);$.g=$.Gr.prototype;$.g.pa=16;$.g.ra=1;$.g.uo=null;$.g.xw=null;$.g.SD=null;$.g.rY=!1;$.g.Si=function(){var a=new $.Gr(this);$.qd(this,a);return a;};$.g.filter=function(a,b){var c=new Lr(this,a,b);$.qd(this,c);return c;};$.g.sort=function(a,b){var c=new Tr(this,a,b);$.qd(this,c);return c;};$.g.concat=function(a){$.A(a)&&(a=new $.Qr(a));$.J(a,$.Qr)&&(a=a.Wd());a=new Kr(this,a);$.qd(this,a);return a;};$.g.yf=function(a,b){$.Hr(this);a=this.uo?this.uo[a]:a;return $.n(a)?this.be.yf.apply(this.be,arguments):a;};$.g.Cn=function(a){return this.yf(a);};$.g.Jb=function(){$.Hr(this);return this.uo?this.uo.length:this.be.Jb();};$.g.Ql=function(a){$.Hr(this);this.xw||(this.xw=this.Xt());return 1==this.xw.length?this.xw[0]:this.be.Ql(this.uo?this.uo[a]:a);};$.g.Tv=function(){return this.be.Tv();};$.g.nO=function(a,b){for(var c=this.Tv(),d=0;d<c.length;d++)b=c[d].nO(a,b);return b;};$.g.find=function(a,b){$.Hr(this);if(!$.n(a)||!$.n(b))return-1;this.zt||(this.zt={});this.zt[a]||(this.zt[a]={});if(this.zt[a][b])return this.zt[a][b];for(var c=this.$(),d,e;c.advance();)if(d=c.la(),e=c.get(a),this.zt[a][e]=d,e==b)return d;return-1;};$.g.jM=function(a,b,c){$.Hr(this);if(!$.n(a)||!$.n(b))return null;this.QF||(this.QF={});var d=a+"|"+b;if(this.QF[d])return this.QF[d].slice();if(a>b){var e=a;a=b;b=e;}e=this.$();var f=[];for(e.reset();e.advance();){var h=e.la();var k=c?h:e.get("x");k>=a&&k<=b&&f.push(h);}return this.QF[d]=f;};$.g.get=function(a,b){if(!(a>=this.Jb()))return this.Ql(a).dk(this.yf(a),a,b);};$.g.set=function(a,b,c){var d=this.yf(a);$.n(d)&&this.yf(a,aca(this.Ql(a),d,b,c));return this;};$.g.$=function(){$.Hr(this);return new $.Fr(this);};$.g.uC=function(){return null;};$.g.LI=function(a){this.QF=this.zt=null;$.X(a,16)&&this.B(1,16);};$.g.o=function(a,b,c){if(this.rY)return this.kO.apply(this,arguments);this.SD||(this.SD=[]);var d=this.SD[a];d||(this.SD[a]=d={});return 2<arguments.length?(d[b]=c,this):d[b];};$.g.kO=function(a,b,c){a=this.uo?this.uo[a]:a;if(!$.n(a))throw Error("Index can not be masked by this View");return 2<arguments.length?(this.be.o(a,b,c),this):this.be.o(a,b);};$.g.fd=function(a){this.xw||(this.xw=this.Xt());for(var b=0;b<this.xw.length;b++)if(this.xw[b].fd(a))return!0;return!1;};$.g.vD=function(){return this.be.vD();};$.g.Xt=function(){return this.be.Xt();};$.g.XO=function(a){$.J(a,Date)&&(a=a.getTime());if(!$.n(a)||$.ea(a)&&(0,window.isNaN)(a))a=null;return a;};$.g.F=function(){for(var a=[],b=this.$();b.advance();)a.push(Jr(this,b.la()));return a;};var mF=$.Gr.prototype;mF.derive=mF.Si;mF.filter=mF.filter;mF.sort=mF.sort;mF.concat=mF.concat;mF.row=mF.yf;mF.getRowsCount=mF.Jb;mF.getIterator=mF.$;mF.getDataSets=mF.Tv;mF.meta=mF.o;mF.get=mF.get;mF.set=mF.set;mF.find=mF.find;$.H(Kr,$.Gr);$.g=Kr.prototype;$.g.ra=0;$.g.Ql=function(a){var b=this.be.Jb();return a<b?this.be.Ql(a):this.b.Ql(a-b);};$.g.Xt=function(){return $.Ga(this.be.Xt(),this.b.Xt());};$.g.vD=function(){return this.be.vD()||this.b.vD();};$.g.Tv=function(){var a=this.be.Tv(),b=this.b.Tv();return $.Ga(a,b);};$.g.yf=function(a,b){var c=this.be.Jb();if(a<c)return this.be.yf.apply(this.be,arguments);a-=c;return this.b.yf.apply(this.b,arguments);};$.g.Jb=function(){return this.be.Jb()+this.b.Jb();};$.g.LI=function(a){this.zt=null;$.X(a,16)&&this.va(16);};$.g.kO=function(a,b,c){var d=this.be.Jb();a<d?d=this.be:(a-=d,d=this.b);return 2<arguments.length?(d.o(a,b,c),this):d.o(a,b);};$.H(Lr,$.Gr);Lr.prototype.uC=function(){for(var a=[],b=this.be.$();b.advance();)this.f(b.get(this.b))&&a.push(b.la());return a;};$.H($.Nr,$.Gr);$.g=$.Nr.prototype;$.g.pa=16;$.g.ra=0;$.g.dk=function(a,b,c){var d=$.ka(a);if("array"==d){if(d=this.Zc[c])for(var e=0;e<d.length;e++)if(d[e]<a.length){var f=a[d[e]];break;}}else"object"==d?f=to(a,c,this.Zc[c]):-1<(0,$.za)(Or,c)&&(f=a);!$.n(f)&&-1<(0,$.za)(nF,c)&&(f=b);return f;};$.g.Ql=function(){return this;};$.g.Xt=function(){return[this];};$.g.yf=function(a,b){return this.be.yf.apply(this.be,arguments);};$.g.Jb=function(){return this.be.Jb();};$.g.LI=function(a){this.zt=null;$.X(a,16)&&this.va(16);};$.g.fd=function(a){if(this.be.fd(a))return!0;var b,c=nF;for(b=0;b<c.length;b++)if(c[b]==a)return!0;if(this.be.vD())for(c=Or,b=0;b<c.length;b++)if(c[b]==a)return!0;if(c=this.Zc[a])for(b=0;b<c.length;b++)if(this.be.fd(c[b]))return!0;return!1;};var Pr={x:[0,"column","x"],value:[1,0,"value","y","close","heat"],size:[2,1],open:[1],high:[2],low:[3,1],close:[4],lowest:[1,"lowest","low"],q1:[2],median:[3],q3:[4],highest:[5,"highest","high"],outliers:[6],id:[0],lat:[0,"lat","y","value"],"long":[1,"long","lon","x"],points:[0],y:[1,"row","y"],heat:[2,"heat","value"],category:[2],isTotal:[2],from:[0],to:[1],weight:[2,"value","flow","weight"],z:[2],name:[0],start:[1],end:[2]},Or=["value","close"],nF=["x"];$.Nr.prototype.mr=function(){return this.Zc;};var oF=$.Nr.prototype;$.F("anychart.data.Mapping.DEFAULT_MAPPING",Pr);$.F("anychart.data.Mapping.DEFAULT_SIMPLE_ROW_MAPPING",Or);$.F("anychart.data.Mapping.DEFAULT_INDEX_MAPPING",nF);oF.getRowsCount=oF.Jb;oF.getIterator=oF.$;oF.row=oF.yf;oF.getMapping=oF.mr;$.H($.Qr,$.U);$.g=$.Qr.prototype;$.g.pa=16;$.g.qK=0;$.g.xt=null;$.g.RX=!1;$.g.data=function(a,b){return $.n(a)?($.Tp++,$.z(a)&&(a=Wr(a,b)),$.la(a)?(this.oc=Rr(this,a),this.va(16)):this.oc&&0<this.oc.length?(this.oc.length=0,this.va(16)):this.oc=[],$.Wp(),this):this.oc;};$.g.Wd=function(a){a=new $.Nr(this,a);$.qd(this,a);return a;};$.g.yf=function(a,b){var c=this.oc[a];1<arguments.length&&($.Tp++,this.oc[a]=b,this.va(16),$.Wp());return c;};$.g.Cn=function(a){return this.yf(a);};$.g.waa=function(a){$.Tp++;this.oc.push.apply(this.oc,Rr(this,arguments));this.va(16);$.Wp();return this;};$.g.Ega=function(a,b){$.Tp++;$.Da(this.oc,Rr(this,[a])[0],b);this.va(16);$.Wp();return this;};$.g.remove=function(a){$.Tp++;Ea(this.oc,a);this.va(16);$.Wp();return this;};$.g.Jb=function(){return this.oc.length;};$.g.Ql=function(){throw Error("Wrong usage of the data Set");};$.g.Xt=function(){throw Error("Wrong usage of the data Set");};$.g.fd=function(a){return $.ea(a)?this.qK>a:!(!this.xt||!this.xt[a.split(".")[0]]);};$.g.nO=function(a,b){function c(c){c in a||(a[c]=b++);}var d;for(d=0;d<this.qK;d++)c(d);if(this.xt)for(d in this.xt)c(d);this.RX&&c("value");return b;};$.g.vD=function(){return this.RX;};$.g.o=function(){throw Error("Wrong usage of the data Set");};$.g.Tv=function(){return[this];};var pF=$.Qr.prototype;$.F("anychart.data.set",$.Sr);pF.data=pF.data;pF.mapAs=pF.Wd;pF.row=pF.yf;pF.append=pF.waa;pF.insert=pF.Ega;pF.remove=pF.remove;pF.getRowsCount=pF.Jb;$.H(Tr,$.Gr);Tr.prototype.uC=function(){for(var a=[],b=this.be.$();b.advance();)a.push({value:b.get(this.b),index:b.la()});$.Pa(a,this.f);for(b=a.length;b--;)a[b]=a[b].index;return a;};var Vr=/[ \f\n\r\t\v\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000\u3031-\u3035\u309b\u309c\u30a0\u30fc\uff70]+/g,bca=/[!-#%-*,-/:;?@\[-\]_{}\xa1\xa7\xab\xb6\xb7\xbb\xbf\u037e\u0387\u055a-\u055f\u0589\u058a\u05be\u05c0\u05c3\u05c6\u05f3\u05f4\u0609\u060a\u060c\u060d\u061b\u061e\u061f\u066a-\u066d\u06d4\u0700-\u070d\u07f7-\u07f9\u0830-\u083e\u085e\u0964\u0965\u0970\u0af0\u0df4\u0e4f\u0e5a\u0e5b\u0f04-\u0f12\u0f14\u0f3a-\u0f3d\u0f85\u0fd0-\u0fd4\u0fd9\u0fda\u104a-\u104f\u10fb\u1360-\u1368\u1400\u166d\u166e\u169b\u169c\u16eb-\u16ed\u1735\u1736\u17d4-\u17d6\u17d8-\u17da\u1800-\u180a\u1944\u1945\u1a1e\u1a1f\u1aa0-\u1aa6\u1aa8-\u1aad\u1b5a-\u1b60\u1bfc-\u1bff\u1c3b-\u1c3f\u1c7e\u1c7f\u1cc0-\u1cc7\u1cd3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205e\u207d\u207e\u208d\u208e\u2329\u232a\u2768-\u2775\u27c5\u27c6\u27e6-\u27ef\u2983-\u2998\u29d8-\u29db\u29fc\u29fd\u2cf9-\u2cfc\u2cfe\u2cff\u2d70\u2e00-\u2e2e\u2e30-\u2e3b\u3001-\u3003\u3008-\u3011\u3014-\u301f\u3030\u303d\u30a0\u30fb\ua4fe\ua4ff\ua60d-\ua60f\ua673\ua67e\ua6f2-\ua6f7\ua874-\ua877\ua8ce\ua8cf\ua8f8-\ua8fa\ua92e\ua92f\ua95f\ua9c1-\ua9cd\ua9de\ua9df\uaa5c-\uaa5f\uaade\uaadf\uaaf0\uaaf1\uabeb\ufd3e\ufd3f\ufe10-\ufe19\ufe30-\ufe52\ufe54-\ufe61\ufe63\ufe68\ufe6a\ufe6b\uff01-\uff03\uff05-\uff0a\uff0c-\uff0f\uff1a\uff1b\uff1f\uff20\uff3b-\uff3d\uff3f\uff5b\uff5d\uff5f-\uff65]/g;$.F("anychart.data.mapAsTable",function(a,b,c){if(!a||!$.A(a))return[];if($.n(b))switch(b=String(b).toLowerCase(),b){case"range":b=2;break;case"ohlc":b=4;break;default:b=1;}else b=1;var d;if(!$.n(c)||(0,window.isNaN)(d=$.Jo(c,window.NaN,!1)))d=$.A(a[0])?Math.floor((a[0].length-1)/b):0;if((0,window.isNaN)(d)||0>=d)return[];a=new $.Qr(a);c=[];if(1==b)for(b=0;b<d;b++)c.push(a.Wd({x:[0],value:[1+b]}));else if(2==b)for(b=0;b<d;b++)c.push(a.Wd({x:[0],low:[1+2*b],high:[2*b+2]}));else if(4==b)for(b=0;b<d;b++)c.push(a.Wd({x:[0],open:[1+4*b],high:[4*b+2],low:[4*b+3],close:[4*b+4]}));return c;});$.F("anychart.data.buildMapping",Ur);$.F("anychart.data.parseText",Wr);var dca="GyMdkHmsSEDahKzZvQL";$.F("anychart.format.locales.default.dateTimeLocale",{eras:["BC","AD"],eraNames:["Before Christ","Anno Domini"],narrowMonths:"JFMAMJJASOND".split(""),standaloneNarrowMonths:"JFMAMJJASOND".split(""),months:"January February March April May June July August September October November December".split(" "),standaloneMonths:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),standaloneShortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),standaloneWeekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortWeekdays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),standaloneShortWeekdays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),narrowWeekdays:"SMTWTFS".split(""),standaloneNarrowWeekdays:"SMTWTFS".split(""),shortQuarters:["Q1","Q2","Q3","Q4"],quarters:["1st quarter","2nd quarter","3rd quarter","4th quarter"],ampms:["AM","PM"],firstDayOfWeek:0,weekendRange:[5,6],firstWeekCutOffDay:3,dateFormat:"y MMM d",timeFormat:"HH:mm:ss",dateTimeFormat:"y MMM d 'at' HH:mm:ss",formats:{full_year:"yyyy",full_year_semester:"MMM yyyy",full_year_quarter:"MMM yyyy",full_year_month:"MMM yyyy",full_year_third_of_month:"dd MMM yyyy",full_year_week:"dd MMM yyyy",full_year_day:"dd MMM yyyy",full_year_hour:"HH dd MMM yyyy",full_year_minute:"dd MMM yyyy, HH:mm",full_year_second:"dd MMM yyyy, HH:mm:ss",full_year_millisecond:"dd MMM yyyy, HH:mm:ss.SSS",timeline_year:["yyyy","yy"],timeline_year_semester:["Q yyyy","Q ''yy"],timeline_year_quarter:["QQ yyyy","QQ ''yy","Q yyyy","Q ''yy"],timeline_year_month:["MMMM yyyy","MMM yyyy","MMM ''yy","MM ''yy"],timeline_year_third_of_month:"EEEE, dd MMMM yyyy;EE, dd MMM yyyy;EE, dd MMM yy;dd MMM yyyy;dd MMMM yy;MM.dd.yyyy;MM.dd.yy".split(";"),timeline_year_week:"dd MMMM yyyy;dd MMM yyyy;dd MMMM yy;dd MMM yy;MM.dd.yyyy;MM.dd.yy".split(";"),timeline_year_day:"EEEE, dd MMMM yyyy;EE, dd MMM yyyy;EE, dd MMM yy;dd MMM yyyy;dd MMMM yy;MM.dd.yyyy;MM.dd.yy".split(";"),timeline_year_hour:["dd MMMM yyyy HH'h'","dd MMM yyyy HH'h'","dd MMM yy HH'h'","MM.dd.yyyy HH'h'","MM.dd.yy HH'h'"],timeline_year_minute:["dd MMMM yyyy HH:mm","dd MMM yyyy HH:mm","dd MMM yy HH:mm","MM.dd.yyyy HH:mm","MM.dd.yy HH:mm"],timeline_year_second:["dd MMMM yyyy HH:mm:ss","dd MMM yyyy HH:mm:ss","dd MMM yy HH:mm:ss","MM.dd.yyyy HH:mm:ss","MM.dd.yy HH:mm:ss"],timeline_year_millisecond:["dd MMMM yyyy HH:mm:ss.SSS","dd MMM yyyy HH:mm:ss.SSS","dd MMM yy HH:mm:ss.SSS","MM.dd.yyyy HH:mm:ss.SSS","MM.dd.yy HH:mm:ss.SSS"],timeline_semester:["Q"],timeline_semester_quarter:["QQ","Q"],timeline_semester_month:["MMMM","MMM","MM"],timeline_semester_third_of_month:"EEEE, dd MMMM;EE, dd MMM;EE, dd MMM;dd MMM;dd MMMM;MM.dd;MM.dd".split(";"),timeline_semester_week:["dd MMMM","dd MMM","MM.dd","MM.dd"],timeline_semester_day:"EEEE, dd MMMM;EE, dd MMM;EE, dd MMM;dd MMM;dd MMMM;MM.dd;MM.dd".split(";"),timeline_semester_hour:["dd MMMM HH'h'","dd MMM HH'h'","dd MMM HH'h'","MM.dd HH'h'","MM.dd HH'h'"],timeline_semester_minute:["dd MMMM HH:mm","dd MMM HH:mm","dd MMM HH:mm","MM.dd HH:mm","MM.dd HH:mm"],timeline_semester_second:["dd MMMM HH:mm:ss","dd MMM HH:mm:ss","dd MMM HH:mm:ss","MM.dd HH:mm:ss","MM.dd HH:mm:ss"],timeline_semester_millisecond:["dd MMMM HH:mm:ss.SSS","dd MMM HH:mm:ss.SSS","dd MMM HH:mm:ss.SSS","MM.dd HH:mm:ss.SSS","MM.dd HH:mm:ss.SSS"],timeline_quarter:["QQ","Q"],timeline_quarter_month:["MMMM","MMM","MM"],timeline_quarter_third_of_month:"EEEE, dd MMMM;EE, dd MMM;EE, dd MMM;dd MMM;dd MMMM;MM.dd;MM.dd".split(";"),timeline_quarter_week:["dd MMMM","dd MMM","MM.dd","MM.dd"],timeline_quarter_day:"EEEE, dd MMMM;EE, dd MMM;EE, dd MMM;dd MMM;dd MMMM;MM.dd;MM.dd".split(";"),timeline_quarter_hour:["dd MMMM HH'h'","dd MMM HH'h'","dd MMM HH'h'","MM.dd HH'h'","MM.dd HH'h'"],timeline_quarter_minute:["dd MMMM HH:mm","dd MMM HH:mm","dd MMM HH:mm","MM.dd HH:mm","MM.dd HH:mm"],timeline_quarter_second:["dd MMMM HH:mm:ss","dd MMM HH:mm:ss","dd MMM HH:mm:ss","MM.dd HH:mm:ss","MM.dd HH:mm:ss"],timeline_quarter_millisecond:["dd MMMM HH:mm:ss.SSS","dd MMM HH:mm:ss.SSS","dd MMM HH:mm:ss.SSS","MM.dd HH:mm:ss.SSS","MM.dd HH:mm:ss.SSS"],timeline_month:["MMMM","MMM","MM"],timeline_month_third_of_month:"EEEE, dd MMMM;EE, dd MMM;EE, dd MMM;dd MMM;dd MMMM;MM.dd;MM.dd".split(";"),timeline_month_week:["dd MMMM","dd MMM","MM.dd","MM.dd"],timeline_month_day:"EEEE, dd MMMM;EE, dd MMM;EE, dd MMM;dd MMM;dd MMMM;MM.dd;MM.dd".split(";"),timeline_month_hour:["dd MMMM HH'h'","dd MMM HH'h'","dd MMM HH'h'","MM.dd HH'h'","MM.dd HH'h'"],timeline_month_minute:["dd MMMM HH:mm","dd MMM HH:mm","dd MMM HH:mm","MM.dd HH:mm","MM.dd HH:mm"],timeline_month_second:["dd MMMM HH:mm:ss","dd MMM HH:mm:ss","dd MMM HH:mm:ss","MM.dd HH:mm:ss","MM.dd HH:mm:ss"],timeline_month_millisecond:["dd MMMM HH:mm:ss.SSS","dd MMM HH:mm:ss.SSS","dd MMM HH:mm:ss.SSS","MM.dd HH:mm:ss.SSS","MM.dd HH:mm:ss.SSS"],timeline_third_of_month:["dd"],timeline_third_of_month_week:["dd"],timeline_third_of_month_day:["EEEE, dd","EE, dd","dd"],timeline_third_of_month_hour:["EEEE, dd HH'h'","EE, dd HH'h'","dd HH'h'"],timeline_third_of_month_minute:["EEEE, dd HH:mm","EE, dd HH:mm","dd HH:mm"],timeline_third_of_month_second:["EEEE, dd HH:mm:ss","EE, dd HH:mm:ss","dd HH:mm:ss"],timeline_third_of_month_millisecond:["EEEE, dd HH:mm:ss.SSS","EE, dd HH:mm:ss.SSS","dd HH:mm:ss.SSS"],timeline_week:["dd"],timeline_week_day:["EEEE, dd","EE, dd","dd"],timeline_week_hour:["EEEE, dd HH'h'","EE, dd HH'h'","dd HH'h'"],timeline_week_minute:["EEEE, dd HH:mm","EE, dd HH:mm","dd HH:mm"],timeline_week_second:["EEEE, dd HH:mm:ss","EE, dd HH:mm:ss","dd HH:mm:ss"],timeline_week_millisecond:["EEEE, dd HH:mm:ss.SSS","EE, dd HH:mm:ss.SSS","dd HH:mm:ss.SSS"],timeline_day:["EEEE, dd","EEEE, dd","EE, dd","dd"],timeline_day_hour:["EEEE, dd HH'h'","EE, dd HH'h'","dd HH'h'"],timeline_day_minute:["EEEE, dd HH:mm","EE, dd HH:mm","dd HH:mm"],timeline_day_second:["EEEE, dd HH:mm:ss","EE, dd HH:mm:ss","dd HH:mm:ss"],timeline_day_millisecond:["EEEE, dd HH:mm:ss.SSS","EE, dd HH:mm:ss.SSS","dd HH:mm:ss.SSS"],timeline_hour:["HH'h'","HH"],timeline_hour_minute:["HH:mm"],timeline_hour_second:["HH:mm:ss"],timeline_hour_millisecond:["HH:mm:ss.SSS"],timeline_minute:["mm''"],timeline_minute_second:["mm''ss\""],timeline_minute_millisecond:["mm''ss\"SSS","mm''ss\"SS"],timeline_second:['ss"',"ss"],timeline_second_millisecond:['ss"SSS','ss"SS'],timeline_millisecond:["SSS"],year:"yyyy",year_semester:"yyyy MMM",year_quarter:"yyyy MMM",year_month:"yyyy MMM",year_third_of_month:"MMM dd",year_week:"MMM dd",year_day:"MMM dd",year_hour:"MMM-dd HH",year_minute:"dd HH:mm",year_second:"HH:mm:ss",year_millisecond:"HH:mm:ss.SSS",semester:"MMM",semester_quarter:"MMM",semester_month:"MMM",semester_third_of_month:"dd",semester_week:"dd",semester_day:"dd",semester_hour:"HH",semester_minute:"HH:mm",semester_second:"HH:mm:ss",semester_millisecond:"SSS",quarter:"MMM",quarter_month:"MMM",quarter_third_of_month:"dd",quarter_week:"dd",quarter_day:"dd",quarter_hour:"HH",quarter_minute:"HH:mm",quarter_second:"HH:mm:ss",quarter_millisecond:"SSS",month:"MMM",month_third_of_month:"dd",month_week:"dd",month_day:"dd",month_hour:"HH",month_minute:"HH:mm",month_second:"HH:mm:ss",month_millisecond:"SSS",third_of_month:"dd",third_of_month_week:"dd",third_of_month_day:"dd",third_of_month_hour:"HH",third_of_month_minute:"HH:mm",third_of_month_second:"HH:mm:ss",third_of_month_millisecond:"SSS",week:"dd",week_day:"dd",week_hour:"HH",week_minute:"HH:mm",week_second:"HH:mm:ss",week_millisecond:"SSS",day:"dd",day_hour:"HH",day_minute:"HH:mm",day_second:"HH:mm:ss",day_millisecond:"SSS",hour:"HH",hour_minute:"HH:mm",hour_second:"HH:mm:ss",hour_millisecond:"SSS",minute:"HH:mm",minute_second:"HH:mm:ss",minute_millisecond:"SSS",second:"HH:mm:ss",second_millisecond:"SSS",millisecond:"SSS",charts_year:"yyyy",charts_semester:"MMM yyyy",charts_quarter:"MMM yyyy",charts_month:"MMM",charts_third_of_month:"dd MMM",charts_week:"dd MMM",charts_day:"dd MMM",charts_hour:"HH:mm",charts_minute:"HH:mm",charts_second:"HH:mm:ss",charts_millisecond:"HH:mm:ss.SSS",charts_year_semester:"MMM",charts_semester_quarter:"MMM",charts_quarter_month:"MMM",charts_month_third_of_month:"dd MMM",charts_third_of_month_week:"dd MMM",charts_week_day:"dd",charts_day_hour:"HH:mm",charts_hour_minute:"HH:mm",charts_minute_second:"HH:mm:ss",charts_second_millisecond:"HH:mm:ss.SSS"}});$.F("anychart.format.locales.default.numberLocale",{decimalsCount:10,decimalPoint:".",groupsSeparator:"",scale:!1,zeroFillDecimals:!1,scaleSuffixSeparator:"",useBracketsForNegative:!1});$.F("anychart.format.locales.default.messages",{});var Hda=/^([-]?\d+\.?\d*)(.*?)?$/,Es={factors:[1E15,1E12,1E9,1E6,1E3,1E3,1,.001,1E-6,1E-9],suffixes:"P T G M K k  m u n".split(" ")},Hs="default",Gs=null,js=window.NaN,ls="default",ms=null,os=null,qs=null,Cs=0,Bs={},Ks={},Ds={},gs={},cs={};$.F("anychart.format.inputLocale",function(a){if($.n(a)){var b=$.z(a),c="object"==$.ka(a);b||c?(c=c?"input":a,is(a,c),Hs=b?c:cs[c]||cs.input||a):Hs="default";}return Hs;});$.F("anychart.format.inputBaseDate",ks);$.F("anychart.format.inputDateTimeFormat",function(a){$.n(a)&&($.z(a)?Gs=a:Gs=null);return Gs;});$.F("anychart.format.outputLocale",$.Xo);$.F("anychart.format.outputTimezone",function(a){$.n(a)&&(Cs=$.N(a)||0);return Cs;});$.F("anychart.format.outputDateFormat",ps);$.F("anychart.format.outputTimeFormat",rs);$.F("anychart.format.outputDateTimeFormat",ns);$.F("anychart.format.parseDateTime",$.ts);$.F("anychart.format.parseNumber",function(a,b){var c=es(b)||es(Hs)||es("default"),d=1;if($.z(a)){c.useBracketsForNegative&&"("==a.charAt(0)&&")"==a.charAt(a.length-1)&&(d=-1,a=a.substring(1,a.length-1));a=a.replace(c.decimalPoint,".");a=a.replace(new RegExp(xc(c.groupsSeparator),"g"),"");var e=c.scale;!0===e&&(e=Es);if($.C(e)&&$.A(e.factors)&&$.A(e.suffixes)){a=a.replace(new RegExp(xc(c.scaleSuffixSeparator),"g"),"");var f=a.match(Hda);if(!f)return window.NaN;var h=1;a=+f[1];if(f=f[2]){var k=e.factors;e=e.suffixes;for(var l=Math.min(k.length,e.length),m=0;m<l;m++)if(f==e[m]){h=k[m];break;}}a*=h;}}d*=+a;return(0,window.isNaN)(d)?d:$.Wm(d,c.decimalsCount);});$.F("anychart.format.subs",$.ic);$.F("anychart.format.getMessage",$.us);$.F("anychart.format.getDateTimeFormats",$.xs);$.F("anychart.format.getDateTimeFormat",$.ws);$.F("anychart.format.getIntervalIdentifier",$.vs);$.F("anychart.format.date",$.zs);$.F("anychart.format.time",As);$.F("anychart.format.dateTime",$.ys);$.F("anychart.format.number",$.Fs);$.F("anychart.format.getLocale",ds);$.H($.Ms,$.U);$.g=$.Ms.prototype;$.g.pa=2;$.g.mc=function(a,b){this.We||(this.We=[]);var c=this.We.length;a>=c&&0<c&&(a%=c);return $.n(b)?(this.We[a]=b,this.va(2),this):(c=this.We[a])?c:null;};$.g.items=function(a,b){return $.n(a)?($.A(a)||(a=$.Ja(arguments,0)),$.ud(this.We),this.We=(0,$.Wa)(a,function(a){return $.Xb(a);}),this.va(2),this):this.We;};$.g.Dp=function(a){this.We=$.Ha(this.na.items);a&&this.va(2);};$.g.F=function(){var a=$.Ms.u.F.call(this);a.type="distinct";for(var b=[],c=0;c<this.We.length;c++)b.push($.Sl(this.We[c]));a.items=b;return a;};$.g.Xd=function(a){return $.A(a)?{items:a}:$.J(a,$.Ms)?{items:a.items()}:null;};$.g.Je=function(a,b){var c=this.Xd(b);return c?(this.items(c.items),!0):!1;};$.g.U=function(a,b){$.Ms.u.U.call(this,a,b);this.items(a.items);};var qF=$.Ms.prototype;$.F("anychart.palettes.distinctColors",function(a,b){var c=new $.Ms();$.n(a)&&c.items.apply(c,arguments);return c;});qF.itemAt=qF.mc;qF.items=qF.items;$.H($.Ns,$.U);$.g=$.Ns.prototype;$.g.pa=2;$.g.mc=function(a,b,c,d,e){var f=this.items(),h=f.length;a>=h&&0<h&&(a%=h);return $.n(b)?(f[a]=$.ac.apply(null,$.Ja(arguments,1)),this.va(2),this):f[a]||null;};$.g.items=function(a,b){if(!this.b)if(this.b=[],$.n(this.na.items))for(var c=0;c<this.na.items.length;c++){var d=$.ac.call(null,this.na.items[c]);this.b.push(d);}else for(c in Ng)this.b.push(Ng[c]);return $.n(a)?($.A(a)||(a=$.Ja(arguments,0)),$.ud(this.b),this.b=(0,$.Wa)(a,function(a){return $.ac.call(null,a);}),this.va(2),this):this.b;};$.g.F=function(){for(var a=$.Ns.u.F.call(this),b=[],c=this.items(),d=0;d<c.length;d++)b.push($.Sl(c[d]));a.items=b;return a;};$.g.Xd=function(a){return $.A(a)?{items:a}:$.J(a,$.Ns)?{items:a.items()}:null;};$.g.Je=function(a,b){var c=this.Xd(b);return c?(this.items(c.items),!0):!1;};$.g.U=function(a,b){$.Ns.u.U.call(this,a,b);this.items(a.items);};$.g.R=function(){$.ud(this.b);this.b=null;$.Ns.u.R.call(this);};var rF=$.Ns.prototype;$.F("anychart.palettes.hatchFills",function(a,b){var c=new $.Ns();c.items.apply(c,$.n(a)?arguments:$.Hc(Ng));return c;});rF.itemAt=rF.mc;rF.items=rF.items;$.H($.Os,$.U);$.g=$.Os.prototype;$.g.pa=2;$.g.mc=function(a,b){var c=this.items(),d=c.length;a>=d&&0<d&&(a%=d);return $.n(b)?(d=Qk(b),d!=c[a]&&(c[a]=d,this.va(2)),this):(d=c[a])||null;};$.g.items=function(a,b){if(!this.Gc)if(this.Gc=[],$.n(this.na.items))for(var c=0;c<this.na.items.length;c++)this.Gc.push(this.na.items[c]);else for(c in Nk)this.Gc.push(Nk[c]);return $.n(a)?($.A(a)||(a=$.Ja(arguments,0)),$.ud(this.Gc),this.Gc=(0,$.Wa)(a,function(a){return Qk(a);}),this.va(2),this):this.Gc;};$.g.F=function(){var a=$.Os.u.F.call(this);a.items=this.items();return a;};$.g.Xd=function(a){return $.A(a)?{items:a}:$.J(a,$.Os)?{items:a.items()}:null;};$.g.Je=function(a,b){var c=this.Xd(b);return c?(this.items(c.items),!0):!1;};$.g.U=function(a,b){$.Os.u.U.call(this,a,b);this.items(a.items);};var sF=$.Os.prototype;$.F("anychart.palettes.markers",function(a,b){var c=new $.Os();$.n(a)&&c.items.apply(c,arguments);return c;});sF.itemAt=sF.mc;sF.items=sF.items;$.H($.Ps,$.U);$.g=$.Ps.prototype;$.g.pa=2;$.g.ra=16;$.g.items=function(a,b){return $.n(a)?($.C(a)&&$.A(a.keys)?this.We=$.Xb(a).keys:($.A(a)||(a=$.Ja(arguments,0)),$.ud(this.We),this.We=(0,$.Wa)(a,function(a){return $.Xb(a);})),this.B(16,2),this):this.We;};$.g.count=function(a){return $.n(a)?(this.b!=a&&(this.b=a,this.B(16,2)),this):this.b;};$.g.mc=function(a,b){if(this.J(16)){if(this.We&&0!=this.b){var c=[],d=$.A(this.We)?this.We:this.We.keys;if($.A(d)&&d.length){for(var e=this.b||this.i||d.length,f=1/(d.length-1),h,k=0;k<d.length;k++){var l=d[k];$.z(l)?(h=$.Ml(l),c.push({color:h?h.tk:"#000000",offset:k*f})):(h=$.Ml(l.color),c.push({color:h?h.tk:"#000000",offset:$.n(l.offset)?l.offset:k*f}));}Sa(c);this.f=[];if(1==c.length)for(k=0;k<e;k++)this.f[k]={color:c[0].color};else for(k=0;k<e;k++){h=1==e?0:k/(e-1);f=d=null;for(l=0;l<c.length;l++)h>=c[l].offset&&(d=c[l]),h<=c[l].offset&&null==f&&(f=c[l]);d||(d=c[0]);f||(f=c[c.length-1]);f.offset==d.offset?this.f[k]={color:d.color}:(h=1-(h-d.offset)/(f.offset-d.offset),this.f[k]={color:$.Wb($.Il($.Cl(d.color),$.Cl(f.color),h))});}}}this.I(16);}c=$.A(this.We)?this.We:this.We.keys;if(1>c.length)return null;c=this.b||this.i||c.length;if(!c)return null;if($.n(b))return this.f[a]=b,this.va(2),this;a>c-1&&(a=c-1);0>a&&(a=0);return(c=this.f[a])?c:null;};$.g.Dp=function(a){this.b=window.NaN;this.We="#1D8BD1 #F1683C #2AD62A #DBDC25 #8FBC8B #D2B48C #FAF0E6 #20B2AA #B0C4DE #DDA0DD #9C9AFF #9C3063 #FFFFCE #CEFFFF #630063 #FF8284 #0065CE #CECFFF #000084 #FF00FF #FFFF00 #00FFFF #840084 #840000 #008284 #0000FF #00CFFF #CEFFFF #CEFFCE #FFFF9C #9CCFFF #FF9ACE #CE9AFF #FFCF9C #3165FF #31CFCE #9CCF00 #FFCF00 #FF9A00 #FF6500".split(" ");this.B(16);a&&this.va(2);};$.g.F=function(){var a=$.Ps.u.F.call(this);a.type="range";for(var b=[],c=0;c<this.We.length;c++)b.push($.Sl(this.We[c]));a.items=b;(0,window.isNaN)(this.b)||(a.count=this.b);return a;};$.g.Xd=function(a){return $.A(a)?{items:a}:$.J(a,$.Ps)?{items:a.items(),count:a.count()}:null;};$.g.Je=function(a,b){var c=this.Xd(b);return c?(this.items(c.items),"count"in c&&this.count(c.count),!0):!1;};$.g.U=function(a,b){$.Ps.u.U.call(this,a,b);this.items(a.items);this.count(a.count);};var tF=$.Ps.prototype;$.F("anychart.palettes.rangeColors",function(a,b){var c=new $.Ps();$.n(a)&&c.N.apply(c,arguments);return c;});tF.itemAt=tF.mc;tF.items=tF.items;tF.count=tF.count;$.F("anychart.palettes.defaultPalette","#64b5f6 #1976d2 #ef6c00 #ffd54f #455a64 #96a6a6 #dd2c00 #00838f #00bfa5 #ffa000".split(" "));$.F("anychart.palettes.earth","#827717 #c77532 #998675 #6b617b #c69c6d #d29b9b #879872 #16685d #57a7b1 #bdbdbd".split(" "));$.F("anychart.palettes.monochrome",["#37474f","#757575","#90a4ae","#bdbdbd","#e1e1e1"]);$.F("anychart.palettes.provence","#aa8ab3 #b7cbe2 #cdd18e #938d9c #6f5264 #96246a #519790 #6aabcc #61687d #7b8030".split(" "));$.F("anychart.palettes.morning","#0288d1 #58abd7 #ffe082 #f8bbd0 #f48fb1 #bbdefb #d4e157 #ff6e40 #03a9f4 #e1bee7".split(" "));$.F("anychart.palettes.coffee","#482311 #8d5932 #d8b597 #f2d1be #9b301c #d81e05 #c5e1a5 #558b2f #ffab00 #e65100".split(" "));$.F("anychart.palettes.wines","#6f3448 #857600 #f1a122 #a50b01 #400001 #a98b80 #c08081 #86614e #c26364 #615060".split(" "));$.F("anychart.palettes.turquoise","#80deea #00acc1 #00838f #29b6f6 #0277bd #0277bd #8c9eff #9575cd #ce93d8 #8e24aa".split(" "));$.F("anychart.palettes.pastel","#90caf9 #80cbc4 #aed581 #e6ee9c #ffcc80 #ffab91 #f8bbd0 #d1c4e9 #9e9e9e #c7b299".split(" "));$.F("anychart.palettes.blue","#40c4ff #0288d1 #9fa8da #5c6bc0 #7e57c2 #54dbdf #15a9c7 #00897b #304ffe #0179be".split(" "));$.F("anychart.palettes.glamour","#f8bbd0 #ce93d8 #ab47bc #d81b60 #880e4f #ffd600 #ff6e40 #03a9f4 #5e35b1 #1976d2".split(" "));$.F("anychart.palettes.sea","#a9e1d4 #54dbdf #15a9c7 #207fbf #c0aca5 #8b8a92 #dbcb8f #dba869 #ffab00 #00897b".split(" "));$.F("anychart.palettes.v6","#1D8BD1 #F1683C #2AD62A #DBDC25 #8FBC8B #D2B48C #FAF0E6 #20B2AA #B0C4DE #DDA0DD #9C9AFF #9C3063 #FFFFCE #CEFFFF #630063 #FF8284 #0065CE #CECFFF #000084 #FF00FF #FFFF00 #00FFFF #840084 #840000 #008284 #0000FF #00CFFF #CEFFFF #CEFFCE #FFFF9C #9CCFFF #FF9ACE #CE9AFF #FFCF9C #3165FF #31CFCE #9CCF00 #FFCF00 #FF9A00 #FF6500".split(" "));var Rs=1,fca={LINEAR:Rs,H8:2,osa:3},Vs=function(){var a={};a[Rs]=function(a,c){a=$.N(a);return(c=$.N(c)-a)?function(b){return($.N(b)-a)/c;}:function(){return 0;};};a[2]=function(a,c){a=$.$m(Math.abs($.N(a)));return(c=$.$m(Math.abs($.N(c)))-a)?function(b){return($.$m(Math.abs($.N(b)))-a)/c;}:function(){return 0;};};a[3]=function(a,c){a=Ls(a);return(c=Ls(c)-a)?function(b){return(Ls(b)-a)/c;}:function(){return 0;};};return a;}(),Ws=function(){var a={};a[Rs]=function(a,c){a=$.N(a);return(c=$.N(c)-a)?function(b){return b*c+a;}:function(){return a;};};a[2]=function(a,c){var b=$.N(a),e=$.N(c),f=$.fb(b)||$.fb(e);a=$.$m(Math.abs(b));return(c=$.$m(Math.abs(e))-a)?function(b){return an(Math.E,b*c+a)*f;}:function(){return b;};};a[3]=function(a,c){a=Ls(a);return(c=Ls(c)-a)?function(b){return Math.round(b*c+a);}:function(){return a;};};return a;}();Ss.prototype.transform=function(a){this.f||(this.f=Xs(this.G,this.i,this.D,this.j,[],Rs));return this.f(a);};Ss.prototype.Jc=function(a){this.b||(this.b=Xs(this.i,this.G,[],Rs,this.D,this.j));return this.b(a);};Ss.prototype.we=function(a){return $.n(a)?(this.i=$.Ja(a,0),this.f=this.b=null,this):$.Ja(this.i,0);};$.H(Ys,$.U);$.g=Ys.prototype;$.g.pa=2;$.g.Np=null;$.g.nn=4;$.g.lm=null;$.g.hv=null;$.g.uba=function(a,b,c,d,e,f){if($.n(a)){if(null===a)var h=null;else if($.z(a)&&1==arguments.length)h=Mn(a);else{if($.z(a))switch(a=$.Zk(a),b=$.N(b)||1,a){case"year":a="y";break;case"semester":a="m";b*=6;break;case"quarter":a="m";b*=4;break;case"month":a="m";break;case"third-of-month":a="d";b*=10;break;case"week":a="d";b*=7;break;case"day":a="d";break;case"hour":a="h";break;case"minute":a="n";break;case"second":a="s";break;case"millisecond":a="t";}h=new $.Ln(a,b,c,d,e,f);}var k;if(k=h&&this.Np)k=this.Np,k=h.Yh==k.Yh&&h.og==k.og&&h.Dg==k.Dg&&h.ai==k.ai&&h.Xj==k.Xj&&h.Gh==k.Gh;k||!h&&!this.Np||(h?(this.nn=window.NaN,this.Np=h):(this.nn=4,this.Np=null),this.hv=this.lm=null,this.va(2));return this;}return Nn(this.Np,!1);};$.g.UT=function(){this.scale.nb();var a=this.b;return a&&(a.Yh&&"year"||a.og&&(!(a.og%6)&&"semester"||!(a.og%3)&&"quarter"||"month")||a.Dg&&(!(a.Dg%7)&&"week"||"day")||a.ai&&"hour"||a.Xj&&"minute"||a.Gh&&(!(a.Gh%1)&&"second"||"millisecond"))||"millisecond";};$.g.VT=function(){this.scale.nb();var a=this.b;return a&&(a.Yh||a.og&&(!(a.og%6)&&a.og/6||!(a.og%3)&&a.og/3||a.og)||a.Dg&&(!(a.Dg%7)&&a.Dg/7||a.Dg)||a.ai||a.Xj||a.Gh&&(!(a.Gh%1)&&a.Gh||1E3*a.Gh))||0;};$.g.count=function(a){return $.n(a)?(this.nn!=a&&(this.Np=null,this.nn=(0,window.isNaN)(a)||2>a?4:Math.ceil(+a),this.hv=this.lm=null,this.va(2)),this):this.nn;};$.g.set=function(a){if(this.lm!=a){this.nn=window.NaN;this.Np=null;this.lm=(0,$.Wa)(a,function(a){return $.ts(a);});$.Pa(this.lm);for(var b=this.lm[0],c=1,d=1;d<this.lm.length;d++){var e=this.lm[d];e!=b&&(this.lm[c++]=e);b=e;}this.lm.length=a.length?c:0;this.hv=null;this.va(2);}return this;};$.g.get=function(){var a=this.dk();return(0,$.Ze)(a,this.Qea,this);};$.g.dk=function(){if(this.lm)var a=this.lm;else this.scale.nb(),a=this.hv;return a||[];};$.g.Qea=function(a){a=this.scale.transform(a);return!(0>a||1<a);};$.g.vB=function(a,b,c,d){this.hv=null;if(!this.lm){var e=[],f=this.Np,h=this.nn;f&&(d-c)/Ap(f)>this.scale.Zm()&&($.kl(20,null,[d-c,Ap(f)]),f=null,this.nn=4);f||(f=Zs(this,a,b,!0));a=new $.Tn(new Date(c));d=new $.Tn(new Date(d));for(b=0;0>=a.getTime()-d.getTime()&&b<this.scale.Zm();a.add(f),b++)e.push(a.getTime());this.hv=e;this.nn=h;this.b=f;}};$.g.uB=function(a,b,c,d){this.hv=null;var e=[a,b];if(!this.lm){var f=[],h=this.Np,k=this.nn;h&&(b-a)/Ap(h)>this.scale.Zm()&&($.kl(20,null,[b-a,Ap(h)]),h=null,this.nn=4);h||(h=Zs(this,a,b,!1));var l=$.Yo(a,h,0),m=new $.Tn(new Date(l));c?e[0]=l:l<a&&m.add(h);a=new $.Tn(new Date(b));for(b=0;0>=m.getTime()-a.getTime()&&b<this.scale.Zm();m.add(h),b++)f.push(m.getTime());d&&(!f.length||f[f.length-1]<a.getTime())&&f.push(e[1]=m.getTime());this.hv=f;this.nn=k;this.b=h;}return e;};var ica=[1,2,5,10,20,50,100,200,500,1E3,2E3,5E3,1E4,2E4,3E4,6E4,12E4,3E5,6E5,12E5,18E5,36E5,72E5,108E5,216E5,288E5,432E5,576E5,864E5,1728E5,6048E5,864E6,12096E5,18144E5,24192E5,2628E6,5256E6,7884E6,10512E6,15768E6,31536E6,63072E6],gca=[new $.Ln(Kn,.001),new $.Ln(Kn,.001),new $.Ln(Kn,.001),new $.Ln(Kn,.005),new $.Ln(Kn,.005),new $.Ln(Kn,.01),new $.Ln(Kn,.02),new $.Ln(Kn,.04),new $.Ln(Kn,.1),new $.Ln(Kn,.2),new $.Ln(Kn,.5),new $.Ln(Kn,1),new $.Ln(Kn,2),new $.Ln(Kn,5),new $.Ln(Kn,10),new $.Ln(Kn,20),new $.Ln(Kn,30),new $.Ln(Fn,1),new $.Ln(Fn,1),new $.Ln(Fn,5),new $.Ln(Fn,10),new $.Ln(Fn,20),new $.Ln(Fn,30),new $.Ln(En,1),new $.Ln(En,2),new $.Ln(En,2),new $.Ln(En,3),new $.Ln(En,4),new $.Ln(En,8),new $.Ln(En,12),new $.Ln(Dn,1),new $.Ln(Dn,2),new $.Ln(Dn,7),new $.Ln(Dn,7),new $.Ln(Dn,7),new $.Ln(Dn,7),new $.Ln(Cn,1),new $.Ln(Cn,1),new $.Ln(Cn,1),new $.Ln(Cn,2),new $.Ln(Cn,4),new $.Ln(Cn,6)],hca=[new $.Ln(Kn,.001),new $.Ln(Kn,.002),new $.Ln(Kn,.005),new $.Ln(Kn,.01),new $.Ln(Kn,.02),new $.Ln(Kn,.05),new $.Ln(Kn,.1),new $.Ln(Kn,.2),new $.Ln(Kn,.5),new $.Ln(Kn,1),new $.Ln(Kn,2),new $.Ln(Kn,5),new $.Ln(Kn,10),new $.Ln(Kn,20),new $.Ln(Kn,30),new $.Ln(Fn,1),new $.Ln(Fn,2),new $.Ln(Fn,5),new $.Ln(Fn,10),new $.Ln(Fn,20),new $.Ln(Fn,30),new $.Ln(En,1),new $.Ln(En,2),new $.Ln(En,3),new $.Ln(En,6),new $.Ln(En,8),new $.Ln(En,12),new $.Ln(En,16),new $.Ln(Dn,1),new $.Ln(Dn,2),new $.Ln(Dn,7),new $.Ln(Dn,10),new $.Ln(Dn,14),new $.Ln(Dn,21),new $.Ln(Dn,28),new $.Ln(Cn,1),new $.Ln(Cn,2),new $.Ln(Cn,3),new $.Ln(Cn,4),new $.Ln(Cn,6),new $.Ln(Bn,1),new $.Ln(Bn,2)];Ys.prototype.F=function(){var a=Ys.u.F.call(this);if(this.lm){for(var b=[],c=0;c<this.lm.length;c++)b.push(this.lm[c].getTime());a.explicit=b;}else this.Np?a.interval=Nn(this.Np):(0,window.isNaN)(this.nn)||(a.count=this.nn);return a;};Ys.prototype.Je=function(a,b){return $.A(b)?(this.set(b),!0):!1;};Ys.prototype.U=function(a,b){Ys.u.U.call(this,a,b);$.A(a.explicit)?this.set(a.explicit):this.lm=null;this.nn=Math.max(2,Math.ceil($.N(a.count)));this.Np=$.z(a.interval)?Mn(a.interval):null;this.hv=null;};var uF=Ys.prototype;uF.interval=uF.uba;uF.count=uF.count;uF.set=uF.set;uF.get=uF.get;uF.getIntervalUnit=uF.UT;uF.getIntervalUnitCount=uF.VT;var ht,ft,dt,vF;$.H($s,$.U);$.g=$s.prototype;$.g.pa=6;$.g.Wa=$.ia;$.g.Gr=function(a,b,c){return this.transform(a,c);};$.g.Jz=function(a){return a;};$.g.kH=function(){return this.QB;};$.g.xk=function(a){return $.Io(a);};$.g.Ne=function(a){return $.n(a)?(a=!!a,this.GD!=a&&(this.GD=a,this.jN(),this.va(2)),this):this.GD;};$.g.jN=function(){};$.g.zg=function(){this.Yr||this.zo();this.Yr++;return this;};$.g.Fg=function(a){return(this.Yr=Math.max(this.Yr-1,0))?!0:this.xC(!!a);};$.g.Nx=function(){return!1;};$.g.jD=function(){return 0;};$.g.WR=!1;$.g.gn=function(a){return $.n(a)?(a=this.WR?$.Ak(JE,a,"none"):"none",this.bY!=a&&(this.bY=a,this.va(6)),this):this.WR?this.bY:"none";};$.g.ix=function(a){return $.n(a)?(a=$.Ak(vda,a,"direct"),this.aY!=a&&(this.aY=a,"none"!=this.gn()&&this.va(6)),this):this.aY;};$.g.uE=function(a){return Number(a);};$.g.F=function(){var a=$s.u.F.call(this);a.type=this.La();a.inverted=this.Ne();return a;};$.g.U=function(a,b){$s.u.U.call(this,a,b);this.Ne(a.inverted);};ft=1;$.et=8;vF={};vF.linear=ft;vF.log=2;vF["date-time"]=4;vF.ordinal=$.et;vF["linear-color"]=32;vF["ordinal-color"]=16;dt=vF;var wF=$s.prototype;wF.inverted=wF.Ne;wF.startAutoCalc=wF.zg;wF.finishAutoCalc=wF.Fg;$.H($.nt,$s);$.g=$.nt.prototype;$.g.Zm=function(a){return $.n(a)?(a=$.Jo(a,1E3,!1),this.bl!=a&&(this.bl=a,this.Mc=!1,this.va(2)),this):this.bl;};$.g.sh=function(a){if($.n(a)){a=$.N(a);var b=(0,window.isNaN)(a);if(b!=this.Nn||!b&&a!=this.min)this.Nn=b,this.min=a,this.ft=window.NaN,this.Mc=!1,b&&this.va(4),this.va(2);return this;}this.nb();return this.min;};$.g.ci=function(a){if($.n(a)){a=$.N(a);var b=(0,window.isNaN)(a);if(b!=this.Ln||!b&&a!=this.max)this.Ln=b,this.max=a,this.Jq=window.NaN,this.Mc=!1,b&&this.va(4),this.va(2);return this;}this.nb();return this.max;};$.g.LQ=function(a){return $.n(a)?(a=!!a,this.sF!=a&&(this.sF=a,this.Nn&&(this.Mc=!1,this.va(6))),this):this.sF;};$.g.KQ=function(a){return $.n(a)?(a=!!a,this.rF!=a&&(this.rF=a,this.Ln&&(this.Mc=!1,this.va(6))),this):this.rF;};$.g.BB=function(a){return $.n(a)?(a=$.N(a),(0,window.isNaN)(a)&&(0,window.isNaN)(this.ft)||a==this.ft||(this.ft=a,this.min=window.NaN,this.Nn=!0,this.Mc=!1,this.va(4)),this):this.ft;};$.g.AB=function(a){return $.n(a)?(a=$.N(a),(0,window.isNaN)(a)&&(0,window.isNaN)(this.Jq)||a==this.Jq||(this.Jq=a,this.max=window.NaN,this.Ln=!0,this.Mc=!1,this.va(4)),this):this.Jq;};$.g.Ns=function(a){return $.n(a)?(a=+a||0,this.xI!=a&&(this.xI=a,this.Nn&&(this.Mc=!1,this.va(2))),this):this.xI;};$.g.Ls=function(a){return $.n(a)?(a=+a||0,this.rI!=a&&(this.rI=a,this.Ln&&(this.Mc=!1,this.va(2))),this):this.rI;};$.g.jN=function(){this.Mc=!1;};$.g.zo=function(){this.hia=this.bA;this.gia=this.aA;this.bA=window.Infinity;this.aA=-window.Infinity;this.Mc=this.vX=!1;};$.g.Wc=function(a){for(var b=0;b<arguments.length;b++){var c=+arguments[b];(0,window.isNaN)(c)&&(c=(0,window.parseFloat)(arguments[b]));(0,window.isNaN)(c)||(this.vX=!0,c<this.bA&&(this.bA=c,this.Mc=!1),c>this.aA&&(this.aA=c,this.Mc=!1));}return this;};$.g.xC=function(a){var b=this.hia!=this.bA||this.gia!=this.aA;b&&(this.Mc=!1,a||this.va(2));return b;};$.g.If=function(){return this.Nn||this.Ln;};$.g.transform=function(a){this.nb();return Number(this.Mq.transform(a));};$.g.nb=function(){this.Mc||(this.Mc=!0,this.TS(),this.iJ(),this.bx());};$.g.iJ=function(){};$.g.bx=function(){this.Mq||(this.Mq=new Ss());var a=this.UJ*this.QB;a=[-a,this.QB-a];this.GD&&a.reverse();this.Mq.we(a);};$.g.TS=function(){var a=!this.Nn;var b=!this.Ln,c="percent"==this.gn();a&&this.Wc(this.min);b&&this.Wc(this.max);this.vX||(this.bA=0,this.aA=c?100:1);var d=a?this.min:this.bA,e=b?this.max:this.aA;!a&&d>=this.ft&&(d=this.ft,a=!0);!b&&e<=this.Jq&&(e=this.Jq,b=!0);if($.Zm(d,e,1E-6)){if(d==e)var f=.5;else f=d.toExponential().split("e")[1],f=+("1e-"+Math.max(Math.abs(f)+1,5));b?d-=2*f:a?e+=2*f:(d-=f,e+=f);}c&&(a=b=!0);a=this.Lz(d,e,!a,!b,this.wJ,!0);this.min=a.min;this.max=a.max;this.Jx=a.Jx||0;};$.g.Lz=function(a,b,c,d,e,f){var h=b-a,k=h*this.xI;h*=this.rI;return{max:d?ot(b,h,e,f,1):b,min:c?ot(a,k,e,f,-1):a};};$.g.Jc=function(a){this.nb();return this.Mq.Jc(a);};$.g.F=function(){var a=$.nt.u.F.call(this);a.maximum=this.Ln?null:this.max;a.minimum=this.Nn?null:this.min;a.minimumGap=this.Ns();a.maximumGap=this.Ls();a.softMinimum=(0,window.isNaN)(this.ft)?null:this.ft;a.softMaximum=(0,window.isNaN)(this.Jq)?null:this.Jq;a.softMaximum=(0,window.isNaN)(this.Jq)?null:this.Jq;a.alignMinimum=this.sF;a.alignMaximum=this.rF;a.maxTicksCount=this.bl;return a;};$.g.U=function(a,b){$.nt.u.U.call(this,a,b);this.Ns(a.minimumGap);this.Ls(a.maximumGap);this.BB(a.softMinimum);this.AB(a.softMaximum);this.sh(a.minimum);this.ci(a.maximum);this.LQ(a.alignMinimum);this.KQ(a.alignMaximum);this.Zm(a.maxTicksCount);};var xF=$.nt.prototype;xF.maxTicksCount=xF.Zm;xF.minimum=xF.sh;xF.maximum=xF.ci;xF.extendDataRange=xF.Wc;$.H($.pt,$.nt);$.g=$.pt.prototype;$.g.xk=function(a){return!$.ts(a);};$.g.La=function(){return"date-time";};$.g.Wa=function(a){this.vh||(this.vh=new Ys(this),$.W(this,"ticks",this.vh),$.L(this.vh,this.ji,this));return $.n(a)?(this.vh.N(a),this):this.vh;};$.g.wb=function(a){this.Bi||(this.Bi=new Ys(this),$.W(this,"minorTicks",this.Bi),$.L(this.Bi,this.ji,this));return $.n(a)?(this.Bi.N(a),this):this.Bi;};$.g.Wc=function(a){for(var b=0;b<arguments.length;b++)$.pt.u.Wc.call(this,Ls(arguments[b]));return this;};$.g.bx=function(){$.pt.u.bx.call(this);Ts(this.Mq,[this.min,this.max]);Us(this.Mq,3);};$.g.iJ=function(){var a=this.Wa().uB(this.min,this.max,this.Nn&&this.sF,this.Ln&&this.rF);this.wb().vB(this.min,this.max,a[0],a[1]);this.Nn&&(this.min=a[0]);this.Ln&&(this.max=a[1]);};$.g.ji=function(a){$.X(a,2)&&(this.Mc=!1,this.va(2));};$.g.F=function(){var a=$.pt.u.F.call(this);a.ticks=this.Wa().F();a.minorTicks=this.wb().F();return a;};$.g.U=function(a,b){$.pt.u.U.call(this,a,b);this.Wa(a.ticks);this.wb(a.minorTicks);};$.g.R=function(){$.ud(this.vh,this.Bi);this.Bi=this.vh=null;$.pt.u.R.call(this);};var yF=$.pt.prototype;$.F("anychart.scales.dateTime",$.kt);yF.getType=yF.La;yF.ticks=yF.Wa;yF.minorTicks=yF.wb;yF.transform=yF.transform;yF.inverseTransform=yF.Jc;yF.extendDataRange=yF.Wc;yF.softMinimum=yF.BB;yF.softMaximum=yF.AB;yF.alignMinimum=yF.LQ;yF.alignMaximum=yF.KQ;yF.minimumGap=yF.Ns;yF.maximumGap=yF.Ls;$.H(rt,$.U);rt.prototype.pa=2;var Ida=new $.Ln(0,0,1),jca=new $.Ln(0,0,0,1);$.g=rt.prototype;$.g.s5=function(a){if($.n(a)){if("array"===$.ka(a)){for(var b=[],c=0;7>c;c++){b:{var d=a[c];if("object"===$.ka(d)&&"from"in d&&"to"in d){var e=+d.from;d=+d.to;if(e<d&&0<=e&&24>e&&0<d&&24>=d){e={from:e,to:d};break b;}}e=null;}b.push(e);}a=b.length?b:null;}else a=null;this.b=a;this.D={};this.j={};if(this.b)for(a=0;a<this.b.length;a++)this.b[a]||(this.j[String(a)]=!0);else this.j=qt(this.G);this.va(2);return this;}return this.b;};$.g.BA=function(a){if($.n(a)){if("array"===$.ka(a)){for(var b=[],c=0;c<a.length;c++){b:{var d=a[c];if("object"===$.ka(d)&&"day"in d&&"month"in d){var e=+d.day,f=+d.month;if(!(0,window.isNaN)(e)&&0<=f&&12>f){e={day:e,month:f};"year"in d&&(f=+d.year,(0,window.isNaN)(f)||(e.year=f));"label"in d&&(e.label=String(d.label));d=e;break b;}}d=null;}d&&b.push(d);}a=b.length?b:null;}else a=null;this.f=a;this.i={OY:{},BS:{}};this.D={};if(this.f)for(a=0;a<this.f.length;a++)c=this.f[a],b=c.year,c=($.n(b)?b+"-":"")+String(c.month)+"-"+String(c.day),$.n(b)?this.i.BS[c]=!0:this.i.OY[c]=!0;this.va(2);return this;}return this.f;};$.g.mD=function(a,b){var c=$.Xk(a),d=$.Xk(b),e=[];if((0,window.isNaN)(c)||(0,window.isNaN)(d))return e;c=$.Zo(c,"day",1,c);c=new Date(c);c=new $.Tn(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate());for(var f=c.getTime();f<d;){c.add(Ida);var h=c.getTime();var k=h-1E3;var l=new Date(f);var m=l.getUTCFullYear(),p=l.getUTCMonth(),q=l.getUTCDate(),r=l.getUTCDay();l=($.n(m)?m+"-":"")+p+"-"+q;var t=this.D[l];if(!$.n(t)){var u=!!this.j[r];t={isHoliday:!(!this.i.OY[($.n(void 0)?"undefined-":"")+p+"-"+q]&&!this.i.BS[l]),isWeekend:u,start:f,end:k,workingIntervals:[],notWorkingIntervals:[]};if(u)t.notWorkingIntervals.push({from:f,to:k});else if(f=t,k=r,this.b&&(m=new $.Tn(m,p,q),q=this.b[k]))p=q.from,q=q.to,k=m.getTime(),k=st(k,m,p,f.notWorkingIntervals),k=st(k,m,q-p,f.workingIntervals),st(k,m,24-q,f.notWorkingIntervals);this.D[l]=t;}l=t;e.push(l);f=h;}return e;};$.g.F=function(){var a=rt.u.F.call(this);this.b&&!$.Nc(this.b)&&(a.schedule=JSON.parse(JSON.stringify(this.b)));this.f&&!$.Nc(this.f)&&(a.holidays=JSON.parse(JSON.stringify(this.f)));return a;};$.g.U=function(a,b){rt.u.U.call(this,a,b);"schedule"in a&&this.s5(a.schedule);"holidays"in a&&this.BA(a.holidays);};var zF=rt.prototype;zF.schedule=zF.s5;zF.holidays=zF.BA;zF.getWorkingSchedule=zF.mD;$.H($.ut,$.U);$.ut.prototype.pa=6;var lca=200,kca=[[{unit:"minute",count:10},{unit:"hour",count:1},{unit:"day",count:1}],[{unit:"hour",count:2},{unit:"day",count:1},{unit:"month",count:1}],[{unit:"day",count:1},{unit:"week",count:1},{unit:"month",count:1}],[{unit:"month",count:1},{unit:"quarter",count:1},{unit:"year",count:1}],[{unit:"quarter",count:1},{unit:"year",count:1},{unit:"year",count:10}]];$.g=$.ut.prototype;$.g.La=function(){return"gantt";};$.g.WK=ba(7);$.g.Vj=function(){return(0,window.isNaN)(this.$e)&&(0,window.isNaN)(this.Ze)&&(0,window.isNaN)(this.Nh)&&(0,window.isNaN)(this.Mh);};$.g.reset=function(){this.Mh=this.Nh=this.Fj=this.Gj=this.Ze=this.$e=window.NaN;this.Mc=!1;};$.g.Fr=function(a,b){a=$.Xk(a);b=$.Xk(b);this.$e==a&&this.Ze==b||(0,window.isNaN)(b)||(0,window.isNaN)(a)||($.Gt(this),this.$e=a,this.Ze=b,this.Mc=!1,this.nb(),this.va(4));return this;};$.g.Om=function(){if(this.Vj())this.d4=!0;else{this.d4=!1;var a=this.Yl.isPixels,b=this.Xl.isPixels;a&&b?yt(this):a?zt(this,!0):b?zt(this,!1):this.vj();this.$e=this.Gj;this.Ze=this.Fj;this.Mc=!0;this.va(4);}return this;};$.g.Rr=function(a,b){var c=1/(a||1.25),d=$.n(b)?b:.5;$.Gt(this);if(!this.Vj()){var e=this.Ze-this.$e,f=this.$e-Math.round(e*(c-1)*d);c=this.Ze+Math.round(e*(c-1)*(1-d));6E4>=Math.abs(f-c)&&(c=(this.$e+this.Ze)/2,f=c-3E4,c+=3E4);this.Fr(f,c);}return this;};$.g.Sr=function(a,b){var c=a||1.25,d=$.n(b)?b:.5;$.Gt(this);if(!$.At(this)||!$.Bt(this)){var e=this.$e-Math.round((this.Ze-this.$e)*(c-1)*d);c=this.Ze+Math.round((this.Ze-this.$e)*(c-1)*(1-d));this.vj();if($.Ft(this)){d=this.Vq.ob().width;if(this.Yl.isPixels){var f=$.xt(this.Yl.value,d);this.Gj=this.Nh-Math.round((f/d||0)*(c-e));}this.Xl.isPixels&&(f=$.xt(this.Xl.value,d),this.Fj=this.Mh+Math.round((f/d||0)*(c-e)));}if(e<this.Gj||c>this.Fj){if(e<this.Gj&&c>this.Fj)return this.Om(),this;e<this.Gj&&this.Fr(this.Gj,c+(this.Gj-e));c>this.Fj&&this.Fr(e-(c-this.Fj),this.Fj);}else this.Fr(e,c);}return this;};$.g.lj=function(a,b,c){if($.Ft(this)&&$.ea(a)&&$.ea(b)){c=this.Yl.isPixels;var d=this.Xl.isPixels;c&&d?yt(this):c?zt(this,!0):d&&zt(this,!1);d=this.Mh-this.Nh;c=b-a;if(c>=this.Fj-this.Gj)this.$e=this.Gj,this.Ze=this.Fj;else{this.$e=Math.min(a,b);this.Ze=Math.max(a,b);var e=$.Ct(this,d,this.Yl),f=$.Ct(this,d,this.Xl);e=(0,window.isNaN)(this.Ym)?(0,window.isNaN)(this.Ho)?this.Nh-e:Math.min(this.Ho,this.Nh):this.Ym;f=(0,window.isNaN)(this.Xm)?(0,window.isNaN)(this.Go)?this.Mh+f:Math.max(this.Go,this.Mh):this.Xm;a<e?(this.$e=e,this.Ze=this.$e+c):b>f&&(this.Ze=f,this.$e=this.Ze-c);}this.Gj=e;this.Fj=f;this.Mc=!0;this.Vj()&&(this.FI=!0,this.CI=[a,b]);this.va(4);a=this;}else a:{this.nb();if($.z(a)){if(0===b){a=this;break a;}f=$.Ak(xda,c,$.n(void 0)?void 0:"first-visible-date");e=$.$o($.Zk(a,"day"),b||1);switch(f){case"first-date":d=this.Nh;break;case"last-date":d=this.Mh;e=e.b(-1);break;case"last-visible-date":d=this.Ze;e=e.b(-1);break;case"first-visible-date":d=this.$e;}d=new $.Tn($.ts(d));f=$.Xk(d);d.add(e);d=$.Xk(d);e=Math.min(f,d);d=Math.max(f,d);f=d-e;}else e=a,d=b,$.n(b)?f=b-a:(f=this.Ze-this.$e,d=a+f);var h=this.vj();f=Math.min(h.max-h.min,f);d>h.max&&(d=h.max,e=d-f);e<h.min&&(e=h.min,d=e+f);this.Vj()&&(this.FI=!0,this.CI=[a,b,c]);a=this.Fr(e,d);}return a;};$.g.Nx=function(){return!1;};$.g.zA=function(a){$.X(a,2)&&this.va(2);};$.g.tj=function(){this.nb();return this.Vj()?vt(this):{min:this.$e,max:this.Ze};};$.g.vj=function(){if((0,window.isNaN)(this.Gj))if((0,window.isNaN)(this.Ym)){if((0,window.isNaN)(this.Ho)){var a=((0,window.isNaN)(this.Xm)?(0,window.isNaN)(this.Go)?this.Mh:Math.max(this.Mh,this.Go):this.Xm)-this.Nh;a=$.Ct(this,a,this.Yl);this.Gj=this.Nh-a;}else this.Gj=Math.min(this.Ho,this.Nh);}else this.Gj=this.Ym;(0,window.isNaN)(this.Fj)&&((0,window.isNaN)(this.Xm)?(0,window.isNaN)(this.Go)?(a=this.Mh-((0,window.isNaN)(this.Ym)?(0,window.isNaN)(this.Ho)?this.Nh:Math.min(this.Nh,this.Ho):this.Ym),a=$.Ct(this,a,this.Xl),this.Fj=this.Mh+a):this.Fj=Math.max(this.Go,this.Mh):this.Fj=this.Xm);return this.Vj()?vt(this):{min:this.Gj,max:this.Fj};};$.g.sh=function(a){$.n(a)&&(a=$.Xk(a),this.Ym!=a&&(this.Ym=a,this.Gj=window.NaN,this.Mc=!1,this.va(4)));return this.Ym;};$.g.ci=function(a){$.n(a)&&(a=$.Xk(a),this.Xm!=a&&(this.Xm=a,this.Fj=window.NaN,this.Mc=!1,this.va(4)));return this.Xm;};$.g.BB=function(a){$.n(a)&&(a=$.Xk(a),this.Ho!=a&&(this.Ho=a,this.Gj=window.NaN,this.Mc=!1,this.va(4)));return this.Ho;};$.g.AB=function(a){$.n(a)&&(a=$.Xk(a),this.Go!=a&&(this.Go=a,this.Fj=window.NaN,this.Mc=!1,this.va(4)));return this.Go;};$.g.zT=function(a){return $.n(a)?(a=$.Za(a,1,12),this.nA!=a&&(this.nA=a,this.Mc=!1,this.va(4)),this):this.nA;};$.g.yT=function(a){return $.n(a)?(a=+a,(0,window.isNaN)(a)||this.LG==a||(this.LG=a,this.Mc=!1,this.va(4)),this):this.LG;};$.g.transform=function(a){return $.Ht(this,a);};$.g.Jc=function(a){return $.It(this,a);};$.g.sz=function(a){return $.n(a)?(a=tt(a),a.length==this.gd.length&&(0,$.qD)(a,function(a,c){var b=this.gd[c].levels;return a.levels.length==b.length&&(0,$.qD)(a.levels,function(a,c){return a.unit==b[c].unit&&a.count==b[c].count;});},this)||(this.gd=a,this.Mc=!1,this.va(516)),this):(0,$.Wa)(this.gd,function(a){return(0,$.Wa)(a.levels,function(a){return{unit:a.unit,count:a.count};});});};$.g.Zm=function(a){return $.n(a)?(a=$.Jo(a,1E3,!1),this.bl!=a&&(this.bl=a,this.Mc=!1,this.va(516)),this):this.bl;};$.g.calendar=function(a){if($.n(a))return this.ie!=a&&(this.ie&&$.or(this.ie,this.zA,this),(this.ie=a)&&$.L(this.ie,this.zA,this),this.va(2)),this;this.ie||(this.ie=new rt(),$.L(this.ie,this.zA,this),this.va(2));return this.ie;};$.g.Ns=function(a,b){if($.n(a)){var c=Dt(a,b);Et(this.Yl,c)||(this.Yl=c,this.Gj=window.NaN,this.Mc=!1,this.va(4));return this;}return this.Yl.isPixels?this.Yl:this.Yl.value;};$.g.Ls=function(a,b){if($.n(a)){var c=Dt(a,b);Et(this.Xl,c)||(this.Xl=c,this.Fj=window.NaN,this.Mc=!1,this.va(4));return this;}return this.Xl.isPixels?this.Xl:this.Xl.value;};$.g.nb=function(){if(!this.Mc&&!this.Vj()){this.Mc=!0;var a=this.vj(),b=a.min;a=a.max;(0,window.isNaN)(b)?(0,window.isNaN)(this.$e)||(this.Nh=this.$e):(0,window.isNaN)(this.$e)?this.$e=b:this.$e=Math.max(this.$e,b);(0,window.isNaN)(a)?(0,window.isNaN)(this.Ze)||(this.Mh=this.Ze):(0,window.isNaN)(this.Ze)?this.Ze=a:this.Ze=Math.min(this.Ze,a);if(this.$e>this.Ze){var c=this.$e-this.Ze;this.$e=Math.max(this.Ze,b);this.Ze=Math.min(this.$e+c,a);}}};$.g.Dn=function(a,b,c,d,e){a=e||this.tj();e=c;b=this.tj();c=b.min;var f=b.max;b=new $.Tn(new Date(c));c=f-c;do{f=$.$o(e,d);var h=b.clone();b.add(f);f=Math.ceil(c/(b.getTime()-h.getTime()));if(f>this.bl)switch(e){case"millisecond":e="second";d=1;break;case"second":59>d?d++:(d=1,e="minute");break;case"minute":59>d?d++:(d=1,e="hour");break;case"hour":23>d?d++:(d=1,e="day");break;case"day":29>d?d++:(d=1,e="month");break;case"month":11>d?d++:(d=1,e="year");break;default:d++;}}while(f>this.bl);c=e;b=$.Zo(a.min,c,d,2E3);e=$.$o(c,d);a=a.max;d=[];if(1<this.nA&&("year"===c||"semester"===c||"quarter"===c)){if(c=this.nA,1<c?(f=new Date(b),c=Date.UTC(f.getUTCFullYear(),f.getUTCMonth()+c-1,f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds())):c=b,c>b){f=e.b(-1);var k=new $.Tn(new Date(c));do k.add(f),c=k.getTime();while(c>b);}}else k=new $.Tn(new Date(b));for(c=k.getTime();c<a;)b=c,k.add(e),c=k.getTime(),d.push({start:b,end:c});return d;};$.g.mD=function(){if(this.ie){this.nb();var a=this.tj();return this.ie.mD(a.min,a.max);}return[];};$.g.F=function(){var a=$.ut.u.F.call(this);(0,window.isNaN)(this.$e)||(a.visibleMinimum=this.$e);(0,window.isNaN)(this.Ze)||(a.visibleMaximum=this.Ze);(0,window.isNaN)(this.Ym)||(a.minimum=this.Ym);(0,window.isNaN)(this.Xm)||(a.maximum=this.Xm);(0,window.isNaN)(this.Ho)||(a.softMinimum=this.Ho);(0,window.isNaN)(this.Go)||(a.softMaximum=this.Go);(0,window.isNaN)(this.Nh)||(a.dataMinimum=this.Nh);(0,window.isNaN)(this.Mh)||(a.dataMaximum=this.Mh);a.minimumGap=this.Yl;a.maximumGap=this.Xl;a.maxTicksCount=this.bl;a.zoomLevels=this.sz();1<this.nA&&(a.fiscalYearStartMonth=this.nA);this.LG&&(a.fiscalYearOffset=this.LG);if(this.ie){var b=this.ie.F();$.Nc(b)||(a.calendar=b);}return a;};$.g.U=function(a,b){$.ut.u.U.call(this,a,b);this.Ns(a.minimumGap);this.Ls(a.maximumGap);"minimum"in a&&this.sh(a.minimum);"maximum"in a&&this.ci(a.maximum);"softMinimum"in a&&this.BB(a.softMinimum);"softMaximum"in a&&this.AB(a.softMaximum);var c=!1;"dataMinimum"in a&&(this.Nh=a.dataMinimum,c=!0);"dataMaximum"in a&&(this.Mh=a.dataMaximum,c=!0);"visibleMinimum"in a&&(this.$e=a.visibleMinimum,c=!0);"visibleMaximum"in a&&(this.Ze=a.visibleMaximum,c=!0);"zoomLevels"in a&&this.sz(a.zoomLevels);"fiscalYearStartMonth"in a&&this.zT(a.fiscalYearStartMonth);"fiscalYearOffset"in a&&this.yT(a.fiscalYearOffset);"maxTicksCount"in a&&this.Zm(a.maxTicksCount);"calendar"in a&&this.calendar().U(a.calendar);c&&(this.Mc=!1,this.nb(),this.va(4));};var AF=$.ut.prototype;AF.getRange=AF.tj;AF.getTotalRange=AF.vj;AF.minimum=AF.sh;AF.maximum=AF.ci;AF.softMinimum=AF.BB;AF.softMaximum=AF.AB;AF.minimumGap=AF.Ns;AF.maximumGap=AF.Ls;AF.fiscalYearStartMonth=AF.zT;AF.fiscalYearOffset=AF.yT;AF.transform=AF.transform;AF.inverseTransform=AF.Jc;AF.zoomLevels=AF.sz;AF.maxTicksCount=AF.Zm;AF.calendar=AF.calendar;$.H($.Kt,$.U);$.g=$.Kt.prototype;$.g.pa=2;$.g.Hl=window.NaN;$.g.kh=4;$.g.mm=6;$.g.Gl=null;$.g.Fl=null;$.g.Uc=0;$.g.Bm="linear";$.g.LZ=function(a){return $.n(a)?(this.b!=a&&(this.b=a,"logarithmic"!=this.Bm&&this.va(2)),this):this.b;};$.g.wba=function(a){return $.n(a)?(this.Hl!=a&&(a=$.N(a),0>=a?(this.kh=4,this.mm=6,this.Hl=window.NaN):(this.mm=this.kh=window.NaN,this.Hl=+a),this.Fl=this.Gl=null,this.va(2)),this):this.Hl;};$.g.count=function(a,b){return $.n(a)?(this.kh!=a&&(this.Hl=window.NaN,this.kh=Math.ceil($.N(a)),this.mm=Math.ceil($.N(b)),2<=this.kh||(this.kh=4),this.mm>=this.kh||(this.mm=this.kh),this.Fl=this.Gl=null,this.va(2)),this):[this.kh,this.mm];};$.g.XE=ba(9);$.g.OF=function(a){return $.n(a)?(a=+a||0,this.Uc!=a&&(this.Uc=a,this.Fl=null,this.Gl||this.va(2)),this):this.Uc;};$.g.set=function(a){$.Ta(this.Gl,a)||(this.Hl=this.mm=this.kh=window.NaN,this.Gl=$.Ja(a,0),$.Ka(this.Gl),$.Pa(this.Gl,$.uo),this.Fl=null,this.va(2));return this;};$.g.get=function(){var a=this.dk();return(0,$.Ze)(a,function(a){a=this.transform(a);return 0<=a&&1>=a;},this.qa);};$.g.dk=function(){if(this.Gl)var a=this.Gl;else this.qa.nb(),a=this.Fl;return a||[];};$.g.mode=function(a){return $.n(a)?(a=String(a).toLowerCase(),a="log"==a||"logarithmic"==a?"logarithmic":"linear",this.Bm!=a&&(this.Fl=null,this.Bm=a,this.Gl||this.va(2)),this):this.Bm;};$.g.uB=function(a,b,c,d,e,f){this.Gl?(this.Fl=null,e=[a,b],c&&(e[0]=Math.min(a,this.Gl[0]||0)),d&&(e[1]=Math.max(b,this.Gl[this.Gl.length-1]||0))):(a="logarithmic"==this.Bm?mca(this,a,b,e||10,f||0,!!c,!!d):Lt(this,a,b,!!c,!!d,this.b,this.Uc),this.Fl=a.Wa,e=a.result);return e;};$.g.vB=function(a,b,c,d,e){if(this.Gl)this.Fl=null;else if(this.Fl?this.Fl.length=0:this.Fl=[],!(2>a.length)){b=b||10;var f="logarithmic"==this.Bm,h=f?this.C$:this.vba,k=a.length-1,l=this.Hl,m=this.kh;if(!(0,window.isNaN)(this.Hl)){var p=a[k];var q=a[0];f&&(q=$.$m(q,b),p=$.$m(p,b));(p-q)/this.Hl>this.qa.Zm()&&($.kl(20,null,[p-q,this.Hl]),this.Hl=window.NaN,this.kh=4);}$.n(c)?(q=a[0],p=a[1],h.call(this,q,p,c,p,this.kh,b,e||0,!0),q=1):q=0;$.n(d)&&k--;for(c=q;c<=k-1;c++)q=a[c],p=a[c+1],h.call(this,q,p,q,p,this.kh,b,e||0);$.n(d)&&(q=a[k],p=a[k+1],h.call(this,q,p,q,d,this.kh,b,e||0));this.Hl=l;this.kh=m;}};$.g.vba=function(a,b,c,d,e,f,h,k){Mt(this,a,b,Nt(this,c,d,e),this.Fl[this.Fl.length-1],this.Fl,k);};$.g.C$=function(a,b,c,d,e,f,h){function k(a){return 0>a?-m(-a+h-1):a?m(a+h-1):0;}function l(a){return-m(a);}function m(a){return an(f,a);}var p=$.$m(Math.abs(c),f),q=$.$m(Math.abs(d),f),r=$.$m(Math.abs(a),f),t=$.$m(Math.abs(b),f);d*=c;c=!1;0<d?0<a?k=m:(a=q,q=p,p=a,a=t,t=r,r=a,k=l,c=!0):(r=-(r-h+1),t-=h-1,p=-(p-h+1),q-=h-1,d||(b?r=p=0:t=q=0));e=Mt(this,r,t,Nt(this,p,q,e),window.NaN);e=(0,$.Wa)(e,k);c&&e.reverse();this.Fl[this.Fl.length-1]==e[0]&&e.shift();this.Fl=$.Ga(this.Fl,e);};$.g.F=function(){var a=$.Kt.u.F.call(this);a.mode=this.Bm;a.base=this.Uc;a.allowFractional=this.b;this.Gl?a.explicit=this.Gl:(this.kh==this.mm?(0,window.isNaN)(this.kh)||(a.count=this.kh):((0,window.isNaN)(this.kh)||(a.minCount=this.kh),(0,window.isNaN)(this.mm)||(a.maxCount=this.mm)),(0,window.isNaN)(this.Hl)||(a.interval=this.Hl));return a;};$.g.Je=function(a,b){return $.A(b)?(this.set(b),!0):!1;};$.g.U=function(a,b){$.Kt.u.U.call(this,a,b);this.mode(a.mode);this.OF(a.base);this.Gl=a.explicit||null;this.kh=$.N(a.count)||$.N(a.minCount)||window.NaN;this.mm=$.N(a.count)||$.N(a.maxCount)||window.NaN;this.Hl=$.N(a.interval)||window.NaN;this.LZ(a.allowFractional);this.Gl?this.kh=this.mm=this.Hl=window.NaN:this.Hl?this.kh=this.mm=window.NaN:(this.kh=Math.ceil($.N(this.kh)),this.mm=Math.ceil($.N(this.mm)),2<=this.kh||(this.kh=4),this.mm>=this.kh||(this.mm=this.kh));};var BF=$.Kt.prototype;BF.interval=BF.wba;BF.allowFractional=BF.LZ;BF.count=BF.count;BF.base=BF.OF;BF.set=BF.set;BF.get=BF.get;BF.mode=BF.mode;$.H($.Ot,$.nt);$.g=$.Ot.prototype;$.g.hL="none";$.g.hS="first-visible";$.g.La=function(){return"linear";};$.g.uE=function(a,b){for(var c=this.Wa().dk(),d=0,e=0;e<c.length-1;e++)d=Math.max(d,$.Xm($.Ym(c[e+1]-c[e])));return $.Wm(Number(a),d+((0,window.isNaN)(b)?0:Number(b)));};$.g.Wa=function(a){this.vh||(this.vh=this.ol(),$.W(this,"ticks",this.vh));return $.n(a)?(this.vh.N(a),this):this.vh;};$.g.wb=function(a){this.Bi||(this.Bi=this.ol(),$.W(this,"minorTicks",this.Bi),$.V(this.Bi),this.Bi.count(5),this.Bi.da(!1));return $.n(a)?(this.Bi.N(a),this):this.Bi;};$.g.jY=function(a){return $.n(a)?(a=!!a,a!=this.wJ&&(this.wJ=a,this.Nn||this.Ln)&&(this.Mc=!1,this.va(4)),this):this.wJ;};$.g.bx=function(){$.Ot.u.bx.call(this);Ts(this.Mq,[this.min,this.max]);};$.g.iJ=function(){var a=this.Nn&&this.min!=this.ft&&this.sF,b=this.Ln&&this.max!=this.Jq&&this.rF;a=this.Wa().uB(this.min,this.max,a,b,this.vw,this.Jx||0);(0,window.isNaN)(a[4])||(this.Jx=a[4]);this.Nn&&(this.min=a[0]);this.Ln&&(this.max=a[1]);b=this.wb();var c=this.Wa().dk();b.vB(c,this.vw,a[2],a[3],this.Jx);};$.g.ji=function(a){$.X(a,2)&&(this.Mc=!1,this.va(2));};$.g.ol=function(){var a=new $.Kt(this);$.L(a,this.ji,this);return a;};$.g.Tz=function(a){if($.n(a)){a=$.Ak(JE,a,"none");if(this.hL!=a){this.hL=a;switch(this.hL){case"none":this.JK=this.B3;break;case"value":this.JK=this.G3;break;case"percent":this.JK=this.C3;}this.va(6);}return this;}return this.hL;};$.g.r0=function(a){return $.n(a)?(a=$.Yk(a),this.hS!=a&&(this.hS=a,this.va(6)),this):this.hS;};$.g.Jz=function(a,b){return this.JK(a,b);};$.g.B3=function(a){return a;};$.g.G3=function(a,b){return $.N(a)-b;};$.g.C3=function(a,b){return($.N(a)-b)/Math.abs(b||window.NaN)*100;};$.g.F=function(){var a=$.Ot.u.F.call(this);a.ticks=this.Wa().F();a.minorTicks=this.wb().F();a.stackMode=this.gn();a.stackDirection=this.ix();a.stickToZero=this.jY();a.comparisonMode=this.Tz();return a;};$.g.U=function(a,b){$.Ot.u.U.call(this,a,b);this.Wa(a.ticks);this.wb(a.minorTicks);this.gn(a.stackMode);this.ix(a.stackDirection);this.jY(a.stickToZero);this.Tz(a.comparisonMode);};$.g.R=function(){$.ud(this.vh,this.Bi);this.Bi=this.vh=null;$.Ot.u.R.call(this);};var CF=$.Ot.prototype;$.F("anychart.scales.linear",$.it);CF.transform=CF.transform;CF.inverseTransform=CF.Jc;CF.getType=CF.La;CF.ticks=CF.Wa;CF.minorTicks=CF.wb;CF.stackMode=CF.gn;CF.stackDirection=CF.ix;CF.stickToZero=CF.jY;CF.softMinimum=CF.BB;CF.softMaximum=CF.AB;CF.alignMinimum=CF.LQ;CF.alignMaximum=CF.KQ;CF.minimumGap=CF.Ns;CF.maximumGap=CF.Ls;CF.comparisonMode=CF.Tz;CF.compareWith=CF.r0;$.H(Pt,$.Ot);$.g=Pt.prototype;$.g.gI=function(a){return $.n(a)?(a=(0,window.isNaN)(+a)?this.vw:+a,a!=this.vw&&(this.vw=a,this.va(2)),this):this.vw;};$.g.La=function(){return"log";};$.g.bx=function(){Pt.u.bx.call(this);var a=this.min,b=this.max,c=this.gI(),d=$.Ym($.$m(Math.abs(a),c),6),e=$.Ym($.$m(Math.abs(b),c),6);var f=a*b;var h=this.Jx;c=an(c,h);0<f?(f=Vs[Rs](d,e),0>b?(a=[a,-c,c,-a],d=[0,f(h),f(h-2),f(h-2-d)]):(a=[-b,-c,c,b],d=[f(h-2-e),f(h-2),f(h),1])):0>f?(e=e-h+d-h+2,a=[a,-c,c,b],d=[0,(d-h)/e,(d-h+2)/e,1]):(e=e-h+d-h+1,b?(a=[-b,-c,c,b],d=[-(e+1)/e,-1/e,1/e,1]):(a=[a,-c,c,-a],d=[0,(e-1)/e,(e+1)/e,(e+e+1)/e]));h=this.Mq.we();f=Ws[Rs](h[0],h[1]);d=(0,$.Wa)(d,function(a){return $.Ym(a);});Ts(this.Mq,a);this.Mq.we((0,$.Wa)(d,f));Us(this.Mq,[2,Rs,2]);};$.g.Lz=function(a,b,c,d,e,f){e=this.gI();var h=$.$m(Math.abs(a),e),k=$.$m(Math.abs(b),e),l=Math.min(Math.floor(h),Math.floor(k),0);if(c||d){var m=a*b;0<m?0<a?c=Pt.u.Lz.call(this,h,k,c,d,!1,!1):(c=Pt.u.Lz.call(this,k,h,d,c,!1,!1),d=c.max,c.max=c.min,c.min=d):0>m?(2>k-l+h-l&&l--,c=Pt.u.Lz.call(this,-(h-(l-1)),k-(l-1),c,d,!1,!1),c.min=-c.min+l-1,c.max+=l-1):b?(c=Pt.u.Lz.call(this,0,k-(l-1),!1,d,!1,!1),c.max+=l-1):(c=Pt.u.Lz.call(this,-(h-(l-1)),0,c,!1,!1,!1),c.min=-c.min+l-1);c={max:an(e,c.max)*$.fb(b),min:an(e,c.min)*$.fb(a),Jx:l};f&&(c.min=$.Ym(c.min),c.max=$.Ym(c.max));}else c={min:a,max:b,Jx:l};return c;};$.g.F=function(){var a=Pt.u.F.call(this);a.logBase=this.gI();return a;};$.g.U=function(a,b){Pt.u.U.call(this,a,b);this.gI(a.logBase);};var DF=Pt.prototype;$.F("anychart.scales.log",$.jt);DF.getType=DF.La;DF.transform=DF.transform;DF.inverseTransform=DF.Jc;DF.logBase=DF.gI;$.H($.Qt,$.U);$.g=$.Qt.prototype;$.g.pa=2;$.g.Cx=window.NaN;$.g.Qf=null;$.g.Gz=null;$.g.hq=null;$.g.Bx=null;$.g.Mk=null;$.g.Hz=100;$.g.zK=function(a){return $.n(a)?(a=$.Jo(a,window.NaN),(0,window.isNaN)(a)||this.Cx==a||(this.Cx=a,this.Hz=window.NaN,this.Mk=this.Bx=this.hq=this.Gz=null,this.va(2)),this):this.Cx;};$.g.dW=function(a){return $.n(a)?(a=$.Jo(a,window.NaN),(0,window.isNaN)(a)||this.Hz==a||(this.Hz=a,this.Cx=window.NaN,this.Mk=this.Bx=this.hq=this.Gz=null,this.va(2)),this):this.Hz;};$.g.set=function(a){$.Ta(this.hq,a)||(this.hq=$.Ha(a),this.hq=(0,$.Wa)(this.hq,function(a){return $.N(a);}),$.Pa(this.hq),$.Ka(this.hq),this.hq[0]=0,this.Mk=this.Bx=this.Gz=null,this.va(2));return this;};$.g.names=function(a){if($.n(a))return this.Qf!=a&&(this.Qf=a,this.va(2)),this;a=this.dk();var b;if(this.Qf&&this.Qf.length<a.length||!this.Mk){var c=this.scale.names();this.Mk=[];for(b=0;b<a.length;b++){var d=$.A(a[b])?a[b][0]:a[b];var e=this.scale.Vv(d);(0,window.isNaN)(e)?this.Mk.push(d):this.Mk.push(c[e]);}}if(this.Qf)for(;this.Qf.length<a.length;)this.Qf.push(this.Mk[this.Qf.length]);d=this.Qf||this.Mk;c=Math.min(d.length,a.length);e=[];for(b=0;b<c;b++){var f=a[b];if($.A(f)){var h=f[0];f=f[1];}else h=f;h=this.scale.transform(h,0);f=this.scale.transform(f,1);0>h&&0>f||1<h&&1<f||e.push(d[b]);}return e;};$.g.get=function(){return(0,$.Ze)(this.dk(),function(a){if($.A(a)){var b=a[0];a=a[1];}else b=a;b=this.transform(b,0);a=this.transform(a,1);return!(0>b&&0>a||1<b&&1<a);},this.scale);};$.g.dk=function(){if(this.Gz)return this.Gz;if(this.hq)return this.Gz=this.ZV(this.hq);this.Bx||(this.Bx=this.ZV(this.d0()));return this.Bx||[];};$.g.d0=function(){var a=this.scale.values().length;var b=(0,window.isNaN)(this.Cx)?Math.ceil(a/this.Hz)||1:this.Cx;for(var c=[],d=0;d<a;d+=b)c.push(d);return c;};$.g.ZV=function(a){var b=a.length||0,c=this.scale.values(),d=c.length;if(!b||!d)return[];for(var e=[],f=!1,h=0;h<b&&!f;h++){var k=a[h],l=a[h+1];(0,window.isNaN)(l)||l>=d?(l=d-1,f=!0):l--;e.push(k==l?c[k]:[c[k],c[l]]);}return e;};$.g.XE=ba(8);$.g.F=function(){var a=$.Qt.u.F.call(this);this.hq?a.explicit=this.hq:(0,window.isNaN)(this.Hz)?(0,window.isNaN)(this.Cx)||(a.interval=this.Cx):a.maxCount=this.Hz;this.Qf&&(a.names=this.Qf);return a;};$.g.Je=function(a,b){return $.A(b)?(this.set(b),!0):!1;};$.g.U=function(a,b){$.Qt.u.U.call(this,a,b);"explicit"in a&&a.explicit?this.set(a.explicit):"interval"in a?this.zK(a.interval):"maxCount"in a&&this.dW(a.maxCount);this.Qf=a.names||null;this.Mk=this.Bx=null;};var EF=$.Qt.prototype;EF.interval=EF.zK;EF.maxCount=EF.dW;EF.set=EF.set;EF.get=EF.get;EF.names=EF.names;$.H($.St,$s);$.g=$.St.prototype;$.g.La=function(){return"ordinal";};$.g.xk=function(a){return!$.n(a);};$.g.Wa=function(a){this.lb||(this.lb=new $.Qt(this),$.W(this,"ticks",this.lb),$.L(this.lb,this.ji,this));return $.n(a)?(this.lb.N(a),this):this.lb;};$.g.values=function(a,b){if(!$.n(a))return this.hh;if(null===a)this.LF||(this.LF=!0,this.va(4));else{this.LF=!1;var c=$.A(a);this.zo();c&&a.length?this.Wc.apply(this,a):this.Wc.apply(this,arguments);this.xC(!0)&&this.va(6);}return this;};$.g.names=function(a){if($.n(a)){if(null===a)this.Qf=[];else if($.A(a))this.Qf=$.Ha(a);else{if(!$.z(a)||this.Qf==a)return this;this.Qf=a;}this.Qn=null;$.Rt(this.Wa());this.va(2);return this;}if($.A(this.Qf)){this.Qn||(this.Qn=$.Ha(this.Qf));if(this.Qn.length<this.hh.length)for(;this.Qn.length!=this.hh.length;)this.Qn.push(this.hh[this.Qn.length]);return this.Qn;}return this.Mk||[];};$.g.Nx=function(){if(!this.Kr.length)return!1;for(var a=1;a<this.Kr.length&&this.Kr[a]==this.Kr[0];a++);return a!=this.Kr.length;};$.g.FY=function(a){if($.n(a))return $.Tt(this,a),this.KR=!this.Kr.length,this;if(this.Uw.length!=this.hh.length){for(var b=a=this.Uw.length=0,c=Math.min(this.Kr.length,this.hh.length),d=!1,e=0;e<c;e++){var f=$.N(this.Kr[e]);0<=f?(a+=f,b++,this.Uw.push(f)):(d=!0,this.Uw.push(void 0));}if(c<this.hh.length||d)for(a=0<b?a/b:1,b=0;b<this.hh.length;b++)this.Uw[b]||(this.Uw[b]=a);}return this.Uw;};$.g.Vv=function(a){a=+this.NB[$.vo(a)];return(0,window.isNaN)(a)?window.NaN:a;};$.g.zo=function(){this.j4=this.hh;this.hh=[];this.NB={};this.Qn=this.Mk=null;this.Uw.length=0;this.mz.length=0;this.lb&&$.Rt(this.lb);};$.g.xC=function(a){var b=!$.Ta(this.j4,this.hh);b&&(this.lb&&$.Rt(this.lb),a||this.va(2));return b;};$.g.Wc=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b],d=$.vo(c);$.n(this.NB[d])||(this.NB[d]=this.hh.length,this.hh.push(c));}return this;};$.g.If=function(){return this.LF;};$.g.jD=function(){return 1/this.hh.length*this.kH();};$.g.mode=function(a){return $.n(a)?(a=$.Ak(Gda,a,"discrete"),this.Bm!=a&&(this.Bm=a,this.va(6)),this):this.Bm;};$.g.transform=function(a,b){var c=this.Vv(a);if((0,window.isNaN)(c))return window.NaN;if(this.Nx())c=(b||0)*$.Ut(this)[c]+this.PJ[c];else{var d=this.hh.length;c=c/d+(b||0)/d;"continuous"===this.Bm&&(c=$.Za((c*d-.5)/(d-1),0,1));}d=(c-this.UJ)*this.QB;return this.GD?1-d:d;};$.g.Jc=function(a){a=bt(this,a);if(this.Nx()){$.Ut(this);for(var b=1;b<this.PJ.length&&!(a<=this.PJ[b]);b++);a=b-1;}else"continuous"===this.Bm&&(b=this.hh.length,a=(a*(b-1)+.5)/b),a=$.Za(Math.ceil(a*this.hh.length)-1,0,this.hh.length-1);return this.hh[a];};$.g.ji=function(a){$.X(a,2)&&this.va(2);};$.g.F=function(){var a=$.St.u.F.call(this);this.LF||(a.values=this.values());a.ticks=this.Wa().F();this.Qf.length&&(a.names=this.Qf);!this.KR&&this.Nx()&&(a.weights=this.Kr);a.mode=this.Bm;return a;};$.g.U=function(a,b){$.St.u.U.call(this,a,b);this.values(a.values);this.Wa(a.ticks);this.names(a.names);this.FY(a.weights);this.mode(a.mode);};$.g.R=function(){$.pd(this.lb);$.St.u.R.call(this);};var FF=$.St.prototype;$.F("anychart.scales.ordinal",$.lt);FF.getType=FF.La;FF.transform=FF.transform;FF.inverseTransform=FF.Jc;FF.ticks=FF.Wa;FF.values=FF.values;FF.names=FF.names;FF.extendDataRange=FF.Wc;FF.weights=FF.FY;$.g=Wt.prototype;$.g.mapping=function(a){if($.n(a)){if($.C(a)){this.Zc.length=0;for(var b in a){var c=a[b];$.ea(c)&&(this.Zc[c]=b);}}return this;}return this.Zc;};$.g.getData=function(){return this.ka;};$.g.Pw=function(){this.ka.push(this.f);this.f={};this.b=!1;};$.g.ZW=function(a,b){var c=this.Zc[a];c=$.n(c)?c:"column"+a;null===b||(this.f[c]=b);this.b=!0;};$.g.start=function(){this.ka=[];this.f={};this.b=!1;};$.g.Id=$.ia;$.g.rK=function(){this.b&&this.Pw();};$.g=Xt.prototype;$.g.P0=function(){return!0;};$.g.S0=function(){return!0;};$.g.reset=function(){this.f.length=1;this.f[0]=-1;this.b=void 0;this.j=-1;return this;};$.g.current=function(){return this.b;};$.g.kfa=function(){return this.j;};$.g.get=function(a){if(this.b)return this.b.get(a);};$.g.set=function(a,b){this.b&&this.b.set(a,b);return this;};$.g.o=function(a,b){return 1<arguments.length?(this.b&&this.b.o(a)!=b&&this.b.o(a,b),this):this.b?this.b.o(a):void 0;};$.g.UN=function(a){return $.n(a)?($.E(a)?this.D=a:this.D=this.P0,this):this.D;};$.g.G6=function(a){return $.n(a)?($.E(a)?this.i=a:this.i=this.S0,this):this.i;};$.g.advance=function(){var a=_Yt(this,Zt(this));a&&(this.b=a);return!!a;};$.g.kC=function(){this.reset();for(var a=[];this.advance();)a.push(this.current());return a;};var GF=Xt.prototype;GF.reset=GF.reset;GF.current=GF.current;GF.get=GF.get;GF.set=GF.set;GF.meta=GF.o;GF.getDepth=GF.kfa;GF.advance=GF.advance;GF.toArray=GF.kC;GF.nodeYieldCondition=GF.UN;GF.traverseChildrenCondition=GF.G6;$.H($.$t,$.U);$.g=$.$t.prototype;$.g.pa=$.U.prototype.pa|48;$.g.eO=function(a){var b={};$.Uc(b,a);b.dataItem&&$.J(b.dataItem,$.fu)&&(b.dataItem=_pu(b.dataItem,this));this.dispatchEvent(b);};$.g.Wia=function(a){this.va(a.f);};$.g.mr=function(){return this.Zc;};$.g.Yv=function(){return new Xt(this);};$.g.search=function(a,b,c){a=this.Ep(a,b,c);return a.length?1==a.length?a[0]:a:null;};$.g.Ep=function(a,b,c){a=this.Zc[a]||a;a=this.Jd.Ep(a,b,c);b=[];for(c=0;c<a.length;c++)b.push(_pu(a[c],this));return b;};$.g.filter=function(a){var b=this.Yv();b.UN(a);return b.kC();};$.g.Ur=function(a,b,c){this.Jd.Ur(a,b,c);return this;};$.g.gc=function(a){return this.Cg(a,this.$b());};$.g.Cg=function(a,b){this.Jd.Cg(a,b);return this.wd(b);};$.g.removeChild=function(a){return this.Cj(this.Ef(a));};$.g.Cj=function(a){return(a=this.Jd.Cj(a))?_pu(a,this):null;};$.g.dj=function(){this.Jd.dj();return this;};$.g.Ef=function(a){return this.Jd.Ef(a);};$.g.Ol=function(){for(var a,b=this.Jd.$b(),c=[],d=0;d<b;d++)a=this.Jd.wd(d),c.push(_pu(a,this));return c;};$.g.Rv=function(){return this.Ol();};$.g.$b=function(){return this.Jd.$b();};$.g.wd=function(a){if(a=this.Jd.wd(a))return _pu(a,this);};$.g.F=function(){var a=this.Jd.F();a.mapping=this.Zc;return a;};$.g.oB=function(a){a=this.Jd.oB(a);a.mapping=this.Zc;return a;};$.g=$.bu.prototype;$.g.Nq=function(){return this.Rk.Nq();};$.g.ED=ba(11);$.g.gc=function(a){return this.Cg(a,this.$b());};$.g.Cg=function(a,b){this.Rk.Cg(a,b);return this;};$.g.remove=function(){this.be?this.be.removeChild(this):this.Qu.removeChild(this);return this;};$.g.removeChild=function(a){return this.Cj(this.Ef(a));};$.g.Cj=function(a){return(a=this.Rk.Cj(a))?_pu(a,this.Qu):null;};$.g.dj=function(){this.Rk.dj();return this;};$.g.Ef=function(a){return this.Rk.Ef(a);};$.g.Ol=function(){for(var a,b=this.Rk.$b(),c=[],d=0;d<b;d++)a=this.Rk.wd(d),c.push(_pu(a,this.Qu));return c;};$.g.Rv=function(){return this.Ol();};$.g.$b=function(){return this.Rk.$b();};$.g.wd=function(a){if(a=this.Rk.wd(a))return _pu(a,this.Qu);};$.g.get=function(a){if(arguments.length){var b=this.Qu.mr(),c=arguments[0],d=[];$.A(c)?d=c:$.z(c)&&(d=arguments);c=(0,$.Wa)(d,function(a){return b[a]||a;});return this.Rk.get(c);}};$.g.set=function(a){if(arguments.length){var b=this.Qu.mr(),c=[],d=[],e=0;var f=arguments[0];if($.A(f)){if(d=f,f=d[0],1<d.length&&$.z(f))if(1<arguments.length)var h=arguments[1];else h=d[d.length-1],e=1;}else $.z(f)&&1<arguments.length&&(d=arguments,h=d[d.length-1],e=1);for(f=0;f<d.length-e;f++)c[f]=b[d[f]]||d[f];c.push(h);this.Rk.set.apply(this.Rk,c);}return this;};$.g.dr=function(a){if(arguments.length){var b=this.Qu.mr(),c=arguments[0],d=[];$.A(c)?d=c:$.z(c)&&(d=arguments);c=(0,$.Wa)(d,function(a){return b[a]||a;});this.Rk.dr(c);}return this;};$.g.uD=ba(13);$.g.o=function(a,b){return 1<arguments.length?this.Un(a,b):this.lo(a);};$.g.lo=function(a){if(arguments.length){var b=arguments[0],c;$.A(b)?c=b:$.z(b)&&(c=arguments);if($.n(c)){var d=this.Ai,e;for(e=0;e<c.length;e++)if(b=c[e],$.C(d)||$.A(d)){if(e==c.length-1)return d[b];d=d[b];}else break;}}};$.g.Un=function(a){if(arguments.length){var b=arguments[0],c=0,d=[];if($.A(b)){var e=b;b=e[0];if(1<e.length&&$.z(b))if(1<arguments.length)var f=arguments[1];else f=e[e.length-1],c=1;}else $.z(b)&&1<arguments.length&&(e=arguments,f=e[e.length-1],c=1);if($.n(e)){var h=this.Ai;var k=e[0];d.push(k);var l=h[k];for(b=1;b<e.length-c;b++){var m=e[b];if(!$.ea(m)&&!$.z(m))return this;}for(b=1;b<e.length-c;b++)if(m=e[b],d.push(m),$.ea(m)){if($.n(l)){if($.A(l))h=l,l=h[m],k=m;else return this;}else h[k]=[],l=h[m],h=h[k],k=m;}else if($.z(m)){if($.n(l)){if($.C(l))h=l,l=h[m],k=m;else return this;}else h[k]={},l=h[m],h=h[k],k=m;}else return this;h[k]!=f&&(h[k]=f,this.Qu.va(32,void 0,{item:this}));}}return this;};$.g.getParent=function(){return this.be;};$.g.el=function(a){this.be=a;};var HF=$.$t.prototype;HF.getTraverser=HF.Yv;HF.addData=HF.Ur;HF.search=HF.search;HF.searchItems=HF.Ep;HF.filter=HF.filter;HF.addChild=HF.gc;HF.addChildAt=HF.Cg;HF.getChildren=HF.Ol;HF.numChildren=HF.$b;HF.getChildAt=HF.wd;HF.removeChild=HF.removeChild;HF.removeChildAt=HF.Cj;HF.removeChildren=HF.dj;HF.indexOfChild=HF.Ef;HF=$.bu.prototype;HF.get=HF.get;HF.set=HF.set;HF.meta=HF.o;HF.del=HF.dr;HF.getParent=HF.getParent;HF.addChild=HF.gc;HF.addChildAt=HF.Cg;HF.getChildren=HF.Ol;HF.numChildren=HF.$b;HF.getChildAt=HF.wd;HF.remove=HF.remove;HF.removeChild=HF.removeChild;HF.removeChildAt=HF.Cj;HF.removeChildren=HF.dj;HF.indexOfChild=HF.Ef;$.H($.cu,$.U);$.g=$.cu.prototype;$.g.pa=48;$.g.sG=function(a){return $.n(a)?(this.OC=a,this):this.OC;};$.g.va=function(a,b,c){!this.Io&&a&16&&(this.Pu=null);$.cu.u.va.call(this,a,b,c);};$.g.Yv=function(){return new Xt(this);};$.g.Ur=function(a,b,c){if($.z(a)){var d=new $.Om();"object"==$.ka(c)&&(d.bJ(c.rowsSeparator),d.YF(c.columnsSeparator),d.DH(c.ignoreTrailingSpaces),d.BH(c.ignoreFirstRow));var e=new Wt();e.mapping(b);d.fC(a,e);a=e.getData();b="as-table";}else b=String(b).toLowerCase();$.V(this);switch(b){case"as-table":case"as-table":case"table":case"parentid":case"linear":case"plain":case"db":case"database":case"id":case"parentpointer":case"pointer":var f;d=[];e=[];var h=[];$.V(this);b=0;for(f=a.length;b<f;b++){var k=a[b];var l=new $.fu(this,k);var m=k[this.Zc.id||"id"];h.push(l);if(null!=m)if(m=String(m),k=$.Na(d,m,wo),0>k){var p=~k;$.Da(d,m,p);(k=this.search("id",m))?(k=$.J(k,$.fu)?k:k[0],$.Da(e,k,p),k.o("nc",!0),$.kl(1,null,[m])):$.Da(e,l,p);}else $.kl(2,null,[m]);}for(b=0;b<h.length;b++)f=h[b],l=a[b][this.Zc[gu.VB]||gu.VB],null!=l?(l=String(l),k=$.Na(d,l,wo),0>k?((k=this.search("id",l))?(k=$.J(k,$.fu)?k:k[0],hu(k,f)):(this.Gq.push(f),$.kl(3,null,[l])),_lu(this,f)):(k=e[k],hu(k,f),k.o("nc")&&_lu(this,f))):(this.Gq.push(f),_lu(this,f));h.length&&this.va(16);this.da(!0);break;default:$.V(this);b=0;for(d=a.length;b<d;b++)e=_iu(this,a[b]),this.Gq.push(e),_lu(this,e);a.length&&this.va(16);this.da(!0);}if("array"==$.ka(c)){this.OC=!1;for(a=0;a<c.length;a++)if(d=c[a],"object"==$.ka(d)&&(b=d.from,d=d.to,($.z(b)||$.ea(b))&&($.z(d)||$.ea(d))&&(d=this.Ep("id",d)[0])))e=d.get("dependsOn"),$.n(e)?"array"==$.ka(e)&&d.set("dependsOn",e.length,b):d.set("dependsOn",[b]);this.OC=!0;}this.da(!0);return this;};$.g.sS=function(a,b,c){if(!this.zd[a])for(this.UH[a]=!!b,this.LS.reset(),this.zd[a]=[],this.FH[a]=mu(c||wo),this.Pu||(this.Pu=this.LS.kC()),b=0;b<this.Pu.length;b++)_ju(this,this.Pu[b],a);return this;};$.g.Dja=function(a){delete this.zd[a];delete this.UH[a];delete this.FH[a];return this;};$.g.search=function(a,b,c){a=this.Ep(a,b,c);return a.length?1==a.length?a[0]:a:null;};$.g.Ep=function(a,b,c){var d=this.UH[a];var e=this.zd[a];if(e)return c=$.E(c)?mu(c):this.FH[a],b=$.Na(e,d?String(b):b,c),d=0<=b?this.zd[a][b].value:[],$.A(d)?d:[d];d=[];this.Pu||(this.Pu=this.LS.kC());e=c||wo;for(c=0;c<this.Pu.length;c++)e(this.Pu[c].get(a),b)||d.push(this.Pu[c]);return d;};$.g.filter=function(a){var b=this.Yv();b.UN(a);return b.kC();};$.g.gc=function(a){return this.Cg(a,this.$b());};$.g.Cg=function(a,b){var c=null;$.J(a,$.bu)&&(c=a.Qu,a=a.Rk);$.V(this);var d=null,e=-1,f=null,h=!0,k=null;$.J(a,$.fu)?((k=a.Nq())&&k!=this&&(f=k,$.V(k)),e=(d=a.getParent())?d.Ef(a):k.Ef(a),a.remove()):(h=!1,a=_iu(this,a));b=$.Za(b,0,this.$b());$.Da(this.Gq,a,b);_lu(this,a);a.Nq(this);c&&_pu(a,c).el(null);this.va(16);this.da(!0);k&&k.da(!0);this.OC&&(c={type:h?"treeItemMove":"treeItemCreate",target:null,targetIndex:b,item:a},f&&(c.sourceTree=f),h&&(c.sourceIndex=e,c.source=d),this.dispatchEvent(c));return a;};$.g.Ol=function(){return $.Ha(this.Gq);};$.g.Rv=function(){return this.Gq;};$.g.$b=function(){return this.Gq.length;};$.g.wd=function(a){return this.Gq[a];};$.g.removeChild=function(a){return this.Cj(this.Ef(a));};$.g.Ef=function(a){$.J(a,$.bu)&&(a=a.Rk);return(0,$.za)(this.Gq,a);};$.g.Cj=function(a){var b=null;0<=a&&a<=this.Gq.length&&(b=$.Ca(this.Gq,a,1)[0],_ku(this,b,void 0,!0),this.va(16),this.OC&&this.dispatchEvent({type:"treeItemRemove",source:null,sourceIndex:a,item:b}));return b;};$.g.dj=function(){if(this.Gq.length){this.Gq.length=0;for(var a in this.zd)this.zd[a].length=0;this.va(16);}return this;};$.g.F=function(){return this.oB([]);};$.g.oB=function(a){for(var b={rootMapping:this.Zc,children:[],index:[]},c=0;c<this.$b();c++){var d=this.wd(c);b.children.push(d.F(a));}for(var e in this.zd)b.index.push(e);return b;};$.g.Wd=function(a){return new $.$t(this,a||{});};$.g=$.fu.prototype;$.g.get=function(a){if(arguments.length){var b=arguments[0],c;$.A(b)?c=b:$.z(b)&&(c=arguments);if($.n(c)){var d=this.ka,e;for(e=0;e<c.length;e++)if(b=c[e],e||(b=this.Jd.Zc[b]||b),$.C(d)||$.A(d)){if(e==c.length-1)return d[b];d=d[b];}else break;}}};$.g.set=function(a){if(arguments.length){var b=arguments[0],c=0,d=[];if($.A(b)){var e=b;var f=e[0];if(1<e.length&&$.z(f))if(1<arguments.length)var h=arguments[1];else h=e[e.length-1],c=1;}else $.z(b)&&1<arguments.length&&(f=b,e=arguments,h=e[e.length-1],c=1);if($.n(e)){var k=this.ka;var l=e[0];l=this.Jd.Zc[l]||l;d.push(l);var m=k[l];for(b=1;b<e.length-c;b++){var p=e[b];if(!$.ea(p)&&!$.z(p))return $.kl(17),this;}for(b=1;b<e.length-c;b++)if(p=e[b],d.push(p),$.ea(p)){if($.n(m)){if($.A(m))k=m,m=k[p],l=p;else return $.kl(17),this;}else k[l]=[],m=k[p],k=k[l],l=p;}else if($.z(p)){if($.n(m)){if($.C(m))k=m,m=k[p],l=p;else return $.kl(17),this;}else k[l]={},m=k[p],k=k[l],l=p;}else return $.kl(17),this;k[l]!=h&&(k[l]=h,_ku(this.Jd,this,f),_ju(this.Jd,this,f),this.Jd.va(16),this.Jd.sG()&&this.Jd.dispatchEvent({type:"treeItemUpdate",item:this,path:d,field:d[0],value:h}));}else $.kl(17);}return this;};$.g.dr=function(a){if(arguments.length){var b=arguments[0];if($.A(b)){var c=b;var d=c[0];}else $.z(b)&&(c=arguments,d=b);if($.n(c)){var e=[],f=this.ka,h;for(h=1;h<c.length;h++)if(b=c[h],!$.ea(b)&&!$.z(b))return this;for(h=0;h<c.length;h++)if(b=c[h],e.push(b),$.C(f)||$.A(f)){if(h==c.length-1){if(b in f){var k=f[b];$.A(f)?Ea(f,b):delete f[b];_ku(this.Jd,this,d);_ju(this.Jd,this,d);this.Jd.va(16);this.Jd.sG()&&this.Jd.dispatchEvent({type:"treeItemUpdate",item:this,path:e,field:e[0],value:k,deleted:k});}else break;}else f=f[b];}else break;}}return this;};$.g.uD=ba(12);$.g.o=function(a,b){return 1<arguments.length?this.Un(a,b):this.lo(a);};$.g.lo=function(a){if(arguments.length){var b=arguments[0],c;$.A(b)?c=b:$.z(b)&&(c=arguments);if($.n(c)){var d=this.Ai,e;for(e=0;e<c.length;e++)if(b=c[e],$.C(d)||$.A(d)){if(e==c.length-1)return d[b];d=d[b];}else break;}}};$.g.Un=function(a){if(arguments.length){var b=arguments[0],c=0,d=[];if($.A(b)){var e=b;b=e[0];if(1<e.length&&$.z(b))if(1<arguments.length)var f=arguments[1];else f=e[e.length-1],c=1;}else $.z(b)&&1<arguments.length&&(e=arguments,f=e[e.length-1],c=1);if($.n(e)){var h=this.Ai;var k=e[0];d.push(k);var l=h[k];for(b=1;b<e.length-c;b++){var m=e[b];if(!$.ea(m)&&!$.z(m))return this;}for(b=1;b<e.length-c;b++)if(m=e[b],d.push(m),$.ea(m)){if($.n(l)){if($.A(l))h=l,l=h[m],k=m;else return this;}else h[k]=[],l=h[m],h=h[k],k=m;}else if($.z(m)){if($.n(l)){if($.C(l))h=l,l=h[m],k=m;else return this;}else h[k]={},l=h[m],h=h[k],k=m;}else return this;h[k]!=f&&(h[k]=f,this.Jd.va(32,void 0,{item:this}));}}return this;};$.g.getParent=function(){return this.Y;};$.g.gc=function(a){return this.Cg(a,this.$b());};$.g.Cg=function(a,b){var c=null;$.J(a,$.bu)&&(c=a.Qu,a=a.Rk);$.V(this.Jd);var d=null,e=null,f=-1,h=null,k=!0;$.J(a,$.fu)?((d=a.Nq())&&d!=this.Jd&&(h=d,$.V(d)),f=(e=a.getParent())?e.Ef(a):d.Ef(a),a.remove()):(k=!1,a=_iu(this.Jd,a));b=$.Za(b,0,this.$b());$.Da(this.b,a,b);_ju(this.Jd,a,void 0,!0);a.Nq(this.Jd);a.Y=this;c&&_pu(a,c).el(_pu(this,c));this.Jd.va(16);this.Jd.da(!0);d&&d.da(!0);this.Jd.sG()&&(c={type:k?"treeItemMove":"treeItemCreate",target:this,targetIndex:b,item:a},h&&(c.sourceTree=h),k&&(c.sourceIndex=f,c.source=e),this.Jd.dispatchEvent(c));return a;};$.g.Ol=function(){return $.Ha(this.b);};$.g.Rv=function(){return this.b;};$.g.$b=function(){return this.b.length;};$.g.wd=function(a){return this.b[a];};$.g.removeChild=function(a){return this.Cj(this.Ef(a));};$.g.Cj=function(a){var b=null;0<=a&&a<=this.b.length&&(b=$.Ca(this.b,a,1)[0],_ku(this.Jd,b,void 0,!0),nu(b),this.Jd.sG()&&this.Jd.dispatchEvent({type:"treeItemRemove",source:this,sourceIndex:a,item:b}));return b;};$.g.dj=function(){var a=this.b.length;if(a){$.V(this.Jd);for(var b=0;b<a;b++){var c=this.b[b];nu(c);_ku(this.Jd,c,void 0,!0);}this.Jd.da(!1);this.b.length=0;this.Jd.va(16);}return this;};$.g.Ef=function(a){$.J(a,$.bu)&&(a=a.Rk);return(0,$.za)(this.b,a);};$.g.remove=function(){if(this.Y)this.Y.removeChild(this);else{var a=this.Jd.Ef(this);0<=a&&this.Jd.Cj(a);}return this;};$.g.Nq=function(a){return $.n(a)?(this.Jd!=a&&_ou(this,a),this):this.Jd;};$.g.clone=function(a){var b=$.Tl(this.ka);delete b[this.Jd.Zc[gu.wx]||gu.wx];delete b[this.Jd.Zc[gu.VB]||gu.VB];b=new $.fu(a,b);for(var c=0,d=this.$b();c<d;c++){var e=this.wd(c);b.gc(e.clone(a));}return b;};$.g.ED=ba(10);$.g.F=function(a){var b={treeDataItemData:$.Sc(this.ka)};if($.n(a)){var c;if(c=a.length){var d={};for(var e=0;e<c;e++){var f=a[e];this.Ai.hasOwnProperty(f)&&(d[f]=this.Ai[f]);}}else d=$.Sc(this.Ai);b.treeDataItemMeta=d;}if(d=this.$b())for(b.children=[],c=0;c<d;c++)e=this.wd(c),b.children.push(e.F(a));return b;};var IF=$.cu.prototype;$.F("anychart.data.tree",$.qu);IF.getTraverser=IF.Yv;IF.dispatchEvents=IF.sG;IF.addData=IF.Ur;IF.createIndexOn=IF.sS;IF.removeIndexOn=IF.Dja;IF.search=IF.search;IF.searchItems=IF.Ep;IF.filter=IF.filter;IF.addChild=IF.gc;IF.addChildAt=IF.Cg;IF.getChildren=IF.Ol;IF.numChildren=IF.$b;IF.getChildAt=IF.wd;IF.removeChild=IF.removeChild;IF.removeChildAt=IF.Cj;IF.removeChildren=IF.dj;IF.indexOfChild=IF.Ef;IF.mapAs=IF.Wd;IF=$.fu.prototype;IF.get=IF.get;IF.set=IF.set;IF.meta=IF.o;IF.del=IF.dr;IF.getParent=IF.getParent;IF.addChild=IF.gc;IF.addChildAt=IF.Cg;IF.getChildren=IF.Ol;IF.numChildren=IF.$b;IF.getChildAt=IF.wd;IF.remove=IF.remove;IF.removeChild=IF.removeChild;IF.removeChildAt=IF.Cj;IF.removeChildren=IF.dj;IF.indexOfChild=IF.Ef;$.H($.Y,$.U);$.g=$.Y.prototype;$.g.Hc=null;$.g.fO=!1;$.g.dn=null;$.g.pa=98313;$.g.ra=15;$.g.nh=function(a){a.Hu();var b=this.hg(a);b.ZD=a;b.getOriginalEvent=function(){return this.ZD;};return this.dispatchEvent(b);};$.g.Eh=function(){};$.g.hg=function(a){var b=a.type,c;a:{for(c=a.relatedTarget;$.J(c,$.kg);){if($.J(c.tag,$.Y)){c=c.tag;break a;}c=c.parent();}c=null;}return{type:b,originalEvent:a,target:this,relatedTarget:c||a.relatedTarget,domTarget:a.target,relatedDomTarget:a.relatedTarget,offsetX:a.offsetX,offsetY:a.offsetY,clientX:a.clientX,clientY:a.clientY,screenX:a.screenX,screenY:a.screenY,button:a.button,keyCode:a.keyCode,charCode:a.charCode,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey,metaKey:a.metaKey,platformModifierKey:a.platformModifierKey,state:a.state};};$.g.O=function(a){if($.n(a)){var b=$.z(a)?$.Pp.getElementById(a):a;a=b||null===a;if(this.fO!=a){this.fO=a;var c=this.iP?this.Hc:null;$.V(this);a=2;if(b){var d=this.Hc&&this.Hc.Ia()&&this.Hc.Ia().qb();this.iP=!1;$.bf(b)?this.iP?this.Hc.O(b):(this.Hc=this.I0(),"vml"!=$.lk&&this.Hc.ia().setAttribute("role","presentation"),this.Hc.O(b),this.iP=!0):this.Hc=b;this.dn||$.nb(d,this.Hc&&this.Hc.Ia()&&this.Hc.Ia().qb())||(a|=4);}else this.Hc=null;this.B(a,1);this.da(!0);c&&Vp(function(){if(c.uM){var a=$.fc($.dc.Gd(),this,"chart");delete c.uM()[a];}$.pd(c);},this);}return this;}return this.Hc;};$.g.I0=function(){var a=$.mk();a.yx=!1;a.To();return a;};$.g.zIndex=function(a){return $.n(a)?(a=+a||0,this.Oa.zIndex!=a&&(this.Oa.zIndex=a,this.B(8,65537)),this):this.oh("zIndex")?this.Oa.zIndex:$.n(this.xh)?this.xh:this.na.zIndex;};$.g.enabled=function(a){return $.n(a)?(this.Oa.enabled!==a&&(this.Oa.enabled=a,this.B(1,this.kr()),this.PE&&(this.Oa.enabled?(this.lY&&this.da(!0),this.lY=!1):($.V(this),this.lY=!0))),this):this.g("enabled");};$.g.kr=function(){return 32777;};$.g.da=function(a){var b=this.lY&&2==this.xP;if(b){var c=this.Io;this.Io=this.kr();this.xP--;}$.Y.u.da.call(this,a);b&&($.V(this),c&&this.va(c));return this;};$.g.yc=function(){if(this.nf()||this.ld)return!1;if(!this.enabled())return this.J(1)&&(this.remove(),this.I(1),this.B(2)),!1;if(!this.O())return this.remove(),this.I(2),this.fO||$.il(1),!1;this.I(1);return!0;};$.g.remove=$.ia;$.g.ja=function(a,b,c,d){if($.n(a)){if(null===a)this.dn&&(this.dn=null,this.ro());else if($.J(a,$.I)){var e=a.left;var f=a.top;var h=a.width;var k=a.height;}else $.C(a)?(e=a.left,f=a.top,h=a.width,k=a.height):(e=a,f=b,h=c,k=d);e=$.N(e);f=$.N(f);h=$.N(h);k=$.N(k);(0,window.isNaN)(e)||(0,window.isNaN)(f)||(0,window.isNaN)(h)||(0,window.isNaN)(k)||this.dn&&this.dn.left==e&&this.dn.top==f&&this.dn.width==h&&this.dn.height==k||(this.dn?(this.dn.left=e,this.dn.top=f,this.dn.width=h,this.dn.height=k):this.dn=$.nn(e,f,h,k),this.ro());return this;}if(this.dn)return this.dn.clone();var l;return this.Hc&&(l=this.Hc.Ia())?$.fa.isNodeJS?$.qn($.fa.defaultBounds):l.qb():null;};$.g.ro=function(){this.B(4,9);};$.g.er=function(){return!0;};$.g.Cu=function(a,b,c,d){var e=$.iq.exports;e?e.Cu(this,this.Hc,a,b,c,d):$.il(4,null,["Exporting"]);};$.g.Ww=function(a,b,c,d,e){var f=$.iq.exports;f?f.Ww(this,this.Hc,a,b,c,d,e):$.il(4,null,["Exporting"]);};$.g.Xw=function(a,b,c,d,e){var f=$.iq.exports;f?f.Xw(this,this.Hc,a,b,c,d,e):$.il(4,null,["Exporting"]);};$.g.Yw=function(a,b,c){var d=$.iq.exports;d?d.Yw(this,this.Hc,a,b,c):$.il(4,null,["Exporting"]);};$.g.Lq=function(a,b){var c=$.iq.exports;if(c)return c.Lq(this,this.Hc,a,b);$.il(4,null,["Exporting"]);return"";};$.g.Fu=function(a,b,c,d,e,f,h){var k=$.iq.exports;k?k.Fu(this,this.Hc,a,b,c,d,e,f,h):$.il(4,null,["Exporting"]);};$.g.wB=function(a,b,c,d,e,f,h,k){var l=$.iq.exports;l?l.wB(this,this.Hc,a,b,c,d,e,f,h,k):$.il(4,null,["Exporting"]);};$.g.yB=function(a,b,c,d,e,f){var h=$.iq.exports;h?h.yB(this,this.Hc,a,b,c,d,e,f):$.il(4,null,["Exporting"]);};$.g.xB=function(a,b,c,d,e,f,h,k){var l=$.iq.exports;l?l.xB(this,this.Hc,a,b,c,d,e,f,h,k):$.il(4,null,["Exporting"]);};$.g.tA=function(a,b,c,d,e){var f=$.iq.exports;f?f.tA(this,this.Hc,a,b,c,d,e):$.il(4,null,["Exporting"]);};$.g.rA=function(a,b,c,d,e,f){var h=$.iq.exports;h?h.rA(this,this.Hc,a,b,c,d,e,f):$.il(4,null,["Exporting"]);};$.g.vA=function(a,b,c,d){var e=$.iq.exports;e?e.vA(this,this.Hc,a,b,c,d):$.il(4,null,["Exporting"]);};$.g.sA=function(a,b,c,d,e,f){var h=$.iq.exports;h?h.sA(this,this.Hc,a,b,c,d,e,f):$.il(4,null,["Exporting"]);};$.g.print=function(a,b){var c=$.iq.exports;c?c.print(this,this.Hc,a,b):$.il(4,null,["Exporting"]);};$.g.DE=function(a,b,c,d){var e=$.iq.exports;e?e.DE(this,this.Hc,a,b,c,d):$.il(4,null,["Exporting"]);};$.g.GE=function(){var a=$.iq.exports;a?a.GE(this,this.Hc):$.il(4,null,["Exporting"]);};$.g.EE=function(a,b){var c=$.iq.exports;c?c.EE(this,this.Hc,a,b):$.il(4,null,["Exporting"]);};$.g.FE=function(a,b){var c=$.iq.exports;c?c.FE(this,this.Hc,a,b):$.il(4,null,["Exporting"]);};$.g.F=function(){var a=$.Y.u.F.call(this),b=$.U.prototype.g.call(this,"zIndex");$.n(b)&&(a.zIndex=b);b=$.U.prototype.g.call(this,"enabled");$.n(b)&&(a.enabled=b);return a;};$.g.Xd=function(a){return $.da(a)||null===a?{enabled:!!a}:null;};$.g.Je=function(a,b){var c=$.Y.prototype.Xd(b);return c?(a?this.na.enabled=c.enabled:this.enabled(c.enabled),!0):!1;};$.g.U=function(a,b){$.Y.u.U.call(this,a,b);if(b)"enabled"in a&&(this.na.enabled=a.enabled),"zIndex"in a&&(this.na.zIndex=a.zIndex);else{var c=a.enabled;this.enabled(null!=c?c:$.n(c)?void 0:!0);this.zIndex(a.zIndex);}};$.g.R=function(){$.pd(this.vc);this.dn=this.vc=null;this.iP&&$.pd(this.Hc);this.Hc=null;this.fO=!1;$.Y.u.R.call(this);};var JF=$.Y.prototype;JF.zIndex=JF.zIndex;JF.enabled=JF.enabled;JF.print=JF.print;$.H($.vu,$.U);$.g=$.vu.prototype;$.g.pa=2;$.g.Ix=window.NaN;$.g.zx=window.NaN;$.g.tw=null;$.g.ox=null;$.g.Zs=null;$.g.$r=null;$.g.Sf=null;$.g.Df=null;$.g.Cw=null;$.g.Bw=null;$.g.Aw=null;$.g.yw=null;$.g.w6=function(a,b,c,d){$.J(a,$.I)?(d=a,a=$.N(d.left),b=$.N(d.top),c=$.N(d.width),d=$.N(d.height)):$.C(a)?(d=a,a=$.N(d.left),b=$.N(d.top),c=$.N(d.width),d=$.N(d.height)):(a=$.N(a),b=$.N(b),c=$.N(c),d=$.N(d));if(null===this.tw){if(null===this.Zs){var e=0;var f=null===this.Sf?+c||0:$.M(this.Sf,c);f=xu(this,f,c);}else{var h=$.M(this.Zs,c,!0);f=null===this.Sf?h:$.M(this.Sf,c);f=xu(this,f,c);e=h-f;}}else e=$.M(this.tw,c),f=null===this.Zs?null===this.Sf?+c-e||0:$.M(this.Sf,c):$.M(this.Zs,c,!0)-e,f=xu(this,f,c);null===this.ox?null===this.$r?(h=(0,window.isNaN)(this.Ix)?0:this.Ix,c=null===this.Df?(0,window.isNaN)(this.zx)?+d||0:this.zx:$.M(this.Df,d),c=wu(this,c,d)):(h=$.M(this.$r,d,!0),c=null===this.Df?(0,window.isNaN)(this.Ix)?(0,window.isNaN)(this.zx)?h:this.zx:h-this.Ix:$.M(this.Df,d),c=wu(this,c,d),h-=c):(h=$.M(this.ox,d),c=null===this.$r?null===this.Df?(0,window.isNaN)(this.zx)?+d-h||0:this.zx:$.M(this.Df,d):$.M(this.$r,d,!0)-h,c=wu(this,c,d));(0,window.isNaN)(a)||(e+=a);(0,window.isNaN)(b)||(h+=b);return new $.I(e,h,f,c);};$.g.set=function(a,b,c,d){$.V(this);this.fa(!0,a,b,c,d);this.da(!0);return this;};$.g.qB=function(a){var b=this.zx!=a;this.zx=a;b&&this.va(2);};$.g.left=function(a){return $.n(a)?(a=Ho(a),a!=this.tw&&(this.tw=a,this.va(2)),this):this.tw;};$.g.top=function(a){return $.n(a)?(a=Ho(a),a!=this.ox&&(this.ox=a,this.va(2)),this):this.ox;};$.g.right=function(a){return $.n(a)?(a=Ho(a),a!=this.Zs&&(this.Zs=a,this.va(2)),this):this.Zs;};$.g.bottom=function(a){return $.n(a)?(a=Ho(a),a!=this.$r&&(this.$r=a,this.va(2)),this):this.$r;};$.g.width=function(a){return $.n(a)?(a=Ho(a),a!=this.Sf&&(this.Sf=a,this.va(2)),this):this.Sf;};$.g.height=function(a){return $.n(a)?(a=Ho(a),a!=this.Df&&(this.Df=a,this.va(2)),this):this.Df;};$.g.minWidth=function(a){return $.n(a)?(a=Ho(a),a!=this.Cw&&(this.Cw=a,this.va(2)),this):this.Cw;};$.g.minHeight=function(a){return $.n(a)?(a=Ho(a),a!=this.Bw&&(this.Bw=a,this.va(2)),this):this.Bw;};$.g.maxWidth=function(a){return $.n(a)?(a=Ho(a),a!=this.Aw&&(this.Aw=a,this.va(2)),this):this.Aw;};$.g.maxHeight=function(a){return $.n(a)?(a=Ho(a),a!=this.yw&&(this.yw=a,this.va(2)),this):this.yw;};$.g.er=function(){return $.zo(this.Sf)||$.zo(this.Df)||$.zo(this.Cw)||$.zo(this.Bw)||$.zo(this.Aw)||$.zo(this.yw)||$.zo(this.tw)||$.zo(this.ox)||null!==this.$r||null!==this.Zs||null===this.Sf||null===this.Df;};$.g.F=function(){var a=$.vu.u.F.call(this);null!==this.ox&&(a.top=this.ox);null!==this.Zs&&(a.right=this.Zs);null!==this.$r&&(a.bottom=this.$r);null!==this.tw&&(a.left=this.tw);null!==this.Sf&&(a.width=this.Sf);null!==this.Df&&(a.height=this.Df);null!==this.Cw&&(a.minWidth=this.Cw);null!==this.Bw&&(a.minHeight=this.Bw);null!==this.Aw&&(a.maxWidth=this.Aw);null!==this.yw&&(a.maxHeight=this.yw);return a;};$.g.U=function(a){this.left(a.left);this.top(a.top);this.right(a.right);this.bottom(a.bottom);this.width(a.width);this.height(a.height);this.minWidth(a.minWidth);this.minHeight(a.minHeight);this.maxWidth(a.maxWidth);this.maxHeight(a.maxHeight);};$.g.Xd=function(a){var b=null;if($.A(a)){var c=$.n(a[0])?a[0]:null;var d=$.n(a[1])?a[1]:null;var e=$.n(a[2])?a[2]:null;b=$.n(a[3])?a[3]:null;}else $.n(a)&&!$.C(a)&&(c=a);a={left:c,top:d,width:e,height:b};this.left(c).top(d).width(e).height(b);return a;};$.g.Je=function(a,b,c,d,e){a=!1;if($.J(b,$.vu)){var f=b.tw;var h=b.ox;var k=b.Sf;var l=b.Df;var m=b.Cw;var p=b.Bw;var q=b.Aw;var r=b.yw;var t=b.Zs;var u=b.$r;a=!0;}else $.J(b,$.I)?(f=b.left,h=b.top,k=b.width,l=b.height,r=q=p=m=u=t=null,a=!0):$.A(b)?(f=$.n(b[0])?b[0]:null,h=$.n(b[1])?b[1]:null,k=$.n(b[2])?b[2]:null,l=$.n(b[3])?b[3]:null,r=q=p=m=u=t=null,a=!0):$.n(b)&&!$.C(b)&&(f=b,h=$.n(c)?c:null,k=$.n(d)?d:null,l=$.n(e)?e:null,r=q=p=m=u=t=null,a=!0);a&&this.left(f).top(h).right(t).bottom(u).width(k).height(l).minWidth(m).minHeight(p).maxWidth(q).maxHeight(r);return a;};var KF=$.vu.prototype;KF.top=KF.top;KF.right=KF.right;KF.bottom=KF.bottom;KF.left=KF.left;KF.width=KF.width;KF.height=KF.height;KF.minWidth=KF.minWidth;KF.minHeight=KF.minHeight;KF.maxWidth=KF.maxWidth;KF.maxHeight=KF.maxHeight;KF.set=KF.set;KF.toRect=KF.w6;$.H($.yu,$.Y);$.g=$.yu.prototype;$.g.pa=$.Y.prototype.pa;$.g.ra=$.Y.prototype.ra;$.g.er=function(){return this.Va().er();};$.g.ob=function(){return this.Va().w6(this.ja());};$.g.Va=function(a,b,c,d){this.Ab||(this.Ab=new $.vu(),$.L(this.Ab,this.Nk,this),$.W(this,"bounds",this.Ab));return $.n(a)?(this.Ab.N.apply(this.Ab,arguments),this):this.Ab;};$.g.Nk=function(a){$.X(a,2)&&this.B(4,9);};$.g.left=function(a){return $.n(a)?(this.Va().left(a),this):this.Va().left();};$.g.right=function(a){return $.n(a)?(this.Va().right(a),this):this.Va().right();};$.g.top=function(a){return $.n(a)?(this.Va().top(a),this):this.Va().top();};$.g.bottom=function(a){return $.n(a)?(this.Va().bottom(a),this):this.Va().bottom();};$.g.width=function(a){return $.n(a)?(this.Va().width(a),this):this.Va().width();};$.g.height=function(a){return $.n(a)?(this.Va().height(a),this):this.Va().height();};$.g.minWidth=function(a){return $.n(a)?(this.Va().minWidth(a),this):this.Va().minWidth();};$.g.minHeight=function(a){return $.n(a)?(this.Va().minHeight(a),this):this.Va().minHeight();};$.g.maxWidth=function(a){return $.n(a)?(this.Va().maxWidth(a),this):this.Va().maxWidth();};$.g.maxHeight=function(a){return $.n(a)?(this.Va().maxHeight(a),this):this.Va().maxHeight();};$.g.R=function(){$.pd(this.Ab);this.Ab=null;$.yu.u.R.call(this);};var LF=$.yu.prototype;LF.bounds=LF.Va;LF.top=LF.top;LF.right=LF.right;LF.bottom=LF.bottom;LF.left=LF.left;LF.width=LF.width;LF.height=LF.height;LF.minWidth=LF.minWidth;LF.minHeight=LF.minHeight;LF.maxWidth=LF.maxWidth;LF.maxHeight=LF.maxHeight;LF.getPixelBounds=LF.ob;$.H($.Au,$.yu);$.Au.prototype.pa=$.yu.prototype.pa|32768;$.Au.prototype.ra=$.yu.prototype.ra|80;var Jda=$.Au.prototype,MF={};$.wq(MF,[[1,"fill",$.Uq],[1,"stroke",$.Tq],[1,"topStroke",$.Tq],[1,"rightStroke",$.Tq],[1,"bottomStroke",$.Tq],[1,"leftStroke",$.Tq],[0,"disablePointerEvents",$.Hq],[0,"cornerType",function(a,b){return $.Ak(uda,a,b||"none");}]]);Jda.$Q=MF;$.S($.Au,$.Au.prototype.$Q);$.g=$.Au.prototype;$.g.g=$.mr;$.g.vs=function(){return 1;};$.g.ig=function(a){$.n(a)&&(this.Vb=a);return this.Vb;};$.g.bh=$.lr;$.g.Vd=function(){var a=[this.na];this.Y&&(a=$.Ga(a,this.Y.Vd()));return a;};$.g.Ud=function(){var a=[this.Oa];this.Y&&(a=$.Ga(a,this.Y.Ud()));return a;};$.g.nS=function(a){var b,c=arguments[0];$.A(c)?b=c:b=$.C(c)?[c.leftTop||0,c.rightTop||0,c.rightBottom||0,c.leftBottom||0]:$.Ja(arguments,0);return b;};$.g.mS=function(a){if($.n(a)){var b=this.nS.apply(this,arguments);$.Ta(b,this.Oa.corners)||(this.Oa.corners=b,this.B(20,1));return this;}return this.nS(this.g("corners"));};$.g.parent=function(a){return $.n(a)?(this.Y!=a&&(null===a?($.or(this.Y,this.Sc,this),this.Y=null):(this.Y&&$.or(this.Y,this.Sc,this),this.Y=a,$.L(this.Y,this.Sc,this))),this):this.Y;};$.g.Sc=function(a){var b=0,c=0;$.X(a,1)&&(b|=16,c|=1);$.X(a,8)&&(b|=4,c|=8);$.X(a,32768)&&(b|=1,c|=1);this.Vb=null;this.B(b,c);};$.g.NT=function(){return this.ob();};$.g.W=function(){if(!this.yc())return this;var a=this.g("fill")||"none",b=this.g("stroke"),c=this.g("topStroke"),d=this.g("rightStroke"),e=this.g("bottomStroke"),f=this.g("leftStroke"),h=$.n(c)&&!$.ip(c),k=$.n(d)&&!$.ip(d),l=$.n(e)&&!$.ip(e),m=$.n(f)&&!$.ip(f),p=!!(h||k||l||m);l=h&&k&&l&&m;var q;(k=(h=this.O()?this.O().Ia():null)&&!h.wf())&&h.suspend();if(this.J(4)){this.Ma||(this.Ma=$.pk());l&&this.f?this.f.clear().parent(null):(this.f||(this.f=$.rk()),this.f.parent(this.Ma),this.f.clear());p?(this.i||(this.i=$.rk()),this.i.parent(this.Ma),this.i.clear()):this.i&&this.i.clear().parent(null);if(this.G)for(l=0,m=this.G.length;l<m;l++)(q=this.G[l])&&q.clear().parent(null);if(p)for(this.D=[c,d,e,f],this.G||(this.G=[]),this.b||(this.b=[]),l=0,m=this.D.length;l<m;l++)c=this.D[l],$.n(c)&&!$.ip(c)?(c=this.G[l]?this.G[l]:this.G[l]=$.rk(),c.parent(this.Ma),c.clear(),this.b[l]=c):$.n(b)&&!$.ip(b)&&(this.D[l]=b,this.b[l]=this.f);l=this.NT();c=l.width;d=l.height;m=Bu(this,0,c,d);e=Bu(this,1,c,d);f=Bu(this,2,c,d);q=Bu(this,3,c,d);if(p){var r=this.b[0]?$.cc($.Zb(this.D[0]))/2:0,t=this.b[1]?$.cc($.Zb(this.D[1]))/2:0,u=this.b[2]?$.cc($.Zb(this.D[2]))/2:0,v=this.b[3]?$.cc($.Zb(this.D[3]))/2:0;l.left+=v;l.top+=r;l.width-=v+t;l.height-=r+u;e=[l.bb()-e,l.top,l.bb(),l.top,l.bb(),l.top+e,l.bb()-e+e*Math.cos($.bb(315)),l.top+e+e*Math.sin($.bb(315)),l.bb(),l.Ta()-f,l.bb(),l.Ta(),l.bb()-f,l.Ta(),l.bb()-f+f*Math.cos($.bb(45)),l.Ta()-f+f*Math.sin($.bb(45)),l.left+q,l.Ta(),l.left,l.Ta(),l.left,l.Ta()-q,l.left+q+q*Math.cos($.bb(135)),l.Ta()-q+q*Math.sin($.bb(135)),l.left,l.top+m,l.left,l.top,l.left+m,l.top,l.left+m+m*Math.cos($.bb(225)),l.top+m+m*Math.sin($.bb(225))];l=0;for(m=e.length;l<m;l+=8)if(q=l/8,f=Bu(this,q,c,d),l||this.i.moveTo(e[e.length-4],e[e.length-3]),this.i.lineTo(e[l],e[l+1]),Cu(this,this.i,e[l+2],e[l+3],e[l+4],e[l+5],f),q=this.b[q]){l?(w!=q&&q.moveTo(e[l-2],e[l-1]),Cu(this,q,e[l-6],e[l-5],e[l-4],e[l-3],f)):(q.moveTo(e[e.length-2],e[e.length-1]),Cu(this,q,e[e.length-6],e[e.length-5],e[e.length-4],e[e.length-3],f));q.lineTo(e[l],e[l+1]);Cu(this,q,e[l+2],e[l+3],e[l+6],e[l+7],f);var w=q;}}else{w=$.cc($.Zb(b))/2;(0,window.isNaN)(w)&&(w=.5);l.left+=w;l.top+=w;l.width-=w+w;l.height-=w+w;e=[l.bb()-e,l.top,l.bb(),l.top,l.bb(),l.top+e,l.bb(),l.Ta()-f,l.bb(),l.Ta(),l.bb()-f,l.Ta(),l.left+q,l.Ta(),l.left,l.Ta(),l.left,l.Ta()-q,l.left,l.top+m,l.left,l.top,l.left+m,l.top];l=0;for(m=e.length;l<m;l+=6)l||this.f.moveTo(e[e.length-2],e[e.length-1]),this.f.lineTo(e[l],e[l+1]),Cu(this,this.f,e[l+2],e[l+3],e[l+4],e[l+5],Bu(this,(l/6+1)%4,c,d));this.f.close();}this.I(4);$.C(a)&&("keys"in a||"src"in a)&&this.B(16);}if(this.J(16)){if(p){l=0;for(m=this.b.length;l<m;l++)(q=this.b[l])&&q.stroke(this.D[l]);this.i.fill(a);this.i.stroke(null);}else this.f.stroke(b),this.f.fill(a);this.I(16);}if(this.J(64)){a=this.g("disablePointerEvents");if(p){l=0;for(m=this.b.length;l<m;l++)(q=this.b[l])&&q.Fd(a);this.i.Fd(a);}else this.f.Fd(a);this.Ma.Fd(a);this.I(64);}this.J(8)&&(this.Ma.zIndex(this.g("zIndex")),this.I(8));this.J(2)&&(this.Ma.parent(this.O()),this.I(2));k&&h.resume();return this;};$.g.remove=function(){this.Ma&&this.Ma.parent(null);};$.g.xd=function(){var a=this.ob();a=a?a.clone():$.nn(0,0,0,0);if(!this.enabled())return a;var b=this.g("stroke");b=$.ip(b)?0:$.cc(b);a.top+=b;a.left+=b;a.height-=2*b;a.width-=2*b;return a;};$.g.F=function(){var a=$.Au.u.F.call(this);$.Xq(this,this.$Q,a,"Background",void 0,this.P);var b=this.md("corners");b&&(4<=b.length?b={leftTop:b[0],rightTop:b[1],rightBottom:b[2],leftBottom:b[3]}:b=b[0],a.corners=b);return a;};$.g.Xd=function(a){var b=null;if($.z(a))b={fill:a,stroke:null,enabled:!0};else if($.da(a)||null===a)b={enabled:!!a};return b;};$.g.Je=function(a,b){var c=this.Xd(b);return c?(a?("fill"in c&&(this.na.fill=c.fill),"stroke"in c&&(this.na.stroke=c.stroke),"enabled"in c&&(this.na.enabled=c.enabled)):("fill"in c&&this.fill(c.fill),"stroke"in c&&this.stroke(c.stroke),"enabled"in c&&this.enabled(c.enabled)),!0):!1;};$.g.U=function(a,b){$.Au.u.U.call(this,a,b);$.Pq(this,this.$Q,a,b);b?"corners"in a&&(this.na.corners=this.nS(a.corners)):this.mS(a.corners);};$.g.R=function(){$.ud(this.f,this.b,this.i);this.i=this.b=this.f=null;$.Au.u.R.call(this);};$.H(Du,$.Au);$.zu(Du,$.Au);var NF=$.Au.prototype;NF.corners=NF.mS;NF=Du.prototype;$.F("anychart.standalones.background",function(){var a=new Du();a.fa(!0,$.om("standalones.background"));return a;});NF.draw=NF.W;NF.parentBounds=NF.ja;NF.container=NF.O;$.g=Eu.prototype;$.g.text=function(a){this.jc=a;};$.g.width=function(){return this.Va?this.Va.width:0;};$.g.height=function(){return this.Va?this.Va.height:0;};$.g.path=function(){return null;};$.g.style=function(a){this.f=a;};$.g.sc=function(){this.ia=this.P.Tx();};$.g.setPosition=function(a,b){var c=this.Td();$.n(a)&&a!=this.Jo&&(this.Jo=a,c.setAttribute("x",this.Jo));$.n(b)&&b!=this.Ko&&(this.Ko=b,c.setAttribute("y",this.Ko+this.b));};$.g.Td=function(){this.ia||this.sc();return this.ia;};$.g.Ij=function(){var a=this.f,b=this.Td();$.Nc(a)||(a.fontStyle?b.setAttribute("font-style",a.fontStyle):b.removeAttribute("font-style"),a.fontVariant?b.setAttribute("font-variant",a.fontVariant):b.removeAttribute("font-variant"),a.fontFamily?b.setAttribute("font-family",a.fontFamily):b.removeAttribute("font-family"),$.n(a.fontSize)?b.setAttribute("font-size",a.fontSize):b.removeAttribute("font-size"),$.n(a.fontWeight)?b.setAttribute("font-weight",a.fontWeight):b.removeAttribute("font-weight"),$.n(a.letterSpacing)?b.setAttribute("letter-spacing",a.letterSpacing):b.removeAttribute("letter-spacing"),a.fontDecoration?b.setAttribute("text-decoration",a.fontDecoration):b.removeAttribute("font-decoration"),a.fontColor?b.setAttribute("fill",a.fontColor):b.removeAttribute("font-color"),$.n(a.fontOpacity)?b.setAttribute("opacity",a.fontOpacity):b.removeAttribute("font-opacity"),a.disablePointerEvents?b.setAttribute("pointer-events",a.disablePointerEvents?"none":""):b.removeAttribute("pointer-events"));b.textContent=this.jc;};$.g.qb=function(){if(!this.Va){var a=this.Td();a.removeAttribute("x");a.removeAttribute("y");a=a.getBBox();this.Va=new $.I(a.x,-a.y,a.width,a.height);this.b=-a.y;}return this.Va;};$.H(Gu,$.U);Gu.prototype.pa=2;var Hu={};$.vq(Hu,0,"left",dr);$.vq(Hu,0,"top",dr);$.vq(Hu,0,"bottom",dr);$.vq(Hu,0,"right",dr);$.S(Gu,Hu);$.g=Gu.prototype;$.g.oh=function(a){return null!=this.Oa[a];};$.g.g=function(a){return $.mr.call(this,a)||0;};$.g.vM=function(){return 0;};$.g.vs=function(){return 2;};$.g.ig=function(a){$.n(a)&&(this.Vb=a);return this.Vb;};$.g.bh=$.lr;$.g.Vd=function(){var a=[this.na];this.Y&&(a=$.Ga(a,this.Y.Vd()));return a;};$.g.Ud=function(){var a=[this.Oa];this.Y&&(a=$.Ga(a,this.Y.Ud()));return a;};$.g.parent=function(a){return $.n(a)?(this.Y!=a&&(null===a?($.or(this.Y,this.Sc,this),this.Y=null):(this.Y&&$.or(this.Y,this.Sc,this),this.Y=a,$.L(this.Y,this.Sc,this))),this):this.Y;};$.g.Sc=function(){this.Vb=null;this.va(2);};$.g.set=function(a,b,c,d){var e=$.Jm.apply(this,arguments);if(this.md("top")!==e.top||this.md("right")!==e.right||this.md("bottom")!==e.bottom||this.md("left")!==e.left)this.sa("top",e.top),this.sa("right",e.right),this.sa("bottom",e.bottom),this.sa("left",e.left),this.va(2);return this;};$.g.Ej=function(a){var b=$.M(this.g("left"),a.width),c=$.M(this.g("right"),a.width),d=$.M(this.g("top"),a.height),e=$.M(this.g("bottom"),a.height);return new $.I(a.left+b,a.top+d,a.width-b-c,a.height-d-e);};$.g.Kg=function(a){var b=$.M(this.g("left"),a),c=$.M(this.g("right"),a);return a-b-c;};$.g.Vh=function(a){var b=$.M(this.g("top"),a),c=$.M(this.g("bottom"),a);return a-b-c;};$.g.GY=function(a){var b=$.M(this.g("left"),a.width),c=$.M(this.g("right"),a.width),d=$.M(this.g("top"),a.height),e=$.M(this.g("bottom"),a.height);return new $.I(a.left-b,a.top-d,a.width+b+c,a.height+d+e);};$.g.Ik=function(a){var b=$.M(this.g("left"),a),c=$.M(this.g("right"),a);return a+b+c;};$.g.ak=function(a){var b=$.M(this.g("top"),a),c=$.M(this.g("bottom"),a);return a+b+c;};$.g.F=function(){var a=Gu.u.F.call(this);$.Xq(this,Hu,a,"Space");return a;};$.g.Xd=function(a){return $.Jm.apply(null,arguments);};$.g.Je=function(a,b){if($.n(arguments[1])){var c=this.Xd.apply(this,$.Ja(arguments,1));a?Iu(this,c):this.set(c);return!0;}return!1;};$.g.U=function(a,b){$.V(this);b?Iu(this,a):$.Pq(this,Hu,a);this.da(!0);};var OF=Gu.prototype;OF.set=OF.set;$.H($.Ju,Gu);$.Ju.prototype.GY=function(a){var b=this.Ik(a.width),c=this.ak(a.height),d=$.M(this.g("left"),b),e=$.M(this.g("top"),c);return new $.I(a.left-d,a.top-e,b,c);};$.Ju.prototype.ak=function(a){var b=this.g("top"),c=this.g("bottom");return Ku(a,b,c);};$.Ju.prototype.Ik=function(a){var b=this.g("left"),c=this.g("right");return Lu(a,b,c);};$.ja($.Nu);$.H($.Ru,$.Y);$.Ru.prototype.pa=$.Y.prototype.pa|8;$.Ru.prototype.ra=$.Y.prototype.ra|976;var PF=null,QF="fontSize fontFamily fontColor fontOpacity textDirection fontStyle fontVariant fontDecoration fontWeight letterSpacing lineHeight textIndent vAlign hAlign textOverflow selectable disablePointerEvents wordWrap wordBreak rotation".split(" ");$.Ru.prototype.f=$.zq();$.S($.Ru,$.Ru.prototype.f);var Kda=$.Ru.prototype,RF={};$.wq(RF,[[0,"format",$.er],[0,"positionFormatter",$.er],[0,"position",$.Gq],[0,"anchor",Su],[0,"offsetX",$.Gq],[0,"offsetY",$.Gq],[1,"connectorStroke",$.Tq],[0,"rotation",$.Fq],[0,"width",$.fr],[0,"height",$.fr],[0,"clip",$.Gq]]);Kda.Bz=RF;$.S($.Ru,$.Ru.prototype.Bz);$.g=$.Ru.prototype;$.g.enabled=function(a){if($.n(a)){var b=this.g("enabled");null===a?($.Ru.u.enabled.call(this,a),this.I(1)):(null===b&&a&&this.B(1,this.kr()),$.Ru.u.enabled.call(this,a));return this;}return this.g("enabled");};$.g.background=function(a){this.Ga||(this.Ga=new $.Au(),this.Ga.I(4294967295),$.L(this.Ga,this.ug,this),$.W(this,"background",this.Ga));return $.n(a)?(this.Ga.N(a),this.Oa.background=this.Ga.Oa,this):this.Ga;};$.g.ug=function(a){$.X(a,1)&&(this.Ga.I(4294967295),Tu(this),this.B(16,1));};$.g.padding=function(a,b,c,d){this.Ua||(this.Ua=new $.Ju(),$.L(this.Ua,this.bm,this),$.W(this,"padding",this.Ua));return $.n(a)?(this.Ua.N.apply(this.Ua,arguments),this.Oa.padding=this.Ua.Oa,this):this.Ua;};$.g.bm=function(a){$.X(a,2)&&(Tu(this),this.B(4,9));};$.g.ce=function(a,b){if($.n(a)){if($.z(a)){if($.n(b)){if(a in this.f)this[a](b);}else return this.md(a);}else if($.C(a))for(var c in a)if(c in this.f)this[c](a[c]);return this;}c={};for(var d in this.f)if(d in this.f){var e=this.g(d);$.n(e)&&(c[d]=this.g(d));}return c;};$.g.$B=function(){var a=this.g("adjustFontSize");return!!a&&(a.width||a.height);};$.g.Iq=function(a){var b=this.g("fontColor")!=a;null===a?delete this.Ld.fontColor:this.Ld.fontColor=a;b&&this.B(4);};$.g.oh=function(a){return null!=this.Oa[a];};$.g.g=function(a){Tu(this);return $.n(this.Oa[a])?this.Oa[a]:$.n(this.Ld[a])?this.Ld[a]:this.na[a];};$.g.aU=function(a){Tu(this);return $.n(this.Oa[a])?this.Oa[a]:this.Ld[a];};$.g.eH=function(){return this.Oa;};$.g.Td=function(){return this.ub;};$.g.rl=function(){return this.ub;};$.g.clear=function(a){this.j||(this.j=[]);if(this.Ca&&this.Ca.length){if($.n(a))this.Ca[a]&&(this.Ca[a].clear(),this.j.push(this.Ca[a]),$.$u(this,a),delete this.Ca[a]);else{$.$u(this);for(a=this.Ca.length;a--;){var b=this.Ca[a];b&&(b.clear(),this.j.push(b));}this.Ca.length=0;this.B(128,1);}}else this.Ca=[];return this;};$.g.Zd=function(a){a=+a;return this.Ca&&this.Ca[a]?this.Ca[a]:null;};$.g.$H=function(){return this.Ca?this.Ca.length:0;};$.g.add=function(a,b,c){$.n(this.Ca)||(this.Ca=[]);if($.n(c)){var d=+c;var e=this.Ca[d];}e?($.V(e),e.clear()):(e=this.j&&0<this.j.length?this.j.pop():this.nL(),$.V(e),$.n(d)?this.Ca[d]=e:(this.Ca.push(e),d=this.Ca.length-1),e.zE(d));e.Bf(a);e.ic(b);e.cp=this;e.state("pointNormal",e);e.state("seriesNormal",this);e.state("seriesNormalTheme",this.na);e.da(!1);return e;};$.g.nL=function(){return new $.Vu();};$.g.remove=function(){this.ub&&this.ub.parent(null);};$.g.W=function(){if(this.ld)return this;this.ub||(this.ub=$.pk(),$.tu(this,this.ub));var a=this.O()?this.O().Ia():null,b=a&&!a.wf();b&&a.suspend();this.Ca&&(this.lM(),pca(this),(0,$.Re)(this.Ca,function(a){a&&(a.O(this.ub),a.W());},this));this.J(8)&&(this.ub.zIndex(this.zIndex()),this.I(8));this.J(2)&&(this.ub.parent(this.O()),this.I(2));this.I(4294967295);b&&a.resume();return this;};$.g.lM=function(){(0,$.Re)(this.Ca,function(a){a.lM();},this);};$.g.M1=function(a,b,c,d,e,f){if(c){var h=c.width;var k=c.height;}b=new $.gb(b.x,b.y);c=$.Ko(new $.I(0,0,a.width,a.height),f);b.x-=c.x;b.y-=c.y;d=$.n(d)?$.M(d,h):0;e=$.n(e)?$.M(e,k):0;$.cp(b,f,d,e);a.left=b.x;a.top=b.y;return a;};$.g.measure=function(a,b,c,d){a=this.wl(a,b,c,d);return $.pn(a);};$.g.wl=function(a,b,c,d){if($.J(a,$.Vu)){var e=a.g("rotation");var f=$.n(e)?e:this.g("rotation")||0;e=a.g("anchor")||this.g("anchor");"auto"==e&&c&&c.anchor&&(e=c.anchor);d=$.n(d)?d:a.la();}else f=$.n(c)&&$.n(c.rotation)?c.rotation:this.g("rotation")||0,e=$.n(c)&&c.anchor||this.g("anchor");a=$.Zu(this,a,b,c,d);b=f;e=$.Ko(a,e);e=$.Jb($.bb(b),e.x,e.y);a=$.on(a)||[];e.transform(a,0,a,0,4);return a;};$.g.hg=function(a){a=$.Ru.u.hg.call(this,a);for(var b=a.domTarget,c;$.J(b,$.kg);){c=b.tag;if($.J(c,$.Y)||!$.Io(c))break;b=b.parent();}a.labelIndex=$.N(c);return a;};$.g.R=function(){$.ud(this.Ca,this.j,this.b,this.ub,this.Ga,this.Ua,this.b,this.K);this.K=this.b=this.Ua=this.Ga=this.ub=this.j=this.Ca=null;$.Ru.u.R.call(this);};$.g.F=function(){var a=$.Ru.u.F.call(this);$.n(a.enabled)||delete a.enabled;if(this.oh("background")&&!$.Nc(this.Oa.background)){var b=this.background().F();$.Nc(b)||(a.background=b);}this.oh("padding")&&!$.Nc(this.Oa.padding)&&(b=this.padding().F(),$.Nc(b)||(a.padding=b));(b=a.adjustFontSize)&&($.n(b.width)||$.n(b.height))||delete a.adjustFontSize;$.Xq(this,this.f,a,"Labels factory label text",void 0,!0);$.Xq(this,this.Bz,a,"Labels factory label props",void 0,!0);return a;};$.g.U=function(a,b){var c=this.enabled();$.Ru.u.U.call(this,a,b);b?($.Pq(this.na,this.f,a),$.Pq(this.na,this.Bz,a),"enabled"in a&&(this.na.enabled=a.enabled)):($.Pq(this,this.f,a),$.Pq(this,this.Bz,a),this.enabled("enabled"in a?a.enabled:c));c="background";if(c in a){var d=this.background();b?d.fa(!!b,a[c]):this.background(a[c]);this.na[c]=d.na;this.Oa[c]=d.Oa;}c="padding";c in a&&(d=this.padding(),b?d.fa(!!b,a[c]):this.padding(a[c]),this.na[c]=d.na,this.Oa[c]=d.Oa);};$.H($.Vu,$.Y);$.g=$.Vu.prototype;$.g.pa=$.Y.prototype.pa|8;$.g.ra=$.Y.prototype.ra|3856;$.g.Td=function(){return this.ub;};$.g.state=function(a,b,c){if($.n(b)){$.n(c)&&(c=$.N(c));var d=cv(this);if(this.jx[a]!=b||(0,$.za)(d,a)!=c)this.jx[a]=b,$.n(c)||-1!=(0,$.za)(d,a)||(c=d.length),(0,window.isNaN)(c)||$.dv(this,a,c),this.B(17,9);return this;}return this.jx[a];};$.g.gR=$.zq();$.S($.Vu,$.Vu.prototype.gR);var Lda=$.Vu.prototype,SF={};$.wq(SF,[[0,"format",$.er],[0,"positionFormatter",$.er],[0,"position",$.Gq],[0,"anchor",Su],[0,"offsetX",$.Gq],[0,"offsetY",$.Gq],[1,"connectorStroke",$.Tq],[0,"rotation",$.Fq],[0,"width",$.fr],[0,"height",$.fr],[0,"clip",$.Gq],[0,"enabled",$.cr]]);Lda.eC=SF;$.S($.Vu,$.Vu.prototype.eC);$.g=$.Vu.prototype;$.g.la=function(){return this.zd;};$.g.zE=function(a){this.zd=+a;};$.g.background=function(a){var b=null===a;b||this.Ga||(this.Ga=new $.Au(),$.L(this.Ga,this.ug,this));return $.n(a)?(b?($.pd(this.Ga),delete this.Oa.background):(this.Ga.N(a),jv(this)),this):this.Ga;};$.g.ug=function(a){$.X(a,1)&&(jv(this),this.B(16,1));};$.g.padding=function(a,b,c,d){var e=null===a;e||this.Ua||(this.Ua=new $.Ju(),$.W(this,"padding",this.Ua),$.L(this.Ua,this.Nk,this));if($.n(a)){if(e)$.pd(this.Ua),delete this.Oa.padding;else{if($.J(a,$.Ju))for(var f in Hu)e=a.g(f),this.Ua.sa(f,e);else this.Ua.N.apply(this.Ua,arguments);jv(this);}return this;}return this.Ua;};$.g.Nk=function(a){$.X(a,2)&&(jv(this),this.B(16,8));};$.g.nk=function(a){return $.n(a)?(a=Su(a),this.Ld.anchor!==a&&(this.Ld.anchor=a,$.n(this.Oa.anchor)||this.B(16,8)),this):this.Ld.anchor;};$.g.Bf=function(a){return $.n(a)?(this.i!=a&&(this.i=a,this.B(16,1)),this):this.i;};$.g.ic=function(a){return $.n(a)?(this.aa!=a&&(this.aa=a,this.B(2052,8)),this):this.aa;};$.g.oh=function(a){return null!=this.Oa[a];};$.g.g=function(a){jv(this);return $.n(this.Oa[a])?this.Oa[a]:this.na[a];};$.g.aU=function(a){jv(this);return this.Oa[a];};$.g.wha=function(a){if(this.cp)var b=this.cp;else PF||(PF=new $.Ru(),PF.sa("positionFormatter",function(){return this.value;})),b=PF;var c=$.Wu(this);c.format=String(a);return b.measure({},this.ic(),c);};$.g.Fi=function(){$.ud(this.Ga,this.Ua);this.Ua=this.Ga=null;this.na={};this.Oa={};this.Ld={};this.jx={pointNormal:this};this.P=null;this.cp&&(this.jx.seriesNormal=this.cp,this.jx.seriesNormalTheme=this.cp.na);this.b=null;};$.g.sd=function(a,b){$.n(a)&&this.N(a);null!=b&&(this.jx.pointState=b);($.n(a)||$.n(b))&&this.B(17,9);};$.g.hc=function(a){if("adjustFontSize"==a){var b=kv(this,a,function(a){return a.width;});a=kv(this,a,function(a){return a.height;});return{width:b,height:a};}b=kv(this,a);"background"!=a||$.n(b)||(b=null);return b;};$.g.clear=function(){this.Fi();this.ub&&(this.ub.parent(null),this.ub.zl());this.B(2);};$.g.sf=function(a,b){this.b||$.Wu(this);var c=this.b.positionFormatter,d=this.ur&&this.vb.path()?"center":Su(this.b.anchor)||"left-top",e=iv(this),f=this.b.offsetX,h=this.b.offsetY,k=0,l=0;b&&(k=b.width,l=b.height);var m=this.ic(),p=$.Sc(c.call(m,m));p=new $.gb(p.x,p.y);m=m&&m.connectorPoint;this.Tf&&(this.Tf.clear(),this.Tf.nc(1,0,0,1,0,0));m&&(this.Tf||(this.Tf=this.ub.path(),this.Tf.bq(!0)),this.Tf.stroke(this.b.connectorStroke),c=$.Sc(c.call(m,m)),this.Tf.moveTo(p.x,p.y).lineTo(c.x,c.y));c=$.Ko(new $.I(0,0,a.width,a.height),d);p.x-=c.x;p.y-=c.y;f=$.n(f)?$.M(f,k):0;h=$.n(h)?$.M(h,l):0;e?$.cp(p,d,h,f):$.cp(p,d,f,h);a.left=p.x;a.top=p.y;Uu(this)?this.vb.x(this.Ig+p.x).y(this.Jg+p.y):this.vb.setPosition(this.Ig+p.x,this.Jg+p.y);};$.g.Ht=function(){var a=this.ic(),b=this.b.positionFormatter,c=$.Sc(b.call(a,a));a=a&&a.connectorPoint;this.Tf&&(this.Tf.clear(),this.Tf.nc(1,0,0,1,0,0));a&&(this.Tf||(this.Tf=this.ub.path(),this.Tf.bq(!0)),this.Tf.stroke(this.b.connectorStroke),b=$.Sc(b.call(a,a)),this.Tf.moveTo(c.x,c.y).lineTo(b.x,b.y));};$.g.Zh=function(a,b,c){var d=$.n(c)?function(a){return c[a];}:$.J(this,$.Vu)?this.md:$.Ru.prototype.aU;if($.J(a,$.Qh)){var e=d.call(this,"text");var f=d.call(this,"useHtml");if(b||$.n(e)||$.n(f))f?a.htmlText(e):a.text(e);a.fontSize(d.call(this,"fontSize"));a.fontFamily(d.call(this,"fontFamily"));a.color(d.call(this,"fontColor"));a.opacity(d.call(this,"fontOpacity"));a.direction(d.call(this,"textDirection"));a.fontStyle(d.call(this,"fontStyle"));a.fontVariant(d.call(this,"fontVariant"));a.cr(d.call(this,"fontDecoration"));a.fontWeight(d.call(this,"fontWeight"));a.letterSpacing(d.call(this,"letterSpacing"));a.lineHeight(d.call(this,"lineHeight"));a.textIndent(d.call(this,"textIndent"));a.textShadow(d.call(this,"textShadow"));a.vAlign(d.call(this,"vAlign"));a.xm(d.call(this,"hAlign"));a.textOverflow(d.call(this,"textOverflow"));a.Dm(d.call(this,"selectable"));a.Fd(d.call(this,"disablePointerEvents"));a.wordWrap(d.call(this,"wordWrap"));a.Vu(d.call(this,"wordBreak"));}else{b={};e=0;for(f=QF.length;e<f;e++){var h=QF[e];b[h]=d.call(this,h);}a.style(b);a.Ij();}};$.g.lM=function(){this.J(16)&&(this.b=null);var a=this.hc("enabled");if(!Uu(this)&&a){a=this.vb;if(mv(this)||this.ub&&!this.ub.parent())a=this.Ph(),$.ng().Vp().appendChild(a.Td()),this.f&&this.f.content(null);var b=$.Wu(this),c=this.rk(b.format,this.Bf(),this.la());a.text($.n(c)?String(c):"");this.Zh(a,!0,b);}};$.g.W=function(){var a=this.cp,b;this.ub||(this.ub=$.pk());this.ub.tag=this.zd;var c=this.hc("enabled");if(ev(this,1))if(c)this.O()&&!this.ub.parent()&&this.ub.parent(this.O()),this.I(1);else return this.ub&&this.ub.parent(null),this.I(1),this;if(!c)return this;ev(this,2)&&(c&&((!this.cp.enabled()||$.n(this.enabled())&&!this.enabled())&&this.cp.Td()&&(this.O()||this.O(a.Td()),this.O().parent()||this.O().parent(a.O())),this.O()&&((b=Uu(this))?this.ub.parent(this.O()):(this.f||(this.f=$.vk(),this.f.zIndex(1)),this.f.parent(this.ub),this.f.content(null),this.f.content(this.vb.Td())))),this.I(2));this.J(8)&&(this.O()&&this.O().zIndex(a.zIndex()),this.ub.zIndex(this.zIndex()),this.I(8));this.J(1024)&&($.$u(a,this.la()),this.I(1024));if(ev(this,20)){jv(this);this.b=null;b=Uu(this);c=$.Wu(this);var d=null!==c.width,e=null!==c.height,f=c.useHtml;var h=this.Bf();var k=this.rk(c.format,h,this.la());this.ub.nc(1,0,0,1,0,0);var l=c.background,m=c.background;!$.C(m)||!m||"enabled"in m||(m.enabled=!1);(h=$.z(m)||$.da(m)||m&&m.enabled)||this.j?(this.j||(this.j=new $.Au(),this.j.zIndex(0),this.j.O(this.ub)),this.ba&&this.j.N($.J(this.ba,$.Au)?this.ba.F():this.ba),this.j.N(m),this.j.W()):l&&(this.ba=l);this.Ph();b?this.vb.parent(this.ub):(this.f||(this.f=$.vk(),this.f.zIndex(1)),this.f.parent(this.ub),this.f.content(this.vb.Td()));this.G=Xu(this,function(a,b){var c=$.J(b,$.Ru)?b.ja():$.J(b,$.Vu)?null:b.ja;if(c)return c;});this.G||(l=this.ja(),(a.O()||l)&&b?this.G=l?l:a.O().qb():this.G=$.nn(0,0,0,0));if(this.G){var p=this.G.width;var q=this.G.height;}b?(this.vb.width(null),this.vb.height(null),f?this.vb.htmlText($.n(k)?String(k):""):this.vb.text($.n(k)?String(k):"")):this.vb.text($.n(k)?String(k):"");this.Zh(this.vb,!0,c);b=new $.I(0,0,0,0);if($.J(c.padding,$.Ju))var r=c.padding;else if($.C(c.padding)||$.ea(c.padding)||$.z(c.padding))r=new $.Ju(),$.qd(this,r),r.N(c.padding);if(d||e){if(d){f=Math.ceil($.M(c.width,p));if(r){var t=r.Kg(f);this.Ig=$.M(r.g("left"),f);}else this.Ig=0,t=f;b.width=f;f=!1;}else k=this.vb.qb(),f=k.width,r?(b.width=r.Ik(f),this.Ig=$.M(r.g("left"),b.width)):(this.Ig=0,b.width=f),f=!0;$.n(t)&&this.vb.width(t);if(e){k=Math.ceil($.M(c.height,q));if(r){var u=r.Vh(k);this.Jg=$.M(r.g("top"),k);}else this.Jg=0,u=k;b.height=k;k=!1;}else k=this.vb.qb(),k=k.height,r?(b.height=r.ak(k),this.Jg=$.M(r.g("top"),b.height)):(this.Jg=0,b.height=k),k=!0;$.n(u)&&this.vb.height(u);}else k=this.vb.qb(),f=k.width,k=k.height,r?(b.width=r.Ik(f),this.Ig=$.M(r.g("left"),b.width),b.height=r.ak(k),this.Jg=$.M(r.g("top"),b.height)):(this.Ig=0,b.width=f,this.Jg=0,b.height=k),k=f=!0;if(!f&&c.adjustByHeight||!k&&c.adjustByHeight){var v;"different"==$.Qu(a)?v=$.lv(this,t,u,c.minFontSize,c.maxFontSize,c.adjustByWidth,c.adjustByHeight):v=Xu(this,function(a,b){if($.J(b,$.Ru)&&$.n(b.Ld.fontSize))return b.Ld.fontSize;});$.V(this);this.vb.fontSize(v);d?(f=Math.ceil($.M(c.width,p)),b.width=f):(k=this.vb.qb(),f=k.width,r?b.width=r.Ik(f):b.width=f);e?(k=Math.ceil($.M(c.height,q)),b.height=k):(k=this.vb.qb(),k=k.height,r?b.height=r.ak(k):b.height=k);this.da(!1);}this.Ab=b;this.B(2048);this.I(20);}ev(this,2048)&&(this.sf(this.Ab,this.G),h&&(this.j.ja(this.Ab),this.j.W()),this.b.rotation&&(a=$.Ko(this.Ab,this.b.anchor),a=$.Jb($.bb(this.b.rotation),a.x,a.y),this.ub.nc(a.nd,a.Ve,a.gf,a.Le,a.Md,a.Hd)),this.B(512),this.I(2048));this.J(512)&&(this.Ht(),this.I(512));ev(this,256)&&(this.ub&&this.ub.clip(this.b.clip),this.I(256));return this;};$.g.Ph=function(){var a=$.J(this.vb,Eu),b=$.J(this.vb,$.Qh);mv(this)&&(a&&this.f?this.f.parent(null):b&&this.vb&&this.vb.parent(null),Uu(this)?(this.vb=new $.Qh(),this.vb.Bd("aria-hidden","true"),this.vb.zIndex(1),this.vb.Fd(!0)):(this.vb=new Eu(),this.vb.Td().setAttribute("aria-hidden","true")));return this.vb;};$.g.MK=function(a){var b=$.Wu(this).maxLength;return a=Fu(a,b);};$.g.rk=function(a,b,c){a=$.Yu(this.cp,a,b,c);return this.MK(a);};$.g.F=function(){var a=$.Vu.u.F.call(this);if($.n(this.md("background"))){var b=this.background().F();$.Nc(b)||(a.background=b);}$.n(this.md("padding"))&&(b=this.padding().F(),$.Nc(b)||(a.padding=b));$.Xq(this,this.gR,a,"Labels factory label text");$.Xq(this,this.eC,a,"Labels factory label props");(b=a.adjustFontSize)&&($.n(b.width)||$.n(b.height))||delete a.adjustFontSize;this.oh("enabled")||delete a.enabled;return a;};$.g.U=function(a,b){var c=this.g("enabled");$.Pq(this,this.gR,a);$.Pq(this,this.eC,a);$.Vu.u.U.call(this,a,b);$.n(a.enabled)||delete this.Oa.enabled;this.sa("enabled","enabled"in a?a.enabled:c);c="background";if(c in a){var d=this.background();b?d.fa(!!b,a[c]):this.background(a[c]);this.na[c]=d.na;this.Oa[c]=d.Oa;}c="padding";c in a&&(d=this.padding(),b?d.fa(!!b,a[c]):this.padding(a[c]),this.na[c]=d.na,this.Oa[c]=d.Oa);};$.g.R=function(){$.ud(this.Ga,this.Ua,this.j,this.vb,this.ub,this.Ov);this.Ov=this.ub=this.Ua=this.Ga=this.vb=this.j=null;$.Vu.u.R.call(this);};$.H(nv,$.Ru);$.zu(nv,$.Ru);nv.prototype.nL=function(){return new ov();};$.H(ov,$.Vu);var TF=$.Ru.prototype;TF.background=TF.background;TF.padding=TF.padding;TF.enabled=TF.enabled;TF.getLabel=TF.Zd;TF.getLabelsCount=TF.$H;TF=$.Vu.prototype;TF.getIndex=TF.la;TF.padding=TF.padding;TF.background=TF.background;TF.clear=TF.clear;TF.measureWithText=TF.wha;TF.draw=TF.W;TF=nv.prototype;$.F("anychart.standalones.labelsFactory",function(){var a=new nv();a.fa(!0,$.om("standalones.labelsFactory"));return a;});TF.draw=TF.W;TF.parentBounds=TF.ja;TF.container=TF.O;TF.add=TF.add;TF.clear=TF.clear;TF.measure=TF.measure;TF.measureWithTransform=TF.wl;$.g=pv.prototype;$.g.kg=function(a){return $.n(a)?(this.oc.kg=a,this):this.oc.kg;};$.g.Ji=function(a){return $.n(a)?(this.oc.Ji=a,this):this.oc.Ji;};$.g.Em=function(a){return $.n(a)?(this.oc.Em=a,this):this.oc.Em;};$.g.Bl=function(a){return $.n(a)?(this.oc.Bl=a,this):this.oc.Bl;};$.g.getData=function(a){var b=this.oc.kg;return b?b.get.apply(b,arguments):void 0;};$.g.lo=function(a){var b=this.oc.kg?this.oc.kg.o(a):void 0;$.n(b)||(b=(b=this.oc.values.series)?b.value.o(a):void 0);return b;};$.g.Qg=function(a){var b=void 0;if(a)for(var c=0;c<this.oc.Ji.length&&(b=(b=this.oc.Ji[c])&&b.Qg?b.Qg(a):void 0,!$.n(b));c++);return b;};$.iq.format.Context=function(a,b,c){$.iq.format.Context.OF(this,"constructor",a,b,c);};$.H($.iq.format.Context,pv);$.Hw=$.iq.format.Context;$.F("anychart.format.Context",$.Hw);var UF=$.Hw.prototype;UF.getData=UF.getData;UF.getMeta=UF.lo;UF.getStat=UF.Qg;var Mda=-1!=Ec.indexOf("PhantomJS"),Aca=!($.wd&&!Mda&&$.dd("534")&&!$.dd("536"));$.H($.sv,$.U);$.g=$.sv.prototype;$.g.pa=1;$.g.label=function(a){this.i||(this.i=this.b.lL(),$.L(this.i,this.laa,this),this.i.Fa("defaultFontSettings","defaultLabelSettings","defaultNoDataLabel"),$.W(this,"label",this.i));return $.n(a)?(this.i.N(a),this):this.i;};$.g.laa=function(){this.va(1);};$.g.U=function(a,b){$.sv.u.U.call(this,a,b);this.label().fa(!!b,a.label);};$.g.R=function(){$.pd(this.i);$.sv.u.R.call(this);};$.H(tv,$.U);$.g=tv.prototype;$.g.ra=16;$.g.pa=2;$.g.text=function(a){return uv(this,"text",a);};$.g.eR=function(a){return uv(this,"url",a);};$.g.bR=function(a){return uv(this,"alt",a);};$.g.cR=function(a){return uv(this,"imgAlt",a);};$.g.dR=function(a){return uv(this,"logoSrc",a);};$.g.enabled=function(a){return uv(this,"enabled",a);};$.g.F=function(){var a={},b=this.text(),c=this.eR(),d=this.bR(),e=this.cR(),f=this.dR(),h=this.enabled();$.n(b)&&(a.text=b);$.n(c)&&(a.url=c);$.n(d)&&(a.alt=d);$.n(e)&&(a.imgAlt=e);$.n(f)&&(a.logoSrc=f);$.n(h)&&(a.enabled=h);return a;};$.g.Xd=function(a){return $.z(a)?{text:a,enabled:!0}:$.da(a)||null===a?{enabled:!!a}:null;};$.g.Je=function(a,b){var c=this.Xd(b);return c?("text"in c&&this.text(c.text),this.enabled(c.enabled),!0):!1;};$.g.U=function(a){$.V(this);this.text(a.text);this.eR(a.url);this.bR(a.alt);this.cR(a.imgAlt);this.dR(a.logoSrc);this.enabled(a.enabled);this.da(!0);};var VF=tv.prototype;VF.text=VF.text;VF.url=VF.eR;VF.alt=VF.bR;VF.imgAlt=VF.cR;VF.logoSrc=VF.dR;VF.enabled=VF.enabled;$.H(wv,$.Y);wv.prototype.pa=$.Y.prototype.pa|8;wv.prototype.ra=$.Y.prototype.ra|16;var WF={};$.wq(WF,[[0,"fontSize",$.Aq],[0,"fontFamily",$.Dq],[0,"fontColor",$.Dq],[0,"fontOpacity",$.ir],[0,"fontDecoration",$.bl],[0,"fontStyle",$.cl],[0,"fontVariant",$.dl],[0,"fontWeight",$.Aq],[0,"letterSpacing",$.Aq],[0,"textDirection",$.el],[0,"textShadow",$.bc],[0,"lineHeight",$.Aq],[0,"textIndent",$.Aq],[0,"vAlign",$.al],[0,"hAlign",$.$k],[0,"wordWrap",$.Dq],[0,"wordBreak",$.Dq],[0,"textOverflow",$.Dq],[0,"selectable",$.Hq],[0,"disablePointerEvents",$.Hq],[0,"useHtml",$.Hq]]);$.S(wv,WF);var XF={};$.vq(XF,0,"text",$.Eq);$.g=wv.prototype;$.g.parent=function(a){if($.n(a)){if(this.Y!=a){var b=String($.oa(this));null===a?($.or(this.Y,this.Sc,this),delete this.Y.Za[b],this.Y=null):(this.Y&&$.or(this.Y,this.Sc,this),this.Y=a,this.Y.Za[b]=this,$.L(this.Y,this.Sc,this));}return this;}return this.Y;};$.g.Sc=function(a){var b=16,c=1;if($.X(a,8)||$.X(a,1))b|=4,c|=8;$.X(a,32768)&&(b|=1);this.Vb=null;this.B(b,c);};$.g.g=$.mr;$.g.ig=function(a){$.n(a)&&(this.Vb=a);return this.Vb;};$.g.bh=$.lr;$.g.Vd=function(){var a=[this.na];this.Y&&(a=$.Ga(a,this.Y.Vd()));return a;};$.g.Ud=function(){var a=[this.Oa];this.Y&&(a=$.Ga(a,this.Y.Ud()));return a;};$.g.ce=function(a,b){if($.n(a)){if($.z(a)){if($.n(b)){if(a in WF)this[a](b);}else return this.Oa[a];}else if($.C(a)){$.V(this);for(var c in a)a.hasOwnProperty(c)&&this.ce(c,a[c]);this.da(!0);}return this;}c={};for(var d in WF){var e=this.g(d);$.n(e)&&(c[d]=e);}return c;};$.g.Zh=function(a,b){for(var c in WF)if(WF.hasOwnProperty(c)){switch(c){case"fontColor":var d="color";break;case"textDirection":d="direction";break;case"fontOpacity":d="opacity";break;case"fontDecoration":d="decoration";break;default:d=c;}if("useHtml"!=d&&(b||a[d]()!==this.g(c)))a[d](this.g(c));}if("text"in this.ta){c=this.g("text");var e=(d=!!this.g("useHtml"))?a.htmlText():a.text();if(b||c!==e)d?a.htmlText(c):a.text(c);}};$.g.enabled=function(a){return $.n(a)?(this.Oa.enabled!=a&&(this.Oa.enabled=a,this.B(1,32777),this.Oa.enabled?this.da(!0):(0,window.isNaN)(this.Io)&&$.V(this)),this):this.g("enabled");};$.g.F=function(){var a=wv.u.F.call(this);$.Xq(this,WF,a,"Text");return a;};$.g.U=function(a,b){wv.u.U.call(this,a,b);b?$.Lq(this.na,WF,a):$.Pq(this,WF,a);};var YF=wv.prototype;YF.textSettings=YF.ce;$.H(xv,wv);$.S(xv,XF);xv.prototype.pa=wv.prototype.pa;xv.prototype.ra=wv.prototype.ra|64;xv.prototype.ea=function(){var a=this.g("adjustFontSize");a&&(a.width||a.height)&&this.B(4,9);};var ZF=function(){var a={};$.vq(a,0,"position",$.Fk);$.vq(a,0,"width",$.fr);$.vq(a,0,"height",$.fr);$.vq(a,0,"anchor",function(a){return null===a?null:$.Ek(a);});$.vq(a,0,"offsetX",$.Do);$.vq(a,0,"offsetY",$.Do);$.vq(a,0,"rotation",$.Bq);$.vq(a,1,"adjustFontSize",Cq);$.vq(a,0,"minFontSize",$.Fq);$.vq(a,0,"maxFontSize",$.Fq);return a;}();$.S(xv,ZF);$.g=xv.prototype;$.g.parent=function(a){var b=xv.u.parent.call(this);return $.n(a)?(b!=a&&(xv.u.parent.call(this,a),null===a?(this.background().parent(null),this.padding().parent(null)):(this.background().df().parent(a.background()),this.padding().parent(a.padding()))),this):b;};$.g.background=function(a){this.Ga||(this.Ga=new $.Au(),this.Ga.Yj(!0),$.L(this.Ga,this.ug,this),$.W(this,"background",this.Ga));return $.n(a)?(this.Ga.N(a),this):this.Ga;};$.g.ug=function(a){$.X(a,1)&&this.B(64,1);};$.g.padding=function(a,b,c,d){this.Ua||(this.Ua=new $.Ju(),$.L(this.Ua,this.Nk,this),$.W(this,"padding",this.Ua));return $.n(a)?(this.Ua.N.apply(this.Ua,arguments),this):this.Ua;};$.g.Nk=function(a){$.X(a,2)&&this.B(4,9);};$.g.P1=function(){var a=this.g("rotation");return null==a||(0,window.isNaN)(a)?this.ma:a;};$.g.nk=function(a){return $.n(a)?(this.ba!=a&&(this.ba=a,this.g("anchor")||this.B(4,9)),this):this.ba;};$.g.qA=function(){return this.g("anchor")||this.nk();};$.g.rl=function(){return this.Na;};$.g.co=function(a,b,c,d){var e=this.g("adjustFontSize");if(e)if(e.width&&e.height){if(a>c||b>d)return 1;if(a<c||b<d)return-1;}else if(e.width){if(a<c)return-1;if(a>c)return 1;}else if(e.height){if(b<d)return-1;if(b>d)return 1;}return 0;};$.g.TR=function(a,b){var c=this.g("minFontSize"),d=this.g("maxFontSize"),e=Math.round((d+c)/2),f=d,h=$.tk();h.Bd("aria-hidden","true");this.Zh(h,!0);h.fontSize(d);if(0>=this.co(h.qb().width,h.qb().height,a,b))return d;h.fontSize(e);for(var k=d=this.co(h.qb().width,h.qb().height,a,b);c!=f;){if(0>d)c=Math.min(e+1,f),e+=Math.floor((f-e)/2);else if(0<d)f=Math.max(e-1,c),e-=Math.ceil((e-c)/2);else break;h.fontSize(e);d=this.co(h.qb().width,h.qb().height,a,b);if(0>=k*d)break;}if(!d)return $.pd(h),e;do e+=k,h.fontSize(e),d=this.co(h.qb().width,h.qb().height,a,b);while(0>k*d);$.pd(h);0<k&&(e-=k);return e;};$.g.T1=function(){return this.ja();};$.g.fR=function(){return this.g("position")||"center";};$.g.sf=function(){var a=this.ja()||$.nn(0,0,0,0),b=a.left,c=a.top,d=a.width,e=a.height;a=new $.I(0,0,this.Mi,this.Li);var f=new $.gb(0,0);if(this.ja())switch(this.fR()){case"left-top":f.x=b;f.y=c;break;case"left-center":f.x=b;f.y=c+e/2;break;case"left-bottom":f.x=b;f.y=c+e;break;case"center-top":f.x=b+d/2;f.y=c;break;case"center":f.x=b+d/2;f.y=c+e/2;break;case"center-bottom":f.x=b+d/2;f.y=c+e;break;case"right-top":f.x=b+d;f.y=c;break;case"right-center":f.x=b+d;f.y=c+e/2;break;case"right-bottom":f.x=b+d,f.y=c+e;}else f.x=0,f.y=0;b=$.Ko(new $.I(0,0,this.Mi,this.Li),this.qA());f.x-=b.x;f.y-=b.y;d=$.n(this.g("offsetX"))?$.M(this.g("offsetX"),d):0;e=$.n(this.g("offsetY"))?$.M(this.g("offsetY"),e):0;$.cp(f,this.qA(),d,e);this.Ig+=f.x;this.Jg+=f.y;a.left=f.x;a.top=f.y;this.vb.x(this.Ig).y(this.Jg);return a;};$.g.W=function(){if(!this.yc())return this;var a=zv(this),b=this.O();this.J(16)&&(this.Zh(this.vb,a),this.I(16));(a=$.Ar(this,"background"))&&!a.O()&&a.O(this.Na);this.J(2)&&(a&&a.W(),this.vb&&this.vb.parent(this.Na),this.Na.parent(b),this.I(2));this.J(8)&&(a&&a.zIndex(0),this.vb&&this.vb.zIndex(1),this.Na.zIndex(this.zIndex()),this.I(8));this.J(4)&&(yv(this),this.K=this.sf(),this.B(64));this.J(64)&&(a&&(a.Yj(!1),$.V(a),a.ja(this.K),a.W(),a.da(!1)),this.I(64));if(this.J(4)){this.Na.nc(1,0,0,1,0,0);b=this.P1();a=this.qA();if(!$.n(b)||(0,window.isNaN)(b))b=0;a=$.Ko(this.K,a);this.Na.BE(b,a.x,a.y);this.I(4);}return this;};$.g.remove=function(){this.Na.parent(null);};$.g.vi=function(){if(this.J(16)){var a=zv(this);this.Zh(this.vb,a);this.I(16);}this.J(4)&&yv(this);return new $.I(0,0,this.Mi,this.Li);};$.g.F=function(){var a=xv.u.F.call(this);$.Xq(this,XF,a,"Label Base Text");$.Xq(this,ZF,a,"Label Base");a.background=this.background().F();a.padding=this.padding().F();return a;};$.g.Xd=function(a){return $.z(a)?{text:a,enabled:!0}:null;};$.g.Je=function(a,b){var c=this.Xd(arguments[1]);return c?(a?this.na.text!==c.text&&(this.na.text=c.text,this.B(20,9)):this.Oa.text!==c.text&&(this.Oa.text=c.text,this.B(20,9)),this.enabled(c.enabled),!0):$.Y.prototype.Je.apply(this,arguments);};$.g.U=function(a,b){xv.u.U.call(this,a,b);$.Pq(this,XF,a,b);$.Pq(this,ZF,a,b);this.background().fa(!!b,a.background);this.padding().fa(!!b,a.padding);};$.g.R=function(){$.ud(this.Ua,this.Ga,this.vb,this.Na);delete this.Ua;delete this.Ga;delete this.vb;delete this.Na;xv.u.R.call(this);};$.H($.Av,xv);$.Av.prototype.ra=xv.prototype.ra|128;var $F={};$.vq($F,0,"visible",$.Hq);$.S($.Av,$F);$.Av.prototype.U=function(a,b){$.Av.u.U.call(this,a,b);b&&$.Pq(this,$F,a);};$.Av.prototype.W=function(){if(!this.yc())return this;$.Av.u.W.call(this);this.J(128)&&(this.rl().visible(this.g("visible")),this.I(128));return this;};$.H(Bv,$.Av);$.zu(Bv,$.Av);var aG=$.Av.prototype;aG.background=aG.background;aG.padding=aG.padding;aG=Bv.prototype;$.F("anychart.standalones.label",function(){var a=new Bv();a.N($.om("standalones.label"));return a;});aG.draw=aG.W;aG.parentBounds=aG.ja;aG.container=aG.O;$.H(Cv,wv);var bG=function(){var a={};$.wq(a,[[0,"x",$.Gq],[0,"y",$.Gq],[0,"iconType",function(a){return $.z(a)?$.Vk(a):a;}],[0,"iconTextSpacing",function(a){var b=Number(a);return null===a?this.uf("iconTextSpacing"):(0,window.isNaN)(b)?this.g("iconTextSpacing"):b;}],[0,"maxWidth",$.Gq],[0,"maxHeight",$.Gq],[1,"iconFill",$.Uq],[1,"iconStroke",$.Tq],[1,"iconHatchFill",$.Vq]]);return a;}();$.S(Cv,XF);$.S(Cv,bG);$.g=Cv.prototype;$.g.pa=wv.prototype.pa|2;$.g.ra=wv.prototype.ra;$.g.yy=function(a){return $.n(a)?(a=!!a,this.Cs!=a&&(this.Cs=a,this.Xy=!0,this.Yb=null,this.B(20,1)),this):this.Cs;};$.g.disabled=function(a){return $.n(a)?(this.cq!=a&&(this.cq=a,this.Xy=!0,this.B(16),this.W()),this):this.cq;};$.g.fw=function(a){return $.n(a)?($.E(a)||(a=null===a?null:$.Ok(a)),this.gw!=a&&(this.gw=a,this.Xy=!0,this.B(16,1)),this):this.gw;};$.g.eu=function(a,b,c,d,e,f,h){if($.n(a)){var k=$.Xb.apply(null,arguments);this.dw!=k&&(this.dw=k,this.Xy=!0,this.B(16,1));return this;}return this.dw;};$.g.fu=function(a,b,c,d,e){if($.n(a)){var f=$.Zb.apply(null,arguments);this.ew!=f&&(this.ew=f,this.Xy=!0,this.B(16,1));return this;}return this.ew;};$.g.lJ=function(a){return $.n(a)?(this.lka=$.N(a),this):this.lka;};$.g.Ii=function(a){return $.n(a)?(this.kka=a,this):this.kka;};$.g.o=function(a){return $.n(a)?(this.Ai=a,this):this.Ai;};$.g.XU=function(a){return $.n(a)?(this.M2=a,this):this.M2;};$.g.hw=function(a){return $.n(a)?(a=$.N(a),this.lp!=a&&(this.lp=a,this.Yb=null,this.B(4,9)),this):this.lp;};$.g.remove=function(){this.ub&&this.ub.parent(null);};$.g.W=function(){if(!this.yc())return this;var a;if(a=!this.iw)this.iw=this.ub.path(),this.iw.nc(1,0,0,1,0,0);this.BO||(this.BO=this.ub.rect().zIndex(5).stroke(null).fill("#FFFFFF 0.00001"));this.ub.cursor(this.XU());!$.n(this.g("iconHatchFill"))||$.ip(this.g("iconHatchFill"))||this.Bs||(this.Bs=this.ub.path(),this.Bs.nc(1,0,0,1,0,0),this.Bs.stroke("none"));if(this.J(8)){var b=this.zIndex();this.ub.zIndex(b);this.I(8);}this.J(2)&&(b=this.O(),this.ub.parent(b),this.I(2));b=this.g("iconType");b=$.z(b)?sca(b):b;this.J(16)&&(Gv(this,this.ya,a),this.Xy&&!a&&(Fv(this,b),this.Xy=!1),Hv(this,this.ya),this.I(16));if(this.J(4)){this.vi();Fv(this,b);this.BO.Kf($.nn(0,0,this.Yb.width,this.Yb.height));this.Xy=!1;var c=this.ad.ea;b=this.Cs?this.lp+this.g("iconTextSpacing"):0;this.ad.x(b);if(1<c.length){var d=$.cc(this.g("iconStroke"));b=0;c=c[0];for(var e=0,f=c.length;e<f;e++)b=Math.max(b,c[e].height);d=Math.max(b,this.lp+d)/2;b=d-b/2;}else d=this.Yb.height/2,b=d-this.SW.height/2;this.ad.y(b);this.iw.nc(1,0,0,1,0,d-this.lp/2);this.ub.nc(1,0,0,1,this.Yb.left,this.Yb.top);Gv(this,this.ya,a);this.I(4);}return this;};$.g.vi=function(){if(!this.enabled())return new $.I(0,0,0,0);this.Yb||this.Km();return this.Yb;};$.g.ob=function(){this.Yb||this.Km();return this.Yb;};$.g.ro=function(){this.Yb=null;Cv.u.ro.call(this);};$.g.Km=function(){var a=this.ja(),b=this.text();b=(null===b||0>b.indexOf("\n"))&&!this.g("useHtml")?this.SW:this.ad.qb();var c=b.width,d=b.height,e=$.cc(this.g("iconStroke")),f=this.lp+e;if(a){var h=a.width;var k=a.height;}else h=k=void 0;var l=$.M(this.g("maxWidth"),h);e=h?$.M(this.g("x"),h):0;k=k?$.M(this.g("y"),k):0;var m=this.Cs?f+this.g("iconTextSpacing"):0;this.JF=window.NaN;l?(h=l-m,c&&c>h&&"..."==this.ad.textOverflow()?this.JF=h/c:(this.ad.width(h),b=this.ad.qb()),c=l):(l=h?Math.min(h-m,c):c,l=Math.max(l,1E-5),"..."==this.ad.textOverflow()&&c&&c>l&&(this.JF=l/c),c=l+m);l=this.ad.ea;if(1<l.length){d=0;f=l[0];l=0;for(h=f.length;l<h;l++)d=Math.max(d,f[l].height);d=Math.max(d/2,this.lp/2)+Math.max(b.height-d/2,this.lp/2);}else d=Math.max(this.Cs?f:0,d);this.Yb=a?new $.I(a.sb()+e,a.Ub()+k,c,d):new $.I(e,k,c,d);};$.g.yd=function(){return this.ob().width;};$.g.pd=function(){return this.ob().height;};$.g.LK=function(){this.Ko=this.Jo=0;this.Cs=!0;this.cq=!1;this.iconType("square");this.iconFill("black");this.iconStroke("none");this.iconHatchFill(null);this.gw=null;this.ew=this.dw="none";this.iconTextSpacing(5);};$.g.clear=function(){$.V(this);this.Yb=null;this.Oa={};this.LK();this.ig(null);this.sja=this.Ii();this.tja=this.lJ();this.lJ(window.NaN);this.Ii(window.NaN);this.o(null);this.sa("maxWidth",null);this.sa("maxHeight",null);this.remove();this.B(4294967295);this.da(!1);return this;};$.g.Ph=function(){return this.ad;};$.g.U=function(a,b){Cv.u.U.call(this,a,b);$.Pq(this,bG,a,b);$.Pq(this,XF,a,b);this.yy(a.iconEnabled);this.fw(a.iconMarkerType);this.eu(a.iconMarkerFill);this.fu(a.iconMarkerStroke);this.disabled(a.disabled);this.lJ(a.sourceUid);this.Ii(a.sourceKey);this.o(a.meta);this.XU(a.hoverCursor);this.hw(a.iconSize);};$.g.R=function(){Cv.u.R.call(this);this.TW=null;$.ud(this.ub,this.ad,this.Wl,this.iw,this.BO,this.Bs);this.Bs=this.BO=this.iw=this.Wl=this.ad=this.ub=null;};var cG=Cv.prototype;cG.getTextElement=cG.Ph;cG.getContentBounds=cG.vi;cG.getWidth=cG.yd;cG.getHeight=cG.pd;cG.draw=cG.W;$.H($.Kv,wv);$.S($.Kv,XF);$.Kv.prototype.pa=wv.prototype.pa;$.Kv.prototype.ra=wv.prototype.ra|192;var Jv=2;$.g=$.Kv.prototype;$.g.Ju=Jv|29;$.g.vb=null;$.g.nj=null;$.g.state=function(a,b){return $.n(b)?(this.Iu(a)&&b!=this.state(a)&&(this.bc=b?a:this.bc&~a,0==this.bc&&(this.bc=Jv),this.B(64,1)),this):!!(this.bc&a);};$.g.Iu=function(a,b){return $.n(b)?(!b&&this.state(a)&&this.state(a,!1),this.Ju=b?this.Ju|a:this.Ju&~a,this):!!(this.Ju&a);};$.g.Pa=function(a){return this.state(Jv,a);};$.g.Uj=function(a){return this.state(4,a);};$.g.yja=function(){this.state(8,!0);};$.g.checked=function(a){return this.state(16,a);};$.g.disabled=function(a){return this.state(1,a);};$.g.padding=function(a,b,c,d){this.Ua||(this.Ua=new $.Ju(),$.L(this.Ua,this.Nk,this));return $.n(a)?(this.Ua.N.apply(this.Ua,arguments),this):this.Ua;};$.g.Nk=function(a){$.X(a,2)&&this.B(4,9);};$.g.position=function(a){return $.n(a)?(this.af=a,this.B(4,9),this):this.af;};$.g.width=function(a){return $.n(a)?(this.Sf!=a&&(this.Sf=a,this.B(20,9)),this):this.Sf;};$.g.height=function(a){return $.n(a)?(this.Df!=a&&(this.Df=a,this.B(20,9)),this):this.Df;};$.g.Yx=function(a){this.ce(a);if(a=!this.vb)this.vb=$.tk(),this.vb.Bd("aria-hidden","true"),$.tu(this,this.vb,this.no,this.gg,null,null,this.Tj,this.rr),this.vb.Fd(!0);this.Zh(this.vb,a);this.J(4)&&(Lv(this),a=new $.I(0,0,this.vC.width,this.vC.height),this.vb.x(this.Ig),this.vb.y(this.Jg),this.vb.clip(a),this.vb.nc(1,0,0,1,0,0),this.vb.translate(this.vC.left,this.vC.top),this.B(64),this.I(4));};$.g.RL=function(a,b){this.nj||(this.nj=$.rk(),$.tu(this,this.nj,this.no,this.gg,null,null,this.Tj,this.rr));var c=this.nj,d=this.vC;c.clear();var e=d.left,f=d.top,h=d.width;d=d.height;c.moveTo(e,f).lineTo(e+h,f).lineTo(e+h,f+d).lineTo(e,f+d).close();c.fill(a);c.stroke(b);};$.g.Lj=function(a){this.J(16)&&(this.Yx(a.text),this.I(16));this.J(4)&&(Lv(this),this.Yx(a.text),this.B(64),this.I(4));this.J(64)&&(this.RL(a.fill,a.stroke),this.I(64));};$.g.W=function(){if(!this.yc())return this;$.V(this);var a=$.gd(this.e6);switch(this.bc){case 0:throw Error("Undefined button state.");case 4:this.Lj(a.hover);break;case 8:this.Lj(a.pushed);break;case 16:this.Lj(a.checked);break;case 1:this.Lj(a.disabled);break;default:this.Lj(a.normal);}this.da(!0);this.J(8)&&(a=this.zIndex(),this.nj&&this.nj.zIndex(a),this.vb&&this.vb.zIndex(a),this.I(8));this.J(2)&&(a=this.O(),this.nj&&this.nj.parent(a),this.vb&&this.vb.parent(a),this.I(2));this.J(128)&&(this.vb&&this.vb.cursor(this.cursor()),this.nj&&this.nj.cursor(this.cursor()),this.I(128));return this;};$.g.remove=function(){this.vb&&this.vb.parent(null);this.nj&&this.nj.parent(null);};$.g.no=function(a){this.disabled()||this.iE||this.checked()||this.nh(a)&&this.Uj(!0);};$.g.gg=function(a){this.disabled()||this.iE||this.checked()||(this.iE=!1,this.nh(a)&&this.Pa(!0));};$.g.Tj=function(a){a.preventDefault();this.disabled()||(this.iE=!0,this.nh(a)&&this.yja());};$.g.rr=function(a){!this.disabled()&&this.iE&&this.nh(a)&&(this.iE=!1,a=a.target==this.nj||a.target==this.vb,this.Iu(16)?(this.dL=!this.dL)?this.checked(this.dL):a?(this.Uj(!0),$.E(this.ZN)&&this.ZN(this)):this.Pa(!0):a?(this.Uj(!0),$.E(this.ZN)&&this.ZN(this)):this.Pa(!0));};$.g.IH=function(){this.e6={normal:{stroke:"#dedede",fill:"#e7e7e7",text:{fontColor:"#7c868e"}},hover:{stroke:"#cecece",fill:"#eee",text:{fontColor:"#7c868e"}},pushed:{stroke:"#d0d0d0",fill:"#d9d9d9",text:{fontColor:"#333"}},checked:{stroke:"1 #666 1",fill:{keys:["0 #ffffff","0.5 #e7e7e7","1 #d0d0d0"],angle:"90"},text:{fontColor:"#000"}},disabled:{stroke:"1 #666 1",fill:"#aaa",text:{fontColor:"#777"}}};};$.g.cursor=function(a){return $.n(a)?(a=Dk(a,"default"),this.JC!=a&&(this.JC=a,this.B(128,1)),this):this.JC;};$.g.R=function(){$.ud(this.Ua,this.vb,this.nj);this.nj=this.vb=this.Ua=null;$.Kv.u.R.call(this);};$.H(Nv,$.Kv);Nv.prototype.Yx=$.ia;Nv.prototype.RL=function(a,b){this.nj||(this.nj=$.rk(),this.nj.cursor("pointer"),$.tu(this,this.nj,this.no,this.gg,null,null,this.Tj,this.rr));this.nj.clear();this.b(this.nj,this.vC);this.nj.fill(a);this.nj.stroke(b);};Nv.prototype.IH=function(){this.e6=this.na;};Nv.prototype.R=function(){$.pd(this.nj);this.nj=null;Nv.u.R.call(this);};$.H($.Pv,Gu);$.Pv.prototype.Ej=function(a){var b=this.Kg(a.width),c=this.Vh(a.height),d=$.M(this.g("left"),b),e=$.M(this.g("top"),c);return new $.I(a.left+d,a.top+e,b,c);};$.Pv.prototype.Vh=function(a){var b=this.g("top"),c=this.g("bottom"),d=1;$.zo(b)?d+=(0,window.parseFloat)(b)/100:a-=$.ea(b)?b:(0,window.parseFloat)(b);$.zo(c)?d+=(0,window.parseFloat)(c)/100:a-=$.ea(c)?c:(0,window.parseFloat)(c);d||(d=1E-7);return a/d;};$.Pv.prototype.Kg=function(a){var b=this.g("left"),c=this.g("right"),d=1;$.zo(b)?d+=(0,window.parseFloat)(b)/100:a-=$.ea(b)?b:(0,window.parseFloat)(b);$.zo(c)?d+=(0,window.parseFloat)(c)/100:a-=$.ea(c)?c:(0,window.parseFloat)(c);d||(d=1E-7);return a/d;};$.H(Vv,wv);var dG={};$.wq(dG,[[0,"orientation",$.Lk],[0,"layout",$.Hk]]);$.S(Vv,XF);$.S(Vv,dG);$.g=Vv.prototype;$.g.pa=wv.prototype.pa;$.g.ra=wv.prototype.ra|64;$.g.padding=function(a,b,c,d){this.Ua||(this.Ua=new $.Ju(),$.L(this.Ua,this.Nk,this),$.W(this,"padding",this.Ua));return $.n(a)?(this.Ua.N.apply(this.Ua,arguments),this):this.Ua;};$.g.margin=function(a,b,c,d){this.Pc||(this.Pc=new $.Pv(),$.L(this.Pc,this.Nk,this),$.W(this,"margin",this.Pc));return $.n(a)?(this.Pc.N.apply(this.Pc,arguments),this):this.Pc;};$.g.Nk=function(a){$.X(a,2)&&this.B(4,9);};$.g.background=function(a){this.Ga||(this.Ga=new $.Au(),$.L(this.Ga,this.ug,this),$.W(this,"background",this.Ga));return $.n(a)?(this.Ga.N(a),this):this.Ga;};$.g.ug=function(a){$.X(a,1)&&this.B(64,1);};$.g.Z1=function(){return this.P;};$.g.IC=function(a){if($.n(a)){a=(0,window.isNaN)((0,window.parseFloat)(a))?0:+a;--a;if(this.aa!=a)if(0<=a&&a<this.P)this.aa=a,this.B(16,1);else throw Error("incorrect currentPage value!!");return this;}return this.aa+1;};$.g.remove=function(){var a=$.Ar(this,"background");a&&a.remove();this.j&&(this.j.remove(),this.j.B(2));this.i&&(this.i.remove(),this.i.B(2));this.jc&&this.jc.parent(null);};$.g.yc=function(){if(this.nf())return!1;if(!Yv(this))return this.J(1)&&(this.remove(),this.I(1),this.B(2)),!1;if(!this.O())return this.remove(),this.B(2),$.il(1),!1;this.I(1);return!0;};$.g.W=function(){if(!this.yc())return this;var a=this.O(),b=a?a.Ia():null,c=b&&!b.wf();c&&b.suspend();var d;if(d=!this.jc)this.jc=$.tk(),this.jc.Bd("aria-hidden","true");var e=$.Ar(this,"background");e&&$.V(e);this.J(4)&&Zv(this);this.J(2)&&(e&&e.O(a).W(),this.j&&this.j.O(a),this.jc&&this.jc.parent(a),this.i&&this.i.O(a),this.I(2));this.J(64)&&(e&&(e.ja(this.D,this.G,this.f,this.b),e.W()),this.I(64));this.J(8)&&(a=this.zIndex(),e&&e.zIndex(a),this.j&&this.j.zIndex(a),this.jc&&this.jc.zIndex(a),this.i&&this.i.zIndex(a),this.I(8));this.J(16)&&($.V(this),this.sa("text",Wv(this)),this.da(!1),this.Zh(this.jc,d),this.B(4),this.I(16));if(this.J(4)){this.ba.textContent=Wv(this);d=this.ba.getBBox();a=d.height;var f=this.ja();this.j.width(a).height(a).ja(f);this.i.width(a).height(a).ja(f);var h;var k=$.M(this.padding().g("top"),this.b);f=$.M(this.padding().g("left"),this.f);var l=this.padding().Kg(this.f),m=this.padding().Vh(this.b);k=this.G+k+(m-d.height)/2;f=this.D+f+(l-d.width)/2;switch(this.g("layout")){case"horizontal":var p=h=k;var q=f-10-a;var r=f+d.width+10;break;case"vertical":p=k-10-a,h=k+d.height+10,q=r=f+(d.width-a)/2;}this.j.position({x:q,y:p});this.jc.nc(1,0,0,1,0,0);this.jc.translate(f,k);this.i.position({x:r,y:h});this.j.disabled(!this.aa);this.i.disabled(this.aa+1==this.P);this.j.W();this.i.W();this.I(4);}e&&e.da(!1);c&&b.resume();return this;};$.g.ob=function(){return $v(this);};$.g.xd=function(){this.Yb&&!this.J(4)||Zv(this);var a=this.ja();a=a?a.clone():$.nn(0,0,0,0);if(!this.enabled())return a;switch(this.g("orientation")){case"top":a.top+=this.Yb.height;a.height-=this.Yb.height;break;case"right":a.width-=this.Yb.width;break;case"bottom":a.height-=this.Yb.height;break;case"left":a.left+=this.Yb.width,a.width-=this.Yb.width;}return a;};$.g.F=function(){var a=Vv.u.F.call(this);$.Xq(this,dG,a);a.background=this.background().F();a.padding=this.padding().F();a.margin=this.margin().F();return a;};$.g.U=function(a,b){Vv.u.U.call(this,a,b);$.Pq(this,dG,a,b);"padding"in a&&this.padding().fa(!!b,a.padding);"margin"in a&&this.margin().fa(!!b,a.margin);"background"in a&&this.background().fa(!!b,a.background);};$.g.R=function(){$.ud(this.j,this.i,this.Ua,this.Pc,this.Ga,this.jc);this.jc=this.Ga=this.Pc=this.Ua=this.i=this.j=null;Vv.u.R.call(this);};var eG=Vv.prototype;eG.background=eG.background;eG.padding=eG.padding;eG.margin=eG.margin;eG.currentPage=eG.IC;eG.getPagesCount=eG.Z1;$.H(aw,$.Y);aw.prototype.pa=$.Y.prototype.pa|32768;aw.prototype.ra=$.Y.prototype.ra|20;var Nda=aw.prototype,fG={};$.vq(fG,1,"fill",$.Rq);$.vq(fG,1,"stroke",$.Qq);$.vq(fG,0,"width",$.fr);$.vq(fG,0,"height",$.fr);$.vq(fG,0,"orientation",$.Lk);Nda.zQ=fG;$.S(aw,aw.prototype.zQ);$.g=aw.prototype;$.g.oh=function(a){return null!=this.Oa[a];};$.g.g=$.mr;$.g.ig=function(a){$.n(a)&&(this.Vb=a);return this.Vb;};$.g.bh=$.lr;$.g.Vd=function(){var a=[this.na];this.Y&&(a=$.Ga(a,this.Y.Vd()));return a;};$.g.Ud=function(){var a=[this.Oa];this.Y&&(a=$.Ga(a,this.Y.Ud()));return a;};$.g.parent=function(a){return $.n(a)?(this.Y!=a&&(this.Y&&$.or(this.Y,this.Sc,this),(this.Y=a)?($.L(this.Y,this.Sc,this),this.margin().parent(this.Y.margin())):this.margin().parent(null)),this):this.Y;};$.g.Sc=function(a){var b=0,c=0;$.X(a,1)&&(b|=16,c|=1);$.X(a,8)&&(b|=4,c|=8);$.X(a,32768)&&(b|=1,c|=1);this.B(b,c);};$.g.ro=function(){this.B(20,9);};$.g.margin=function(a,b,c,d){this.Pc||(this.Pc=new $.Pv(),$.L(this.Pc,this.TA,this),$.W(this,"margin",this.Pc));return $.n(a)?(this.Pc.N.apply(this.Pc,arguments),this):this.Pc;};$.g.bf=function(a){return $.n(a)?(this.$o!=a&&(this.$o=a,this.B(16,1)),this):this.$o;};$.g.W=function(){if(!this.yc())return this;this.Rc||(this.Rc=$.rk());var a=this.O(),b=a?a.Ia():null,c=b&&!b.wf();c&&b.suspend();this.J(4)&&(bw(this),this.I(4));if(this.J(16)){this.Rc.fill(this.g("fill"));this.Rc.stroke(this.g("stroke"));this.Rc.clear();var d=new $.I(this.D,this.G,this.f,this.b);this.$o&&$.E(this.$o)&&this.$o(this.Rc,d);this.I(16);}this.J(2)&&(this.enabled()&&this.Rc.parent(a),this.I(2));this.J(8)&&(a=this.zIndex(),this.Rc.zIndex(a),this.I(8));c&&b.resume();return this;};$.g.remove=function(){this.Rc&&this.Rc.parent(null);};$.g.vi=function(){this.Yb&&!this.J(4)||bw(this);return new $.I(0,0,this.Yb.width,this.Yb.height);};$.g.xd=function(){if(!this.Yb||this.J(4))bw(this),this.I(4);var a=this.ja()||$.nn(0,0,0,0);if(!this.enabled())return a;switch(this.g("orientation")){case"top":a.top+=this.Yb.height;a.height-=this.Yb.height;break;case"right":a.width-=this.Yb.width;break;case"bottom":a.height-=this.Yb.height;break;case"left":a.left+=this.Yb.width,a.width-=this.Yb.width;}return a;};$.g.TA=function(a){$.X(a,2)&&this.B(20,9);};$.g.Mb=function(){var a=this.g("orientation");return $.n(a)?"top"==a||"bottom"==a:!0;};$.g.F=function(){var a=aw.u.F.call(this);$.Xq(this,this.zQ,a,"Separator");var b=this.margin().F();$.Nc(b)||(a.margin=b);return a;};$.g.U=function(a,b){aw.u.U.call(this,a,b);$.Pq(this,this.zQ,a,b);"margin"in a&&this.margin().fa(!!b,a.margin);};$.g.R=function(){$.ud(this.Pc,this.Rc);this.Rc=this.Pc=null;aw.u.R.call(this);};var gG=aw.prototype;gG.margin=gG.margin;gG.getRemainingBounds=gG.xd;$.H($.cw,$.Y);$.cw.prototype.pa=$.Y.prototype.pa|32768;$.cw.prototype.ra=$.Y.prototype.ra|80;$.cw.prototype.j=$.zq();$.S($.cw,$.cw.prototype.j);$.cw.prototype.K=function(){var a={};$.wq(a,[[0,"width",$.fr],[0,"height",$.fr],[0,"align",Gk],[0,"orientation",function(a){return this.h3?"bottom"==a?a:"top":$.Lk(a);}],[0,"rotation",$.Fq],[0,"text",$.Dq],[0,"maxLength",$.Bq]]);return a;}();$.S($.cw,$.cw.prototype.K);$.g=$.cw.prototype;$.g.ig=function(a){$.n(a)&&(this.Vb=a);return this.Vb;};$.g.bh=function(){var a=this.ig();a||(a=$.Ga(this.Ud(),_dw(this),this.Vd()),this.ig(a));return a;};$.g.Vd=function(){var a=[this.Ld];this.Y&&(a=$.Ga(a,this.Y.Vd()));return a;};$.g.Ud=function(){var a=[this.Oa];this.Y&&(a=$.Ga(a,this.Y.Ud()));return a;};$.g.oh=function(a){return null!=this.Oa[a];};$.g.g=$.mr;$.g.vs=function(){return 9;};$.g.parent=function(a){return $.n(a)?(this.Y!=a&&(this.Y&&$.or(this.Y,this.Sc,this),(this.Y=a)?($.L(this.Y,this.Sc,this),this.background().df().parent(this.Y.background()),this.padding().parent(this.Y.padding()),this.margin().parent(this.Y.margin())):(this.background().parent(null),this.padding().parent(null),this.margin().parent(null))),this):this.Y;};$.g.Sc=function(a){var b=0,c=0;$.X(a,1)&&(b|=16,c|=1);$.X(a,8)&&(b|=4,c|=8);$.X(a,32768)&&(b|=1,c|=32769);this.Vb=null;this.B(b,c);};$.g.background=function(a){this.Ga||(this.Ga=new $.Au(),$.L(this.Ga,this.ug,this),$.W(this,"background",this.Ga));return $.n(a)?(this.Ga.N(a),this):this.Ga;};$.g.qB=function(a){this.P=0>a?null:a;$.n(this.height())||this.B(4);};$.g.margin=function(a,b,c,d){this.Pc||(this.Pc=new $.Pv(),$.L(this.Pc,this.Nk,this),$.W(this,"margin",this.Pc));return $.n(a)?(this.Pc.N.apply(this.Pc,arguments),this):this.Pc;};$.g.padding=function(a,b,c,d){this.Ua||(this.Ua=new $.Ju(),$.W(this,"padding",this.Ua),$.L(this.Ua,this.Nk,this));return $.n(a)?(this.Ua.N.apply(this.Ua,arguments),this):this.Ua;};$.g.ce=function(a,b){if($.n(a)){if($.z(a)){if($.n(b)){if(a in this.j)this[a](b);}else return this.md(a);}else if($.C(a))for(var c in a)if(c in this.j)this[c](a[c]);return this;}c={};for(var d in this.j){var e=this.g(d);$.n(e)&&(c[d]=e);}return c;};$.g.W=function(){if(!this.yc())return this;var a=hw(this),b=this.O();$.V(this);this.J(2)&&(this.ub.parent(b),this.I(2));this.J(8)&&(this.ub.zIndex(this.zIndex()),this.I(8));this.J(16)&&(this.Zh(a),this.I(16));this.J(4)&&(iw(this),this.jc.x($.M(this.padding().g("left"),this.f)),this.jc.y($.M(this.padding().g("top"),this.b)),this.ub.nc(this.i.nd,this.i.Ve,this.i.gf,this.i.Le,this.i.Md,this.i.Hd),this.B(64),this.I(4));this.J(64)&&(a=this.background(),$.V(a),a.ja(0,0,this.f,this.b),a.W(),a.da(!1),this.I(64));this.da(!1);return this;};$.g.remove=function(){this.ub?this.ub.parent(null):this.jc&&this.jc.parent(null);};$.g.xd=function(){var a=this.ja();a=a?a.clone():$.nn(0,0,0,0);if(!this.enabled())return a;this.Yb&&!this.J(4)||iw(this);switch(this.g("orientation")){case"top":a.top+=this.Yb.height;a.height-=this.Yb.height;break;case"right":a.width-=this.Yb.width;break;case"bottom":a.height-=this.Yb.height;break;case"left":a.left+=this.Yb.width,a.width-=this.Yb.width;}return a;};$.g.XG=ba(3);$.g.vi=function(){if(!this.enabled())return new $.I(0,0,0,0);this.Yb&&!this.J(4)||iw(this);return this.Yb.clone();};$.g.rk=function(){var a=this.g("text"),b=$.gw(this);if($.n(a)||$.n(b))return a=!a&&$.n(b)?b:a,b=this.g("maxLength"),a=Fu(a,b);};$.g.Zh=function(a){var b=this.g("useHtml"),c=this.rk();if(a||$.n(c)||$.n(b))b?this.jc.htmlText(c):this.jc.text(c);this.jc.fontSize(this.g("fontSize"));this.jc.fontFamily(this.g("fontFamily"));this.jc.color(this.g("fontColor"));this.jc.direction(this.g("textDirection"));this.jc.Vu(this.g("wordBreak"));this.jc.wordWrap(this.g("wordWrap"));this.jc.opacity(this.g("fontOpacity"));this.jc.cr(this.g("fontDecoration"));this.jc.fontStyle(this.g("fontStyle"));this.jc.fontVariant(this.g("fontVariant"));this.jc.fontWeight(this.g("fontWeight"));this.jc.letterSpacing(this.g("letterSpacing"));this.jc.lineHeight(this.g("lineHeight"));this.jc.textIndent(this.g("textIndent"));this.jc.textShadow(this.g("textShadow"));this.jc.vAlign(this.g("vAlign"));this.jc.xm(this.g("hAlign"));this.jc.textOverflow(this.g("textOverflow"));this.jc.Dm(this.g("selectable"));this.jc.Fd(this.g("disablePointerEvents"));};$.g.uA=function(){var a=this.md("rotation");delete this.Ld.rotation;a=$.n(a)?a:this.g("rotation");if($.n(a))return a;switch(this.g("orientation")){case"left":return this.Ld.rotation=-90;case"right":return this.Ld.rotation=90;default:return this.Ld.rotation=0;}};$.g.ug=function(a){$.X(a,1)&&this.B(64,1);};$.g.Nk=function(a){$.X(a,2)&&this.B(4,9);};$.g.clear=function(){this.ub&&this.ub.dj();};$.g.F=function(){var a={},b=$.U.prototype.g.call(this,"zIndex");$.n(b)&&(a.zIndex=b);b=$.U.prototype.g.call(this,"enabled");$.n(b)&&(a.enabled=b);$.Xq(this,this.j,a,"Title text");$.Xq(this,this.K,a,"Title props");b=this.margin().F();$.Nc(b)||(a.margin=b);b=this.padding().F();$.Nc(b)||(a.padding=b);b=this.background().F();$.Nc(b)||(a.background=b);return a;};$.g.Xd=function(a){return $.z(a)?{text:a,enabled:!0}:$.da(a)||null===a?{enabled:!!a}:null;};$.g.Je=function(a,b){var c=this.Xd(b);return c?(a?(this.na.enabled=c.enabled,"text"in c&&(this.na.text=c.text)):(this.enabled(c.enabled),"text"in c&&this.text(c.text)),!0):!1;};$.g.U=function(a,b){$.cw.u.U.call(this,a,b);$.Pq(this,this.j,a,b);$.Pq(this,this.K,a,b);"padding"in a&&this.padding().fa(!!b,a.padding);"margin"in a&&this.margin().fa(!!b,a.margin);"background"in a&&this.background().fa(!!b,a.background);};$.g.R=function(){$.ud(this.Ga,this.Pc,this.Ua,this.ub);this.ub=this.Ua=this.Pc=this.Ga=null;$.cw.u.R.call(this);};$.H(jw,$.cw);$.zu(jw,$.cw);jw.prototype.er=function(){var a=this.width(),b=this.height();return $.zo(a)||$.zo(b)||null===a||null===b;};var hG=$.cw.prototype;hG.textSettings=hG.ce;hG.background=hG.background;hG.margin=hG.margin;hG.padding=hG.padding;hG.getRemainingBounds=hG.xd;hG=jw.prototype;$.F("anychart.standalones.title",function(){var a=new jw();a.fa(!0,$.om("standalones.title"));return a;});hG.draw=hG.W;hG.parentBounds=hG.ja;hG.container=hG.O;$.H(kw,$.nd);$.g=kw.prototype;$.g.getContext=function(){return{parentElement:this.b,titleElement:this.j,separatorElement:this.f,contentElement:this.i};};$.g.Xa=function(){mw(this);return this.b;};$.g.NP=function(){var a=$.Wf(this.Xa(),"margin");$.Ef(this.Xa(),this.fb.G.x-a.left,this.fb.G.y-a.top);};$.g.visible=function(a){return $.n(a)?($.Rf(this.Xa(),!!a),this):"none"!=this.Xa().style.display;};$.g.qb=function(){var a=$.Pf(this.Xa());return new $.I(0,0,a.width,a.height);};$.g.O=function(a){if($.n(a)&&this.Hc!=a)if(null===a)this.remove();else return this.Hc=a,a=this.Xa(),this.Hc.appendChild(a),this;return this.Hc;};$.g.remove=function(){this.b&&($.Ye(this.b),this.Hc=null);};$.g.R=function(){this.remove();this.b=this.j=this.f=this.i=this.fb=null;kw.u.R.call(this);};$.H(ow,$.nd);var Oda={position:"absolute","z-index":9999,left:0,top:0,width:"100%",height:"100%","pointer-events":"none"},iG={position:"relative",left:0,top:0,overflow:"hidden",width:"100%",height:"100%"},Pda={position:"relative",left:0,top:0,opacity:1,"pointer-events":"none"};$.g=ow.prototype;$.g.N_=function(){$.wf(this.Er,Oda);$.wf(this.b.Pl(),iG);$.wf(this.b.ia(),Pda);};$.g.O=function(a){return $.n(a)?(a!=this.Hc&&((this.Hc=a)?(this.Hc.appendChild(this.Er),this.N_(),this.b.At()):$.Ye(this.Er)),this):this.Hc;};$.g.Ia=function(){return this.b;};$.g.HA=function(){return!0;};$.g.Dm=function(a){return $.n(a)?(this.j=a,this):this.j;};$.g.R=function(){$.pd(this.b);this.b=null;$.Ye(this.Er);this.Er=null;};$.H(pw,$.nd);$.g=pw.prototype;$.g.fe=0;$.g.R=function(){pw.u.R.call(this);this.stop();delete this.b;delete this.oo;};$.g.start=function(a){this.stop();this.fe=$.Fj(this.f,$.n(a)?a:this.i);};$.g.stop=function(){this.sq()&&$.Gj(this.fe);this.fe=0;};$.g.sq=function(){return 0!=this.fe;};$.g.vfa=function(){this.fe=0;this.b&&this.b.call(this.oo);};$.H(rw,$.tf);rw.prototype.R=function(){$d(this.j);rw.u.R.call(this);};rw.prototype.D=function(){this.f||(this.f=new pw(this.G,this.K,this),$.qd(this,this.f));this.f.start();};rw.prototype.G=function(){if(!this.i.ld){var a=this.b,b=qw(this.i);this.b=b;if(a){var c=!1;a.width!=b.width&&(this.dispatchEvent("b"),c=!0);a.height!=b.height&&(this.dispatchEvent("a"),c=!0);c&&this.dispatchEvent("resize");}else this.dispatchEvent("a"),this.dispatchEvent("b"),this.dispatchEvent("resize");}};$.H(sw,$.tf);sw.prototype.R=function(){sw.u.R.call(this);this.i&&($d(this.i),this.i=null);this.b=this.f=null;};sw.prototype.j=function(){var a=$.He(this.f||window);$.mb(a,this.b)||(this.b=a,this.dispatchEvent("resize"));};$.H(tw,ow);$.ja(tw);var Qda={position:"absolute","z-index":9999,left:"-10000px",top:"-10000px"},Rda={position:"absolute","z-index":9999,left:0,top:0},Sda={position:"fixed",left:0,top:0,opacity:1,"pointer-events":"none"},Tda={position:"fixed",left:0,top:0,opacity:1,width:"1px",height:"1px"},Uda={position:"fixed",left:0,top:0,opacity:1,"pointer-events":"none",overflow:"",display:"",width:"",height:""};tw.prototype.N_=function(){var a=window.document;$.id&&(!$.dd("7")||a.documentMode&&6>=a.documentMode)?$.wf(this.Er,Rda):$.wf(this.Er,Qda);"svg"==$.lk?($.wf(this.Ia().Pl(),iG),$.wf(this.Ia().ia(),Sda)):($.wf(this.Ia().Pl(),Tda),$.wf(this.Ia().ia(),Uda));this.D();};tw.prototype.D=function(){if("svg"==$.lk){var a=this.f;a=a.b?a.b.clone():null;this.Ia().resize(a.width,a.height);}};tw.prototype.HA=function(){return!1;};tw.prototype.R=function(){$.ud(this.i,this.f);this.f=this.i=null;tw.u.R.call(this);};$.H($.yw,$.Y);$.yw.prototype.ra=$.Y.prototype.ra|6080;var vw=1988;$.yw.prototype.pa=$.Y.prototype.pa|49152;var ww=1,xw=2;$.yw.prototype.ba=$.zq();$.S($.yw,$.yw.prototype.ba);var Vda=$.yw.prototype,lG={};$.wq(lG,[[0,"width",$.fr],[0,"height",$.fr],[0,"titleFormat",$.er],[0,"format",$.er],[0,"unionFormat",$.er],[0,"valuePrefix",$.Dq],[0,"valuePostfix",$.Dq],[0,"position",$.Fk],[0,"anchor",$.Ek],[0,"offsetX",$.Fq],[0,"offsetY",$.Fq],[0,"x",$.Fq],[0,"y",$.Fq],[0,"allowLeaveScreen",$.Hq],[0,"allowLeaveChart",$.Hq],[0,"allowLeaveStage",$.Hq],[0,"displayMode",function(a){return $.Ak(Ada,a,"single");}],[0,"positionMode",function(a){return $.Ak(Bda,a,"float");}],[0,"onDomReady",$.kr],[0,"onBeforeTitleChange",$.kr],[0,"onTitleChanged",$.kr],[0,"onBeforeContentChange",$.kr],[0,"onContentChanged",$.kr],[0,"hideDelay",$.Fq]]);Vda.CQ=lG;$.S($.yw,$.yw.prototype.CQ);$.g=$.yw.prototype;$.g.Ic=function(a,b){for(var c in this.j){var d=this.j[c];d&&d.Ic(a,b);}return Nw(this,a,b);};$.g.ce=function(a,b){if($.n(a)){if($.z(a)){if($.n(b)&&a in this.ba)this[a](b);else return this.g(a);}else{$.V(this);for(var c in a)if(c in this.ba)this[c](a[c]);this.da(!0);}return this;}var d={};for(c in this.ba){var e=this.g(c);$.n(e)&&(d[c]=e);}return d;};$.g.padding=function(a,b,c,d){this.Ua||(this.Ua=new $.Ju(),$.L(this.Ua,this.Fia,this),$.W(this,"padding",this.Ua));return $.n(a)?(this.Ua.N.apply(this.Ua,arguments),this):this.Ua;};$.g.Fia=function(a){$.X(a,2)&&(this.pE(),this.B(vw,1));};$.g.background=function(a){this.Ga||(this.Ga=new $.Au(),$.L(this.Ga,this.ug,this),this.Ga.jb(this),$.W(this,"background",this.Ga));return $.n(a)?(this.Ga.N(a),this):this.Ga;};$.g.ug=function(a){$.X(a,1)&&this.B(1024,1);};$.g.title=function(a){this.ib||(this.ib=new $.cw(),$.L(this.ib,this.$A,this),this.ib.jb(this),$.W(this,"title",this.ib));return $.n(a)?(this.ib.N(a),this):this.ib;};$.g.$A=function(a){$.X(a,8)?(this.pE(),this.B(vw,1)):$.X(a,1)&&this.B(128,1);};$.g.Wr=function(a){this.aa||(this.aa=new aw(),$.L(this.aa,this.Tia,this),this.aa.jb(this),$.W(this,"separator",this.aa));return $.n(a)?(this.aa.N(a),this):this.aa;};$.g.Tia=function(a){$.X(a,8)?(this.pE(),this.B(vw,1)):$.X(a,1)&&this.B(256,1);};$.g.W=function(){$.Mw(this);var a=this.g("useHtml");if(a){if(this.nf()||this.ld)return this;if(!this.enabled())return this.J(1)&&(this.remove(),this.I(1),this.B(2)),this;if(!this.i.O())return this.remove(),this.I(2),this;this.I(1);}else if(!this.yc())return this;var b=this.background(),c=this.title(),d=this.Wr(),e=this.Oi();Kw(this,this);this.J(8)&&(Jw(this).zIndex(this.zIndex()),this.I(8));if(this.J(4)){Tw(this);var f=this.P;this.ma=this.padding().Ej(f);this.Ja=this.ea=null;this.I(4);}this.J(64)&&(this.G=null,Uw(this),a?this.i.NP():Jw(this).nc(1,0,0,1,this.G.x,this.G.y),this.I(64));a?nw(this.i):(this.J(1024)&&($.V(b),b.ja(this.P),b.O(Jw(this)),b.W(),b.da(!1),this.I(1024)),this.J(128)&&($.V(c),c.ja(this.ma),c.W(),c.da(!1),!this.ea&&c.enabled()&&(this.ea=c.xd()),this.I(128)),this.J(256)&&($.V(d),d.ja(this.ea||this.ma),d.W(),d.da(!1),!this.Ja&&d.enabled()&&(this.Ja=d.xd()),this.I(256)),this.J(512)&&(a=this.Ja||this.ea||this.ma,$.V(e),this.Zh(),e.ja(a),e.W(),e.da(!1),this.I(512)),this.J(4096)&&this.I(4096));return this;};$.g.xa=function(a){return $.n(a)?(this.oa=a,this):this.oa;};$.g.NP=function(a,b){var c=this.g("displayMode");"single"==c&&(Dw(this,this.b,a,b),Lw(this.b,a,b));if("union"==c)Dw(this,this.b,a,b),Lw(this.b,a,b);else if("separated"==c)for(var d in this.j)if(c=this.j[d])Ow(this,c,a,b),Lw(c,a,b);};$.g.Oi=function(a){this.Nd||(this.Nd=new $.Av(),$.L(this.Nd,this.tia,this),this.Nd.jb(this),this.Nd.width("100%").height("100%"),$.W(this,"contentInternal",this.Nd));return $.n(a)?(this.Nd.N(a),this):this.Nd;};$.g.tia=function(a){$.X(a,8)?(this.pE(),this.B(vw,1)):$.X(a,1)&&this.B(512,1);};$.g.pE=function(){this.G=this.P=null;};$.g.remove=function(){this.g("useHtml")&&this.i&&this.i.remove();Jw(this).parent(null);};$.g.Yj=function(){return this.Ya||this.check(ww)&&!$.Nc(this.j);};$.g.ob=function(){this.G=null;Uw(this);var a=this.g("useHtml"),b=a?0:this.g("offsetX");a=a?0:this.g("offsetY");return new $.I(this.G.x+b,this.G.y+a,this.P.width,this.P.height);};$.g.vi=function(){Tw(this);return this.P;};$.g.Zh=function(){if(this.J(512)){$.V(this.Oi());for(var a in this.ba){var b=this.g(a);$.n(b)&&this.Oi().ce(a,b);}this.Oi().adjustFontSize(this.g("adjustFontSize"));this.Oi().minFontSize(this.g("minFontSize"));this.Oi().maxFontSize(this.g("maxFontSize"));this.Oi().da(!1);}};$.g.mL=function(){this.D&&this.D.sq()?this.Za=!0:($.pd(this.D),this.D=new pw(function(){this.remove();this.Za&&(this.Za=!1,this.mL());},this.g("hideDelay"),this));};$.g.RN=function(a){if(Rw(this,a.clientX,a.clientY))this.f.HA()||this.f.Dm(!0);else{$.Zd(window.document,"mousemove",this.RN,!1,this);var b=Jw(this).ia();b&&($.Zd(b,"mouseenter",this.pY,!1,this),$.Zd(b,"mouseleave",this.qY,!1,this));this.$M(a);}};$.g.pY=function(){$.Zd(window.document,"mousemove",this.RN,!1,this);Jw(this).ia()&&$.Zd(Jw(this).ia(),"mouseenter",this.pY,!1,this);this.K=null;};$.g.qY=function(a){Jw(this).ia()&&$.Zd(Jw(this).ia(),"mouseleave",this.qY,!1,this);this.$M(a);};$.g.$M=function(a){if(2==a.Be.buttons)return!0;this.f.HA()||this.f.Dm(!1);Jw(this).ia()&&$.Zd(Jw(this).ia(),"mouseleave",this.$M,!1,this);this.K=null;this.g("hideDelay")?(this.mL(),this.D.sq()||this.D.start()):this.Ic(!0);};$.g.parent=function(a){if($.n(a)){if(this.Y!=a){var b=String($.oa(this));null===a?($.or(this.Y,this.Sc,this),this.title().parent(null),this.Wr().parent(null),this.background().parent(null),this.padding().parent(null),this.Oi().parent(null),this.Oi().padding().parent(null),delete this.Y.j[b],this.Y=null):(this.Y&&$.or(this.Y,this.Sc,this),this.Y=a,this.title().df().parent(this.Y.title()),this.Wr().df().parent(this.Y.Wr()),this.background().df().parent(this.Y.background()),this.padding().parent(this.Y.padding()),this.Oi().parent(this.Y.Oi()),this.Oi().padding().parent(this.Y.Oi().padding()),this.Y.j[b]=this,this.UK(),$.L(this.Y,this.Sc,this));}return this;}return this.Y;};$.g.Sc=function(a){var b=0,c=0;this.UK();if($.X(a,8)||$.X(a,1))b|=vw,c|=8,this.pE();$.X(a,32768)&&(b|=1,c|=1);this.Vb=null;this.B(b,c);};$.g.oh=function(a){return null!=this.Oa[a];};$.g.g=$.mr;$.g.check=function(a){return $.n(a)?!!(a&this.eb):!0;};$.g.UK=function(){if(this.g("useHtml")){if(!dF){dF=!0;var a=$.Be(),b=$.De(a.b,"HEAD",void 0,void 0)[0];if(!b){var c=$.De(a.b,"BODY",void 0,void 0)[0];b=a.sc("HEAD");c.parentNode.insertBefore(b,c);}c=a.sc("STYLE");c.innerHTML=".anychart-tooltip {border-radius: 3px;padding: 5px 10px;background: rgba(33, 33, 33, 0.7);border: none;display: inline-block;box-sizing: border-box;letter-spacing: normal;color: #fff;font-family: Verdana, Helvetica, Arial, 'sans-serif';font-size: 12px;position: absolute;pointer-events: none;margin: 10px 0px 10px 10px;}.anychart-tooltip-separator {color: rgba(206, 206, 206, 0.3);border: none;height: 1px;margin: 5px 0;}.anychart-tooltip-title{font-size: 14px;}";a.Fga(b,c,0);}this.i||(this.i=new kw(this));}else this.i&&this.i.remove();for(var d in this.j)this.j[d].UK();this.G=this.P=null;};$.g.ig=function(a){$.n(a)&&(this.Vb=a);return this.Vb;};$.g.bh=function(){var a=this.ig();a||(a=$.Ga(this.Ud(),[this.Ha],this.Vd()),this.ig(a));return a;};$.g.Vd=function(){var a=[this.na];this.Y&&(a=$.Ga(a,this.Y.Vd()));return a;};$.g.Ud=function(){var a=[this.Oa];this.Y&&(a=$.Ga(a,this.Y.Ud()));return a;};$.g.F=function(){var a=$.yw.u.F.call(this);$.Xq(this,this.ba,a,void 0,void 0,!0);$.Xq(this,this.CQ,a,void 0,void 0,!0);delete a.x;delete a.y;delete a.zIndex;var b=this.title().F();$.Nc(b)||(a.title=b);b=this.Wr().F();$.Nc(b)||(a.separator=b);b=this.background().F();$.Nc(b)||(a.background=b);b=this.padding().Oa;$.Nc(b)||(a.padding=b);return a;};$.g.U=function(a,b){$.yw.u.U.call(this,a,b);$.Pq(this,this.ba,a,b);$.Pq(this,this.CQ,a,b);this.title().fa(!!b,a.title);this.Wr().fa(!!b,a.separator);this.background().fa(!!b,a.background);this.padding().fa(!!b,a.padding);var c=a.contentInternal||{};c.position=c.position?c.position:"left-top";c.anchor=c.anchor?c.anchor:"left-top";this.Oi(c);};$.g.R=function(){delete this.Oa;delete this.na;if(this.Y){var a=String($.oa(this));$.or(this.Y,this.Sc,this);delete this.Y.j[a];}for(var b in this.j)(a=this.j[b])&&$.pd(a);this.f&&!this.f.HA()&&this.O(null);$.ud(this.ib,this.aa,this.Nd,this.Ga,this.Ua,this.Na,this.D,this.i);this.i=this.D=this.Na=this.Ua=this.Ga=this.Nd=this.aa=this.ib=null;if(this.f&&this.f.HA()&&Vw(this)){a=!0;for(b in uw)if(uw.hasOwnProperty(b)){var c=uw[b];if(c!=this&&this.f==c.f){a=!1;break;}}a&&(b=Ww(this),delete Xw[b],$.pd(this.f));}delete this.f;delete uw[String($.oa(this))];$.yw.u.R.call(this);};var mG=$.yw.prototype;mG.title=mG.title;mG.separator=mG.Wr;mG.background=mG.background;mG.padding=mG.padding;mG.hide=mG.Ic;mG.textSettings=mG.ce;$.H($.Yw,wv);$.Yw.prototype.pa=wv.prototype.pa;var nG=function(){function a(a){return function(b){var c="itemsSpacing"==a?(0,window.parseFloat)(b):Number(b);return null===b?this.uf(a):(0,window.isNaN)(c)?this.g(a):c;};}var b={};$.wq(b,[[0,"inverted",$.Hq],[0,"itemsLayout",eba],[0,"iconSize",$.N],[0,"width",$.Gq],[0,"height",$.Gq],[0,"maxWidth",$.Gq],[0,"maxHeight",$.Gq],[0,"position",$.Lk],[0,"positionMode",hba],[0,"drag",$.Hq],[0,"itemsFormat",$.Gq],[0,"titleFormat",$.Gq],[0,"itemsHAlign",Gk],[0,"itemsSpacing",a("itemsSpacing")],[0,"itemsSourceMode",pba],[0,"hoverCursor",Dk],[0,"iconTextSpacing",a("iconTextSpacing")],$.Z.WJ]);return b;}();$.S($.Yw,nG);$.g=$.Yw.prototype;$.g.ra=wv.prototype.ra|4032;$.g.items=function(a){return $.n(a)?(this.Ba!=a&&(this.Ba=a,this.B(1040,1)),this):this.Ba;};$.g.KA=function(a){return $.n(a)?(a=$.A(a)?$.Ja(a,0):null===a?a:[a],Zw(this,a)||(this.f=a,this.B(1040,1)),this):this.f;};$.g.hR=function(a){return $.n(a)?(this.aa!=a&&(this.aa=a,this.B(1040,1)),this):this.aa;};$.g.margin=function(a,b,c,d){this.Pc||(this.Pc=new $.Pv(),$.L(this.Pc,this.Nk,this),$.W(this,"margin",this.Pc));return $.n(a)?(this.Pc.N.apply(this.Pc,arguments),this):this.Pc;};$.g.Nk=function(a){$.X(a,2)&&this.B(4,9);};$.g.padding=function(a,b,c,d){this.Ua||(this.Ua=new $.Ju(),$.L(this.Ua,this.Nk,this),$.W(this,"padding",this.Ua));return $.n(a)?(this.Ua.N.apply(this.Ua,arguments),this):this.Ua;};$.g.background=function(a){this.Ga||(this.Ga=new $.Au(),$.L(this.Ga,this.ug,this),$.W(this,"background",this.Ga));return $.n(a)?(this.Ga.N(a),this):this.Ga;};$.g.ug=function(a){$.X(a,1)&&this.B(64,1);};$.g.title=function(a){this.ib||(this.ib=new $.cw(),$.L(this.ib,this.Kq,this),this.ib.jb(this),$.W(this,"title",this.ib));return $.n(a)?(this.ib.N(a),this):this.ib;};$.g.Kq=function(a){var b=0,c=0;$.X(a,1)&&(b|=128,c|=1);$.X(a,8)&&(b|=4,c|=8);this.B(b,c);};$.g.oY=function(a){this.i||(this.i=new aw(),$.L(this.i,this.Oka,this),$.W(this,"titleSeparator",this.i));return $.n(a)?(this.i.N(a),this):this.i;};$.g.Oka=function(a){var b=0,c=0;$.X(a,1)&&(b|=256,c|=1);$.X(a,8)&&(b|=4,c|=8);this.B(b,c);};$.g.iO=function(a){this.K||(this.K=new Vv(),$.L(this.K,this.cja,this),$.W(this,"paginator",this.K));return $.n(a)?(this.K.N(a),this):this.K;};$.g.cja=function(a){var b=0,c=0;$.X(a,1)&&(b|=512,c|=1);$.X(a,8)&&(b|=4,c|=8);this.B(b,c);};$.g.Sa=function(a){this.fb||(this.fb=new $.yw(0),$.L(this.fb,this.xp,this),$.Cw(this.fb,this),this.fb.Fa($.yr.tooltip),$.W(this,"tooltip",this.fb),this.fb.fa(!0,this.fb.na));return $.n(a)?(this.fb.N(a),this):this.fb;};$.g.xp=function(){var a=this.Sa();a.O()&&a.W();};$.g.ja=function(a,b,c,d){return $.Yw.u.ja.call(this,a,b,c,d);};$.g.xd=function(){var a=this.ja()||$.nn(0,0,0,0);if(!this.enabled()||"inside"==this.g("positionMode"))return a;this.Yb&&!this.J(4)||this.Km();switch(this.g("position")){case"top":a.top+=this.Yb.height;a.height-=this.Yb.height;break;case"right":a.width-=this.Yb.width;break;default:case"bottom":a.height-=this.Yb.height;break;case"left":a.left+=this.Yb.width,a.width-=this.Yb.width;}return a;};$.g.ob=function(){this.Yb&&!this.J(4)||this.Km();return this.Yb;};$.g.Km=function(){var a=this.ja();null!=a&&0>=a.width&&0>=a.height&&(a=null);var b=this.margin(),c=this.padding(),d=0,e=0,f=this.g("width"),h=this.g("height"),k=this.g("maxWidth"),l=this.g("maxHeight");if(a){var m=a.width;var p=a.height;if(null!=f){var q=Math.min(m,$.M(f,m),null!=k?$.M(k,m):m);k=c.Kg(b.Kg(q));}else k=null!=k?c.Kg(b.Kg($.M(k,m))):c.Kg(b.Kg(m));if(null!=h){var r=Math.min(p,$.M(h,p),null!=l?$.M(l,p):p);var t=c.Vh(b.Vh(r));}else t=null!=l?c.Vh(b.Vh($.M(l,p))):c.Vh(b.Vh(p));}else $.ea(f)&&!(0,window.isNaN)(f)?(q=f,k=c.Kg(f)):k=$.ea(k)&&!(0,window.isNaN)(k)?c.Kg(k):window.Infinity,$.ea(h)&&!(0,window.isNaN)(h)?(r=h,t=c.Vh(h)):t=$.ea(l)&&!(0,window.isNaN)(l)?c.Vh(l):window.Infinity;var u,v;h=$.Ar(this,"titleSeparator");l=$.Ar(this,"paginator");f=$.Ar(this,"title");var w=l&&l.g("orientation"),x="bottom"==w||"top"==w,y=f&&(f.g("orientation")||$.fw(f));y=y&&("bottom"==y||"top"==y);var B=f?0==f.uA()%180:0,G=h&&h.Mb();h&&$.V(h);l&&$.V(l);f&&$.V(f);var D=u=null;do{u&&(D=u);var K=v=0,P=0,R=0;if(f&&f.enabled()){f.ja(null);ew(f,null);f.qB(null);var T=f.vi();y?(T.width>k&&(B?ew(f,k):f.qB(k),T=f.vi()),R=T.width,v+=T.height):(T.height>t&&(B?f.qB(t):ew(f,t),T=f.vi()),P=T.height,K+=T.width);}else T=null;h&&h.enabled()?(h.ja(null),u=h.vi(),G?v+=u.height:K+=u.width):u=null;var xa=k-K;var ta=Bca(this,xa,t-v);var Qa=ta.width;ta=ta.height;v+=ta;K+=Qa;P=Math.max(P,ta);R=Math.max(R,Qa);K=Math.max(R,K);R=Math.max(P,v);P=t;y&&(P-=T?T.height:0);G&&(P-=u?u.height:0);l.ja(null);v=$v(l,1);var xb=this.g("itemsLayout");if("horizontal"==xb)Qa>xa&&this.Sb&&1<this.Sb.length?Xv(l,!0):Xv(l,!1);else if("vertical-expandable"==xb)Qa>xa&&1<this.oe?Xv(l,!0):Xv(l,!1);else if("vertical"==xb||"horizontal-expandable"==xb)ta>P&&this.Sb&&1<this.Sb.length?Xv(l,!0):Xv(l,!1);Yv(l)&&(x?(K=Math.max(K,v.width),R+=v.height):(K+=v.width,R=Math.max(R,v.height)));K=Math.min(K,k);P=Math.min(R,t);xa=b.Ik(c.Ik(K));ta=b.ak(c.ak(P));if(f&&f.enabled()){xb=T.width;if(y||B){if(B&&!y){var qc;R=Yv(l)?v.width:0;var ib=(this.Sb&&this.Sb.length?this.Sb[0].ob().width:0)+R;Qa+R>=k-T.width?qc=ib:qc=Qa;T=Math.max(Math.min(f.text().length,1),f.margin().Kg(K-xb<=qc?K-qc:xb));ew(f,T);}else if(!B&&R>t){T=0;u&&G&&(T+=u.height);if("top"==w||"bottom"==w)T+=v.height;Qa=Yv(l)&&!x?v.height:0;Qa=Math.max(this.Sb&&this.Sb.length?this.Sb[0].ob().height:0,Qa);T=Math.max(1,f.margin().Vh(t-T-Qa));B?f.qB(T):ew(f,T);}T=f.vi();h&&(h.width(xa),u=h.vi());}else T=f.vi(),h&&(h.width(ta),u=h.vi());y?P-=T.height:K-=T.width;}h&&h.enabled()&&(G?P-=u.height:K-=u.width);T=K;u=P;Yv(l)&&(x?u=P-v.height:T=K-v.width);Qa=T;K=u;this.b=[];u=0;P=this.Sb&&this.Sb.length;v=this.g("itemsSpacing");for(T=0;T<P&&T in this.G;T++);if(0<K&&this.Sb&&T!=P)switch(this.b[u]=[],this.b[u][0]=this.Sb[T],this.g("itemsLayout")){case"horizontal":K=this.Sb[T].ob().yd();for(T+=1;T<P;T++)T in this.G||(K+v+this.Sb[T].ob().yd()>Qa?(u++,this.b[u]=[],this.b[u][0]=this.Sb[T],K=this.Sb[T].ob().yd()):(K=K+v+this.Sb[T].ob().yd(),this.b[u].push(this.Sb[T])));break;case"vertical":Qa=this.Sb[T].ob().pd();T+=1;for(P=this.Sb.length;T<P;T++)T in this.G||(Qa+v+this.Sb[T].ob().pd()>K?(u++,this.b[u]=[],this.b[u][0]=this.Sb[T],Qa=this.Sb[T].ob().pd()):(Qa=Qa+v+this.Sb[T].ob().pd(),this.b[u].push(this.Sb[T])));break;case"horizontal-expandable":var Sb=this.Sb[T].ob().yd()+v,Lb=this.Sb[T].ob().pd()+v,Tb=0;for(T+=1;T<P;T++)T in this.G||(ib=this.Sb[T],xb=ib.ob().yd(),R=ib.ob().pd(),Sb+xb>Qa?(Tb+=Lb,Tb+R>K?(u++,this.b[u]=[],this.b[u][0]=ib,Tb=0):this.b[u].push(ib),Sb=xb+v,Lb=R+v):(Sb+=xb+v,Lb=Math.max(Lb,R+v),this.b[u].push(ib)));break;case"vertical-expandable":for(Sb=this.Sb[T].ob().yd()+v,Lb=this.Sb[T].ob().pd()+v,Tb=0,T+=1;T<P;T++)T in this.G||(ib=this.Sb[T],xb=ib.ob().yd(),R=ib.ob().pd(),Lb+R>K?(Tb+=Sb,Tb+xb>Qa?(u++,this.b[u]=[],this.b[u][0]=ib,Tb=0):this.b[u].push(ib),Sb=xb+v,Lb=R+v):(Sb=Math.max(Sb,xb+v),Lb+=R+v,this.b[u].push(ib)));}(v=$.Ar(this,"paginator"))&&Qv(v,u+1);l.ja(null);u=l.ob();}while(!$.nb(D,u));q||(q=xa);r||(r=ta);this.Yb=new $.I(d,e,q,r);if(this.PL)d=this.Tc<this.td?Math.max(a.left,this.Tc*a.width+a.left):Math.min(a.bb(),a.bb()-(this.td*a.width+q)),e=this.Ed<this.rc?Math.max(a.top,this.Ed*a.height+a.top):Math.min(a.Ta(),a.Ta()-(this.rc*a.height+r)),$.qb(a,this.Yb)||(d<a.left&&(d=a.left),d+q>a.bb()&&(d=a.bb()-q),e<a.top&&(e=a.top),e+r>a.Ta()&&(e=a.Ta()-r));else if(a){b=this.g("position");c=this.g("align");d=a.sb();e=a.Ub();switch(b){case"left":case"right":switch(c){case"center":e+=(p-r)/2;break;case"right":case"bottom":e=a.Ta()-r;}break;case"top":case"bottom":switch(c){case"center":d+=(m-q)/2;break;case"right":case"bottom":d=a.bb()-q;}}switch(b){case"right":d=a.bb()-q;break;case"bottom":e=a.Ta()-r;}}else d=$.M(b.g("left"),0),e=$.M(b.g("top"),0);this.Yb.left=d;this.Yb.top=e;this.padding().Ej(this.margin().Ej(this.Yb));a=this.Yb.clone();a.left=0;a.top=0;this.ma=this.margin().Ej(a);this.Od=this.padding().Ej(this.ma);h&&h.da(!1);l&&l.da(!1);f&&f.da(!1);this.I(4);};$.g.remove=function(){this.Ma&&this.Ma.parent(null);};$.g.W=function(){if(!this.yc())return this;this.Ma||(this.Ma=$.pk(),$.tu(this,this.Ma),this.ba||(this.ba=$.pk(),this.ba.parent(this.Ma).zIndex(20)));this.J(8)&&(this.Ma.zIndex(this.zIndex()),this.I(8));var a=this.O(),b=a?a.Ia():null;this.J(2)&&(this.Ma.parent(a),this.I(2),"svg"==$.lk&&(this.P=$.ng(),a=this.P.Vp(),this.D=this.P.So(),a.appendChild(this.D)));(a=b&&!b.wf())&&b.suspend();this.J(1024)&&(this.Ja=!0,this.I(1024));if(this.J(16)){var c=this.hR(),d=Cca(this);this.g("inverted")&&(d=d.reverse());d=$.E(c)?c(d):d;this.Sb&&this.Sb.length!=d.length&&(this.Ja=!0);c=Dca(this,d);Eca(this,c);this.I(16);}Fca(this);if(this.J(4)){if(this.Sb&&"..."==this.g("textOverflow"))for(c=0,d=this.Sb.length;c<d;c++)this.Sb[c].ja(null),this.Sb[c].Ph().width(null);this.Km();this.B(3008);this.Ma.nc(1,0,0,1,this.Yb.left,this.Yb.top);this.Ma.clip(this.ma);this.I(4);}if(this.J(64)){if(c=$.Ar(this,"background"))$.V(c),c.ja(this.ma),this.enabled()&&c.O(this.Ma),c.da(!1),c.W();this.I(64);}if(this.J(128)){if(c=$.Ar(this,"title"))$.V(c),c.ja(this.Od),this.enabled()&&c.O(this.Ma),c.da(!1),c.W();this.I(128);}c=this.ib?this.ib.xd():this.Od;if(this.J(256)){if(d=$.Ar(this,"titleSeparator"))$.V(d),d.ja(c),this.enabled()&&d.O(this.Ma),d.da(!1),d.W();this.I(256);}d=this.i?this.i.xd():c;c=$.Ar(this,"paginator");this.J(512)&&(c&&($.V(c),c.ja(d),this.enabled()&&c.O(this.Ma),c.da(!1),c.W()),this.I(512));d=c&&Yv(c)?c.xd():d;c=c&&Yv(c)?c.IC()-1:0;d.width=Math.max(1,d.width);d.height=Math.max(1,d.height);Gca(this,c,d.ceil());if(this.J(2048)){!this.io&&this.g("drag")&&(this.io=this.Ma.rect(),this.io.fill($.cm).stroke(null).zIndex(0),this.Ma.ua("beforedrag",function(){this.PL=!0;this.Ya||(this.Ya=!0,this.ea||(this.ea=$.nk(),this.ea.fill($.cm).stroke(null).zIndex(100)),this.ea.Kf(this.ma),this.ea.parent(this.Ma),this.dispatchEvent("dragstart"));},!1,this),this.Ma.ua("drag",this.Xfa,!1,this),this.Ma.ua("end",function(){var a=this.Ma.Qd,b=this.ob(),c=this.ja();this.eb=a.Md;this.rb=a.Hd;this.Tc=(this.eb-c.left)/c.width;this.Ed=(this.rb-c.top)/c.height;this.td=(c.width-(this.eb-c.left+b.width))/c.width;this.rc=(c.height-(this.rb-c.top+b.height))/c.height;this.Ya&&(this.Ya=!1,this.ea.parent(null),this.dispatchEvent("dragend"));},!1,this));c=!1;if(this.g("drag")){var e;c=this.margin().Ej("inside"==this.g("positionMode")?this.ja():(e=gaa(this.ja(),this.xd())).length?e[0]:$.nn(0,0,0,0));}this.io&&this.io.Kf(this.ma);this.Ma.Mm(c);this.I(2048);}a&&b.resume();return this;};$.g.Xfa=function(a){return this.dispatchEvent(a.type);};$.g.hg=function(a){a=$.Yw.u.hg.call(this,a);var b=$.xo(a.domTarget);b=$.N(b&&b.index);(0,window.isNaN)(b)||(a.itemIndex=b);return a;};$.g.maa=function(a){var b=cx(this,a);if(b&&this.dispatchEvent(b))switch(b.type){case"legenditemmouseover":var c=this.Sb&&this.Sb[b.itemIndex];b=b.itemSource;c&&(b&&$.E(b.uq)&&b.uq(c,a),c.ya=!0,Hv(c,!0),Dv(c,!0),Gv(c,!0),a&&$w(this,a));break;case"legenditemmousemove":a&&$w(this,a);break;case"legenditemmouseout":c=this.Sb&&this.Sb[b.itemIndex];b=b.itemSource;c&&(b&&$.E(b.tq)&&b.tq(c,a),a=c,a.ya=!1,Hv(a,!1),Dv(a,!1),Gv(a,!1),this.Sa().Ic());break;case"legenditemclick":a.button==$.Qi&&(c=this.Sb&&this.Sb[b.itemIndex],b=b.itemSource,c&&b&&$.E(b.wr)&&b.wr.call(b,c,a));}};$.g.Eh=function(a){(a=cx(this,a))&&this.dispatchEvent(a);};$.g.F=function(){var a=$.Yw.u.F.call(this);$.Xq(this,nG,a);a.margin=this.margin().F();a.padding=this.padding().F();a.background=this.background().F();a.title=this.title().F();a.titleSeparator=this.oY().F();a.paginator=this.iO().F();a.tooltip=this.Sa().F();$.n(this.items())&&(a.items=this.items());return a;};$.g.U=function(a,b){$.Yw.u.U.call(this,a,b);$.Pq(this,nG,a,b);"padding"in a&&this.padding().fa(!!b,a.padding);"margin"in a&&this.margin().fa(!!b,a.margin);"title"in a&&this.title().fa(!!b,a.title);"background"in a&&this.background().fa(!!b,a.background);"titleSeparator"in a&&this.oY().fa(!!b,a.titleSeparator);"paginator"in a&&this.iO().fa(!!b,a.paginator);this.Sa().fa(!!b,a.tooltip);this.items(a.items);this.hR(a.itemsFormatter);};$.g.R=function(){$.Yw.u.R.call(this);this.D&&($.We(this.D),$.Ye(this.D));$.ud(this.io,this.fb,this.K,this.j,this.Sb,this.ba,this.Pc,this.Ua,this.Ga,this.ib,this.i,this.fb,this.Ma,this.D);this.D=this.Ma=this.fb=this.i=this.ib=this.Ga=this.ba=this.K=this.Ua=this.Pc=this.Sb=this.j=this.io=null;};$.H(dx,$.Yw);$.zu(dx,$.Yw);dx.prototype.er=function(){var a=this.g("width"),b=this.g("height");return $.zo(a)||$.zo(b)||null===a||null===b;};dx.prototype.fc=function(a){if($.X(a,64)){$.V(this);a=a.target.V1(this.g("titleFormat"));var b=$.Ar(this,"title");b&&null!==a&&$.gw(b,a);this.B(1040);this.O()&&this.W();this.da(!1);}};dx.prototype.KA=function(a){if($.n(a)){a=$.A(a)?$.Ja(a,0):null===a?a:[a];if(!Zw(this,a)){if(this.f)for(var b,c=0;c<this.f.length;c++)b=this.f[c],b.DI&&b.DI()&&$.or(b,this.fc,b);if(this.f=a)for(b=0;b<this.f.length;b++)a=this.f[b],a.DI&&a.DI()&&$.L(a,this.fc,this);this.B(1040,1);}return this;}return this.f;};var oG=$.Yw.prototype;oG.items=oG.items;oG.itemsFormatter=oG.hR;oG.margin=oG.margin;oG.padding=oG.padding;oG.background=oG.background;oG.title=oG.title;oG.titleSeparator=oG.oY;oG.paginator=oG.iO;oG.tooltip=oG.Sa;oG.getRemainingBounds=oG.xd;oG.getPixelBounds=oG.ob;oG=dx.prototype;$.F("anychart.standalones.legend",function(){var a=new dx();a.N($.om("standalones.legend"));return a;});oG.draw=oG.W;oG.parentBounds=oG.ja;oG.container=oG.O;oG.itemsSource=oG.KA;$.H($.ex,$.U);$.ex.prototype.pa=2;var pG=function(){var a={};$.wq(a,[[0,"enabled",$.Hq],[0,"duration",function(a){return null===a?this.uf("duration"):$.Jo(a,this.g("duration"),!0);}]]);return a;}();$.S($.ex,pG);$.ex.prototype.F=function(){var a={};$.Xq(this,pG,a);return a;};$.ex.prototype.U=function(a,b){$.Pq(this,pG,a,b);};$.ex.prototype.Xd=function(a,b,c){b=null;$.da(a)||null===a?(b={enabled:!!a},$.n(c)&&(b.duration=c)):(0,window.isNaN)(+a)||(b={enabled:!0,duration:+a});return b;};$.ex.prototype.Je=function(a,b){var c=this.Xd(b);return c?("enabled"in c&&this.enabled(c.enabled),"duration"in c&&this.duration(c.duration),!0):!1;};$.H(fx,$.U);var qG={};$.wq(qG,[[0,"enabled",$.Hq],[0,"titleFormat",$.er]]);$.S(fx,qG);$.g=fx.prototype;$.g.pa=$.U.prototype.pa|10;$.g.JW=function(a){$.X(a,8)&&this.enabled(this.Rs.g("enabled"));};$.g.F=function(){var a=fx.u.F.call(this);$.Xq(this,qG,a);return a;};$.g.Xd=function(a){return $.da(a)||null===a?{enabled:!!a}:$.E(a)?{titleFormat:a}:null;};$.g.Je=function(a,b){var c=this.Xd(b);return c?("enabled"in c&&this.enabled(c.enabled),"titleFormat"in c&&this.titleFormat(c.titleFormat),!0):!1;};$.g.U=function(a,b){fx.u.U.call(this,a,b);$.Pq(this,qG,a,b);};$.g.R=function(){this.xa=null;this.Rs&&(this.Rs.va(2),$.or(this.Rs,this.JW,this));this.Rs=null;fx.u.R.call(this);};$.H(hx,fx);var rG={};$.vq(rG,0,"mode",function(a){return $.Ak(Eda,a,"chart-elements");});$.S(hx,rG);$.g=hx.prototype;$.g.wS=function(){var a=this.xa;a.aL||(a.aL=new $.Hw());var b={chart:{value:a,type:""}};a.aL.Ji([a]);return $.rv(a.aL,b);};$.g.wR=function(){var a=this.xa.Ma;a.Bd("role",null);a.Bd("aria-hidden","true");a.Bd("aria-label",null);$.Ye(this.lE);this.lE=null;if(this.g("enabled")){var b=this.wS();if(this.g("titleFormat")){var c=this.g("titleFormat");$.z(c)&&(c=$.Pu($.Nu.Gd(),c));c=c.call(b,b);}(b=$.Ar(this.xa,"title"))&&!c&&b.g("text")&&b.enabled()&&(c=b.g("text"));"data-table"==this.g("mode")?(this.lE=this.xa.t6(c),(a=this.xa.O().O())&&$.Xe(a,this.lE,0)):c&&(a.Bd("aria-label",c),a.Bd("aria-hidden",null),a.Bd("role","article"));}};$.g.F=function(){var a=hx.u.F.call(this);$.Xq(this,rG,a);return a;};$.g.U=function(a,b){hx.u.U.call(this,a,b);$.Pq(this,rG,a);};$.g.R=function(){$.Ye(this.lE);this.lE=null;hx.u.R.call(this);};$.H(ix,fx);ix.prototype.wR=function(){var a=null,b=null,c=this.Ra.rl()||this.b;this.g("enabled")&&this.g("titleFormat")&&(a=this.wS(),b=this.g("titleFormat"),$.z(b)&&(b=$.Pu($.Nu.Gd(),b)),a=b.call(a,a),b="img");this.Ra.check(4)&&!this.b&&(c=this.b=this.Ra.rl().Ad());c.Bd("aria-label",a);c.Bd("role",b);};ix.prototype.wS=function(){return this.Ra.Pk();};ix.prototype.R=function(){$.pd(this.b);this.Ra=null;ix.u.R.call(this);};$.H($.jx,$.U);var sG={};$.wq(sG,[[0,"spotRadius",$.Jo],[0,"multiSelectOnClick",$.Hq],[0,"unselectOnClickOutOfPoint",$.Hq],[0,"hoverMode",$.Bk],[0,"selectionMode",$.Ck],[0,"zoomOnMouseWheel",$.Hq],[0,"scrollOnMouseWheel",$.Hq]]);$.S($.jx,sG);$.jx.prototype.pa=2;$.jx.prototype.U=function(a,b){$.Pq(this,sG,a,b);};$.jx.prototype.F=function(){var a={};$.Xq(this,sG,a);return a;};$.kx.prototype.Hh=function(a,b,c){var d;if($.n(b)){var e=this.target.nq();var f=this.target.$();var h=f.Jb(),k=!0;if($.da(b)&&b){b=f.la();for(d=h;d--;)e=$.nx(this,a,d,c,e),k=!1;f.select(b);}else if($.A(b))for($.Pa(b),d=b.length;d--;)f=+b[d],f<h&&(e=$.nx(this,a,f,c,e),k=!1);else+b<h&&(e=$.nx(this,a,+b,c,e),k=!1);k||this.target.sm(e);}else if(!(this.Dc&a)){c=$.hm;a==$.hm||a==$.Ao?c=$.Ao:a==$.Bo&&(c=$.Bo|$.Ao);for(d=this.b.length;d--;)$.rx(this,c,d)&&(this.target.$().select(this.f[d])&&this.target.mk($.hm),$.Ca(this.b,d,1),$.Ca(this.f,d,1));this.target.sm();if($.mx(this)){if(this.target.nf())if(this.target.eh())for(f=this.target.Ac();f.advance();)d=f.la(),f.select(d)&&$.mx(this,d)&&this.target.ll(a);else $.mx(this,window.NaN)&&this.target.ll(a);this.Dc=a;}}};$.kx.prototype.Sh=function(a,b){if($.n(b)){var c=this.target.nq();var d=this.target.$();var e=this.target.$().Jb();if($.da(b)&&b){for(var f=d.la();e--;)c=$.tx(this,a,e,c);d.select(f);}else if($.A(b))for($.Pa(b),e=b.length;e--;)c=$.tx(this,a,+b[e],c);else if((0,window.isNaN)(b))for(e=this.f.length;e--;)c=$.lx(this,a,e);else c=$.tx(this,a,+b,c);this.target.sm(c);this.target.eh()||"single"!=this.target.Tl()||this.target.ll($.ox(this,$.Bo)?$.Bo:$.ox(this,$.Ao)?$.Ao:$.hm);}else{for(e=this.b.length;e--;)$.rx(this,a,e)&&(this.target.$().select(this.f[e])&&this.target.mk($.hm),$.Ca(this.f,e,1),$.Ca(this.b,e,1));this.target.sm();this.Dc&=~a;if(this.target.nf())if(this.target.eh())for(d=this.target.Ac();d.advance();)c=d.la(),d.select(c)&&$.mx(this,c)&&this.target.ll(this.Dc);else this.target.ll(this.Dc);}};$.kx.prototype.ek=function(){return this.Dc;};var uG;$.H($.wx,$.yu);$.g=$.wx.prototype;$.g.pa=$.yu.prototype.pa;$.g.ra=$.yu.prototype.ra|3552;$.g.uP=function(){return!0;};$.g.pN=function(){return!1;};$.g.g6=function(){return!0;};$.g.$f=function(a){$.il(8);return $.n(a)?this:null;};$.g.ef=function(){return null;};$.g.$i=function(){return!1;};$.g.ku=ba(15);$.g.I0=function(){var a=$.mk();a.yx=this.yx;a.To(vv(this.To()));return a;};$.g.margin=function(a,b,c,d){this.Pc||(this.Pc=new $.Pv(),$.L(this.Pc,this.TA,this),$.W(this,"margin",this.Pc));return $.n(a)?(this.Pc.N.apply(this.Pc,arguments),this):this.Pc;};$.g.TA=function(a){$.X(a,2)&&this.B(4,9);};$.g.padding=function(a,b,c,d){this.Ua||(this.Ua=new $.Ju(),$.L(this.Ua,this.bm,this),$.W(this,"padding",this.Ua));return $.n(a)?(this.Ua.N.apply(this.Ua,arguments),this):this.Ua;};$.g.bm=function(a){$.X(a,2)&&this.B(4,9);};$.g.background=function(a){this.Ga||(this.Ga=new $.Au(),$.L(this.Ga,this.ug,this),$.W(this,"background",this.Ga));return $.n(a)?(this.Ga.N(a),this):this.Ga;};$.g.ug=function(a){$.X(a,1)&&this.B(64,1);};$.g.title=function(a){this.ib||(this.ib=new $.cw(),this.ib.jb(this),$.L(this.ib,this.KW,this),$.W(this,"title",this.ib));return $.n(a)?(this.ib.N(a),this):this.ib;};$.g.KW=function(a){var b=0,c=0;$.X(a,1)&&(b|=160,c|=1);$.X(a,8)&&(b|=4,c|=8);this.B(b,c);};$.g.label=function(a,b){if($.ea(a)||$.z(a)&&!(0,window.isNaN)(+a)){var c=+a;var d=b;}else c=0,d=a;var e=this.qv[c];e||(e=this.lL(),e.jb(this),e.Fa("defaultFontSettings","defaultLabelSettings"),this.qv[c]=e,$.L(e,this.Aia,this),this.B(256,1));return $.n(d)?(e.N(d),this):e;};$.g.Aia=function(){this.B(256,1);};$.g.lL=function(){return new $.Av();};$.g.DX=function(a,b){a.ja(b);};$.g.xW=function(a){$.X(a,1)&&this.B(256,1);};$.g.Cm=function(a){this.Bq||(this.Bq=new $.sv(this),$.L(this.Bq,this.xW,this));return $.n(a)?(this.Bq.N(a),this):this.Bq;};$.g.zj=function(){return!1;};$.g.f6=function(){return!0;};$.g.nb=$.ia;$.g.$n=$.ia;$.g.Hv=function(){this.nb();this.$n();};$.g.Ka=function(a,b){return $.n(a)?$.n(b)?(this.hn[a.toLowerCase()]=b,this):this.hn[a.toLowerCase()]:this.hn;};$.g.YI=function(){this.hn={};};$.g.Qg=function(a){this.Hv();return this.Ka(a);};$.g.Sa=function(a){this.fb||(this.fb=this.pL(),$.W(this,"tooltip",this.fb));return $.n(a)?(this.fb.N(a),this):this.fb;};$.g.pL=function(){var a=new $.yw(4294967295);a.xa(this);$.Cw(a,this);this.uP()&&this.ua("pointshover",this.eka,!0);return a;};$.g.fU=function(a,b,c){a=[];$.n(this.Te())&&(a=(0,$.Wa)(this.Te(),function(a){"scatter"==a.g("xMode")?a.$().select(b):a.$().select(c);return{series:a,points:[b]};}));return(0,$.Ze)(a,function(a){a=a.series.$();return $.n(a.o("missing"))?!a.o("missing"):!$.Io(a.get("value"));});};$.g.eka=function(a){if(!a.ET){var b=[];(0,$.Re)(a.seriesStatus,function(c){0==c.points.length?("float"==this.fb.g("positionMode")&&this.ec("mousemove",this.IJ),this.fb.Ic(!1,a)):c.series.enabled()&&b.push(c);},this);if(0!=b.length)if("float"==this.fb.g("positionMode")&&this.ua("mousemove",this.IJ),"single"==$.Ar(this,"interactivity",!0,this.Yc).g("hoverMode")){var c=[];if("single"==this.fb.g("displayMode"))c=a.seriesStatus;else{var d=c=a.seriesStatus[0].points[0];$.n(d.index)&&(d=c=d.index);var e=a.seriesStatus[0].series;e.sl&&$.J(e.sl(),$.St)&&"scatter"==e.g("xMode")&&(c=a.point.get("x"));c=this.fU(e,d,c);}$.Pw(this.fb,c,a.originalEvent.clientX,a.originalEvent.clientY,a.seriesStatus[0].series,this.Su());}else{var f=b[0];b[0].series.$().select(b[0].nearestPointToCursor.index);(0,$.Re)(b,function(a){f.nearestPointToCursor.distance>a.nearestPointToCursor.distance&&(a.series.$().select(a.nearestPointToCursor.index),f=a);});"single"==this.fb.g("displayMode")?$.Pw(this.fb,[f],a.originalEvent.clientX,a.originalEvent.clientY,f.series,this.Su()):$.Pw(this.fb,b,a.originalEvent.clientX,a.originalEvent.clientY,f.series,this.Su());}}};$.g.IJ=function(a){this.fb.NP(a.clientX,a.clientY);};$.g.Su=function(){return!1;};$.g.contextMenu=function(a){this.pk||(this.pk=$.iq.ui.contextMenu(!!$.C(a)&&a.fromTheme))&&this.pk.itemsProvider(this.kS);return $.n(a)?(this.pk&&this.pk.setup(a),this):this.pk;};$.g.kS=function(a){var b=a.event?a.event.target.Yi():null,c=a.event?$.xo(a.event.domTarget):null;b=$.C(c)&&$.n(c.X)&&c.X.seriesType&&$.n(c.index)||b&&b.seriesType;c={};$.iq.exports&&$.Uc(c,$.Tl($.tG.exporting));$.Uj()&&a.menuParent&&$.Uc(c,$.Tl($.tG[a.menuParent.fullScreen()?"full-screen-exit":"full-screen-enter"]));$.Uc(c,$.Tl($.tG.main));return a.menuParent.hx(c,a,b);};$.g.hx=function(a){return a;};$.g.lO=ba(16);$.g.HM=function(){var a=[],b,c,d,e=this.Te();for(c=0;c<e.length;c++)if((b=e[c])&&b.state&&b.$d&&b.enabled()){var f=$.ux(b.state,$.Bo);for(d=0;d<f.length;d++)a.push(b.$d(f[d]));}return a;};uG={"select-marquee-start":{index:9.3,text:"Start selection marquee",eventType:"anychart.startSelectMarquee",action:function action(a){a.menuParent.rP(!1);}},"save-chart-as":{index:10,text:"Save chart as...",iconClass:"ac ac-file-image-o",subMenu:{"save-chart-as-png":{index:10,text:".png",iconClass:"ac ac-file-image-o",eventType:"anychart.saveAsPng",action:function action(a){a.menuParent.Cu();}},"save-chart-as-jpg":{index:20,text:".jpg",iconClass:"ac ac-file-image-o",eventType:"anychart.saveAsJpg",action:function action(a){a.menuParent.Ww();}},"save-chart-as-pdf":{index:30,text:".pdf",iconClass:"ac ac-file-pdf-o",eventType:"anychart.saveAsPdf",action:function action(a){a.menuParent.Xw();}},"save-chart-as-svg":{index:40,text:".svg",iconClass:"ac ac-file-code-o",eventType:"anychart.saveAsSvg",action:function action(a){a.menuParent.Yw();}}}},"save-data-as":{index:20,text:"Save data as...",iconClass:"ac ac-save",subMenu:{"save-data-as-text":{index:10,text:".csv",iconClass:"ac ac-file-excel-o",eventType:"anychart.saveAsCsv",action:function action(a){a.menuParent.az();}},"save-data-as-xlsx":{index:20,text:".xlsx",iconClass:"ac ac-file-excel-o",eventType:"anychart.saveAsXlsx",action:function action(a){a.menuParent.bz();}}}},"share-with":{index:30,text:"Share with...",iconClass:"ac ac-net",subMenu:{"share-with-facebook":{index:10,text:"Facebook",iconClass:"ac ac-facebook",eventType:"anychart.shareWithFacebook",action:function action(a){a.menuParent.DE();}},"share-with-twitter":{index:20,text:"Twitter",iconClass:"ac ac-twitter",eventType:"anychart.shareWithTwitter",action:function action(a){a.menuParent.GE();}},"share-with-linkedin":{index:30,text:"LinkedIn",iconClass:"ac ac-linkedin",eventType:"anychart.shareWithLinkedIn",action:function action(a){a.menuParent.EE();}},"share-with-pinterest":{index:40,text:"Pinterest",iconClass:"ac ac-pinterest",eventType:"anychart.shareWithPinterest",action:function action(a){a.menuParent.FE();}}}},"print-chart":{index:50,text:"Print",iconClass:"ac ac-print",eventType:"anychart.print",action:function action(a){a.menuParent.print();}},"full-screen-enter":{index:60,text:"Enter full screen",action:function action(a){a.menuParent.fullScreen(!0);}},"full-screen-exit":{index:60,text:"Exit full screen",action:function action(a){a.menuParent.fullScreen(!1);}},about:{index:80,iconClass:"ac ac-cog",text:"AnyChart "+$.ic.apply(null,["v%s.%s.%s.%s"].concat(["8","11","0","1934"])),href:"https://anychart.com"},"save-config-as":{index:100,text:"Save config as...",iconClass:"ac ac-save",subMenu:{"save-config-as-json":{index:10,text:".json",iconClass:"ac ac-file-code-o",eventType:"anychart.saveAsJson",action:function action(a){a.menuParent.MO();}},"save-config-as-xml":{index:20,text:".xml",iconClass:"ac ac-file-code-o",eventType:"anychart.saveAsXml",action:function action(a){a.menuParent.NO();}}}},"link-to-help":{index:110,iconClass:"ac ac-question",text:"Need help? Go to support center!",href:"https://anychart.com/support"},"version-history":{index:120,text:"Version History",href:""}};$.tG={exporting:{"save-chart-as":uG["save-chart-as"],"save-data-as":uG["save-data-as"],"share-with":uG["share-with"],"print-chart":uG["print-chart"],"exporting-separator":{index:51}},"full-screen-enter":{"full-screen-enter":uG["full-screen-enter"],"full-screen-separator":{index:61}},"full-screen-exit":{"full-screen-exit":uG["full-screen-exit"],"full-screen-separator":{index:61}},main:{about:uG.about},"select-marquee":{"select-marquee-start":uG["select-marquee-start"],"select-marquee-separator":{index:9.4}}};$.g=$.wx.prototype;$.g.To=function(a){this.om||(this.om=new tv(this),$.L(this.om,this.uia,this),$.W(this,"credits",this.om),this.om.U(this.om.na));return $.n(a)?(this.om.N(a),this):this.om;};$.g.uia=function(a){var b=0;$.X(a,2)&&(b|=1024);this.B(b,1);};$.g.cC=function(a,b){this.dv||(this.dv=new $.ex(),$.L(this.dv,this.lia,this),$.W(this,"animation",this.dv));return $.n(a)?(this.dv.N.apply(this.dv,arguments),this):this.dv;};$.g.lia=function(){this.B(2048,1);};$.g.NL=$.ia;$.g.rt=function(a){this.il||(this.il=new hx(this),$.L(this.il,this.DW,this),$.W(this,"a11y",this.il));return $.n(a)?(this.il.N.apply(this.il,arguments),this):this.il;};$.g.DW=function(){this.B(32,1);};$.g.RF=function(a){a=this.margin().Ej(a);var b=$.Ar(this,"background");this.J(68)&&(b&&($.V(b),b.O()||b.O(this.Ma),b.ja(a),b.da(!1),b.W()),this.I(64));a=b&&b.enabled()?b.xd():a;a=this.YS(a);a=this.padding().Ej(a);b=this.title();this.J(132)&&(b&&($.V(b),b.O()||b.O(this.Ma),b.ja(a),b.da(!1),b.W()),this.I(128));return(b&&b.enabled()?b.xd():a).clone();};$.g.YS=function(a){var b=this.O().Ia();if(!b)return a;b=b.To();var c=this.To();b.N(vv(c));delete c.text_;delete c.url_;delete c.alt_;delete c.imgAlt_;delete c.logoSrc_;delete c.enabled_;this.I(1024);return a;};$.g.Lj=function(){this.JR||(this.Hx?$.L(this,this.S2,this):$.or(this,this.S2,this),this.JR=!0);if(this.yc()){$.V(this);var a=$.Ar(this.Cm(),"label");if(a&&this.f6()){var b=this.zj();a.visible()!==b&&this.Ma&&(b=this.dispatchEvent({type:"datachanged",chart:this,hasData:!b})&&b);a.visible(b);}this.Ma||(this.Ma=$.pk(),$.tu(this,this.Ma));var c=(b=this.O()?this.O().Ia():null)&&!b.wf();c&&b.suspend();!this.pk&&$.n(this.na.contextMenu)&&this.contextMenu(this.na.contextMenu);this.pk&&this.pk.attach(this);this.J(8)&&(this.Ma.zIndex(this.zIndex()),this.I(8));this.J(2)&&(this.Ma.parent(this.O()),this.I(2));this.J(4)&&b&&b.ua("stageresize",this.Zy,!1,this);var d=this.ob(),e=d.width&&d.height;if(e){this.nv();this.jg=this.RF(d);this.Oh(this.jg);this.JE(this.Yf());var f=$.Ar(this,"background"),h=f?f.g("fill"):null;f&&f.enabled()&&h&&"none"!=h||(this.cP||(this.cP=this.Ma.rect(),this.cP.fill($.cm).stroke(null)),this.cP.Kf(this.jg));if(this.J(260)){f=0;for(h=this.qv.length;f<h;f++){var k=this.qv[f];k&&($.V(k),!k.O()&&k.enabled()&&k.O(this.Ma),this.DX(k,d),k.W(),k.da(!1));}a&&($.V(a),a.O(this.Ma),this.DX(a,this.jg),a.W(),a.da(!1));this.I(256);}}this.I(4);e&&(this.NL(),this.I(2048),this.J(32)&&((a=$.Ar(this,"a11y"))&&a.wR(),this.I(32)));this.da(!1);a=$.fc($.dc.Gd(),this,"chart");this.Ma.id(a);c&&b.resume();b&&(b.uM()[a]=this);$.Hp(this,{type:"chartdraw",chart:this});this.uP()&&this.XD();}};$.g.W=function(a){a?(this.c0||(this.c0=(0,$.pa)(this.W,this)),(0,window.setTimeout)(this.c0,0)):this.Lj();return this;};$.g.nv=function(){};$.g.Oh=function(){};$.g.JE=function(){};$.g.Mz=function(a){return $.n(a)?(this.Hx!=a&&(this.Hx=a,this.JR=!1,this.B(4,9),this.Hx&&this.W()),this):this.Hx;};$.g.Zy=function(){this.Va().er()&&this.B(772,9);};$.g.Yf=function(){return this.jg;};$.g.aha=function(a,b){var c={x:a,y:b};if(this.O()&&this.O().Ia()){var d=$.ak(this.O().Ia());c.x+=d.x;c.y+=d.y;}return c;};$.g.tU=function(a,b){var c={x:a,y:b};if(this.O()&&this.O().Ia()){var d=$.ak(this.O().Ia());c.x-=d.x;c.y-=d.y;}return c;};$.g.remove=function(){this.Ma&&this.Ma.parent(null);};$.g.S2=function(){Vp(this.W,this);};var vG={};$.vq(vG,1,"selectRectangleMarqueeFill",$.Uq);$.vq(vG,1,"selectRectangleMarqueeStroke",$.Tq);$.vq(vG,3,"selectRectangleMarqueeFill",$.Uq,"selectMarqueeFill");$.vq(vG,3,"selectRectangleMarqueeStroke",$.Tq,"selectMarqueeStroke");$.S($.wx,vG);$.g=$.wx.prototype;$.g.HB=function(a){var b=this.ld?{}:this.F();if($.n(kq()[0].chart.background.fill)){var c={};c[Hca(this)]=$.om(this.La());b=$.Em(b,c)||{};}return a?$.mo(b):b;};$.g.DP=function(a){return $.up(this.HB(!1),"",a);};$.g.F=function(){var a=$.wx.u.F.call(this);a.type=this.La();$.Ar(this,"title")&&(a.title=this.title().F());$.Ar(this,"background")&&(a.background=this.background().F());$.Ar(this,"tooltip")&&(a.tooltip=this.Sa().F());a.margin=this.margin().F();a.padding=this.padding().F();$.Ar(this,"a11y")&&(a.a11y=this.rt().F());$.n(this.Hx)&&(a.autoRedraw=this.Hx);for(var b=[],c=0;c<this.qv.length;c++)this.qv[c]&&b.push(this.qv[c].F());0<b.length&&(a.chartLabels=b);a.bounds=this.Va().F();$.Ar(this,"animation")&&(a.animation=this.cC().F());$.Ar(this.Cm(),"label")&&(a.noDataLabel=this.Cm().label().F());this.pk&&(a.contextMenu=this.contextMenu().serialize());a.credits=this.To().F();var d;this.Rt&&(d=this.GG().F());d&&!$.Nc(d)&&(a.exports=d);$.Xq(this,vG,a);return a;};$.g.U=function(a,b){"autoRedraw"in a&&(this.Hx=a.autoRedraw);$.wx.u.U.call(this,a,b);"title"in a&&this.title().fa(!!b,a.title);"background"in a&&this.background().fa(!!b,a.background);"padding"in a&&this.padding().fa(!!b,a.padding);"margin"in a&&this.margin(a.margin);var c=a.chartLabels;if($.A(c))for(var d=0;d<c.length;d++)this.label(d,c[d]);$.z(a.container)&&this.O(a.container);this.Va(a.bounds);this.left(a.left);this.top(a.top);this.width(a.width);this.height(a.height);this.right(a.right);this.bottom(a.bottom);this.cC(a.animation);"noDataLabel"in a&&this.Cm().label().fa(!!b,a.noDataLabel);"tooltip"in a&&this.Sa().fa(!!b,a.tooltip);"a11y"in a&&this.rt().fa(!!b,a.a11y);$.n(a.contextMenu)&&this.contextMenu(a.contextMenu);"credits"in a&&this.To(a.credits);"exports"in a&&this.GG(a.exports);$.Pq(this,vG,a);};$.g.$c=void 0;$.g.R=function(){$.ud(this.dv,this.il,this.fb,this.Bq,this.Sg,this.Ga,this.fb,this.Pc,this.Ua,this.ib,this.qv,this.pk,this.om,this.Ma);this.ib=this.Ua=this.Pc=this.fb=this.Ga=this.Sg=this.Bq=this.il=this.dv=null;this.qv.length=0;this.Ma=this.om=this.pk=null;$.wx.u.R.call(this);this.fe&&tq(this,this.fe);};$.g.Eh=function(a){var b,c=$.xo(a.domTarget);if($.J(a.target,$.Ru)||$.J(a.target,$.fy)){var d=a.target.Yi();d.$i&&d.$i()&&(b=d);d=c;}else $.J(a.target,$.Yw)?c&&(b=c.X,d=c.index):(b=c&&c.X,d=$.ea(c.index)?c.index:a.pointIndex);b&&!b.ld&&b.enabled()&&$.E(b.Tg)&&($.n(a.pointIndex)||(a.pointIndex=$.A(d)?d[d.length-1]:d),(a=b.Tg(a))&&b.dispatchEvent(a));};$.g.hg=function(a){var b=$.wx.u.hg.call(this,a),c=$.xo(b.relatedDomTarget);return(c=c&&c.X)&&!c.ld&&c.enabled()?c.hg(a):b;};$.g.cG=function(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d],h;f.Ee?h={index:f.Ee.index,distance:f.Ee.Nf}:h={index:window.NaN,distance:window.NaN};c.push({series:f.X,points:b?[]:f.ud?$.Ha(f.ud):[],nearestPointToCursor:h});}return c;};$.g.OD=function(a,b,c){for(var d,e,f,h=window.Infinity,k=0,l=a.length;k<l;k++){var m=a[k];if(m.Ee){var p=m.Ee;if(h>p.Nf||!d)d=m.X,e=p.index,f=$.Aa(m.ud,p.index),h=p.Nf;}}a={index:e,series:d};a[b]=c?!f:f;return a;};$.g.al=function(a,b,c,d,e){var f=this.OD(c,a,d),h=[];if(!d)for(var k=0;k<c.length;k++){var l=c[k];var m=l.X;for(var p=0;p<l.ud.length;p++)h.push(m.$d(l.ud[p]));}m=f.series;a={type:"hovered"==a?"pointshover":"pointsselect",seriesStatus:this.cG(c,d),currentPoint:f,actualTarget:b.target,target:this,originalEvent:b,point:m.$d(f.index),points:h};e&&(a.ET=!0);return a;};$.g.ML=$.ia;$.g.fA=$.ia;$.g.Cf=function(a){var b=$.Ar(this,"interactivity",!0,this.Yc);var c=$.xo(a.domTarget),d=!1;if($.J(a.target,$.Yw)||this.cs(a.target)){if($.n(c)){$.ea(c)&&(c=a.target.Yi());if(c.ag){var e=c.ag.X;var f=c.ag.ud;$.A(f)&&!f.length&&(f=window.NaN);}else e=c.X,f=c.index;d=!0;}}else $.J(a.target,$.Ru)||$.J(a.target,$.fy)||$.J(a.target,$.yw)?(f=a.target.Yi(),f.$i&&f.$i()&&(e=f),f=c):a.target.Yi&&$.J(a.target.Yi(),$.yw)?(f=a.target.Yi().Yi(),f.$i&&f.$i()&&(e=f),f=c):(e=c&&c.X,f=$.ea(c&&c.index)?c.index:a.pointIndex);if(e&&!e.ld&&e.enabled()&&$.E(e.Tg)){if(c=e.Tg(a),null!=c&&$.ea(c.pointIndex)&&!(0,window.isNaN)(c.pointIndex)&&(f=c.pointIndex),c&&($.yo(e,a.relatedTarget)||e.dispatchEvent(c))&&"single"==b.g("hoverMode")&&($.A(f)&&!(0,$.qD)(f,function(a){return $.vx(e.state,$.Ao,a);},this)||!$.vx(e.state,$.Ao,f)&&!(0,window.isNaN)(f))){$.E(e.Zi)&&e.Zi(f,a);this.ML(f,e);c=$.ux(e.state,$.Ao);var h=[];c.length&&h.push({X:e,ud:c,Ee:{index:$.A(f)?f[0]:f,Nf:0}});h.length&&(e.$().select(h[0].Ee.index),this.dispatchEvent(this.al("hovered",a,h,!1,d)),this.xl=h.length?h:null);}}else this.xl&&(this.Kd(),this.dispatchEvent(this.al("hovered",a,this.xl,!0)),this.xl=null);if("single"!=b.g("hoverMode"))if(f=this.mq(a),c=!1,f&&f.length){e=this.Te();for(b=0;b<e.length;b++){var k=!1;for(h=0;h<f.length;h++)k=k||e[b]==f[h].X;!k&&$.ux(e[b].state,$.Ao).length&&(f.push({X:e[b],ud:[]}),e[b].Kd(),c=!0);}b=0;for(h=f.length;b<h;b++){k=f[b];e=k.X;var l=k.ud,m=$.ux(e.state,$.Ao);c=c||!$.Ta(l,m);e.state.ek()&$.Ao||e.Zi(k.ud);}c&&(this.dispatchEvent(this.al("hovered",a,f,!1,d)),this.xl=f.length?f:null);}else $.J(a.target,$.Yw)||(this.Kd(),this.xl&&this.dispatchEvent(this.al("hovered",a,this.xl,!0)),this.xl=null);};$.g.gg=function(a){var b=$.Ar(this,"interactivity",!0,this.Yc).g("hoverMode"),c=$.xo(a.domTarget),d=!1,e;if($.J(a.target,$.Ru)||$.J(a.target,$.fy)){var f=a.target.Yi();f.$i&&f.$i()&&(e=f);f=c;}else $.J(a.target,$.Yw)||this.cs(a.target)?(c&&(c.ag?(e=c.ag.X,f=c.ag.ud,$.A(f)&&!f.length&&(f=window.NaN)):(e=c.X,f=c.index)),d=!0):(e=c&&c.X,f=$.ea(c.index)?c.index:a.pointIndex);if(e&&!e.ld&&e.enabled()&&$.E(e.Tg)&&(c=e.Tg(a))){var h=$.xo(a.relatedDomTarget);h=$.N($.C(h)?h.index:h);var k=$.yo(e,a.relatedTarget),l="vml"==$.lk&&e.Sa&&$.yo(e.Sa(),a.relatedTarget);k&&h==f||!e.dispatchEvent(c)||l||"single"!=b||(0,window.isNaN)(f)&&!$.A(f)||(e.Kd(),this.fA(),this.dispatchEvent(this.al("hovered",a,[{X:e,ud:[],Ee:{index:$.A(f)?f[0]:f,Nf:0}}],!1,d)));}"single"==b||$.yo(this,a.relatedTarget)||(this.Kd(),this.fA(),this.xl&&this.dispatchEvent(this.al("hovered",a,this.xl,!0,d)),this.xl=null);};$.g.cs=function(){return!1;};$.g.Tj=function(a){this.Cq(a);};$.g.Cq=function(a){if(!this.fB){var b=$.Ar(this,"interactivity",!0,this.Yc),c=a.ctrlKey||a.metaKey;var d=b.g("multiSelectOnClick");var e=c||a.shiftKey||d;var f=$.xo(a.domTarget);var h=this.cs(a.target);var k=$.J(a.target,$.Ru);var l=$.J(a.target,$.fy);h=$.J(a.target,$.Yw)||h;var m,p;if(h){if(f)if(p=f.ag||f.ud){var q=p.X;var r=p.ud;}else q=f.X,r=f.index;}else k||l?(k=a.target.Yi(),k.$i&&k.$i()&&(q=k),r=f):(q=f&&f.X,r=f&&$.ea(f.index)?f.index:a.pointIndex);if(q&&!q.ld&&q.enabled()&&$.E(q.Tg)){var t=q.Tg(a);if(t&&($.yo(q,a.relatedTarget)||q.dispatchEvent(t))&&(h||(r=t.pointIndex),"single"==b.g("hoverMode"))){if("none"==b.g("selectionMode")||"none"==q.fj())return;k=$.ux(q.state,$.Bo);var u=1==k.length&&k[0]==r;if(!e&&u)return;if(f=e)f=!!(q.state.ek()&$.Bo);!d&&(f||!e||e&&"multi-select"!=b.g("selectionMode"))?(this.he(),this.dm&&this.dispatchEvent(this.al("selected",a,this.dm,!0))):"single-select"==q.fj()&&(this.dm&&this.dispatchEvent(this.al("selected",a,this.dm,!0)),q.he(),$.A(r)&&(r=r[r.length-1]));$.E(q.Gi)&&q.Gi(r,a);l=this.Te();d=[];for(f=0;f<l.length;f++)if(m=l[f])k=$.ux(m.state,$.Bo),k.length&&d.push({X:m,ud:k,Ee:{index:r,Nf:0}});d.length||d.push({X:q,ud:[],Ee:{index:r,Nf:0}});this.dispatchEvent(this.al("selected",t,d));u?this.dm=null:this.dm=d;}}else"single"==b.g("hoverMode")&&b.g("unselectOnClickOutOfPoint")&&(h||this.he(),this.dm&&this.dispatchEvent(this.al("selected",a,this.dm,!0)),this.dm=null);if("single"!=b.g("hoverMode")&&"none"!=b.g("selectionMode"))if((r=this.mq(a))&&r.length){h=!1;d=[];var v;if("single-select"==b.g("selectionMode")){var w;f=0;for(b=r.length;f<b;f++){var x=r[f];q=x.X;"none"!=q.fj()&&(w||(w=x),w.Ee.Nf>x.Ee.Nf&&(w=x));}q=w.X;k=$.ux(q.state,$.Bo);u=1==k.length&&k[0]==w.Ee.index;h=!u||u&&e;if(c=e)c=!!(q.state.ek()&$.Bo);!c&&e||u||q.he();q.Gi(w.Ee.index,a);k=$.ux(q.state,$.Bo);if(k.length)for(d.push({X:q,ud:[w.Ee.index],Ee:w.Ee}),l=this.Te(),f=0;f<l.length;f++)q=l[f],"none"!=q.fj()&&((v=q==d[0].X)||q.he());else d.push({X:q,ud:k,Ee:x.Ee});}else{w=[];if(!e)for(l=this.Te(),f=0;f<l.length;f++)if(m=l[f],"none"!=m.fj()){v=!1;for(t=0;t<r.length;t++)v=v||m==r[t].X;!v&&$.ux(m.state,$.Bo).length&&(w.push({X:m,ud:[]}),m.he(),h=!0);}f=0;for(b=r.length;f<b;f++)if(x=r[f],q=x.X,"none"!=q.fj()){"single-select"==q.fj()?p=[x.Ee.index]:p=x.ud;k=$.ux(q.state,$.Bo);if(a.shiftKey){v=!0;for(t=0;t<p.length;t++)v=v&&$.Aa(k,p[t]);u=v;}else c||(u=$.Ta(p,k));h=h||!u;if(!u){if(k=e)k=!!(q.state.ek()&$.Bo);!k&&e&&"single-select"!=q.fj()||q.he();q.Gi(p,a);}k=$.ux(q.state,$.Bo);k.length?d.push({X:q,ud:k,Ee:x.Ee}):w.push({X:q,ud:k,Ee:x.Ee});}for(f=0;f<w.length;f++)d.push(w[f]);}h&&(this.dispatchEvent(this.al("selected",a,d)),this.dm=d.length?d:null);}else h||this.he(),this.dm&&this.dispatchEvent(this.al("selected",a,this.dm,!0)),this.dm=null;}};$.g.he=function(){var a,b=this.Te();var c=0;for(a=b.length;c<a;c++)b[c]&&b[c].he();};$.g.Kd=function(){var a,b=this.Te();var c=0;for(a=b.length;c<a;c++)b[c]&&b[c].Kd();};$.g.Yc=function(a){this.Sg||(this.Sg=this.tS(),$.L(this.Sg,this.XD,this),$.W(this,"interactivity",this.Sg));return $.n(a)?($.C(a)?this.Sg.N(a):this.Sg.hoverMode(a),this):this.Sg;};$.g.tS=function(){return new $.jx(this);};$.g.XD=function(){for(var a=this.Te(),b=a.length;b--;)if(a[b]){var c=$.Ar(this,"interactivity",!0,this.Yc);a[b].Tl(c.g("hoverMode"));}};$.g.mN=function(a){this.Gs&&this.tV.cursor(this.rV||Ax(this,a.clientX,a.clientY)?this.sV:null);};$.g.W2=function(a){var b,c=this.O(),d=$.ak(c.Ia()),e=a.clientX-d.x;d=a.clientY-d.y;"mousedown"==a.type&&!a.Be.IA()||!(b=Ax(this,a.clientX,a.clientY))||this.wV&&!1===this.wV(b-1,e,d,0,0,a)||(this.MH=b-1,b=this.Gs[this.MH],this.mw=e,this.DD=d,this.Fn.Kf(this.lN?new $.I(this.mw,b.top,0,b.height):new $.I(this.mw,this.DD,0,0)),this.Fn.parent(c),this.Fy||(this.Fy=new Bx(this.Fn)),this.Fy.t5=$.ll,b=b.clone(),b.left-=this.mw,b.top-=this.DD,this.Fy.FX(b),this.ju.ua(this.Fy,"drag",this.Kga),this.ju.ua(this.Fy,"end",this.Jga),this.rV=!0,this.Fy.kk(a.Be),a.preventDefault(),a.stopPropagation());};$.g.Kga=function(a){if(this.lN){var b=this.Gs[this.MH];b=new $.I(this.mw,b.top,a.left,b.height);}else b=new $.I(this.mw,this.DD,a.left,a.top);this.Fn.Kf(b);this.uV&&this.uV(this.MH,this.mw,this.DD,a.left,a.top,new $.Ri(a.tC,this.O().Ia()));};$.g.Jga=function(a){if(this.lN){var b=this.Gs[this.MH];b=new $.I(this.mw,b.top,a.left,b.height);}else b=new $.I(this.mw,this.DD,a.left,a.top);this.Fn.Kf(b);b=!1;this.vV&&(b=!1===this.vV(this.MH,this.mw,this.DD,a.left,a.top,new $.Ri(a.tC,this.O().Ia())));b||this.X2?this.Fn.parent(null):yx(this);};$.H(Bx,$.cg);Bx.prototype.Yq=function(){this.deltaX=this.deltaY=0;};Bx.prototype.gs=function(){};$.g=$.wx.prototype;$.g.xka=function(a){$.kl(405,null,["chart.startSelectMarquee()","chart.startSelectRectangleMarquee()"],!0);return this.rP(a);};$.g.rP=function(a){this.fB=$.zx(this,this.Pia,this.Nia,this.Oia,this.GM(),void 0,a,this.g("selectRectangleMarqueeStroke"),this.g("selectRectangleMarqueeFill"));return this;};$.g.eN=function(){return!!this.Gs;};$.g.lda=function(){this.fB=!1;yx(this);return this;};$.g.GM=function(){return null;};$.g.Zz=function(a,b,c,d,e,f,h){b=$.ak(this.O().Ia());var k=0>e?c+e:c,l=0>f?d+f:d;return{type:a,offsetX:h.offsetX,offsetY:h.offsetY,clientX:h.clientX,clientY:h.clientY,screenX:h.screenX,screenY:h.screenY,button:h.button,actionButton:h.actionButton,keyCode:h.keyCode,charCode:h.charCode,ctrlKey:h.ctrlKey,altKey:h.altKey,shiftKey:h.shiftKey,metaKey:h.metaKey,platformModifierKey:h.platformModifierKey,clientStartX:c+b.x,clientStartY:d+b.y,clientLeft:k+b.x,clientTop:l+b.y,startX:c,startY:d,left:k,top:l,width:Math.abs(e),height:Math.abs(f)};};$.g.Pia=function(a,b,c,d,e,f){return this.dispatchEvent(this.Zz("selectmarqueestart",a,b,c,d,e,f));};$.g.Nia=function(a,b,c,d,e,f){return this.dispatchEvent(this.Zz("selectmarqueechange",a,b,c,d,e,f));};$.g.Oia=function(a,b,c,d,e,f){a=this.Zz("selectmarqueefinish",a,b,c,d,e,f);(b=this.dispatchEvent(a))&&this.RO(a);this.fB=!1;return b;};$.g.RO=function(){};$.g.fullScreen=function(a){var b=this.O();b=b?b.Ia():null;return $.n(a)?(b&&b.fullScreen(a),this):b?b.fullScreen():!1;};$.g.Iy=function(){var a=this.O();return(a=a?a.Ia():null)?a.Iy():!1;};$.g.GG=function(a){var b=$.fa.anychart.exports;b?this.Rt||(this.Rt=b.create()):$.il(4,null,["Exporting"]);return $.n(a)&&this.Rt?(this.Rt.U(a),this):this.Rt;};$.g.ps=function(){return this.Te();};$.g.f2=function(){var a=$.Ga.apply(null,(0,$.Wa)(this.ps(),function(a){return a.data().Tv();}));$.Ka(a,a,$.vo);return a;};$.g.PW=function(a,b,c){var d;if($.A(b))for(d=0;d<b.length;d++){var e=b[d];a[c[d]]=$.C(e)?io(e):e;}else if($.C(b))for(d in b)e=b[d],a[c[d]]=$.C(e)?io(e):e;else a[c.value]=$.C(b)?io(b):b;};$.g.Q5=function(){return!0;};$.g.dD=function(){return[];};$.g.eD=function(a){return a.la();};$.g.cD=function(){return null;};$.g.bD=function(a){return $.J(a,$.Dx)?a.Ce():["value"];};$.g.QG=function(a,b,c,d){var e=$.vo(a);e in d?d=d[e]:(d=d[e]=c.length,c.push([b||String(a)]));return c[d];};$.g.H1=function(a,b,c,d,e,f,h){e=$.vo(a);if(e in h){do f=e+"_"+1 .toString();while(f in h);e=f;}h[e]=!0;e in d?d=d[e]:(d=d[e]=c.length,c.push([b||String(a)]));return c[d];};$.g.I1=function(a){return $.E(a.$)?a.$():a.data().$();};$.g.N2=function(a){return $.vo(a.data().Tv()[0]);};$.g.C4=function(a,b,c,d){for(var e=0;e<b.length;e++)a[e+d.length]=c.get(b[e]);};$.g.wM=function(a){for(var b=this.ps(),c=this.dD(),d={},e,f=[],h=0;h<b.length;h++){var k=b[h],l=this.bD(k);if(l.length){e=this.I1(k,a);e.reset();for(var m=this.N2(k),p={};e.advance();){var q=this.eD(e);this.Q5(a,k,q)&&(q=this.QG(q,this.cD(e,k),f,d,m,e.la(),p),this.C4(q,l,e,c));}if(1<b.length)for(e=0;e<l.length;e++)c.push(Ica(l[e],k,h+1,l.length));else c.push.apply(c,l);}}return{headers:c,data:f};};$.g.Hk=function(a,b){a=$.Ak(yda,a,"default");var c="raw"==a?$.Cx(this):this.wM(a);return $.op(c.headers,c.data,b);};$.g.u6=function(a,b){var c=this.Hk();return(c=Ep(c,a,b))?b?ff(c):c:null;};$.g.t6=function(a,b){var c=this.u6(a);return c?($.wf(c,{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px"}),b?ff(c):c):c;};$.g.NO=function(a){var b=$.iq.exports;if(b){var c=this.DP(!1);b.NO(this,c,a);}else $.il(4,null,["Exporting"]);};$.g.MO=function(a){var b=$.iq.exports;if(b){var c=this.HB(!0);b.MO(this,c,a);}else $.il(4,null,["Exporting"]);};$.g.az=function(a,b,c){var d=$.iq.exports;d?(a=this.Hk(a,b),d.az(this,a,c)):$.il(4,null,["Exporting"]);};$.g.bz=function(a,b,c){var d=$.iq.exports;if(d){var e={rowsSeparator:"\n",columnsSeparator:",",ignoreFirstRow:!1};$.ra(e,c||{});a=this.Hk(a,e);d.bz(this,a,b);}else $.il(4,null,["Exporting"]);};$.g.id=function(a){if($.n(a)){if(this.fe!=a)if(null===a)tq(this,this.fe),this.fe=a;else{var b=this.fe;sq[a]&&sq[a]!=this?($.kl(21,null,[a],!0),b=!1):($.n(b)&&tq(this,b),sq[a]=this,b=!0);b&&(this.fe=a);}return this;}return this.fe;};var wG=$.wx.prototype;wG.a11y=wG.rt;wG.animation=wG.cC;wG.autoRedraw=wG.Mz;wG.title=wG.title;wG.background=wG.background;wG.margin=wG.margin;wG.padding=wG.padding;wG.label=wG.label;wG.container=wG.O;wG.contextMenu=wG.contextMenu;wG.draw=wG.W;wG.toJson=wG.HB;wG.toXml=wG.DP;wG.legend=wG.$f;wG.credits=wG.To;wG.tooltip=wG.Sa;wG.saveAsPng=wG.Cu;wG.saveAsJpg=wG.Ww;wG.saveAsPdf=wG.Xw;wG.saveAsSvg=wG.Yw;wG.shareAsPng=wG.Fu;wG.shareAsJpg=wG.wB;wG.shareAsPdf=wG.xB;wG.shareAsSvg=wG.yB;wG.getPngBase64String=wG.tA;wG.getJpgBase64String=wG.rA;wG.getSvgBase64String=wG.vA;wG.getPdfBase64String=wG.sA;wG.toSvg=wG.Lq;wG.saveAsCsv=wG.az;wG.saveAsXlsx=wG.bz;wG.saveAsXml=wG.NO;wG.saveAsJson=wG.MO;wG.exports=wG.GG;wG.toCsv=wG.Hk;wG.toA11yTable=wG.t6;wG.toHtmlTable=wG.u6;wG.localToGlobal=wG.aha;wG.globalToLocal=wG.tU;wG.getStat=wG.Qg;wG.getSelectedPoints=wG.HM;wG.credits=wG.To;wG.shareWithFacebook=wG.DE;wG.shareWithTwitter=wG.GE;wG.shareWithLinkedIn=wG.EE;wG.shareWithPinterest=wG.FE;wG.startSelectMarquee=wG.xka;wG.startSelectRectangleMarquee=wG.rP;wG.inMarquee=wG.eN;wG.cancelMarquee=wG.lda;wG.id=wG.id;wG.fullScreen=wG.fullScreen;wG.isFullScreenAvailable=wG.Iy;$.H($.Ex,$.wx);$.g=$.Ex.prototype;$.g.pa=$.wx.prototype.pa;$.g.ra=$.wx.prototype.ra|512;$.g.La=function(){return this.qe;};$.g.$f=function(a){this.zi||(this.zi=new $.Yw(),$.L(this.zi,this.IW,this),this.zi.jb(this),$.W(this,"legend",this.zi),this.B(512,1));return $.n(a)?(this.zi.N(a),this):this.zi;};$.g.IW=function(a){var b=0,c=0;$.X(a,1)&&(b|=512,c|=1);$.X(a,8)&&(b|=4,c|=8);this.B(b,c);};$.g.Js=function(a){return"default"==a;};$.g.wr=function(a){a=a.Ii();if(a=this.ef(a))a.enabled(!a.enabled()),a.enabled()?a.Xk():a.Kd();};$.g.uq=function(a){var b=a.Ii();(!a||null!=b||(0,window.isNaN)(b))&&(a=this.ef(b))&&a.Xk();};$.g.tq=function(a){var b=a.Ii();(!a||null!=b||(0,window.isNaN)(b))&&(a=this.ef(b))&&a.Kd();};$.g.RF=function(a){a=$.Ex.u.RF.call(this,a);var b=$.Ar(this,"legend");this.J(516)&&b&&"outside"==b.g("positionMode")&&(Fx(this,a),this.I(512));a=b&&b.enabled()&&"outside"==b.g("positionMode")?b.xd():a;return a.clone();};$.g.JE=function(a){var b=$.Ar(this,"legend");this.J(516)&&(b&&"inside"==b.g("positionMode")?Fx(this,a):this.I(512));};$.g.DI=function(){return!1;};$.g.F=function(){var a=$.Ex.u.F.call(this);$.Ar(this,"legend")&&(a.legend=this.$f().F());a.interactivity=this.Yc().F();return a;};$.g.U=function(a,b){$.Ex.u.U.call(this,a,b);"legend"in a&&this.$f(a.legend);this.Yc(a.interactivity);};$.g.R=function(){$.pd(this.zi);this.zi=null;$.Ex.u.R.call(this);};var xG=$.Ex.prototype;xG.legend=xG.$f;xG.interactivity=xG.Yc;xG.noData=xG.Cm;$.H($.Gx,$.tf);$.Gx.prototype.f=function(a,b){this.Jj=a;this.eL=b;};$.Gx.prototype.b=function(a){this.state=a;$.Hp(this,"statechange");};var yG=$.Gx.prototype;yG.setRules=yG.f;yG.setState=yG.b;$.H($.Hx,$.tf);$.Hx.prototype.handleEvent=function(a){var b=0,c=0,d=a.Be;"mousewheel"==d.type?(a=Ix(-d.wheelDelta),$.n(d.wheelDeltaX)?(b=Ix(-d.wheelDeltaX),c=Ix(-d.wheelDeltaY)):c=a):(a=d.detail,100<a?a=3:-100>a&&(a=-3),$.n(d.axis)&&d.axis===d.HORIZONTAL_AXIS?b=a:c=a);$.ea(this.i)&&(b=$.Za(b,-this.i,this.i));$.ea(this.j)&&(c=$.Za(c,-this.j,this.j));this.D&&(b=-b);b=new Jx(a,d,b,c);this.dispatchEvent(b);};$.Hx.prototype.R=function(){$.Hx.u.R.call(this);$d(this.f);this.f=null;};$.H(Jx,$.Ad);$.H($.Kx,$.U);$.Kx.prototype.pa=$.U.prototype.pa|32779;$.Kx.prototype.vs=function(a){var b=$.Kx.u.vs.call(this,a),c=this.flatten().enabled;"enabled"==a?(b=32768,c&&(b|=this.f,this.f=0)):c||(this.f|=b);return b;};var zG={};$.wq(zG,[[0,"format",$.er],[1,"adjustFontSize",Cq],[0,"fontVariant",$.dl],[0,"letterSpacing",$.Aq],[0,"textDirection",$.el],[0,"textIndent",$.Fq],[0,"textShadow",$.bc],[0,"textOverflow",$.cr],[0,"useHtml",$.Hq],[0,"wordBreak",$.Gq],[0,"wordWrap",$.Gq],[0,"fontColor",$.Eq],[0,"fontDecoration",$.bl],[0,"fontFamily",$.Dq],[0,"fontOpacity",$.Fq],[0,"fontSize",$.Aq],[0,"fontStyle",$.cl],[0,"fontWeight",$.Aq],[0,"hAlign",$.$k],[0,"lineHeight",$.Aq],[0,"minFontSize",$.Aq],[0,"maxFontSize",$.Aq],[0,"maxLength",$.Bq],[0,"vAlign",$.al],[0,"anchor",$.Ek],[0,"height",$.fr],[0,"offsetX",$.fr],[0,"offsetY",$.fr],[0,"position",$.Fk],[0,"rotation",$.Fq],[0,"width",$.fr],[0,"zIndex",$.Fq],[0,"allowMultiline",$.cr],[0,"clip",$.Gq],[0,"enabled",$.cr],[0,"selectable",$.Hq],[0,"disablePointerEvents",$.Hq],[0,"autoRotate",$.Hq]]);$.S($.Kx,zG);$.g=$.Kx.prototype;$.g.parent=function(a){return $.n(a)?(this.Y!=a&&(null===a?($.or(this.Y,this.Sc,this),this.padding().parent(null),this.Y=null):(this.Y&&$.or(this.Y,this.Sc,this),this.Y=a,this.padding().parent(this.Y.padding()),$.L(this.Y,this.Sc,this),this.Ug())),this):this.Y;};$.g.Sc=function(a){this.Ug();this.va(a.f);};$.g.g=$.mr;$.g.ig=function(a){$.n(a)&&(this.Vb=a);return this.Vb;};$.g.bh=$.lr;$.g.Vd=function(){var a=[this.na];this.Y&&(a=$.Ga(a,this.Y.Vd()));return a;};$.g.Ud=function(){var a=[this.Oa];this.Y&&(a=$.Ga(a,this.Y.Ud()));return a;};$.g.Ug=function(){this.b=null;};$.g.flatten=function(){if(!this.b){this.b={};for(var a in zG)zG.hasOwnProperty(a)&&(this.b[a]=this.g(a));}return this.b;};$.g.MK=function(a){var b=this.flatten().maxLength;return a=Fu(a,b);};$.g.rk=function(a){var b=this.g("format")||$.kp;$.z(b)&&(b=$.Pu($.Nu.Gd(),b));a=b.call(a,a);a=$.n(a)?String(a):"";return this.MK(a);};$.g.padding=function(a,b,c,d){this.Ua||(this.Ua=new $.Ju(),$.W(this,"padding",this.Ua),$.L(this.Ua,this.bm,this));return $.n(a)?(this.Ua.N.apply(this.Ua,arguments),this):this.Ua;};$.g.bm=function(){this.va(2);};$.g.background=function(a){this.Ga||(this.Ga=new $.Au());return $.n(a)?this:this.Ga;};$.g.Je=function(a,b){return $.da(b)?(this.enabled(b),!0):!1;};$.g.U=function(a,b){$.Kx.u.U.call(this,a,b);$.Pq(this,zG,a,b);this.padding().fa(!!b,a.padding);};$.g.F=function(){var a=$.Kx.u.F.call(this);$.Xq(this,zG,a,void 0,void 0,!0);var b=$.Ar(this,"padding");b&&(b=$.Sc(b.Oa),$.Nc(b)||(a.padding=b));return a;};$.g.R=function(){this.b=null;this.parent(null);$.ud(this.Ua,this.Ga);this.Ga=this.Ua=null;$.Kx.u.R.call(this);};var AG=$.Kx.prototype;AG.padding=AG.padding;AG.background=AG.background;$.g=$.Lx.prototype;$.g.width=function(){return this.Va?this.Va.width:0;};$.g.height=function(){if(this.Va)var a=this.Va.height;else if(this.b.length)for(var b=a=0;b<this.b.length;b++)a+=this.b[b].height();else a=this.Ha;return a;};$.g.style=function(a){if($.n(a)){var b=a||{},c=this.f,d={},e;for(e in c)c[e]!==b[e]&&(d[e]=!0);for(e in b)b[e]!==c[e]&&(d[e]=!0);$.Nc(d)||(this.eo.style=!0,this.f=b,a.fontSize&&(a=(0,window.parseFloat)(a.fontSize),a=(0,window.isNaN)(a)?13:a,this.Ha=24>a?a+3:Math.round(1.2*a),this.aa=Math.round(.8*this.Ha)));return this;}return this.f;};$.g.eK=function(a){this.Ba+=a;};$.g.dK=function(){this.Ba+="\n";};$.g.iM=function(){this.text(this.Ba);this.Ba="";Ox(this);};$.g.text=function(a){return $.n(a)?(a=kc(a),a=$.jc(a),this.jc!=a&&(this.eo.text=!0,this.jc=a),this):this.jc;};$.g.sc=function(){this.ia=this.P.Tx();};$.g.Td=function(){this.ia||this.sc();return this.ia;};$.g.Ij=function(){var a;if(this.ma||this.ea)for(this.G&&this.G.Ij(),this.K&&this.K.Ij(),a=0;a<this.i.length;a++){var b=this.i[a];for(var c=0;c<b.length;c++)b[c].Ij();}else if(this.ba)for(a=0;a<this.b.length;a++)(b=this.b[a])&&b.Ij();else{b=this.f;a=this.Td();if(this.eo.style){"fontStyle"in b?a.setAttribute("font-style",b.fontStyle):a.removeAttribute("font-style");"fontVariant"in b?a.setAttribute("font-variant",b.fontVariant):a.removeAttribute("font-variant");"fontFamily"in b?(a.setAttribute("font-family",b.fontFamily),a.style.fontFamily=b.fontFamily):(a.removeAttribute("fontFamily"),a.style.fontFamily="");a.style.textShadow="textShadow"in b&&"none"!=b.textShadow?b.textShadow:"";"fontSize"in b?a.setAttribute("font-size",b.fontSize):a.removeAttribute("font-size");"fontWeight"in b?a.setAttribute("font-weight",b.fontWeight):a.removeAttribute("font-weight");"letterSpacing"in b?a.setAttribute("letter-spacing",b.letterSpacing):a.removeAttribute("letter-spacing");"fontDecoration"in b?a.setAttribute("text-decoration",b.fontDecoration):a.removeAttribute("text-decoration");"fontColor"in b?b.textOverflow||a.setAttribute("fill",b.fontColor):a.removeAttribute("fill");"fontOpacity"in b?a.setAttribute("opacity",b.fontOpacity):a.removeAttribute("opacity");"disablePointerEvents"in b?a.setAttribute("pointer-events",b.disablePointerEvents?"none":""):a.removeAttribute("pointer-events");if("selectable"in b&&!b.selectable){if(a.style["-webkit-touch-callout"]="none",a.style["-webkit-user-select"]="none",a.style["-khtml-user-select"]="none",a.style["-moz-user-select"]="moz-none",a.style["-ms-user-select"]="none",a.style["-o-user-select"]="none",a.style["user-select"]="none",$.id&&9==ed||$.xd)a.setAttribute("unselectable","on"),a.setAttribute("onselectstart","return false;");}else if(a.style["-webkit-touch-callout"]="",a.style["-webkit-user-select"]="",a.style["-khtml-user-select"]="",a.style["-moz-user-select"]="",a.style["-ms-user-select"]="",a.style["-o-user-select"]="",a.style["user-select"]="",$.id&&9==ed||$.xd)a.removeAttribute("unselectable"),a.removeAttribute("onselectstart");"anchor"in b?(b=b.anchor,a.setAttribute("text-anchor",$.gc(b,"center")?"middle":$.gc(b,"right")?"end":"start")):a.removeAttribute("text-anchor");this.eo.style=!1;}this.eo.text&&(a.textContent=this.jc,this.eo.text=!1);}};$.g.qb=function(){return this.Va?this.Va:new $.I(0,0,0,this.Ha);};$.g.kd=function(){$.Ux(this);this.ia&&($.Ye(this.ia),this.ia=null);this.D&&($.Ye(this.D),this.Ya=this.D=null);Mx(this,!0);this.j=this.O=null;this.style({});this.text("");};$.H($.dy,$.Ru);$.g=$.dy.prototype;$.g.Bc=function(a){return $.n(a)?(a=$.N(a),this.tc!=a&&(this.tc=a,this.B(4,9)),this):this.tc;};$.g.zc=function(a){return $.n(a)?(a=$.N(a),this.uc!=a&&(this.uc=a,this.B(4,9)),this):this.uc;};$.g.Qy=function(a){return $.n(a)?(a=$.N(a),this.D!=a&&(this.D=a,this.B(4,9)),this):this.D;};$.g.ME=function(a){$.n(a)&&(a=null===a?a:$.ab($.N(a)||0),this.P!=a&&(this.P=a,this.B(4,9)));};$.g.dz=function(a){return $.n(a)?(a=null===a?a:$.Za($.N(a)||0,-360,360),this.G!=a&&(this.G=a,this.B(4,9)),this):this.G;};var Wda=$.dy.prototype,BG=$.Sc($.Ru.prototype.Bz);$.vq(BG,0,"autoRotate",$.Hq);Wda.Bz=BG;$.S($.dy,$.dy.prototype.Bz);$.dy.prototype.M1=function(a,b,c,d,e,f){if(c){var h=c.width;var k=c.height;}var l=b.angle,m=b.radius;b=$.n(b.radiusY)?b.radiusY:m;var p=0,q=0,r=this.Bc(),t=this.zc(),u=this.dz(),v=this.Qy();if(c||!(0,window.isNaN)(r)&&!(0,window.isNaN)(t))p=c.left,q=c.top,p=(0,window.isNaN)(r)?p+h/2:r,q=(0,window.isNaN)(t)?q+k/2:t,c=$.n(v)&&!(0,window.isNaN)(v)?$.M(e,v):c?$.M(e,Math.min(h,k)/2):0,l+=$.M(d,null!=u?u:360),m+=c,b+=c;d=p+$.db(l,m);l=q+$.eb(l,b);f=$.Ko(new $.I(0,0,a.width,a.height),f);d-=f.x;l-=f.y;a.left=d;a.top=l;return a;};$.dy.prototype.wl=function(a,b,c,d){if($.J(a,$.ey)){var e=(a.ic()?a.ic().value.angle:0)||0;var f=a.uA(e);var h=a.hc("anchor");"auto"==h&&(h=a.hc("autoRotate")?"center":$.Mo(e));d=$.n(d)?d:a.la();}else h=($.n(c)&&$.n(c.rotation)?c.rotation:this.g("rotation"))||0,f=($.n(c)&&$.n(c.autoRotate)?c.autoRotate:this.g("autoRotate"))||!1,e=(b?b.value.angle:0)||0,f=f?0<e&&180>e?h+e+270:h+e+90:h,h=$.n(c)&&c.anchor||this.g("anchor");a=$.Zu(this,a,b,c,d);b=f;c=$.Ko(a,h);b=$.Jb($.bb(b),c.x,c.y);a=$.on(a)||[];b.transform(a,0,a,0,4);return a;};$.dy.prototype.nL=function(){return new $.ey();};$.H($.ey,$.Vu);var Xda=$.ey.prototype,CG=$.Sc($.Vu.prototype.eC);$.vq(CG,0,"autoRotate",$.Hq);Xda.eC=CG;$.S($.ey,$.ey.prototype.eC);$.ey.prototype.uA=function(a){var b=this.hc("rotation");return this.hc("autoRotate")?0<a&&180>a?b+a+270:b+a+90:b;};$.ey.prototype.sf=function(a,b){this.b||$.Wu(this);var c=this.b.positionFormatter,d=this.vb.path()?"center":Su(this.b.anchor)||"left-top",e=this.b.offsetX||0,f=this.b.offsetY||0,h=this.cp,k=this.ic(),l=$.Sc(c.call(k,k));c=l.angle;k=l.radius;l=$.n(l.radiusY)?l.radiusY:k;var m=0,p=0,q=h.Bc(),r=h.zc(),t=h.dz();h=h.Qy();if(b||!(0,window.isNaN)(q)&&!(0,window.isNaN)(r)){m=b.left;p=b.top;var u=b.width,v=b.height;m=(0,window.isNaN)(q)?m+u/2:q;p=(0,window.isNaN)(r)?p+v/2:r;f=$.n(h)&&!(0,window.isNaN)(h)?$.M(f,h):b?$.M(f,Math.min(u,v)/2):0;c+=$.M(e,null!=t?t:360);k+=f;l+=f;}e=m+$.db(c,k);f=p+$.eb(c,l);d=$.Ko(new $.I(0,0,a.width,a.height),d);e-=d.x;f-=d.y;this.Ig+=e;this.Jg+=f;a.left=e;a.top=f;this.b.rotation=this.uA(c);this.ur?this.vb.x(this.Ig).y(this.Jg):this.vb.setPosition(this.Ig,this.Jg);};$.H($.fy,$.Y);var Yda=function(){var a={};$.wq(a,[$.Z.wz,$.Z.Wn,$.Z.qQ,$.Z.rQ,$.Z.hZ,$.Z.vQ,[0,"position",$.Eq],[0,"size",$.Bq],[0,"anchor",function(a){return null===a?a:$.Ek(a);}],[0,"type",function(a){$.E(a)||(a=$.Ok(a));return a;}]]);return a;}();$.S($.fy,Yda);$.g=$.fy.prototype;$.g.pa=$.Y.prototype.pa;$.g.ra=$.Y.prototype.ra|80;$.g.BT=function(){$.fy.u.BT.call(this);for(var a in this.na)a in this.ta&&(this.b[a]=!0);};$.g.enabled=function(a){return $.n(a)?(null===this.j&&a&&this.B(1,this.kr()),this.j=a,this.PE=null!==this.Oa.enabled,$.fy.u.enabled.call(this,a),this):this.j;};$.g.La=function(){return this.Oa.type||this.na.type;};$.g.Rm=function(){return $.n(this.Oa.fill)?this.Oa.fill:this.na.fill;};$.g.eJ=function(a){this.D=a;};$.g.g=function(a){var b=$.fy.u.g.call(this,a);b||("stroke"==a?b=this.G||"none":"fill"==a?b=this.D||"black":"type"==a&&(b=this.NF||"diagonal-cross"));return b;};$.g.sa=function(a,b){$.fy.u.sa.call(this,a,b);this.b[a]=!0;};$.g.fk=function(){return $.n(this.Oa.stroke)?this.Oa.stroke:this.na.stroke;};$.g.fJ=function(a){this.G=a;};$.g.Fd=function(a){return $.n(a)?(this.KL=a,this.B(16,1),this):this.KL;};$.g.measure=function(a){this.i||(this.i=$.rk());var b=this.ja();if(b){var c=b.width;var d=b.height;}var e=this.g("type");var f=this.g("size");b=this.g("anchor");var h=this.g("offsetX"),k=this.g("offsetY");e=$.z(e)?$.Dp(e):e;this.i.clear();e.call(this,this.i,0,0,f);f=this.i.qb();a=$.Sc(this.g("positionFormatter").call(a,a));a=new $.gb(a.x,a.y);e=$.Ko(new $.I(0,0,f.width,f.height),b);a.x-=e.x;a.y-=e.y;$.cp(a,b,$.n(h)?$.M(h,c):0,$.n(k)?$.M(k,d):0);f.left=a.x;f.top=a.y;return f;};$.g.clear=function(a){this.f||(this.f=[]);if(this.Gc&&this.Gc.length){if($.n(a))this.Gc[a]&&(this.Gc[a].clear(),this.f.push(this.Gc[a]),delete this.Gc[a]);else{for(a=this.Gc.length;a--;){var b=this.Gc[a];b&&(b.clear(),this.f.push(b));}this.Gc.length=0;this.B(64,1);}}else this.Gc=[];return this;};$.g.fp=function(a){a=+a;return this.Gc&&this.Gc[a]?this.Gc[a]:null;};$.g.eH=function(){return this.b;};$.g.Td=function(){return this.ub;};$.g.add=function(a,b){$.n(this.Gc)||(this.Gc=[]);if($.n(b)){var c=+b;var d=this.Gc[c];}d?d.clear():(d=this.f&&0<this.f.length?this.f.pop():this.F0(),$.n(c)?(this.Gc[c]=d,d.zE(c)):(this.Gc.push(d),d.zE(this.Gc.length-1)));d.ic(a);$.hy(d,this);return d;};$.g.F0=function(){return new $.gy();};$.g.W=function(){if(this.ld)return this;this.ub||(this.ub=$.pk(),this.K&&$.tu(this,this.ub));this.ub.Fd(this.Fd());var a=this.ub.Ia(),b=a&&!a.wf();b&&a.suspend();this.Gc&&(0,$.Re)(this.Gc,function(a){a&&(a.O(this.ub),a.W());},this);this.J(8)&&(this.ub.zIndex(this.zIndex()),this.I(8));this.J(2)&&(this.ub.parent(this.O()),this.I(2));this.I(4294967295);b&&a.resume();return this;};$.g.remove=function(){this.ub&&this.ub.remove();};$.g.rl=function(){return this.ub;};$.g.F=function(){var a=$.fy.u.F.call(this);delete a.enabled;var b=this.enabled();$.n(b)&&(a.enabled=b);$.n(this.Fd())&&(a.disablePointerEvents=this.Fd());this.b.position&&(a.position=this.g("position"));this.b.anchor&&(a.anchor=this.g("anchor"));this.b.offsetX&&(a.offsetX=this.g("offsetX"));this.b.offsetY&&(a.offsetY=this.g("offsetY"));this.b.type&&(a.type=this.g("type"));this.b.rotation&&(a.rotation=(0,window.isNaN)(this.g("rotation"))?null:this.g("rotation"));$.n(this.g("size"))&&(a.size=this.g("size"));this.b.fill&&$.n(this.Oa.fill)&&(a.fill=$.Sl(this.Oa.fill));this.b.stroke&&$.n(this.Oa.stroke)&&(a.stroke=$.Sl(this.Oa.stroke));return a;};$.g.Xd=function(a){return $.z(a)?{type:a,enabled:!0}:null;};$.g.Je=function(a,b){var c=this.Xd(arguments[1]);return c?(this.type?this.type(c.type):this.sa("type",c.type),this.enabled(c.enabled),!0):$.Y.prototype.Je.apply(this,arguments);};$.g.U=function(a,b){var c=this.enabled();$.fy.u.U.call(this,a,b);if(b)for(var d in a)this.na[d]=a[d],this.b[d]=!0;else $.Pq(this,DG,a);this.Fd(a.disablePointerEvents);this.enabled("enabled"in a?a.enabled:c);};$.g.R=function(){$.ud(this.Gc,this.f,this.ub);this.ub=this.f=this.Gc=null;$.fy.u.R.call(this);};$.g.hg=function(a){a=$.fy.u.hg.call(this,a);for(var b=a.domTarget,c;$.J(b,$.kg);){c=b.tag;if($.J(c,$.Y)||!$.Io(c))break;b=b.parent();}a.markerIndex=$.N(c);return a;};$.H($.gy,$.Y);var DG=function(){var a={};$.wq(a,[$.Z.TY,$.Z.qQ,$.Z.rQ,$.Z.hZ,$.Z.vQ,[0,"position",$.Gq],[0,"size",$.Fq],[1,"fill",$.Uq],[1,"stroke",$.Tq],[0,"type",function(a){$.E(a)||(a=$.Ok(a));return a;}]]);return a;}();$.S($.gy,DG);$.g=$.gy.prototype;$.g.pa=$.Y.prototype.pa;$.g.ra=$.Y.prototype.ra|16;$.g.Td=function(){return this.b;};$.g.la=function(){return this.zd;};$.g.zE=function(a){this.zd=+a;};$.g.ic=function(a){return $.n(a)?(this.aa!=a&&(this.aa=a,this.B(16,8)),this):this.aa;};$.g.sa=function(a,b){this.f[a]=b;};$.g.g=function(a){var b=$.n(this.f[a])?this.f[a]:this.na[a];$.n(b)||("stroke"==a?b=this.G:"fill"==a&&(b=this.D));return b;};$.g.eJ=function(a){this.D=a;};$.g.fJ=function(a){this.G=a;};$.g.enabled=function(a){return $.n(a)?(this.f.enabled!=a&&(this.f.enabled=a,this.B(1,9)),this):$.n(this.f.enabled)?this.f.enabled:this.na.enabled;};$.g.clear=function(){this.Fi();this.b&&(this.b.parent(null),this.b.zl());this.B(2);};$.g.Fi=function(){this.f.padding&&$.pd(this.f.padding);this.na={};this.f={};this.j={};delete this.D;delete this.G;};$.g.sd=function(a,b){$.n(a)&&this.N(a);$.n(b)&&(this.j=b);this.B(17,9);};$.g.hc=function(a){var b=$.hy(this),c=$.iy(this)?$.iy(this):b,d=!(b&&c),e;c!=b&&(e=c.eH());return"enabled"==a?jy(this,this.enabled(),this.j.enabled,!d&&b.enabled(),!d&&c.enabled(),null!==(d?null:c.enabled())):jy(this,this[a](),this.j[a],d?void 0:b[a](),d?void 0:c[a](),!(!e||!e[a]));};$.g.W=function(){if(this.ld)return this;var a=$.hy(this),b=$.iy(this)?$.iy(this):a,c=!(a&&b),d;b!=a&&(d=b.eH());this.b||(this.b=$.rk());var e=jy(this,this.enabled(),this.j.enabled,!c&&a.enabled(),!c&&b.enabled(),null!==(c?null:b.enabled()));null===e&&(e=!0);if(this.J(1)||!c&&b.J(1))if(e)this.O()&&this.b.parent(this.O()),this.I(1);else return this.b.parent(null),this.I(4294967295),this;if(this.J(2)||!c&&b.J(2))e&&(!c&&a.Td()&&(this.O()||this.O(a.Td()),this.O().parent()||this.O().parent(a.O())),this.O()&&this.b.parent(this.O())),this.I(2);if(this.J(8)||!c&&b.J(8))this.O()&&!c&&this.O().zIndex(a.zIndex()),this.b.zIndex(this.zIndex()),this.I(8);if(this.J(16)||!c&&b.J(16)||!c&&b.J(4)){var f="anchor type size offsetY offsetX fill stroke positionFormatter rotation".split(" ");e={};c&&($.V(this),$.n(this.g("positionFormatter"))||this.sa("positionFormatter",$.kp),$.n(this.g("size"))||this.sa("size",10),$.n(this.g("anchor"))||this.sa("anchor","center"),$.n(this.g("offsetX"))||this.sa("offsetX",0),$.n(this.g("offsetY"))||this.sa("offsetY",0),$.n(this.g("rotation"))||this.sa("rotation",0),this.da(!1));for(var h=0,k=f.length;h<k;h++){var l=f[h],m=this[l](),p=this.j[l],q=c?void 0:a[l]?a[l]():a.g(l),r=c?void 0:b[l]?b[l]():b.g(l);e[l]=jy(this,m,p,q,r,!(!d||!d[l]));}a=$.z(e.type)?$.Dp(e.type):e.type;if(b=this.ja()){var t=b.width;var u=b.height;}this.b.clear();b=$.Ek(e.anchor);c=$.jp(e.stroke);this.i&&this.i.uv?a.call(this,this.b,0,0,e.size,c):a.call(this,this.b,0,0,e.size);d=this.b.ck();f=this.ic();f=$.Sc(e.positionFormatter.call(f,f));f=new $.gb(f.x,f.y);h=$.Ko(new $.I(0,0,d.width,d.height),b);f.x-=h.x;f.y-=h.y;$.cp(f,b,$.n(e.offsetX)?$.M(e.offsetX,t):0,$.n(e.offsetY)?$.M(e.offsetY,u):0);d.left=f.x+d.width/2;d.top=f.y+d.height/2;this.b.clear();this.i&&this.i.uv?a.call(this,this.b,d.left,d.top,e.size,c):a.call(this,this.b,d.left,d.top,e.size);this.b.fill(e.fill);this.b.stroke(e.stroke);this.b.nc(1,0,0,1,0,0);this.b.BE(e.rotation||0,f.x+h.x,f.y+h.y);this.b.tag=this.la();this.I(16);}this.I(4);return this;};$.g.F=function(){var a=$.gy.u.F.call(this);delete a.enabled;var b=this.enabled();null!=b&&(a.enabled=b);$.n(this.g("position"))&&(a.position=this.g("position"));$.n(this.g("rotation"))&&(a.rotation=(0,window.isNaN)(this.g("rotation"))?null:this.g("rotation"));$.n(this.g("anchor"))&&(a.anchor=this.g("anchor"));$.n(this.g("offsetX"))&&(a.offsetX=this.g("offsetX"));$.n(this.g("offsetY"))&&(a.offsetY=this.g("offsetY"));$.n(this.g("type"))&&(a.type=this.g("type"));$.n(this.g("size"))&&(a.size=this.g("size"));$.n(this.g("fill"))&&(a.fill=$.Sl(this.g("fill")));$.n(this.g("stroke"))&&(a.stroke=$.Sl(this.g("stroke")));return a;};$.g.U=function(a,b){var c=this.enabled();$.gy.u.U.call(this,a,b);$.Pq(this,DG,a);$.n(a.enabled)||delete this.f.enabled;this.enabled("enabled"in a?a.enabled:c);};$.g.R=function(){$.pd(this.b);this.b=null;$.gy.u.R.call(this);};$.H(ky,$.fy);$.zu(ky,$.fy);ky.prototype.F0=function(){return new ly();};$.H(ly,$.gy);var EG=$.fy.prototype;EG.disablePointerEvents=EG.Fd;EG.enabled=EG.enabled;EG=$.gy.prototype;EG=ky.prototype;$.F("anychart.standalones.markersFactory",function(){var a=new ky();a.N($.Cm("standalones.markersFactory"));return a;});EG.draw=EG.W;EG.parentBounds=EG.ja;EG.container=EG.O;EG.add=EG.add;EG.clear=EG.clear;EG.measure=EG.measure;EG=ly.prototype;EG.enabled=EG.enabled;EG.draw=EG.W;EG.clear=EG.clear;EG.getIndex=EG.la;$.H(my,$.U);$.g=my.prototype;$.g.pa=1;$.g.g=$.mr;$.g.ig=function(a){$.n(a)&&(this.Vb=a);return this.Vb;};$.g.bh=$.lr;$.g.Vd=function(){var a=[this.na];this.Y&&(a=$.Ga(a,this.Y.Vd()));return a;};$.g.Ud=function(){var a=[this.Oa];this.Y&&(a=$.Ga(a,this.Y.Ud()));return a;};var Zda=my.prototype,FG={};$.vq(FG,1,"stroke",$.Qq);$.vq(FG,1,"fill",$.Rq);$.vq(FG,0,"width",$.fr);$.vq(FG,0,"offset",$.fr);$.vq(FG,0,"enabled",$.cr);Zda.mK=FG;$.S(my,my.prototype.mK);$.g=my.prototype;$.g.Xd=function(a){return $.da(a)||null===a?{enabled:!!a}:$.z(a)?{fill:a,stroke:null,enabled:!0}:null;};$.g.Je=function(a,b){var c=this.Xd(b);return c?(a?(this.na.enabled=c.enabled,"fill"in c&&(this.na.fill=c.fill),"stroke"in c&&(this.na.stroke=c.stroke)):(this.enabled(c.enabled),"fill"in c&&this.fill(c.fill),"stroke"in c&&this.stroke(c.stroke)),!0):!1;};$.g.U=function(a,b){b?$.Lq(this.na,this.mK,a):($.Pq(this,this.mK,a),this.enabled("enabled"in a?a.enabled:!0));};$.g.F=function(){var a={};$.Xq(this,this.mK,a,"Map axes props");return a;};$.g.R=function(){my.u.R.call(this);};$.H(ny,$.U);ny.prototype.ra=$.U.prototype.ra|16;ny.prototype.pa=1;var GG={};$.wq(GG,[$.Z.Wn,$.Z.$J]);$.S(ny,GG);ny.prototype.F=function(){var a=ny.u.F.call(this);$.Xq(this,GG,a,"Connector");return a;};ny.prototype.U=function(a,b){ny.u.U.call(this,a);b?$.Lq(this.na,GG,a):$.Pq(this,GG,a);};ny.prototype.Xd=function(a){return(0,window.isNaN)(a)?$.z(a)?{stroke:a}:null:{length:a};};ny.prototype.Je=function(a,b){var c=this.Xd(b);return c?("length"in c&&this.length(c.length),"stroke"in c&&this.stroke(c.stroke),!0):!1;};$.H($.oy,$.U);$.g=$.oy.prototype;$.g.B=function(a,b){return this.$j.B(a,b);};$.g.va=function(a,b){return this.$j.va(a,b);};$.g.g=$.mr;$.g.bh=$.lr;$.g.Vd=function(){var a=[this.na],b=this.$j.YG(this.aa);b&&a.push.apply(a,b.Vd());return a;};$.g.Ud=function(){var a=[this.Oa],b=this.$j.YG(this.aa);b&&a.push.apply(a,b.Ud());return a;};$.g.ig=function(a){$.n(a)&&(this.Vb=a);return this.Vb;};var $da=$.oy.prototype,HG={};$.wq(HG,[$.Z.TB,$.Z.dZ,$.Z.f9,$.Z.Z7,$.Z.hF,$.Z.L8,$.Z.x8,$.Z.J8,$.Z.v8,$.Z.Q8,$.Z.h9,$.Z.d8,$.Z.N8,$.Z.U9,$.Z.i$,$.Z.aZ,$.Z.eZ,$.Z.g9,$.Z.c8,$.Z.w8,$.Z.K8,$.Z.j$,$.Z.yZ,$.Z.oZ,$.Z.b$,$.Z.$Y,$.Z.T7,$.Z.U7,$.Z.k8,$.Z.o8,$.Z.p8,$.Z.q8,$.Z.n8,$.Z.i8,$.Z.l8,$.Z.j8,$.Z.Z9,$.Z.Q7,$.Z.R7,$.Z.Y7,$.Z.r7,$.Z.k$,$.Z.s8,$.Z.L9]);$da.WB=HG;$.S($.oy,$.oy.prototype.WB);$.g=$.oy.prototype;$.g.Un=function(a,b){$.A(b)?$.xq.apply(null,$.Ga(this.ta,a,b)):$.C(b)&&(this.ta[a]=b);};$.g.labels=function(a){if(!this.Ca){var b=this.g("labelsFactoryConstructor")||$.py,c=this.g("labelsAfterInitCallback")||$.ia;this.Ca=b();this.Ca.PE=!1;$.W(this,"labels",this.Ca);c.call(this.$j,this.Ca);}return $.n(a)?(!$.C(a)||"enabled"in a||(a.enabled=!0),this.Ca.N(a),this):this.Ca;};$.g.rh=function(a){if(!this.j){var b=this.g("labelsFactoryConstructor")||$.qy,c=this.g("labelsAfterInitCallback")||$.ia;this.j=b();this.j.PE=!1;$.W(this,"minLabels",this.j);c.call(this.$j,this.j);this.j.I(4294967295);}return $.n(a)?(!$.C(a)||"enabled"in a||(a.enabled=!0),this.j.N(a),this):this.j;};$.g.qh=function(a){if(!this.f){var b=this.g("labelsFactoryConstructor")||$.qy,c=this.g("labelsAfterInitCallback")||$.ia;this.f=b();this.f.PE=!1;$.W(this,"maxLabels",this.f);c.call(this.$j,this.f);this.f.I(4294967295);}return $.n(a)?(!$.C(a)||"enabled"in a||(a.enabled=!0),this.f.N(a),this):this.f;};$.g.headers=function(a){if(!this.i){var b=this.g("labelsFactoryConstructor")||$.qy,c=this.g("headersAfterInitCallback")||Lca;this.i=b();$.W(this,"headers",this.i);c.call(this.$j,this.i);}return $.n(a)?(!$.C(a)||"enabled"in a||(a.enabled=!0),this.i.N(a),this):this.i;};$.g.Gm=function(a){return this.labels(a);};$.g.Ak=function(a){if(!this.K){var b=this.g("labelsFactoryConstructor")||$.py,c=this.g("labelsAfterInitCallback")||$.ia;this.K=b();c.call(this.$j,this.K);}return $.n(a)?(!$.C(a)||"enabled"in a||(a.enabled=!0),this.K.N(a),this):this.K;};$.g.Eb=function(a){if(!this.Gc){var b=this.g("markersFactoryConstructor")||$.sy,c=this.g("markersAfterInitCallback")||$.ia;this.Gc=b();$.W(this,"markers",this.Gc);c.call(this.$j,this.Gc);}return $.n(a)?(!$.C(a)||"enabled"in a||(a.enabled=!0),this.Gc.N(a),this):this.Gc;};$.g.cl=function(a){if(!this.D){var b=this.g("outlierMarkersAfterInitCallback")||$.ia;this.D=new $.fy();$.W(this,"outlierMarkers",this.D);b.call(this.$j,this.D);}return $.n(a)?(!$.C(a)||"enabled"in a||(a.enabled=!0),this.D.N(a),this):this.D;};$.g.Tf=function(a){if(!this.b){var b=this.g("connectorAfterInitCallback")||$.ia;this.b=new ny();$.W(this,"connector",this.b);b.call(this.$j,this.b);}return $.n(a)?(this.b.N(a),this):this.b;};$.g.ut=function(a){if(!this.G){var b=this.g("outlineConstructor")||Kca,c=this.g("outlineAfterInitCallback")||$.ia;this.G=b();$.W(this,"outline",this.G);c.call(this.$j,this.G);}return $.n(a)?(this.G.N(a),this):this.G;};$.g.background=function(a){if(!this.Ga){var b=this.g("backgroundAfterInitCallback")||Nca;this.Ga=new $.Au();$.W(this,"background",this.Ga);b.call(this.$j,this.Ga);this.Ga.df();}return $.n(a)?(this.Ga.N(a),this):this.Ga;};$.g.Pa=function(a){return this.$j.Pa(a);};$.g.kb=function(a){return this.$j.kb(a);};$.g.selected=function(a){return this.$j.selected?this.$j.selected(a):null;};$.g.F=function(){var a=$.oy.u.F.call(this);$.Xq(this,this.WB,a,"State settings",this.ta);this.ta.labels&&(a.labels=this.labels().F());this.ta.minLabels&&(a.minLabels=this.rh().F());this.ta.maxLabels&&(a.maxLabels=this.qh().F());this.ta.headers&&(a.headers=this.headers().F());this.ta.lowerLabels&&(a.lowerLabels=this.Ak().F());this.ta.upperLabels&&(a.upperLabels=a.labels,delete a.labels);this.ta.markers&&(a.markers=this.Eb().F());this.ta.outlierMarkers&&(a.outlierMarkers=this.cl().F());this.ta.connector&&(a.connector=this.Tf().F());this.ta.outline&&(a.outline=this.ut().F());this.ta.background&&(a.background=this.background().F());return a;};$.g.U=function(a,b){$.oy.u.U.call(this,a,b);$.Pq(this,this.WB,a,b);var c=$.Nc(a);if($.n(this.ta.labels)){var d=c?this.labels().na:a.labels;xy(d);this.labels().fa(!!b,d);}$.n(this.ta.minLabels)&&(d=c?this.rh().na:a.minLabels,xy(d),this.rh().fa(!!b,d));$.n(this.ta.maxLabels)&&(d=c?this.qh().na:a.maxLabels,xy(d),this.qh().fa(!!b,d));$.n(this.ta.headers)&&(d=c?this.headers().na:a.headers,xy(d),this.headers().N(d));$.n(this.ta.lowerLabels)&&(d=c?this.Ak().na:a.lowerLabels,xy(d),this.Ak().fa(!!b,d));$.n(this.ta.upperLabels)&&(d=c?this.Gm().na:a.upperLabels,xy(d),this.Gm().fa(!!b,d));$.n(this.ta.markers)&&(d=c?this.Eb().na:a.markers,xy(d),this.Eb().fa(!!b,d));$.n(this.ta.outlierMarkers)&&(d=c?this.cl().na:a.outlierMarkers,xy(d),this.cl().fa(!!b,d));$.n(this.ta.connector)&&this.Tf().fa(!!b,c?this.Tf().na:a.connector);$.n(this.ta.outline)&&this.ut().fa(!!b,c?this.ut().na:a.outline);$.n(this.ta.background)&&(this.background().fa(!!b,a.background),this.background().I(4294967295));};$.g.df=function(a){$.oy.u.df.call(this,a);this.ig(null);return this;};$.g.R=function(){$.ud(this.Ca,this.j,this.f,this.i,this.K,this.Gc,this.D,this.G,this.b,this.Ga);delete this.b;$.oy.u.R.call(this);};var IG=$.oy.prototype;IG.labels=IG.labels;IG.minLabels=IG.rh;IG.maxLabels=IG.qh;IG.headers=IG.headers;IG.upperLabels=IG.Gm;IG.lowerLabels=IG.Ak;IG.markers=IG.Eb;IG.outlierMarkers=IG.cl;IG.connector=IG.Tf;IG.outline=IG.ut;IG.normal=IG.Pa;IG.hovered=IG.kb;IG.selected=IG.selected;var Ay;_Vc("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" "));$.ja($.Cy);$.Cy.prototype.b=0;$.H($.Dy,$.tf);$.Dy.prototype.rb=$.Cy.Gd();var Oca=null;$.g=$.Dy.prototype;$.g.my=function(){return this.fe||(this.fe=":"+(this.rb.b++).toString(36));};$.g.Xa=function(){return this.Cd;};$.g.el=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.Y&&this.fe&&$.Iy(this.Y,this.fe)&&this.Y!=a)throw Error("Unable to set parent component");this.Y=a;$.Dy.u.jb.call(this,a);};$.g.getParent=function(){return this.Y;};$.g.jb=function(a){if(this.Y&&this.Y!=a)throw Error("Method not supported");$.Dy.u.jb.call(this,a);};$.g.sc=function(){this.Cd=this.f.createElement("DIV");};$.g.Pd=function(a){this.nE(a);};$.g.nE=function(a,b){if(this.vf)throw Error("Component already rendered");this.Cd||this.sc();a?a.insertBefore(this.Cd,b||null):this.f.b.body.appendChild(this.Cd);this.Y&&!this.Y.vf||this.Eg();};$.g.ys=ba(17);$.g.mH=ba(19);$.g.pl=ba(22);$.g.Eg=function(){this.vf=!0;this.Pj(function(a){!a.vf&&a.Xa()&&a.Eg();});};$.g.zh=function(){this.Pj(function(a){a.vf&&a.zh();});this.G&&rf(this.G);this.vf=!1;};$.g.R=function(){this.vf&&this.zh();this.G&&(this.G.kd(),delete this.G);this.Pj(function(a){a.kd();});!this.eb&&this.Cd&&$.Ye(this.Cd);this.Y=this.dh=this.Cd=this.D=this.j=null;$.Dy.u.R.call(this);};$.g.gc=function(a,b){this.Cg(a,$.Hy(this),b);};$.g.Cg=function(a,b,c){if(a.vf&&(c||!this.vf))throw Error("Component already rendered");if(0>b||b>$.Hy(this))throw Error("Child component index out of bounds");this.D&&this.j||(this.D={},this.j=[]);if(a.getParent()==this){var d=a.my();this.D[d]=a;$.Fa(this.j,a);}else $.Qc(this.D,a.my(),a);a.el(this);$.Da(this.j,a,b);a.vf&&this.vf&&a.getParent()==this?(c=this.rD(),b=c.childNodes[b]||null,b!=a.Xa()&&c.insertBefore(a.Xa(),b)):c?(this.Cd||this.sc(),b=this.wd(b+1),a.nE(this.rD(),b?b.Cd:null)):this.vf&&!a.vf&&a.Cd&&a.Cd.parentNode&&1==a.Cd.parentNode.nodeType&&a.Eg();};$.g.rD=function(){return this.Cd;};$.g.wd=function(a){return this.j?this.j[a]||null:null;};$.g.Pj=function(a,b){this.j&&(0,$.Re)(this.j,a,b);};$.g.Ef=function(a){return this.j&&a?(0,$.za)(this.j,a):-1;};$.g.removeChild=function(a,b){if(a){var c=$.z(a)?a:a.my();a=$.Iy(this,c);c&&a&&($.Pc(this.D,c),$.Fa(this.j,a),b&&(a.zh(),a.Cd&&$.Ye(a.Cd)),a.el(null));}if(!a)throw Error("Child is not in parent component");return a;};$.g.Cj=function(a,b){return this.removeChild(this.wd(a),b);};$.g.dj=function(a){for(var b=[];this.j&&0!=this.j.length;)b.push(this.Cj(0,a));return b;};var Ky;$.H($.Jy,$.Dy);$.g=$.Jy.prototype;$.g.St=null;$.g.vH=!1;$.g.sc=function(){this.Cd=this.f.sc("INPUT",{type:"text"});};$.g.pl=ba(21);$.g.Eg=function(){$.Jy.u.Eg.call(this);var a=new pf(this);a.ua(this.Xa(),"focus",this.OU);a.ua(this.Xa(),"blur",this.Qfa);if($.Ly())this.Og=a;else{$.hd&&a.ua(this.Xa(),["keypress","keydown","keyup"],this.$fa);var b=$.ve(this.Xa());a.ua(b?$.Je(b):window,"load",this.pga);this.Og=a;My(this);}this.co();this.Xa().k3=this;};$.g.zh=function(){$.Jy.u.zh.call(this);this.Og&&(this.Og.kd(),this.Og=null);this.Xa().k3=null;};$.g.R=function(){$.Jy.u.R.call(this);this.Og&&(this.Og.kd(),this.Og=null);};$.g.OU=function(){this.vH=!0;var a=this.Xa();$.Tj(a,"label-input-label");if(!$.Ly()&&!$.Ny(this)&&!this.b){var b=this;a=function a(){b.Xa()&&(b.Xa().value="");};$.id?$.Fj(a,10):a();}};$.g.Qfa=function(){$.Ly()||(this.Og.ec(this.Xa(),"click",this.OU),this.St=null);this.vH=!1;this.co();};$.g.$fa=function(a){27==a.keyCode&&("keydown"==a.type?this.St=this.Xa().value:"keypress"==a.type?this.Xa().value=this.St:"keyup"==a.type&&(this.St=null),a.preventDefault());};$.g.aga=function(){$.Ny(this)||(this.Xa().value="",$.Fj(this.Mfa,10,this));};$.g.Mfa=function(){$.Ny(this)||(this.Xa().value=this.i);};$.g.pga=function(){this.co();};$.g.clear=function(){this.Xa().value="";null!=this.St&&(this.St="");};$.g.reset=function(){$.Ny(this)&&(this.clear(),this.co());};$.g.wj=function(){return null!=this.St?this.St:$.Ny(this)?this.Xa().value:"";};$.g.Zd=function(){return this.i;};$.g.co=function(){var a=this.Xa();$.Ly()?this.Xa().placeholder!=this.i&&(this.Xa().placeholder=this.i):My(this);$.By(a,"label",this.i);$.Ny(this)?(a=this.Xa(),$.Tj(a,"label-input-label")):(this.b||this.vH||(a=this.Xa(),$.Rj(a,"label-input-label")),$.Ly()||$.Fj(this.Jja,10,this));};$.g.Dj=function(a){this.Xa().disabled=!a;var b=this.Xa();a?$.Tj(b,"label-input-label-disabled"):$.Rj(b,"label-input-label-disabled");};$.g.isEnabled=function(){return!this.Xa().disabled;};$.g.t1=ba(23);$.g.Jja=function(){!this.Xa()||$.Ny(this)||this.vH||(this.Xa().value=this.i);};$.H($.Py,$.Y);$.g=$.Py.prototype;$.g.Eh=function(a){a:{var b=a.type;switch(b){case"mouseout":b="axismarkerout";break;case"mouseover":b="axismarkerover";break;case"mousemove":b="axismarkermove";break;default:a=null;break a;}a={type:b,target:this,originalEvent:a,rawValue:this.kK(),formattedValue:this.ZQ(),offsetX:a.offsetX,offsetY:a.offsetY};}a&&this.dispatchEvent(a);};$.g.ZQ=function(){return"Value: "+this.kK();};$.g.pa=$.Y.prototype.pa|4;$.g.ra=$.Y.prototype.ra|20;$.g.wc=function(){return this.oa;};$.g.OK=function(a){if($.n(a)){var b="gantt"==(a&&$.E(a.La)&&a.La());if(a=b?a==this.j?null:a:$.mt(this.j,a,null,15,null,this.xg,this)){var c=this.j==a;this.j=a;var d=this.qa||this.b&&this.b.scale();d?a.da(!1):b||a.da(c);c||d||this.B(4,13);}}};$.g.Lo=function(a){if($.n(a)){var b="gantt"==(a&&$.E(a.La)&&a.La()),c=b?a==this.qa?null:a:$.mt(this.qa,a,null,15,null,this.xg,this);if(c||null===a&&this.qa){a=this.qa==c;var d=b&&!this.qa;c||$.or(this.qa,this.xg,this);this.qa=c;d&&$.L(this.qa,this.xg,this);c&&!b&&c.da(a);a||this.B(4,13);}return this;}return this.qa||this.b&&this.b.scale()||this.j;};$.g.g3=function(){return!!this.qa;};$.g.xg=function(a){var b=0;$.X(a,4)&&(b|=4);$.X(a,2)&&(b|=1);this.B(4,b|8);};$.g.kK=function(){return $.n(void 0)?(void 0!==this.g("value")&&this.value(void 0),this):this.g("value");};$.g.lD=function(){var a=9;"consider"==this.g("scaleRangeMode")&&(a|=4);return a;};$.g.kr=function(){return $.Py.u.kr.call(this)|4;};$.g.us=function(){return[this.kK()];};$.g.ZZ=function(){this.B(4,9);};$.g.axis=function(a){return $.n(a)?(this.b!=a&&(this.b&&$.or(this.b,this.ZZ,this),this.b=a,$.L(this.b,this.ZZ,this),this.B(4,13)),this):this.b;};$.g.Op=function(a,b,c,d){this.$g||(this.$g=new $.Ju());return $.n(a)?(this.$g.N.apply(this.$g,arguments),this):this.$g;};$.g.Mb=function(){return"horizontal"==this.ve();};$.g.bs=void 0;$.g.iv=void 0;$.g.W=function(){if(!this.scale())return $.il(2),this;if(!this.yc())return this;if(this.J(8)){var a=this.zIndex();$.Qy(this).zIndex(a);this.I(8);}this.J(2)&&(a=this.O(),$.Qy(this).parent(a),this.I(2));this.J(16)&&(this.iv(),this.I(16));this.J(4)&&(this.bs(),this.I(4));return this;};$.g.jo=function(){var a=this.scale();if(a){var b=$.Qy(this),c=a.transform(this.g("value"),.5);b.clear();if(!(0,window.isNaN)(c)&&(0<=c&&1>=c||this.i)){a=this.ja();var d=this.Op(),e=b.fl();this.Mb()?(c=a.Ub()+a.height-c*a.height,c=$.O(c,e),b.moveTo(a.sb(),c),b.lineTo(a.bb(),c)):(c=a.sb()+c*a.width,c=$.O(c,e),b.moveTo(c,a.Ub()),b.lineTo(c,a.Ta()));this.i||b.clip(d.Ej(a));}}else $.il(2);};$.g.remove=function(){$.Qy(this).parent(null);};var JG={};$.wq(JG,[[0,"scaleRangeMode",gl]]);$.S($.Py,JG);$.Py.prototype.U=function(a,b){$.Py.u.U.call(this,a,b);"layout"in a&&a.layout&&this.ve(a.layout);if("axis"in a){var c=a.axis;$.ea(c)?this.oa&&this.axis(this.oa.NG(c)):c.Gy&&c.Gy()&&this.axis(c);}$.Pq(this,JG,a,b);};$.Py.prototype.F=function(){var a=$.Py.u.F.call(this);$.Xq(this,JG,a);return a;};$.Py.prototype.R=function(){this.oa=this.b=null;$.ud(this.D,this.$g);this.$g=this.D=null;$.Py.u.R.call(this);};$.H($.Sy,$.Y);$.Sy.prototype.pa=$.Y.prototype.pa;$.Sy.prototype.ra=$.Y.prototype.ra;var aea=$.Sy.prototype,KG={};$.wq(KG,[[1,"stroke",$.Tq],[0,"length",$.Do],[0,"position",$.Wk]]);aea.SQ=KG;$.S($.Sy,$.Sy.prototype.SQ);$.g=$.Sy.prototype;$.g.orientation=function(a){return $.n(a)?(a=$.Lk(a),this.uh!=a&&(this.uh=a,this.$o=null),this):this.uh;};$.g.remove=function(){this.path&&this.path.parent(null);};$.g.W=function(){this.path.clear();this.path.stroke(this.g("stroke"));if(!this.yc())return this;this.J(8)&&(this.path.zIndex(this.zIndex()),this.I(8));this.J(2)&&(this.path.parent(this.O()),this.I(2));return this;};$.g.$0=function(a,b,c,d){a=b.left+a*b.width;b=c.top;a=$.O(a,this.path.fl());var e=this.g("position"),f=this.g("length");"outside"==e?(b-=d/2,c=-f):(b="center"==e?b+(c.height-f)/2:b+d/2,c=f);this.path.moveTo(a,b);this.path.lineTo(a,b+c);};$.g.cT=function(a,b,c,d){c=c.left;a=b.top+b.height-a*b.height;a=$.O(a,this.path.fl());b=this.g("position");var e=this.g("length");"outside"==b?(c+=d/2,d=e):"center"==b?(c-=e/2,d=e):(c-=d/2,d=-e);this.path.moveTo(c,a);this.path.lineTo(c+d,a);};$.g.XS=function(a,b,c,d){a=b.left+a*b.width;c=c.top;a=$.O(a,this.path.fl());b=this.g("position");var e=this.g("length");"outside"==b?(c+=d/2,d=e):"center"==b?(c-=e/2,d=e):(c-=d/2,d=-e);this.path.moveTo(a,c);this.path.lineTo(a,c+d);};$.g.aT=function(a,b,c,d){c=c.left;a=b.top+b.height-a*b.height;a=$.O(a,this.path.fl());b=this.g("position");var e=this.g("length");"outside"==b?(c-=d/2,d=-e):(c="center"==b?c-e/2:c+d/2,d=e);this.path.moveTo(c,a);this.path.lineTo(c+d,a);};$.g.F=function(){var a=$.Sy.u.F.call(this);$.Xq(this,this.SQ,a,"AxisTicks");return a;};$.g.U=function(a,b){$.Sy.u.U.call(this,a,b);$.Pq(this,this.SQ,a,b);};$.g.R=function(){$.pd(this.path);this.path=null;$.Sy.u.R.call(this);};$.H($.Uy,$.Y);$.Uy.prototype.g=function(a){var b=$.Uy.u.g.call(this,a);if("orientation"==a&&null==b||!$.n(b))b=this.Ld[a];return b;};var LG={};$.wq(LG,[$.Z.aK,$.Z.hQ,$.Z.iQ,$.Z.UB,$.Z.Wn,[0,"staggerMode",$.Hq],[0,"staggerMaxLines",$.Bq],[0,"staggerLines",$.Bq],[0,"orientation",hr],[0,"value",Ho]]);$.S($.Uy,LG);$.g=$.Uy.prototype;$.g.ra=$.Y.prototype.ra|976;$.g.pa=$.Y.prototype.pa;$.g.Oc=null;$.g.Br="axis";$.g.ib=null;$.g.Ca=null;$.g.pc=null;$.g.lb=null;$.g.Qc=null;$.g.Gn=null;$.g.qJ=1;$.g.Fq=null;$.g.JH=null;$.g.Ua=null;$.g.bi=null;$.g.Dk=null;$.g.title=function(a){this.ib||(this.ib=new $.cw(),$.W(this,"title",this.ib),this.ib.jb(this),$.L(this.ib,this.Kq,this));return $.n(a)?(this.ib.N(a),this):this.ib;};$.g.Kq=function(a){var b=0,c=0;$.X(a,8)?(b=this.re,c=9):$.X(a,1)&&(b=64,c=1);this.B(b,c);};$.g.labels=function(a){this.Ca||(this.Ca=new $.Ru(),$.W(this,"labels",this.Ca),this.Ca.jb(this),$.L(this.Ca,this.ae,this));return $.n(a)?(!$.C(a)||"enabled"in a||(a.enabled=!0),this.Ca.N(a),this):this.Ca;};$.g.ae=function(a){var b=0,c=0;$.X(a,8)?(b=this.re,c=9):$.X(a,1)&&(b=384,c=1);this.labels().clear();this.js();this.hk=null;this.Yd();this.B(b,c);};$.g.pb=function(a){this.pc||(this.pc=new $.Ru(),$.W(this,"minorLabels",this.pc),this.pc.jb(this),$.L(this.pc,this.kaa,this));return $.n(a)?(!$.C(a)||"enabled"in a||(a.enabled=!0),this.pc.N(a),this):this.pc;};$.g.kaa=function(a){var b=0,c=0;$.X(a,8)?(b=this.re,c=9):$.X(a,1)&&(b=128,c=1);this.hk=null;this.Yd();this.pb().clear();this.B(b,c);};$.g.ol=function(){return new $.Sy();};$.g.zz=function(){return this.line?this.line:this.line=$.rk();};$.g.Wa=function(a){this.lb||(this.lb=this.ol(),$.W(this,"ticks",this.lb),this.lb.jb(this),$.L(this.lb,this.TZ,this));return $.n(a)?(this.lb.N(a),this):this.lb;};$.g.wb=function(a){this.Qc||(this.Qc=this.ol(),$.W(this,"minorTicks",this.Qc),this.Qc.jb(this),$.L(this.Qc,this.TZ,this));return $.n(a)?(this.Qc.N(a),this):this.Qc;};$.g.TZ=function(a){var b=0,c=0;$.X(a,8)?(b=this.re,c=9,this.Yd()):$.X(a,1)&&(b=256,c=1);this.B(b,c);};$.g.scale=function(a){if($.n(a)){if(this.Gn!=a&&(a=$.mt(this.scale(),a,null,this.LT(),null,this.xg,this))){var b=this.Gn==a;this.Gn=a;this.js();this.hk=null;this.Yd();this.labels().clear();this.pb().clear();a.da(b);b||this.B(this.re,9);}return this;}return this.Gn;};$.g.LT=function(){return 15;};$.g.xg=function(a){$.X(a,2)&&(this.js(),this.hk=null,this.Yd(),this.labels().clear(),this.pb().clear(),this.B(this.re,9));};$.g.padding=function(a,b,c,d){this.Ua||(this.Ua=new $.Ju(),$.W(this,"padding",this.Ua),$.L(this.Ua,this.bm,this));return $.n(a)?(this.Ua.N.apply(this.Ua,arguments),this):this.Ua;};$.g.WE=function(a){if($.ea(a)||$.J(a,$.Uy))this.Ba=a,this.B(this.re,9);return this.Ba;};$.g.bm=function(a){$.X(a,2)&&(this.js(),this.hk=null,this.Yd(),this.B(this.re,9));};$.g.Gy=function(){return!0;};$.g.js=function(){this.ma=null;};$.g.py=function(a){if(!this.hk||this.J(512)){var b=this.scale();if(b){var c=this.labels();var d=c.enabled();var e=b.Wa().get();var f=e.length;if(d){var h;var k=0;for(h=f;k<h;k++)(0==k&&this.g("drawFirstLabel")||k==f-1&&this.g("drawLastLabel")||0<k&&k<f-1)&&this.Zd(k,!0,e,a);}if($.J(b,$.nt)){var l=this.pb();var m=l.enabled();l=b.wb().get();var p=l.length;if(m)for(k=0,h=p;k<h;k++)this.Zd(k,!1,l,a);}}if("allow-overlap"==this.g("overlapMode"))return{labels:d,pb:m};h=[];var q=[];if(b){var r=-1,t=-1,u=-1,v,w,x;k=c.g("position");var y=this.JH&&0>$.No(k)?this.JH:null,B=this.g("drawFirstLabel"),G=this.g("drawLastLabel");if($.J(b,$.nt)){c=k=0;for(var D;k<f||c<p;){var K=e[k];var P=l[c];var R=b.transform(K);D=b.transform(P);P=K=v=w=null;if(-1==t&&d)for(x=k;-1==t&&x<f;){!x&&B||x==f-1&&G||0!=x&&x!=f-1?P=this.qd(x,!0,e,a):P=null;-1!=r?K=this.qd(r,!0,e,a):K=null;x!=f-1&&G?v=this.qd(f-1,!0,e,a):v=null;var T=y?!Wy(this,y,P):!0;P&&T&&!$.en(P,K)&&!$.en(P,v)&&(T=b.transform(e[x]),0>=T&&B||1<=T&&G?t=x:0<T&&1>T&&(t=x));x++;}R<=D&&k<f||c==p?(d&&k==t?(r=k,t=-1,h.push(!0)):h.push(!1),k++,R==D&&(d||this.Wa().enabled())&&(q.push(!1),c++)):(m?(P=this.qd(c,!1,l,a),-1!=r&&(K=this.qd(r,!0,e,a)),-1!=t&&(v=this.qd(t,!0,e,a)),-1!=u&&(w=this.qd(u,!1,l,a)),R=(R=this.pb().Zd(c))?$.n(R.enabled())?R.enabled():!0:!0,T=y?!Wy(this,y,P):!0,!T||$.en(P,K)||$.en(P,v)||$.en(P,w)||!R?q.push(!1):(T=b.transform(l[c]),0>=T&&B||1<=T&&G?(u=c,q.push(!0)):0<T&&1>T?(u=c,q.push(!0)):q.push(!1))):q.push(!1),c++);}m||(q=!1);}else if($.J(b,$s))for(G?(v=this.qd(f-1,!0,e,a),v=y?Wy(this,y,v)?null:v:v):v=null,k=0;k<f;k++)d?(!k&&B||k==f-1&&G||0!=k&&k!=f-1?P=this.qd(k,!0,e,a):P=null,-1!=r?K=this.qd(r,!0,e,a):K=null,T=y?!Wy(this,y,P):!0,k?k==f-1?G&&T?(r=k,h.push(!0)):h.push(!1):!T||$.en(P,K)||$.en(P,v)?h.push(!1):(r=k,h.push(!0)):B&&T?(r=k,h.push(!0)):h.push(!1)):h.push(!1);}d||(h=!1);this.hk={labels:h,pb:q};this.B(this.re);this.I(512);}return this.hk;};$.g.Zd=function(a,b,c,d){if(!b&&this.scale()&&!$.J(this.scale(),$.nt))return null;var e=b?this.labels():this.pb(),f=e.Zd(a);f||(f=e.add(void 0,void 0,a),f.Oa.ja=this.ja(),f.ur=null,$.dv(f,[f.Oa,e.Oa,e.na]));e=c[a];e=$.A(e)?e[0]:e;f.ic(Pca(this,a,b,c,d));f.Bf(this.lq(a,e));f.lM();return f;};$.g.qd=function(a,b,c,d){if(!b&&this.scale()&&!$.J(this.scale(),$.nt)||0>a)return null;var e=b?this.bi:this.Dk;if($.n(e[a]))return e[a];var f=Zy(this,c[a]);if(0>f||1<f)return[0,0];f=b?this.labels():this.pb();c=this.Zd(a,b,c,d);if(d=Uu(c))c.Oa.ja=this.ja(),$.dv(c,[c.Oa,f.Oa,f.na]),b=f.measure(c,void 0,void 0,a);else{b=c.Ph();b.Va&&($.ng().Vp().appendChild(b.Td()),c.B(2),b.b=0,b.Va=null,b.setPosition(0,0));b=b.qb();var h=c.hc("padding");h&&!$.Nc(h)&&(b=$.Mu(b,h));b.left=c.ic().value.x;b.top=c.ic().value.y;}f=f.g("position");f=$.No(f);switch(this.g("orientation")){case"top":b.top-=f*b.height/2;break;case"right":b.left+=f*b.width/2;break;case"bottom":b.top+=f*b.height/2;break;case"left":b.left-=f*b.width/2;}if(d)b=$.on(b);else{f=$.Wu(c);d=f.anchor||"left-top";c=$.Ko(new $.I(0,0,b.width,b.height),d);b.left-=c.x;b.top-=c.y;c=$.Ko(b,d);h=this.ja();var k=f.offsetX,l=f.offsetY,m=new $.gb(b.left,b.top);$.cp(m,d,$.n(k)?$.M(k,h.width):0,$.n(l)?$.M(l,h.height):0);b.left=m.x;b.top=m.y;b=$.on(b);f.rotation&&$.Jb($.bb(f.rotation),c.x,c.y).transform(b,0,b,0,4);}return e[a]=b;};$.g.BM=function(a,b,c,d,e){var f=0,h=0;switch(this.g("orientation")){case"top":f=Math.round(a.left+b*a.width);h=e.top-c/2-d;break;case"right":f=e.bb()+c/2+d;h=Math.round(a.Ta()-b*a.height);break;case"bottom":f=Math.round(a.left+b*a.width);h=e.Ta()+c/2+d;break;case"left":f=e.left-c/2-d,h=Math.round(a.Ta()-b*a.height);}return{x:f,y:h};};$.g.Yd=function(){this.j&&(this.j.length=0);this.bi.length=0;this.Dk.length=0;this.Fq=this.ea=null;};$.g.f0=function(a,b,c){var d=this.Wa(),e=this.wb(),f=this.labels().g("position"),h=this.pb().g("position");var k=d.g("position");var l=e.g("position");var m=$.No(f);var p=$.No(h);k=$.No(k);l=$.No(l);c?(c=d.enabled()?d.g("length"):0,e=e.enabled()?e.g("length"):0,k=k||m?m?a+c:a/2+Math.max(a/2,c):Math.max(a,c),m=l||p?m?b+e:b/2+Math.max(b/2,e):Math.max(b,e)):(c=$.Oo(d,1),e=$.Oo(e,1),k=c,m=e,"outside"==f?k+=a:"center"==f&&(k=Math.max(k,a/2)),"outside"==h?m+=b:"center"==h&&(m=Math.max(m,b/2)));return Math.max(k,m);};$.g.Pg=function(a){return this.Mb()?this.padding().Kg(a):this.padding().Vh(a);};$.g.xd=function(a){var b=this.ja();if(b&&null===this.g("value")){var c=b.clone();if(this.scale()&&this.enabled()){var d=this.ob(a),e=this.padding();a=b.height-e.Vh(b.height)+d.height;b=b.width-e.Kg(b.width)+d.width;switch(this.g("orientation")){case"top":c.height-=a;c.top+=a;break;case"right":c.width-=b;break;case"bottom":c.height-=a;break;case"left":c.width-=b,c.left+=b;}}return c;}return new $.I(0,0,0,0);};$.g.SF=function(a,b,c,d){var e=this.g("width");return e?$.M(e,a):$.Yy(this,c,b,d);};$.g.ob=function(a){var b=a&&4!=(this.labels().enabled()?$.No(this.labels().g("position")):1)+(this.pb().enabled()?$.No(this.pb().g("position")):1)+(this.Wa().enabled()?$.No(this.Wa().g("position")):1)+(this.wb().enabled()?$.No(this.wb().g("position")):1),c=b?this.ea:this.Fq;if(!c||this.J(4)){if(c=this.ja()){c.top=Math.round(c.top);c.left=Math.round(c.left);c.width=Math.round(c.width);c.height=Math.round(c.height);if(this.Mb()){var d=c.width;var e=c.height;}else d=c.height,e=c.width;d=this.Pg(d);a=this.SF(e,d,c,a);var f=this.padding();e=$.M(f.g("top"),c.height);var h=$.M(f.g("right"),c.width),k=$.M(f.g("bottom"),c.height);f=$.M(f.g("left"),c.width);var l=0,m=0,p=0,q=0;switch(this.g("orientation")){case"top":m=c.top+e;l=c.left+f;q=a;p=d;break;case"right":m=c.top+e;l=c.left+c.width-a-h;q=d;p=a;break;case"bottom":m=c.top+c.height-a-k;l=c.left+f;q=a;p=d;break;case"left":m=c.top+e,l=c.left+f,q=d,p=a;}c=new $.I(l,m,p,q);c.round();b?this.ea=c:this.Fq=c;}else this.Fq=new $.I(0,0,0,0),this.ea=new $.I(0,0,0,0);this.I(4);}return b?this.ea:this.Fq;};$.g.WQ=function(a,b,c){b=a.Ta();b+=c/2;this.line.moveTo($.O(a.left,1)-.5,b).lineTo($.O(a.bb(),1)+.5,b);};$.g.VQ=function(a,b,c){b=a.left;b-=c/2-1;this.line.moveTo(b,$.O(a.top,1)-.5).lineTo(b,$.O(a.Ta(),1)+.5);};$.g.TQ=function(a,b,c){b=a.top;b-=c/2-1;this.line.moveTo($.O(a.left,1)-.5,b).lineTo($.O(a.bb(),1)+.5,b);};$.g.UQ=function(a,b,c){b=a.bb();b+=c/2;this.line.moveTo(b,$.O(a.top,1)-.5).lineTo(b,$.O(a.Ta(),1)+.5);};$.g.jo=function(){this.zz().clear();switch(this.g("orientation")){case"top":var a=this.WQ;break;case"right":a=this.VQ;break;case"bottom":a=this.TQ;break;case"left":a=this.UQ;}var b=this.g("stroke"),c=$.jp(b);c=c?c:1;var d=0==c%2?0:.5,e=this.ob();a.call(this,e,d,c,0,0);this.line.stroke(b);};$.g.AM=function(a,b,c,d,e,f){var h=this.ob(),k=this.line.qb(),l=this.g("stroke");l=$.jp(l);var m=0,p=0;switch(this.g("orientation")){case"top":m=Math.round(h.left+a*h.width)+e;p=k.top-f*(l/2+b.height/2+c)-d;break;case"right":m=k.bb()+f*(l/2+b.width/2+c)+d;p=Math.round(h.top+h.height-a*h.height)+e;break;case"bottom":m=Math.round(h.left+a*h.width)+e;p=k.Ta()+f*(l/2+b.height/2+c)+d;break;case"left":m=k.left-f*(l/2+b.width/2+c)-d,p=Math.round(h.top+h.height-a*h.height)+e;}return{x:m,y:p};};$.g.je=function(a,b,c,d,e,f,h){if(e){var k=this.Wa();var l=this.labels();}else k=this.wb(),l=this.pb();if(h){f=$.pn(this.qd(c,e,f));h=0;if(e){var m=!0;if(1<this.G&&this.g("staggerMode"))for(var p=0,q=this.ba.length;p<q;p++){for(var r=this.ba[p],t=0,u=r.length;t<u;t++)if(c==r[t]){m=!1;break;}if(!m)break;h+=this.aa[p];}}m=$.No(l.g("position"));k=$.Oo(k,m);b={value:this.AM(b,f,h,k,d,m,e)};a=this.lq(c,a);d=l.Zd(c);d||(d=l.add(a,b,c),$.dv(d,[d.Oa,l.Oa,l.na]));d.Bf(a);d.ic(b);}else l.clear(c);};$.g.yc=function(){if(this.nf())return!1;if(!this.enabled())return this.J(1)&&(this.remove(),this.I(1),this.title().B(2),this.Wa().B(2),this.wb().B(2),this.labels().B(2),this.pb().B(2),this.B(450)),!1;this.I(1);return!0;};$.g.XL=function(){var a=this.title();a.ja(this.ob());$.fw(a,this.g("orientation"));a.W();};$.g.XQ=function(){var a=this.zIndex();this.line.zIndex(a);this.title().zIndex(a);this.Wa().zIndex(a);this.wb().zIndex(a);this.labels().zIndex(a);this.pb().zIndex(a);};$.g.tE=function(a,b,c){return $.A(c)?c[a]:c;};$.g.W=function(){var a=this.scale();if(!a)return $.il(2),this;if(!this.yc())return this;var b=this.g("orientation"),c=this.Wa(),d=this.wb();$.V(this.title());$.V(this.labels());$.V(this.pb());$.V(c);$.V(d);this.J(16)&&(this.jo(),this.I(16));this.J(8)&&(this.XQ(),this.I(8));if(this.J(2)){var e=this.O();this.title().O(e);this.line.parent(e);c.O(e);d.O(e);this.labels().O(e);this.pb().O(e);this.I(2);}this.J(64)&&(this.XL(),this.I(64));if(this.J(256)){var f=this.Wa();f.orientation(b);f.W();var h=$.Ty(f);var k=this.wb();k.orientation(b);k.W();var l=$.Ty(k);this.I(256);}this.J(128)&&(b=this.labels(),b.O()||b.O(this.O()),b.ja(this.ja()),b=this.pb(),b.O()||b.O(this.O()),b.ja(this.ja()),this.I(128));if($.n(h)||$.n(l)){b=a.Wa().get();e=b.length;var m=c.g("stroke"),p=m&&m.thickness?(0,window.parseFloat)(m.thickness):1,q;m=this.ob();var r=this.line.qb();var t=this.g("stroke");t=$.Zb(t);t=$.jp(t);var u=$.J(a,$.St);if($.J(a,$.nt)){var v=Xy(this);if($.C(v)){var w=v.labels;u=v.pb;}else w=!v,u=!v;var x=a.wb().get(),y=(v=d.g("stroke"))&&v.thickness?(0,window.parseFloat)(v.thickness):1;var B=v=0;for(var G=x.length,D,K,P;v<e||B<G;){var R=b[v];D=x[B];var T=a.transform(R);K=a.transform(D);"log"==a.La()&&(T=$.Wm(T,6),K=$.Wm(K,6));if(T<=K&&v<e||B==G){P=0==p%2?0:-.5;var xa=this.tE(v,b,w);D=v;K=w;(q=$.A(K)?K[D]:$.da(K))&&h&&h.call(f,T,m,r,t,P);this.je(R,a.transform(R,.5),v,P,!0,b,xa);P=T;v++;}else T=0==y%2?0:-.5,xa=this.tE(B,x,u),R=B,q=u,(q=$.A(q)?q[R]:$.da(q))&&l&&P!=K&&l.call(k,K,m,r,t,T),this.je(D,a.transform(D,.5),B,T,!1,x,xa&&P!=K),B++;}u&&this.pb().W();}else for(l=Xy(this),w=$.C(l)?l.labels:!l,l=0==p%2?0:-.5,v=0;v<e;v++)R=b[v],$.A(R)?(k=R[0],P=R[1],p=(a.transform(R[0],0)+a.transform(R[1],1))/2):(k=P=R,p=a.transform(R,.5)),xa=u&&"continuous"==a.mode()?.5:0,T=a.transform(k,xa),h&&(0<=T&&1>=T&&h.call(f,T,m,r,t,l),v==e-1&&(T=a.transform(P,1),0<=T&&1>=T&&h.call(f,T,m,r,t,l))),xa=$.A(w)?w[v]:w,this.je(k,p,v,l,!0,b,xa&&0<=p&&1>=p);this.labels().W();}this.title().da(!1);this.labels().da(!1);this.pb().da(!1);c.da(!1);d.da(!1);return this;};$.g.remove=function(){this.ib&&this.ib.remove();this.line&&this.line.parent(null);this.Wa().remove();this.wb().remove();this.Ca&&this.Ca.remove();this.pc&&this.pc.remove();};$.g.ro=function(){this.js();this.hk=null;this.Yd();this.B(this.re,9);};$.g.lq=function(a,b){var c=this.scale(),d,e=!0,f=!1;if($.J(c,$.St)){var h=c.Wa().names()[a];var k=b;var l=d="string";e=!1;}else $.J(c,$.pt)?(h=$.zs(b),d="string",l="date-time",k=b,f=!0):(h=(0,window.parseFloat)(b),k=(0,window.parseFloat)(b),d=l="number");h={axis:{value:this,type:""},index:{value:a,type:"number"},value:{value:h,type:d},tickValue:{value:k,type:l},scale:{value:c,type:""}};e&&(h.max={value:$.n(c.max)?c.max:null,type:"number"},h.min={value:$.n(c.min)?c.min:null,type:"number"});f&&(e=c.Wa(),h.intervalUnit={value:e.UT(),type:"string"},h.intervalUnitCount={value:e.VT(),type:"number"},e=c.wb(),h.minorIntervalUnit={value:e.UT(),type:"string"},h.minorIntervalUnitCount={value:e.VT(),type:"number"});c={};c["%AxisName"]={value:this.title().text(),type:"string"};e=new $.Hw(h);e.Em({"%AxisScaleMax":"max","%AxisScaleMin":"min"});e.Bl(c);return $.rv(e);};$.g.Mb=function(){var a=this.g("orientation");return"top"==a||"bottom"==a;};$.g.F=function(){var a=$.Uy.u.F.call(this);$.Xq(this,LG,a);this.oh("zIndex")||delete a.zIndex;a.title=this.title().F();a.labels=this.labels().F();a.minorLabels=this.pb().F();a.ticks=this.Wa().F();a.minorTicks=this.wb().F();return a;};$.g.U=function(a,b){$.Uy.u.U.call(this,a,b);$.Pq(this,LG,a,b);"title"in a&&this.title().fa(!!b,a.title);"padding"in a&&this.padding(a.padding);this.labels().fa(!!b,a.labels);this.pb().fa(!!b,a.minorLabels);this.Wa(a.ticks);this.wb(a.minorTicks);};$.g.R=function(){this.Gn&&$.or(this.Gn,this.xg,this);this.Gn=null;$.ud(this.ib,this.Ua,this.line,this.Ca,this.pc,this.lb,this.Qc);this.Qc=this.lb=this.pc=this.Ca=this.line=this.Ua=this.ib=null;this.bi.length=0;this.Dk.length=0;this.Fq=null;$.Uy.u.R.call(this);};$.H($y,$.Uy);$.zu($y,$.Uy);var MG=$.Uy.prototype;MG.title=MG.title;MG.labels=MG.labels;MG.minorLabels=MG.pb;MG.ticks=MG.Wa;MG.minorTicks=MG.wb;MG.scale=MG.scale;MG.getRemainingBounds=MG.xd;MG.isHorizontal=MG.Mb;MG.padding=MG.padding;MG.getPixelBounds=MG.ob;MG.valueTarget=MG.WE;MG=$y.prototype;$.F("anychart.standalones.axes.linear",function(){var a=new $y();a.Fa("standalones.linearAxis");return a;});MG.padding=MG.padding;MG.draw=MG.W;MG.parentBounds=MG.ja;MG.container=MG.O;$.H($.az,xv);$.az.prototype.Eh=function(a){a:{var b=a.type;switch(b){case"mouseout":b="axismarkerout";break;case"mouseover":b="axismarkerover";break;case"mousemove":b="axismarkermove";break;default:a=null;break a;}a={type:b,target:this,originalEvent:a,rawValue:cz(this),formattedValue:"Value: "+cz(this),offsetX:a.offsetX,offsetY:a.offsetY};}a&&this.dispatchEvent(a);};$.az.prototype.pa=xv.prototype.pa|4;$.az.prototype.ra=xv.prototype.ra;var NG={};$.wq(NG,[$.Z.WJ,[0,"scaleRangeMode",gl]]);$.S($.az,NG);$.g=$.az.prototype;$.g.wc=function(){return this.oa;};$.g.OK=function(a){if($.n(a)){var b="gantt"==(a&&$.E(a.La)&&a.La());if(a=b?a==this.j?null:a:$.mt(this.j,a,null,15,null,this.xg,this)){var c=this.j==a;this.j=a;var d=this.qa||this.b&&this.b.scale();d?a.da(!1):b||a.da(c);c||d||this.B(4,13);}}};$.g.Lo=function(a){if($.n(a)){var b="gantt"==(a&&$.E(a.La)&&a.La());if(a=b?a==this.qa?null:a:$.mt(this.qa,a,null,15,null,this.xg,this)){var c=this.qa==a;this.qa=a;b||a.da(c);c||this.B(4,13);}return this;}return this.qa||this.b&&this.b.scale()||this.j;};$.g.g3=function(){return!!this.qa;};$.g.xg=function(a){if(a.target==this.Lo()){var b=0;$.X(a,4)&&(b|=4);$.X(a,2)&&(b|=1);this.B(4,b|8);}};$.g.$Z=function(){this.B(4,9);};$.g.axis=function(a){return $.n(a)?(this.b!=a&&(this.b&&$.or(this.b,this.$Z,this),this.b=a,$.L(this.b,this.$Z,this),this.B(4,13)),this):this.b;};$.g.Op=function(a,b,c,d){this.$g||(this.$g=new $.Ju());return $.n(a)?(this.$g.N.apply(this.$g,arguments),this):this.$g;};$.g.ve=function(a){return $.n(a)?(a=$.Hk(a),this.f!=a&&(this.f=a,this.B(4,9)),this):this.f?this.f:this.b?(a=this.b.g("orientation"),"left"==a||"right"==a?"horizontal":"vertical"):this.D;};$.g.Mb=function(){return"horizontal"==this.ve();};$.g.yc=function(){var a=$.az.u.yc.call(this)&&!(null==cz(this)||!this.Lo());if(!a)return a;a=this.scale().transform(cz(this),.5);if(0<=a&&1>=a||this.G)return this.B(6),!0;this.remove();this.I(6);return!1;};$.g.P1=function(){var a=this.g("rotation");return null==a||(0,window.isNaN)(a)?this.Mb()?0:-90:a;};$.g.fR=function(){var a=this.g("align");if(this.Mb()){if("left"==a)return"left-center";if("right"==a)return"right-center";}else{if("top"==a)return"center-top";if("bottom"==a)return"center-bottom";}return"center";};$.g.qA=function(){var a=this.g("anchor");if(!a||"auto"==a)switch(this.fR()){case"center-top":case"right-center":a="right-center";break;case"center-bottom":case"left-center":a="left-center";break;default:a="center";}return a;};$.g.T1=function(){return this.i;};$.g.ja=function(a,b,c,d){return $.n(a)?(null===a||$.J(a,$.I)?this.i=a:"object"==$.ka(a)?this.i=new $.I(a.left,a.top,a.width,a.height):this.i=new $.I(a||0,b||0,c||0,d||0),this.ro(),this):null!=cz(this)&&this.Lo()&&this.i?(a=this.i.clone(),b=this.scale().transform(cz(this),.5),this.Mb()?(a.height=0,a.top=Math.round(this.i.top+this.i.height-b*this.i.height)):(a.width=0,a.left=Math.round(this.i.left+b*this.i.width)),a):null;};$.g.lD=function(){var a=9;"consider"==this.g("scaleRangeMode")&&(a|=4);return a;};$.g.kr=function(){return $.az.u.kr.call(this)|4;};$.g.us=function(){return[cz(this)];};$.g.F=function(){var a=$.az.u.F.call(this);$.Xq(this,NG,a,"TextBase");this.f&&(a.layout=this.f);return a;};$.g.U=function(a,b){$.az.u.U.call(this,a,b);$.Pq(this,NG,a,b);"layout"in a&&a.layout&&this.ve(a.layout);if("axis"in a){var c=a.axis;$.ea(c)?this.oa&&this.axis(this.oa.NG(c)):c.Gy&&c.Gy()&&this.axis(c);}};$.g.R=function(){$.pd(this.$g);this.b=this.oa=this.$g=null;$.az.u.R.call(this);};$.H($.dz,$.U);$.dz.prototype.ra=$.U.prototype.ra;$.dz.prototype.pa=$.U.prototype.pa|$.PE|$.QE;var Qca=Date.UTC(2E3,10,29,23,59,59,999);$.g=$.dz.prototype;$.g.Qw=function(){return this.xe;};$.g.labels=function(a){return $.n(a)&&this.Ca!=a?(this.Ca&&$.or(this.Ca,this.In,this),this.Ca=a,$.L(this.Ca,this.In,this),this):this.Ca;};$.g.In=function(){this.xe.length||$.fz(this);for(var a=this.labels().flatten(),b=0;b<this.xe.length;b++){var c=this.xe[b];c.style(a);c.Ij();}this.va($.QE);};$.g.reset=function(){for(var a=0;a<this.xe.length;a++)this.xe[a].kd();this.xe.length=0;this.oA={};this.f.length=0;};$.g.R=function(){this.reset();this.xe.length=0;var a=$.vl,b="m"+$.oa(this);b in a.b&&($.or(a.b[b].wO,a.j,a),delete a.b[b]);this.Ca&&$.or(this.Ca,this.In,this);$.dz.u.R.call(this);};$.H($.hz,$.nt);$.g=$.hz.prototype;$.g.La=function(){return"linear-color";};$.g.p1=function(a){var b,c=[];var d=0;for(b=arguments.length;d<b;d++){var e=arguments[d];if($.z(e))c.push(e);else if($.A(e))c.push.apply(c,e);else if($.C(e)){var f=e.keys;if($.n(f)&&$.A(f)){f=this.p1.apply(this,e.keys);var h=e.opacity;if($.n(h))for(var k=0;k<f.length;k++)e=f[k],$.n(e.opacity)||(e.opacity=h);c.push.apply(c,f);}else c.push(e);}}return c=$.Xb(c).keys;};$.g.fia=function(a){for(var b=this.p1.apply(this,arguments),c=0,d=b.length;c<d;c++){var e=b[c];$.n(e.offset)||(e.offset=c?c==d-1?1:c/(d-1):0);var f=e.color;$.A(f)?e.color=$.Ha(f):$.z(f)&&(e.color=$.Cl($.Ml(f).tk));}Sa(b);return b;};$.g.Jj=function(a){if(0<arguments.length&&$.n(arguments[0])){var b=this.fia.apply(this,arguments),c=this.We&&b.length==this.We.length;if(c)for(var d=0,e=b.length;d<e;d++){var f=!1;(0,$.Re)(this.We,function(a){f=f||$.Rc(a,b[d]);});c=c&&f;}c&&this.We||(this.We=b,this.va(2));return this;}return this.We;};$.g.Oq=function(a){a=this.transform(a);for(var b,c,d=0,e=this.We.length;d<e;d++){var f=this.We[d];if(c)break;else a>=f.offset?b=f:c=f;}var h;b?c?h=$.Ll(c.color,b.color,(a-b.offset)/(c.offset-b.offset)):h=b.color:h=c.color;return $.A(h)?$.Wb(h):h.color;};$.g.eS=function(a){this.nb();a=$.Cl($.Ml(a).tk);var b;var c=0;for(b=this.We.length;c<b;c++){var d=this.We[c];var e=d.color;if(c!=this.We.length-1){var f=this.We[c+1];var h=f.color;}var k=(a[1]-e[1])/(h[1]-e[1]);var l=(a[2]-e[2])/(h[2]-e[2]);var m=(a[0]-e[0])/(h[0]-e[0]);(0,window.isNaN)(m)&&(m=k||l);(0,window.isNaN)(k)&&(k=l||m);(0,window.isNaN)(l)&&(l=m||k);if($.Zm(m,k)&&$.Zm(m,l)&&$.Zm(k,l)&&(k=Math.round(h[1]*k+(1-k)*e[1])==a[1],l=Math.round(h[2]*l+(1-l)*e[2])==a[2],Math.round(h[0]*m+(1-m)*e[0])==a[0]&&k&&l)){var p=this.we*(m/(1/(f.offset-d.offset))+d.offset)+this.min;break;}}return $.n(p)?p:window.NaN;};$.g.Wa=function(a){this.vh||(this.vh=this.ol(),$.W(this.vh,"ticks",this.vh));return $.n(a)?(this.vh.N(a),this.va(2),this):this.vh;};$.g.wb=function(a){this.Bi||(this.Bi=this.ol(),$.W(this.vh,"minorTicks",this.Bi),this.Bi.count(5));return $.n(a)?(this.Bi.N(a),this.va(2),this):this.Bi;};$.g.iJ=function(){var a=this.Wa().uB(this.min,this.max,this.Nn&&this.min!=this.ft,this.Ln&&this.max!=this.Jq,this.vw);this.Nn&&(this.min=a[0]);this.Ln&&(this.max=a[1]);this.wb().vB(this.Wa().dk(),this.vw,a[2],a[3],this.Jx);};$.g.bx=function(){$.hz.u.bx.call(this);Ts(this.Mq,[this.min,this.max]);this.we=this.max-this.min;};$.g.ji=function(a){$.X(a,2)&&(this.Mc=!1,this.va(2));};$.g.ol=function(){var a=new $.Kt(this);$.L(a,this.ji,this);return a;};$.g.F=function(){var a=$.hz.u.F.call(this);a.ticks=this.Wa().F();a.minorTicks=this.wb().F();a.colors=(0,$.Wa)(this.Jj(),function(a){return a.offset+" "+$.Wb(a.color)+($.n(a.opacity)?" "+a.opacity:"");});return a;};$.g.U=function(a,b){$.hz.u.U.call(this,a,b);this.Wa(a.ticks);this.wb(a.minorTicks);this.Jj(a.colors);};$.g.R=function(){$.ud(this.vh,this.Bi);this.Bi=this.vh=null;$.hz.u.R.call(this);};var OG=$.hz.prototype;$.F("anychart.scales.linearColor",$.iz);OG.getType=OG.La;OG.colors=OG.Jj;OG.valueToColor=OG.Oq;OG.colorToValue=OG.eS;OG.ticks=OG.Wa;OG.minorTicks=OG.wb;$.H(jz,$.Qt);jz.prototype.d0=function(){var a=[],b=this.scale.Wy();b.length||(b=this.scale.qr());if(b){var c;b=b.length-1;(0,window.isNaN)(this.zK())?c=Math.ceil(b/this.dW())||1:c=this.zK();for(var d=0;d<b;d+=c)a.push(d);}return a;};jz.prototype.ZV=function(a){var b=a.length||0,c=this.scale.qr(),d=c.length-1;if(!b||!d)return[];for(var e=[],f=!1,h=0;h<b&&!f;h++){var k=a[h],l=a[h+1];(0,window.isNaN)(l)||l>=d?(l=d-1,f=!0):l--;var m=c[k].bp;if($.da(m)){m=(c[k].start+c[k].end)/2;var p=(c[l].start+c[l].end)/2;}else p=c[l].bp;e.push(k==l?m:[m,p]);}return e;};$.H($.kz,$s);$.g=$.kz.prototype;$.g.La=function(){return"ordinal-color";};$.g.jN=function(){this.zo();};$.g.Jj=function(a){if($.n(a))return null===a?this.We=[]:$.A(a)&&(this.We=$.Ha(a)),this.zo(),this.va(2),this;if($.A(this.We)){this.kB||(this.kB=$.Ha(this.We));if(this.kB.length<this.gd.length)for(;this.kB.length!=this.gd.length;)this.kB.push(this.gd[this.kB.length]);return this.kB;}return this.Zn||[];};$.g.names=function(a){if($.n(a)){if(null===a)this.Qf=[];else if($.A(a))this.Qf=$.Ha(a);else{if(!$.z(a)||this.Qf==a)return this;this.Qf=a;}this.zo();$.Rt(this.Wa());this.va(4);return this;}this.nb();if($.A(this.Qf)){this.Qn||(this.Qn=$.Ha(this.Qf));if(this.Qn.length<this.vk.length)for(;this.Qn.length!=this.vk.length;)this.Qn.push(this.vk[this.Qn.length]);return this.Qn;}if(!this.Mk){this.Mk=[];a=0;for(var b=this.vk.length;a<b;a++){var c=this.vk[a],d;$.n(c.bp)&&!$.da(c.bp)?d=c.bp:(0,window.isFinite)(c.start+c.end)?c.start===c.end?d=c.start:d=c.start+" - "+c.end:d=!0===c.bp?(0,window.isFinite)(c.start)?">= "+c.start:"<= "+c.end:(0,window.isFinite)(c.start)?"> "+c.start:"< "+c.end;d||(d="default");c.name||(c.name=d);this.Mk.push(d);}}return this.Mk;};$.g.Wy=function(a){return $.n(a)?(this.gd!=a&&(this.gd=a,a=a[a.length-1],null===a.equal&&null===a.from&&null===a.to&&null===a.greater&&null===a.less||this.gd.push({equal:null,less:null,greater:null,from:null,to:null}),this.$V||(this.Zn=$.Cm("defaultOrdinalColorScale").autoColors(this.gd.length-1),this.Zn.push("#000")),this.zo(),$.Rt(this.Wa()),this.va(4)),this):this.gd;};$.g.qr=function(){this.nb();this.names();return this.vk;};$.g.Bn=function(a){this.nb();var b=this.vk[this.vk.length-1];if(this.vk)for(var c=0;c<this.vk.length-1;c++){var d=this.vk[c];if(!0===d.bp&&a>=d.start&&a<=d.end&&-1<d.sourceIndex||!1===d.bp&&a>d.start&&a<d.end&&-1<d.sourceIndex||!1===d.bp&&window.Infinity==Math.abs(a)&&(a==d.start||a==d.end)||d.bp===a){b=d;break;}}return b;};$.g.Oq=function(a){this.nb();var b="none";if(a=this.Bn(a)){var c=a.sourceIndex;if(0<=c){var d=this.Jj();$.n(a.color)?b=a.color:d&&0<d.length&&(b=c>d.length-1?d[d.length-1]:d[c]);}}return b;};$.g.eS=function(a){this.nb();a=$.Ml(a).tk;for(var b=window.NaN,c=0,d=this.vk.length;c<d;c++){var e=this.vk[c],f=this.Jj();if(a==$.Ml(e.color||f[e.sourceIndex]||f[f.length-1]).tk){b=(e.start+e.end)/2;break;}}return b;};$.g.Vv=function(a){this.nb();return(a=this.Bn(a))?(0,$.za)(this.vk,a):-1;};$.g.Wa=function(a){this.vh||(this.vh=this.ol());return $.n(a)?(this.vh.N(a),this):this.vh;};$.g.ji=function(a){$.X(a,2)&&this.va(2);};$.g.ol=function(){var a=new jz(this);$.W(a,"ticks",a);$.L(a,this.ji,this);return a;};$.g.transform=function(a,b){this.nb();var c=this.Bn(a);return c&&"default"!==c.name?1/(this.vk.length-1)*((0,$.za)(this.vk,c)+(b||0)):window.NaN;};$.g.Jc=function(a){this.nb();a=this.vk[$.Za(Math.ceil(a*(this.vk.length-1))-1,0,this.vk.length-2)];return(a.start+a.end)/2;};$.g.If=function(){return!!this.Wy.length;};$.g.xC=function(a){this.Mc=!1;a||this.va(2);return!0;};$.g.reset=function(){this.Qn=this.Gx=this.Mk=this.kB=this.vk=null;return this;};$.g.zo=function(){this.reset();this.ka.length=0;};$.g.Wc=function(a){for(var b=0;b<arguments.length;b++)this.ka.push(arguments[b]);return this;};$.g.nb=function(){if(!this.vk){var a=[];if(!this.gd.length){this.Gx=[];$.Ka(this.ka);var b=[],c=[];(0,$.Re)(this.ka,function(a){var d=$.N(a);(0,window.isNaN)(a)?b.push({equal:a}):c.push(d);});$.Pa(c);var d=Math.round(1+3.32*Math.log(c.length)/Math.log(10));var e=Math.floor(c[0]);var f=(c[c.length-1]-e)/d;var h=e;var k=Math.ceil(h+f);for(e=0;e<d;e++)this.Gx.push({from:h,to:k}),h=k,k=Math.ceil(h+f);this.Gx=this.Gx.concat(b);this.Gx.length&&this.Gx.push({equal:null,less:null,greater:null,from:null,to:null});this.$V||(this.Zn=$.Cm("defaultOrdinalColorScale").autoColors(this.Gx.length-1))&&this.Zn.push("#000");}k=this.gd.length?this.gd:this.Gx;e=0;for(d=k.length;e<d;e++){f=k[e];h=this.Qf?this.Qf[e]:null;var l=this.Jj();var m=this.Ne()?Math.max(0,l.length-2-e):e;l=l&&l[m]?l[m]:null;m=!0;var p=e,q=f.equal,r=$.N(f.from),t=$.N(f.to),u=$.N(f.less),v=$.N(f.greater),w=window.NaN,x=window.NaN,y=!0;$.n(q)?$.da(q)?(y=q,(0,window.isNaN)(v))?(0,window.isNaN)(u)||(w=-window.Infinity,x=u):(w=v,x=window.Infinity):(r=$.N(q),(0,window.isNaN)(r)?y=q:x=w=r):(0,window.isNaN)(r)||(0,window.isNaN)(t)?(0,window.isNaN)(v)?(0,window.isNaN)(u)?m=!1:(w=-window.Infinity,x=u):(w=v,x=window.Infinity):(w=Math.min(r,t),x=Math.max(r,t));m&&a.push({bp:y,start:w,end:x,sourceIndex:p,enabled:!0,color:f.color||l,name:f.name||h});}Rca(a);h=[];e=0;for(d=a.length;e<d;e++)f=a[e],f.enabled&&h.push(f);a.length=0;this.vk=h;}};$.g.F=function(){var a=$.kz.u.F.call(this);a.ticks=this.Wa().F();this.gd&&this.gd.length&&(a.ranges=this.gd);this.Qf&&(a.names=this.Qf);this.We&&(a.colors=this.We);return a;};$.g.U=function(a,b){$.kz.u.U.call(this,a,b);this.Wa(a.ticks);this.Jj(a.colors);this.Wy(a.ranges);this.names(a.names);};$.g.R=function(){$.pd(this.vh);this.vh=null;$.kz.u.R.call(this);};var PG=$.kz.prototype;$.F("anychart.scales.ordinalColor",$.lz);PG.getType=PG.La;PG.colors=PG.Jj;PG.ranges=PG.Wy;PG.names=PG.names;PG.ticks=PG.Wa;PG.getRangeByValue=PG.Bn;PG.getProcessedRanges=PG.qr;PG.valueToColor=PG.Oq;PG.colorToValue=PG.eS;PG.getIndexByValue=PG.Vv;PG.transform=PG.transform;PG.inverseTransform=PG.Jc;$.H($.mz,$.Y);$.g=$.mz.prototype;$.g.pa=$.Y.prototype.pa|98312;$.g.ra=$.Y.prototype.ra|80;$.g.g=$.mr;$.g.vs=function(){return 1;};$.g.ig=function(a){$.n(a)&&(this.Vb=a);return this.Vb;};$.g.bh=$.lr;$.g.Vd=function(){var a=[this.na];this.Y&&(a=$.Ga(a,this.Y.Vd()));return a;};$.g.Ud=function(){var a=[this.Oa];this.Y&&(a=$.Ga(a,this.Y.Ud()));return a;};$.g.parent=function(a){return $.n(a)?(this.Y!=a&&(this.Y&&$.or(this.Y,this.Sc,this),(this.Y=a)&&$.L(this.Y,this.Sc,this)),this):this.Y;};$.g.Sc=function(a){var b=0,c=0;$.X(a,1)&&(b|=80,c|=1);$.X(a,32768)&&(b|=1,c|=1);$.X(a,65536)&&(b|=8,c|=1);this.Vb=null;this.B(b,c);};var bea=$.mz.prototype,QG={};$.vq(QG,1,"stroke",$.Tq);$.vq(QG,1,"fill",$.Rq);$.vq(QG,0,"drawFirstLine",$.Hq);$.vq(QG,0,"drawLastLine",$.Hq);$.vq(QG,0,"isMinor",$.Hq);bea.Az=QG;$.S($.mz,$.mz.prototype.Az);$.g=$.mz.prototype;$.g.enabled=function(a){return $.n(a)?(this.Oa.enabled!=a&&(this.Oa.enabled=a,this.B(1,this.kr()),this.Oa.enabled?this.da(!0):(0,window.isNaN)(this.Io)&&$.V(this)),this):this.g("enabled");};$.g.zIndex=function(a){return $.n(a)?(a=+a||0,this.Oa.zIndex!=a&&(this.Oa.zIndex=a,this.B(8,65537)),this):$.n(this.md("zIndex"))?this.md("zIndex"):$.n(this.xh)?this.xh:this.g("zIndex");};$.g.ac=function(a){this.Ea||this.Y&&!this.na.palette||(nz(this,this.na.palette),$.W(this,"palette",this.Ea),this.Ea.Dp(!1));return $.n(a)?(nz(this,a),this.Ea.N(a),this):this.Ea;};$.g.Ec=function(a){if(!$.J(this.Ea,a)){var b=!!this.Ea;$.pd(this.Ea);this.Ea=new a();$.L(this.Ea,this.Jf,this);b&&this.B(64,1);}};$.g.Jf=function(a){$.X(a,2)&&this.B(64,1);};$.g.Mb=function(){return"horizontal"==this.ve();};$.g.U1=function(a){a=a.orientation();return"left"==a||"right"==a?"horizontal":"vertical";};$.g.h4=function(a){return $.Hk(a);};$.g.ve=function(a){return $.n(a)?(a=this.h4(a),this.f!=a&&(this.f=a,this.aa=null,this.B(64,9)),this):this.f?this.f:this.b?this.U1(this.b):this.AL;};$.g.scale=function(a){return $.n(a)?(pz(this,!1,a),this):this.qa?this.qa:this.b?this.b.scale():this.aa;};$.g.xg=$.ia;$.g.axis=function(a){return $.n(a)?(this.b!=a&&(this.b&&$.or(this.b,this.V_,this),this.b=a,$.L(this.b,this.V_,this),this.B(64,9)),this):this.b;};$.g.V_=function(){this.B(80,9);};$.g.Op=function(a,b,c,d){this.$g||(this.$g=new $.Ju());return $.n(a)?(this.$g.N.apply(this.$g,arguments),this):this.$g;};$.g.YZ=function(){var a=$.rk();a.parent(this.O()).zIndex(this.zIndex()).stroke("none");return a;};$.g.Qz=function(){$.Gc(this.D,function(a){a.clear();});};$.g.Rh=function(){return this.j=this.j?this.j:$.rk();};$.g.o0=function(){var a=this.scale();a||$.il(2);return!!a;};$.g.Lj=function(){var a=this.scale(),b=window.NaN,c=$.J(a,$.St),d=(c?a.Wa():this.g("isMinor")?a.wb():a.Wa()).get();var e=this.Mb()?[this.yG,this.vG]:[this.zG,this.wG];this.Qz();this.Rh().clear();var f=this.ja()||$.nn(0,0,0,0),h=this.Zj&&this.Zj.pN(),k=$.jp(this.g("stroke"));if(h){var l=this.Zj;this.li=l.li;this.Jh=l.Jh;f.top-=this.Jh+k/2;f.height+=this.Jh+k/2;f.width+=this.li;}f=f.clone();f.height=$.O(f.height,1)+.5;f.width=$.O(f.width,1)+.5;this.Rh().clip(f);f=e[1];e=e[0];k=-this.Rh().fl()%2/2;if(h&&this.Mb()){var m=a.Ne()?1:0;e.call(this,m,k);}h=0;for(l=d.length;h<l;h++){var p=d[h];$.A(p)&&(p=p[0]);var q=c&&"continuous"==a.mode()?.5:0;m=a.transform(p,q);"log"==a.La()&&(m=$.Wm(m,6));h&&(q=$.qz(this,h-1))&&f.call(this,m,b,q,k);h?h==l-1?(this.g("drawLastLine")||c)&&e.call(this,m,k):e.call(this,m,k):this.g("drawFirstLine")&&e.call(this,m,k);b=m;}c&&$.n(p)&&(m=a.Ne()?0:1,this.g("drawLastLine")&&e.call(this,m,k),(q=$.qz(this,h-1))&&f.call(this,m,b,q,k));};$.g.jK=function(){this.Rh().stroke(this.g("stroke"));};$.g.nv=$.ia;$.g.KK=function(){var a=this.O();this.Rh().parent(a);$.Gc(this.D,function(b){b.parent(a);});};$.g.nC=function(){var a=this.zIndex();this.Rh().zIndex(a+.03);$.Gc(this.D,function(b){b.zIndex(a);});};$.g.W=function(){if(!this.o0()||!this.yc())return this;this.nv();this.J(16)&&(this.jK(),this.I(16));this.J(68)&&(this.Lj(),this.I(68));this.J(8)&&(this.nC(),this.I(8));this.J(2)&&(this.KK(),this.I(2));return this;};$.g.remove=function(){this.Rh().parent(null);$.Gc(this.D,function(a){a.parent(null);});};$.g.F=function(){var a={};this.Ea&&(a.palette=this.Ea.F());var b=$.U.prototype.g.call(this,"zIndex");$.n(b)&&(a.zIndex=b);b=$.U.prototype.g.call(this,"enabled");a.enabled=$.n(b)?b:null;$.Xq(this,this.Az,a,"Map grids props");return a;};$.g.U=function(a,b){if("axis"in a){var c=a.axis;$.ea(c)?this.Zj&&this.axis(this.Zj.NG(c)):$.J(c,$.Uy)&&this.axis(c);}a.palette&&this.ac(a.palette);b?$.Lq(this.na,this.Az,a):($.Pq(this,this.Az,a),$.mz.u.U.call(this,a));};$.g.R=function(){this.Zj=this.b=null;for(var a in this.D)$.pd(this.D[a]);this.D=null;$.ud(this.Ea,this.$g,this.j);this.j=this.$g=this.Ea=null;$.mz.u.R.call(this);};var RG=$.mz.prototype;RG.enabled=RG.enabled;RG.palette=RG.ac;$.H(rz,$.mz);$.g=rz.prototype;$.g.xg=function(a){var b=0;$.X(a,4)&&(b|=4);$.X(a,2)&&(b|=1);this.B(20,b|8);};$.g.yG=function(a){var b=this.ja()||$.nn(0,0,0,0);a=b.Ta()-a*b.height;a=$.O(a,this.Rh().fl());this.j.moveTo(b.sb(),a);this.j.lineTo(b.bb(),a);};$.g.zG=function(a){var b=this.ja()||$.nn(0,0,0,0);a=b.sb()+a*b.width;var c=this.Rh().fl();a=$.O(a,c);this.j.moveTo(a,b.Ta());this.j.lineTo(a,b.Ub());};$.g.vG=function(a,b,c){if(!(0,window.isNaN)(b)){var d=this.ja()||$.nn(0,0,0,0),e=this.Rh().fl();b=d.Ta()-b*d.height;b=$.O(b,e);a=d.Ta()-a*d.height;a=$.O(a,e);c.moveTo(d.sb(),b);c.lineTo(d.bb(),b);c.lineTo(d.bb(),a);c.lineTo(d.sb(),a);c.close();}};$.g.wG=function(a,b,c){if(!(0,window.isNaN)(b)){var d=this.ja()||$.nn(0,0,0,0),e=this.Rh().fl();b=d.sb()+b*d.width;b=$.O(b,e);a=d.sb()+a*d.width;a=$.O(a,e);c.moveTo(b,d.Ub());c.lineTo(a,d.Ub());c.lineTo(a,d.Ta());c.lineTo(b,d.Ta());c.close();}};$.H(sz,rz);$.zu(sz,rz);var SG=rz.prototype;SG.isHorizontal=SG.Mb;SG.scale=SG.scale;SG.axis=SG.axis;SG=sz.prototype;$.F("anychart.standalones.grids.linear",function(){var a=new sz();a.N($.om("standalones.linearGrid"));return a;});SG.layout=SG.ve;SG.draw=SG.W;SG.parentBounds=SG.ja;SG.container=SG.O;$.H(uz,$.tf);$.tz=0;$.g=uz.prototype;$.g.Gw=function(){this.Yo("begin");};$.g.Zl=function(){this.Yo("end");};$.g.WD=function(){this.Yo("finish");};$.g.dO=function(){this.Yo("play");};$.g.Yo=function(a){this.dispatchEvent(a);};var vz={},wz=null;$.H($.zz,uz);$.g=$.zz.prototype;$.g.play=function(a){if(a||this.bc==$.tz)this.Id=0,this.coords=this.b;else if(1==this.bc)return!1;$.xz(this);this.j=a=(0,$.Qn)();-1==this.bc&&(this.j-=this.duration*this.Id);this.D=this.j+this.duration;this.Id||this.Gw();this.dO();-1==this.bc&&this.Yo("resume");this.bc=1;var b=$.oa(this);b in vz||(vz[b]=this);yz();this.jG(a);return!0;};$.g.stop=function(a){$.xz(this);this.bc=$.tz;a&&(this.Id=1);Az(this,this.Id);this.Yo("stop");this.Zl();};$.g.R=function(){this.bc==$.tz||this.stop(!1);this.Yo("destroy");$.zz.u.R.call(this);};$.g.jG=function(a){a<this.j&&(this.D=a+this.D-this.j,this.j=a);this.Id=(a-this.j)/(this.D-this.j);1<this.Id&&(this.Id=1);Az(this,this.Id);1==this.Id?(this.bc=$.tz,$.xz(this),this.WD(),this.Zl()):1==this.bc&&this.cn();};$.g.cn=function(){this.Yo("animate");};$.g.Yo=function(a){this.dispatchEvent(new Bz(a,this));};$.H(Bz,vd);$.H(Cz,uz);Cz.prototype.add=function(a){$.Aa(this.dc,a)||(this.dc.push(a),$.Ld(a,"finish",this.f,!1,this));};Cz.prototype.remove=function(a){$.Fa(this.dc,a)&&$.Zd(a,"finish",this.f,!1,this);};Cz.prototype.R=function(){(0,$.Re)(this.dc,function(a){a.kd();});this.dc.length=0;Cz.u.R.call(this);};$.H(Dz,Cz);Dz.prototype.play=function(a){if(0==this.dc.length)return!1;if(a||this.bc==$.tz)this.b=0,this.Gw();else if(1==this.bc)return!1;this.dO();-1==this.bc&&this.Yo("resume");var b=-1==this.bc&&!a;this.j=(0,$.Qn)();this.D=null;this.bc=1;(0,$.Re)(this.dc,function(c){b&&-1!=c.bc||c.play(a);});return!0;};Dz.prototype.stop=function(a){(0,$.Re)(this.dc,function(b){b.bc==$.tz||b.stop(a);});this.bc=$.tz;this.D=(0,$.Qn)();this.Yo("stop");this.Zl();};Dz.prototype.f=function(){this.b++;this.b==this.dc.length&&(this.D=(0,$.Qn)(),this.bc=$.tz,this.WD(),this.Zl());};$.H(Ez,Cz);Ez.prototype.play=function(a){if(0==this.dc.length)return!1;if(a||this.bc==$.tz)this.b<this.dc.length&&this.dc[this.b].bc!=$.tz&&this.dc[this.b].stop(!1),this.b=0,this.Gw();else if(1==this.bc)return!1;this.dO();-1==this.bc&&this.Yo("resume");this.j=(0,$.Qn)();this.D=null;this.bc=1;this.dc[this.b].play(a);return!0;};Ez.prototype.stop=function(a){this.bc=$.tz;this.D=(0,$.Qn)();if(a)for(a=this.b;a<this.dc.length;++a){var b=this.dc[a];b.bc==$.tz&&b.play();b.bc==$.tz||b.stop(!0);}else this.b<this.dc.length&&this.dc[this.b].stop(!1);this.Yo("stop");this.Zl();};Ez.prototype.f=function(){1==this.bc&&(this.b++,this.b<this.dc.length?this.dc[this.b].play():(this.D=(0,$.Qn)(),this.bc=$.tz,this.WD(),this.Zl()));};$.H(Fz,Dz);Fz.prototype.update=function(){for(var a=(0,$.Qn)(),b=0;b<this.dc.length;b++){var c=this.dc[b];c.update();c.jG(a);}};$.H($.Gz,$.zz);$.Gz.prototype.update=function(){};$.Gz.prototype.dO=function(){this.update();};$.Gz.prototype.R=function(){$.Gz.u.R.call(this);this.X=null;};$.H(Hz,$.Gz);Hz.prototype.update=function(){this.b.length=this.f.length=0;for(var a=this.X.Xf();a.advance();)if(!a.o("missing")){(0,window.isNaN)(a.o("destinationValue"))&&a.o("destinationValue",a.o("size"));var b=a.o("destinationValue");this.b.push(0>b?-1E-5:0);this.f.push(b);b=a.o("x");var c=a.o("value"),d;if(d=a.o("label"))d=d.ic().value,this.b.push(b,c),this.f.push(d.x,d.y);if(d=a.o("marker"))d=d.ic().value,this.b.push(b,c),this.f.push(d.x,d.y);}};Hz.prototype.cn=function(){for(var a=this.X.Xf(),b=0;a.advance();)if(!a.o("missing")){a.o("size",this.coords[b++]);this.X.bf.vt(a);var c=a.o("label");c&&(c.ic({value:{x:this.coords[b++],y:this.coords[b++]}}),c.W());if(c=a.o("marker"))c.ic({value:{x:this.coords[b++],y:this.coords[b++]}}),c.W();}};Hz.prototype.Zl=function(){this.cn();};$.H(Iz,$.Gz);Iz.prototype.update=function(){this.i=tB(this.X);this.wa=this.X.g("isVertical");var a=this.X.clip();$.da(a)&&!a&&(this.i=this.X.wc().ob());this.wa?(this.b[0]=this.i.top,this.X.Qa().Ne()||(this.b[0]+=this.i.height),this.b[1]=0,(0,window.isNaN)(this.G)&&(this.G=this.i.height),this.f[0]=this.i.top):(this.b[0]=this.i.left,this.X.Qa().Ne()&&(this.b[0]+=this.i.width),this.b[1]=0,(0,window.isNaN)(this.G)&&(this.G=this.i.width),this.f[0]=this.i.left);this.f[1]=this.G;};Iz.prototype.cn=function(){this.wa?(this.i.top=this.coords[0],this.i.height=this.coords[1]):(this.i.left=this.coords[0],this.i.width=this.coords[1]);this.X.Xr(this.i);};Iz.prototype.Zl=function(){this.wa?(this.i.top=this.coords[0],this.i.height=this.coords[1]):(this.i.left=this.coords[0],this.i.width=this.coords[1]);this.X.Xr(this.i);this.G=window.NaN;};$.H(Jz,$.Gz);Jz.prototype.update=function(){this.i=this.X.g("isVertical");this.b.length=this.f.length=0;for(var a=this.X.Xf();a.advance();)if(!a.o("missing")){var b=a.o("x");(0,window.isNaN)(a.o("destinationValue"))&&a.o("destinationValue",a.o("value"));var c=a.o("destinationValue"),d=a.o("zero");this.b.push(d);this.f.push(c);if(c=a.o("label"))c=c.ic().value,this.i?this.b.push(d,b):this.b.push(b,d),this.f.push(c.x,c.y);if(c=a.o("marker"))c=c.ic().value,this.i?this.b.push(d,b):this.b.push(b,d),this.f.push(c.x,c.y);}};Jz.prototype.cn=function(){for(var a=this.X.Xf(),b=0;a.advance();)if(!a.o("missing")){a.o("value",this.coords[b++]);this.X.bf.vt(a);var c=a.o("label");c&&(c.ic({value:{x:this.coords[b++],y:this.coords[b++]}}),c.W());if(c=a.o("marker"))c.ic({value:{x:this.coords[b++],y:this.coords[b++]}}),c.W();}};Jz.prototype.Zl=function(){this.cn();};var TG={};TG.bar=Jz;TG.bubble=Hz;TG.area=Iz;TG.line=Iz;TG["range-area"]=Iz;TG["range-spline-area"]=Iz;TG["range-step-area"]=Iz;TG.spline=Iz;TG["spline-area"]=Iz;TG["step-area"]=Iz;TG["step-line"]=Iz;TG.column=Jz;TG["jump-line"]=Jz;TG.stick=Jz;TG.mekko=Jz;$.H($.Mz,$.U);$.U.prototype.g2=function(a,b){if(!$.n(this.FB[a])){a=$.qm(a);var c=$.wr(this);this.FB[a]=$.xr(c,"base");if(!b)for(var d=0;d<this.mY.length;d++)-1!=(0,$.za)(this.mY[d].jk,a)&&(this.FB[a]=$.Ga(this.FB[a],$.xr(c,this.mY[d].AP)));this.FB[a]=$.Ga(this.FB[a],$.xr(c,a));}return this.FB[a];};$.H($.Nz,$.Y);$.Lz($.Nz,"dataarea","appearance");$.g=$.Nz.prototype;$.g.pa=$.Y.prototype.pa;$.g.background=function(a){this.Ga||(this.Ga=new $.Au(),$.L(this.Ga,this.ug,this),$.W(this,"background",this.Ga));return $.n(a)?(this.Ga.N(a),this):this.Ga;};$.g.ug=function(){$.rr(this,"dataarea","appearance",1);};$.g.remove=function(){this.za&&this.za.parent(null);};$.g.Xr=function(a){this.za&&this.za.clip(a);};$.g.W=function(){if(!this.yc())return this;this.za||(this.za=$.pk());this.J(8)&&(this.za.zIndex(this.zIndex()),this.I(8));this.J(2)&&(this.za.parent(this.O()),this.I(2));this.J(4)&&($.rr(this,"dataarea","appearance"),this.I(4));if($.vr(this,"dataarea","appearance")){var a=$.Ar(this,"background");a&&($.V(a),a.O()||a.O(this.za),a.ja(this.ja()),a.da(!1),a.W());$.tr(this,"dataarea","appearance");}return this;};$.g.F=function(){var a=$.Nz.u.F.call(this);a.background=this.background().F();return a;};$.g.U=function(a,b){$.Nz.u.U.call(this,a,b);this.background().fa(!!b,a.background);};$.g.R=function(){$.ud(this.Ga);this.Ga=null;$.Nz.u.R.call(this);};var UG=$.Nz.prototype;UG.background=UG.background;$.H($.Oz,$.Ex);$.Lz($.Oz,"serieschart","dataarea");$.Oz.prototype.ra=$.Ex.prototype.ra|61440;$.Oz.prototype.gj={};$.Oz.prototype.hs=function(a){this.Ri||(this.Ri=new $.Mz(),$.W(this,"defaultSeriesSettings",this.Ri));return $.n(a)?(this.Ri.na=a,this):this.Ri;};$.Oz.prototype.Ps=function(a){return String(a);};var VG=function(){var a={};$.wq(a,[[0,"defaultSeriesType",function(a){return this.Ps(a);}],[0,"maxBubbleSize",$.Aq],[0,"minBubbleSize",$.Aq],[0,"pointWidth",$.Do],[0,"maxPointWidth",$.Do],[0,"minPointLength",$.Do],[0,"baseline",$.Fq]]);return a;}();$.S($.Oz,VG);$.g=$.Oz.prototype;$.g.Sv=function(a){a=this.Ps(a);var b=this.gj[a];b&&b.Db in $.WG?a=[a,b]:($.il(4,null,[a+" series"]),a=null);return a;};$.g.sM=function(a){return a.check(32768)?31:30;};$.g.NX=function(a){var b=this.gb[this.gb.length-1];b=b?b.wh()+1:0;this.gb.push(a);a.wh(b);$.hB(a);a.Iq(this.ac().mc(b));$.lB(a,this.Hf().mc(b));a.ax(this.ue().mc(b));a.jb(this);$.L(a,this.xE,this);};$.g.Ae=function(a,b,c){var d=this.Sv(a);d?(a=d[0],a=this.Et(a,d[1]),a.data(b,c),this.NX(a),this.B((a.check($.sB)?4:0)|492288,1)):a=null;return a;};$.g.jl=function(a){var b=[],c=this.g("defaultSeriesType"),d=arguments.length;$.V(this);if(d)for(var e=0;e<d;e++)b.push(this.Ae(c,arguments[e]));else b.push(this.Ae(c,null));this.da(!0);return b;};$.g.qy=function(a){return $.wa(this.gb,function(b){return b.id()==a;});};$.g.ef=function(a){return this.yi(this.qy(a));};$.g.yi=function(a){return this.gb[a]||null;};$.g.uj=function(){return this.gb.length;};$.g.xo=function(a){return this.Pn(this.qy(a));};$.g.Pn=function(a){var b=this.gb[a];b&&($.Tp++,$.V(this),$.Ca(this.gb,a,1),$.pd(b),this.B(492304,1),this.da(!0),$.Wp());return this;};$.g.Ap=function(){if(this.gb.length){$.Tp++;$.V(this);var a=this.gb;this.gb=[];$.ud(a);this.B(492304,1);this.da(!0);this.dm=this.xl=null;this.ec("mousemove",this.IJ);$.Wp();}return this;};$.g.xE=function(a){var b=0;$.X(a,32768)&&(b|=256);$.X(a,1)&&(b=32768);$.X(a,2048)&&(b=32);$.X(a,16)&&(b|=256,"categories"==this.$f().g("itemsSourceMode")&&(b|=512),this.GA());$.X(a,4)&&(b|=458752);$.X(a,64)&&(b|=512,$.X(a,8)&&(b|=4));this.B(b,1);};$.g.Te=function(){return this.gb;};$.g.Cy=function(){for(var a=this.gb.length;a--;)this.gb[a].op()&&this.gb[a].B(1024);};$.g.T2=function(){for(var a=this.gb.length;a--;)this.gb[a].yk()&&this.gb[a].B(1028);};$.g.wa=function(a){return $.n(a)?this:!1;};$.g.Qa=function(){};$.g.UW=function(){};$.g.US=function(){};$.g.cv=function(){return!0;};$.g.Fja=function(a){for(var b=0;b<this.gb.length;b++){var c=this.gb[b];c&&c.qE();a||c.B(1024);}};$.g.iB=function(a){for(var b=0;b<this.gb.length;b++){var c=this.gb[b];c&&c.qE();}a||this.Cy();};$.g.ac=function(a){if($.J(a,$.Ps))return this.Ec($.Ps,a),this;if($.J(a,$.Ms))return this.Ec($.Ms,a),this;$.C(a)&&"range"==a.type?this.Ec($.Ps):($.C(a)||null==this.Ea)&&this.Ec($.Ms);return $.n(a)?(this.Ea.N(a),this):this.Ea;};$.g.Hf=function(a){this.Ie||(this.Ie=new $.Os(),$.L(this.Ie,this.oI,this),$.W(this,"markerPalette",this.Ie));return $.n(a)?(this.Ie.N(a),this):this.Ie;};$.g.ue=function(a){this.ed||(this.ed=new $.Ns(),$.L(this.ed,this.wH,this),$.W(this,"hatchFillPalette",this.ed));return $.n(a)?(this.ed.N(a),this):this.ed;};$.g.Ec=function(a,b){if($.J(this.Ea,a))b&&this.Ea.N(b);else{var c=!!this.Ea;$.pd(this.Ea);this.Ea=new a();$.W(this,"palette",this.Ea);this.Ea.Dp();b&&this.Ea.N(b);$.L(this.Ea,this.Jf,this);c&&this.B(4608,1);}};$.g.Jf=function(a){$.X(a,2)&&this.B(4608,1);};$.g.oI=function(a){$.X(a,2)&&this.B(8704,1);};$.g.wH=function(a){$.X(a,2)&&this.B(16896,1);};$.g.labels=function(a){return $.n(a)?(this.ca.labels(a),this):this.ca.labels();};$.g.rh=function(a){return $.n(a)?(this.ca.rh(a),this):this.ca.rh();};$.g.qh=function(a){return $.n(a)?(this.ca.qh(a),this):this.ca.qh();};$.g.Pa=function(a){return $.n(a)?(this.ca.N(a),this):this.ca;};$.g.kb=function(a){return $.n(a)?(this.ya.N(a),this):this.ya;};$.g.selected=function(a){return $.n(a)?(this.Da.N(a),this):this.Da;};$.g.In=function(a){if($.X(a,1)){this.Pa().labels().I(4294967295);this.Pa().rh().I(4294967295);this.Pa().qh().I(4294967295);for(a=this.gb.length;a--;){var b=this.gb[a];b.check($.XG)&&b.B(256);}this.B(32768,1);}};var cea={bar:["value"],line:["value"],polyline:["value"],area:["value"],polygon:["value"],column:["value"],spline:["value"],marker:["value"],"step-area":["value"],"step-line:":["value"],"spline-area":["value"],"jump-line":["value"],stick:["value"],mekko:["value"],bubble:["value","size"],"range-bar":["high","low"],"range-area":["high","low"],"range-column":["high","low"],"range-step-area":["high","low"],"range-spline-area":["high","low"],ohlc:["open","high","low","close"],candlestick:["open","high","low","close"],box:["lowest","q1","median","q3","highest"],connector:["points"],choropleth:["id","value"],"marker-map":["id","long","lat"],"bubble-map":["id","long","lat","size"],hilo:["high","low"],waterfall:["value"],moment:["value"],range:["start","end"]};$.g=$.Oz.prototype;$.g.data=function(a){if($.n(a)){var b=null;if(a){var c=a.title||a.caption;c&&this.title(c);a.header&&a.header.length&&(b=a.header);a.rows?this.Rf=a.rows:this.Rf=a;}else this.Rf=a;$.J(a,$.Qr)||(a=$.Sr(this.Rf),$.qd(this,a));var d=a.yf(0);c=1;var e=null;$.A(d)?c=d.length:$.C(d)&&(e=$.Ic(d),c=e.length);var f=this.uj(),h=1;d=0;$.V(this);for(var k=0;k<f;k++){var l=this.yi(d);var m=l.Ce();var p=h+m.length;p<=c?(h=Ur(a,h,p,m,e),l.data(h),b&&l.name(b[d+1]),h=p):(l=l.id(),this.xo(l),d--);d++;}f=this.g("defaultSeriesType");m=cea[f];do if(p=h+m.length,p<=c)h=Ur(a,h,p,m,e),l=this.jl(h)[0],b&&l.name(b[d+1]),d++,h=p;else break;while(h<=c);this.B(256);this.da(!0);return this;}return this.Rf;};$.g.GA=function(){};$.g.nv=function(){if(!this.nf()&&($.J(this.Ea,$.Ps)&&$.Qs(this.Ea,this.Te().length),this.J(28672))){$.Br(this.gb);var a=0;this.J(20480)&&(a|=2048);this.J(8192)&&(a|=128);for(var b=this.gb.length;b--;){var c=this.gb[b],d=c.wh();c.Iq(this.ac().mc(d));$.lB(c,this.Hf().mc(d));c.ax(this.ue().mc(d));c.B(a);}this.B(32768);this.I(28672);$.Dr(this.gb);}};$.g.O5=function(a,b,c,d,e){a.Op(b||0,c||0,d||0,e||0);};$.g.TK=function(){this.UW();this.US();$.Qz(this);};$.g.Z0=function(){for(var a=0;a<this.gb.length;a++)this.gb[a].W();};$.g.wv=function(a){this.rn||(this.rn=new $.Nz(),$.L(this.rn,this.DS,this),$.W(this,"dataArea",this.rn));return $.n(a)?(this.rn.N(a),this):this.rn;};$.g.DS=function(a){$.X(a,1)&&$.rr(this,"serieschart","dataarea",1);};$.g.JE=function(a){$.Oz.u.JE.call(this,a);if($.vr(this,"serieschart","dataarea")){var b=$.Ar(this,"dataArea");b&&($.V(b),b.O()||b.O(this.Ma),b.ja(a),b.da(!1),b.W());$.tr(this,"serieschart","dataarea");}};$.g.Zy=function(a){$.V(this);$.Oz.u.Zy.call(this,a);$.rr(this,"serieschart","dataarea",9);this.da(!0);};$.g.IW=function(a){$.X(a,8)&&$.rr(this,"serieschart","dataarea");$.Oz.u.IW.call(this,a);};$.g.KW=function(a){$.X(a,8)&&$.rr(this,"serieschart","dataarea");$.Oz.u.KW.call(this,a);};$.g.Kl=function(a,b){var c,d=[];this.nb();if(this.cv()&&"categories"==a&&$.J(this.Qa(),$.St)){var e=this.Qa().names();if($.E(b)){var f=this.Qa().values();var h=0;for(c=f.length;h<c;h++){var k={value:f[h],name:e[h]};k=b.call(k,k);$.z(k)||(k=String(e[h]));d.push({text:k,iconEnabled:!1,sourceUid:$.oa(this),sourceKey:h});}}else for(h=0,c=e.length;h<c;h++)d.push({text:String(e[h]),iconEnabled:!1,sourceUid:$.oa(this),sourceKey:h});}else for(h=0,c=this.gb.length;h<c;h++)e=this.gb[h],f=e.hD(b),f.sourceUid=$.oa(this),f.sourceKey=e.id(),d.push(f);return d;};$.g.tN=function(a){var b=a.enabled(),c=a.rm||[],d=!0;(a=a.data()?a.data().Jb():0)&&a!=c.length||(d=!1);return b&&d;};$.g.zj=function(){for(var a=0,b=this.gb.length,c=0;c<b&&!this.tN(this.gb[c]);c++)a++;return a==b;};$.g.U=function(a,b){$.Oz.u.U.call(this,a,b);$.Pq(this,VG,a,b);this.ac(a.palette);this.Hf(a.markerPalette);this.ue(a.hatchFillPalette);a.dataArea&&this.wv().fa(!!b,a.dataArea);this.ca.fa(!!b,a);this.ca.fa(!!b,a.normal);this.ya.fa(!!b,a.hovered);this.Da.fa(!!b,a.selected);};$.g.$c=function(){this.ca.Fa(this.na);$.W(this,"normal",this.ca);this.ca.fa(!0,{});$.W(this,"hovered",this.ya);this.ya.fa(!0,{});$.W(this,"selected",this.Da);this.Da.fa(!0,{});};$.g.F=function(){var a=$.Oz.u.F.call(this);$.Xq(this,VG,a);a.palette=this.ac().F();a.markerPalette=this.Hf().F();a.hatchFillPalette=this.ue().F();this.rn&&(a.dataArea=this.wv().F());a.normal=this.Pa().F();a.hovered=this.kb().F();a.selected=this.selected().F();return a;};$.g.R=function(){$.V(this);this.Ap();this.da(!1);$.ud(this.Ea,this.Ie,this.ed,this.rn,this.Ri,this.ca,this.ya,this.Da);this.Da=this.ya=this.ca=this.Ri=this.rn=this.ed=this.Ie=this.Ea=null;$.Oz.u.R.call(this);};var YG=$.Oz.prototype;YG.labels=YG.labels;YG.minLabels=YG.rh;YG.maxLabels=YG.qh;YG.normal=YG.Pa;YG.hovered=YG.kb;YG.selected=YG.selected;YG.isVertical=YG.wa;YG.dataArea=YG.wv;$.H($.Sz,$.Oz);$.Sz.prototype.ra=$.Oz.prototype.ra|2031616;var ZG={};$.vq(ZG,0,"barGroupsPadding",$.N);$.vq(ZG,0,"barsPadding",$.N);$.S($.Sz,ZG);$.g=$.Sz.prototype;$.g.Z0=function(){for(var a="direct"==this.ab().ix(),b=0;b<this.gb.length;b++)this.gb[a?this.gb.length-b-1:b].W();};$.g.sy=function(){return null;};$.g.uy=function(){return null;};$.g.cv=function(){return!0;};$.g.qU=function(){return"ordinal";};$.g.wA=function(){return 15;};$.g.oD=function(){return["Chart scale","ordinal, linear, log, date-time"];};$.g.iH=function(){return"linear";};$.g.hH=function(){return this.wA();};$.g.MM=function(){return this.oD();};$.g.cH=function(){return 0;};$.g.mV=function(){};$.g.Qa=function(a){if($.n(a)){if(a=$.mt(this.cb,a,this.qU(),this.wA(),this.oD(),this.ZP,this)){var b=this.cb==a;this.iia=this.cb?String($.oa(this.cb)):null;this.cb=a;a.da(b);b||(a=131072,this.cv()&&"categories"==this.$f().g("itemsSourceMode")&&(a|=512),a|=this.cH(),this.B(a,1),this.mV(this.cb));}return this;}this.cb||(this.cb=$.mt(this.cb,{},this.qU(),this.wA(),null,this.ZP,this),this.cb.da(!1));return this.cb;};$.g.ZP=function(a){$.V(this);if($.X(a,4)){var b=458752;this.cv()&&"categories"==this.$f().g("itemsSourceMode")&&(b|=512);this.B(b,1);}$.X(a,2)&&$.Tz(this,this.cb);this.da(!0);};$.g.ab=function(a){if($.n(a)){if(a=$.mt(this.Cc,a,this.iH(),this.hH(),this.MM(),this.Wu,this)){var b=this.Cc==a;this.jia=this.Cc?String($.oa(this.Cc)):null;this.Cc=a;this.Cc.da(b);b||(this.B(131072|this.cH(),1),this.mV(this.Cc));}return this;}this.Cc||(this.Cc=$.mt(this.Cc,{},this.iH(),this.hH(),null,this.Wu,this),this.Cc.da(!1));return this.Cc;};$.g.Wu=function(a){$.V(this);$.X(a,4)&&this.B(458752,1);$.X(a,2)&&$.Tz(this,this.Cc);this.da(!0);};$.g.nV=function(){this.B(32768,1);};$.g.Lj=function(){this.nf(1572864)||$.Sz.u.Lj.call(this);};$.g.nb=function(){$.V(this);Uz(this);if(this.Oo){if(this.J(65536)){var a,b,c;this.iA={};this.vn={};for(c in this.im){var d=this.im[c];d.If()&&d.zg();}this.Xe=this.rS();for(a=0;a<this.Xe.length;a++){var e=this.Xe[a];d=e.X.Qa();var f=e.X.ab();d=$.oa(d);f=$.oa(f);this.vn[d]||(this.vn[d]=[]);this.iA[d]||(this.iA[d]={});this.iA[d][f]||(this.iA[d][f]=[]);this.vn[d].push(e);this.iA[d][f].push(e);}for(c in this.vn){f=this.vn[c];d=f[0].X.Qa();if(1<f.length)if(e=f[f.length-1],$.J(d,$.St)){var h=e.nt;for(a=0;a<f.length-1;a++)for(e=f[a],b=e.data.length;b<h.length;b++)e.data.push(yB(h[b]));}else{h=[];var k,l;var m=f[0].data;e=f[1].data;b=m.length;var p=e.length;var q=k=0;var r=k<b?m[k].data.x:window.NaN;for(l=q<p?e[q].data.x:window.NaN;!(0,window.isNaN)(r)&&!(0,window.isNaN)(l);){var t=r<=l;var u=r>=l;h.push(t?r:l);t&&(k++,r=k<b?m[k].data.x:window.NaN);u&&(q++,l=q<p?e[q].data.x:window.NaN);}for(;!(0,window.isNaN)(r);)h.push(r),k++,r=k<b?m[k].data.x:window.NaN;for(;!(0,window.isNaN)(l);)h.push(l),q++,l=q<p?e[q].data.x:window.NaN;for(a=2;a<f.length;a++){var v=[];m=h;e=f[a].data;b=m.length;p=e.length;q=k=0;r=k<b?m[k]:window.NaN;for(l=q<p?e[q].data.x:window.NaN;!(0,window.isNaN)(r)&&!(0,window.isNaN)(l);)t=r<=l,u=r>=l,v.push(t?r:l),t&&(k++,r=k<b?m[k]:window.NaN),u&&(q++,l=q<p?e[q].data.x:window.NaN);for(;!(0,window.isNaN)(r);)v.push(r),k++,r=k<b?m[k]:window.NaN;for(;!(0,window.isNaN)(l);)v.push(l),q++,l=q<p?e[q].data.x:window.NaN;h=v;}for(a=0;a<f.length;a++)if(e=f[a],m=e.data,b=m.length,b<h.length){q=[];k=0;r=(p=m[k])?p.data.x:window.NaN;for(b=0;b<h.length;b++)l=h[b],r<=l?(q.push(p),k++,r=(p=m[k])?p.data.x:window.NaN):q.push(yB(l));e.data=q;}}h=Uca(f);a=!$.Nc(h);e=f[0];if(d.If())if($.J(d,$.St))this.IR(d,f,a,h);else if(e.data.length){if(a)for(a=0;a<e.data.length;a++)a in h||d.Wc(e.data[a].data.x);else d.Wc(e.data[0].data.x,e.data[e.data.length-1].data.x);if(Yz(e.X))if(e.QU)for(h=e.X.Ac();h.advance();)Wz(h.o("missing"),Xz)||(m=e.X.error().rs(!0),a=h.get("x"),d.Wc(a-m[0],a+m[1]));else Zz(e.X.error())&&(h=e.X.Ac(),h.select(0),m=e.X.error().rs(!0),a=h.get("x"),d.Wc(a-m[0],a+m[1]),h.select(e.data.length-1),m=e.X.error().rs(!0),a=h.get("x"),d.Wc(a-m[0],a+m[1]));}$.J(d,$.St)&&this.tT(d,f);}this.RR();for(c in this.im)d=this.im[c],d.If()&&d.Fg();$.Nc(this.im)&&this.Qa().If()&&(this.Qa().zg(),this.Qa().Fg());this.I(65536);}this.xR();Vca(this);this.yR();}else this.UR(),this.K_();this.da(!1);};$.g.K_=function(){};$.g.IR=function(a,b,c,d){b=b[0];if(c){var e={};var f=[];for(c=0;c<b.data.length;c++)if(!(c in d)){var h=b.data[c].data.x;e[$.vo(h)]=f.length;f.push(h);}}else e=b.Jp,f=b.nt;a.NB=e;a.hh=f;};$.g.tT=function(a,b){var c,d,e,f=$.Vt(a);if(f){var h=b[0].nt.length,k=Array(h);for(c=0;c<b.length;c++){var l=b[c].data;if(0<h)for(d=0;d<l.length;d++)!$.n(k[d])&&$.n(e=l[d].data[f])&&(k[d]=e,h--);}a.Mk=k;}};$.g.JM=function(){var a=this.Qa(),b={};if(a.If())for(a=0;a<this.gb.length;a++){var c=this.gb[a];if(c&&c.enabled()){var d=$.oa(c.Qa());b[d]||(b[d]={nt:[],Jp:{}});var e=b[d].nt;d=b[d].Jp;if(c=c.data())for(c=c.$();c.advance();){var f=c.get("x"),h=$.vo(f);h in d||(d[h]=e.length,e.push(f));}}}else b[$.oa(a)]={nt:a.values(),Jp:a.NB};return b;};$.g.rS=function(){for(var a=[],b=0;b<this.gb.length;b++){var c=this.gb[b];if(c&&c.enabled()){var d=c.Qa();if($.J(d,$.St)){var e=this.JM(),f=$.oa(c.Qa());c=$.zB(c,e[f].Jp,e[f].nt,!d.If());}else c=$.xB(c,!0,$.J(d,$.pt));a.push(c);}}return a;};$.g.jH=function(a){return a.gn();};$.g.ls=function(a,b){a.Wc(b);};$.g.dU=function(a){return+a.data.value;};$.g.E4=function(){};$.g.UR=function(){if(this.J(327680)){$.Br(this.gb);var a,b,c,d=this.gb.length;this.Xe.length=0;this.vn={};for(b in this.im){var e=this.im[b];e.If()&&e.zg();}for(b in this.mn){var f=this.mn[b];f.If()&&f.zg();}for(a=0;a<d;a++)if((c=this.gb[a])&&c.enabled()){e=c.Qa();f=c.ab();var h=$.J(e,$.St)?$.zB(c,{},[],!1,!0):$.xB(c,!1,$.J(e,$.pt));h.su=window.Infinity;h.ru=-window.Infinity;c=h.X;var k=c.rm||[];if(k.length)for(b=0;b<k.length;b++){var l=h.data[k[b]].o;l.missing=(Number(l.missing)||0)|(Number(Vz)||0);}b=Yz(c)&&(h.QU||Zz(h.X.error()));k=c.Ac();for(l=c.Ce();k.advance();)if(!Wz(k.o("missing"),Xz))if(c=k.get("x"),e.Wc(c),b){var m=h.X.error().rs(!0);c=$.N(c);e.Wc(c-m[0],c+m[1]);m=h.X.error().rs(!1);c=$.N(k.get("value"));f.Wc(c-m[0],c+m[1]);h.su>c&&(h.su=c);h.ru<c&&(h.ru=c);}else for(m=0;m<l.length;m++)c=k.get(l[m]),f.Wc(c),c=$.N(c),(0,window.isNaN)(c)||(h.su>c&&(h.su=c),h.ru<c&&(h.ru=c));h.sj=0;h.lastIndex=h.data.length;b=$.oa(e);(e=this.vn[b])||(this.vn[b]=e=[]);e.push(h);this.Xe.push(h);}this.RR();this.SR();for(b in this.im)e=this.im[b],e.If()&&e.Fg();for(b in this.mn)f=this.mn[b],f.If()&&f.Fg();this.B(1572864);$.Dr(this.gb);this.I(327680);}};$.g.RR=function(){};$.g.SR=function(){};$.g.ty=function(){this.nb();return $z(this.im);};$.g.vy=function(){this.nb();return $z(this.mn);};$.g.$n=function(){if(this.J(524288)){this.YI();var a=0,b=0,c=-window.Infinity,d=window.Infinity,e=-window.Infinity,f=window.Infinity,h=0,k=-window.Infinity,l=window.Infinity,m=-window.Infinity,p=window.Infinity,q=0,r=-window.Infinity,t=window.Infinity,u=!1,v;for(v in this.vn){var w=this.vn[v];if(this.Oo){var x=w[0].data.length;var y=Array(x);for(var B=0;B<x;B++)y[B]=[];}for(var G,D,K,P,R=0;R<w.length;R++)if(G=w[R],(D=G.X)&&D.enabled()){var T=D.name(),xa=[],ta=[],Qa=[];K=D.check($.gm|$.$G);(P=D.yk())&&(u=!0);var xb=0,qc=window.Infinity,ib=-window.Infinity,Sb=0,Lb=window.Infinity,Tb=-window.Infinity,xe=window.Infinity,Ub=-window.Infinity,mc=0,Eb=window.Infinity,rd=-window.Infinity,sf=0;for(B=0;B<G.data.length;B++){var Pd=G.data[B];Wz(Pd.o.missing,AB)||xb++;if(!Wz(Pd.o.missing,Xz)){if(K){var nc=$.N(Pd.data.open);(0,window.isNaN)(nc)||(ib=Math.max(nc,ib),qc=Math.min(nc,qc));nc=$.N(Pd.data.close);(0,window.isNaN)(nc)||(ib=Math.max(nc,ib),qc=Math.min(nc,qc));nc=$.N(Pd.data.high);var Ag=$.N(Pd.data.low);ib=Math.max(nc,Ag,ib);qc=Math.min(nc,Ag,qc);nc-=Ag;Tb=Math.max(nc,Tb);Lb=Math.min(nc,Lb);}else P&&(nc=$.N(Pd.data.size),rd=Math.max(nc,rd),Eb=Math.min(nc,Eb),sf+=nc,Qa.push(nc)),nc="heat-map"==this.La()?"heat":"value",nc=$.N(Pd.data[nc]),ib=Math.max(nc,ib),qc=Math.min(nc,qc);Sb+=nc;xa.push(nc);this.Oo?y[B].push(nc):(nc=$.N(Pd.data.x),Ub=Math.max(nc,Ub),xe=Math.min(nc,xe),mc+=nc,ta.push(nc));}}a+=xb;b+=Sb;if(ib>c){c=ib;var hf=T;}if(qc<d){d=qc;var ai=T;}if(Sb>e){e=Sb;var mh=T;}if(Sb<f){f=Sb;var Zi=T;}h+=mc;if(Ub>k){k=Ub;var Gd=T;}if(xe<l){l=xe;var Qd=T;}if(mc>m){m=mc;var Kc=T;}if(mc<p){p=mc;var oc=T;}B=xb?Sb/xb:0;D.Ka("seriesSum",Sb);D.Ka("seriesMin",qc);D.Ka("seriesMax",ib);D.Ka("seriesAverage",B);D.Ka("seriesPointsCount",xb);D.Ka("seriesPointCount",xb);D.Ka("sum",Sb);D.Ka("max",ib);D.Ka("min",qc);D.Ka("average",B);D.Ka("pointsCount",xb);K?(D.Ka("seriesYRangeMax",Tb),D.Ka("seriesYRangeMin",Lb),D.Ka("seriesYRangeSum",Sb),D.Ka("seriesYRangeAverage",B),D.Ka("seriesYRangeMode",cn(xa)),D.Ka("seriesYRangeMedian",bn(xa))):(P&&(D.Ka("seriesBubbleMaxSize",rd),D.Ka("seriesBubbleMinSize",Eb),D.Ka("seriesBubbleSizeSum",sf),D.Ka("seriesBubbleSizeAverage",xb?sf/xb:0),D.Ka("seriesBubbleSizeMode",cn(Qa)),D.Ka("seriesBubbleSizeMedian",bn(Qa)),q+=sf,r=Math.max(r,rd),t=Math.min(t,Eb)),D.Ka("seriesYMax",ib),D.Ka("seriesYMin",qc),D.Ka("seriesYSum",Sb),D.Ka("seriesFirstYValue",xa[0]),D.Ka("seriesLastYValue",xa[xa.length-1]),D.Ka("seriesYAverage",B),D.Ka("seriesYMode",cn(xa)),D.Ka("seriesYMedian",bn(xa)));this.Oo||(D.Ka("seriesXMax",Ub),D.Ka("seriesXMin",xe),D.Ka("seriesXSum",mc),D.Ka("seriesFirstXValue",ta[0]),D.Ka("seriesLastXValue",ta[xa.length-1]),D.Ka("seriesXAverage",xb?mc/xb:0),D.Ka("seriesXMode",cn(ta)),D.Ka("seriesXMedian",bn(ta)));}if(this.Oo){P=Array(x);xa=Array(x);ta=Array(x);Qa=Array(x);xb=Array(x);qc=Array(x);for(B=0;B<x;B++){D=y[B];K=0;R=window.Infinity;G=-window.Infinity;for(ib=0;ib<D.length;ib++)Sb=D[ib],K+=Sb,R=Math.min(R,Sb),G=Math.max(G,Sb);P[B]=K;xa[B]=R;ta[B]=G;Qa[B]=K/D.length;xb[B]=bn(D);qc[B]=cn(D);}for(R=0;R<w.length;R++)G=w[R],(D=G.X)&&D.enabled()&&((K=D.check($.gm|$.$G))?(D.Ka("catYRangeSumArr_",P),D.Ka("catYRangeMinArr_",xa),D.Ka("catYRangeMaxArr_",ta),D.Ka("catYRangeAvgArr_",Qa),D.Ka("catYRangeMedianArr_",xb),D.Ka("catYRangeModeArr_",qc)):(D.Ka("catYSumArr_",P),D.Ka("catYMinArr_",xa),D.Ka("catYMaxArr_",ta),D.Ka("catYAvgArr_",Qa),D.Ka("catYMedianArr_",xb),D.Ka("catYModeArr_",qc)));}}this.Ka("dataPlotYSum",b);this.Ka("dataPlotYRangeSum",b);this.Ka("dataPlotYMax",c);this.Ka("dataPlotYRangeMax",c);this.Ka("dataPlotYMin",d);this.Ka("dataPlotYRangeMin",d);this.Ka("dataPlotYAverage",a?b/a:0);this.Ka("dataPlotSeriesCount",this.Xe.length);this.Ka("dataPlotPointCount",a);this.Ka("dataPlotMaxYValuePointSeriesName",hf);this.Ka("dataPlotMinYValuePointSeriesName",ai);this.Ka("dataPlotMaxYSumSeriesName",mh);this.Ka("dataPlotMinYSumSeriesName",Zi);u&&(this.Ka("dataPlotBubbleSizeSum",q),this.Ka("dataPlotBubbleMinSize",t),this.Ka("dataPlotBubbleMaxSize",r),this.Ka("dataPlotBubbleSizeAverage",a?q/a:0));this.Oo||(this.Ka("dataPlotXSum",h),this.Ka("dataPlotXMax",k),this.Ka("dataPlotXMin",l),this.Ka("dataPlotXAverage",a?h/a:0),this.Ka("dataPlotMaxXValuePointSeriesName",Gd),this.Ka("dataPlotMinXValuePointSeriesName",Qd),this.Ka("dataPlotMaxXSumSeriesName",Kc),this.Ka("dataPlotMinXSumSeriesName",oc));this.I(524288);}if(this.J(1048576)){a=this.ty();b=this.vy();for(d=0;d<a.length;d++)if(c=a[d],$.J(c,$.nt))if($.n(Ed)){var Ed=Math.min(c.sh(),Ed);var Bg=Math.max(c.ci(),Bg);}else Ed=c.sh(),Bg=c.ci();for(d=0;d<b.length;d++)if(c=b[d],$.J(c,$.nt))if($.n(vc)){var vc=Math.min(c.sh(),vc);var gg=Math.max(c.ci(),gg);}else vc=c.sh(),gg=c.ci();this.Ka("xScalesMin",Ed);this.Ka("xScalesMax",Bg);this.Ka("yScalesMin",vc);this.Ka("yScalesMax",gg);this.I(1048576);}Ed=this.Ka("chartElements")||{};Ed.series=this.gb.length;this.Ka("chartElements",Ed);};$.g.sU=function(){return 0;};$.g.rU=function(){return 1;};$.g.UW=function(){};$.g.xR=function(){};$.g.yR=function(){};$.g.US=function(){if(this.Oo){var a,b,c;for(b in this.vn)if($.J(this.im[b],$.St)||$.J(this.im[b],$.pt)){var d=this.vn[b];var e=c=0;var f={};var h={};for(a=0;a<d.length;a++){var k=d[a].X;var l=k.ab();var m=$.oa(l);k.check(262144)&&(k.g("isVertical")?"none"==this.jH(l)?e++:m in h||(e++,h[m]=!0):"none"==this.jH(l)?c++:m in f||(c++,f[m]=!0));}this.LL(c,d,!0);this.LL(e,d,!1);}}};$.g.LL=function(a,b,c){var d=this.g("barsPadding");var e=this.g("barGroupsPadding");if(0<a){a=1/(a+(a-1)*d+e);var f=a*e/2;var h={};for(var k=0;k<b.length;k++)if(e=b[k].X,e.check(262144)&&c^e.g("isVertical")){var l=e.ab();"none"==this.jH(l)?($.kB(e,f+a/2),$.jB(e,a),f+=a*(1+d)):(l=$.oa(l),l in h?($.kB(e,h[l]+a/2),$.jB(e,a)):($.kB(e,f+a/2),$.jB(e,a),h[l]=f,f+=a*(1+d)));}}};$.g.NL=function(){var a=$.Ar(this,"animation");if(a&&a.g("enabled")&&0<a.g("duration"))if(this.Lg&&1==this.Lg.bc)this.Lg.update();else if(this.J(2048)){$.pd(this.Lg);this.Lg=new Fz();a=a.g("duration");for(var b=0;b<this.gb.length;b++){var c=this.gb[b];if(c.enabled()&&null==c.Ei().g("point")){var d=TG[c.qe];d&&this.Lg.add(new d(c,a));}}this.Lg.ua("begin",function(){$.xx(this,!0);$.Hp(this,{type:"animationstart",chart:this});},!1,this);this.Lg.ua("end",function(){$.xx(this,!1);$.Hp(this,{type:"animationend",chart:this});},!1,this);this.Lg.play(!1);}};$.g.hx=function(a,b,c){b={};$.Uc(b,$.Tl(c?aH["chart-with-series-point"]:aH["chart-with-series-default"]),$.Tl($.tG["select-marquee"]),a);var d=this.zM();a=b["exclude-points-list"];a.subMenu={};a.enabled=!1;if(d.length){c={};for(var e,f=0;f<d.length;f++){e=d[f].ef().jk();var h;"candlestick"==e||"ohlc"==e?h="o - "+d[f].get("open")+", h - "+d[f].get("high")+", l - "+d[f].get("low")+", c - "+d[f].get("close"):"box"==e?h="high - "+d[f].get("high")+", low - "+d[f].get("low"):"range-area"==e||"range-bar"==e||"range-column"==e||"range-spline-area"==e||"range-step-area"==e?h="high - "+d[f].get("high")+", low - "+d[f].get("low"):"bubble"==e?h="x - "+d[f].get("x")+", y - "+d[f].get("value")+", size - "+d[f].get("size"):h=d[f].get("value");c["exclude-points-point-"+f]={index:10.01,text:d[f].ef().name()+": "+h,eventType:"anychart.include",scrollable:!0,action:(0,$.pa)(d[f].ef().eV,d[f].ef(),d[f].la())};}c["excluded-points-separator"]={index:10.01+10};h=$.Tl(bH["exclude-points-include-all"]);h.index=10.01+20;c["exclude-points-include-all"]=h;a.subMenu=c;a.enabled=!0;}return b;};$.g.zM=function(){return(0,$.Kg)((0,$.Wa)(this.gb,function(a){return a.zM();}),function(a,b){return daa(a,b);},[]);};var bH={"exclude-points-point":{index:7,text:"Exclude",eventType:"anychart.exclude",action:function action(a){$.V(a.menuParent);for(var b=a.selectedPoints,c,d=0;d<b.length;d++)c=b[d],$.E(c.ef)&&c.ef().o1(c.la());a.menuParent.da(!0);}},"exclude-points-list":{index:8,text:"Include",subMenu:[],enabled:!1},"exclude-points-keep-only":{index:9,text:"Keep only",eventType:"anychart.keepOnly",action:function action(a){$.V(a.menuParent);var b,c,d=a.menuParent.Te();for(c=0;c<d.length;c++)if((b=d[c])&&b.state){var e=$.ux(b.state,$.Bo);b.j3(e);}a.menuParent.da(!0);}},"exclude-points-include-all":{index:30,text:"Include all",eventType:"anychart.includeAll",action:function action(a){$.V(a.menuParent);var b,c=a.menuParent.Te();for(b=0;b<c.length;b++){var d=c[b];$.E(d.dV)&&d.dV();}a.menuParent.da(!0);}}},aH={"chart-with-series-default":{"exclude-points-list":bH["exclude-points-list"],"exclude-points-separator":{index:8.5}},"chart-with-series-point":{"exclude-points-point":bH["exclude-points-point"],"exclude-points-list":bH["exclude-points-list"],"exclude-points-keep-only":bH["exclude-points-keep-only"],"chart-with-series-point-separator":{index:9.2}}};$.g=$.Sz.prototype;$.g.hU=function(){return this.gb;};$.g.mq=function(a){var b=this.cc||$.nn(0,0,0,0),c=a.clientX,d=a.clientY,e=$.ak(this.O().Ia());a=c-e.x;e=d-e.y;var f=b.left,h=b.top,k=b.width,l=b.height;if(a<f||a>f+k||e<h||e>h+l)return null;b=[];var m=this.Yc();if("by-spot"==m.g("hoverMode"))for(c=m.g("spotRadius"),this.Hs?(d=(l-(e-c-h))/l,f=(l-(e+c-h))/l,h=a,a=e,e=h):(d=(a-c-f)/k,f=(a+c-f)/k),h=0,k=this.gb.length;h<k;h++){if((l=this.gb[h])&&l.enabled()){m=l.Qa().Jc(d);var p=l.Qa().Jc(f);var q=this.Oo?l.jM(m,p):l.data().jM(m,p);p=l.Ac();for(var r=[],t=window.Infinity,u,v=0;v<q.length;v++)if(m=q[v],p.select(m)&&!p.o("missing")){var w=p.o("x"),x=!1;var y=l.Ce();for(var B=0;B<y.length;B++){var G=p.o(y[B]);G=$.kn(w,G,a,e);x=x||G<=c;G<t&&(t=G,u=m);}x&&r.push(m);}r.length&&b.push({X:l,ud:r,Jn:r[r.length-1],Ee:{index:u,Nf:t}});}}else"by-x"==this.Yc().g("hoverMode")&&(b=bA(this,c,d));return b;};$.g.XD=function(){};$.g.Zz=function(a,b,c,d,e,f,h){a=$.Sz.u.Zz.call(this,a,b,c,d,e,f,h);d=!0;e=[];for(b=0;b<this.gb.length;b++){var k=this.gb[b];c=k.enabled()?$.BB(k,a.left,a.top,a.width,a.height):[];f=(0,$.qD)(c,function(a){return $.px(k.state,a)>=$.Bo;});d=d&&f;e.push({series:k,pointsInRect:c,allPointsAreSelected:f});}a.seriesStatus=e;a.allPointsAreSelected=d;return a;};$.g.RO=function(a){var b=a.shiftKey||a.ctrlKey||a.metaKey,c=a.seriesStatus;if(b&&a.allPointsAreSelected)for(a=0;a<c.length;a++)c[a].series.he(c[a].pointsInRect);else for(a=0;a<c.length;a++)$.DB(c[a].series,c[a].pointsInRect,b);};$.g.QG=function(a,b,c,d,e,f,h){return this.Oo?$.Sz.u.QG.call(this,a,b,c,d,e,f,h):this.H1(a,b,c,d,e,f,h);};$.g.dD=function(){return["x"];};$.g.eD=function(a){return a.get("x");};$.g.cD=function(a){a=a.get("name");return $.z(a)?a:null;};$.g.Zt=function(a){if(!this.Zw||this.rX){var b,c=$.Tl(this.uf("scales"));if(a&&a.scales){for(var d=0;d<c.length;d++)a.scales[d]&&$.ra(c[d],a.scales[d]);a.scales.length>c.length&&(c=$.Ga(c,$.Ja(a.scales,c.length)));}d={};if($.A(c))for(b=0;b<c.length;b++){var e=c[b];$.z(e)&&(e={type:e});var f=$.gt(e.type,!1);f.Fa(e);f.ticks&&(e=f.ticks().na,$.ra(e,f.na.ticks),f.na.ticks=e);f.minorTicks&&(e=f.minorTicks().na,$.ra(e,f.na.minorTicks),f.na.minorTicks=e);f.N(f.na);d[b]=f;}else if($.C(c))for(b in c)c.hasOwnProperty(b)&&(e=c[b],$.z(e)&&(e={type:e}),f=$.gt(e.type,!1),f.Fa(e),f.ticks&&(e=f.ticks().na,$.ra(e,f.na.ticks),f.na.ticks=e),f.minorTicks&&(e=f.minorTicks().na,$.ra(e,f.na.minorTicks),f.na.minorTicks=e),f.N(f.na),d[b]=f);b=["xScale","yScale"];for(c=0;c<b.length;c++){var h=b[c];e=a?a[h]:this.uf(h);$.ea(e)||$.z(e)&&!(0,window.isNaN)(Number(e))?f=d[e]:$.z(e)?f=$.gt(e,null):$.C(e)?(e.type?f=$.gt(e.type,!0):f=this[h](),f.Fa(e),f.ticks&&(e=f.ticks().na,$.ra(e,f.na.ticks),f.na.ticks=e),f.minorTicks&&(e=f.minorTicks().na,$.ra(e,f.na.minorTicks),f.na.minorTicks=e),f.N(f.na)):f=null;if(f)this[h](f);}this.Zw=d;this.rX=!1;}return this.Zw;};$.g.U=function(a,b){$.Sz.u.U.call(this,a,b);$.Pq(this,ZG,a);if(a.scales||a.xScale||a.yScale)this.rX=!0;var c=this.Zt(a);this.dt(a,c,b);};$.g.F=function(){var a=$.Sz.u.F.call(this),b={},c=[];$.Xq(this,ZG,a);$.dA(a,"xScale",this.Qa(),c,b);$.dA(a,"yScale",this.ab(),c,b);this.ct(a,c,b);a.scales=c;return a;};$.g.dt=function(a,b,c){this.bP(a,b,c);};$.g.ct=function(a,b,c){this.WO(a,b,c);};$.g.FL=function(){return 1;};$.g.bP=function(a,b,c){var d=a.series;if($.A(d))for(a=0;a<d.length;a++){var e=d[a];var f=e.seriesType||this.g("defaultSeriesType");if(f=this.Ae(f,e.data))f.fa(!!c,e),$.C(e)&&("xScale"in e&&e.xScale>this.FL()&&f.Qa(b[e.xScale]),"yScale"in e&&e.yScale>this.FL()&&f.ab(b[e.yScale]));}};$.g.WO=function(a,b,c){var d,e=[];for(d=0;d<this.gb.length;d++){var f=this.gb[d];var h=f.F();$.dA(h,"xScale",f.Qa(),b,c);$.dA(h,"yScale",f.ab(),b,c);e.push(h);}e.length&&(a.series=e);};$.g.em=function(a,b,c,d){if($.A(a))for(var e=0;e<a.length;e++){var f=a[e],h=b.call(this,e);$.Nc(f)||(d?h.N(f):h.Fa(f),f=$.C(f)&&"scale"in f?f.scale:h.uf("scale"),f>this.FL()&&h.scale(c[f]));}};$.g.R=function(){$.pd(this.Lg);$.Sz.u.R.call(this);};$.H($.eA,$.Py);var cH={};$.wq(cH,[[1,"stroke",$.Tq],[0,"value",$.Gq]]);$.S($.eA,cH);$.g=$.eA.prototype;$.g.pa=$.Py.prototype.pa;$.g.ra=$.Py.prototype.ra;$.g.ve=function(a){return $.n(a)?(a=$.Hk(a),this.f!=a&&(this.f=a,this.B(4,9)),this):this.f?this.f:this.axis()?(a=this.axis().orientation(),"left"==a||"right"==a?"horizontal":"vertical"):this.G;};$.g.scale=function(a){return this.Lo(a);};$.g.bs=function(){this.jo();};$.g.iv=function(){$.Qy(this).stroke(this.g("stroke"));};$.g.R=function(){this.sa("stroke",null);$.eA.u.R.call(this);};$.g.F=function(){var a=$.eA.u.F.call(this);$.Xq(this,cH,a);this.f&&(a.layout=this.f);return a;};$.g.U=function(a,b){$.eA.u.U.call(this,a,b);$.Pq(this,cH,a);};$.H(gA,$.eA);$.zu(gA,$.eA);var dH=$.eA.prototype;dH.scale=dH.scale;dH.axis=dH.axis;dH.layout=dH.ve;dH.isHorizontal=dH.Mb;dH=gA.prototype;$.F("anychart.standalones.axisMarkers.line",function(){return new gA();});dH.draw=dH.W;dH.parentBounds=dH.ja;dH.container=dH.O;$.H($.hA,$.Py);$.eH={};$.wq($.eH,[[1,"fill",$.Uq],[0,"from",$.Gq],[0,"to",$.Gq]]);$.S($.hA,$.eH);$.g=$.hA.prototype;$.g.ZQ=function(){return"From: "+this.g("from")+" to: "+this.g("to");};$.g.pa=$.Py.prototype.pa;$.g.ra=$.Py.prototype.ra;$.g.ve=function(a){return $.n(a)?(a=$.Hk(a),this.f!=a&&(this.f=a,this.B(4,9)),this):this.f?this.f:this.axis()?(a=this.axis().orientation(),"left"==a||"right"==a?"horizontal":"vertical"):this.G;};$.g.scale=function(a){return this.Lo(a);};$.g.us=function(){return[this.g("from"),this.g("to")];};$.g.kK=function(){$.n(void 0)&&($.n((void 0).from)&&this.from((void 0).from),$.n((void 0).to)&&this.to((void 0).to));return{from:this.g("from"),to:this.g("to")};};$.g.bs=function(){$.Ry(this);};$.g.iv=function(){$.Qy(this).stroke(null).fill(this.g("fill"));};$.g.R=function(){this.sa("fill",null);$.hA.u.R.call(this);};$.g.F=function(){var a=$.hA.u.F.call(this);$.Xq(this,$.eH,a,void 0,void 0,!0);this.f&&(a.layout=this.f);return a;};$.g.U=function(a,b){$.hA.u.U.call(this,a,b);$.Pq(this,$.eH,a);};$.H(jA,$.hA);$.zu(jA,$.hA);var fH=$.hA.prototype;fH.scale=fH.scale;fH.axis=fH.axis;fH.layout=fH.ve;fH.isHorizontal=fH.Mb;fH=jA.prototype;$.F("anychart.standalones.axisMarkers.range",function(){return new jA();});fH.draw=fH.W;fH.parentBounds=fH.ja;fH.container=fH.O;$.H($.kA,$.az);var gH={};$.wq(gH,[[0,"value",$.Gq]]);$.S($.kA,gH);$.g=$.kA.prototype;$.g.pa=$.az.prototype.pa;$.g.ra=$.az.prototype.ra;$.g.scale=function(a){return this.Lo(a);};$.g.F=function(){var a=$.kA.u.F.call(this);$.Xq(this,gH,a);return a;};$.g.U=function(a,b){$.kA.u.U.call(this,a,b);$.Pq(this,gH,a,b);};$.H(lA,$.kA);$.zu(lA,$.kA);var hH=$.kA.prototype;hH.scale=hH.scale;hH.axis=hH.axis;hH.layout=hH.ve;hH.background=hH.background;hH.padding=hH.padding;hH.isHorizontal=hH.Mb;hH=lA.prototype;$.F("anychart.standalones.axisMarkers.text",function(){return new lA();});hH.draw=hH.W;hH.parentBounds=hH.ja;hH.container=hH.O;$.H(mA,xv);mA.prototype.pa=xv.prototype.pa|2;var iH={};$.wq(iH,[[0,"format",$.er],[0,"axisIndex",$.Gq]]);$.S(mA,iH);$.g=mA.prototype;$.g.Bf=function(a){return $.n(a)?(this.i!=a&&(this.i=a,this.B(16,1)),this):this.i;};$.g.x=function(a){$.n(a)&&this.Jo!=a&&(this.Jo=a,this.B(4,9));return this;};$.g.y=function(a){$.n(a)&&this.Ko!=a&&(this.Ko=a,this.B(4,9));return this;};$.g.sf=function(){if(this.ja())var a=this.ja();else{a=new $.I(0,0,0,0);var b=this.vb.qb();a.width=this.padding().Ik(b.width);a.height=this.padding().ak(b.height);}b=a.width;var c=a.height;a=new $.I(0,0,this.Mi,this.Li);var d=new $.gb(0,0);d.x=this.Jo;d.y=this.Ko;var e=this.qA(),f=$.Ko(new $.I(0,0,this.Mi,this.Li),e);d.x-=f.x;d.y-=f.y;f=this.g("offsetX");var h=this.g("offsetY");$.cp(d,e,$.n(f)?$.M(f,b):0,$.n(h)?$.M(h,c):0);this.Ig+=d.x;this.Jg+=d.y;a.left=d.x;a.top=d.y;this.vb.x(this.Ig).y(this.Jg);(b=this.vb.clip())?b.shape(this.Ig,this.Jg,this.ln,this.jn):(b=$.uk(this.Ig,this.Jg,this.ln,this.jn),this.vb.clip(b));return a;};$.g.F=function(){var a=mA.u.F.call(this);$.Xq(this,iH,a,"Crosshair Label");return a;};$.g.U=function(a,b){mA.u.U.call(this,a,b);$.Pq(this,iH,a,b);};var jH=mA.prototype;jH.background=jH.background;jH.padding=jH.padding;$.H($.nA,$.Y);$.nA.prototype.pa=$.Y.prototype.pa|2;$.nA.prototype.ra=$.Y.prototype.ra|16;var kH={};$.vq(kH,1,"xStroke",$.Tq);$.vq(kH,1,"yStroke",$.Tq);$.vq(kH,0,"displayMode",function(a){return $.Ak(Cda,a,"float");});$.S($.nA,kH);$.g=$.nA.prototype;$.g.g=$.mr;$.g.ig=function(a){$.n(a)&&(this.Vb=a);return this.Vb;};$.g.bh=$.lr;$.g.Vd=function(){var a=[this.na];this.Y&&(a=$.Ga(a,this.Y.Vd()));return a;};$.g.Ud=function(){var a=[this.Oa];this.Y&&(a=$.Ga(a,this.Y.Ud()));return a;};$.g.parent=function(a){if($.n(a)){if(this.Y!=a){var b=String($.oa(this));if(null===a){$.or(this.Y,this.Sc,this);a=$.oA(this);var c=$.pA(this);a=$.Ga(a,c);for(c=0;c<a.length;c++){var d=a[c];d&&d.parent(null);}delete this.Y.fL[b];this.Y=null;}else this.Y&&$.or(this.Y,this.Sc,this),this.Y=a,qA(this,$.oA(this.Y),!0),qA(this,$.pA(this.Y),!1),this.Y.fL[b]=this,$.L(this.Y,this.Sc,this);}return this;}return this.Y;};$.g.Sc=function(a){var b=0,c=0;$.X(a,1)&&(b|=16,c|=1);$.X(a,8)&&(b|=4,c|=8);$.X(a,32768)&&(b|=1,c|=32769);this.Vb=null;this.B(b,c);};$.g.l3=function(a){$.X(a,2)&&this.va(2);};$.g.Xh=function(a){return $.n(a)?(this.lc!=a&&(this.lc=a),this):this.lc;};$.g.OB=function(a,b){if($.ea(a)||$.z(a)&&!(0,window.isNaN)(+a)){var c=+a;var d=b;}else c=0,d=a;var e=$.oA(this),f=e[c];f||(f=new mA(),f.Fa("defaultFontSettings","defaultCrosshairLabel"),e[c]=f,rA(this,f,c,!0),$.L(f,this.l3,this),c=this.zIndex(),f.xh=c);return $.n(d)?(f.N(d),this):f;};$.g.PB=function(a,b){if($.ea(a)||$.z(a)&&!(0,window.isNaN)(+a)){var c=+a;var d=b;}else c=0,d=a;var e=$.pA(this),f=e[c];f||(f=new mA(),f.Fa("defaultFontSettings","defaultCrosshairLabel"),e[c]=f,rA(this,f,c,!1),$.L(f,this.l3,this),c=this.zIndex(),f.xh=c);return $.n(d)?(f.N(d),this):f;};$.g.W=function(){if(!this.yc())return this;var a=this.ja(),b=this.zIndex(),c=this.O();this.J(16)&&(this.Lr.stroke(this.g("xStroke")),this.Or.stroke(this.g("yStroke")),this.I(16));var d,e=$.oA(this),f=$.pA(this);e=$.Ga(e,f);f=e.length;this.J(2)&&(this.Lr.parent(c),this.Or.parent(c),$.tA(e,c),this.I(2));if(this.J(8)){this.Lr.zIndex(b);this.Or.zIndex(b);for(c=0;c<f;c++)if(d=e[c])d.xh=b;this.I(8);}this.J(4)&&($.uA(e,a),this.I(4));return this;};$.g.Ic=function(){this.TU();this.UU();};$.g.TU=function(a){this.Lr.clear();wA(this,a);};$.g.UU=function(a){this.Or.clear();if($.n(a))a.O(null),a.remove();else{a=$.pA(this);for(var b=0;b<a.length;b++){var c=a[b];c&&(c.O(null),c.remove());}}};$.g.Cf=function(a){if(this.enabled()){var b=a.clientX,c=a.clientY,d=$.ak(this.O().Ia());a=b-d.x;d=c-d.y;if("sticky"==this.g("displayMode")&&(b=bA(this.Ul,b,c))){c=window.Infinity;for(var e=0;e<b.length;e++){var f=b[e],h=f.Ee.Nf;if(h<c){c=h;var k=f.X;var l=f.Ee.index;}}k=k.$();k.select(l);l=$.N(k.o("x"));k=$.ep(k.o("value"),k.o("close"),k.o("high"));k=$.N(k);this.Ul.Hs?(d=l,(0,window.isNaN)(k)||(a=k)):(a=l,(0,window.isNaN)(k)||(d=k));}l=this.ja();a>=l.sb()&&a<=l.bb()&&d>=l.Ub()&&d<=l.Ta()?($.V(this),l=$.oA(this),k=$.pA(this),this.It(l,!0,a,d),this.It(k,!1,a,d),this.da(!0)):this.Ic();}};$.g.Xx=function(a,b,c,d){var e=b?this.Lr:this.Or;if((b=this.g(b?"xStroke":"yStroke"))&&!$.ip(b)){b=this.ja();var f=b.bb()-b.sb(),h=b.Ta()-b.Ub();c-=b.sb();var k=d-b.Ub();d=a.Mb();var l;a=a.scale();c=d?c:k;f=d?f:h;h=d?b.sb():b.Ub();k=a.La();"linear"==k||"datetime"==k||"log"==k?l=c/f:l=a.transform(a.Jc(c/f),.5);0>l||1<l?e.clear():(a=h+l*f,f=e.fl(),d?(l=$.O(a,f),d=b.Ub(),a=l,b=b.Ta()):(l=b.sb(),d=$.O(a,f),a=b.bb(),b=d),e.clear().moveTo(l,d).lineTo(a,b));}};$.g.je=function(a,b,c,d,e,f){var h=$.oA(this),k=$.pA(this);c=b?h[c]:k[c];if(b?c.oh("enabled")&&c.Oa.enabled||c.enabled()&&this.KY:c.enabled()){k=this.ja();b=k.bb()-k.sb();var l=k.Ta()-k.Ub();b=(h=a.Mb())?b:l;l=a.scale();$.n(f)?e=f:(d-=k.sb(),e-=k.Ub(),e=(h?d:e)/b);e=l.transform(l.Jc(e),.5);if(0>e||1<e)c.O(null),c.remove();else{d=this.lq(a,h?e:1-e);f=c.g("format")||a.labels().g("format")||$.kp;$.z(f)&&(f=$.Pu($.Nu.Gd(),f));c.text(f.call(d,d));c.nk($.sA(a));f=this.ja();d=h=0;if(a){var m=a.ob(),p=a.enabled();k=p?m.sb():f.bb();l=p?m.Ub():f.Ta();var q=p?m.bb():f.sb();m=p?m.Ta():f.Ub();switch(a.orientation()){case"left":h=this.RH(c)?q-1:q+1;d=Math.round(f.top+e*b);break;case"top":h=Math.round(f.left+e*b);d=xA(c)?m-1:m+1;break;case"right":h=this.RH(c)?k-1:k+1;d=Math.round(f.top+e*b);break;case"bottom":h=Math.round(f.left+e*b),d=xA(c)?l-1:l+1;}a=h;b=d;}else a=h,b=d;c.x(a).y(b);c.O(this.O());c.W();}}};$.g.It=function(a,b,c,d,e,f){var h,k,l=$.vA(this);if($.n(e))for(h=0;h<a.length;h++)(k=a[h])&&(f||k.oh("enabled")&&k.Oa.enabled?this.je(this.lc,b,h,c,d,e):wA(this,k));else for(e=b?l.sy:l.uy,h=0;h<a.length;h++)if(k=a[h])if(f=k.g("axisIndex"),(f=e.call(l,f))&&$.n(f.scale().Jc(0))){if(!m){this.Xx(f,b,c,d);var m=!0;}this.je(f,b,h,c,d);}else this.TU(k);};$.g.RH=function(a){a=a.qA();return"left-top"==a||"left-center"==a||"left-bottom"==a;};$.g.lq=function(a,b){if(!a)return null;var c=a.scale(),d=c.La(),e=c.Jc(b),f="number";switch(d){case"linear":case"log":var h=c.uE(e);break;case"ordinal":h=String(e);f="string";break;case"stock-scatter-date-time":case"stock-ordinal-date-time":case"date-time":h=$.zs(e),f="string";}return $.rv(new $.Hw({value:{value:h,type:f},rawValue:{value:e,type:"number"},max:{value:$.n(c.max)?c.max:null,type:"number"},min:{value:$.n(c.min)?c.min:null,type:"number"},scale:{value:c,type:""},tickValue:{value:e,type:"number"}}));};$.g.gg=function(a){var b=this.ja(),c=a.offsetX;a=a.offsetY;(c<=b.sb()||c>=b.bb()||a<=b.Ub()||a>=b.Ta())&&this.Ic();};$.g.remove=function(){this.Ic();};$.g.R=function(){this.Ul&&(this.Ul.ec("mouseover",this.Cf,!1,this),this.Ul.ec("mousemove",this.Cf,!1,this),this.Ul.ec("mouseout",this.gg,!1,this),this.Ul=null);$.ud(this.Lr,this.Or,this.YP,this.$P);this.Lr=this.Or=this.YP=this.$P=null;$.nA.u.R.call(this);};$.g.enabled=function(a){return $.n(a)?(this.Oa.enabled!=a&&(this.Oa.enabled=a,this.B(1,32777),this.Oa.enabled?this.da(!0):(0,window.isNaN)(this.Io)&&$.V(this)),this):this.g("enabled");};$.g.F=function(){var a=$.nA.u.F.call(this);$.Xq(this,kH,a,"Crosshair");var b;var c=[];var d=$.oA(this),e=$.pA(this);for(b=0;b<d.length;b++)d[b]&&c.push(d[b].F());0<c.length&&(a.xLabels=c);c=[];for(b=0;b<e.length;b++)e[b]&&c.push(e[b].F());0<c.length&&(a.yLabels=c);return a;};$.g.U=function(a,b){$.nA.u.U.call(this,a,b);$.Pq(this,kH,a,b);var c;var d=a.xLabels;if($.A(d))for(c=0;c<d.length;c++)this.OB(c,d[c]);else"xLabel"in a&&this.OB(0,a.xLabel);d=a.yLabels;if($.A(d))for(c=0;c<d.length;c++)this.PB(c,d[c]);else"yLabel"in a&&this.PB(0,a.yLabel);};var lH=$.nA.prototype;lH.xLabel=lH.OB;lH.yLabel=lH.PB;$.H(yA,$.U);var dea=yA.prototype,mH={};$.vq(mH,1,"stroke",$.Tq);dea.iR=mH;$.S(yA,yA.prototype.iR);$.g=yA.prototype;$.g.ra=$.U.prototype.ra;$.g.pa=$.U.prototype.pa|1;$.g.F=function(){var a=yA.u.F.call(this);$.Xq(this,this.iR,a);return a;};$.g.U=function(a,b){yA.u.U.call(this,a,b);$.Pq(this,this.iR,a,b);};$.g.R=function(){this.i=null;yA.u.R.call(this);};$.H(zA,$.Au);$.g=zA.prototype;$.g.ra=$.Au.prototype.ra|384;$.g.title=function(a){this.ib||(this.ib=new $.cw(),this.ib.jb(this),$.L(this.ib,this.Kq,this),$.W(this,"title",this.ib));return $.n(a)?(this.ib.N(a),this):this.ib;};$.g.Kq=function(a){var b=0,c=0;$.X(a,1)&&(b|=128,c|=1);$.X(a,8)&&(b|=4,c|=8);this.B(b,c);};$.g.margin=function(a,b,c,d){this.Pc||(this.Pc=new $.Pv(),$.L(this.Pc,this.TA,this),$.W(this,"margin",this.Pc));return $.n(a)?(this.Pc.N.apply(this.Pc,arguments),this):this.Pc;};$.g.TA=function(a){$.X(a,2)&&this.B(4,9);};$.g.padding=function(a,b,c,d){this.Ua||(this.Ua=new $.Ju(),$.L(this.Ua,this.bm,this),$.W(this,"padding",this.Ua));return $.n(a)?(this.Ua.N.apply(this.Ua,arguments),this):this.Ua;};$.g.bm=function(a){$.X(a,2)&&this.B(4,9);};$.g.label=function(a,b){if($.ea(a)||$.z(a)&&!(0,window.isNaN)(+a)){var c=+a;var d=b;}else c=0,d=a;var e=this.Ca[c];e||(e=new $.Av(),e.jb(this),e.Fa("defaultFontSettings","defaultLabelSettings","chart.defaultQuarterSettings.defaultLabelSettings"),this.Ca[c]=e,$.L(e,this.vaa,this),this.B(256,1));return $.n(d)?(e.N(d),this):e;};$.g.vaa=function(){this.B(256,1);};$.g.NT=function(){return this.margin().Ej(this.ob());};$.g.W=function(){if(!this.yc())return this;this.J(4)&&this.B(384);zA.u.W.call(this);if(this.J(128)){var a=$.Ar(this,"title");a&&($.V(a),a.O(this.Ma),a.zIndex(10),a.ja(this.ob()),a.da(!1),a.W());this.I(128);}if(this.J(256)){a=this.NT();for(var b=0,c=this.Ca.length;b<c;b++){var d=this.Ca[b];d&&($.V(d),d.O(this.Ma),d.ja(this.padding().Ej(a)),d.zIndex(20),d.da(!1),d.W());}this.I(256);}return this;};$.g.F=function(){var a=zA.u.F.call(this),b=$.Ar(this,"title");b&&(a.title=b.F());a.margin=this.margin().F();a.padding=this.padding().F();b=[];for(var c=0;c<this.Ca.length;c++)this.Ca[c]&&b.push(this.Ca[c].F());0<b.length&&(a.labels=b);return a;};$.g.U=function(a,b){zA.u.U.call(this,a,b);"title"in a&&this.title().fa(!!b,a.title);"padding"in a&&this.padding().fa(!!b,a.padding);"margin"in a&&this.margin().fa(!!b,a.margin);var c=a.labels;if($.A(c))for(var d=0;d<c.length;d++)this.label(d,c[d]);};$.g.R=function(){$.ud(this.ib,this.Pc,this.Ua,this.Ca);this.Ca=this.Ua=this.Pc=this.ib=null;zA.u.R.call(this);};var nH=zA.prototype;nH.title=nH.title;nH.margin=nH.margin;nH.padding=nH.padding;nH.label=nH.label;$.H(AA,$.U);$.g=AA.prototype;$.g.vm=function(){this.j||$.Ar(this,"rightTop");this.b||$.Ar(this,"leftBottom");this.i||$.Ar(this,"rightBottom");this.f||$.Ar(this,"leftTop");return this.D;};$.g.j5=function(a){this.j||(this.j=new zA(),$.L(this.j,this.oa.xO,this.oa),this.D[0]=this.j,$.W(this,"rightTop",this.j));return $.n(a)?(this.j.N(a),this):this.j;};$.g.w3=function(a){this.f||(this.f=new zA(),$.L(this.f,this.oa.xO,this.oa),this.D[1]=this.f,$.W(this,"leftTop",this.f));return $.n(a)?(this.f.N(a),this):this.f;};$.g.v3=function(a){this.b||(this.b=new zA(),$.L(this.b,this.oa.xO,this.oa),this.D[2]=this.b,$.W(this,"leftBottom",this.b));return $.n(a)?(this.b.N(a),this):this.b;};$.g.i5=function(a){this.i||(this.i=new zA(),$.L(this.i,this.oa.xO,this.oa),this.D[3]=this.i,$.W(this,"rightBottom",this.i));return $.n(a)?(this.i.N(a),this):this.i;};$.g.F=function(){var a=AA.u.F.call(this);this.j&&(a.rightTop=this.j.F());this.f&&(a.leftTop=this.f.F());this.b&&(a.leftBottom=this.b.F());this.i&&(a.rightBottom=this.i.F());return a;};$.g.U=function(a){AA.u.U.call(this,a);this.j5(a.rightTop);this.w3(a.leftTop);this.v3(a.leftBottom);this.i5(a.rightBottom);};$.g.R=function(){$.ud(this.j,this.f,this.b,this.i);this.i=this.b=this.f=this.j=null;this.D.length=0;AA.u.R.call(this);};var oH=AA.prototype;oH.rightTop=oH.j5;oH.leftTop=oH.w3;oH.leftBottom=oH.v3;oH.rightBottom=oH.i5;$.H($.BA,$.Sz);$.g=$.BA.prototype;$.g.ra=$.Sz.prototype.ra|266338304;$.g.wa=function(a){if($.n(a)){a=!!a;if(!!this.Hs!=a){this.Hs=a;for(a=this.gb.length;a--;)this.gb[a].isVertical(this.Hs);var b=$.Ga(this.b,this.pf);$.Br(b);for(a=b.length;a--;){var c=b[a];if(c){switch(c.g("orientation")){case"bottom":var d="left";break;case"top":d="right";break;case"left":d="bottom";break;case"right":d="top";}c.orientation(d);}}c=$.Ga(this.Yg,this.Zg,this.ih,this.jh,this.ng,this.qg,this.sg);$.Br(c);for(a=c.length;a--;){var e=c[a];e&&(d="horizontal"==e.ve()?"vertical":"horizontal",e.ve(d));}$.Cr(b,c);}return this;}return this.Hs=$.n(this.Hs)?this.Hs:!!this.g("isVertical");};$.g.GA=function(){this.aa&&this.Kk().GA();};$.g.$n=function(){if(this.J(524288)){$.BA.u.$n.call(this);var a=this.Ka("chartElements");a.axes={x:0,y:0};a.grids={x:0,y:0,xMinor:0,yMinor:0};for(var b=Math.max(this.b.length,this.pf.length,this.Yg.length,this.Zg.length,this.ih.length,this.jh.length);b--;)this.b[b]&&a.axes.x++,this.pf[b]&&a.axes.y++,this.Yg[b]&&a.grids.x++,this.Zg[b]&&a.grids.y++,this.ih[b]&&a.grids.xMinor++,this.jh[b]&&a.grids.yMinor++;this.Ka("chartElements",a);}};$.g.Psa=function(a){return $.n(a)?(this.wg=a,this):this.wg||{};};$.g.Qsa=function(a){return $.n(a)?(this.oG=a,this):this.oG||{};};$.g.dA=function(a){this.Zp||(this.Zp=$.Cm("defaultGridSettings"));return $.n(a)?(this.Zp=a,this):this.Zp||{};};$.g.eA=function(a){this.$p||(this.$p=$.Cm("defaultMinorGridSettings"));return $.n(a)?(this.$p=a,this):this.$p||{};};$.g.uF=function(){return new rz();};$.g.ep=function(a){return(a?this.dA():this.eA()).zIndex+.001*$.Ga(this.Yg,this.Zg,this.ih,this.jh).length;};$.g.hm=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;var e=this.Yg[c];e||(e=this.uF(),e.Zj=this,$.oz(e,this.wa()?"horizontal":"vertical"),e.zIndex(this.ep(!0)),this.Yg[c]=e,$.L(e,this.uu,this),this.B(9437184,1));return $.n(d)?(e.N(d),this):e;};$.g.jm=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;var e=this.Zg[c];e||(e=this.uF(),e.Zj=this,$.oz(e,this.wa()?"vertical":"horizontal"),e.zIndex(this.ep(!0)),this.Zg[c]=e,$.L(e,this.uu,this),this.B(9437184,1));return $.n(d)?(e.N(d),this):e;};$.g.Mr=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;var e=this.ih[c];e||(e=this.uF(),e.Zj=this,$.oz(e,this.wa()?"horizontal":"vertical"),e.Fa("defaultMinorGridSettings"),e.zIndex(this.ep(!1)),this.ih[c]=e,$.L(e,this.uu,this),this.B(9437184,1));return $.n(d)?(e.N(d),this):e;};$.g.Pr=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;var e=this.jh[c];e||(e=this.uF(),e.Zj=this,$.oz(e,this.wa()?"vertical":"horizontal"),e.Fa("defaultMinorGridSettings"),e.zIndex(this.ep(!1)),this.jh[c]=e,$.L(e,this.uu,this),this.B(9437184,1));return $.n(d)?(e.N(d),this):e;};$.g.uu=function(){this.B(8388608,1);};$.g.Xh=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;var e=this.b[c];e||(e=new $.Uy(),e.WE(0),e.jb(this),$.W(this,"defaultXAxisSettings",e),this.b[c]=e,$.L(e,this.vo,this),this.B(3145732,1));return $.n(d)?(e.N(d),this):e;};$.g.jj=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;var e=this.pf[c];e||(e=new $.Uy(),e.WE(0),$.W(this,"defaultYAxisSettings",e),e.jb(this),this.pf[c]=e,$.L(e,this.vo,this),this.B(3145732,1));return $.n(d)?(e.N(d),this):e;};$.g.nD=ba(24);$.g.pD=ba(25);$.g.vo=function(a){var b=0,c=0;$.X(a,1)&&(b|=2097152,c|=1);$.X(a,8)&&(b|=4);$.V(this);this.B(b,c);$.rr(this,"serieschart","dataarea",1);this.da(!0);};$.g.NG=function(a){return a>=this.b.length?this.pf[a-this.b.length]:this.b[a];};$.g.sy=function(a){return this.b[a];};$.g.uy=function(a){return this.pf[a];};$.g.M5=function(a){a.scale(this.ab());};$.g.cH=function(){return 2097152;};$.g.VZ=function(){return new $.eA();};$.g.Wm=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;var e=this.ng[c];if(!e){e=this.VZ();var f=$.xr($.wr(this),"defaultLineMarkerSettings");e.Fa(f);e.oa=this;$.fA(e,this.wa()?"vertical":"horizontal");this.ng[c]=e;e.jb(this);$.L(e,this.Hw,this);this.B(5242880,1);}return $.n(d)?(e.N(d),this):e;};$.g.WZ=function(){return new $.hA();};$.g.en=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;var e=this.qg[c];if(!e){e=this.WZ();var f=$.xr($.wr(this),"defaultRangeMarkerSettings");e.Fa(f);e.oa=this;$.iA(e,this.wa()?"vertical":"horizontal");this.qg[c]=e;e.jb(this);$.L(e,this.Hw,this);this.B(5242880,1);}return $.n(d)?(e.N(d),this):e;};$.g.XZ=function(){return new $.kA();};$.g.kn=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;var e=this.sg[c];if(!e){e=this.XZ();var f=$.xr($.wr(this),"defaultTextMarkerSettings");e.Fa(f);e.oa=this;$.bz(e,this.wa()?"vertical":"horizontal");this.sg[c]=e;e.jb(this);$.L(e,this.Hw,this);this.B(5242880,1);}return $.n(d)?(e.N(d),this):e;};$.g.Hw=function(a){var b=4227072;$.X(a,4)&&(b|=327680);this.B(b,1);};$.g.mV=function(a){for(var b=0,c=$.Ga(this.ng,this.qg,this.sg),d=0;d<c.length;d++){var e=c[d];e&&e.enabled()&&e.scale()==a&&(b|=e.B(4));}b&&this.B(4194304,1);};$.g.ty=function(){this.nb();return $z(EA(this,this.im,!0));};$.g.vy=function(){this.nb();return $z(EA(this,this.mn,!1));};$.g.RR=function(){FA(this,this.im);};$.g.SR=function(){FA(this,this.mn);};$.g.lh=function(a){this.Uf||(this.Uf=new $.nA(),this.Uf.enabled(!1),$.vA(this.Uf,this),$.L(this.Uf,this.ZA,this),$.W(this,"crosshair",this.Uf),this.B(16777216,1));return $.n(a)?(this.Uf.N(a),this):this.Uf;};$.g.ZA=function(){this.B(16777216,1);};$.g.Kk=function(a){this.aa?this.Ba||(this.td=new this.aa.ChartController(this),this.Ba=new this.aa.PlotController(this.td,this),$.W(this,"annotations",this.Ba),$.L(this.Ba,this.PQ,this)):$.il(4,null,["Annotations"]);return $.n(a)?(this.Ba&&this.Ba.N(a),this):this.Ba||null;};$.g.PQ=function(){this.B(33554432,1);};$.g.ES=function(a){return $.n(a)?(this.Tb=a,this):this.Tb;};$.g.Cq=function(a){this.aa&&this.Kk().he();$.BA.u.Cq.call(this,a);};$.g.Yf=function(){return this.cc;};$.g.G1=function(a){return a.clone().round();};$.g.aD=function(a,b){var c=this.ob().clone(),d,e,f=$.Ga(this.b,this.pf),h=0,k,l,m,p;var q=0;for(d=f.length;q<d;q++)if((e=f[q])&&e.enabled()&&null===e.g("value")){switch(e.g("orientation")){case"top":l||(l=e);break;case"bottom":p||(p=e);break;case"right":m||(m=e);break;case"left":k||(k=e);}$.V(e);var r=e.padding().Oa;r.top=0;r.right=0;r.bottom=0;r.left=0;e.B(e.re);}do{d=[0,0,0,0];var t=!0;r=a.clone();this.Za=this.Ja=this.Ha=this.eb=window.NaN;for(q=f.length;q--;)if((e=f[q])&&e.enabled()&&null===e.g("value")){e.ja(a);var u=e.g("orientation");var v=e.g("stroke");$.C(v)||(v=$.Zb(v));v=$.cc(v);"top"==u?(e.padding().top(d[0]),e.padding().bottom(0),u=e.xd(l!=e),d[0]=a.height-u.height,(0,window.isNaN)(this.eb)&&(this.eb=v)):"bottom"==u?(e.padding().bottom(d[2]),e.padding().top(0),u=e.xd(p!=e),d[2]=a.height-u.height,(0,window.isNaN)(this.Ha)&&(this.Ha=v)):"left"==u?(e.padding().left(d[3]),e.padding().right(0),u=e.xd(k!=e),d[3]=a.width-u.width,(0,window.isNaN)(this.Ja)&&(this.Ja=v)):"right"==u&&(e.padding().right(d[1]),e.padding().left(0),u=e.xd(m!=e),d[1]=a.width-u.width,(0,window.isNaN)(this.Za)&&(this.Za=v));}d=this.M_(d,b||0);r.left+=d[3];r.top+=d[0];r.width-=d[1]+d[3];r.height-=d[2]+d[0];for(q=f.length;q--;)if((e=f[q])&&e.enabled()&&null===e.g("value")){v=e.xd(l!=e&&p!=e&&k!=e&&m!=e);e.Mb()?(e.padding().left(d[3]),e.padding().right(d[1]),u=e.xd(l!=e&&p!=e),u.height!=v.height&&(t=!1)):(e.padding().top(d[0]),e.padding().bottom(d[2]),u=e.xd(k!=e&&m!=e),u.width!=v.width&&(t=!1));u=e.ob(!1);switch(e.g("orientation")){case"top":var w="bottom";break;case"right":w="left";break;case"bottom":w="top";break;case"left":w="right";}e=null;v=c.top;var x=c.height,y=c.left+c.width,B=c.top+c.height,G=u.left+u.width,D=u.top+u.height;switch(w){case"top":u.top>c.top&&(e=new $.I(c.left,c.top,c.width,u.top-c.top));break;case"bottom":D<B&&(e=new $.I(c.left,D,c.width,B-D));break;case"left":u.left>c.left&&(e=new $.I(c.left,v,u.left-c.left,x));break;case"right":G<y&&(e=new $.I(G,v,y-G,x));}e&&(c=e);}h++;}while(!t&&5>h);q=0;for(d=f.length;q<d;q++)if((e=f[q])&&e.enabled()&&null===e.g("value")){if(e==l||e==p||e==k||e==m)h=e,$.n(c)&&(h.JH=c,h.hk=null,h.js(),h.Yd());e.da(!1);}c=r;for(q=0;q<f.length;q++)(k=f[q])&&k.g("enabled")&&(m=k.g("value"),null!==m&&($.V(k),k.ja(c),l=k.ob(!0),p=DA(this,k)))&&(w=p.scale(),p=k.g("orientation"),h=0,k.padding(h),d=w.jD(),m=w.transform(m)+(w.Ne()?-d:d)/2,"top"===p?h=c.height*(1-m)-l.height:"bottom"===p?h=c.height-c.height*(1-m)-l.height:"right"===p?h=c.width-c.width*m-l.width:"left"===p&&(h=c.width*m-l.width),k.padding()[p](h),k.da(!1));return r.clone().round();};$.g.M_=function(a){return a;};$.g.MT=function(){return 199262208;};$.g.QL=function(a){for(var b=0;b<a.length;b++){var c=a[b];c&&($.V(c),c.O(Wca(this,c)?this.Ma:null),c.W(),c.da(!1));}};$.g.YQ=function(){var a;if(this.J(8388608)){var b=$.Ga(this.Zg,this.Yg,this.ih,this.jh);var c=0;for(a=b.length;c<a;c++){var d=b[c];d&&($.V(d),d.scale()||CA(this,d),d.ja(this.cc),d.O(this.Ma),d.Op(this.eb,this.Za,this.Ha,this.Ja),d.W(),d.da(!1));}this.I(8388608);}this.J(2097152)&&(this.QL(this.b),this.QL(this.pf),this.I(2097152));if(this.J(4194304)){b=$.Ga(this.ng,this.qg,this.sg);c=0;for(a=b.length;c<a;c++)if(d=b[c])$.V(d),d.scale()||CA(this,d),d.ja(this.cc),d.O(this.Ma),d.Op(this.eb,this.Za,this.Ha,this.Ja),d.W(),d.da(!1);this.I(4194304);}};$.g.Oh=function(a){this.aa&&(this.Kk(),this.td.ev(!0));var b;this.nb();if(!this.nf()){$.Br(this.b,this.pf);if(this.J(2097156)){var c;var d=0;for(b=this.b.length;d<b;d++)if(c=this.b[d])c.B(c.re),c.Yd(),$.$u(c.labels()),$.$u(c.pb()),!c||c.scale()&&String($.oa(c.scale()))!=this.iia||(c.scale(this.Qa()),this.B(4));d=0;for(b=this.pf.length;d<b;d++)if(c=this.pf[d])$.$u(c.labels()),$.$u(c.pb()),!c||c.scale()&&String($.oa(c.scale()))!=this.jia||(this.M5(c),this.B(4));}this.J(4)&&(this.cc=this.aD(this.G1(a)),this.GA(),this.B(this.MT()));this.YQ();$.Rz(this,this.eb,this.Za,this.Ha,this.Ja);if(this.J(16777216)){if(d=$.Ar(this,"crosshair"))$.V(d),d.ja(this.cc),d.O(this.Ma),d.W(),d.da(!1);this.I(16777216);}this.J(33554432)&&(this.aa&&(d=this.Kk(),$.V(d),d.ja(this.cc),d.O(this.Ma),d.W(),d.da(!1)),this.I(33554432));if(this.J(134217728)){this.ma||(this.ma=this.Ma.path(),this.ma.zIndex(2));a=this.rL().g("stroke");d=$.cc(a);if(!$.ip(a)&&$.n(a)){var e=this.cc.clone();b=e.top;c=b+e.height;var f=e.left;e=f+e.width;var h=$.O((f+e)/2,d),k=$.O((b+c)/2,d);this.ma.clear().moveTo(h,b).lineTo(h,c).moveTo(f,k).lineTo(e,k);}this.ma&&(this.ma.stroke(a),this.ma.clip(this.cc));this.fc=[];a=this.cc.width/2;b=this.cc.height/2;this.fc[0]=$.nn(this.cc.left+a+d/2,this.cc.top,a-d/2,b-d/2);this.fc[1]=$.nn(this.cc.left,this.cc.top,a-d/2,b-d/2);this.fc[2]=$.nn(this.cc.left,this.cc.top+b+d/2,a-d/2,b-d/2);this.fc[3]=$.nn(this.cc.left+a+d/2,this.cc.top+b+d/2,a-d/2,b-d/2);this.B(67108864);this.I(134217728);}if(this.J(67108864)){a=this.yO().vm();for(d=0;d<a.length;d++)if(b=a[d])b.O(this.Ma),b.ja(this.fc[d]),b.W();this.I(67108864);}$.Dr(this.b,this.pf);}};$.g.xO=function(){this.B(67108864,1);};$.g.yO=function(a){this.Ya||(this.Ya=new AA(this),$.W(this,"quarters",this.Ya));return $.n(a)?(this.Ya.N(a),this):this.Ya;};$.g.Lda=function(){this.B(134217732,1);};$.g.rL=function(a){this.ea||(this.ea=new yA(),$.W(this,"crossing",this.ea),$.L(this.ea,this.Lda,this));return $.n(a)?(this.ea.N(a),this):this.ea;};$.g.U=function(a,b){$.BA.u.U.call(this,a,b);this.rL(a.crossing);this.yO(a.quarters);};$.g.dt=function(a,b,c){$.BA.u.dt.call(this,a,b,c);"isVertical"in a&&(this.Hs=!!a.isVertical);this.aa&&this.Kk(a.annotations);$.GA(this,a);this.Wg(a);b=this.Zt();var d=$.n(a)?a:this.na,e=$.n(a);this.em(d.lineAxesMarkers,this.Wm,b,e);this.em(d.rangeAxesMarkers,this.en,b,e);this.em(d.textAxesMarkers,this.kn,b,e);"crosshair"in a&&this.lh().fa(!!c,a.crosshair);"yCrossAxes"in a&&HA(this.pf,a.yCrossAxes);"xCrossAxes"in a&&HA(this.b,a.xCrossAxes);};$.g.Wg=function(a){var b=this.Zt(),c=$.n(a)?a:this.na;a=$.n(a);this.em(c.xAxes,this.Xh,b,a);this.em(c.yAxes,this.jj,b,a);};$.g.F=function(){var a=$.BA.u.F.call(this);a.crossing=this.rL().F();a.quarters=this.yO().F();a.yCrossAxes=IA(this.pf,this.b);a.xCrossAxes=IA(this.b,this.pf);return a;};$.g.ct=function(a,b,c){$.BA.u.ct.call(this,a,b,c);a.isVertical=this.wa();var d=[];$.cA(this,a,"xAxes",this.b,this.wX,b,c,d);$.cA(this,a,"yAxes",this.pf,this.wX,b,c,d);$.cA(this,a,"xGrids",this.Yg,this.iK,b,c,d);$.cA(this,a,"yGrids",this.Zg,this.iK,b,c,d);$.cA(this,a,"xMinorGrids",this.ih,this.iK,b,c,d);$.cA(this,a,"yMinorGrids",this.jh,this.iK,b,c,d);$.cA(this,a,"lineAxesMarkers",this.ng,this.xX,b,c,d);$.cA(this,a,"rangeAxesMarkers",this.qg,this.xX,b,c,d);$.cA(this,a,"textAxesMarkers",this.sg,this.xX,b,c,d);a.crosshair=this.lh().F();};$.g.wX=function(a,b,c,d){var e=a.F();$.dA(e,"scale",a.scale(),b,c);d.push($.oa(a));return e;};$.g.iK=function(a,b,c,d){var e=a.F();$.dA(e,"scale",a.scale(),b,c);if(a=a.axis())d=(0,$.za)(d,$.oa(a)),0>d?("layout"in e||(e.layout=a.Mb()?"horizontal":"vertical"),"scale"in e||$.dA(e,"scale",a.scale(),b,c)):e.axis=d;return e;};$.g.xX=function(a,b,c,d){var e=a.F();a.g3()&&$.dA(e,"scale",a.Lo(),b,c);if(a=a.axis())d=(0,$.za)(d,$.oa(a)),0>d?("layout"in e||(e.layout=a.Mb()?"horizontal":"vertical"),"scale"in e||$.dA(e,"scale",a.scale(),b,c)):e.axis=d;return e;};$.g.R=function(){$.ud(this.b,this.pf,this.ng,this.qg,this.sg,this.Yg,this.Zg,this.ih,this.jh,this.Ya,this.ea,this.td);delete this.b;delete this.pf;this.td=this.ea=this.Ya=this.jh=this.ih=this.Zg=this.Yg=this.sg=this.qg=this.ng=null;$.BA.u.R.call(this);};var pH=$.BA.prototype;pH.isVertical=pH.wa;$.g=$.JA.prototype;$.g.la=function(){return this.index;};$.g.wc=function(){return this.xa;};$.g.get=function(a){return this.xa.data().get(this.index,a);};$.g.set=function(a,b){this.xa.data().set(this.index,a,b);return this;};$.g.kb=function(a){var b=this.wc(),c=$.vx(b.state,$.Ao,this.index);return $.n(a)&&c!=a?(a?b.Uj(this.index):b.Kd(this.index),this):c;};$.g.selected=function(a){var b=this.wc(),c=$.vx(b.state,$.Bo,this.index);return $.n(a)&&c!=a?(a?b.select(this.index):b.he(this.index),this):c;};$.g.gy=function(){return this.index<this.xa.data().Jb();};$.g.Ka=function(a,b){return $.n(a)?$.n(b)?(this.hn[a.toLowerCase()]=b,this):this.hn[a.toLowerCase()]:this.hn;};$.g.Hv=function(){this.xa.Hv();};$.g.Qg=function(a){this.Hv();var b=this.Ka(a);return $.n(b)?b:this.get(a);};var qH=$.JA.prototype;qH.getIndex=qH.la;qH.getChart=qH.wc;qH.get=qH.get;qH.set=qH.set;qH.hovered=qH.kb;qH.selected=qH.selected;qH.exists=qH.gy;qH.getStat=qH.Qg;$.H($.KA,$.JA);$.g=$.KA.prototype;$.g.ef=function(){return this.X;};$.g.get=function(a){a:{var b=this.X,c=this.index;if(b.od){var d=void 0,e=b.od.data[c];if(e)if(c=e.data,a in c)d=c[a];else{e=e.o.rawIndex;b=b.data();if($.n(e))d=b.yf(e);else{a=d;break a;}d=b.Ql(e).dk(d,e,a);c[a]=d;}a=d;}else a=b.data().get(c,a);}return a;};$.g.set=function(a,b){this.X.KX(this.index,a,b);return this;};$.g.tfa=function(){return this.X.kU(this.index);};$.g.ufa=function(){return this.X.lU(this.index);};$.g.selected=function(a){var b=this.ef(),c=$.vx(b.state,$.Bo,this.index);return $.n(a)&&c!=a?(a?b.select(this.index):b.he(this.index),this):c;};$.g.kb=function(a){var b=this.ef(),c=$.vx(b.state,$.Ao,this.index);return $.n(a)&&c!=a?(a?b.Uj(this.index):b.Kd(this.index),this):c;};$.g.gy=function(){return this.index<this.X.$().Jb();};$.g.Hv=function(){$.KA.u.Hv.call(this);var a=this.xa,b=this.X,c=b.check($.gm|$.$G),d=c?this.get("high")-this.get("low"):this.get("value");this.Ka("index",this.index);$.n(d)&&this.Ka("value",d);var e=this.get("size");if($.ea(a.Ka("dataPlotXSum"))){var f=d/a.Ka("dataPlotXSum");this.Ka("xPercentOfTotal",$.Wm(100*f,2));}$.ea(b.Ka("seriesXSum"))&&(f=d/b.Ka("seriesXSum"),this.Ka("xPercentOfSeries",$.Wm(100*f,2)));$.ea(b.Ka("seriesBubbleSizeSum"))&&(f=e/b.Ka("seriesBubbleSizeSum"),this.Ka("bubbleSizePercentOfSeries",$.Wm(100*f,2)),f=e/a.Ka("dataPlotBubbleSizeSum"),this.Ka("bubbleSizePercentOfTotal",$.Wm(100*f,2)),this.Ka("bubbleSize",e));f=c?b.Ka("catYRangeSumArr_"):b.Ka("catYSumArr_");e=this.get("x");f?(this.Ka("categoryName",e),e=f[this.index],c?(f=d/b.Ka("seriesYRangeSum"),this.Ka("yPercentOfSeries",$.Wm(100*f,2)),f=d/a.Ka("dataPlotYSum"),this.Ka("yPercentOfTotal",$.Wm(100*f,2)),this.Ka("yPercentOfCategory",$.Wm(d/e*100,2)),f=e/a.Ka("dataPlotYSum"),this.Ka("categoryYRangePercentOfTotal",$.Wm(100*f,2)),this.Ka("categoryYRangeSum",e),this.Ka("categoryYRangeMax",b.Ka("catYRangeMaxArr_")[this.index]),this.Ka("categoryYRangeMin",b.Ka("catYRangeMinArr_")[this.index]),this.Ka("categoryYRangeAverage",b.Ka("catYRangeAvgArr_")[this.index]),this.Ka("categoryYRangeMedian",b.Ka("catYRangeMedianArr_")[this.index]),this.Ka("categoryYRangeMode",b.Ka("catYRangeModeArr_")[this.index])):(f=d/b.Ka("seriesYSum"),this.Ka("yPercentOfSeries",$.Wm(100*f,2)),f=d/a.Ka("dataPlotYSum"),this.Ka("yPercentOfTotal",$.Wm(100*f,2)),this.Ka("yPercentOfCategory",$.Wm(d/e*100,2)),f=e/a.Ka("dataPlotYSum"),this.Ka("categoryYPercentOfTotal",$.Wm(100*f,2)),this.Ka("categoryYSum",e),this.Ka("categoryYMax",b.Ka("catYMaxArr_")[this.index]),this.Ka("categoryYMin",b.Ka("catYMinArr_")[this.index]),this.Ka("categoryYAverage",b.Ka("catYAvgArr_")[this.index]),this.Ka("categoryYMedian",b.Ka("catYMedianArr_")[this.index]),this.Ka("categoryYMode",b.Ka("catYModeArr_")[this.index]))):(f=e/b.Ka("seriesXSum"),this.Ka("xPercentOfSeries",$.Wm(100*f,2)),f=d/b.Ka("seriesYSum"),this.Ka("yPercentOfSeries",$.Wm(100*f,2)),f=e/a.Ka("dataPlotXSum"),this.Ka("xPercentOfTotal",$.Wm(100*f,2)),f=d/a.Ka("dataPlotYSum"),this.Ka("yPercentOfTotal",$.Wm(100*f,2)));};var rH=$.KA.prototype;rH.get=rH.get;rH.set=rH.set;rH.hovered=rH.kb;rH.selected=rH.selected;rH.getSeries=rH.ef;rH.getStackValue=rH.tfa;rH.getStackZero=rH.ufa;rH.exists=rH.gy;$.H(LA,$.KA);LA.prototype.b=function(){return this.X.D1?Math.abs(this.X.D1(this.index)):Math.abs(this.X.data().o(this.index,"size"));};var sH=LA.prototype;sH.getPixelRadius=sH.b;$.WG={};$.sB=2048;$.$G=16384;$.gm=65536;$.H($.OA,$.nd);$.g=$.OA.prototype;$.g.TE=$.ia;$.g.type=0;$.g.flags=0;$.g.Lp=["value"];$.g.Cl="value";$.g.Fh={};$.g.mh=function(a,b){var c=this.X.check(32768),d=this.X.check($.gm),e=this.X.check(8),f=this.X.eh(),h={},k="hatchFill",l="stroke",m="fill",p=e?"stroke":"path";d?(a>b?this.Ed&&(p="high",k="highHatchFill"):this.Od&&(p="low",k="lowHatchFill"),h.path=p,h.pe=k):f?(this.X.gh()||(this.ba?a<this.aa&&(p="negative",k="negativeHatchFill"):this.Ha&&(a>b||(0,window.isNaN)(b)?(p="rising",k="risingHatchFill"):a<b&&(p="falling",k="fallingHatchFill"))),e?h.stroke=p:(h.path=p,h.pe=k)):(this.X.gh()||(this.ba?a<this.aa&&(l="negativeStroke",m="negativeFill",k="negativeHatchFill"):this.Ha&&(a>b||(0,window.isNaN)(b)?(l="risingStroke",m="risingFill",k="risingHatchFill"):a<b&&(l="fallingStroke",m="fallingFill",k="fallingHatchFill"))),h.stroke=l,c||(h.fill=m,h.pe=k));return h;};$.g.Ce=function(){return this.Lp;};$.g.Dd=function(a,b){if(null!=this.X.Ei().g("point"))this.un=this.kea,this.TE=this.cla;else{a:{var c=this.Fh;for(var d in c){var e=a.f[d];if(!e||e.Pb!=c[d]){c=!1;break a;}}c=!0;}if(c)this.un=this.lea,this.TE=this.MB;else{$.il(300,null,[this.X.name(),this.X.jk(),this.Fh]);this.un=$.ia;return;}}this.bd=a;this.G=!1;this.Ba=!!(this.flags&16)&&!!this.X.g("connectMissingPoints");this.Dc=this.X.ek();this.j=this.X.wu;this.wa=this.X.g("isVertical");this.uv=$.n(b)?b:2.5<this.X.k0-this.j&&10<this.j;c=this.X.Ei();d=this.X;TA(c.g("start"),d);this.aa=this.X.jf.g("baseline");this.mf=!!this.X.sl()&&this.X.sl().Nx();c=this.X.Pa();this.ba=$.n(c.md("negativeStroke"))||$.n(c.md("negativeFill"));this.Ha=$.n(c.md("risingStroke"))||$.n(c.md("fallingStroke"))||$.n(c.md("risingFill"))||$.n(c.md("fallingFill"));this.rc=$.n(c.md("highFill"));this.Tc=$.n(c.md("lowFill"));this.Ed=$.n(c.md("highStroke"))||this.rc;this.Od=$.n(c.md("lowStroke"))||this.Tc;this.prevValue=window.NaN;};$.g.kea=function(a,b){var c=this.X.Ei(),d=this.X;TA(c.g("point"),d,a,b);};$.g.lea=function(a,b){if(a.o("missing"))this.hA(a,b|this.Dc),this.G=this.G&&this.Ba;else{if(this.mf){var c=$.n(a.o("category"))?a.o("category"):a.la();this.j=this.X.ky(c);}this.G?this.tg(a,b|this.Dc):this.Mo(a,b|this.Dc);this.G=!0;}};$.g.Nl=function(){if(this.un!=$.ia){null!=this.X.Ei().g("point")||this.Hm();var a=this.X.Ei(),b=this.X;TA(a.g("finish"),b);}};$.g.Mo=function(a,b){this.tg(a,b);};$.g.tg=function(){};$.g.hA=function(){this.Ba||this.Hm();};$.g.Hm=function(){};$.g.MB=function(a,b){this.X.eh()||(dB(this.bd,b,a.o("shapeNames")),this.bd.LB(b,a.o("shapeNames")));};$.g.cla=function(a,b){var c=this.X.Ei(),d=this.X;TA(c.g("updatePoint"),d,a,b,!0);};$.g.vt=function(){};$.g.lK=function(){};$.g.R=function(){this.bd=this.X=null;$.OA.u.R.call(this);};var eea;eea=10*1E-6;$.tH={name:"fill",Pb:"path",Wb:"fill",Xb:null,Zb:!0,Gb:!1,zIndex:0};$.uH={name:"stroke",Pb:"path",Wb:null,Xb:"stroke",Zb:!0,Gb:!1,zIndex:2E-6};$.vH={name:"negative",Pb:"path",Wb:null,Xb:"negativeStroke",Zb:!0,Gb:!1,zIndex:2E-6};$.wH={name:"hatchFill",Pb:"path",Wb:"hatchFill",Xb:null,Zb:!0,Gb:!0,zIndex:1E-6};$.xH={name:"lowHatchFill",Pb:"path",Wb:"lowHatchFill",Xb:null,Zb:!0,Gb:!0,zIndex:1E-6};$.yH={name:"highHatchFill",Pb:"path",Wb:"highHatchFill",Xb:null,Zb:!0,Gb:!0,zIndex:1E-6};$.zH={name:"circle",Pb:"circle",Wb:"fill",Xb:"stroke",Zb:!0,Gb:!1,zIndex:0};$.AH={name:"hatchFill",Pb:"circle",Wb:"hatchFill",Xb:null,Zb:!0,Gb:!0,zIndex:1E-6};$.BH={name:"negativeFill",Pb:"path",Wb:"negativeFill",Xb:null,Zb:!0,Gb:!1,zIndex:0};$.CH={name:"negativeStroke",Pb:"path",Wb:null,Xb:"negativeStroke",Zb:!0,Gb:!1,zIndex:2E-6};$.DH={name:"negative",Pb:"circle",Wb:"negativeFill",Xb:"negativeStroke",Zb:!0,Gb:!1,zIndex:0};$.EH={name:"negative",Pb:"path",Wb:"negativeFill",Xb:"negativeStroke",Zb:!0,Gb:!1,zIndex:0};$.FH={name:"negativeHatchFill",Pb:"circle",Wb:"negativeHatchFill",Xb:null,Zb:!0,Gb:!0,zIndex:1E-6};$.GH={name:"rising",Pb:"path",Wb:"risingFill",Xb:"risingStroke",Zb:!0,Gb:!1,zIndex:0};$.HH={name:"rising",Pb:"path",Wb:null,Xb:"risingStroke",Zb:!0,Gb:!1,zIndex:2E-6};$.IH={name:"risingStroke",Pb:"path",Wb:null,Xb:"risingStroke",Zb:!0,Gb:!1,zIndex:2E-6};$.JH={name:"risingFill",Pb:"path",Wb:"risingFill",Xb:null,Zb:!0,Gb:!1,zIndex:0};$.KH={name:"risingHatchFill",Pb:"path",Wb:"risingHatchFill",Xb:null,Zb:!0,Gb:!0,zIndex:1E-6};$.LH={name:"falling",Pb:"path",Wb:"fallingFill",Xb:"fallingStroke",Zb:!0,Gb:!1,zIndex:0};$.MH={name:"falling",Pb:"path",Wb:null,Xb:"fallingStroke",Zb:!0,Gb:!1,zIndex:2E-6};$.NH={name:"fallingStroke",Pb:"path",Wb:null,Xb:"fallingStroke",Zb:!0,Gb:!1,zIndex:2E-6};$.OH={name:"fallingFill",Pb:"path",Wb:"fallingFill",Xb:null,Zb:!0,Gb:!1,zIndex:0};$.PH={name:"fallingHatchFill",Pb:"path",Wb:"fallingHatchFill",Xb:null,Zb:!0,Gb:!0,zIndex:1E-6};$.QH={name:"negativeHatchFill",Pb:"path",Wb:"negativeHatchFill",Xb:null,Zb:!0,Gb:!0,zIndex:1E-6};$.RH={name:"highFill",Pb:"path",Wb:"highFill",Xb:null,Zb:!0,Gb:!1,zIndex:0};$.SH={name:"highStroke",Pb:"path",Wb:null,Xb:"highStroke",Zb:!0,Gb:!1,zIndex:2E-6};$.TH={name:"high",Pb:"path",Wb:"highFill",Xb:"highStroke",Zb:!0,Gb:!1,zIndex:0};$.UH={name:"low",Pb:"path",Wb:"lowFill",Xb:"lowStroke",Zb:!0,Gb:!1,zIndex:0};$.VH={name:"lowFill",Pb:"path",Wb:"lowFill",Xb:null,Zb:!0,Gb:!1,zIndex:0};$.WH={name:"lowStroke",Pb:"path",Wb:null,Xb:"lowStroke",Zb:!0,Gb:!1,zIndex:2E-6};$.XH={name:"path",Pb:"path",Wb:"fill",Xb:"stroke",Zb:!0,Gb:!1,zIndex:0};$.YH={name:"front",Pb:"path",Wb:null,Xb:"stroke",Zb:!0,Gb:!1,zIndex:5*1E-6};var AB,Vz,Tca,Xz;$.XG=8388608;AB=2;Vz=4;Tca=6;Xz=7;$.H(QA,$.U);QA.prototype.ra=0;QA.prototype.pa=7;QA.prototype.dx=function(a){return $.n(a)?(this.b=$.A(a)?(0,$.Wa)(a,function(a){return{name:String(a.name),Pb:String(a.shapeType),Wb:a.fillName,Xb:a.strokeName,Zb:!!a.canBeHoveredSelected,Fk:!!a.scrollerSelected,Gb:!!a.isHatchFill,zIndex:+a.zIndex||0};}):null,this.va(2),this):(0,$.Wa)(this.b||this.Ra.yh.Kb,function(a){return{name:a.name,shapeType:a.Pb,fillName:a.Wb,strokeName:a.Xb,canBeHoveredSelected:a.Zb,scrollerSelected:a.Fk,isHatchFill:a.Gb,zIndex:a.zIndex};});};var ZH={};$.wq(ZH,[[0,"start",$.kr],[0,"point",$.kr],[0,"updatePoint",$.kr],[0,"finish",$.kr],[0,"needsZero",$.Hq],[0,"needsWidth",$.Hq],[0,"yValues",$.jr]]);$.S(QA,ZH);$.g=QA.prototype;$.g.oh=function(a){return null!=this.Oa[a];};$.g.F=function(){var a=QA.u.F.call(this);$.Xq(this,ZH,a,"Series Rendering Settings");this.b&&(a.shapes=this.dx());return a;};$.g.U=function(a,b){QA.u.U.call(this,a);$.Pq(this,ZH,a,b);var c=a.shapes;$.n(c)&&this.dx(c);};$.g.Je=function(a,b){return $.E(b)?(this.point(b),!0):!1;};$.g.R=function(){QA.u.R.call(this);this.b=this.Ra=null;};SA.prototype.dd=function(a,b,c){if(c){var d={};for(var e=0;e<c.length;e++)d[c[e]]=!0;}return this.series.Lf.dd(a||$.hm,d,b);};SA.prototype.Qg=function(a){var b=this.series;b.xa.Hv();return b.Ka(a);};$.H(RA,SA);RA.prototype.f=function(a){return this.b.get(a);};RA.prototype.kU=function(){var a=this.b.o("stackedValue");return $.n(a)?a:this.b.get("value");};RA.prototype.lU=function(){var a=this.b.o("stackedZero");return $.n(a)?a:0;};var $H=QA.prototype;$H.shapes=$H.dx;$H=SA.prototype;$H.getShapesGroup=$H.dd;$H.getStat=$H.Qg;$H=RA.prototype;$H.getDataValue=$H.f;$H.getStackedValue=$H.kU;$H.getStackedZero=$H.lU;$.H($.VA,$.nd);$.g=$.VA.prototype;$.g.aP=function(a,b,c){a&&(b?delete a.tag:a.tag={X:this.X,index:c},a.Fd(b));};$.g.sv=function(){var a,b;for(a in this.i){var c=this.i[a];for(b=0;b<c.length;b++){var d=c[b];d.parent(null);$.J(d,$.Cg)&&(d.clear(),d.nc(1,0,0,1,0,0));}this.G[a]=0;c.length=0;}};$.g.dd=function(a,b,c,d){return $.ZA(this,a,b,c,d);};$.g.pF=ba(27);$.g.wt=function(a,b){if($.A(b))for(var c=0;c<b.length;c++)this.wt(a,b[c]);else if(b)for(c in b)b[c].zIndex(this.f[c].zIndex+a);};$.g.Fm=function(a,b){if($.A(b))for(var c=0;c<b.length;c++)$A(this,a,b[c]);else b&&$A(this,a,b);};$.g.Xr=function(a){for(var b in this.i)for(var c=this.i[b],d=0;d<c.length;d++)c[d].clip(a);};$.g.R=function(){for(var a in this.D)$.ud(this.D[a]),this.D[a].length=0,this.i[a].length=0;this.f=this.Ad=null;$.VA.u.R.call(this);};$.H($.aB,$.VA);$.aB.prototype.dd=function(a,b,c,d){var e=this.X.$();c=c||0;this.X.eh()&&this.X.ht()&&(c+=Number(e.o("stateZIndex"))||Number(e.get("zIndex"))||0);a=$.aB.u.dd.call(this,a,b,c,d);e.o(this.P,a);return a;};$.aB.prototype.wt=function(a,b){var c=this.X.$();a+=this.X.ht()&&Number(c.get("zIndex"))||0;$.aB.u.wt.call(this,a,b);};$.aB.prototype.LB=function(a,b){var c=this.X.$(),d,e,f;for(f in b){var h=this.f[f];if(h&&!h.Gb){var k=h.fill(this.X,+a,void 0,void 0,"fill");h=h.stroke(this.X,+a,void 0,void 0,"stroke");k&&$.em(k)&&(d=k);h&&$.em(h)&&(e=h);}}c.o("markerFill",d);c.o("markerStroke",e);};$.H($.bB,$.VA);$.g=$.bB.prototype;$.g.aP=function(a,b){$.bB.u.aP.call(this,a,b,!0);};$.g.sv=function(){$.bB.u.sv.call(this);this.j={};};$.g.dd=function(a,b){var c=dB(this,a,b),d=this.X.$(),e=d.la();this.b=this.j[c];if(!this.b){var f=$.bB.u.dd.call(this,a,b);this.b=this.j[c]={dx:[f],rows:[],fV:[]};(0,window.isNaN)(e)||(this.b.fV.push(e),this.b.rows.push(d.current()));}return this.b.dx[this.b.dx.length-1];};$.g.pF=ba(26);$.g.wt=function(a){var b=this.X.$().current(),c=this.X.$().la(),d;for(d in this.j)for(var e=this.j[d],f=e.rows,h=0,k=f.length;h<k;h++){this.X.$().Gu(f[h],e.fV[h]);for(var l=e.dx,m=0;m<l.length;m++)$.bB.u.wt.call(this,a,l[m]);}b&&this.X.$().Gu(b,c);};$.g.Fm=function(a){var b=this.X.$().current();this.K=this.X.$().la();for(var c in this.j)for(var d=this.j[c],e=d.rows,f=0,h=e.length;f<h;f++){this.X.$().Gu(e[f],d.fV[f]);for(var k=d.dx,l=0;l<k.length;l++)$.bB.u.Fm.call(this,a,k[l]);}b&&this.X.$().Gu(b,this.K);this.K=void 0;};$.g.LB=function(a,b){var c=this.X.$(),d=c.la();d=$.n(this.K)?this.K:d;if(b&&0<=d){var e,f,h;for(h in b){var k=this.f[h];k&&!k.Gb&&(d=k.fill(this.X,a,void 0,void 0,"fill"),k=k.stroke(this.X,a,void 0,void 0,"stroke"),d&&$.em(d)&&(e=d),k&&$.em(k)&&(f=k));}c.o("markerFill",e);c.o("markerStroke",f);}};$.g.R=function(){this.j=null;$.bB.u.R.call(this);};$.H(eB,$.U);$.g=eB.prototype;$.g.pa=5;$.g.ra=16;$.g.mode=function(a){return $.n(a)?(a=$.Ak(zda,a,"both"),this.Bm!=a&&(this.Bm=a,this.va(5)),this):this.Bm;};$.g.ZE=function(a){return $.n(a)?(a=$.Do(a),this.ba!=a&&(this.ba=a,this.j=this.i=void 0,this.va(5)),this):this.ba;};$.g.aF=function(a){return $.n(a)?(a=$.Do(a),this.j!=a&&(this.j=a,this.va(5)),this):this.j;};$.g.$E=function(a){return $.n(a)?(a=$.Do(a),this.i!=a&&(this.i=a,this.va(5)),this):this.i;};$.g.UE=function(a){return $.n(a)?(a=$.Do(a),this.K!=a&&(this.K=a,this.f=this.b=void 0,this.va(5)),this):this.K;};$.g.YE=function(a){return $.n(a)?(a=$.Do(a),this.f!=a&&(this.f=a,this.va(5)),this):this.f;};$.g.VE=function(a){return $.n(a)?(a=$.Do(a),this.b!=a&&(this.b=a,this.va(5)),this):this.b;};$.g.XP=function(a){return $.n(a)?(a=$.N(a),(0,window.isNaN)(a)||this.aa==a||(this.aa=a,this.va(1)),this):this.aa;};$.g.RP=function(a){return $.n(a)?(a=$.N(a),(0,window.isNaN)(a)||this.G==a||(this.G=a,this.va(1)),this):this.G;};$.g.RJ=function(a,b,c,d,e){if($.n(a)){var f=$.E(a)?a:$.Zb.apply(null,arguments);f!=this.P&&(this.P=f,this.va(1));return this;}return this.P;};$.g.JJ=function(a,b,c,d,e){if($.n(a)){var f=$.E(a)?a:$.Zb.apply(null,arguments);f!=this.D&&(this.D=f,this.va(1));return this;}return this.D;};$.g.ZS=function(a,b,c,d,e,f,h,k){if(fB(a)){a=b?e:d;var l=h!=(b?d:e);d=k!=(b?d:e);e=b?this.XP():this.RP();b^c?(b=e||0,l&&f.moveTo(h,a-b/2).lineTo(h,a+b/2),f.moveTo(h,a).lineTo(k,a),d&&f.moveTo(k,a-b/2).lineTo(k,a+b/2)):(b=e||0,l&&f.moveTo(a-b/2,h).lineTo(a+b/2,h),f.moveTo(a,h).lineTo(a,k),d&&f.moveTo(a-b/2,k).lineTo(a+b/2,k));}};$.g.W=function(a,b){var c=a?this.Ra.sl():this.Ra.ab(),d=this.Ra.$(),e=d.o("x"),f=d.o("value"),h=$.N(a?d.get("x"):d.get("value")),k=this.TT(a),l=this.Ra,m=l.$().la();d=l.TC.length?l.TC.pop():$.rk().zIndex(4E-6);l.za.gc(d);l.Lf.aP(d,l.check(524288),m);d.stroke(k);d.fill(null);l.lA.push(d);k=this.rs(a);l=k[0];k=k[1];if(0!==l||0!==k)l?(l=c.transform(h-l),l=this.Ra.Qe(l,a)):l=a?e:f,k?(h=c.transform(h+k),h=this.Ra.Qe(h,a)):h=a?e:f,this.ZS(c,a,b,e,f,d,l,h);};$.g.TT=function(a){a=this.Ra.TT(a);$.C(a)&&"keys"in a&&!$.C(a.mode)&&(a.mode=this.Ra.ob());return a;};$.g.rs=function(a){if(!Yz(this.Ra))return[0,0];a=a?"x":"value";var b=a+"Error",c=a+"LowerError",d=a+"UpperError",e=this.Ra.$();b=e.get(b)||this[b]();c=e.get(c)||this[c]();d=e.get(d)||this[d]();var f=$.zo(b)||!$.Io(b),h=$.zo(d)||!$.Io(d)||f;f=$.zo(c)||!$.Io(c)||f;a=e.get(a);b=$.M(b,a);c=f?c?$.M(c,a):b/2:0;d=h?d?$.M(d,a):b/2:0;return[c,d];};$.g.F=function(){var a=eB.u.F.call(this);a.mode=this.mode();a.xError=this.ZE();$.n(this.aF())&&(a.xUpperError=this.aF());$.n(this.$E())&&(a.xLowerError=this.$E());a.valueError=this.UE();$.n(this.YE())&&(a.valueUpperError=this.YE());$.n(this.VE())&&(a.valueLowerError=this.VE());a.xErrorWidth=this.XP();a.valueErrorWidth=this.RP();$.E(this.xErrorStroke)&&($.E(this.RJ())?$.kl(8,null,["x error stroke"]):a.xErrorStroke=$.Sl(this.RJ()));$.E(this.valueErrorStroke)&&($.E(this.JJ())?$.kl(8,null,["value error stroke"]):a.valueErrorStroke=$.Sl(this.JJ()));return a;};$.g.Xd=function(a){return $.z(a)||$.ea(a)||null===a?{xError:a,valueError:a}:$.da(a)?{mode:a}:null;};$.g.Je=function(a,b){var c=this.Xd(b);return c?("xError"in c?($.V(this),this.ZE(c.xError),this.UE(c.valueError),this.da(!0)):"mode"in c&&(c.mode?this.mode("both"):this.mode("none")),!0):!1;};$.g.U=function(a,b){eB.u.U.call(this,a,b);this.mode($.n(a.mode)||"none"!=this.Bm?a.mode:"both");this.ZE(a.xError);this.aF(a.xUpperError);this.$E(a.xLowerError);this.UE(a.valueError);this.YE(a.valueUpperError);this.VE(a.valueLowerError);this.XP(a.xErrorWidth);this.RP(a.valueErrorWidth);this.RJ(a.xErrorStroke);this.JJ(a.valueErrorStroke);};var aI=eB.prototype;aI.mode=aI.mode;aI.xError=aI.ZE;aI.xUpperError=aI.aF;aI.xLowerError=aI.$E;aI.valueError=aI.UE;aI.valueUpperError=aI.YE;aI.valueLowerError=aI.VE;aI.xErrorWidth=aI.XP;aI.valueErrorWidth=aI.RP;aI.xErrorStroke=aI.RJ;aI.valueErrorStroke=aI.JJ;$.H($.gB,wv);var bI={};$.vq(bI,0,"text",$.er);$.S($.gB,bI);$.g=$.gB.prototype;$.g.reset=function(){this.Oa={};this.cq=this.lp=this.ew=this.dw=this.gw=this.ZU=this.$U=this.YU=this.bV=this.Cs=this.aV=void 0;};$.g.xD=function(a){return $.n(a)?(a=$.Io(a)?5:+a,this.aV!=a&&(this.aV=a,this.va(1)),this):this.aV;};$.g.yy=function(a){return $.n(a)?(a=!!a,this.Cs!=a&&(this.Cs=a,this.va(1)),this):this.Cs;};$.g.yD=function(a){return $.n(a)?($.z(a)&&(a=$.Vk(a)),this.bV!=a&&(this.bV=a,this.va(1)),this):this.bV;};$.g.Ds=function(a,b,c,d,e,f,h){if($.n(a)){var k=null===a||$.E(a)?a:$.Xb.apply(null,arguments);k!=this.YU&&(this.YU=k,this.va(1));return this;}return this.YU;};$.g.Fs=function(a,b,c,d,e){if($.n(a)){var f=null===a||$.E(a)?a:$.Zb.apply(null,arguments);f!=this.$U&&(this.$U=f,this.va(1));return this;}return this.$U;};$.g.Es=function(a,b,c,d){if($.n(a)){var e=$.E(a)?a:$.ac.apply(null,arguments);e!=this.ZU&&(this.ZU=e,this.va(1));return this;}return this.ZU;};$.g.fw=function(a){return $.n(a)?($.E(a)||(a=$.Ok(a)),this.gw!=a&&(this.gw=a,this.va(1)),this):this.gw;};$.g.eu=function(a,b,c,d,e,f,h){if($.n(a)){var k=$.Xb.apply(null,arguments);this.dw!=k&&(this.dw=k,this.va(1));return this;}return this.dw;};$.g.fu=function(a,b,c,d,e){if($.n(a)){var f=$.Zb.apply(null,arguments);this.ew!=f&&(this.ew=f,this.va(1));return this;}return this.ew;};$.g.hw=function(a){return $.n(a)?(a=$.N(a),this.lp!=a&&(this.lp=a,this.va(1)),this):this.lp;};$.g.format=function(a){return this.text(a);};$.g.disabled=function(a){return $.n(a)?(a=!!a,this.cq!=a&&(this.cq=a,this.va(1)),this):this.cq;};$.g.F=function(){var a=$.gB.u.F.call(this);$.Xq(this,XF,a,"Legend Item Settings");$.n(this.xD())&&(a.iconTextSpacing=this.xD());$.n(this.yy())&&(a.iconEnabled=this.yy());$.n(this.hw())&&(a.iconSize=this.hw());$.z(this.yD())&&(a.iconType=this.yD());$.z(this.fw())&&(a.iconMarkerType=this.fw());$.n(this.disabled())&&(a.disabled=this.disabled());$.n(this.Ds())&&!$.E(this.Ds())&&(a.iconFill=$.Sl(this.Ds()));$.n(this.Fs())&&!$.E(this.Fs())&&(a.iconStroke=$.Sl(this.Fs()));$.n(this.Es())&&!$.E(this.Es())&&(a.iconHatchFill=$.Sl(this.Es()));$.n(this.eu())&&!$.E(this.eu())&&(a.iconMarkerFill=this.eu());$.n(this.fu())&&!$.E(this.fu())&&(a.iconMarkerStroke=this.fu());return a;};$.g.U=function(a,b){$.V(this);$.gB.u.U.call(this,a,b);b?$.Lq(this.na,bI,a):$.Pq(this,bI,a);this.xD(a.iconTextSpacing);this.yy(a.iconEnabled);this.yD(a.iconType);this.Fs(a.iconStroke);this.Ds(a.iconFill);this.Es(a.iconHatchFill);this.fw(a.iconMarkerType);this.eu(a.iconMarkerFill);this.fu(a.iconMarkerStroke);this.hw(a.iconSize);this.disabled(a.disabled);this.da(!0);};var cI=$.gB.prototype;cI.iconTextSpacing=cI.xD;cI.iconEnabled=cI.yy;cI.iconType=cI.yD;cI.iconFill=cI.Ds;cI.iconStroke=cI.Fs;cI.iconHatchFill=cI.Es;cI.iconMarkerType=cI.fw;cI.iconMarkerFill=cI.eu;cI.iconMarkerStroke=cI.fu;cI.iconSize=cI.hw;cI.format=cI.format;cI.disabled=cI.disabled;$.H($.Dx,$.yu);$.Kq($.Dx,"fill negativeFill risingFill fallingFill stroke lowStroke highStroke lowFill highFill negativeStroke risingStroke fallingStroke medianStroke stemStroke whiskerStroke hatchFill negativeHatchFill risingHatchFill fallingHatchFill highHatchFill lowHatchFill whiskerWidth type size".split(" "),"normal");$.Dx.prototype.ra=$.yu.prototype.ra|130976;$.Dx.prototype.pa=$.yu.prototype.pa|2132;$.Dx.prototype.nQ=eea;$.Dx.prototype.jF={"%BubbleSize":"size","%RangeStart":"low","%RangeEnd":"high","%XValue":"x"};var nB={};$.g=$.Dx.prototype;$.g.i0=!0;$.g.mW=window.NaN;$.g.M3=window.NaN;$.g.UO=window.NaN;$.g.TO=window.NaN;$.g.nW=window.NaN;$.g.N3=window.NaN;$.g.La=function(){return this.qe;};$.g.jk=function(a){return $.n(a)?((a=this.xa.Sv(a))&&a[0]!=this.qe&&(this.qe=a[0],this.Kz(a[1],!1),this.B(5664,this.pa)),this):this.qe;};$.g.nU=function(){var a=$.E(this.wc().pN)&&this.wc().pN();return this.jf.hs().g2(this.qe,a);};$.g.Kz=function(a,b){var c=new $.WG[a.Db](this);this.yh&&this.za&&(!this.check(4)&&this.check(4,a,c)?($.pd(this.za),this.za=null):this.check(4)&&!this.check(4,a,c)&&(this.za=null));this.yh=a;this.ou=this.Ou=null;$.pd(this.bf);this.bf=c;$.V(this);this.jE();$.E(this.jf.hs().g2)?(this.df(),this.Fa(this.nU())):this.na=this.jf.hs()[$.qm(this.qe)]||{};this.ca.df();$.W(this,"normal",this.ca);yy(this.ca);this.ca.fa(!0,{});this.ya.df();$.W(this,"hovered",this.ya);yy(this.ya);this.ya.fa(!0,{});this.Da.df();$.W(this,"selected",this.Da);yy(this.Da);this.Da.fa(!0,{});this.check(256)?this.GH={}:this.GH&&delete this.GH;this.Ld.xPointPosition=.5;this.lC(this.na,!0,!0,b);this.da(!1);c=this.Au;c.na=this.na.rendering||{};c.na.needsZero=c.Ra.check(1);c.na.needsWidth=c.Ra.check(1024);c.na.yValues=$.Ja(c.Ra.bf.Ce(),0);$.hB(this);};$.g.jE=function(){$.pd(this.Lf);var a=this.Au;this.Lf=new(2==this.yh.Ib?$.aB:$.bB)(this,a.b||a.Ra.yh.Kb,this.check(524288),null,this.yh.Hb,this.bq);};$.g.lC=function(a,b,c,d){Yz(this)&&this.error().fa(!!c,a.error);b&&this.Is().reset();this.Is().fa(!!c,a.legendItem);"tooltip"in a&&this.Sa().fa(!!c,a.tooltip);$.n(d)||(d=c);d&&(this.clip(a.clip),this.zIndex(a.zIndex));this.rt().fa(!!c,a.a11y||this.na.a11y);};$.g.Eja=function(a){var b=1024,c=1;$.X(a,4)&&(c|=4);$.X(a,2)&&(b|=32768);this.B(b,c);};$.g.la=function(){return this.ld?-1:(0,$.za)(this.jf.Te(),this);};$.g.wh=function(a){return $.n(a)?(this.Uq=a,this):this.Uq;};$.g.id=function(a){return $.n(a)?(a=String(a),this.fe!=a&&(this.fe=a,this.va(64)),this):this.fe||String(this.Uq);};$.g.Y3=function(){this.va(64);this.xa.g("categorizedBySeries")&&this.sl().va(4);};$.g.name=function(a){return $.n(a)?(a=String(a),this.Br!=a&&(this.Br=a,this.Y3()),this):this.Br||"Series "+this.la();};$.g.o=function(a,b){this.Ai||(this.Ai={});if($.n(a)){if($.n(b)){var c=this.Ai[a];$.n(c)&&c==b||(this.Ai[a]=b);return this;}return $.C(a)?(this.Ai!=a&&(this.Ai=a),this):this.Ai[a];}return this.Ai;};$.g.iN=function(a,b,c){return new $.oy(a,b,c,void 0);};$.g.I3=function(a){$.uy.call(this,a);a.I(4294967295);};$.g.J3=function(a){$.vy.call(this,a);a.I(4294967295);};$.g.IH=function(){var a={};$.Q(a,[["fill",3072,65,4294967295],["negativeFill",3072,65,4294967295],["risingFill",3072,65,4294967295],["fallingFill",3072,65,4294967295],["stroke",3072,65,4294967295],["lowStroke",2048,65,4294967295],["highStroke",2048,65,4294967295],["lowFill",2048,65,4294967295],["highFill",2048,65,4294967295],["negativeStroke",3072,65,4294967295],["risingStroke",3072,65,4294967295],["fallingStroke",3072,65,4294967295],["medianStroke",2048,65,4294967295],["stemStroke",2048,65,4294967295],["whiskerStroke",2048,65,4294967295],["hatchFill",3072,65,4294967295],["negativeHatchFill",2048,65,4294967295],["risingHatchFill",2048,65,4294967295],["fallingHatchFill",2048,65,4294967295],["highHatchFill",2048,65,4294967295],["lowHatchFill",2048,65,4294967295],["whiskerWidth",1024,1,256],["type",1024,65,8192],["size",1024,1,8192],["labels",0,0],["minLabels",0,0],["maxLabels",0,0],["markers",0,0],["outlierMarkers",0,0]]);this.ca=this.iN(this,a,$.hm);this.ca.sa("labelsAfterInitCallback",$.uy);this.ca.sa("markersAfterInitCallback",$.vy);this.ca.sa("outlierMarkersAfterInitCallback",Mca);a={};$.Q(a,iB());this.ya=this.iN(this,a,$.Ao);this.ya.sa("labelsFactoryConstructor",$.qy);this.ya.sa("markersFactoryConstructor",$.ty);this.ya.sa("labelsAfterInitCallback",this.I3);this.ya.sa("markersAfterInitCallback",this.J3);a={};$.Q(a,iB());this.Da=this.iN(this,a,$.Bo);this.Da.sa("labelsFactoryConstructor",$.qy);this.Da.sa("markersFactoryConstructor",$.ty);this.Da.sa("labelsAfterInitCallback",this.I3);this.Da.sa("markersAfterInitCallback",this.J3);};$.g.check=function(a,b,c){return!!(a&(b||this.yh).Bb|a&(c||this.bf).flags);};$.g.ht=function(){return this.check(1048576);};$.g.vP=function(){return this.check(32);};$.g.bL=function(){return!0;};$.g.yk=function(){return this.check(2);};$.g.op=function(){return!!this.Au.g("needsWidth");};$.g.TN=function(){return!0;};$.g.eh=function(){return this.check(512);};$.g.$i=function(){return!0;};$.g.ku=ba(14);$.g.B2=function(){return this.gh();};$.g.ZG=function(){var a=0;if(this.op()){a=this.TG("pointWidth");a=$.M(a,this.ky());var b=this.TG("maxPointWidth");null!=b&&(b=$.M(b,this.ky()),a=Math.min(a,b));}return a;};$.g.Ah=function(){return this.MF||$.ac("diagonal-brick");};$.g.kr=function(){return this.pa;};$.g.Iq=function(a){this.Ld.color=a;this.ca.Eb().eJ(this.Wv());this.ca.Eb().fJ(this.oy());this.ca.cl().eJ($.n(void 0)?void 0:$.dm("fill",1,!1)(this,$.hm,!0));this.ca.cl().fJ($.Rl(this.Pa().cl().fill()));};$.g.ax=function(a){this.MF=$.ac(a);};$.g.Op=function(a,b,c,d){this.$g||(this.$g=new $.Ju(),this.$g.set(0));return $.n(a)?(this.$g.N.apply(this.$g,arguments),this):this.$g;};$.g.SF=function(a){var b=0>a;a=Math.abs(a);a=(a-this.mW)/(this.M3-this.mW);if((0,window.isNaN)(a)||!(0,window.isFinite)(a))a=.5;a=this.nW+a*(this.N3-this.nW);return b?-a:a;};$.g.Ce=function(){return this.Au.g("yValues");};$.g.rl=function(){return this.za;};$.g.wc=function(){return this.xa;};$.g.$=function(){return this.iterator||this.Ac();};$.g.Ac=function(){return this.iterator=this.Xf();};$.g.sl=function(){return this.xa.Qa();};$.g.ab=function(a){if($.n(a)){if(a){if(a=$.mt(this.Cc,a,null,15,null,this.xg,this)){var b=this.Cc==a;this.Cc=a;this.Cc.da(b);b||this.B(1024,5);}}else this.Cc&&(this.Cc&&$.or(this.Cc,this.xg,this),this.Cc=null,this.B(1024,5));return this;}return this.Cc||this.jf.ab();};$.g.xg=function(a){var b=0;$.X(a,4)&&(b|=4);$.X(a,2)?this.B(1024,b|1):this.va(b);};$.g.Hr=function(a,b){return this.Qe(this.sl().transform(a,b),!0);};$.g.Hp=function(a,b){return this.Qe(this.ab().transform(a,b),!1);};$.g.Ei=function(a){return $.n(a)?(this.Au.N(a),this):this.Au;};$.g.error=function(a){Yz(this)||$.kl(12,void 0,[this.jk()]);this.Jv||(this.Jv=new eB(this),$.L(this.Jv,this.yia,this));return $.n(a)?(this.Jv.N(a),this):this.Jv;};$.g.yia=function(a){var b=0;$.X(a,1)&&(b|=1);$.X(a,4)&&(b|=4);this.B(1024,b);};$.g.rs=function(a){return this.error().rs(a);};$.g.TT=function(a){var b=a?this.error().RJ():this.error().JJ();if($.E(b)){var c=this.He();b=$.Zb(b.call(c,c));}if(this.ht()){var d=this.d2(a?"xErrorStroke":"valueErrorStroke");$.E(d)?(c=this.He(b),d=$.Zb(d.call(c,c))):d&&(d=$.Zb(d));}return d||b;};$.g.ZS=function(a){if(a=!a.o("missing")){var b=this.error(),c=b.Ra.$();a=c.get("xError")||b.ZE();var d=c.get("xLowerError")||b.$E(),e=c.get("xUpperError")||b.aF(),f=c.get("valueError")||b.UE(),h=c.get("valueLowerError")||b.VE();b=c.get("valueUpperError")||b.YE();f=$.n(h)||$.n(b)||$.zo(f)||!$.Io(f);a=$.n(d)||$.n(e)||$.zo(a)||!$.Io(a)||f;}if(a)switch(a=this.error(),d=a.mode(),e=this.g("isVertical"),d){case"x":a.W(!0,e);break;case"value":a.W(!1,e);break;case"both":a.W(!0,e),a.W(!1,e);}};$.g.clip=function(a){return $.n(a)?(null===a&&(a=!1),this.eg!=a&&(this.eg=a,this.B(4096,1)),this):this.eg;};$.g.Is=function(a){this.qp||(this.qp=new $.gB(),$.L(this.qp,this.HW,this));return $.n(a)?(this.qp.N(a),this):this.qp;};$.g.HW=function(a){var b=64,c=!1;$.X(a,8)&&(b|=8,c=!0);this.va(b,c);};$.g.hD=function(a){var b=this.Is();b.I(b.ra);var c=wv.prototype.F.call(b);$.n(b.xD())&&(c.iconTextSpacing=b.xD());var d=b.g("text");$.n(d)&&(c.text=d);$.n(b.yy())&&(c.iconEnabled=b.yy());$.n(b.yD())&&(c.iconType=b.yD());$.n(b.hw())&&(c.iconSize=b.hw());$.n(b.Ds())&&(c.iconFill=b.Ds());$.n(b.Fs())&&(c.iconStroke=b.Fs());$.n(b.Es())&&(c.iconHatchFill=b.Es());$.n(b.fw())&&(c.iconMarkerType=b.fw());$.n(b.eu())&&(c.iconMarkerFill=b.eu());$.n(b.fu())&&(c.iconMarkerStroke=b.fu());$.n(b.disabled())&&(c.disabled=b.disabled());b=this.g("color");d=this.FC();a=c.text||a;$.z(a)&&(a=$.Pu($.Nu.Gd(),a));c.text=$.E(a)?a.call(d,d):this.W1(d);c.disabled="disabled"in c?!!c.disabled:!this.enabled();c.meta=this.o();"marker"!=c.iconType||this.check(8192)||(c.iconFill=this.ca.Eb().g("fill"),c.iconStroke=this.ca.Eb().g("stroke"));c.iconType=this.gD(c.iconType,d);c.iconEnabled="iconEnabled"in c?!!c.iconEnabled:!0;c.iconStroke=this.UG(c.iconStroke,2,b,d);c.iconFill=this.UG(c.iconFill,1,b,d);c.iconHatchFill=this.UG(c.iconHatchFill,3,this.Ah(),d);this.check(4194304)&&this.ca.Eb().enabled()?(c.iconMarkerType=c.iconMarkerType||this.ca.Eb().type(),c.iconMarkerFill=c.iconMarkerFill||this.ca.Eb().g("fill"),c.iconMarkerStroke=c.iconMarkerStroke||this.ca.Eb().g("stroke")):(c.iconMarkerType=null,c.iconMarkerFill=null,c.iconMarkerStroke=null);return c;};$.g.gD=function(a){"marker"==a?(this.check(8192)?a=this.g("type"):this.check(4194304)?a=this.ca.Eb().type():a="square","line"==a&&(a="v-line")):$.E(a)||(a=$.Vk(a));return a;};$.g.UG=function(a,b,c){if(a)$.E(a)?(b={sourceColor:c},a=a.call(b,b)):a=$.Sl(a);else{if(2==b)var d="stroke";else if(3==b){if(this.check(8))return null;d="hatchFill";}else this.check(8)?(d="stroke",b=2):d="fill";a=this.ca.g(d);var e=this.ca.na[d];if($.E(a)&&a==e)return b=this.FC([{sourceColor:{value:c,type:"string"}}]),a.call(b,b);a=$.dm(d,b,!1)(this,$.hm,!0);}return a;};$.g.W1=function(){return this.name();};$.g.Sa=function(a){if(!this.nx&&(this.nx=new $.yw(0),this.nx.df(),this.xa.g6())){var b=this.xa,c=b.Sa();this.nx.parent(c);this.nx.xa(b);$.W(this,"tooltip",this.nx);}return $.n(a)?(this.nx.N(a),this):this.nx;};$.g.jd=function(a){if($.n(a)){if(null===a&&this.tb)this.tb=null,this.B(65536,129);else if(a=$.mt(this.tb,a,null,48,null,this.Tp,this)){var b=this.tb==a;this.tb=a;this.tb.da(b);b||this.B(65536,129);}return this;}return this.tb;};$.g.zn=ba(28);$.g.Tp=function(a){$.X(a,6)&&this.B(65536,129);};$.g.Pa=function(a){return $.n(a)?(this.ca.N(a),this):this.ca;};$.g.kb=function(a){return $.n(a)?(this.ya.N(a),this):this.ya;};$.g.selected=function(a){return $.n(a)?(this.Da.N(a),this):this.Da;};$.g.d2=function(a){return this.ht()?this.$().get(a):void 0;};$.g.oh=function(a){return null!=this.Oa[a];};$.g.g=function(a){var b=this.Oa[a];null==b&&(b=this.na[a],null!=b||(b=this.Ld[a]));return b;};$.g.TG=function(a){return null!=this.Oa[a]?this.Oa[a]:null!=this.jf.Oa[a]?this.jf.Oa[a]:null!=this.xa.Oa[a]?this.xa.Oa[a]:null!=this.na[a]?this.na[a]:null!=this.jf.na[a]?this.jf.na[a]:null!=this.xa.na[a]?this.xa.na[a]:this.Ld[a];};$.g.qc=function(a,b,c,d,e,f,h){var k=0==b?this.ca:1==b?this.ya:this.Da;if(h)return d(k.g(a));if(this.ht()){h=c.get(0==b?"normal":1==b?"hovered":"selected");var l=$.dp($.n(h)?h[a]:void 0,c.get($.im(b,a)),k.g(a));}if($.n(l))l=d(l);else{a=f||a;if(a in this.ta&&(l=this.g(a),$.n(l)))return d(l);e&&(k=this.Da);l=k.Oa[a];null==l&&(l=k.na[a],null!=l||b||(l=this.Ld[a]),$.n(l)&&(l=d(l)));}return l;};$.g.O1=function(){return this.O();};$.g.gA=function(a,b,c,d,e,f,h,k,l){var m;var p=h.la();if((0,window.isNaN)(p))return null;f&&((m=this.GH[p])||(m=this.GH[p]=[]));var q;a[0]&&(q=a[0].call(this.ca));var r,t,u,v,w,x,y;if(h.o("missing")||h.o("skipDrawing"))a=!1;else{k=$.fm(k);var B=d&&this.ht();b[0]&&(r=b[0].call(this.xa.ca));var G=q;if(B)var D=(d=h.get("normal"))?d[c[0]]:h.get(c[0]);if(3<a.length&&(b[3]&&(v=b[3].call(this.xa.ca)),a[3]&&(w=a[3].call(this.ca)),B))var K=(d=h.get("normal"))?d[c[3]]:h.get(c[3]);if(k){var P=1==k?"hovered":"selected";b[k]&&(t=b[k].call(this.xa[P]()));a[k]&&(u=a[k].call(this[P]()));if(B)var R=(d=h.get(P))?d[c[0]]:h.get(c[k]);if(3<a.length&&(b[k+3]&&(x=b[k+3].call(this.xa[P]())),a[k+3]&&(y=a[k+3].call(this[P]())),B))var T=(d=h.get(P))?d[c[3]]:h.get(c[k+3]);}T=(0,$.Wa)([D,K,R,T],function(a){!$.C(a)||"enabled"in a||(a=$.Sc(a),a.enabled=!0);return a;});D=T[0];K=T[1];R=T[2];T=T[3];a=Uba($.so([T,0,R,0,y,ro,u,ro,x,ro,t,ro,K,0,D,0,w,ro,G,ro,v,ro,r,ro],"enabled"));}if(a){if(q=e?this.dG():null,a=[G,u,D,R],b=[r,G,D,t,u,R,v,w,K,x,y,T],f){if(e=h.o("x"),this.g("isVertical"))for(p=0;p<f.length;p++)m[p]=this.VL(a,b,m[p],{value:{x:f[p],y:e}},q,l).la();else for(p=0;p<f.length;p++)m[p]=this.VL(a,b,m[p],{value:{x:e,y:f[p]}},q,l).la();}else return m=e?_fp($.so([T,0,R,0,y,$.oo,u,$.oo,x,$.oo,t,$.oo,K,0,D,0,w,$.oo,G,$.oo,v,$.oo,r,$.oo,y,$.po,u,$.po,t,$.po,w,$.po,G,$.po,r,$.po],"position"),"auto"):_fp($.so([R,0,u,ro,D,0,G,ro],"position"),"auto"),f=this.$h(m,!0),this.VL(a,b,p,f,q,l,m);}else if(f)for(p=0;p<m.length;p++)q.clear(m[p]);else q.clear(p);return null;};$.g.N1=function(a){var b=this.g("isVertical");this.ab().Ne()&&(a=!a);return b?a?0:180:a?270:90;};$.g.ZR=function(a){return"low"==a||"lowest"==a?!1:"high"==a||"highest"==a?!0:0<=(Number(this.$().get(a))||0);};$.g.d5=function(a){return $.Po(a,180);};$.g.sE=function(a,b){var c=$.Fk(a,null);c&&"auto"!==c?c=this.d5(c):(c=this.ZR(a),c=this.N1(c),c=$.Mo(c));return $.Po(c,b);};$.g.n0=function(a,b){var c=$.pn(a.wl(b,void 0,{anchor:b.nk()})),d=b.nk(),e=b.hc("rotation");d=$.Po(d,-e);if($.To(d)&&c.left<this.ga.left||$.So(d)&&c.left+c.width>this.ga.left+this.ga.width){var f=d;d=(0,$.za)($.Lo,f);0<=d&&(f=$.Lo.length,f=$.Lo[(f-d)%f]);d=f;}if($.Ro(d)&&c.top<this.ga.top||$.Qo(d)&&c.top+c.height>this.ga.top+this.ga.height)c=(0,$.za)($.Lo,d),0<=c&&(d=$.Lo.length,d=$.Lo[(d-c+4)%d]);d=$.Po(d,e);b.nk(d);};$.g.MX=function(a,b,c,d,e,f,h,k,l,m,p,q,r){$.dv(a,$.so([r,0,h,0,q,$.oo,f,$.oo,p,$.oo,e,$.oo,m,0,d,0,l,$.oo,c,$.oo,k,$.oo,b,$.oo,q,$.po,f,$.po,e,$.po,a,$.oo,a,$.qo,l,$.po,c,$.po,b,$.po]));};$.g.I_=$.ia;$.g.VL=function(a,b,c,d,e,f,h){if(e){a=a[0];var k=d;(d=a.Zd(c))||(d=a.add(void 0,void 0,c));d.Bf(e);k=this.PN(d,k);d.ic(k);d.Fi();b.unshift(d);this.MX.apply(this,b);b=d.hc("anchor");iv(d,this.g("isVertical"));$.n(h)&&"auto"==b&&(h=this.sE(h,Number(d.hc("rotation"))||0),d.nk(h),this.n0(a,d));this.I_(d,c);a=d;}else b=a[0],(h=b.fp(c))||(h=b.add(void 0,c)),h.ic(d),h.Fi(),c=a[1]||b,d=this.$(),e=d.o($.J(this.Lf,$.aB)?"shapes":"shapeNames"),k=this.pr(d.la()),this.Lf.LB(k,e),d=d.o(this.check(8)?"markerStroke":"markerFill"),$.n(d)&&(b=b==this.ca.cl()?$.n(d)?d:$.dm("fill",1,!1)(this,$.hm,!0):this.Wv(d),!qB("fill",a)&&$.em(b)&&(h.eJ(b),b=$.Rl(b),!qB("stroke",a)&&$.em(b)&&h.fJ(b))),$.iy(h,c),h.sd(a[2],a[3]),a=h;f&&a.W();return a;};$.g.labels=function(a){return $.n(a)?(this.ca.labels(a),this):this.ca.labels();};$.g.rh=function(a){return $.n(a)?(this.ca.rh(a),this):this.ca.rh();};$.g.qh=function(a){return $.n(a)?(this.ca.qh(a),this):this.ca.qh();};$.g.ae=function(a){$.X(a,1)&&this.B(256,1025);};$.g.sf=function(a,b,c){var d=this.wc(),e=[this.ca.labels,this.ya.labels,this.Da.labels],f=this.bL()?[d.Pa().labels,d.kb().labels,d.selected().labels]:[],h=["label","hoverLabel","selectLabel"];a.o("isMaxPoint")?(e.push(this.ca.qh,this.ya.qh,this.Da.qh),this.bL()&&f.push(d.Pa().qh,d.kb().qh,d.selected().qh),h.push("maxLabel","hoverMaxLabel","selectMaxLabel")):a.o("isMinPoint")&&(e.push(this.ca.rh,this.ya.rh,this.Da.rh),this.bL()&&f.push(d.Pa().rh,d.kb().rh,d.selected().rh),h.push("minLabel","hoverMinLabel","selectMinLabel"));a.o("label",this.gA(e,f,h,this.cE(),!0,null,a,b,c));};$.g.HQ=function(){};$.g.$S=function(a){a.W();};$.g.PN=function(a,b){return b;};$.g.Eb=function(a){return $.n(a)?(this.ca.Eb(a),this):this.ca.Eb();};$.g.Kn=function(a){$.X(a,1)&&this.B(128,65);};$.g.eq=function(a,b,c){a.o("marker",this.gA([this.ca.Eb,this.ya.Eb,this.Da.Eb],[],["marker","hoverMarker","selectMarker"],this.mO(),!1,null,a,b,c));};$.g.Wv=function(a){a=$.n(a)?a:$.dm(this.check(8)?"stroke":"fill",1,!1)(this,$.hm,!0,!0);return $.Vl(a,1,!0);};$.g.oy=function(){return $.Rl(this.ca.Eb().g("fill"));};$.g.cl=function(a){return $.n(a)?(this.ca.cl(a),this):this.ca.cl();};$.g.aja=function(a){$.X(a,1)&&this.B(128,1);};$.g.UL=function(a,b,c){var d=a.o("outliers");d&&d.length&&this.gA([this.ca.cl,this.ya.cl,this.Da.cl],[],["outlierMarker","hoverOutlierMarker","selectOutlierMarker"],this.OW(),!1,d,a,b,c);};$.g.cE=function(){return!1;};$.g.mO=function(){return!1;};$.g.OW=function(){return!1;};$.g.y4=function(){return!1;};$.g.gh=function(){return!1;};$.g.bB=function(){return!1;};$.g.qE=function(){if(this.gh()&&this.eh()&&this.op()){var a=this.$();for(a.reset();a.advance();)rB(a);rB(this.FM());rB(this.EM());}};$.g.remove=function(){this.check(4)?$.WA(this.Lf,null):this.za&&this.za.remove();var a=this.ca.labels();a.Td()&&(a.Td().remove(),a.B(2));if(a=this.ca.Eb())a.remove(),a.B(2);if(a=this.ca.cl())a.remove(),a.B(2);};$.g.rt=function(a){this.il||(this.il=new ix(this),$.L(this.il,this.DW,this),$.J(this.xa,$.wx)&&(gx(this.il,this.xa.rt()),gx(this.il).va(2)));return $.n(a)?(this.il.N.apply(this.il,arguments),this):this.il;};$.g.DW=function(){this.B(32,1);};$.g.W=function(){if(!this.yc())return this;$.V(this);$.n(this.Ld.color)&&this.J(16768)&&this.Iq(this.Ld.color);this.J(32768)&&(this.jE(),this.I(32768));if(this.J(4)){this.ga=this.ob();this.Kx=this.$g?this.$g.Ej(this.ga):this.ga;var a=Math.min(this.ga.height,this.ga.width);this.nW=$.M(this.Cha,a);this.N3=$.M(this.vha,a);this.B(7168);}this.J(512)&&(this.Ac(),this.VW(),this.B(68640,2049),this.I(512));this.e0();this.J(1024)&&this.B(24960);a=[];var b=[],c=!1;this.J(1026)&&(this.WW(),this.fE());if(this.J(1282)){var d=this.ca.labels();var e=this.ca.rh().enabled()||this.ca.qh().enabled()||this.ya.labels().enabled()||this.Da.labels().enabled()||this.ya.rh().enabled()||this.Da.rh().enabled()||this.ya.qh().enabled()||this.Da.qh().enabled();pB(this,d,e,this.cE(),$.XG,256)&&(e=this.zIndex()+this.nQ+(this.gh()?1:0),d.xh=e,d.B(8),this.check($.XG)&&a.push(this.sf),b.push(d),c=!0);this.ca.rh().I(4294967295);this.ca.qh().I(4294967295);this.ya.rh().I(4294967295);this.ya.qh().I(4294967295);this.Da.rh().I(4294967295);this.Da.qh().I(4294967295);this.I(256);}this.J(1154)&&(d=this.ca.Eb(),e=this.ya.Eb().enabled()||this.Da.Eb().enabled(),pB(this,d,e,this.mO(),4194304,128)&&(e=this.zIndex()+1.2E-5+(this.gh()?1:0),d.xh=e,this.check(4194304)&&a.push(this.eq),b.push(d)),this.I(128));if(this.J(9218)){this.TC||(this.TC=[]);if(this.lA)for(;this.lA.length;)d=this.lA.pop(),d.clear(),d.parent(null),this.TC.push(d);else this.lA=[];Yz(this)&&"none"!=this.error().mode()&&(this.y4()||Zz(this.error()))&&a.push(this.ZS);this.I(8192);}this.J(17410)&&(d=this.ca.cl(),e=this.ya.cl().enabled()||this.Da.cl().enabled(),pB(this,d,e,this.OW(),256,16384)&&(e=this.zIndex()+1.1E-5,d.xh=e,this.check(256)&&a.push(this.UL),b.push(d)),this.I(16384));d=a.length;if(this.J(1024)){if(e=this.nX()){var f=this.Ce();this.RI(e,f);c&&this.HQ();if(this.xa.g("categorizedBySeries")){c=this.Ac();var h=this.pha;var k=this.xa.g("barsPadding");var l=this.xa.g("barGroupsPadding");var m=c.Ra.od.AW;this.Nz=1/(l+k*(m-1)+m);$.jB(this,this.Nz);this.fE();this.Dd(!1);}else h=this.QA,this.Dd(),c=this.Ac();if(k=this.FM())this.QA(k,f,e),this.un(k,this.pr(k.la()));for(c.reset();c.advance();)for(c.o("destinationValue",window.NaN),l=this.pr(c.la()),h.call(this,c,f,e),this.un(c,l),k=0;k<d;k++)a[k].call(this,c,l,!1);if(k=this.EM())this.QA(k,f,e),this.un(k,this.pr(k.la()));this.Nl();}else for(c=this.Ac();c.advance();)this.kI(c,this.Ce(),window.NaN);this.I(2056);this.check(4)&&this.B(4096);}else if(d)for(c&&this.HQ(),c=this.Ac();c.advance();)for(l=this.pr(c.la()),k=0;k<d;k++)a[k].call(this,c,l,!1);Yca(this,b);this.I(1026);this.J(2048)&&(this.Fm(),this.I(2048));this.J(8)&&(this.nC(),this.I(8));this.J(4096)&&(this.Xr(),this.I(4096));this.J(32)&&(this.rt().wR(),this.I(32));this.I(65540);this.da(!1);return this;};$.g.Dd=function(a){this.bf.Dd(this.Lf,a);};$.g.un=function(a,b){this.bf.un(a,b);};$.g.Nl=function(){this.bf.Nl();};$.g.WW=function(){this.check(4)?this.za=this.O():(this.za||(this.za=$.pk(),this.i0&&$.tu(this,this.za)),this.za.zIndex(this.zIndex()),this.za.parent(this.O()));this.J(1024)&&this.Lf.sv();$.WA(this.Lf,this.za);};$.g.fE=function(){this.k0=this.ky();this.wu=this.ZG();};$.g.nC=function(){var a=this.zIndex();this.check(4)?this.bf.lK(a):this.za.zIndex(a);};$.g.Xr=function(a){a=a||this.eg;$.da(a)&&(a?a=tB(this):a=null);a?(this.ri||(this.ri=$.uk()),this.ri.shape(a),a=this.ri):a=null;this.check(4)?this.Lf.Xr(a):this.za.clip(a);if(this.check($.XG)){var b=this.ca.labels().Td();b&&b.clip(a);}this.check(4194304)&&(b=this.ca.Eb().Td())&&b.clip(a);this.check(256)&&(b=this.ca.cl().Td())&&b.clip(a);};$.g.Fm=function(){if($.J(this.Lf,$.aB))for(var a=this.Ac();a.advance();)this.Lf.Fm(this.pr(a.la()),a.o("shapes"));else this.Lf.Fm(this.ek());};$.g.VW=$.ia;$.g.e0=function(){if(this.J(65536)){if(this.tb){var a=this.Ce(),b=this.Ac();$.V(this.tb);for(this.tb.zg();b.advance();){var c=b.get(a[1]);this.tb.Wc(c);}this.tb.Fg();this.tb.da(!1);this.B(3072,129);}this.I(65536);}};$.g.nX=function(){return this.Ce();};$.g.dH=function(){return[];};$.g.pr=function(){return $.hm;};$.g.ek=function(){return $.hm;};$.g.ID=function(){return!0;};$.g.FM=function(){return null;};$.g.EM=function(){return null;};$.g.$G=function(a){return a.get("value");};$.g.Qe=function(a,b){if(b^this.g("isVertical")){var c=this.ga.left;var d=this.ga.width;}else c=this.ga.Ta(),d=-this.ga.height;return c+a*d;};$.g.Ws=function(a,b){for(var c=[],d=this.Qe(a,!0),e=0;e<b.length;e++)c.push(d,this.Qe(b[e],!1));return c;};$.g.J_=function(a){if(this.g("isVertical")){var b=this.Kx.left;var c=b+this.Kx.width;}else b=this.Kx.top,c=b+this.Kx.height;return $.Za(a,b,c);};$.g.t0=function(){return!1;};$.g.kI=function(a,b,c){c=this.Qe(c,!0);a.o("x",c);for(var d=0;d<b.length;d++)a.o(b[d],void 0),a.o(b[d]+"X",c);};$.g.RA=function(a,b,c){var d=[],e=[],f;for(f in b)d.push(f),e.push(b[f]);b=this.Ws(c,e);for(c=0;c<d.length;c++)a.o(d[c]+"X",b[2*c]),a.o(d[c],b[2*c+1]);a.o("x",b[0]);};$.g.mha=function(a,b,c,d){if(!a.o("missing")){b=a.o("shared");var e=a.o("value"),f=a.o("zero"),h=this.$G(a),k=Number(h);c=Math.max(Math.abs(e-f),this.lW);e=f>=e;if(null===h?0:!(0,window.isNaN)(k)&&0==k)e=this.g("isVertical"),h=this.ab().Ne(),e=!(e^h);h=b.YM;k=a.o("valueRatio");k=$.n(k)?!k:!c;e?(c=-c,(0,window.isNaN)(b.cB)?(b.cB=f+c,c=b.cB,h||(k=!1)):(f=Math.min(f,b.cB),c=f+c,b.cB=c)):(0,window.isNaN)(b.XA)?(b.XA=f+c,c=b.XA,h||(k=!1)):(f=Math.max(f,b.XA),c=f+c,b.XA=c);a.o("value",c);a.o("zero",f);a.o("skipDrawing",k);}return d;};$.g.nha=function(a,b,c,d){if(!a.o("missing")){var e=a.o("value");b=a.o("zero");var f=this.$G(a),h=Number(f);c=Math.max(Math.abs(e-b),this.lW);e=b>=e;if(null===f?0:!(0,window.isNaN)(h)&&0==h)f=this.g("isVertical"),h=this.ab().Ne(),e=!(f^h);e&&(c=-c);a.o("value",b+c);}return d;};$.g.lha=function(a,b,c,d){if(!a.o("missing")){b=a.o("high");c=a.o("low");var e=(b+c)/2,f=Math.max(Math.abs(c-b),this.lW)/2;b>=c&&(f=-f);a.o("high",e-f);a.o("low",e+f);}return d;};$.g.rha=function(a,b,c,d,e){b=this.ab();b={value:$.Za(b.transform(a.o("stackedValue"),.5),0,1),zero:$.Za(b.transform(a.o("stackedZero"),.5),0,1),prevValue:b.transform(a.o("stackedValuePrev"),.5),prevZero:b.transform(a.o("stackedZeroPrev"),.5),nextValue:b.transform(a.o("stackedValueNext"),.5),nextZero:b.transform(a.o("stackedZeroNext"),.5)};this.RA(a,b,e);a.o("zeroMissing",a.o("stackedMissing"));if(e=a.o("shared")){c=Math.abs(b.value-b.zero);b=e.YM;var f=a.o("valueRatio");c=$.n(f)?!f:!c;e.c1||b||(c=!1,e.c1=!0);a.o("skipDrawing",c);}return d;};$.g.iha=function(a,b,c,d){for(var e,f,h=this.ab(),k=0;k<c.length;k++){var l=b[k];f=a.jr(c[k]);var m=this.Px;e=h.G3(f,m);f=h.C3(f,m);a.o(l+"Change",e);a.o(l+"PercentChange",$.Wm(Number(f),2));a.o(l+"RatioChange",Number(f)/100);}return d;};$.g.jha=function(a,b,c,d,e){var f=!1;b=!1;if(!d&&0<=e&&1>=e){f=window.Infinity;e=-window.Infinity;var h=Math.min.apply(null,this.T4);b=Math.max.apply(null,this.T4);var k;for(k=0;k<c.length;k++){var l;(l=$.J(this.ab(),$.Ot)?this.ab().Tz():null)&&"none"!=l?"value"==l?l=Number(a.o("valueChange")):(l=Number(a.o("valuePercentChange")),h=$.Wm(h,2),b=$.Wm(b,2)):l=Number(a.jr(c[k]));(0,window.isNaN)(l)||(e<l&&(e=l),f>l&&(f=l));}f=(0,window.isFinite)(f)&&h>=f;b=(0,window.isFinite)(e)&&b<=e;}a.o("isMinPoint",f);a.o("isMaxPoint",b);return d;};$.g.E3=function(a,b,c,d,e){for(var f=this.ab(),h={},k=0;k<c.length;k++){var l=f.transform(f.Jz(a.jr(c[k]),this.Px),.5);(0,window.isNaN)(l)&&(d|=1);h[b[k]]=l;}this.RA(a,h,e);return d;};$.g.PD=function(a,b,c,d){a.o("zeroX",a.o("x"));a.o("zero",this.Ki);a.o("zeroMissing",!1);return d;};$.g.qha=function(a,b,c,d){a.o("size",this.SF(Number(a.get("size"))));return d;};$.g.oha=function(a,b,c,d){b=this.ab();c=[];var e=a.get("outliers");if($.A(e))for(var f=0;f<e.length;f++)b.xk(e[f])||c.push(this.Qe(b.transform(b.Jz(e[f],this.Px),.5),!1));a.o("outliers",c);return d;};$.g.RI=function(){var a=this.ab();this.Wj.length=0;this.gh()?this.Wj.push(this.rha):(this.Wj.push(this.E3),$.UA(this)&&this.Wj.push(this.PD),$.J(a,$.Ot)&&"none"!=a.Tz()&&this.Wj.push(this.iha));this.TN()&&(this.T4=this.dH(!0),this.Wj.push(this.jha));if(this.eh()&&this.op()&&"percent"!=this.ab().gn()){var b=this.TG("minPointLength"),c=this.g("isVertical")?this.ga.width:this.ga.height;this.lW=Math.abs($.M(b,c));this.check($.gm|$.$G)?this.Wj.push(this.lha):this.gh()?this.Wj.push(this.mha):this.Wj.push(this.nha);}this.yk()&&this.Wj.push(this.qha);this.check(256)&&this.Wj.push(this.oha);$.UA(this)&&(b=this.jf.g("baseline")||0,this.SY=$.Za(a&&a.transform(b,.5)||b,0,1),this.Ki=this.J_(this.Qe(this.SY,!1)));};$.g.pU=function(){return this.g("xPointPosition");};$.g.QA=function(a,b,c){var d=this.t0()?0:(Number(a.o("missing"))||0)&-9;this.ID(a)||(d|=8);var e=this.sl().Gr(a.Ch(),a.la(),this.pU());a.o("xRatio",e);if(d)this.kI(a,b,e);else for(var f=0;f<this.Wj.length;f++)d=this.Wj[f].call(this,a,b,c,d,e);a.o("missing",d);};$.g.pha=function(a,b,c){var d=(Number(a.o("missing"))||0)&-9;this.ID(a)||(d|=8);var e=this.sl(),f=a.o("ordinalIndex"),h=this.name(),k=e.Gr(h,f,0);e=e.Gr(h,f,1);h=this.xa.g("barsPadding");var l=this.xa.g("barGroupsPadding");f=k+(e-k)*(l/2*this.Nz+this.Nz/2+f*this.Nz*(1+h));a.o("xRatio",f);if(d)this.kI(a,b,f);else for(k=0;k<this.Wj.length;k++)d=this.Wj[k].call(this,a,b,c,d,f);a.o("missing",d);};$.g.vS=function(a){return[this.$d(a.la()),this,this.wc()];};$.g.QT=function(a){var b={},c=a.get("high")-a.get("low");b["%Range"]={value:c,type:"number"};b["%Name"]={value:a.get("name"),type:"string"};return b;};$.g.i2=function(){return"string";};$.g.um=function(a,b){var c=this.sl(),d=this.ab(),e={chart:{value:this.wc(),type:""},series:{value:this,type:""},xScale:{value:c,type:""},yScale:{value:d,type:""},index:{value:b.la(),type:"number"},x:{value:b.Ch(),type:this.i2()},seriesName:{value:this.name(),type:"string"}};c&&$.E(c.La)&&(e.xScaleType={value:c.La(),type:"string"});this.yk()&&(e.size={value:b.get("size"),type:"number"});if(Yz(this)){c=this.error().mode();if("both"==c||"value"==c){var f=this.rs(!1);e.valueLowerError={value:f[0],type:"number"};e.valueUpperError={value:f[1],type:"number"};}if("both"==c||"x"==c)f=this.rs(!0),e.xLowerError={value:f[0],type:"number"},e.xUpperError={value:f[1],type:"number"};}var h=this.Ce();for(c=0;c<h.length;c++)f=h[c],e[f]={value:b.get(f),type:"number"};if($.J(d,$.Ot)&&"none"!=d.Tz())for(d=["Change","PercentChange","RatioChange"],c=0;c<h.length;c++){f=h[c];for(var k=0;k<d.length;k++){var l=f+d[k];e[l]={value:b.o(l),type:"number"};}}return e;};$.g.dG=function(){return $.uB(this,new $.Hw());};$.g.Pk=function(){this.Ou||(this.Ou=new $.Hw());return $.uB(this,this.Ou);};$.g.FC=function(a){this.TV||(this.TV=new $.Hw(void 0,void 0,[this,this.xa]));var b={series:{value:this,type:""},chart:{value:this.wc(),type:""},seriesName:{value:this.name(),type:"string"}};if(a)for(var c=0;c<a.length;c++)$.ra(b,a[c]);this.TV.Ji([this,this.xa]);return $.rv(this.TV,b);};$.g.eG=function(a){var b=this.$(),c=b.o("x"),d=b.o(this.yh.zb),e=b.o(this.yh.yb);c=new $.I(c,Math.min(d,e),0,Math.abs(e-d));this.op()&&(c.left-=this.wu/2,c.width+=this.wu);this.yk()&&(b=b.o("size"),c.left-=b,c.top-=b,c.width+=b+b,c.height+=b+b);this.g("isVertical")&&(b=c.left,c.left=c.top,c.top=b,b=c.height,c.height=c.width,c.width=b);return $.Ko(c,a);};$.g.H0=function(a){var b=this.$(),c=b.o("x"),d=b.o(a);$.n(d)||(d=b.get(a),$.n(d)?(this.gh()&&(d+=b.o("stackedZero")),d=this.Hp(d)):d=window.NaN);var e;this.g("isVertical")?e={x:d,y:c}:e={x:c,y:d};return e;};$.g.$h=function(a,b){if(this.$().o("missing"))var c={x:window.NaN,y:window.NaN};else{if(c=$.Fk(a,null))c=this.eG(c);else if(c=this.H0(a),(0,window.isNaN)(c.x)||(0,window.isNaN)(c.y))c=this.eG("center-top");if(b&&this.check($.sB)){var d=this.xa,e=this.la();c.x+=d.KM(e,this.gh());c.y-=d.LM(e,this.gh());}}return{value:c};};var dI={};$.wq(dI,[[0,"color",$.Wq],[0,"xPointPosition",$.Fq],[0,"pointWidth",$.fr],[0,"maxPointWidth",$.fr],[0,"minPointLength",$.fr],[0,"maxPointWidth",$.fr],[0,"minPointLength",$.fr],[0,"connectMissingPoints",$.Hq],[0,"displayNegative",$.Hq],[0,"stepDirection",function(a,b){return $.Ak(Dda,a,b||"center");}],[0,"isVertical",$.cr]]);$.S($.Dx,dI);$.g=$.Dx.prototype;$.g.Ka=function(a,b){return $.n(a)?$.n(b)?(this.hn[a.toLowerCase()]=b,this):this.hn[a.toLowerCase()]:this.hn;};$.g.$n=$.ia;$.g.Qg=function(a){this.xa.Hv();return this.Ka(a);};$.g.F=function(){var a=$.Dx.u.F.call(this);a.seriesType=this.jk();a.clip=$.J(this.eg,$.I)?this.eg.F():this.eg;this.Ai&&(a.meta=this.o());this.fe&&(a.id=this.id());this.Br&&(a.name=this.name());this.Uq!=this.la()&&(a.autoIndex=this.wh());if(this.check(524288)){var b=this.Sa().F();$.Nc(b)||(a.tooltip=this.Sa().F());a.legendItem=this.Is().F();}Yz(this)&&(a.error=this.error().F());$.Xq(this,dI,a);a.normal=this.ca.F();a.hovered=this.ya.F();a.selected=this.Da.F();a.a11y=this.rt().F();return a;};$.g.U=function(a,b){$.Dx.u.U.call(this,a,b);this.id(a.id);this.wh(a.autoIndex);this.name(a.name);this.o(a.meta);this.clip(a.clip);this.rt(a.a11y);this.ca.fa(!!b,a);this.ca.fa(!!b,a.normal);this.ya.fa(!!b,a.hovered);this.Da.fa(!!b,a.selected);$.Pq(this,dI,a);this.lC(a,!1,b);};$.g.R=function(){$.ud(this.lA,this.TC);this.check(4)||$.pd(this.za);$.ud(this.Lf,this.bf,this.ca,this.ya,this.Da,this.nx,this.qp,this.Jv,this.Au,this.$g,this.il);this.nx=this.qp=this.Au=this.Jv=this.il=this.$g=this.Cc=this.lA=this.za=this.$o=this.Da=this.ya=this.ca=null;delete this.Lf;delete this.xa;delete this.jf;delete this.iterator;delete this.na;delete this.Ld;delete this.Oa;$.Dx.u.R.call(this);};var eI=$.Dx.prototype;eI.a11y=eI.rt;eI.getType=eI.La;eI.seriesType=eI.jk;eI.name=eI.name;eI.id=eI.id;eI.meta=eI.o;eI.getIndex=eI.la;eI.yScale=eI.ab;eI.labels=eI.labels;eI.minLabels=eI.rh;eI.maxLabels=eI.qh;eI.markers=eI.Eb;eI.outlierMarkers=eI.cl;eI.normal=eI.Pa;eI.hovered=eI.kb;eI.selected=eI.selected;eI.tooltip=eI.Sa;eI.legendItem=eI.Is;eI.clip=eI.clip;eI.error=eI.error;eI.transformX=eI.Hr;eI.transformY=eI.Hp;eI.getPixelBounds=eI.ob;eI.getPixelPointWidth=eI.ZG;eI.getStat=eI.Qg;eI.rendering=eI.Ei;eI.colorScale=eI.jd;$.H(vB,$.Fr);$.g=vB.prototype;$.g.reset=function(){this.ka=this.Ra.od.data;return vB.u.reset.call(this);};$.g.advance=function(){this.i++;this.Vf=this.ka[this.i];this.f=void 0;return!!this.ka.length&&this.i<this.ka.length;};$.g.get=function(a){var b=void 0;if(this.Vf)if(a in this.Vf.data)b=this.Vf.data[a];else{var c=this.Vf.o.rawIndex;if(!this.f)if($.n(c))this.f=this.view.yf(c);else return this.Vf.data[a]=b;this.Vf.data[a]=b=this.view.Ql(c).dk(this.f,c,a);}return b;};$.g.Jb=function(){return this.ka.length;};$.g.o=function(a,b){var c=1<arguments.length;if(!this.Vf)return c?this:void 0;var d=this.Vf.o;return c?(d[a]=b,this):d[a];};var fI=vB.prototype;fI.reset=fI.reset;fI.advance=fI.advance;fI.get=fI.get;fI.meta=fI.o;fI.getRowsCount=fI.Jb;$.H($.wB,$.Dx);$.wB.prototype.ra=$.Dx.prototype.ra;$.wB.prototype.pa=$.Dx.prototype.pa;var gI={};$.wq(gI,[[0,"xMode",function(a){return $.Ak(Fda,a,"ordinal");}]]);$.S($.wB,gI);$.g=$.wB.prototype;$.g.lC=function(a,b,c,d){$.wB.u.lC.call(this,a,b,c,d);this.fj(a.selectionMode);};$.g.ky=function(a){var b;$.n(a)&&$.J(this.Qa(),$.St)?b=$.Ut(this.Qa())[a]:b=this.Qa().jD();return(b||this.Qa().kH()/this.$().Jb())*(this.g("isVertical")?this.ga.height:this.ga.width);};$.g.dH=function(){return[this.od.su,this.od.ru];};$.g.Qa=function(a){if($.n(a)){if(a){if(a=$.mt(this.cb,a,null,15,null,this.xg,this)){var b=this.cb==a;this.cb=a;this.cb.da(b);b||this.B(1024,5);}}else this.cb&&(this.cb&&$.or(this.cb,this.xg,this),this.cb=null,this.B(1024,5));return this;}return this.cb||this.xa.Qa();};$.g.sl=function(){return this.Qa();};$.g.pr=function(a){return $.px(this.state,a);};$.g.ek=function(){var a=this.state.ek();return a||this.eh()||"single"!=this.Tl()?a:$.ox(this.state,$.Bo)?$.Bo:$.ox(this.state,$.Ao)?$.Ao:$.hm;};$.g.VW=function(){if(this.data().fd("state")){for(var a=this.Xf(),b=[];a.advance();)"selected"==String(a.get("state")).toLowerCase()&&b.push(a.la());b.length&&this.Gi(b);}$.wB.u.VW.call(this);};$.g.PN=function(a,b){if("auto"==this.labels().g("position")&&"continuous"==this.Qa().mode()){var c=b.value,d=c.x;c=c.y;var e=a.Ph();if(e&&e.text()){var f=e.Va.width/2;e=this.Kx.bb();var h=this.Kx.sb(),k=d+f;f=d-f;h>f&&k>h?d+=h-f:k>e&&f<e&&(d-=k-e);return{value:{x:d,y:c}};}}return $.wB.u.PN.call(this,a,b);};$.g.$S=function(a){$.wB.u.$S.call(this,a);for(var b=a.$H(),c=0;c<b;c++){var d=a.Zd(c);if(d){var e=this.PN(d,d.ic());d.ic(e);}}a.W();};$.g.W=function(){$.wB.u.W.call(this);CB(this,!0);return this;};$.g.He=function(a,b,c){var d=$.mB(this),e=b?this.Xf():this.$(),f=e.la();d.kg(e).Ji([this.$d(f),this]);var h;a=a||this.g("color")||"blue";var k=e.Ch();b=e.get("value");var l=$.n(e.get("name"))?e.get("name"):k;e={x:{value:k,type:"date-time"},value:{value:b,type:"number"},index:{value:f,type:"number"},iterator:{value:e,type:""},autoColor:{value:a,type:""},chart:{value:this.xa,type:""},plot:{value:this.jf,type:""},series:{value:this,type:""},name:{value:l,type:"string"}};c=$.n(c)&&c;(f=this.jd())&&!c&&($.n(b)&&(h=f.Oq(b)),e.scaledColor={value:h,type:""},e.colorScale={value:f,type:""});e.sourceColor={value:h||a,type:""};return $.rv(d,e);};$.g.Wi=function(a){var b=$.mB(this);a=a?this.Xf():this.$();var c=a.la();b.kg(a).Ji([this.$d(c),this]);var d=this.Ah(),e=a.Ch(),f=a.get("value"),h=$.n(a.get("name"))?a.get("name"):e;return $.rv(b,{x:{value:e,type:"date-time"},value:{value:f,type:"number"},index:{value:c,type:"number"},iterator:{value:a,type:""},sourceHatchFill:{value:d,type:""},plot:{value:this.jf,type:""},chart:{value:this.xa,type:""},series:{value:this,type:""},name:{value:h,type:"string"}});};$.g.data=function(a,b){return $.n(a)?(this.VI!==a&&(this.VI=a,$.pd(this.cm),$.J(a,$.Gr)?this.be=this.cm=a.Si():this.be=$.J(a,$.Qr)?this.cm=a.Wd():(this.cm=new $.Qr($.A(a)||$.z(a)?a:null,b)).Wd(),this.lG=this.be,$.L(this.lG,this.cd,this),this.B(1536,85)),this):this.lG;};$.g.cd=function(a){$.X(a,16)&&(a=327680,$.J(this.xa,$.BA)&&(a|=2097152),this.xa.B(a),this.B(1536,85));};$.g.Xf=function(){return this.od?new vB(this):this.data().$();};$.g.D1=function(a){if(this.od){if(a=this.od.data[a])return a.o.size;}else return this.data().o(a,"size");};$.g.lU=function(a){if(this.od){if(a=this.od.data[a])return this.od.pJ?a.o.stackedZero:0;}else return this.data().o(a,"zero");};$.g.kU=function(a){if(this.od){if(a=this.od.data[a])return this.od.pJ?a.o.stackedValue:a.data.value;}else return this.data().o(a,"value");};$.g.KX=function(a,b,c){this.od&&(a=(a=this.od.data[a])&&a.o.rawIndex);this.data().set(a,b,c);};$.g.o1=function(a){this.rm||(this.rm=[]);$.A(a)||(a=[a]);for(var b=!1,c=0;c<a.length;c++)b=$.Ua(this.rm,a[c])||b;b&&this.B(1024,5);return b;};$.g.eV=function(a){if(!this.rm)return!1;$.A(a)||(a=[a]);for(var b=!1,c=0;c<a.length;c++){var d=this.rm,e=$.Na(d,a[c],void 0);b=(0<=e?Ea(d,e):!1)||b;}b&&this.B(1024,5);return b;};$.g.zM=function(){return(0,$.Wa)(this.rm||[],this.$d,this);};$.g.j3=function(a){this.rm?this.rm.length=0:this.rm=[];for(var b=this.$().Jb(),c=0;c<b;c++)this.rm.push(c);this.eV(a);};$.g.dV=function(){return this.rm&&this.rm.length?(this.rm.length=0,this.B(1024,5),!0):!1;};$.g.cE=function(){return this.od?this.od.D2:!0;};$.g.mO=function(){return this.od?this.od.E2:!0;};$.g.OW=function(){return this.od?this.od.G2:!0;};$.g.y4=function(){return this.od?this.od.C2:!0;};$.g.gh=function(){return this.od?this.od.pJ:!0;};$.g.bB=function(){return this.Qa().Ne();};$.g.ID=function(a){a=a.la();"scatter"==this.g("xMode")&&(a=$.vo(this.od.data[a].data.x),a=this.od.Jp[a]);return a>=this.od.sj&&a<=this.od.lastIndex;};$.g.RT=function(a,b,c,d){var e=this.data(),f=e.$(),h=this.ab(),k=!1,l=!1,m=this.yk(),p,q=[];this.eh()&&this.ht()&&q.push("zIndex");m&&q.push("size");this.check(256)&&q.push("outliers");Yz(this)&&(fB(this.Qa())&&(e.fd("xError")&&(q.push("xError"),k=!0),e.fd("xLowerError")&&(q.push("xLowerError"),k=!0),e.fd("xUpperError")&&(q.push("xUpperError"),k=!0)),fB(this.ab())&&(e.fd("valueError")&&(q.push("valueError"),l=!0),e.fd("valueLowerError")&&(q.push("valueLowerError"),l=!0),e.fd("valueUpperError")&&(q.push("valueUpperError"),l=!0)));$.J(h,$.St)&&(p=$.Vt(h))&&e.fd(p)&&q.push(p);var r=this.Qa();$.J(r,$.St)&&(p=$.Vt(r))&&e.fd(p)&&q.push(p);r=this.hV();for(var t=0;f.advance();){var u=c(f.get("x"));if(!d(u)){var v={};v.x=u;var w;u=!1;var x=this.Ce();var y=0;for(w=x.length;y<w;y++){p=x[y];var B=this.i4(f.get(p));u=u||h.xk(B);v[p]=B;}y=0;for(w=q.length;y<w;y++)p=q[y],v[p]=f.get(p);m&&(y=$.N(v.size=f.get("size")),(0,window.isNaN)(y)||0>y&&!this.g("displayNegative"))&&(u=!0);y={};u?y.missing=1:(y.missing=0,t++);y.rawIndex=f.la();y.ordinalIndex=t-1;v={data:v,o:y};this.RW(f,v,r);b(a,v);}}this.B(512);return this.od={data:a,X:this,AW:t,D2:this.check($.XG)&&(e.fd("normal")||e.fd("hovered")||e.fd("selected")||e.fd("label")||e.fd("hoverLabel")||e.fd("selectLabel")||e.fd("minLabel")||e.fd("hoverMinLabel")||e.fd("selectMinLabel")||e.fd("maxLabel")||e.fd("hoverMaxLabel")||e.fd("selectMaxLabel")),E2:this.check(4194304)&&(e.fd("normal")||e.fd("hovered")||e.fd("selected")||e.fd("marker")||e.fd("hoverMarker")||e.fd("selectMarker")),G2:this.check(256)&&(e.fd("outliers")||e.fd("normal")||e.fd("hovered")||e.fd("selected")||e.fd("outlierMarker")||e.fd("hoverOutlierMarker")||e.fd("selectOutlierMarker")),QU:k,H2:l,C2:k||l};};$.g.hV=function(){return null;};$.g.RW=function(){};$.g.i4=function(a){return a;};$.g.jM=function(a,b){if(this.od){var c=[];var d="scatter"==this.g("xMode");if(this.od.Jp){var e=this.od.Jp[$.vo(a)];var f=this.od.Jp[$.vo(b)];}else e=$.Oa(this.od.data,function(b){return a-b.data.x;}),0>e&&(e=~e),f=$.Oa(this.od.data,function(a){return b-a.data.x;}),0>f&&(f=~f);if(!(0,window.isNaN)(e)&&!(0,window.isNaN)(f)){if(e>f){var h=e;e=f;f=h;}if(d)for(h=this.od.data,d=0;d<h.length;d++){var k=h[d],l=this.od.Jp[$.vo(k.data.x)];l>=e&&l<=f&&c.push(k.o.rawIndex);}else for(f=Math.min(f,this.od.data.length-1),d=e;d<=f;d++)c.push(d);}return c;}c=this.Qa();if(e=$.J(c,$.St))a=c.Vv(a),b=c.Vv(b);return this.lG.jM(a,b,e);};$.g.mk=function(a,b){if(CB(this)){var c=this.$();if(8===c.o("missing"))return b;var d=c.o("shapes");this.eh()&&(this.Lf.Fm(a,d),this.Lf.LB(a,d));this.check(256)&&this.UL(c,a,!0);this.bf.TE(c,a);this.check(4194304)&&this.eq(c,a,!0);this.check($.XG)&&this.sf(c,a,!0);return b;}};$.g.sm=$.ia;$.g.ll=function(a){if(CB(this)){var b=this.$(),c=b.o("shapes");this.Lf.Fm(a,c);this.bf.TE(b,a);this.check(256)&&this.UL(b,a,!0);}};$.g.nq=$.ia;$.g.fj=function(a){return $.n(a)?(a=null===a?null:$.Ck(a),a!=this.bt&&(this.bt=a),this):this.bt;};$.g.Tl=function(a){return $.n(a)?this:this.xa.Yc().g("hoverMode");};$.g.Uj=function(a){$.n(a)?this.Zi(a):this.Xk();return this;};$.g.Kd=function(a){var b;if(b=!$.ox(this.state,$.Ao))b=!(this.state.ek()&$.Ao);if(b||!this.enabled())return this;var c;$.n(a)?c=a:c=this.state.Dc==$.hm?window.NaN:void 0;this.state.Sh($.Ao,c);return this;};$.g.Zi=function(a){if(!this.enabled())return this;if($.A(a)){for(var b=$.ux(this.state,$.Ao),c=0;c<b.length;c++)$.Aa(a,b[c])||this.state.Sh($.Ao,b[c]);$.sx(this.state,a);}else $.ea(a)&&(this.Kd(),$.sx(this.state,a));return this;};$.g.Xk=function(){this.enabled()&&this.state.Hh($.Ao);};$.g.select=function(a){if(!this.enabled())return this;$.n(a)?this.Gi(a):this.Eu();return this;};$.g.he=function(a){if(!this.enabled())return this;var b;$.n(a)?b=a:b=this.state.Dc==$.hm?window.NaN:void 0;this.state.Sh($.Bo,b);return this;};$.g.Gi=function(a,b){return $.DB(this,a,!(!b||!b.shiftKey));};$.g.Eu=function(){this.enabled()&&this.state.Hh($.Bo);};$.g.hg=function(a){a=$.wB.u.hg.call(this,a);var b=this.g("isVertical");if(this.eh())a.pointIndex=$.N($.xo(a.domTarget).index);else if(this.jka){var c=this.ga||$.nn(0,0,0,0),d=$.ak(this.O().Ia()),e=a.clientX,f=a.clientY;if(b){var h=f;var k=c.top+d.y+c.height;c=-c.height;}else h=e,k=c.left+d.x,c=c.width;c=this.Qa().Jc((h-k)/c);k=!!this.xa.g("categorizedBySeries");if(this.xa&&k&&!this.eh()){k=this.Qa();var l=this.name(),m=k.Gr(l,window.NaN,0);l=k.Gr(l,window.NaN,1)-m;var p=this.xa.g("barsPadding"),q=this.xa.g("barGroupsPadding");p*=this.Nz;q*=this.Nz;k=this.od.AW;m+=l*(q-p)/2;l=m+l*(this.Nz+p)*k;m=this.Qe(m,!0);l=(this.Qe(l,!0)-m)/k;k=m+(b?d.y:d.x);b=Math.floor((h-k)/l);h=-1;for(k=0;k<this.od.data.length;k++)if(m=this.od.data[k],!m.o.missing&&++h==b){c=m.data.x;break;}}c=$.aA(this,c);if($.A(c)&&1<c.length){e-=d.x;d=f-d.y;f=this.$();b=window.Infinity;h=-1;for(k=0;k<c.length;k++)if(f.select(c[k]))for(m=f.o("x"),l=this.Ce(),p=0;p<l.length;p++)q=f.o(l[p]),q=$.kn(m,q,e,d),q<b&&(b=q,h=c[k]);c=h;}0>c&&(c=window.NaN);a.pointIndex=c;}return a;};$.g.Eh=function(a){(a=this.Tg(a))&&this.dispatchEvent(a);};$.g.Tg=function(a){var b=a.type;switch(b){case"mouseout":b="pointmouseout";break;case"mouseover":b="pointmouseover";break;case"mousemove":b="pointmousemove";break;case"mousedown":b="pointmousedown";break;case"mouseup":b="pointmouseup";break;case"click":case"touchstart":b="pointclick";break;case"dblclick":b="pointdblclick";break;default:return null;}var c;a.target!=this.Pa().cl()||(0,window.isNaN)(a.markerIndex)?"pointIndex"in a?c=a.pointIndex:"labelIndex"in a?c=a.labelIndex:"markerIndex"in a&&(c=a.markerIndex):c=Zca(this,a.markerIndex);c=$.N(c);a.pointIndex=c;var d=this.Xf();d.select(c)||d.reset();return{type:b,actualTarget:a.target,series:this,iterator:d,pointIndex:c,target:this,originalEvent:a,point:this.$d(c)};};$.g.$d=function(a){var b;this.yk()?b=new LA(this,a):b=new $.KA(this,a);return b;};$.g.F=function(){var a=$.wB.u.F.call(this);$.Xq(this,gI,a);if(this.od){for(var b=[],c=this.data(),d=new vB(this);d.advance();){var e=d.o("rawIndex");(0,window.isNaN)(e)?b.push({x:d.get("x")}):b.push(Jr(c,e));}a.data=b;}else a.data=this.data().F();$.n(this.fj())&&(a.selectionMode=this.fj());return a;};$.g.U=function(a,b){$.wB.u.U.call(this,a,b);$.Pq(this,gI,a,b);"data"in a&&this.data(a.data||null);this.fj(a.selectionMode);};$.g.R=function(){$.pd(this.cm);delete this.lG;this.cb=this.od=this.state=this.be=this.cm=null;$.wB.u.R.call(this);};var hI=$.wB.prototype;hI.data=hI.data;hI.xScale=hI.Qa;hI.hover=hI.Uj;hI.unhover=hI.Kd;hI.select=hI.select;hI.unselect=hI.he;hI.selectionMode=hI.fj;hI.getPoint=hI.$d;hI.excludePoint=hI.o1;hI.includePoint=hI.eV;hI.keepOnlyPoints=hI.j3;hI.includeAllPoints=hI.dV;hI.getExcludedPoints=hI.zM;$.H($.FB,$.Y);var EB=1E6;$.FB.prototype.pa=$.Y.prototype.pa;$.FB.prototype.ra=$.Y.prototype.ra|464;$.FB.prototype.K=function(a){this.aa||(this.aa=new QB(this),$.W(this,"thumbs",this.aa));return $.n(a)?(this.aa.N(a),this):this.aa;};var iI=function(){function a(a){return function(b){var c=$.Do(b,null);return null===b?this.uf(a):null===c?this.g(a):c;};}var b={};$.wq(b,[[0,"height",a("height")],[0,"minHeight",a("minHeight")],[0,"maxHeight",a("maxHeight")],[0,"orientation",hr],[0,"inverted",$.Hq],[0,"autoHide",$.Hq],[1,"fill",$.Uq],[1,"selectedFill",$.Uq],[1,"outlineStroke",$.Tq],[0,"allowRangeChange",$.Hq]]);return b;}();$.S($.FB,iI);$.g=$.FB.prototype;$.g.padding=function(a,b,c,d){this.Ua||(this.Ua=new $.Ju(),$.L(this.Ua,this.bm,this),$.W(this,"padding",this.Ua));return $.n(a)?(this.Ua.N.apply(this.Ua,arguments),this):this.Ua;};$.g.bm=function(a){$.X(a,2)&&this.B(4,9);};$.g.Mb=function(){return"bottom"==this.g("orientation")||"top"==this.g("orientation");};$.g.remove=function(){this.za&&this.za.remove();};$.g.Oe=function(){return this.enabled()&&(!this.g("autoHide")||this.g("allowRangeChange")||0!=this.D||this.j!=EB);};$.g.W=function(){if(!this.yc())return this;this.I(256);if(!this.Oe())return this.remove(),this.B(2),this;if(this.nf())return this;this.za||(this.za=$.pk(),this.f=$.rk(),this.f.zIndex(100),this.b=$.rk(),this.b.zIndex(100),this.ba=this.za.rect(),this.ba.zIndex(1),this.VN=$.uk(),this.ba.clip(this.VN),this.G=this.za.rect(),this.G.zIndex(50),this.mB=$.uk(),this.G.clip(this.mB),this.P=this.za.path(),this.P.zIndex(99),$.tu(this,this.za,this.qaa,this.Jha),this.vc.ua(this.f,"mouseover",this.q6),this.vc.ua(this.f,"mouseout",this.p6),this.vc.De(this.f,"mousedown",this.SE),this.vc.De(this.f,"touchstart",this.SE),this.vc.ua(this.b,"mouseover",this.q6),this.vc.ua(this.b,"mouseout",this.p6),this.vc.De(this.b,"mousedown",this.SE),this.vc.De(this.b,"touchstart",this.SE),this.vc.De(this.G,"mousedown",this.SE),this.vc.De(this.G,"touchstart",this.SE),this.vc.ua(this.ba,"click",this.eia));this.J(2)&&(this.za.parent(this.O()),this.I(2));this.J(8)&&(this.za.zIndex(this.zIndex()),this.I(8));this.J(128)&&(this.f.cursor(GB(this)),this.b.cursor(GB(this)),this.G.cursor(GB(this)),this.B(84),this.I(128));this.J(4)&&(this.MP(),this.I(4));if(this.J(64)){var a=(Math.max($.cc(this.g("outlineStroke")),5)-1)/2;if(this.Mb()){var b=this.ga.top;if(this.K().g("enabled"))a=b+this.ga.height/2,this.f.clear().moveTo(-4,a-6).lineTo(-2,a-8).lineTo(2,a-8).lineTo(4,a-6).lineTo(4,a+6).lineTo(2,a+8).lineTo(-2,a+8).lineTo(-4,a+6).close().moveTo(-1,a-5).lineTo(-1,a+5).moveTo(1,a-5).lineTo(1,a+5),this.b.clear().moveTo(-4,a-6).lineTo(-2,a-8).lineTo(2,a-8).lineTo(4,a-6).lineTo(4,a+6).lineTo(2,a+8).lineTo(-2,a+8).lineTo(-4,a+6).close().moveTo(-1,a-5).lineTo(-1,a+5).moveTo(1,a-5).lineTo(1,a+5);else{var c=b+this.ga.height;this.f.clear().moveTo(-a,b).lineTo(a,b).lineTo(a,c).lineTo(-a,c).close();this.b.clear().moveTo(-a,b).lineTo(a,b).lineTo(a,c).lineTo(-a,c).close();}}else b=this.ga.left,this.K().g("enabled")?(a=b+this.ga.width/2,this.f.clear().moveTo(a-6,-4).lineTo(a-8,-2).lineTo(a-8,2).lineTo(a-6,4).lineTo(a+6,4).lineTo(a+8,2).lineTo(a+8,-2).lineTo(a+6,-4).close().moveTo(a-5,-1).lineTo(a+5,-1).moveTo(a-5,1).lineTo(a+5,1),this.b.clear().moveTo(a-6,-4).lineTo(a-8,-2).lineTo(a-8,2).lineTo(a-6,4).lineTo(a+6,4).lineTo(a+8,2).lineTo(a+8,-2).lineTo(a+6,-4).close().moveTo(a-5,-1).lineTo(a+5,-1).moveTo(a-5,1).lineTo(a+5,1)):(c=b+this.ga.height,this.f.clear().moveTo(b,-a).lineTo(b,a).lineTo(c,a).lineTo(c,-a).close(),this.b.clear().moveTo(b,-a).lineTo(b,a).lineTo(c,a).lineTo(c,-a).close());this.B(16);this.I(64);}if(this.J(16)){this.ba.Kf(this.ga);this.G.Kf(this.ga);this.VN.shape(this.ga);a=this.g("fill");this.ba.fill("none"==a?$.cm:a).stroke(null);a=this.g("selectedFill");this.G.fill("none"==a?$.cm:a).stroke(null);this.P.stroke(this.g("outlineStroke")).fill(null);KB(this,this.f,this.eb);KB(this,this.b,this.Ya);switch(this.g("orientation")){case"top":a=this.ga;c=this.D;b=this.j;this.g("inverted")&&(c=EB-c,b=EB-b);c=a.left+c/EB*a.width;var d=a.left+b/EB*a.width;this.f.nc(1,0,0,1,c,0);this.b.nc(1,0,0,1,d,0);b=Math.min(c,d);c=Math.max(c,d);this.mB.shape(b,a.top,c-b,a.height);b=$.O(b,1);c=$.O(c,1);d=$.O(a.top,1);var e=$.O(a.top+a.height,1);this.P.clear().moveTo(a.left,d).lineTo(b,d).lineTo(b,e).lineTo(c,e).lineTo(c,d).lineTo(a.left+a.width,d);break;case"right":a=this.ga;b=this.D;c=this.j;this.g("inverted")||(b=EB-b,c=EB-c);b=a.top+b/EB*a.height;d=a.top+c/EB*a.height;this.f.nc(1,0,0,1,0,b);this.b.nc(1,0,0,1,0,d);c=Math.min(b,d);b=Math.max(b,d);this.mB.shape(a.left,c,a.width,b-c);this.P.clear().moveTo(a.left,a.top).lineTo(a.left,c).lineTo(a.left+a.width,c).lineTo(a.left+a.width,b).lineTo(a.left,b).lineTo(a.left,a.top+a.height);break;case"bottom":a=this.ga;c=this.D;b=this.j;this.g("inverted")&&(c=EB-c,b=EB-b);c=a.left+c/EB*a.width;d=a.left+b/EB*a.width;this.f.nc(1,0,0,1,c,0);this.b.nc(1,0,0,1,d,0);b=Math.min(c,d);c=Math.max(c,d);this.mB.shape(b,a.top,c-b,a.height);b=$.O(b,1);c=$.O(c,1);d=$.O(a.top,1);e=$.O(a.top+a.height,1);this.P.clear().moveTo(a.left,d).lineTo(b,d).lineTo(b,e).lineTo(c,e).lineTo(c,d).lineTo(a.left+a.width,d);break;case"left":a=this.ga,b=this.D,c=this.j,this.g("inverted")||(b=EB-b,c=EB-c),b=a.top+b/EB*a.height,d=a.top+c/EB*a.height,this.f.nc(1,0,0,1,0,b),this.b.nc(1,0,0,1,0,d),c=Math.min(b,d),b=Math.max(b,d),this.mB.shape(a.left,c,a.width,b-c),this.P.clear().moveTo(a.left+a.width,a.top).lineTo(a.left+a.width,c).lineTo(a.left,c).lineTo(a.left,b).lineTo(a.left+a.width,b).lineTo(a.left+a.width,a.top+a.height);}this.K().g("autoHide")||IB(this);this.I(16);}return this;};$.g.xd=function(){var a=this.ja();a=a?a.clone():$.nn(0,0,0,0);this.Oe()&&(this.J(4)&&(this.MP(),this.I(4)),this.Mb()?(a.height-=this.i.height,"top"==this.g("orientation")&&(a.top+=this.i.height)):(a.width-=this.i.width,"left"==this.g("orientation")&&(a.left+=this.i.width)));return a;};$.g.MP=function(){var a=this.ja(),b=this.Mb()?a.height:a.width,c=$.M(this.g("height"),b),d=$.M(this.g("maxHeight"),b),e=$.M(this.g("minHeight"),b);b=c;(0,window.isNaN)(e)||(b=Math.max(b,e));(0,window.isNaN)(d)||(b=Math.min(c,d));b=this.Mb()?this.padding().ak(b):this.padding().Ik(b);this.i.left=a.left;this.i.top=a.top;c=this.g("orientation");this.Mb()?(this.i.width=a.width,this.i.height=b,"bottom"==c&&(this.i.top+=a.height-b)):(this.i.width=b,this.i.height=a.height,"right"==c&&(this.i.left+=a.width-b));this.rb||this.Mb()?this.ga=this.padding().Ej(this.i):(b=this.padding(),"left"==c?(c=$.M(b.g("left"),this.i.width),a=$.M(b.g("top"),this.i.height),d=$.M(b.g("right"),this.i.width),b=$.M(b.g("bottom"),this.i.height)):(c=$.M(b.g("right"),this.i.width),a=$.M(b.g("bottom"),this.i.height),d=$.M(b.g("left"),this.i.width),b=$.M(b.g("top"),this.i.height)),this.ga.left=this.i.left+b,this.ga.top=this.i.top+c,this.ga.width=this.i.width-b-a,this.ga.height=this.i.height-c-d);this.B(80);};$.g.qaa=function(a){a.Hu();!$.yo(this.za,a.relatedTarget)&&this.nh(a)&&(this.Za=!0,IB(this));};$.g.Jha=function(a){a.Hu();!$.yo(this.za,a.relatedTarget)&&this.nh(a)&&(this.Za=!1,JB(this));};$.g.q6=function(a){a=a.target;$.J(a,$.Cg)&&(a==this.f?KB(this,this.f,this.eb=!0):a==this.b&&KB(this,this.b,this.Ya=!0));};$.g.p6=function(a){a=a.target;$.J(a,$.Cg)&&(a==this.f?KB(this,this.f,this.eb=!1):a==this.b&&KB(this,this.b,this.Ya=!1));};$.g.SE=function(a){if($.J(a.currentTarget,$.kg)){var b=a.currentTarget,c;b!=this.f||this.Ba?b!=this.b||this.ea?b!=this.G||this.ma||(this.ma=c=new PB(this,this.G,!1)):this.ea=c=new PB(this,this.b,!0):this.Ba=c=new PB(this,this.f,!0);c&&(this.vc.ua(c,"start",this.paa),this.vc.ua(c,"end",this.oaa),c.kk(a.Be));}};$.g.eia=function(a){var b=$.ak(this.za.Ia());a=this.Mb()?a.clientX-b.x:a.clientY-b.y;LB(this,"background-click","scrollerchangestart")&&(NB(this,!1,a),LB(this,"background-click","scrollerchangefinish"));};$.g.paa=function(a){if(this.g("allowRangeChange")&&a.f!=this.ma){a=GB(this);var b="thumb-drag";}else a=GB(this),b="selected-range-drag";if(b=LB(this,b,"scrollerchangestart"))this.Ha++,this.f.cursor(null),this.b.cursor(null),this.G.cursor(null),$.wf(window.document.body,"cursor",a);return b;};$.g.oaa=function(a){this.Ha=Math.max(this.Ha-1,0);JB(this);this.f.cursor(GB(this));this.b.cursor(GB(this));this.G.cursor(GB(this));$.wf(window.document.body,"cursor","");a=this.g("allowRangeChange")&&a.f!=this.ma?"thumb-drag":"selected-range-drag";LB(this,a,"scrollerchangefinish");};$.g.D3=function(a,b,c,d){return{type:a,startRatio:b,endRatio:c,source:d};};$.g.R=function(){$.pd(this.za);this.G=this.ba=this.P=this.b=this.f=this.za=null;$.pd(this.Ba);this.Ba=null;$.pd(this.ea);this.ea=null;$.pd(this.ma);this.ma=null;$.pd(this.aa);this.aa=null;$.pd(this.Ua);this.Ua=null;$.FB.u.R.call(this);};$.g.F=function(){var a=$.FB.u.F.call(this);$.Xq(this,iI,a,"Scroller");a.thumbs=this.K().F();return a;};$.g.U=function(a,b){$.FB.u.U.call(this,a,b);$.Pq(this,iI,a,b);"thumbs"in a&&this.K().fa(!!b,a.thumbs);};$.H(PB,$.cg);$.g=PB.prototype;$.g.naa=function(){$.n(this.Qj)&&($.ll.cancelAnimationFrame(this.Qj),this.ns(0));};$.g.Yq=function(){this.i.Mb()?(this.deltaX=OB(this.i,this.b),this.deltaY=0):(this.deltaX=0,this.deltaY=OB(this.i,this.b));};$.g.gs=function(a,b){this.ba=this.i.Mb()?a:b;$.n(this.Qj)||(this.Qj=$.ll.requestAnimationFrame(this.ns));};$.g.OA=function(a){return this.i.Mb()?MB(this.i,this.b,a):0;};$.g.uw=function(a){return this.i.Mb()?0:MB(this.i,this.b,a);};$.H(QB,$.U);$.Kq(QB,["fill","stroke"],"normal");QB.prototype.B=function(a,b){return this.i.B(a,b);};QB.prototype.Pa=function(a){return $.n(a)?(this.ca.N(a),this):this.ca;};QB.prototype.kb=function(a){return $.n(a)?(this.ya.N(a),this):this.ya;};var jI={};$.wq(jI,[[0,"enabled",$.Gq],[0,"autoHide",$.Gq]]);$.S(QB,jI);$.g=QB.prototype;$.g.F=function(){var a={};a.normal=this.Pa().F();a.hovered=this.kb().F();$.Xq(this,jI,a,"Scroller thumbs");return a;};$.g.U=function(a,b){this.ca.fa(!!b,a);this.ca.fa(!!b,a.normal);this.ya.fa(!!b,a.hovered);$.Pq(this,jI,a);};$.g.Xd=function(a){return $.da(a)||null===a?{enabled:!!a}:null;};$.g.Je=function(a,b){var c=this.Xd(b);return c?(this.enabled(c.enabled),!0):!1;};$.g.R=function(){$.ud(this.ca,this.ya);this.ya=this.ca=null;QB.u.R.call(this);};$.H(RB,$.FB);$.zu(RB,$.FB);RB.prototype.Fr=function(a,b){$.HB(this,a,b);return this;};RB.prototype.fc=function(a){return $.n(a)?($.HB(this,a,this.j/EB),this):this.D/EB;};RB.prototype.Tb=function(a){return $.n(a)?($.HB(this,this.D/EB,a),this):this.j/EB;};var kI=$.FB.prototype;kI.thumbs=kI.K;kI=QB.prototype;kI.normal=kI.Pa;kI.hovered=kI.kb;kI=RB.prototype;$.F("anychart.standalones.scroller",function(){var a=new RB();a.N($.om("standalones.scroller"));return a;});kI.setRange=kI.Fr;kI.startRatio=kI.fc;kI.endRatio=kI.Tb;kI.parentBounds=kI.ja;kI.getRemainingBounds=kI.xd;kI.container=kI.O;kI.padding=kI.padding;kI.draw=kI.W;$.H($.SB,$.FB);var lI={};$.vq(lI,0,"position",function(a,b){return $.Ak(tda,a,b||"after-axes");});$.S($.SB,lI);$.SB.prototype.F=function(){var a=$.SB.u.F.call(this);$.Xq(this,lI,a);return a;};$.SB.prototype.U=function(a,b){$.SB.u.U.call(this,a,b);$.Pq(this,lI,a,b);};$.g=TB.prototype;$.g.sB=function(a,b){a=$.Za($.N(a),0,1);(0,window.isNaN)(a)&&(a=this.i);b=$.Za($.N(b),0,1);(0,window.isNaN)(b)&&(b=this.b);this.f=null;if(this.i!=a||this.b!=b)this.i=a,this.b=b,this.oa.B(268435456,1);return this;};$.g.L5=function(a,b,c){this.f={start:a,end:b,scale:c};this.oa.B(268435456,1);return this;};$.g.K5=function(a,b,c){this.f={count:$.Jo(a),scale:c,Yea:!!b};this.oa.B(268435456,1);return this;};$.g.Dz=function(){UB(this);return this.i;};$.g.Cz=function(){UB(this);return this.b;};$.g.lS=function(a){return $.n(a)?(a=!!a,this.j!=a&&(this.j=a),this):this.j;};$.g.N=function(a){$.n(a)&&((0,window.isNaN)(+a)?$.C(a)&&(this.lS(a.continuous),$.n(a.startValue)&&$.n(a.endValue)?this.L5(a.startValue,a.endValue,$.J(a.scale,$s)?a.scale:void 0):$.n(a.pointsCount)?this.K5(a.pointsCount,a.fromEnd,$.J(a.scale,$s)?a.scale:void 0):this.sB(a.startRatio,a.endRatio)):this.sB(0,1/Math.abs(+a||1)));return this;};$.g.F=function(){return{startRatio:this.Dz(),endRatio:this.Cz(),continuous:this.j};};var mI=TB.prototype;mI.setTo=mI.sB;mI.setToValues=mI.L5;mI.setToPointsCount=mI.K5;mI.getStartRatio=mI.Dz;mI.getEndRatio=mI.Cz;mI.continuous=mI.lS;$.H($.VB,$.BA);var nI=function(){var a={};$.wq(a,[[0,"zAngle",function(a){return $.Za($.N(a),0,90);}],[0,"zAspect",function(a){return $.ea(a)?Math.max(a,0):a;}],[0,"zDistribution",$.Hq],[0,"zPadding",function(a){return Math.max($.N(a),0)||0;}]]);return a;}();$.S($.VB,nI);$.g=$.VB.prototype;$.g.ra=$.BA.prototype.ra|1879048192;$.g.Rq=function(a){return $.n(a)?($.V(this),this.Tc.N(a),this.da(!0),this):this.Tc;};$.g.Sq=function(a){return $.n(a)?($.V(this),this.Wf.N(a),this.da(!0),this):this.Wf;};$.g.Kp=function(a){this.D||(this.D=new $.SB(),this.D.jb(this),$.L(this.D,this.UZ,this),this.vc.ua(this.D,"scrollerchange",this.hK),this.vc.ua(this.D,"scrollerchangefinish",this.hK),this.B(536870916,1),$.W(this,"xScroller",this.D));return $.n(a)?(this.D.N(a),this):this.D;};$.g.Qr=function(a){this.G||(this.G=new $.SB(),this.G.jb(this),$.L(this.G,this.UZ,this),this.vc.ua(this.G,"scrollerchange",this.hK),this.vc.ua(this.G,"scrollerchangefinish",this.hK),this.B(1073741828,1),$.W(this,"yScroller",this.G));return $.n(a)?(this.G.N(a),this):this.G;};$.g.UZ=function(a){var b=a.target==this.Kp()?536870912:1073741824,c=1;$.X(a,8)&&(b|=4,c|=8);this.B(b,c);};$.g.hK=function(a){var b=a.target==this.Kp()?this.Tc:this.Wf;b.lS()^"scrollerchangefinish"==a.type&&(a.preventDefault(),$.V(this),b.sB(a.startRatio,a.endRatio),this.da(!0));};$.g.Et=function(a,b){return new $.wB(this,this,a,b,!0);};$.g.Ps=function(a){return $.Ak(wda,a,"line");};$.g.aD=function(a){a=bC(this.Qr(),a);this.Bk=a.u5;a=bC(this.Kp(),a.u0);return $.VB.u.aD.call(this,a.u0,a.u5);};$.g.M_=function(a,b){var c=cC(this,a,this.Kp(),b),d=this.Qr();return cC(this,c,d,this.Bk);};$.g.xR=function(a){if(this.J(268435456)){for(var b in this.im){var c=this.Rq().Dz(),d=1/(this.Rq().Cz()-c);at(this.im[b],d,c);}$.HB(this.Kp(),this.Rq().Dz(),this.Rq().Cz());a||this.B(570687488);}};$.g.yR=function(a){if(this.J(268435456)){for(var b in this.mn){var c=this.Sq().Dz(),d=1/(this.Sq().Cz()-c);at(this.mn[b],d,c);}$.HB(this.Qr(),this.Sq().Dz(),this.Sq().Cz());a||this.B(1107296256);}};$.g.K_=function(){this.J(268435456)&&(this.xR(!0),this.yR(!0),this.B(1644167168));};$.g.nb=function(){$.VB.u.nb.call(this);this.I(268435456);};$.g.sU=function(){return this.Tc.Dz();};$.g.rU=function(){return this.Tc.Cz();};$.g.MT=function(){return $.VB.u.MT.call(this)|1610612736;};$.g.YQ=function(){$.VB.u.YQ.call(this);this.J(536870912)&&(this.Kp().O(this.Ma),this.Kp().W(),this.I(536870912));this.J(1073741824)&&(this.Qr().O(this.Ma),this.Qr().W(),this.I(1073741824));};$.g.Q5=function(a,b,c){var d=this.J1(b);b=d.transform(c,0);c=d.transform(c,1);return"selected"!=a||1>=Math.min(b,c)&&0<=Math.max(b,c);};$.g.J1=function(a){return a.sl();};$.g.dt=function(a,b,c){$.VB.u.dt.call(this,a,b,c);$.Pq(this,nI,a);"xScroller"in a&&this.Kp().fa(!!c,a.xScroller);"yScroller"in a&&this.Qr().fa(!!c,a.yScroller);var d=a.xZoom;$.C(d)&&($.ea(d.scale)||$.z(d.scale))?(c=d.scale,d.scale=b[d.scale],this.Rq(d),d.scale=c):this.Rq(d);a=a.yZoom;$.C(a)&&($.ea(a.scale)||$.z(a.scale))?(c=a.scale,a.scale=b[a.scale],this.Sq(a),a.scale=c):this.Sq(a);};$.g.F=function(){var a=$.VB.u.F.call(this);$.Xq(this,nI,a);a.xScroller=this.Kp().F();a.yScroller=this.Qr().F();a.xZoom=this.Rq().F();a.yZoom=this.Sq().F();return{chart:a};};$.g.R=function(){$.VB.u.R.call(this);$.ud(this.D,this.G);this.G=this.D=null;};$.g=$.dC.prototype;$.g.ws=ba(29);$.g.Wt=function(){$.fC(this);return this.b.concat();};$.g.Vj=function(){return 0==this.i;};$.g.clear=function(){this.f={};this.i=this.b.length=0;};$.g.remove=function(a){return $.eC(this.f,a)?(delete this.f[a],this.i--,this.b.length>2*this.i&&$.fC(this),!0):!1;};$.g.get=function(a,b){return $.eC(this.f,a)?this.f[a]:b;};$.g.set=function(a,b){$.eC(this.f,a)||(this.i++,this.b.push(a));this.f[a]=b;};$.g.forEach=function(a,b){for(var c=this.Wt(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this);}};$.g.clone=function(){return new $.dC(this);};$.H($.gC,Ez);$.gC.prototype.update=function(){for(var a=0;a<this.dc.length;a++)this.dc[a].update();this.dc.length&&this.dc[0].jG((0,$.Qn)());};$.H($.hC,$.U);$.g=$.hC.prototype;$.g.pa=9;$.g.g=$.mr;$.g.ig=function(a){$.n(a)&&(this.Vb=a);return this.Vb;};$.g.bh=$.lr;$.g.Vd=function(){var a=[this.na];this.Y&&(a=$.Ga(a,this.Y.Vd()));return a;};$.g.Ud=function(){var a=[this.Oa];this.Y&&(a=$.Ga(a,this.Y.Ud()));return a;};var fea=$.hC.prototype,oI={};$.vq(oI,1,"stroke",$.Tq);$.vq(oI,1,"fill",$.Uq);fea.aR=oI;$.S($.hC,$.hC.prototype.aR);$.g=$.hC.prototype;$.g.content=function(a){return $.n(a)?(this.Nd!=a&&(this.b=$.J(a,$.kg)||$.J(a,$.Y)?this.Nd:this.fi,this.fi=this.Nd=a,this.bk||(this.bk=$.pk()),$.J(a,$.kg)?this.bk.gc(a):$.J(a,$.Y)?($.V(a),a.O(this.bk)):(a=$.aq(a))?(this.fi=a,$.V(a),a.O(this.bk)):this.fi=null,this.va(8)),this):this.Nd;};$.g.$d=function(){var a=this.xa.OT();return{x:a[0],y:a[1]};};$.g.qb=function(){var a=this.xa.E1();return a?a.clone():$.nn(0,0,0,0);};$.g.VF=function(){if(this.b){var a=this.b;$.J(a,$.kg)?(this.bk.Ia().ec("renderfinish",this.xa.bK,!1,this.xa),a.remove()):($.V(a),$.J(a,$.Vu)?$.av(a)&&$.av(a).clear(a.la()):$.J(a,$.gy)?$.hy(a)&&$.hy(a).clear(a.la()):$.J(a,$.Y)&&(a.O(null),a.remove()),this.fi.ec("chartdraw",this.xa.cL,!1,this.xa),a.da(!1));this.b=null;}};$.g.U=function(a,b){$.hC.u.U.call(this,a,b);$.Pq(this,this.aR,a,b);"content"in a&&this.content(a.content);};$.g.F=function(){var a={};$.Xq(this,this.aR,a,"Map axes props");this.fi&&$.J(this.fi,$.wx)&&(a.content=this.fi.HB());return a;};$.g.R=function(){this.b=this.fi;this.VF();this.fi=this.Nd=null;$.ud(this.bk);this.bk=null;$.hC.u.R.call(this);};var pI=$.hC.prototype;pI.content=pI.content;pI.getPoint=pI.$d;pI.getBounds=pI.qb;$.H($.iC,$.Jg);$.iC.prototype.clear=function(){for(var a;a=this.$b();)this.b.push(this.Cj(a-1));return this;};$.iC.prototype.R=function(){for(var a=this.b.length;a--;)$.pd(this.b[a]);this.b=null;delete this.j;delete this.i;this.f=null;$.iC.u.R.call(this);};$.H(kC,$.OA);$.WG[1]=kC;$.g=kC.prototype;$.g.type=1;$.g.flags=241;$.g.Fh={fill:"path",hatchFill:"path",stroke:"path"};$.g.dea=function(a,b,c,d,e,f,h){f=a.o("nextZeroX");var k=a.o("nextZero"),l=a.o("nextValueX");a=a.o("nextValue");(0,window.isNaN)(k)||(0,window.isNaN)(a)?(lC(this,this.b,b,c,d,e,h),this.f=[d,e]):(lC(this,this.b,l,a,f,k,h),this.f=[f,k]);};$.g.eea=function(a,b,c,d,e,f,h){lC(this,this.b,b,c,d,e,h);this.i=b;this.Ki=e;};$.g.mea=function(a,b,c,d,e,f){var h=this.bd,k=this.mh(f,this.prevValue),l={};l[k.stroke]=!0;l[k.fill]=!0;l[k.pe]=!0;h=h.dd(this.Dc,l);l=a.o("prevZeroX");var m=a.o("prevZero"),p=a.o("prevValueX"),q=a.o("prevValue");(0,window.isNaN)(m)||(0,window.isNaN)(q)||(mC(this,h,p,q,m,f),this.f.push(l,m),this.Hm(),lC(this,h,b,c,d,e,k),this.f=[d,e]);mC(this,h,b,c,e,f);this.f.push(d,e);b=a.o("nextZeroX");c=a.o("nextZero");d=a.o("nextValueX");a=a.o("nextValue");(0,window.isNaN)(c)||(0,window.isNaN)(a)||(this.Hm(),lC(this,h,d,a,b,c,k),this.f=[b,c]);};$.g.nea=function(a,b,c,d,e,f){a=this.bd;var h=this.mh(f,this.prevValue),k={};k[h.stroke]=!0;k[h.fill]=!0;k[h.pe]=!0;a=a.dd(this.Dc,k);mC(this,a,b,c,e,f);this.i=d;};$.g.Dd=function(a){kC.u.Dd.call(this,a);this.fc=!!this.X.g("closed");this.eb=!1;this.Tb=this.ea=this.rb=this.D=window.NaN;this.X.B2()?(this.Ya=this.dea,this.Za=this.mea):(this.Ya=this.eea,this.Za=this.nea);};$.g.hA=function(a,b){(0,window.isNaN)(this.D)&&(this.eb=!0);kC.u.hA.call(this,a,b);};$.g.Mo=function(a){var b=this.bd,c=a.get(this.X.Ce()[0]),d=this.mh(c,this.prevValue),e={};e[d.stroke]=!0;e[d.fill]=!0;e[d.pe]=!0;this.b=b.dd(this.Dc,e);b=a.o("x");e=a.o("value");var f=a.o("zeroX"),h=a.o("zero");this.Ya(a,b,e,f,h,c,d);(0,window.isNaN)(this.D)&&(this.D=b,this.rb=e,this.ea=f,this.Tb=h);this.ma=b;this.P=e;this.prevValue=c;this.Ja=h;this.K=d;};$.g.tg=function(a){var b=a.get(this.X.Ce()[0]),c=this.mh(b,this.prevValue),d=a.o("x"),e=a.o("value"),f=a.o("zeroX"),h=a.o("zero");this.Za(a,d,e,f,h,b);this.ma=d;this.P=e;this.prevValue=b;this.Ja=h;this.K=c;};$.g.Hm=function(){if(this.G){var a=this.b,b=this.K,c=a[b.fill];a=a[b.pe];if(this.f){for(b=this.f.length-1;0<=b;b-=2){var d=this.f[b-1],e=this.f[b];e=$.O(e,1);e=e<this.P?Math.floor(e):Math.ceil(e);$.NA(c,this.wa,d,e);$.NA(a,this.wa,d,e);}c.close();a.close();this.f=null;}else(0,window.isNaN)(this.i)||(b=$.O(this.Ki,1),b=b<this.P?Math.floor(b):Math.ceil(b),$.NA(c,this.wa,this.i,b),$.NA(a,this.wa,this.i,this.Ki),c.close(),a.close());}};$.g.Nl=function(){this.fc&&!(0,window.isNaN)(this.D)&&(this.Ba||this.G&&!this.eb)&&(mC(this,this.b,this.D,this.rb,this.Ja,this.prevValue),this.X.gh()?this.f.push(this.ea,this.Tb):this.i=this.ea);kC.u.Nl.call(this);};$.H($.nC,$.OA);$.WG[4]=$.nC;$.g=$.nC.prototype;$.g.type=4;$.g.flags=514;$.g.Fh={circle:"circle",hatchFill:"circle",negative:"circle",negativeHatchFill:"circle"};$.g.tg=function(a,b){if(0>a.o("size")){var c="negative";var d="negativeHatchFill";}else c="circle",d="hatchFill";var e={};e[c]=!0;e[d]=!0;c=this.bd.dd(b,e);oC(this,a,c);};$.g.vt=function(a){var b=a.o("shapes");oC(this,a,b);};$.H(pC,$.OA);$.WG[5]=pC;$.g=pC.prototype;$.g.type=5;$.g.flags=$.$G|263744;$.g.Fh={rising:"path",risingHatchFill:"path",falling:"path",fallingHatchFill:"path"};$.g.Lp=["open","high","low","close"];$.g.Cl="close";$.g.tg=function(a,b){var c=Number(a.get("open"))<Number(a.get("close"));if(c){var d="rising";var e="risingHatchFill";}else d="falling",e="fallingHatchFill";var f={};f[d]=!0;f[e]=!0;f=this.bd.dd(b,f);var h=a.o("x"),k=a.o("open"),l=a.o("high"),m=a.o("low"),p=a.o("close"),q=this.j/2;d=f[d];$.MA(d,this.wa,h,l);$.NA(d,this.wa,h,c?p:k);$.MA(d,this.wa,h-q,k);$.NA(d,this.wa,h+q,k,h+q,p,h-q,p,h-q,k);$.MA(d,this.wa,h,m);$.NA(d,this.wa,h,c?k:p);d=f[e];$.MA(d,this.wa,h,l);$.NA(d,this.wa,h,c?p:k);$.MA(d,this.wa,h-q,k);$.NA(d,this.wa,h+q,k,h+q,p,h-q,p,h-q,k);$.MA(d,this.wa,h,m);$.NA(d,this.wa,h,c?k:p);};$.H($.qC,$.OA);$.WG[6]=$.qC;$.g=$.qC.prototype;$.g.type=6;$.g.flags=263905;$.g.Fh={path:"path",hatchFill:"path"};$.g.tg=function(a,b){var c=this.bd,d=a.get(this.X.Ce()[0]),e=this.mh(d,this.prevValue),f={};f[e.path]=!0;f[e.pe]=!0;a.o("names",e);c=c.dd(b,f);this.vF(a,c[e.path],c[e.pe]);this.prevValue=d;};$.g.vt=function(a){var b=a.o("shapes"),c=a.o("names"),d;for(d in b)b[d].clear();this.vF(a,b[c.path],b[c.pe]);};$.g.vF=function(a,b,c){if(!a.o("skipDrawing")){var d=a.o("x"),e=a.o("zero");a=a.o("value");d-=this.j/2;var f=d+this.j,h=$.cc(b.stroke());this.uv&&(d=$.O(d,h),f=$.O(f,h),a=$.O(a,h),this.wa?(e=$.O(e,1),e=e<a?Math.floor(e):Math.ceil(e)):e=$.O(e,h));$.MA(b,this.wa,d,a);$.NA(b,this.wa,f,a,f,e,d,e);b.close();$.MA(c,this.wa,d,a);$.NA(c,this.wa,f,a,f,e,d,e);c.close();}};$.H(rC,$.OA);$.WG[19]=rC;$.g=rC.prototype;$.g.type=19;$.g.flags=34505;$.g.Fh={stroke:"path"};$.g.tg=function(a,b){var c=this.bd,d=a.get(this.X.Ce()[0]),e=this.mh(d,this.prevValue),f={};f[e.stroke]=!0;a.o("names",e);c=c.dd(b,f);sC(this,a,c,e);this.prevValue=d;};$.g.vt=function(a){var b=a.o("shapes"),c=a.o("names"),d;for(d in b)b[d].clear();sC(this,a,b,c);};$.H($.tC,$.OA);$.WG[8]=$.tC;$.g=$.tC.prototype;$.g.type=8;$.g.flags=32985;$.g.Fh={stroke:"path"};$.g.Dd=function(a){$.tC.u.Dd.call(this,a);this.td=!!this.X.g("closed");this.fc=!1;this.eb=this.ea=window.NaN;};$.g.hA=function(){(0,window.isNaN)(this.ea)&&(this.fc=!0);};$.g.Mo=function(a){var b=a.get(this.X.Ce()[0]),c=this.mh(b,this.prevValue),d={};d[c.stroke]=!0;this.b=this.bd.dd(this.Dc,d);d=a.o("x");a=a.o("value");$.MA(this.b[c.stroke],this.wa,d,a);(0,window.isNaN)(this.ea)&&(this.ea=d,this.eb=a);this.ma=d;this.P=a;this.prevValue=b;this.K=c;};$.g.tg=function(a){var b=this.bd,c=a.get(this.X.Ce()[0]),d=this.mh(c,this.prevValue),e={};e[d.stroke]=!0;b=b.dd(this.Dc,e);e=a.o("x");var f=a.o("value");if(b!=this.b){var h=this.ma;var k=this.P;var l=PA(this,c);this.ba&&l?(k=a.o("zero"),a=(e-this.ma)*(k-this.P)/(f-this.P)+this.ma):this.Ha&&!this.ba?a=h:(a=h+(e-h)/2,k+=(f-k)/2);$.NA(this.b[this.K.stroke],this.wa,a,k);this.b=b;$.MA(this.b[d.stroke],this.wa,a,k);}$.NA(this.b[d.stroke],this.wa,e,f);this.ma=e;this.P=f;this.prevValue=c;this.K=d;};$.g.Nl=function(){this.KZ();$.tC.u.Nl.call(this);};$.g.KZ=function(){this.td&&!(0,window.isNaN)(this.ea)&&(this.Ba||this.G&&!this.fc)&&$.NA(this.b[this.K.stroke],this.wa,this.ea,this.eb);};$.H($.uC,$.OA);$.WG[9]=$.uC;$.g=$.uC.prototype;$.g.type=9;$.g.flags=8832;$.g.Fh={path:"path",hatchFill:"path"};$.g.MB=function(a,b){var c=a.o("shapes"),d=a.o("names");c&&(c[d.path].clear(),c[d.pe].clear(),$.vC(this,a,b,c,d));};$.g.tg=function(a,b){var c=this.bd,d=a.get(this.X.Ce()[0]),e=this.mh(d,this.prevValue),f={};f[e.path]=!0;f[e.pe]=!0;a.o("names",e);c=c.dd(b,f);$.vC(this,a,b,c,e);this.prevValue=d;};$.H(wC,$.OA);$.WG[10]=wC;$.g=wC.prototype;$.g.type=10;$.g.flags=$.$G|263752;$.g.Fh={rising:"path",falling:"path"};$.g.Lp=["open","high","low","close"];$.g.Cl="close";$.g.tg=function(a,b){var c=Number(a.get("open"))<Number(a.get("close"))?"rising":"falling",d={};d[c]=!0;var e=this.bd.dd(b,d);d=a.o("x");var f=a.o("open"),h=a.o("high"),k=a.o("low"),l=a.o("close"),m=this.j/2;c=e[c];$.MA(c,this.wa,d,h);$.NA(c,this.wa,d,k);$.MA(c,this.wa,d-m,f);$.NA(c,this.wa,d,f);$.MA(c,this.wa,d+m,l);$.NA(c,this.wa,d,l);};$.H(xC,$.OA);$.WG[11]=xC;$.g=xC.prototype;$.g.type=11;$.g.flags=$.gm|16;$.g.Fh={fill:"path",hatchFill:"path",lowStroke:"path",highStroke:"path"};$.g.Lp=["low","high"];$.g.Cl="high";$.g.mh=function(a,b){var c={},d="fill",e="hatchFill";a>b?this.rc&&(d="highFill",e="highHatchFill"):this.Tc&&(d="lowFill",e="lowHatchFill");c.VU="highStroke";c.VV="lowStroke";c.fill=d;c.pe=e;return c;};$.g.Mo=function(a){var b=this.bd,c=this.X.Ce(),d=a.get(c[1]);c=a.get(c[0]);d=this.mh(d,c);c={};c[d.VU]=!0;c[d.VV]=!0;c=b.dd(this.Dc,c);this.P=c[d.VU];this.ea=c[d.VV];c={};c[d.fill]=!0;c[d.pe]=!0;this.b=b.dd(this.Dc,c);b=a.o("x");c=a.o("high");a=a.o("low");var e=this.b[d.fill],f=this.b[d.pe];$.MA(e,this.wa,b,a);$.NA(e,this.wa,b,c);$.MA(f,this.wa,b,a);$.NA(f,this.wa,b,c);$.MA(this.P,this.wa,b,c);this.f=[b,a,e,f];this.D=b;this.K=c;this.ma=a;this.i=d;};$.g.tg=function(a){var b=this.bd,c=this.X.Ce(),d=a.get(c[1]);c=a.get(c[0]);d=this.mh(d,c);c={};c[d.fill]=!0;c[d.pe]=!0;b=b.dd(this.Dc,c);c=a.o("x");var e=a.o("high"),f=a.o("low");if(this.b!=b){var h=yn(this.D,this.K,c,e,this.D,this.ma,c,f);if(h){a=this.b[this.i.fill];var k=this.b[this.i.pe];$.NA(a,this.wa,h.x,h.y);$.NA(k,this.wa,h.x,h.y);this.f.push(h.x,h.y,a,k);this.b=b;a=this.b[d.fill];k=this.b[d.pe];$.MA(a,this.wa,h.x,h.y);$.MA(k,this.wa,h.x,h.y);this.f.push(h.x,h.y,a,k);}}a=this.b[d.fill];k=this.b[d.pe];$.NA(a,this.wa,c,e);$.NA(k,this.wa,c,e);$.NA(this.P,this.wa,c,e);this.f.push(c,f,a,k);this.D=c;this.K=e;this.ma=f;this.i=d;};$.g.Hm=function(){if(this.G&&this.f){for(var a=!0,b=null,c=this.f.length-1;0<=c;c-=4){var d=this.f[c-3],e=this.f[c-2],f=this.f[c-1],h=this.f[c];b&&f!=b?($.MA(f,this.wa,d,e),$.MA(h,this.wa,d,e)):($.NA(f,this.wa,d,e),$.NA(h,this.wa,d,e));a?($.MA(this.ea,this.wa,d,e),a=!1):$.NA(this.ea,this.wa,d,e);b=f;}this.f=null;}};$.H($.yC,$.OA);$.WG[12]=$.yC;$.g=$.yC.prototype;$.g.type=12;$.g.flags=$.gm|263680;$.g.Fh={path:"path",hatchFill:"path"};$.g.Lp=["low","high"];$.g.Cl="high";$.g.tg=function(a,b){if(!a.o("skipDrawing")){var c=this.X.Ce(),d=a.get(c[1]);c=a.get(c[0]);d=this.mh(d,c);c={};c[d.path]=!0;c[d.pe]=!0;a.o("name",d.path);c=this.bd.dd(b,c);var e=a.o("x"),f=a.o("high"),h=a.o("low");e-=this.j/2;var k=e+this.j,l=$.cc(c[d.path].stroke());this.uv&&(e=$.O(e,l),k=$.O(k,l));f=$.O(f,l);h=$.O(h,l);l=c[d.path];$.MA(l,this.wa,e,h);$.NA(l,this.wa,k,h);$.NA(l,this.wa,k,f);$.NA(l,this.wa,e,f);l.close();l=c[d.pe];$.MA(l,this.wa,e,h);$.NA(l,this.wa,k,h);$.NA(l,this.wa,k,f);$.NA(l,this.wa,e,f);l.close();}};zC.prototype.wa=function(a){return $.n(a)?(this.K=a,this):this.K;};zC.prototype.aa=function(a){return $.n(a)?(this.i=a,this):this.i;};zC.prototype.f=function(a){var b,c,d=arguments;for(b=0;b<this.Aa.length;b++){var e=this.Aa[b];var f=0;for(c=d.length;f<c;f++)switch(d[f]){case"m":if(this.K){var h=d[f+2];var k=d[f+1];}else h=d[f+1],k=d[f+2];e.moveTo(h,k);f+=2;break;case"bs":if(this.K){h=d[f+2];k=d[f+1];var l=d[f+4];var m=d[f+3];}else h=d[f+1],k=d[f+2],l=d[f+3],m=d[f+4];e.b?(e.moveTo(h,k),e.lineTo(l,m)):e.moveTo(l,m);f+=4;break;case"bc":this.K?(l=d[f+2],m=d[f+1]):(l=d[f+1],m=d[f+2]);e.b&&e.lineTo(l,m);f+=2;break;case"c":this.K?(h=d[f+2],k=d[f+1],l=d[f+4],m=d[f+3]):(h=d[f+1],k=d[f+2],l=d[f+3],m=d[f+4]);e.cK(h,k,l,m);f+=4;break;case"l":this.K?(h=d[f+2],k=d[f+1]):(h=d[f+1],k=d[f+2]),e.lineTo(h,k);}}};$.H(IC,$.OA);$.WG[13]=IC;$.g=IC.prototype;$.g.type=13;$.g.flags=$.gm|16;$.g.Fh={fill:"path",hatchFill:"path",lowStroke:"path",highStroke:"path"};$.g.Lp=["low","high"];$.g.mh=function(a,b){var c={},d="fill",e="hatchFill";a>b?this.rc&&(d="highFill",e="highHatchFill"):this.Tc&&(d="lowFill",e="lowHatchFill");c.VU="highStroke";c.VV="lowStroke";c.fill=d;c.pe=e;return c;};$.g.Dd=function(a){IC.u.Dd.call(this,a);this.i.wa(this.wa);a=this.X.bB();$.n(a)&&(this.i.Ha=a);this.D.wa(this.wa);a=this.X.bB();$.n(a)&&(this.D.Ha=a);this.K=[];};$.g.Mo=function(a){var b=this.bd,c=this.X.Ce(),d=a.get(c[1]);c=a.get(c[0]);var e={highStroke:!0,lowStroke:!0};e=b.dd(this.Dc,e);this.P=e.highStroke;this.ea=e.lowStroke;var f=this.mh(d,c);e={};e[f.fill]=!0;e[f.pe]=!0;b.dd(this.Dc,e);b=a.o("x");e=a.o("high");a=a.o("low");GC(this.i,!1);this.i.Aa=[this.P];(e=EC(this.i,b,e))&&this.K.push.apply(this.K,e);e=this.X.$().current();f=this.X.$().la();this.f=[b,a,d,c,e,f];};$.g.tg=function(a){var b=this.bd,c=this.X.Ce(),d=a.get(c[1]);c=a.get(c[0]);var e=this.mh(d,c),f={};f[e.fill]=!0;f[e.pe]=!0;b.dd(this.Dc,f);b=a.o("x");e=a.o("high");a=a.o("low");(e=EC(this.i,b,e))&&this.K.push.apply(this.K,e);e=this.X.$().current();f=this.X.$().la();this.f.push(b,a,d,c,e,f);};$.g.Hm=function(){var a=this.bd;if(this.G){var b=FC(this.i);b&&this.K.push.apply(this.K,b);this.i.Aa=[this.ea];GC(this.i,!0);GC(this.D,!0);b=[];if(this.f){for(var c=!0,d=this.X.Xf(),e=this.f.length-1;0<=e;e-=6){var f=this.f[e-2],h=this.f[e-3];var k=this.f[e-4];var l=this.f[e-5];d.Gu(this.f[e-1],this.f[e]);h=this.mh(h,f);f=a.dd(this.Dc,d.o("shapeNames"));EC(this.D,l,k);EC(this.i,l,k);c?(this.b=f,k=f[h.fill],l=f[h.pe],this.D.Aa=[k,l],c=!1):(k=e==this.f.length-7||5==e?6:12,k=$.Ca(this.K,this.K.length-k,k),$.qa($.Ca,b,void 0,0).apply(null,k),this.b!=f&&(k=f[h.fill],l=f[h.pe],h=this.D,k=[k,l],h.b=b.slice(),h.P=k,b.length=0,this.b=f));}$.qa($.Ca,this.D.Th,void 0,0).apply(null,b);FC(this.D);FC(this.i);this.f=null;}}};$.H(JC,$.OA);$.WG[14]=JC;$.g=JC.prototype;$.g.type=14;$.g.flags=$.gm|131088;$.g.Fh={fill:"path",hatchFill:"path",highStroke:"path",lowStroke:"path"};$.g.Lp=["low","high"];$.g.Cl="high";$.g.Dd=function(a){JC.u.Dd.call(this,a);this.P=this.X.g("stepDirection")||"center";};$.g.Mo=function(a){var b=this.bd.dd(this.Dc),c=a.o("x"),d=a.o("high");a=a.o("low");$.MA(b.fill,this.wa,c,a);$.NA(b.fill,this.wa,c,d);$.MA(b.hatchFill,this.wa,c,a);$.NA(b.hatchFill,this.wa,c,d);$.MA(b.highStroke,this.wa,c,d);this.D=c;this.i=d;this.f=[c,a];};$.g.tg=function(a){var b=this.bd.dd(this.Dc),c=a.o("x"),d=a.o("high");a=a.o("low");var e=b.fill,f=b.hatchFill;b=b.highStroke;switch(this.P){case"forward":$.NA(e,this.wa,c,this.i);$.NA(f,this.wa,c,this.i);$.NA(b,this.wa,c,this.i);break;case"backward":$.NA(e,this.wa,this.D,d);$.NA(f,this.wa,this.D,d);$.NA(b,this.wa,this.D,d);break;default:var h=(c+this.D)/2;$.NA(e,this.wa,h,this.i,h,d);$.NA(f,this.wa,h,this.i,h,d);$.NA(b,this.wa,h,this.i,h,d);}$.NA(e,this.wa,c,d);$.NA(f,this.wa,c,d);$.NA(b,this.wa,c,d);this.D=c;this.i=d;this.f.push(c,a);};$.g.Hm=function(){if(this.G&&this.f){var a=this.bd.dd(this.Dc),b=a.fill,c=a.hatchFill;a=a.lowStroke;for(var d=window.NaN,e=window.NaN,f=!0,h=this.f.length-1;0<=h;h-=2){var k=this.f[h-1],l=this.f[h];if(f)$.MA(a,this.wa,k,l),f=!1;else switch(this.P){case"forward":$.NA(b,this.wa,d,l);$.NA(c,this.wa,d,l);$.NA(a,this.wa,d,l);break;case"backward":$.NA(b,this.wa,k,e);$.NA(c,this.wa,k,e);$.NA(a,this.wa,k,e);break;default:d=(k+d)/2,$.NA(b,this.wa,d,e,d,l),$.NA(c,this.wa,d,e,d,l),$.NA(a,this.wa,d,e,d,l);}$.NA(b,this.wa,k,l);$.NA(c,this.wa,k,l);$.NA(a,this.wa,k,l);d=k;e=l;}b.close();c.close();this.f=null;}};$.H(KC,$.OA);$.WG[31]=KC;$.g=KC.prototype;$.g.type=31;$.g.flags=$.gm|295433;$.g.Fh={stroke:"path"};$.g.Dd=function(a){KC.u.Dd.call(this,a);this.uv=2<this.j;};$.g.Lp=["low","high"];$.g.Cl="high";$.g.tg=function(a,b){var c=this.X.Ce(),d=a.get(c[1]),e=a.get(c[0]),f={};c="stroke";d>e?this.Ed&&(c="highStroke"):this.Od&&(c="lowStroke");f[c]=!0;a.o("name",c);d=this.bd.dd(b,f);LC(this,a,d,c);};$.g.vt=function(a){var b=a.o("shapes"),c=a.o("name"),d;for(d in b)b[d].clear();LC(this,a,b,c);};$.H(MC,$.OA);$.WG[15]=MC;$.g=MC.prototype;$.g.type=15;$.g.flags=32985;$.g.Fh={stroke:"path"};$.g.Dd=function(a){MC.u.Dd.call(this,a);this.f.wa(this.wa);a=this.X.bB();$.n(a)&&(this.f.Ha=a);};$.g.Mo=function(a){var b=a.get(this.X.Ce()[0]),c=this.mh(b,this.prevValue),d=a.o("x");a=a.o("value");var e={};e[c.stroke]=!0;this.b=this.bd.dd(this.Dc,e);this.f.Aa=[this.b[c.stroke]];GC(this.f,!1);EC(this.f,d,a);this.P=a;this.prevValue=b;};$.g.tg=function(a){var b=a.get(this.X.Ce()[0]),c=this.bd,d=this.mh(b,this.prevValue),e={};e[d.stroke]=!0;c=c.dd(this.Dc,e);var f=a.o("x");e=a.o("value");EC(this.f,f,e);if(c!=this.b){var h;f=this.P;var k=PA(this,b);this.ba&&k?h=a.o("zero"):this.Ha&&!this.ba?h=f:h="middle";a=this.f;d=[c[d.stroke]];a.b=h;a.P=d;this.b=c;}this.P=e;this.prevValue=b;};$.g.Hm=function(){this.G&&FC(this.f);};$.g.R=function(){this.f.Aa=null;MC.u.R.call(this);};$.H(NC,$.OA);$.WG[16]=NC;$.g=NC.prototype;$.g.type=16;$.g.flags=241;$.g.Fh={fill:"path",hatchFill:"path",stroke:"path"};$.g.Dd=function(a){NC.u.Dd.call(this,a);this.i.wa(this.wa);a=this.X.bB();$.n(a)&&(this.i.Ha=a);};$.g.hA=function(a){if(this.Ba){if(this.X.gh()){var b=a.o("x"),c=a.o("zero");a=a.o("zeroMissing");this.f.push(b,c,a);}}else this.Hm();};$.g.Mo=function(a){var b=a.get(this.X.Ce()[0]),c=this.mh(b,this.prevValue),d=a.o("x"),e=a.o("zero"),f=a.o("zeroMissing");a=a.o("value");e=ap(e);a=ap(a);GC(this.i,!1);this.i.aa(e);EC(this.i,d,a);var h={};h[c.stroke]=!0;h[c.fill]=!0;h[c.pe]=!0;this.b=this.bd.dd(this.Dc,h);h=this.b[c.fill];h.b=!0;var k=this.b[c.pe];k.b=!0;c=this.b[c.stroke];c.b=!1;this.i.Aa=[h,c,k];this.X.gh()?this.f=[d,e,f]:this.Ki=e;this.P=a;this.prevValue=b;};$.g.tg=function(a){var b=this.bd,c=a.get(this.X.Ce()[0]),d=this.D=this.mh(c,this.prevValue),e=a.o("x"),f=a.o("zero"),h=a.o("zeroMissing");a=a.o("value");f=ap(f);a=ap(a);EC(this.i,e,a);var k={};k[d.stroke]=!0;k[d.fill]=!0;k[d.pe]=!0;b=b.dd(this.Dc,k);if(b!=this.b){var l;k=this.P;var m=PA(this,c);this.ba&&m?l=f:this.Ha&&!this.ba?l=k:l="middle";k=b[d.fill];k.b=!0;m=b[d.pe];m.b=!0;var p=b[d.stroke];p.b=!1;d=this.i;k=[k,p,m];d.b=l;d.P=k;this.i.aa(f);this.b=b;}this.X.gh()&&this.f.push(e,f,h);this.P=a;this.prevValue=c;};$.g.Hm=function(){if(this.G&&(FC(this.i),this.f)){var a=this.D,b={};b[a.stroke]=!0;b[a.fill]=!0;b[a.pe]=!0;this.b=this.bd.dd(this.Dc,b);b=this.b[a.fill];b.b=!1;var c=this.b[a.pe];c.b=!1;a=this.b[a.stroke];a.b=!1;this.i.Aa=[b,a,c];GC(this.i,!0);for(var d=a=window.NaN,e=!1,f=!0,h=this.f.length-1;0<=h;h-=3){var k=this.f[h-2],l=this.f[h-1],m=this.f[h];f?($.NA(b,this.wa,k,l),$.NA(c,this.wa,k,l),m||EC(this.i,k,l),f=!1):m&&e?($.NA(b,this.wa,k,l),$.NA(c,this.wa,k,l)):m?(FC(this.i),GC(this.i,!0),$.NA(b,this.wa,a,l,k,l),$.NA(c,this.wa,a,l,k,l)):(e&&($.NA(b,this.wa,k,d,k,l),$.NA(c,this.wa,k,d,k,l)),EC(this.i,k,l));a=k;d=l;e=m;}FC(this.i);this.f=null;}};$.g.R=function(){this.i.Aa=null;NC.u.R.call(this);};$.H(OC,$.OA);$.WG[17]=OC;$.g=OC.prototype;$.g.type=17;$.g.flags=131313;$.g.Fh={fill:"path",hatchFill:"path",stroke:"path"};$.g.Dd=function(a){OC.u.Dd.call(this,a);this.P=this.X.g("stepDirection")||"center";};$.g.Mo=function(a){var b=a.get(this.X.Ce()[0]),c=this.bd,d=this.mh(b,this.prevValue),e={};e[d.stroke]=!0;e[d.fill]=!0;e[d.pe]=!0;c=this.b=c.dd(this.Dc,e);e=a.o("x");a.o("zeroX");var f=a.o("zero"),h=a.o("value");if(this.X.gh()){var k=a.o("nextZero");a=a.o("nextValue");if((0,window.isNaN)(k)||(0,window.isNaN)(a))QC(this,c,d,e,h,f),this.f=[e,f],this.i=h;else{var l=c.stroke;$.MA(l,this.wa,e,h);$.NA(l,this.wa,e,h);QC(this,c,d,e,a,k);this.f=[e,k];this.i=a;}}else QC(this,c,d,e,h,f),this.ea=e,this.Ki=f,this.i=h;this.D=e;this.prevValue=b;this.Ja=f;this.K=d;};$.g.tg=function(a){var b=a.get(this.X.Ce()[0]),c=this.bd,d=this.mh(b,this.prevValue),e={};e[d.stroke]=!0;e[d.fill]=!0;e[d.pe]=!0;c=c.dd(this.Dc,e);e=a.o("x");a.o("zeroX");var f=a.o("zero"),h=a.o("value");if(this.X.gh()){var k=a.o("prevZero"),l=a.o("prevValue"),m=a.o("nextZero");a=a.o("nextValue");(0,window.isNaN)(k)||(0,window.isNaN)(l)?(RC(this,c,d,b,e,h,f),this.f.push(e,f)):(RC(this,c,d,b,e,l,f),this.f.push(e,k),this.D=e,this.i=l,this.Hm(),QC(this,c,d,e,h,f),this.f=[e,f]);(0,window.isNaN)(m)||(0,window.isNaN)(a)?this.i=h:($.NA(c.stroke,this.wa,e,h),this.Hm(),QC(this,c,d,e,a,m),this.f=[e,m],this.i=a);}else RC(this,c,d,b,e,h,f),this.ea=e,this.i=h;this.D=e;this.prevValue=b;this.Ja=f;this.K=d;};$.g.Hm=function(){if(this.G){var a=this.b,b=this.K,c=a[b.fill];a=a[b.pe];if(!(0,window.isNaN)(this.ea))$.NA(c,this.wa,this.ea,this.Ki),$.NA(a,this.wa,this.ea,this.Ki),c.close(),a.close();else if(this.f){var d=window.NaN;b=window.NaN;for(var e=this.f.length-1;0<=e;e-=2){var f=this.f[e-1],h=this.f[e];if(!(0,window.isNaN)(b))switch(this.P){case"forward":$.NA(c,this.wa,d,h);$.NA(a,this.wa,d,h);break;case"backward":$.NA(c,this.wa,f,b);$.NA(a,this.wa,f,b);break;default:d=(f+d)/2,$.NA(c,this.wa,d,b,d,h),$.NA(a,this.wa,d,b,d,h);}$.NA(c,this.wa,f,h);$.NA(a,this.wa,f,h);d=f;b=h;}c.close();a.close();this.f=null;}}};$.H(SC,$.OA);$.WG[18]=SC;$.g=SC.prototype;$.g.type=18;$.g.flags=164057;$.g.Fh={stroke:"path"};$.g.Dd=function(a){SC.u.Dd.call(this,a);this.P=this.X.g("stepDirection")||"center";};$.g.Mo=function(a){var b=a.get(this.X.Ce()[0]),c=this.mh(b,this.prevValue),d={};d[c.stroke]=!0;this.b=this.bd.dd(this.Dc,d);d=a.o("x");a=a.o("value");$.MA(this.b[c.stroke],this.wa,d,a);this.D=d;this.i=a;this.prevValue=b;this.K=c;};$.g.tg=function(a){var b=this.bd,c=a.get(this.X.Ce()[0]),d=this.mh(c,this.prevValue),e={};e[d.stroke]=!0;b=b.dd(this.Dc,e);e=a.o("x");var f=a.o("value"),h=this.i;if(b!=this.b){var k=PA(this,c);this.ba&&k&&(h=a.o("zero"));a=TC(this,this.K,e,this.i,h);this.b=b;$.MA(this.b[d.stroke],this.wa,a,h);}TC(this,d,e,h,f);$.NA(this.b[d.stroke],this.wa,e,f);this.D=e;this.i=f;this.prevValue=c;this.K=d;};$.H(UC,$.OA);$.WG[20]=UC;$.g=UC.prototype;$.g.type=20;$.g.flags=296681;$.g.Fh={stroke:"path"};$.g.Dd=function(a){UC.u.Dd.call(this,a);this.uv=2<this.j;};$.g.tg=function(a,b){var c=this.bd,d=a.get(this.X.Ce()[0]),e=this.mh(d,this.prevValue),f={};f[e.stroke]=!0;a.o("names",e);c=c.dd(b,f);VC(this,a,c,e);this.prevValue=d;};$.g.vt=function(a){var b=a.o("shapes"),c=a.o("names"),d;for(d in b)b[d].clear();VC(this,a,b,c);};var aD={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:"semicolon",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",96:"num-0",97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",186:"semicolon",187:"equals",189:"dash",188:",",190:".",191:"/",192:"`",219:"open-square-bracket",220:"\\",221:"close-square-bracket",222:"single-quote",224:"win"};var $C;$.H($.XC,$.tf);var ada=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],bda="color date datetime datetime-local email month number password search tel text time url week".split(" ");$.g=$.XC.prototype;$.g.yl=function(a,b){_bD(this.i,dda(arguments),a);};$.g.R=function(){$.XC.u.R.call(this);this.i={};$.Zd(this.b,"keydown",this.BU,!1,this);$.WC&&$.Zd(this.b,"keypress",this.z2,!1,this);$.Zd(this.b,"keyup",this.t2,!1,this);this.b=null;};$.g.t2=function(a){$.hd&&(32==this.D&&32==a.keyCode&&a.preventDefault(),this.D=null);$.WC&&!this.ba&&$.WC&&a.ctrlKey&&a.altKey&&this.BU(a);};$.g.z2=function(a){32<a.keyCode&&$.WC&&a.ctrlKey&&a.altKey&&(this.ba=!0);};$.g.BU=function(a){a:{var b=a.keyCode;if(""!=a.key){var c=a.key;if("Control"==c||"Shift"==c||"Meta"==c||"AltGraph"==c){b=!1;break a;}}else if(16==b||17==b||18==b){b=!1;break a;}c=a.target;var d="TEXTAREA"==c.tagName||"INPUT"==c.tagName||"BUTTON"==c.tagName||"SELECT"==c.tagName,e=!d&&(c.isContentEditable||c.ownerDocument&&"on"==c.ownerDocument.designMode);b=!d&&!e||this.ea[b]||this.G?!0:e?!1:this.aa&&(a.altKey||a.ctrlKey||a.metaKey)?!0:"INPUT"==c.tagName&&this.ma[c.type]?13==b:"INPUT"==c.tagName||"BUTTON"==c.tagName?32!=b:!1;}if(b)if("keydown"==a.type&&$.WC&&a.ctrlKey&&a.altKey)this.ba=!1;else{b=Kp(a.keyCode);c=ZC(a.key,b,(a.shiftKey?1:0)|(a.ctrlKey?2:0)|(a.altKey?4:0)|(a.metaKey?8:0));d=cD(this.f,c);if(!d||1500<=(0,$.Qn)()-this.j)this.f=this.i,this.j=(0,$.Qn)();(d=cD(this.f,c))&&d.next&&(this.f=d.next,this.j=(0,$.Qn)());d&&(d.next?a.preventDefault():(this.f=this.i,this.j=(0,$.Qn)(),this.K&&a.preventDefault(),this.P&&a.stopPropagation(),c=d.b,d=a.target,e=this.dispatchEvent(new dD("shortcut",c,d)),(e&=this.dispatchEvent(new dD("shortcut_"+c,c,d)))||a.preventDefault(),$.hd&&(this.D=b)));}};$.H(dD,vd);$.H(eD,$.Fr);$.g=eD.prototype;$.g.advance=function(){this.f=this.b[++this.i];var a=this.Jb();return!!a&&this.i<a;};$.g.get=function(a){if(!(this.i>=this.Jb())&&$.n(a)&&this.f){if(this.f.o){var b=this.f.o("treemap_type");if(1==b||3==b||4==b)return;if(b=this.f.o(a))return b;}if(this.f.get)return this.f.get(a);}};$.g.la=function(){return this.i;};$.g.Jb=function(){return this.b.length;};$.g.o=function(a,b){if(this.f&&this.f.o)return 1<arguments.length?(this.f.o(a,b),this):this.f.o(a);};$.H(fD,$.JA);$.g=fD.prototype;$.g.la=function(){return this.index;};$.g.wc=function(){return this.xa;};$.g.Hca=function(){return this.node;};$.g.get=function(a){return this.node.get.apply(this.node,arguments);};$.g.set=function(a){this.node.set.apply(this.node,arguments);return this;};$.g.kb=function(a){var b=$.vx(this.xa.state,$.Ao,this.index);return $.n(a)&&b!=a?(a?this.xa.Zi(this.index):this.xa.Kd(this.index),this):b;};$.g.selected=function(a){if(this.node.$b())return $.n(a)?this:!1;var b=$.vx(this.xa.state,$.Bo,this.index);return $.n(a)&&b!=a?(a?this.xa.Gi(this.index):this.xa.he(this.index),this):b;};$.g.gy=function(){return!0;};var qI=fD.prototype;qI.getIndex=qI.la;qI.getChart=qI.wc;qI.getNode=qI.Hca;qI.get=qI.get;qI.set=qI.set;qI.hovered=qI.kb;qI.selected=qI.selected;qI.exists=qI.gy;$.H($.gD,$.Ex);$.g=$.gD.prototype;$.g.eh=function(){return!0;};$.g.yk=function(){return!1;};$.g.$i=function(){return!0;};$.g.Te=function(){return[this];};$.g.pa=$.gD.prototype.pa|16;$.g.ra=$.Ex.prototype.ra|4112;$.g.mk=$.ia;$.g.ll=$.ia;$.g.sm=$.ia;$.g.nq=$.ia;$.g.Tl=function(a){return $.n(a)?(a=$.Bk(a),a!=this.K&&(this.K=a),this):this.K;};$.g.fj=function(a){return $.n(a)?(a=null===a?null:$.Ck(a),a!=this.bt&&(this.bt=a),this):this.bt;};$.g.gC=function(a){if(a){var b=this.$().f;a.tag={X:this,index:b.o("index"),node:b};}};$.g.$d=function(a){a=this.ba[a];var b=null;a&&(b=new fD(this,a));return b;};$.g.hg=function(a){a=$.Y.prototype.hg.call(this,a);var b=$.xo(a.domTarget).index;if(!$.n(b)&&$.ox(this.state,$.Ao)){var c=$.ux(this.state,$.Ao);c.length&&(b=c[0]);}b=$.N(b);(0,window.isNaN)(b)||(a.pointIndex=b);return a;};$.g.Pa=function(a){return $.n(a)?(this.ca.N(a),this):this.ca;};$.g.kb=function(a){return $.n(a)?(this.ya.N(a),this):this.ya;};$.g.selected=function(a){return $.n(a)?(this.Da.N(a),this):this.Da;};$.g.mq=function(){return[];};$.g.Zi=function(a){if(!this.enabled())return this;if($.A(a)){for(var b=$.ux(this.state,$.Ao),c=0;c<b.length;c++)$.Aa(a,b[c])||this.state.Sh($.Ao,b[c]);$.sx(this.state,a);}else $.ea(a)&&(this.Kd(),$.sx(this.state,a));return this;};$.g.Kd=function(a){var b;(b=$.ox(this.state,$.Ao))||(b=!!(this.state.ek()&$.Ao));if(b&&this.enabled()){var c;$.n(a)?c=a:c=this.state.Dc==$.hm?window.NaN:void 0;this.state.Sh($.Ao,c);}};$.g.Gi=function(a,b){var c=b&&b.shiftKey?void 0:b?$.Ao:$.hm;$.A(a)?(b||this.he(),this.state.Hh($.Bo,a,c)):$.ea(a)&&this.state.Hh($.Bo,a,c);return this;};$.g.gr=function(a){this.xl&&(this.Kd(),this.dispatchEvent(this.al("hovered",{target:this},this.xl,!0)),this.xl=null);this.Qt();var b=null,c;if($.J(a,$.fu)||$.J(a,$.bu))b=a;else if($.A(a)){if((c=this.data())&&c.$b()){c=c.wd(0);for(var d=0;d<a.length;d++)if(c)c=c.wd(a[d]);else break;c&&(b=c);}}else(c=this.data())&&c.$b()&&(b=c.Ep("id",a)[0]);this.AE(b);};$.g.data=function(a,b){return $.n(a)?($.J(a,$.cu)||$.J(a,$.$t)?a!=this.ka&&(this.ka&&$.or(this.ka,this.cd,this),this.ka=a,$.L(this.ka,this.cd,this)):(this.ka&&$.or(this.ka,this.cd,this),this.ka=new $.cu(a,b),$.L(this.ka,this.cd,this)),this.B(4352,1),this):this.ka;};$.g.cd=function(a){$.X(a,16)&&this.B(4352,1);};$.g.$=function(){return this.rd||this.Ac();};$.g.Ac=function(){return this.rd=new eD(this.Tc);};$.g.Hk=function(a,b){return $.su(this.data(),b);};$.g.F=function(){var a=$.gD.u.F.call(this),b=this.data();b&&(a.treeData=b.oB());b=this.pA();var c=[];if(b)for(var d,e=1;e<b.length;e++)d=b[e-1].node,c[e-1]=d.Ef(b[e].node);c.length&&(a.drillTo=c);a.normal=this.ca.F();a.hovered=this.ya.F();a.selected=this.Da.F();return a;};$.g.U=function(a,b){$.gD.u.U.call(this,a,b);"treeData"in a&&this.data($.eu(a.treeData));"drillTo"in a&&this.gr(a.drillTo);this.ca.fa(!!b,a);this.ca.fa(!!b,a.normal);this.ya.fa(!!b,a.hovered);this.Da.fa(!!b,a.selected);};var rI;$.ja($.iD);var gea={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};$.g=$.iD.prototype;$.g.oH=function(){};$.g.sc=function(a){return a.f.sc("DIV",$.pD(this,a).join(" "),a.Nd);};$.g.En=function(a){return a;};$.g.nH=ba(31);$.g.Vk=ba(34);$.g.tD=function(a){$.Gy(a)&&this.o2(a.Xa(),!0);a.isEnabled()&&this.pH(a,a.Oe());};$.g.zU=function(a,b){$.Uf(a,!b,!$.id&&!$.xd);};$.g.o2=function(a,b){kD(a,this.Dh()+"-rtl",b);};$.g.n2=function(a){var b;return $.mD(a,32)&&(b=a.Xa())?$.jf(b)&&$.lf(b):!1;};$.g.pH=function(a,b){var c;if($.mD(a,32)&&(c=a.Xa())){if(!b&&$.nD(a,32)){try{c.blur();}catch(d){}$.nD(a,32)&&a.TM(null);}($.jf(c)&&$.lf(c))!=b&&$.gf(c,b);}};$.g.Hi=function(a,b){$.Rf(a,b);a&&$.By(a,"hidden",!b);};$.g.AU=function(a,b,c){var d=a.Xa();if(d){var e=this.OG(b);e&&kD(a,e,c);this.Ru(d,b,c);}};$.g.Ru=function(a,b,c){rI||(rI={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=rI[b];var d=a.getAttribute("role")||null;d&&(d=gea[d]||b,b="checked"==b||"selected"==b?d:b);b&&$.By(a,b,c);};$.g.bw=ba(36);$.g.Dh=function(){return"anychart-control";};$.g.OG=function(a){this.b||$.rD(this);return this.b[a];};$.g.fH=ba(35);$.H($.sD,$.iD);$.ja($.sD);$.g=$.sD.prototype;$.g.oH=function(){return"button";};$.g.Ru=function(a,b,c){switch(b){case 8:case 16:$.By(a,"pressed",c);break;default:case 64:case 1:$.sD.u.Ru.call(this,a,b,c);}};$.g.sc=function(a){var b=$.sD.u.sc.call(this,a);$.tD(b,a.fb);var c=a.wj();c&&this.m2(b,c);$.mD(a,16)&&this.Ru(b,16,$.nD(a,16));return b;};$.g.Vk=ba(33);$.g.wj=$.ia;$.g.m2=$.ia;$.g.Dh=function(){return"anychart-button";};var wD;wD={};$.uD={};$.H($.xD,$.Dy);$.g=$.xD.prototype;$.g.Nd=null;$.g.bc=0;$.g.Ju=39;$.g.kv=255;$.g.uJ=0;$.g.ij=!0;$.g.zs=null;$.g.PU=!0;$.g.sc=function(){var a=this.i.sc(this);this.Cd=a;$.lD(this.i,a,this.aH());this.i.zU(a,!1);this.Oe()||this.i.Hi(a,!1);};$.g.aH=function(){return null;};$.g.rD=function(){return this.i.En(this.Xa());};$.g.mH=ba(18);$.g.pl=ba(20);$.g.Eg=function(){$.xD.u.Eg.call(this);$.oD(this.i,this,this.Cd);this.i.tD(this);if(this.Ju&-2&&(this.PU&&yD(this,!0),$.mD(this,32))){var a=this.Xa();if(a){var b=this.Vl||(this.Vl=new $.Np());b.QM(a);$.Fy(this).ua(b,"key",this.mo).ua(a,"focus",this.Efa).ua(a,"blur",this.TM);}}};$.g.zh=function(){$.xD.u.zh.call(this);this.Vl&&this.Vl.lH();this.Oe()&&this.isEnabled()&&this.i.pH(this,!1);};$.g.R=function(){$.xD.u.R.call(this);this.Vl&&(this.Vl.kd(),delete this.Vl);delete this.i;this.K=this.zs=this.Nd=null;};$.g.tM=function(){var a=this.Nd;if(!a)return"";if(!$.z(a))if($.A(a))a=$.Wa(a,$.nf).join("");else{if(bE&&null!==a&&"innerText"in a)a=$.jc(a.innerText);else{var b=[];_mf(a,b,!0);a=b.join("");}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");bE||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));}return $.lc(a);};$.g.Oe=function(){return this.ij;};$.g.Hi=function(a,b){if(b||this.ij!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.Xa();c&&this.i.Hi(c,a);this.isEnabled()&&this.i.pH(this,a);this.ij=a;return!0;}return!1;};$.g.isEnabled=function(){return!$.nD(this,1);};$.g.Dj=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!ED(this,1,!a)||(a||($.GD(this,!1),this.pq(!1)),this.Oe()&&this.i.pH(this,a),FD(this,1,!a,!0));};$.g.pq=function(a){ED(this,2,a)&&FD(this,2,a);};$.g.sq=function(){return $.nD(this,4);};$.g.Ue=function(){return $.nD(this,8);};$.g.hJ=function(a){ED(this,8,a)&&FD(this,8,a);};$.g.Al=function(a){ED(this,64,a)&&FD(this,64,a);};$.g.fn=function(a,b){if(this.vf&&$.nD(this,a)&&!b)throw Error("Component already rendered");!b&&$.nD(this,a)&&FD(this,a,!1);this.Ju=b?this.Ju|a:this.Ju&~a;};$.g.no=function(a){!JD(a,this.Xa())&&this.dispatchEvent("enter")&&this.isEnabled()&&ID(this,2)&&this.pq(!0);};$.g.gg=function(a){!JD(a,this.Xa())&&this.dispatchEvent("leave")&&(ID(this,4)&&$.GD(this,!1),ID(this,2)&&this.pq(!1));};$.g.qH=$.ia;$.g.Tj=function(a){this.isEnabled()&&(ID(this,2)&&this.pq(!0),a.IA()&&(ID(this,4)&&$.GD(this,!0),this.i&&this.i.n2(this)&&this.Xa().focus()));a.IA()&&a.preventDefault();};$.g.rr=function(a){this.isEnabled()&&(ID(this,2)&&this.pq(!0),this.sq()&&this.Ss(a)&&ID(this,4)&&$.GD(this,!1));};$.g.s2=function(a){this.isEnabled()&&this.Ss(a);};$.g.Ss=function(a){ID(this,16)&&$.HD(this,!$.nD(this,16));ID(this,8)&&this.hJ(!0);ID(this,64)&&this.Al(!$.nD(this,64));var b=new vd("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.i=a.i);return this.dispatchEvent(b);};$.g.Efa=function(){ID(this,32)&&ED(this,32,!0)&&FD(this,32,!0);};$.g.TM=function(){ID(this,4)&&$.GD(this,!1);ID(this,32)&&ED(this,32,!1)&&FD(this,32,!1);};$.g.mo=function(a){return this.Oe()&&this.isEnabled()&&this.yA(a)?(a.preventDefault(),a.stopPropagation(),!0):!1;};$.g.yA=function(a){return 13==a.keyCode&&this.Ss(a);};if(!$.E($.xD))throw Error("Invalid component class "+$.xD);if(!$.E($.iD))throw Error("Invalid renderer class "+$.iD);var hea=$.oa($.xD);wD[hea]=$.iD;$.vD("anychart-control",function(){return new $.xD(null);});$.H(DD,$.nd);var KD=!$.id||$.fd(9);DD.prototype.i=function(){this.b=!1;};DD.prototype.j=function(){this.b=!0;};DD.prototype.D=function(a){if(this.b)this.b=!1;else{var b=a.Be,c=b.button,d=b.type,e=LD(b,"mousedown");this.f.Tj(new $.Ad(e,a.currentTarget));e=LD(b,"mouseup");this.f.rr(new $.Ad(e,a.currentTarget));KD||(b.button=c,b.type=d);}};DD.prototype.R=function(){this.f=null;DD.u.R.call(this);};$.H($.MD,$.sD);$.ja($.MD);$.g=$.MD.prototype;$.g.oH=function(){};$.g.sc=function(a){$.zD(a,!1);a.kv&=-256;a.fn(32,!1);return a.f.sc("BUTTON",{"class":$.pD(this,a).join(" "),disabled:!a.isEnabled(),title:a.fb||"",value:a.wj()||""},a.tM()||"");};$.g.nH=ba(30);$.g.Vk=ba(32);$.g.tD=function(a){$.Fy(a).ua(a.Xa(),"click",a.Ss);};$.g.zU=$.ia;$.g.o2=$.ia;$.g.n2=function(a){return a.isEnabled();};$.g.pH=$.ia;$.g.AU=function(a,b,c){$.MD.u.AU.call(this,a,b,c);(a=a.Xa())&&1==b&&(a.disabled=c);};$.g.wj=function(a){return a.value;};$.g.m2=function(a,b){a&&(a.value=b);};$.g.Ru=$.ia;$.H($.ND,$.xD);$.g=$.ND.prototype;$.g.wj=function(){return this.ma;};$.g.KX=function(a){this.ma=a;};$.g.R=function(){$.ND.u.R.call(this);delete this.ma;delete this.fb;};$.g.Eg=function(){$.ND.u.Eg.call(this);if($.mD(this,32)){var a=this.Xa();a&&$.Fy(this).ua(a,"keyup",this.yA);}};$.g.yA=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.Ss(a):32==a.keyCode;};$.vD("anychart-button",function(){return new $.ND(null);});$.H($.QD,$.ND);$.QD.prototype.sc=function(){$.QD.u.sc.call(this);$.Fe(this.Xa(),{type:"button"});RD(this);};}).call(this,$);}if(!_.theme_core){_.theme_core=1;(function($){var DN,QN,RN,WN;$.AN=function(a,b){var c=null===a||"boolean"==typeof a||""==a?window.NaN:+a;return(0,window.isNaN)(c)?a:$.Fs(c,b,void 0,void 0,void 0,void 0,void 0,void 0);};$.BN=function(){return $.AN(this.value);};$.CN=function(){return this.name||this.getData("id");};DN=function DN(){return this.x;};$.EN=function(){return this.sourceColor;};$.FN=function(){return $.Vl(this.sourceColor,.7,!0);};$.GN=function(){return $.Vl(this.sourceColor,.65,!0);};$.HN=function(){return $.Vl(this.sourceColor,.5,!0);};$.IN=function(){return $.Vl(this.sourceColor,.85,!0);};$.JN=function(){return $.Rl(this.sourceColor);};$.KN=function(){return $.Ql(this.sourceColor);};$.LN=function(){return $.Vl($.Ql(this.sourceColor),.5,!0);};$.MN=function(){return $.Xl(this.sourceColor,1.5);};$.NN=function(){return $.Xl(this.sourceColor,1);};$.ON=function(){return $.Xl($.Ql(this.sourceColor),1.5);};$.PN=function(){return"High: "+$.AN(this.high)+"\nLow: "+$.AN(this.low);};QN=function QN(){return"Open: "+$.AN(this.open)+"\nHigh: "+$.AN(this.high)+"\nLow: "+$.AN(this.low)+"\nClose: "+$.AN(this.close);};RN=function RN(){return $.Xl(this.sourceColor,1.5);};$.SN=function(){var a=this.chart,b=$.Ar(a,"title");b=b&&b.enabled()&&b.text()?b.text():"";return(a.La()||"Anychart ")+" chart "+(b?" entitled "+b:"");};$.TN=function(){var a=this.chart,b=$.SN.apply(this);b+=", with "+a.Qg("count")+" points. ";return b+="Min value is "+a.Qg("min")+", max value is "+a.Qg("max")+".";};$.UN=function(){for(var a=this.chart,b=$.SN.call(this),c=a.uj(),d={},e=0;e<c;e++){var f=a.yi(e).jk();d.hasOwnProperty(f)?d[f]+=1:d[f]=1;}b+=", with ";for(var h in d)b+=d[h]+" "+h+" series, ";b+=". ";d=a.ab();a=a.Qa();c=a.La();e=d.La();if("ordinal"==e){d=d.values();b+="Y-scale with "+d.length+" categories: ";for(e=0;e<d.length;e++)b+=d[e]+", ";b+=". ";}else f=d.sh(),d=d.ci(),"date-time"==e&&(f=$.ys(f),d=$.ys(d)),b+="Y-scale minimum value is "+f+" , maximum value is "+d+". ";if("ordinal"==c){a=a.values();b+="X-scale with "+a.length+" categories: ";for(c=0;c<a.length;c++)b+=a[c]+", ";b+=". ";}else f=a.sh(),d=a.ci(),"date-time"==c&&(f=$.ys(f),d=$.ys(d)),b+="X-scale minimum value is "+f+" , maximum value is "+d+". ";return b;};$.VN=function(){for(var a=this.chart,b=$.SN.call(this),c=a.uj(),d={},e=0;e<c;e++){var f=a.yi(e).La();d.hasOwnProperty(f)?d[f]+=1:d[f]=1;}b+=", with ";for(var h in d)b+=d[h]+" "+h+" series, ";b+=". ";d=a.ab();a=a.Qa();c=a.La();e=d.La();if("ordinal"==e){d=d.values();b+="Y-scale with "+d.length+" categories: ";for(e=0;e<d.length;e++)b+=d[e]+", ";b+=". ";}else f=d.sh(),d=d.ci(),"date-time"==e&&(f=$.ys(f),d=$.ys(d)),b+="Y-scale minimum value is "+f+", maximum value is "+d+". ";if("ordinal"==c){a=a.values();b+="X-scale with "+a.length+" categories: ";for(c=0;c<a.length;c++)b+=a[c]+", ";b+=". ";}else f=a.sh(),d=a.ci(),"date-time"==c&&(f=$.ys(f),d=$.ys(d)),b+="X-scale minimum value is "+f+", maximum value is "+d+". ";return b;};WN=function WN(a){switch(a.xScaleType){case"date-time":return $.zs(a.x);default:return $.AN(a.x);}};$.F("anychart.themes.defaultTheme",{palette:{type:"distinct",items:"#64b5f6 #1976d2 #ef6c00 #ffd54f #455a64 #96a6a6 #dd2c00 #00838f #00bfa5 #ffa000".split(" ")},hatchFillPalette:{items:"backward-diagonal forward-diagonal horizontal vertical dashed-backward-diagonal grid dashed-forward-diagonal dashed-horizontal dashed-vertical diagonal-cross diagonal-brick divot horizontal-brick vertical-brick checker-board confetti plaid solid-diamond zig-zag weave percent-05 percent-10 percent-20 percent-25 percent-30 percent-40 percent-50 percent-60 percent-70 percent-75 percent-80 percent-90".split(" ")},hatchFillPaletteFor3D:{items:"backward-diagonal forward-diagonal dashed-backward-diagonal grid dashed-forward-diagonal dashed-horizontal dashed-vertical diagonal-cross diagonal-brick divot horizontal-brick vertical-brick checker-board confetti plaid solid-diamond zig-zag weave percent-05 percent-10 percent-20 percent-25 percent-30 percent-40 percent-50 percent-60 percent-70 percent-75 percent-80 percent-90 horizontal vertical".split(" ")},markerPalette:{items:"circle diamond square triangle-down triangle-up diagonal-cross pentagon cross v-line star5 star4 trapezium star7 star6 star10".split(" ")},defaultScaleSettings:{linear:{maxTicksCount:1E3,inverted:!1,maximum:null,minimum:null,minimumGap:.1,maximumGap:.1,softMinimum:null,softMaximum:null,alignMinimum:!0,alignMaximum:!0,ticks:{mode:"linear",base:0,explicit:null,minCount:4,maxCount:6,interval:window.NaN,allowFractional:!0},minorTicks:{mode:"linear",base:0,explicit:null,count:5,interval:window.NaN,allowFractional:!0},stackMode:"none",stackDirection:"direct",stickToZero:!0},ordinal:{type:"ordinal",inverted:!1,mode:"discrete",names:[],ticks:{maxCount:100}},log:{type:"log",logBase:10,ticks:{mode:"log"},minorTicks:{mode:"log"}},dateTime:{type:"date-time",alignMinimum:!1,alignMaximum:!1,minimumGap:0,maximumGap:0,ticks:{count:4},minorTicks:{count:4}}},defaultFontSettings:{fontSize:13,fontFamily:"Verdana, Helvetica, Arial, sans-serif",fontColor:"#7c868e",textDirection:"ltr",fontOpacity:1,fontDecoration:"none",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:"normal",lineHeight:"normal",textIndent:0,textShadow:"none",maxLength:null,vAlign:"top",hAlign:"start",wordWrap:"normal",wordBreak:"normal",textOverflow:"",selectable:!1,disablePointerEvents:!1,useHtml:!1},defaultBackground:{enabled:!1,fill:"#ffffff",stroke:"none",cornerType:"round",corners:0},defaultSeparator:{enabled:!1,fill:"#CECECE 0.3",width:"100%",height:1,margin:{top:5,right:0,bottom:5,left:0},orientation:"top",stroke:"none",zIndex:1},defaultLabelFactory:{enabled:!1,offsetX:0,offsetY:0,width:null,height:null,clip:null,fontSize:12,minFontSize:8,maxFontSize:72,textShadow:"none",adjustFontSize:{width:!1,height:!1},anchor:"center",padding:4,rotation:0,format:$.BN,positionFormatter:$.BN},defaultSimpleLabelsSettings:{fontSize:13,fontFamily:"Verdana, Helvetica, Arial, sans-serif",fontColor:"#7c868e",textDirection:"ltr",fontOpacity:1,fontDecoration:"none",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:"normal",lineHeight:"normal",textIndent:0,textShadow:"none",vAlign:"top",hAlign:"left",wordWrap:null,wordBreak:null,textOverflow:!1,selectable:!1,useHtml:!1,allowMultiline:!1,padding:4,width:null,height:null,anchor:"left-top",position:"left-top",offsetX:0,offsetY:0,enabled:!0,disablePointerEvents:!0},defaultMarkerFactory:{anchor:"center",size:6,offsetX:0,offsetY:0,rotation:0,positionFormatter:$.BN},defaultTitle:{enabled:!1,fontSize:16,text:"Title text",maxLength:null,width:null,height:null,align:"center",hAlign:"center",padding:0,margin:0},defaultTooltip:{enabled:!0,title:{fontColor:"#ffffff",text:"",fontSize:14,rotation:0,align:"left",hAlign:"left",orientation:"top",zIndex:1,background:{fill:"none",stroke:"none"}},contentInternal:{enabled:!0,fontSize:12,minFontSize:9,maxFontSize:13,fontColor:"#ffffff",hAlign:"left",text:"Tooltip Text",width:"100%",height:"100%",anchor:"left-top",offsetX:0,offsetY:0,position:"left-top",adjustFontSize:{width:!1,height:!1},padding:0,rotation:0,zIndex:1,background:{disablePointerEvents:!1,fill:"none",stroke:"none"}},fontSize:12,minFontSize:9,maxFontSize:13,maxLength:null,fontColor:"#ffffff",text:"Tooltip Text",width:null,height:null,adjustFontSize:{width:!1,height:!1},background:{enabled:!0,fill:"#212121 0.7",corners:3,zIndex:0,cornerType:"round"},offsetX:10,offsetY:10,padding:{top:5,right:10,bottom:5,left:10},valuePrefix:"",valuePostfix:"",position:"left-top",anchor:"left-top",hideDelay:0,titleFormat:$.BN,format:function format(){return this.valuePrefix+$.AN(this.value)+this.valuePostfix;},unionFormat:"{%joinedFormattedValues}",zIndex:0,allowLeaveChart:!0,allowLeaveScreen:!1,allowLeaveStage:!1},defaultAxis:{value:null,enabled:!0,startAngle:0,drawLastLabel:!0,drawFirstLabel:!0,staggerMaxLines:2,staggerMode:!1,staggerLines:null,width:null,overlapMode:"no-overlap",stroke:"#CECECE",title:{padding:5,fontSize:13,text:"Axis title",fontColor:"#545f69",zIndex:35},labels:{enabled:!0,format:$.BN,position:"outside",zIndex:35},minorLabels:{fontSize:9,format:$.BN,position:"outside",zIndex:35},ticks:{enabled:!0,length:6,position:"outside",stroke:"#CECECE",zIndex:35},minorTicks:{enabled:!1,length:4,position:"outside",stroke:"#EAEAEA",zIndex:35},zIndex:35},defaultGridSettings:{enabled:!0,isMinor:!1,drawFirstLine:!0,drawLastLine:!0,fill:function fill(){return this.palette.mc(this.index);},palette:{items:["none"]},stroke:"#CECECE",scale:1,zIndex:11},defaultMinorGridSettings:{isMinor:!0,stroke:"#EAEAEA",zIndex:10},defaultLineMarkerSettings:{enabled:!0,value:0,layout:null,stroke:{color:"#7c868e",thickness:2,opacity:1,dash:"",lineJoin:"miter",lineCap:"square"},zIndex:25.2,scale:1,scaleRangeMode:"none"},defaultTextMarkerSettings:{fontSize:12,value:0,anchor:"auto",align:"center",layout:null,text:"Text marker",zIndex:25.3,scale:1,scaleRangeMode:"none",rotation:null},defaultRangeMarkerSettings:{enabled:!0,from:0,to:0,layout:null,fill:"#c1c1c1 0.4",zIndex:25.1,scale:1,scaleRangeMode:"none"},defaultLegend:{enabled:!1,vAlign:"bottom",fontSize:12,textOverflow:"...",itemsLayout:"horizontal",itemsHAlign:"left",positionMode:"outside",itemsSpacing:15,items:null,itemsFormat:null,itemsSourceMode:"default",inverted:!1,hoverCursor:"pointer",iconTextSpacing:5,iconSize:15,width:null,height:null,position:"top",align:"center",padding:{top:0,right:10,bottom:10,left:10},margin:0,title:{fontSize:15},paginator:{enabled:!0,fontSize:12,fontColor:"#545f69",orientation:"right",layout:"horizontal",padding:{top:0,right:0,bottom:0,left:5},margin:0,zIndex:30,buttonsSettings:{normal:{stroke:"#757575",fill:"#9e9e9e"},hover:{stroke:"#546e7a",fill:"#7c868e"},pushed:{stroke:"#7c868e",fill:"#9e9e9e"},disabled:{stroke:null,fill:"#e0e0e0"}}},titleFormat:null,tooltip:{enabled:!1,allowLeaveScreen:!0},drag:!1,maxWidth:null,maxHeight:null,zIndex:200},defaultCrosshairLabel:{x:0,y:0,axisIndex:0,anchor:null,format:$.BN,enabled:!0,fontSize:12,minFontSize:8,maxFontSize:16,fontColor:"#ffffff",fontWeight:400,disablePointerEvents:!0,text:"Label text",background:{enabled:!0,disablePointerEvents:!0,fill:"#212121 0.7",corners:3,zIndex:0},padding:{top:5,right:10,bottom:5,left:10},width:null,height:null,offsetX:0,offsetY:0,adjustFontSize:{width:!1,height:!1},rotation:0},defaultCallout:{enabled:!0,orientation:"left",title:{enabled:!1},padding:0,margin:0,align:"center",labels:{enabled:!0,vAlign:"middle",hAlign:"center",positionFormatter:$.BN,adjustFontSize:!1,connectorStroke:null}},defaultScroller:{enabled:!1,fill:"#f7f7f7",selectedFill:"#ddd",outlineStroke:"none",height:16,minHeight:null,maxHeight:null,autoHide:!1,orientation:"bottom",position:"after-axes",allowRangeChange:!0,thumbs:{enabled:!0,autoHide:!1,normal:{fill:"#E9E9E9",stroke:"#7c868e"},hovered:{fill:"#ffffff",stroke:"#757575"}},inverted:!1,zIndex:35},defaultLabelSettings:{enabled:!0,text:"Chart label",width:null,height:null,anchor:"left-top",position:"left-top",offsetX:0,offsetY:0,minFontSize:8,maxFontSize:72,adjustFontSize:{width:!1,height:!1},rotation:0,zIndex:50},defaultButtonSettings:{padding:[3,5],normal:{hAlign:"center",vAlign:"middle",background:{enabled:!0,stroke:"#dedede",fill:"#e7e7e7",corners:[0]},content:"Button",disablePointerEvents:!0,selectable:!1,adjustFontSize:{width:!1,height:!1},minFontSize:8,maxFontSize:72},hovered:{},selected:{}},defaultNoDataLabel:{padding:{},disablePointerEvents:!1,enabled:!1,background:{zIndex:0,enabled:!1,visible:!1,disablePointerEvents:!1},fontFamily:"Arial",fontColor:"black",fontWeight:"bold",fontSize:15,position:"center",anchor:"center",zIndex:999999,text:"No data."},stageCredits:{text:"AnyChart",url:"https://www.anychart.com/?utm_source=registered",alt:"AnyChart - JavaScript Charts designed to be embedded and integrated{{anychart-version}}",imgAlt:"AnyChart - JavaScript Charts",logoSrc:"https://static.anychart.com/logo.png"},chart:{zIndex:0,enabled:!0,padding:{top:10,right:20,bottom:15,left:10},margin:{top:0,right:0,bottom:0,left:0},autoRedraw:!0,background:{enabled:!0,zIndex:.5},contextMenu:{fromTheme:!0,enabled:!0},title:{text:"Chart Title",padding:{top:0,right:0,bottom:10,left:0},zIndex:80,background:{zIndex:0}},animation:{enabled:!1,duration:1E3},interactivity:{hoverMode:"single",selectionMode:"multi-select",spotRadius:2,multiSelectOnClick:!1,unselectOnClickOutOfPoint:!0},tooltip:{displayMode:"single",positionMode:"float",title:{enabled:!0},separator:{enabled:!0},titleFormat:function titleFormat(){return WN(this.points[0]);},format:function format(){return this.formattedValues.join("\n");}},bounds:{top:null,right:null,bottom:null,left:null,width:null,height:null,minWidth:null,minHeight:null,maxWidth:null,maxHeight:null},credits:{},defaultSeriesSettings:{base:{enabled:!0,isVertical:null,background:{enabled:!0},tooltip:{titleFormat:function titleFormat(){return WN(this);},format:function format(){return this.seriesName+": "+this.valuePrefix+$.AN(this.value)+this.valuePostfix;}},normal:{fill:$.GN,stroke:$.MN,lowStroke:$.MN,highStroke:$.MN,lowFill:$.EN,highFill:$.EN,negativeFill:$.EN,negativeStroke:$.MN,risingFill:$.EN,risingStroke:$.MN,fallingFill:$.EN,fallingStroke:$.MN,risingHatchFill:!1,fallingHatchFill:!1,hatchFill:!1,labels:{enabled:null,anchor:"auto",position:"value"},minLabels:{enabled:null},maxLabels:{enabled:null},outlierMarkers:{enabled:null},markers:{enabled:!1,disablePointerEvents:!1,position:"value",positionFormatter:$.BN,size:4}},hovered:{fill:$.EN,stroke:$.ON,lowFill:$.EN,highFill:$.EN,lowStroke:$.ON,highStroke:$.ON,negativeFill:$.EN,negativeStroke:$.ON,risingFill:$.EN,fallingFill:$.EN,risingStroke:$.ON,fallingStroke:$.ON,risingHatchFill:null,fallingHatchFill:null,hatchFill:null,labels:{enabled:null},minLabels:{enabled:null},maxLabels:{enabled:null},outlierMarkers:{enabled:null},markers:{enabled:null,size:6}},selected:{fill:"#333 0.85",stroke:"#333 0.85",lowStroke:"#333 0.85",highStroke:"#333 0.85",lowFill:"#333 0.85",highFill:"#333 0.85",negativeFill:"#333 0.85",negativeStroke:"#333 0.85",risingFill:"#333 0.85",risingStroke:"#333 0.85",fallingFill:"#333 0.85",fallingStroke:"#333 0.85",risingHatchFill:null,fallingHatchFill:null,hatchFill:null,labels:{enabled:null},minLabels:{enabled:null},maxLabels:{enabled:null},outlierMarkers:{enabled:null},markers:{enabled:null,fill:"#333 0.85",stroke:"1.5 #212121",size:6}},legendItem:{enabled:!0,iconType:"square"},clip:!0,color:null,xScale:null,yScale:null,error:{mode:"both",xError:null,xUpperError:null,xLowerError:null,valueError:null,valueUpperError:null,valueLowerError:null,xErrorWidth:10,valueErrorWidth:10,xErrorStroke:$.JN,valueErrorStroke:$.JN},pointWidth:null,connectMissingPoints:!1,a11y:{enabled:!1,titleFormat:"Series named {%SeriesName} with {%SeriesPointsCount} points. Min value is {%SeriesYMin}, max value is {%SeriesYMax}"}},marker:{normal:{fill:$.EN,stroke:RN,size:4,labels:{offsetY:3}},hovered:{fill:$.KN,stroke:RN,size:6},selected:{fill:"#333 0.85",stroke:"1.5 #212121",size:6},legendItem:{iconStroke:"none"}},bubble:{normal:{fill:$.FN,negativeFill:function negativeFill(){return $.Rl($.Rl($.Rl(this.sourceColor)));},negativeStroke:function negativeStroke(){return $.Rl($.Rl($.Rl($.Rl(this.sourceColor))));},negativeHatchFill:!1,labels:{anchor:"center"}},hovered:{fill:$.HN,negativeFill:function negativeFill(){return $.Rl($.Rl($.Rl($.Rl(this.sourceColor))));},negativeStroke:function negativeStroke(){return $.Rl($.Rl($.Rl($.Rl($.Rl(this.sourceColor)))));},negativeHatchFill:null},selected:{negativeFill:function negativeFill(){return $.Rl($.Rl($.Rl(this.sourceColor)));},negativeStroke:function negativeStroke(){return $.Rl($.Rl($.Rl($.Rl(this.sourceColor))));},negativeHatchFill:null},displayNegative:!1,legendItem:{iconStroke:"none"}},areaLike:{normal:{fill:$.GN},hovered:{fill:$.GN,markers:{enabled:!0}},selected:{markers:{enabled:!0}},legendItem:{iconStroke:"none"},stepDirection:"center"},barLike:{normal:{fill:$.IN},hovered:{fill:$.GN},legendItem:{iconStroke:"none"}},lineLike:{hovered:{markers:{enabled:!0}},selected:{markers:{enabled:!0}},stepDirection:"center"},rangeLike:{normal:{labels:{format:function format(){return $.AN(this.high);},position:"high"},markers:{position:"high"}},tooltip:{format:$.PN}},candlestick:{normal:{risingFill:"#64b5f6",risingStroke:"#64b5f6",fallingFill:"#ef6c00",fallingStroke:"#ef6c00",risingHatchFill:!1,fallingHatchFill:!1,markers:{position:"high"},labels:{position:"high",format:DN}},hovered:{risingFill:$.KN,risingStroke:$.JN,fallingFill:$.KN,fallingStroke:$.JN,risingHatchFill:null,fallingHatchFill:null},selected:{risingFill:"#333 0.85",risingStroke:"#333 0.85",fallingFill:"#333 0.85",fallingStroke:"#333 0.85",risingHatchFill:null,fallingHatchFill:null},tooltip:{format:QN}},column:{isVertical:!1,normal:{labels:{offsetY:3}}},ohlc:{normal:{risingStroke:"#64b5f6",fallingStroke:"#ef6c00",markers:{position:"high"},labels:{position:"high",format:DN}},hovered:{risingStroke:$.JN,fallingStroke:$.JN},selected:{risingStroke:"3 #333 0.85",fallingStroke:"3 #333 0.85"},tooltip:{format:QN}},stick:{normal:{stroke:$.NN}},jumpLine:{pointWidth:"100%"},hilo:{pointWidth:1}},chartLabels:[],maxBubbleSize:"20%",minBubbleSize:"5%",a11y:{enabled:!0,titleFormat:$.SN,mode:"chart-elements"},normal:{labels:{enabled:!1},minLabels:{enabled:null},maxLabels:{enabled:null}},hovered:{labels:{enabled:null},minLabels:{enabled:null},maxLabels:{enabled:null}},selected:{labels:{enabled:null},minLabels:{enabled:null},maxLabels:{enabled:null}},crossing:{stroke:"none"},baseline:0,defaultQuarterSettings:{enabled:!1,zIndex:1,fill:"none",stroke:"none",title:{padding:5},defaultLabelSettings:{text:"Quarter label",anchor:"center",position:"center"},margin:{},padding:{}},quarters:{rightTop:{fill:"#e3f2fd",title:{orientation:"top"}},leftTop:{title:{orientation:"top"}},leftBottom:{fill:"#e3f2fd",title:{orientation:"bottom"}},rightBottom:{title:{orientation:"bottom"}}},selectRectangleMarqueeFill:"#d3d3d3 0.4",selectRectangleMarqueeStroke:"#d3d3d3",maxPointWidth:"100%",minPointLength:0,dataArea:{zIndex:10,background:{fill:"none"}}},cartesianBase:{defaultSeriesSettings:{base:{normal:{labels:{enabled:null,format:"{%Value}{decimalsCount:2}"}}},bar:{isVertical:!0,normal:{labels:{offsetY:3}},tooltip:{anchor:"left-top"}},column:{tooltip:{anchor:"left-top"}},rangeColumn:{isVertical:!1,tooltip:{anchor:"left-top",offsetX:10}},rangeBar:{normal:{labels:{offsetY:3}},isVertical:!0},box:{normal:{medianStroke:$.JN,stemStroke:$.JN,whiskerStroke:$.JN,whiskerWidth:0,outlierMarkers:{enabled:!0,disablePointerEvents:!1,position:"center",rotation:0,anchor:"center",offsetX:0,offsetY:0,type:"circle",size:3,positionFormatter:$.BN},markers:{position:"median"},labels:{position:"highest",format:function format(){return"Highest: "+$.AN(this.highest)+"\nMedian: "+$.AN(this.median)+"\nLowest: "+$.AN(this.lowest);}}},hovered:{medianStroke:$.EN,stemStroke:$.EN,whiskerStroke:$.JN,whiskerWidth:null,outlierMarkers:{enabled:null,size:4}},selected:{medianStroke:"#333 0.85",stemStroke:"#333 0.85",whiskerStroke:"#333 0.85",whiskerWidth:null,outlierMarkers:{enabled:null,size:4,fill:"#333 0.85",stroke:"1.5 #212121"}},tooltip:{titleFormat:function titleFormat(){return this.name||this.x;},format:function format(){return"Lowest: "+this.valuePrefix+$.AN(this.lowest)+this.valuePostfix+"\nQ1: "+this.valuePrefix+$.AN(this.q1)+this.valuePostfix+"\nMedian: "+this.valuePrefix+$.AN(this.median)+this.valuePostfix+"\nQ3: "+this.valuePrefix+$.AN(this.q3)+this.valuePostfix+"\nHighest: "+this.valuePrefix+$.AN(this.highest)+this.valuePostfix;}}}},defaultXAxisSettings:{orientation:"bottom",title:{text:"X-Axis",padding:{top:5,right:0,bottom:0,left:0}},labels:{format:function format(){var a=this.tickValue;switch(this.scale.La()){case"ordinal":return this.value;case"date-time":var b=this.intervalUnit;return $.ys(a,$.ws($.vs(b,b,"charts")));default:return $.Fs(this.value);}}},minorLabels:{format:function format(){var a=this.tickValue;switch(this.scale.La()){case"ordinal":return this.value;case"date-time":var b=this.minorIntervalUnit;return $.ys(a,$.ws($.vs(b,$.zp(b),"charts")));default:return $.Fs(this.value);}}},scale:0},defaultYAxisSettings:{orientation:"left",title:{text:"Y-Axis",padding:{top:0,right:0,bottom:5,left:0}},labels:{format:"{%Value}"},scale:1},defaultAnnotationSettings:{},annotations:{annotationsList:[],zIndex:2E3},xAxes:[{}],yAxes:[{}],xGrids:[],yGrids:[],xMinorGrids:[],yMinorGrids:[],series:[],lineAxesMarkers:[],rangeAxesMarkers:[],textAxesMarkers:[],xScale:0,yScale:1,barsPadding:.4,barGroupsPadding:.8,maxBubbleSize:"20%",minBubbleSize:"5%",isVertical:!1,scales:[{type:"ordinal"},{type:"linear"}],yScroller:{orientation:"left",inverted:!1},crosshair:{enabled:!1,displayMode:"float",xStroke:"#969EA5",yStroke:"#969EA5",zIndex:41,xLabels:[{enabled:null}],yLabels:[{enabled:null}]},xZoom:{continuous:!0,startRatio:0,endRatio:1},yZoom:{continuous:!0,startRatio:0,endRatio:1},a11y:{titleFormat:$.UN}},pieFunnelPyramidBase:{mode3d:!1,animation:{duration:500},normal:{fill:$.EN,stroke:"none",hatchFill:null,labels:{enabled:!0,fontColor:null,position:"inside",disablePointerEvents:!1,autoRotate:!1,zIndex:34,format:function format(){return this.name?this.name:this.x;}},markers:{enabled:!1,position:"center",positionFormatter:$.BN,zIndex:33}},hovered:{fill:$.KN,stroke:$.EN,labels:{enabled:null},markers:{enabled:null}},selected:{fill:"#333 0.85",stroke:"1.5 #212121",labels:{enabled:null},markers:{enabled:null}},connectorStroke:"#CECECE",overlapMode:"no-overlap",connectorLength:20,baseWidth:"70%",neckWidth:null,neckHeight:null,pointsPadding:0,forceHoverLabels:!0,outsideLabels:{disablePointerEvents:!1,autoColor:"#545f69"},insideLabels:{disablePointerEvents:!0,autoColor:"#ffffff"},legend:{enabled:!0,padding:{top:10,right:10,bottom:0,left:10},position:"bottom"},tooltip:{title:{enabled:!0},separator:{enabled:!0},titleFormat:function titleFormat(){return this.name||this.x;},format:function format(){return"Value: "+$.AN(this.value)+"\nPercent Value: "+(100*this.value/this.getStat("sum")).toFixed(1)+"%";}},interactivity:{hoverMode:"single"}},defaultScrollBar:{barSize:10,backgroundFill:"#e0e0e0",backgroundStroke:"#d5d5d5",sliderFill:"#d5d5d5",sliderStroke:"#656565",mouseOverOpacity:.45,mouseOutOpacity:.25,handlePositionChange:!0,startRatio:"0",endRatio:"1",buttonsVisible:!1,cornersRadius:5},standalones:{background:{enabled:!0,zIndex:0},label:{enabled:!0,text:"Label text",padding:0,width:null,height:null,anchor:"left-top",position:"left-top",offsetX:0,offsetY:0,minFontSize:8,maxFontSize:72,adjustFontSize:{width:!1,height:!1},rotation:0,zIndex:0},labelsFactory:{enabled:!0,zIndex:0},legend:{enabled:!0,zIndex:0},markersFactory:{enabled:!0,zIndex:0},title:{enabled:!0,zIndex:0},linearAxis:{enabled:!0,zIndex:0,ticks:{enabled:!0},minorTicks:{enabled:!0}},polarAxis:{enabled:!0,startAngle:0,zIndex:0,ticks:{enabled:!0},minorTicks:{enabled:!0}},radarAxis:{enabled:!0,startAngle:0,zIndex:0,ticks:{enabled:!0},minorTicks:{enabled:!0}},radialAxis:{enabled:!0,startAngle:0,innerRadius:0,zIndex:0,ticks:{enabled:!0},minorTicks:{enabled:!0},minorLabels:{padding:{top:1,right:1,bottom:0,left:1}}},linearGrid:{enabled:!0,scale:null,zIndex:0},polarGrid:{enabled:!0,layout:"circuit",zIndex:0},radarGrid:{enabled:!0,layout:"circuit",zIndex:0},lineAxisMarker:{enabled:!0,zIndex:0},textAxisMarker:{enabled:!0,zIndex:0},rangeAxisMarker:{enabled:!0,zIndex:0},scroller:{enabled:!0}}});}).call(this,$);}if(!_.color_scales){_.color_scales=1;(function($){var $N,cO,dO,eO,hO;$.XN=function(a,b){var c=a.g("fontSize")!=b;null===b?delete a.Ld.fontSize:a.Ld.fontSize=b;c&&a.B(4);};$.YN=function(a){var b={};$.Gc(a.Oa,function(a,d){if($.n(a)){if("adjustByHeight"==d||"adjustByWidth"==d)d="adjustFontSize";b[d]=this.md(d);}},a);return b;};$.ZN=function(a,b){return $.Ak(Eea,a,b||"clip");};$N=function $N(){$.Sy.call(this);};$.aO=function(){$.Uy.call(this);this.Fa("defaultColorRange");$.uu(this,this,this.Cf,this.gg,null,this.Cf);this.vc.ua(this,"mousedown",this.As);this.re|=1024;$.Q(this.ta,[["length",this.re,9],["align",this.re,9],["colorLineSize",this.re,9]]);};$.bO=function(a){a.line&&(a.line.zl(),a.line.remove(),a.line=null);a.lines&&(a.lines.length=0);};cO=function cO(a){if(a.b){var b=a.scale();if(b&&$.J(b,$.kz)){a.i={};for(var c=a.b,d=c.Ac();d.advance();){var e=($.n(c.ea)?d.o(c.ea):null)||d.get(c.bf?c.bf.Cl:c.Dr[1]);!(e=b.Bn(e))||(0,window.isNaN)(e.start)||(0,window.isNaN)(e.end)||(a.i[e.sourceIndex]||(a.i[e.sourceIndex]=[]),a.i[e.sourceIndex].push(d.la()));}}}};dO=function dO(a,b,c){var d=0;b.enabled()&&(d=b.g("length"),b=b.g("position"),d="center"==b?Math.max((d-a.g("colorLineSize"))/2,0):$.n(c)?0<c?"outside"==b?0:d:0>c?"inside"==b?0:d:d:d);return d;};eO=function eO(a){var b=0,c=$.Ar(a,"marker");if(c&&c.enabled()){a=a.g("orientation");b=2*c.g("size");var d=c.g("offsetX");c=c.g("offsetY");d=$.n(d)?d:0;c=$.n(c)?c:0;switch(a){case"top":b+=c;break;case"right":b-=d;break;case"bottom":b-=c;break;case"left":b+=d;}}return b;};$.fO=function(a,b){if(a.b){var c=a.scale(),d=$.Ar(a,"marker"),e=a.b,f=e.jd()||(e.zn?e.zn():void 0),h=d&&d.enabled();e=e.enabled()&&f==c;if(a.enabled()&&h&&c&&e&&(c=a.line.qb(),h=$.Za(a.scale().transform(b,.5),0,1),!(0,window.isNaN)(h))){e=a.g("orientation");f=d.g("size");switch(e){case"top":var k=c.left+c.width*h;var l=c.top+c.height+f;var m=180;break;case"bottom":k=c.left+c.width*h;l=c.top-f;m=0;break;case"left":k=c.left+c.width+f;l=c.top+c.height-c.height*h;m=90;break;case"right":k=c.left-f,l=c.top+c.height-c.height*h,m=-90;}$.V(d);d.sa("rotation",m);d.ic({value:{x:k,y:l}});d.da(!1);d.W();d.Td().visible(!0);}}};$.gO=function(a){var b=$.Ar(a,"marker");a.scale()&&b&&b.Td().visible(!1);};hO=function hO(){$.aO.call(this);};$.Dx.prototype.zn=$.ca(28,function(){return this.tb;});var Eea={Hla:"always-show",Wma:"clip",O7:"drop"};$.H($N,$.Sy);$N.prototype.$0=function(a,b,c,d,e){b=Math.round(b.left+a*b.width);b=1==a?b+e:b-e;a=this.g("length");e=this.g("position");if("outside"==e){var f=c.top-d/2;var h=-a;}else"center"==e?(f=c.top+(c.height-a)/2,h=a):"inside"==e&&(f=c.Ta()+d/2,h=a);this.path.moveTo(b,f);this.path.lineTo(b,f+h);};$N.prototype.cT=function(a,b,c,d,e){b=Math.round(b.top+b.height-a*b.height);b=1==a?b-e:b+e;a=this.g("length");e=this.g("position");"outside"==e?(c=c.bb()+d/2,d=a):"center"==e?(c=c.left+(c.width-a)/2,d=a):(c=c.left-d/2,d=-a);this.path.moveTo(c,b);this.path.lineTo(c+d,b);};$N.prototype.XS=function(a,b,c,d,e){b=Math.round(b.left+a*b.width);b=1==a?b+e:b-e;a=this.g("length");e=this.g("position");if("outside"==e){var f=c.Ta()+d/2;var h=a;}else"center"==e?(f=c.top+(c.height-a)/2,h=a):"inside"==e&&(f=c.top-d/2,h=-a);this.path.moveTo(b,f);this.path.lineTo(b,f+h);};$N.prototype.aT=function(a,b,c,d,e){b=Math.round(b.top+b.height-a*b.height);b=1==a?b-e:b+e;a=this.g("length");e=this.g("position");if("outside"==e){var f=c.left-d/2;var h=-a;}else"center"==e?(f=c.left+(c.width-a)/2,h=a):"inside"==e&&(f=c.bb()+d/2,h=a);this.path.moveTo(f,b);this.path.lineTo(f+h,b);};$.H($.aO,$.Uy);var iO={};$.wq(iO,[[0,"colorLineSize",$.Fq],$.Z.WJ,$.Z.$J]);$.S($.aO,iO);$.g=$.aO.prototype;$.g.ra=$.Uy.prototype.ra|1024;$.g.ol=function(){return new $N();};$.g.zz=function(){this.line||($.J(this.scale(),$.hz)?this.line=$.rk():$.J(this.scale(),$.kz)&&(this.line=$.pk(),this.lines=[]),this.line.zIndex(this.zIndex()),this.line.parent(this.O()),this.line.cursor("pointer"),$.tu(this,this.line));return this.line;};$.g.yr=function(a){this.Wl||(this.Wl=new $.gy(),$.W(this,"marker",this.Wl),this.Wl.ic({value:{x:0,y:0}}),$.L(this.Wl,this.jaa,this));return $.n(a)?(this.Wl.N(a),this.B(1024,1),this):this.Wl;};$.g.jaa=function(a){$.X(a,1)&&this.B(1024,1);};$.g.target=function(a){return $.n(a)?(this.b!=a&&(this.b=a,cO(this),$.L(this.b,this.Fka,this)),this):this.b;};$.g.Fka=function(a){$.X(a,132)&&cO(this);};$.g.lq=function(a,b){var c=this.scale(),d={};if($.J(c,$.hz)){var e=(0,window.parseFloat)(b);var f=c.uE(e);var h="number";}else if($.J(c,$.kz)){e=b;f=c.Wa().names()[a];h="string";var k=c.Bn(b);k&&(d.colorRange={value:{color:k.color,end:k.end,name:k.name,start:k.start,index:k.sourceIndex},type:""});}d.index={value:a,type:"number"};d.value={value:f,type:h};d.tickValue={value:e,type:"number"};d.max={value:$.n(c.max)?c.max:null,type:"number"};d.min={value:$.n(c.min)?c.min:null,type:"number"};d.scale={value:c,type:""};return $.rv(new $.Hw(d));};$.g.WQ=function(a,b,c,d,e){c=a.top+a.height+c/2-d;var f=this.scale();if($.J(f,$.hz))this.line.moveTo(a.left+b,c).lineTo(a.left-b+a.width,c).lineTo(a.left-b+a.width,c-e).lineTo(a.left+b,c-e).close();else if($.J(f,$.kz)){d=f.qr();f=f.Jj();for(var h=a.width/(d.length-1),k=0,l=d.length-1;k<l;k++){var m=d[k];m=m.color||f[m.sourceIndex]||f[f.length-1];var p=this.lines[k]?this.lines[k].clear():this.lines[k]=this.line.path(),q=a.left+b+h*k;p.moveTo(q,c).lineTo(q+h,c).lineTo(q+h,c-e).lineTo(q,c-e).close();p.stroke(this.g("stroke"));p.fill(m);}}};$.g.VQ=function(a,b,c,d,e){c=a.left-c/2+d;var f=this.scale();if($.J(f,$.hz))this.line.moveTo(c,a.top+b).lineTo(c,a.top-b+a.height).lineTo(c+e,a.top-b+a.height).lineTo(c+e,a.top+b).close();else if($.J(f,$.kz)){d=f.qr();f=f.Jj();for(var h=a.height/(d.length-1),k=0,l=d.length-1;k<l;k++){var m=d[k];m=m.color||f[m.sourceIndex]||f[f.length-1];var p=this.lines[k]?this.lines[k].clear():this.lines[k]=this.line.path(),q=a.top+b+h*(d.length-1-k-1);p.moveTo(c,q).lineTo(c,q+h).lineTo(c+e,q+h).lineTo(c+e,q).close();p.stroke(this.g("stroke"));p.fill(m);}}};$.g.TQ=function(a,b,c,d,e){c=a.top-c/2+d;var f=this.scale();if($.J(f,$.hz))this.line.moveTo(a.left+b,c).lineTo(a.left-b+a.width,c).lineTo(a.left-b+a.width,c+e).lineTo(a.left+b,c+e).close();else if($.J(f,$.kz)){d=f.qr();f=f.Jj();for(var h=a.width/(d.length-1),k=0,l=d.length-1;k<l;k++){var m=d[k];m=m.color||f[m.sourceIndex]||f[f.length-1];var p=this.lines[k]?this.lines[k].clear():this.lines[k]=this.line.path(),q=a.left+b+h*k;p.moveTo(q,c).lineTo(q+h,c).lineTo(q+h,c+e).lineTo(q,c+e).close();p.stroke(this.g("stroke"));p.fill(m);}}};$.g.UQ=function(a,b,c,d,e){c=a.left+a.width+c/2-d;var f=this.scale();if($.J(f,$.hz))this.line.moveTo(c,a.top+b).lineTo(c,a.top-b+a.height).lineTo(c-e,a.top-b+a.height).lineTo(c-e,a.top+b).close();else if($.J(f,$.kz)){d=f.qr();f=f.Jj();for(var h=a.height/(d.length-1),k=0,l=d.length-1;k<l;k++){var m=d[k];m=m.color||f[m.sourceIndex]||f[f.length-1];var p=this.lines[k]?this.lines[k].clear():this.lines[k]=this.line.path(),q=a.top+b+h*(d.length-1-k-1);p.moveTo(c,q).lineTo(c,q+h).lineTo(c-e,q+h).lineTo(c-e,q).close();p.stroke(this.g("stroke"));p.fill(m);}}};$.g.jo=function(){var a=this.zz(),b=this.scale();b||this.scale($.iz());if($.J(b,$.hz))a.clear(),a.stroke(this.g("stroke")),b=$.Xb(b.Jj()),this.Mb()?b.angle=0:b.angle=90,a.fill(b);else if($.J(b,$.kz))for(a=0,b=this.lines.length;a<b;a++)this.lines[a].clear();switch(this.g("orientation")){case"top":var c=this.WQ;break;case"right":c=this.VQ;break;case"bottom":c=this.TQ;break;case"left":c=this.UQ;}a=this.g("stroke");a=$.Zb(a);a=!a||$.ip(a)?0:a.thickness?(0,window.parseFloat)(a.thickness):1;b=0==a%2?0:.5;var d=this.ob(),e=eO(this),f=Math.round(this.g("colorLineSize")),h=dO(this,this.Wa(),1),k=dO(this,this.wb(),1);c.call(this,d,b,a,Math.max(h,k,e),f);};$.g.ob=function(){if(!this.Fq||this.J(4)){var a=this.ja();if(a){a.top=Math.round(a.top);a.left=Math.round(a.left);a.width=Math.round(a.width);a.height=Math.round(a.height);if(this.Mb()){var b=a.width;var c=a.height;}else b=a.height,c=a.width;var d=this.Pg(b);c=this.width()?$.M(this.width(),c):$.Yy(this,a,d);var e=this.padding(),f=$.M(e.g("top"),a.height),h=$.M(e.g("right"),a.width),k=$.M(e.g("bottom"),a.height);e=$.M(e.g("left"),a.width);var l=this.g("align"),m;this.Mb()?(d+h+e>b&&(d=b-(h+e)),"left"==l||"top"==l?m=e:"right"==l||"bottom"==l?m=b-d-h:"center"==l&&(m=(b-d-h-e)/2)):(d+k+f>b&&(d=b-(k+f)),"left"==l||"top"==l?m=f:"right"==l||"bottom"==l?m=b-d-k:"center"==l&&(m=(b-d-k-f)/2));switch(this.g("orientation")){case"top":var p=a.top+f;var q=a.left+m;var r=c;var t=d;break;case"right":p=a.top+m;q=a.left+a.width-c-h;r=d;t=c;break;case"bottom":p=a.top+a.height-c-k;q=a.left+m;r=c;t=d;break;case"left":p=a.top+m,q=a.left+e,r=d,t=c;}this.Fq=new $.I(Math.round(q),Math.round(p),Math.round(t),Math.round(r));}else this.Fq=new $.I(0,0,0,0);this.I(4);}return this.Fq;};$.g.Pg=function(a){return $.M(this.g("length"),a);};$.g.f0=function(a,b){var c=this.Wa(),d=this.wb(),e=c.g("position"),f=d.g("position");c=dO(this,c);var h=dO(this,d);d=eO(this);"outside"==e?"outside"==f?e=Math.max(a+c,b+h):(e="inside"==f?Math.max(a+c,b):Math.max(a+c,b+h),d=Math.max(h,d)):"inside"==e?"outside"==f?(e=Math.max(a,b+h),d=Math.max(c,d)):(e="inside"==f?Math.max(a,b):Math.max(a,b+h),d=Math.max(c,h,d)):"outside"==e?(e=Math.max(a+c,b+h),d=Math.max(c,d)):(e="inside"==f?Math.max(a+c,b):Math.max(a+c,b+h),d=Math.max(c,h,d));f=this.g("stroke");f=!f||$.ip(f)?0:f.thickness?(0,window.parseFloat)(f.thickness):1;f=Math.round(this.g("colorLineSize"))+f;return e+d+f;};$.g.scale=function(a){(a=$.aO.u.scale.call(this,a))||(this.f||(this.f=$.iz(),this.f.Jj("#fff","#000")),a=this.f);return a;};$.g.LT=function(){return 48;};$.g.xg=function(a){$.X(a,2)&&$.bO(this);$.aO.u.xg.call(this,a);};$.g.W=function(){if(!this.yc())return this;var a=$.Ar(this,"marker");this.J(1024)&&(a&&(a.O(this.O()),a.zIndex(this.zIndex()+1),a.W(),a.Td().visible(!1)),this.I(1024));if(a&&(this.J(2)&&a.O(this.O()),this.J(8))){var b=this.zIndex();a.zIndex(b+1);}return $.aO.u.W.call(this);};$.g.As=function(a){if(this.b){var b=this.scale(),c=this.b,d=c&&(c.jd()||(c.zn?c.zn():void 0));if(this.enabled()&&b&&c.enabled()&&d==b){d=this.line.qb();if(this.Mb()){var e=a.clientX;var f=d.left+$.ak(this.O().Ia()).x;d=(e-f)/d.width;}else e=a.clientY,f=d.top+$.ak(this.O().Ia()).y,d=(d.height-(e-f))/d.height;d=b.Jc(d);a.metaKey||a.shiftKey||!c.map||c.map.he();if($.J(b,$.kz))d=b.Bn(d),b&&c&&(e=this.i[d.sourceIndex],b=c.wc(),b=b.Yc(),"single"==b.g("hoverMode")?this.ag={X:c,ud:e}:this.ag=[{X:c,ud:e,Jn:e[e.length-1],Ee:{index:e[e.length-1],Nf:0}}]);else if($.J(b,$.hz)){a=c.Ac();e=window.Infinity;for(var h=window.NaN,k=b.sh(),l=b.ci();a.advance();){f=a.get(c.bf?c.bf.Cl:c.Dr[1]);f=$.Za(f,k,l);var m=Math.abs(d-f);e>m&&(e=m,h=f);}e=[];a=c.Ac();for(d=h;a.advance();)f=a.get(c.bf?c.bf.Cl:c.Dr[1]),f=$.Za(f,k,l),f==d&&e.push(a.la());b&&c&&(b=c.wc(),b=b.Yc(),"single"==b.g("hoverMode")?this.ag={X:c,ud:e}:this.ag=[{X:c,ud:e,Jn:e[e.length-1],Ee:{index:e[e.length-1],Nf:0}}]);}}}};$.g.Cf=function(a){if(this.b){var b=this.scale(),c=this.b,d=c.jd()||(c.zn?c.zn():void 0);if(this.enabled()&&b&&c.enabled()&&d==b){d=this.line.qb();if(this.Mb()){var e=a.clientX;var f=d.left+$.ak(this.O().Ia()).x;d=(e-f)/d.width;}else e=a.clientY,f=d.top+$.ak(this.O().Ia()).y,d=(d.height-(e-f))/d.height;d=b.Jc(d);if($.J(b,$.kz)){a=b.Bn(d);var h=this.i[a.sourceIndex];b=c.wc();f=b.Yc();"single"==f.g("hoverMode")?this.ag={X:c,ud:h}:this.ag=[{X:c,ud:h,Jn:h[h.length-1],Ee:{index:h[h.length-1],Nf:0}}];}else if($.J(b,$.hz)&&c){f=c.Ac();h=window.Infinity;for(var k=window.NaN,l=b.sh(),m=b.ci();f.advance();){e=f.get(c.bf?c.bf.Cl:c.Dr[1]);e=$.Za(e,l,m);var p=Math.abs(d-e);h>p&&(h=p,k=e);}h=[];f=c.Ac();for(d=k;f.advance();)e=f.get(c.bf?c.bf.Cl:c.Dr[1]),e=$.Za(e,l,m),e==d&&h.push(f.la());b&&c&&(b=c.wc(),f=b.Yc(),"single"==f.g("hoverMode")?(this.ag&&!(0,$.qD)(h,function(a){return $.Aa(this.ag.ud,a);},this)&&b.dispatchEvent(b.al("hovered",a,[{X:c,ud:[],Ee:{index:this.ag.ud[this.ag.ud.length-1],Nf:0}}],!1)),this.ag={X:c,ud:h}):this.ag=[{X:c,ud:h,Jn:h[h.length-1],Ee:{index:h[h.length-1],Nf:0}}]);}$.fO(this,d);}}};$.g.gg=function(){$.gO(this);var a=this.b;a&&(this.Ra=a);};$.g.remove=function(){var a=$.Ar(this,"marker");a&&a.remove();$.aO.u.remove.call(this);};$.g.F=function(){var a=$.aO.u.F.call(this);$.Xq(this,iO,a);a.marker=this.yr().F();return a;};$.g.U=function(a,b){$.aO.u.U.call(this,a,b);$.Pq(this,iO,a,b);this.yr(a.marker);};$.g.R=function(){$.ud(this.Wl,this.f);this.f=this.Wl=null;$.aO.u.R.call(this);};$.H(hO,$.aO);$.zu(hO,$.aO);var jO=$.aO.prototype;jO.marker=jO.yr;jO=hO.prototype;$.F("anychart.standalones.colorRange",function(){var a=new hO();a.Fa("standalones.colorRange");return a;});jO.padding=jO.padding;jO.draw=jO.W;jO.parentBounds=jO.ja;jO.container=jO.O;}).call(this,$);}if(!_.theme_color_scales){_.theme_color_scales=1;(function($){$.ra($.fa.anychart.themes.defaultTheme,{defaultColorRange:{enabled:!1,stroke:"#B9B9B9",orientation:"bottom",title:{enabled:!1},colorLineSize:10,padding:{top:10,right:0,bottom:0,left:0},margin:0,align:"center",length:"50%",marker:{padding:3,positionFormatter:$.BN,enabled:!0,disablePointerEvents:!1,position:"center",rotation:0,anchor:"center",offsetX:0,offsetY:0,type:"triangle-down",fill:"#333 0.85",stroke:"none",size:7},labels:{offsetX:0,offsetY:0,fontSize:11,padding:0},ticks:{stroke:"#B9B9B9",position:"outside",length:5,enabled:!0},minorTicks:{stroke:"#B9B9B9",position:"outside",length:3,enabled:!1}},defaultOrdinalColorScale:{inverted:!1,ticks:{maxCount:100},autoColors:function autoColors(a){return $.Ol("#90caf9","#01579b",a);}},defaultLinearColorScale:{maxTicksCount:1E3,colors:["#90caf9","#01579b"],minimumGap:0,maximumGap:0}});$.ra($.fa.anychart.themes.defaultTheme.standalones,{colorRange:{enabled:!0,zIndex:50}});}).call(this,$);}if(!_.cartesian){_.cartesian=1;(function($){var vP=function vP(a,b,c){var d=["whiskerWidth","hoverWhiskerWidth","selectWhiskerWidth"];if(2==c){var e=a.Da;var f="selected";}else 1==c?(e=a.ya,f="hovered"):(e=a.ca,f="normal");f=b.get(f);b=$.dp($.n(f)?f[d[0]]:void 0,b.get(d[c]),e.g(d[0]));null!=b||(b=a.ca.g(d[0]));return $.M(b,a.wu);},wP=function wP(a){$.OA.call(this,a);},xP=function xP(){$.VB.call(this);this.Fa("cartesian");$.Q(this.ta,[["categorizedBySeries",327680,1]]);this.qe="cartesian";},yP=function yP(){var a=new xP();a.sa("defaultSeriesType","line");a.$c();a.Wg();return a;},zP=function zP(a){var b=new xP();b.Fa("area");b.sa("defaultSeriesType","area");b.qe="area";b.Wg();b.$c();for(var c=0,d=arguments.length;c<d;c++)b.area(arguments[c]);return b;},AP=function AP(a){var b=new xP();b.Fa("bar");b.sa("defaultSeriesType","bar");b.qe="bar";b.Wg();b.$c();for(var c=0,d=arguments.length;c<d;c++)b.bar(arguments[c]);return b;},BP=function BP(a){var b=new xP();b.Fa("box");b.sa("defaultSeriesType","box");b.qe="box";b.Wg();b.$c();for(var c=0,d=arguments.length;c<d;c++)b.box(arguments[c]);return b;},CP=function CP(a){var b=new xP();b.Fa("column");b.sa("defaultSeriesType","column");b.qe="column";b.Wg();b.$c();for(var c=0,d=arguments.length;c<d;c++)b.column(arguments[c]);return b;},DP=function DP(a){var b=new xP();b.Fa("column");b.sa("defaultSeriesType","hilo");b.qe="hilo";b.Wg();b.$c();for(var c=0,d=arguments.length;c<d;c++)b.hilo(arguments[c]);return b;},EP=function EP(a){$.kl(405,null,["anychart.financial()","anychart.ohlc() or anychart.candlestick()"],!0);var b=new xP();b.Fa("financial");b.sa("defaultSeriesType","candlestick");b.qe="financial";b.Wg();b.$c();for(var c=0,d=arguments.length;c<d;c++)b.candlestick(arguments[c]);return b;},FP=function FP(a){var b=new xP();b.Fa("line");b.sa("defaultSeriesType","line");b.qe="line";b.Wg();b.$c();for(var c=0,d=arguments.length;c<d;c++)b.line(arguments[c]);return b;},GP=function GP(a){var b=new xP();b.Fa("verticalArea");b.sa("defaultSeriesType","area");b.qe="vertical-area";b.Wg();b.$c();for(var c=0,d=arguments.length;c<d;c++)b.area(arguments[c]);return b;},HP=function HP(a){var b=new xP();b.Fa("verticalLine");b.sa("defaultSeriesType","line");b.qe="vertical-line";b.Wg();b.$c();for(var c=0,d=arguments.length;c<d;c++)b.line(arguments[c]);return b;},IP=function IP(a){var b=new xP();b.Fa("line","stick");b.sa("defaultSeriesType","stick");b.qe="stick";b.Wg();b.$c();for(var c=0,d=arguments.length;c<d;c++)b.stick(arguments[c]);return b;},JP=function JP(a){var b=new xP();b.Fa("line","jumpLine");b.sa("defaultSeriesType","jump-line");b.qe="jump-line";b.Wg();b.$c();for(var c=$.qm("jump-line"),d=0,e=arguments.length;d<e;d++)b[c](arguments[d]);return b;},KP=function KP(a){var b=new xP();b.Fa("line","stepLine");b.sa("defaultSeriesType","step-line");b.qe="step-line";b.Wg();b.$c();for(var c=$.qm("step-line"),d=0,e=arguments.length;d<e;d++)b[c](arguments[d]);return b;},LP=function LP(a){var b=new xP();b.Fa("financial","ohlc");b.sa("defaultSeriesType","ohlc");b.qe="ohlc";b.Wg();b.$c();for(var c=0,d=arguments.length;c<d;c++)b.ohlc(arguments[c]);return b;},MP=function MP(a){var b=new xP();b.Fa("financial","candlestick");b.sa("defaultSeriesType","candlestick");b.qe="candlestick";b.Wg();b.$c();for(var c=0,d=arguments.length;c<d;c++)b.candlestick(arguments[c]);return b;};$.BA.prototype.pD=$.ca(25,function(){return this.pf.length;});$.BA.prototype.nD=$.ca(24,function(){return this.b.length;});$.NP={name:"median",Pb:"path",Wb:null,Xb:"medianStroke",Zb:!0,Gb:!1,zIndex:2E-6};$.OP={name:"stem",Pb:"path",Wb:null,Xb:"stemStroke",Zb:!0,Gb:!1,zIndex:2E-6};$.PP={name:"whisker",Pb:"path",Wb:null,Xb:"whiskerStroke",Zb:!0,Gb:!1,zIndex:2E-6};$.H(wP,$.OA);$.WG[3]=wP;$.g=wP.prototype;$.g.type=3;$.g.flags=263936;$.g.Fh={path:"path",hatchFill:"path",median:"path",stem:"path",whisker:"path"};$.g.Lp=["lowest","q1","median","q3","highest"];$.g.tg=function(a,b){var c=this.bd.dd(b),d=a.o("x"),e=a.o("lowest"),f=a.o("q1"),h=a.o("median"),k=a.o("q3"),l=a.o("highest"),m=vP(this.X,a,b)/2,p=this.j/2,q=c.path;$.MA(q,this.wa,d-p,f);$.NA(q,this.wa,d+p,f,d+p,k,d-p,k);q.close();q=c.hatchFill;$.MA(q,this.wa,d-p,f);$.NA(q,this.wa,d+p,f,d+p,k,d-p,k);q.close();q=c.median;$.MA(q,this.wa,d-p,h);$.NA(q,this.wa,d+p,h);q=c.stem;$.MA(q,this.wa,d,e);$.NA(q,this.wa,d,f);$.MA(q,this.wa,d,k);$.NA(q,this.wa,d,l);q=c.whisker;$.MA(q,this.wa,d-m,e);$.NA(q,this.wa,d+m,e);$.MA(q,this.wa,d-m,l);$.NA(q,this.wa,d+m,l);};$.g.MB=function(a,b){var c=a.o("shapes");if(c){var d=a.o("x"),e=a.o("lowest"),f=a.o("highest"),h=vP(this.X,a,b)/2;c=c.whisker;c.clear();$.MA(c,this.wa,d-h,e);$.NA(c,this.wa,d+h,e);$.MA(c,this.wa,d-h,f);$.NA(c,this.wa,d+h,f);}};$.H(xP,$.VB);var QP={},RP=$.XG|7864320;QP.area={Db:1,Ib:1,Kb:[$.uH,$.NH,$.IH,$.CH,$.tH,$.OH,$.JH,$.BH,$.wH,$.PH,$.KH,$.QH],Nb:null,Hb:null,Bb:RP,zb:"value",yb:"zero"};QP.bar={Db:6,Ib:2,Kb:[$.XH,$.wH,$.EH,$.QH,$.GH,$.KH,$.LH,$.PH],Nb:null,Hb:null,Bb:RP,zb:"value",yb:"zero"};QP.box={Db:3,Ib:2,Kb:[$.XH,$.wH,$.NP,$.OP,$.PP],Nb:null,Hb:null,Bb:RP,zb:"highest",yb:"lowest"};QP.bubble={Db:4,Ib:2,Kb:[$.zH,$.AH,$.DH,$.FH],Nb:null,Hb:null,Bb:RP,zb:"value",yb:"value"};QP.candlestick={Db:5,Ib:2,Kb:[$.GH,$.KH,$.LH,$.PH],Nb:null,Hb:null,Bb:RP,zb:"high",yb:"low"};QP.column={Db:6,Ib:2,Kb:[$.XH,$.wH,$.EH,$.QH,$.GH,$.KH,$.LH,$.PH],Nb:null,Hb:null,Bb:RP,zb:"value",yb:"zero"};QP["jump-line"]={Db:19,Ib:2,Kb:[$.uH,$.MH,$.HH,$.vH],Nb:null,Hb:null,Bb:RP,zb:"value",yb:"value"};QP.line={Db:8,Ib:1,Kb:[$.uH,$.NH,$.IH,$.CH],Nb:null,Hb:null,Bb:RP,zb:"value",yb:"value"};QP.marker={Db:9,Ib:2,Kb:[$.XH,$.wH,$.EH,$.QH,$.GH,$.KH,$.LH,$.PH],Nb:null,Hb:null,Bb:$.XG|3670016,zb:"value",yb:"value"};QP.ohlc={Db:10,Ib:2,Kb:[$.HH,$.MH],Nb:null,Hb:null,Bb:RP,zb:"high",yb:"low"};QP["range-area"]={Db:11,Ib:1,Kb:[$.tH,$.WH,$.SH,$.wH,$.RH,$.VH,$.yH,$.xH],Nb:null,Hb:null,Bb:RP,zb:"high",yb:"low"};QP["range-bar"]={Db:12,Ib:2,Kb:[$.XH,$.wH,$.TH,$.UH,$.yH,$.xH],Nb:null,Hb:null,Bb:RP,zb:"high",yb:"low"};QP["range-column"]={Db:12,Ib:2,Kb:[$.XH,$.wH,$.TH,$.UH,$.yH,$.xH],Nb:null,Hb:null,Bb:RP,zb:"high",yb:"low"};QP["range-spline-area"]={Db:13,Ib:1,Kb:[$.tH,$.SH,$.WH,$.wH,$.RH,$.VH,$.yH,$.xH],Nb:null,Hb:null,Bb:RP,zb:"high",yb:"low"};QP["range-step-area"]={Db:14,Ib:1,Kb:[$.tH,$.wH,$.SH,$.WH],Nb:null,Hb:null,Bb:RP,zb:"high",yb:"low"};QP.spline={Db:15,Ib:1,Kb:[$.uH,$.NH,$.IH,$.CH],Nb:null,Hb:null,Bb:RP,zb:"value",yb:"value"};QP["spline-area"]={Db:16,Ib:1,Kb:[$.uH,$.NH,$.IH,$.CH,$.tH,$.OH,$.JH,$.BH,$.wH,$.PH,$.KH,$.QH],Nb:null,Hb:null,Bb:RP,zb:"value",yb:"zero"};QP["step-area"]={Db:17,Ib:1,Kb:[$.uH,$.NH,$.IH,$.CH,$.tH,$.OH,$.JH,$.BH,$.wH,$.PH,$.KH,$.QH],Nb:null,Hb:null,Bb:RP,zb:"value",yb:"zero"};QP["step-line"]={Db:18,Ib:1,Kb:[$.uH,$.NH,$.IH,$.CH],Nb:null,Hb:null,Bb:RP,zb:"value",yb:"value"};QP.stick={Db:20,Ib:2,Kb:[$.uH,$.MH,$.HH,$.vH],Nb:null,Hb:null,Bb:RP,zb:"value",yb:"zero"};QP.hilo={Db:31,Ib:2,Kb:[$.uH,$.SH,$.WH],Nb:null,Hb:null,Bb:RP,zb:"high",yb:"low"};xP.prototype.gj=QP;$.Pz(xP,xP.prototype.gj);xP.prototype.tN=function(a){var b=a.enabled(),c=a.rm||[],d=!0;(a=a.data()?a.data().Jb():0)&&a!=c.length||(d=!1);return b&&d;};xP.prototype.IR=function(a,b,c,d){if(this.g("categorizedBySeries")){d=b.length;var e=[],f={};for(c=0;c<d;c++){var h=b[c].X.name();e.push(h);h=$.vo(h);f[h]=c;}a.NB=f;a.hh=e;}else xP.u.IR.call(this,a,b,c,d);};xP.prototype.tT=function(a,b){this.g("categorizedBySeries")||xP.u.tT.call(this,a,b);};var SP={};$.wq(SP,[[0,"categorizedBySeries",$.Hq]]);$.S(xP,SP);xP.prototype.F=function(){var a=xP.u.F.call(this);$.Xq(this,SP,a.chart);return a;};xP.prototype.U=function(a,b){xP.u.U.call(this,a,b);$.Pq(this,SP,a);};$.Xp.cartesian=yP;var TP=xP.prototype;$.F("anychart.cartesian",yP);TP.xScale=TP.Qa;TP.yScale=TP.ab;TP.crosshair=TP.lh;TP.xGrid=TP.hm;TP.yGrid=TP.jm;TP.xMinorGrid=TP.Mr;TP.yMinorGrid=TP.Pr;TP.xAxis=TP.Xh;TP.getXAxesCount=TP.nD;TP.yAxis=TP.jj;TP.getYAxesCount=TP.pD;TP.getSeries=TP.ef;TP.lineMarker=TP.Wm;TP.rangeMarker=TP.en;TP.textMarker=TP.kn;TP.palette=TP.ac;TP.markerPalette=TP.Hf;TP.hatchFillPalette=TP.ue;TP.getType=TP.La;TP.addSeries=TP.jl;TP.getSeriesAt=TP.yi;TP.getSeriesCount=TP.uj;TP.removeSeries=TP.xo;TP.removeSeriesAt=TP.Pn;TP.removeAllSeries=TP.Ap;TP.getPlotBounds=TP.Yf;TP.xZoom=TP.Rq;TP.yZoom=TP.Sq;TP.xScroller=TP.Kp;TP.yScroller=TP.Qr;TP.getStat=TP.Qg;TP.annotations=TP.Kk;TP.getXScales=TP.ty;TP.getYScales=TP.vy;$.Xp.area=zP;$.Xp.bar=AP;$.Xp.box=BP;$.Xp.column=CP;$.Xp.hilo=DP;$.Xp.financial=EP;$.Xp.line=FP;$.Xp["vertical-area"]=GP;$.Xp["vertical-line"]=HP;$.Xp.stick=IP;$.Xp["jump-line"]=JP;$.Xp["step-line"]=KP;$.Xp.ohlc=LP;$.Xp.candlestick=MP;$.F("anychart.area",zP);$.F("anychart.bar",AP);$.F("anychart.vertical",AP);$.F("anychart.box",BP);$.F("anychart.column",CP);$.F("anychart.hilo",DP);$.F("anychart.financial",EP);$.F("anychart.ohlc",LP);$.F("anychart.candlestick",MP);$.F("anychart.stick",IP);$.F("anychart.jumpLine",JP);$.F("anychart.stepLine",KP);$.F("anychart.line",FP);$.F("anychart.verticalArea",GP);$.F("anychart.verticalLine",HP);}).call(this,$);}if(!_.theme_cartesian){_.theme_cartesian=1;(function($){var B4=function B4(){return $.zs(this.x);},eqa=function eqa(){return $.zs(this.tickValue);};$.ra($.fa.anychart.themes.defaultTheme,{cartesian:{defaultSeriesType:"line",defaultSeriesSettings:{base:{xMode:"ordinal"}}},area:{defaultSeriesType:"area",tooltip:{displayMode:"union"},interactivity:{hoverMode:"by-x"}},bar:{isVertical:!0,defaultSeriesType:"bar",defaultXAxisSettings:{orientation:"left"},defaultYAxisSettings:{orientation:"bottom"},scales:[{type:"ordinal",inverted:!0},{type:"linear",stackDirection:"reverse"}],tooltip:{displayMode:"single",position:"right-center",anchor:"left-center"},xScroller:{orientation:"left",inverted:!0},yScroller:{orientation:"bottom",inverted:!1}},column:{defaultSeriesType:"column",tooltip:{displayMode:"single",position:"center-top",anchor:"center-bottom",offsetX:0,offsetY:10},scales:[{type:"ordinal"},{type:"linear",softMinimum:0}]},line:{defaultSeriesType:"line",tooltip:{displayMode:"union"},interactivity:{hoverMode:"by-x"}},box:{defaultSeriesType:"box"},financial:{defaultSeriesType:"candlestick",defaultSeriesSettings:{candlestick:{tooltip:{titleFormat:B4},normal:{labels:{format:B4}}},ohlc:{tooltip:{titleFormat:B4},normal:{labels:{format:B4}}}},xAxes:[{labels:{format:eqa},minorLabels:{format:eqa}}],scales:[{type:"date-time"},{type:"linear"}]},candlestick:{defaultSeriesType:"candlestick"},ohlc:{defaultSeriesType:"ohlc"},verticalLine:{isVertical:!0,defaultSeriesType:"line",defaultXAxisSettings:{orientation:"left"},defaultYAxisSettings:{orientation:"bottom"},scales:[{type:"ordinal",inverted:!0},{type:"linear"}],tooltip:{displayMode:"union"},interactivity:{hoverMode:"by-x"},xScroller:{orientation:"left",inverted:!0},yScroller:{orientation:"bottom",inverted:!1}},verticalArea:{isVertical:!0,defaultSeriesType:"area",defaultXAxisSettings:{orientation:"left"},defaultYAxisSettings:{orientation:"bottom"},scales:[{type:"ordinal",inverted:!0},{type:"linear"}],tooltip:{displayMode:"union"},interactivity:{hoverMode:"by-x"},xScroller:{orientation:"left",inverted:!0},yScroller:{orientation:"bottom",inverted:!1}}});}).call(this,$);}if(!_.stock){_.stock=1;(function($){var AZ=function AZ(a,b){return $.Ak(Jka,a,b||"line");},BZ=function BZ(a,b){return $.Ak(Kka,a,b||"sma");},Lka=function Lka(a){a=String(a).toLowerCase();switch(a){case"first":case"open":return"first";case"last":case"close":return"last";case"max":case"high":case"maximum":case"highest":return"max";case"min":case"low":case"minimum":case"lowest":return"min";case"average":case"avg":return"average";case"weightedaverage":case"weightedavg":case"wavg":case"weights":case"weighted":return"weighted-average";case"firstvalue":case"firstval":case"openvalue":case"openval":return"first-value";case"lastvalue":case"lastval":case"closevalue":case"closeval":case"fill":case"hoverfill":case"risingfill":case"hoverrisingfill":case"fallingfill":case"hoverfallingfill":case"stroke":case"hoverstroke":case"lowstroke":case"hoverlowstroke":case"highstroke":case"hoverhighstroke":case"risingstroke":case"hoverrisingstroke":case"fallingstroke":case"hoverfallingstroke":case"hatchfill":case"hoverhatchfill":case"risinghatchfill":case"hoverrisinghatchfill":case"fallinghatchfill":case"hoverfallinghatchfill":case"marker":case"hovermarker":return"last-value";case"sum":case"add":return"sum";case"list":case"group":case"array":return"list";default:return"last";}},CZ=function CZ(a,b,c){var d;if($.ea(a))for(c=c?{}:[],d=0;d<a;d++)c[d]=b;else for(d in c={},a)c[d]=b;return c;},DZ=function DZ(a){a=Math.floor(a);var b=1;if(a){for(var c=0;c<$.yp.length;c++){var d=$.yp[c];var e=a/d.we;if(1<=Math.floor(1.1*e)){var f=f||d;if(.15>e-Math.floor(e)){b=Math.floor(e);break;}}}f!=d&&f.Zr&&100<b&&(d=f,b=Math.round(20*a/d.we)/20);}return{unit:d?d.Bg:"millisecond",count:b};},EZ=function EZ(a,b){switch(a){case"log":return $.jt();case"linear":return $.it();case"date-time":return $.kt();default:return b?null:$.it();}},FZ=function FZ(a){$.L(a,this.DC,this);a.jb(this);},GZ=function GZ(a,b){this.D=$.Zk(a);this.b=b||1;this.f=new Date(0);switch(this.D){case"year":this.j=315576E5*this.b;this.i=this.P$;this.next=this.cia;break;case"semester":this.j=315576E5*this.b/2;this.i=this.M$;this.next=this.$ha;break;case"quarter":this.j=315576E5*this.b/4;this.i=this.K$;this.next=this.Yha;break;case"month":this.j=315576E5*this.b/12;this.i=this.MQ;this.next=this.Xha;break;case"third-of-month":this.j=315576E5*this.b/36;this.i=this.N$;this.next=this.aia;break;case"week":this.j=6048E5*this.b;this.i=this.O$;this.next=this.bia;break;default:this.j=864E5*this.b;this.i=this.G$;this.next=this.Rha;break;case"hour":this.j=36E5*this.b;this.i=this.H$;this.next=this.Tha;break;case"minute":this.j=6E4*this.b;this.i=this.J$;this.next=this.Wha;break;case"second":this.j=1E3*this.b;this.i=this.L$;this.next=this.Zha;break;case"millisecond":this.j=this.b,this.i=this.I$,this.next=this.Vha;}},HZ=function HZ(a,b,c){a.f.setTime($.Uo(a.f.getTime(),b,c?c.getTime():Date.UTC(2E3,0))-b);},Mka=function Mka(a){var b=a.getUTCDate();return 3*(12*a.getUTCFullYear()+a.getUTCMonth())+(10>=b?0:20>=b?1:2);},Nka=function Nka(a,b){var c=a.tj()-b.tj();return c?c:b.b-a.b;},IZ=function IZ(){$.U.call(this);this.Fa("defaultGroupingSettings");this.j=!0;this.D=!1;this.b=[];this.f=500;this.i=window.NaN;this.G={unit:"millisecond",count:1};this.K=!1;},Pka=function Pka(a){for(var b=[],c=0;c<a.b.length;c++)b.push(Oka(a.b[c]));return b;},Oka=function Oka(a){return{unit:a.D,count:a.b};},JZ=function JZ(a,b){this.key=a;this.values=b;this.b=this.next=null;this.i=!1;this.j=Qka++;},KZ=function KZ(a,b){return a.key==b.key?a.j-b.j:a.key-b.key;},LZ=function LZ(a){return this-a.key;},Rka=function Rka(a){return this-a.key;},MZ=function MZ(a,b,c,d,e){this.Zc=a;this.ea=d;this.K=new JZ((0,window.isNaN)(b.xu)?-1:b.xu,[]);this.K.next=b.xT;this.aa=b.QI;this.ma=b.lastIndex-b.sj+1||0;this.ba=(this.i=e||null)?this.vda:this.D$;this.Ba=this.i?this.gfa:this.nfa;this.Ai=c;this.reset();},NZ=function NZ(){this.f=[];this.i=!0;this.b=[];this.P=!0;this.D=[];this.j=0;this.K=[];this.G=0;},Ska=function Ska(a,b){return a.b.length?1<a.b.length?a.wi($.Za(Math.round(a.Of(b)),0,a.b.length-1)):a.b[0].key:window.NaN;},PZ=function PZ(a,b,c){c=Math.max(0,Math.floor(c));var d=a.b.length>c?a.b[c]:null;b=Math.max(0,Math.ceil(b));return new OZ(b,a.b.length>b?a.b[b]:null,d,Math.min(c,a.b.length-1)-Math.min(b,a.b.length));},QZ=function QZ(a){return a.b.length?a.b.length-1:window.NaN;},Uka=function Uka(a,b,c){var d,e,f,h,k=a.b.length,l={};if(k){for(h=0;h<a.K.length;h++){var m=a.K[(a.G-h-1+4)%4];if(m.Ih==b&&m.Vi==c)return m;}var p=a.Of(b);var q=a.Of(c);m=Math.max(0,Math.ceil(p));if((0,window.isNaN)(m)||m>=k){var r=k-1;m=d=e=f=window.NaN;}else if(d=Math.min(Math.floor(q),k-1),(0,window.isNaN)(d)||0>d)e=0,m=d=r=f=window.NaN;else if(m<=d){r=0<m?m-1:window.NaN;e=d<k-1?d+1:window.NaN;f=window.Infinity;h=(0,window.isNaN)(r)?m:r;for(var t=(0,window.isNaN)(e)?d:e,u=a.b[h];h<t;h++){var v=u;u=v.next;f=Math.min(f,u.key-v.key);}(0,window.isFinite)(f)||(f=window.NaN);}else r=d,e=m,m=d=window.NaN,f=a.b[r],f=f.next.key-f.key;t=Tka(a);u=$.Za(b,t[2],t[3]);v=$.Za(c,t[2],t[3]);h=a.Of(u);for(var w=a.Of(v),x,y;h<=w;h++)h<m?(x=$.Za(a.b[m].key,t[0],t[1]),y=$.Za(u,t[0],t[1]),h=m):h&&a.b[h]?(x=a.b[h].key,y=a.b[h-1].key):x=y=window.NaN,x-=y,(0,window.isNaN)(x)||0==x||(y=DZ(x),l[y.unit]?(y=l[y.unit],y.count++,y.we+=x):l[y.unit]={count:1,we:x,Bg:y.unit});w>d&&(x=$.Za(v,t[0],t[1]),y=$.Za(a.b[d].key,t[0],t[1]),x-=y,(0,window.isNaN)(x)||0==x||(y=DZ(x),l[y.unit]?(y=l[y.unit],y.count++,y.we+=x):l[y.unit]={count:1,we:x,Bg:y.Bg}));}else m=d=r=e=p=q=f=window.NaN;m={Vm:l,Ih:b,Vi:c,Ag:p,Nj:q,sj:m,xu:r,lastIndex:d,Ty:e,vI:f};k&&(a.K[a.G]=m,a.G=(a.G+1)%4);return m;},Tka=function Tka(a){var b=a.b.length;if(b){var c=a.b[0].key;if(1==b)a=[c-1,c+1,c-1,c+1];else{var d=a.b[b-1].key;a=[c,d,c-(a.b[1].key-c)/2,d+(d-a.b[b-2].key)/2];}}else a=[window.NaN,window.NaN,window.NaN,window.NaN];return a;},OZ=function OZ(a,b,c,d){this.D={key:a-1,next:b};this.K=c?c.next:null;this.G=d;this.reset();},TZ=function TZ(a){this.Zc=a;this.f=RZ(a.ee());this.i=!0;this.b=Vka(this.f);this.hb=null;this.D=!1;this.j=[];SZ(this);},SZ=function SZ(a){for(var b=a.hb?a.hb.i.b.length:a.f.Jb();a.j.length<b;)a.j.push({});},Wka=function Wka(a,b){var c=a.f.Cn(b);return c?new UZ(c,a.Zc,!a.i,b,a.j[b]):null;},Xka=function Xka(a,b,c,d){if(b>c){var e=b;b=c;c=e;}e=RZ(a.Zc.ee(),d);if(a.D||e!=a.f||a.b.Ih!=b||a.b.Vi!=c)a.D=!1,a.f=e,a.i=!d,a.b=e.select(b,c),SZ(a);return a;},VZ=function VZ(a,b,c){return b?(c=a.hb?a.hb.Of(b.key):c,new UZ(b,a.Zc,!a.i,c,a.j[c]||{})):null;},WZ=function WZ(a){return VZ(a,a.b.oO,a.b.xu);},XZ=function XZ(a){return VZ(a,a.b.QI,a.b.Ty);},Yka=function Yka(a,b){var c=a.b.r3,d=a.b.lastIndex;if($.n(b))for(var e=a.i?YZ(a.Zc,b):ZZ(a.Zc,b);c&&c!=a.b.oO&&(0,window.isNaN)(c.wj(e));)c=c.b,d--;c==a.b.oO&&(c=null);return VZ(a,c,d);},Zka=function Zka(a,b,c){if("first-visible"==b){var d=a.b.xT,e=a.b.sj;if($.n(c))for(c=a.i?YZ(a.Zc,c):ZZ(a.Zc,c);d&&d!=a.b.QI&&(0,window.isNaN)(d.wj(c));)d=d.next,e++;d==a.b.QI&&(d=null);a=VZ(a,d,e);}else if("last-visible"==b)a=Yka(a,c);else if("series-start"==b){e=RZ(a.Zc.ee());if($.n(c)){c=YZ(a.Zc,c);b=0;for(var f=e.Jb();b<f&&(d=e.Cn(b),(0,window.isNaN)(d.wj(c)));b++);}else d=e.Cn(0);a=d?new UZ(d,a.Zc,!1,0,null):null;}else if("series-end"==b){d=RZ(a.Zc.ee());if($.n(c))for(c=YZ(a.Zc,c),b=d.Jb();b--&&(e=d.Cn(b),(0,window.isNaN)(e.wj(c))););else e=d.Cn(d.Jb()-1);a=e?new UZ(e,a.Zc,!1,0,null):null;}else c=RZ(a.Zc.ee()),d=$.n(b)?$Z(c,b,"exact"):0,a=(c=c.Cn(d))?new UZ(c,a.Zc,!1,d,null):null;return a;},a_=function a_(a,b){return a.i?YZ(a.Zc,b):ZZ(a.Zc,b);},c_=function c_(a,b,c){return new MZ(a.Zc,a.b,a.j,!a.i,b&&a.hb?b_(a.hb,!!c):null);},UZ=function UZ(a,b,c,d,e){this.yf=a;this.Zc=b;this.b=c;this.zd=d;this.Ai=e;},d_=function d_(){$.U.call(this);this.ea={};this.ma={};this.Ya={};this.aa={};this.Ba=this.i=this.f=new NZ();this.P={};this.b={Vm:{},Ih:window.NaN,Vi:window.NaN,Ag:window.NaN,Nj:window.NaN,sj:window.NaN,xu:window.NaN,lastIndex:window.NaN,Ty:window.NaN,vI:window.NaN,uka:window.NaN,Fea:window.NaN,tka:window.NaN,Eea:window.NaN};this.ba={Vm:{},Ih:window.NaN,Vi:window.NaN,Ag:window.NaN,Nj:window.NaN,sj:window.NaN,xu:window.NaN,lastIndex:window.NaN,Ty:window.NaN,vI:window.NaN,uka:window.NaN,Fea:window.NaN,tka:window.NaN,Eea:window.NaN};this.Za=this.D=this.j=this.rb=this.eb=window.NaN;},e_=function e_(a,b,c){var d=$.oa(b).toFixed(0);c=c?a.ma:a.Ya;if(!(d in a.ea&&d in c)){a.ea[d]=b;c[d]=b;b.hb=a;b=b.mr().ee();d=$.oa(b).toFixed(0);d in a.aa||(a.aa[d]=b,$.L(b,a.h6,a));a.f.i=!0;for(var e in a.P)a.P[e].i=!0;a.B(16384,16);}},$ka=function $ka(a){if(a.J(16384)){f_(a);var b=Tka(a.f);if(a.j!=b[2]||a.D!=b[3])return a.eb=b[0],a.rb=b[1],a.j=b[2],a.D=b[3],!0;}return!1;},cla=function cla(a,b,c,d,e){$ka(a);g_(a,e);g_(a,d);var f=a.j,h=a.D,k=a.J(16384);a.Za=b;b=0;var l=h_(a,f,h,i_(a),a.Ya,a.Ba,a.ba,k);l&&(a.Ba=l[0],a.ba=l[1],b+=2);l=a.K.An();ala(e,a.ba.Ih,a.ba.Vi,l.unit,l.count,a.ba.Vm);l=a.b.Ih;var m=a.b.Vi;!k||!(!c||(0,window.isNaN)(a.b.xu)&&!(0,window.isNaN)(a.b.Ih)||(0,window.isNaN)(a.b.Ty)&&!(0,window.isNaN)(a.b.Ih))||(0,window.isNaN)(a.Ja)||(0,window.isNaN)(a.Ha)||(0,window.isNaN)(f)||(0,window.isNaN)(h)||(l=e.Jc(a.Ja),m=e.Jc(a.Ha));if((0,window.isNaN)(l)||(0,window.isNaN)(a.b.xu)&&!(0,window.isNaN)(a.b.Ih)&&!(0,window.isNaN)(f))l=f;if((0,window.isNaN)(m)||(0,window.isNaN)(a.b.Ty)&&!(0,window.isNaN)(a.b.Ih)&&!(0,window.isNaN)(h))m=h;if(!(0,window.isNaN)(l)){if(c=h_(a,l,m,a.G,a.ma,a.i,a.b,k))a.i=c[0],a.b=c[1],b+=1;bla(a,d);}a.Ja=e.transform(a.b.Ih);a.Ha=e.transform(a.b.Vi);a.I(16384);return b;},h_=function h_(a,b,c,d,e,f,h,k){if(b>c){var l=b;b=c;c=l;}1>c-b&&(c>a.j?b=c-1:c=b+1);h=b!=h.Ih||c!=h.Vi;var m=a.Za,p=c-b;l=Uka(a.f,b,c);var q=l.lastIndex-l.sj+1||0;l=l.vI;m=(0,window.isNaN)(d.f)?m/d.i:d.f;var r=-1;if(d.j&&0<d.b.length&&l&&(d.D||q>m)){q=0;for(r=d.b.length;q<r&&d.b[q].tj()<=l;)q++;p/=m;q=Math.max(q-1,0)||0;m=d.b.length;r=-1;for(var t=q;t<m;t++)if(d.b[t].tj()>=p){r=t;break;}0>r&&q<m&&(r=m-1);}0>r?(p=null,d.G=l?DZ(l):{unit:"millisecond",count:1}):(p=d.b[r],d.G=Oka(p));d.K=!!p;d=p;var u;d?(l=d.D+d.b.toFixed(0),l in a.P?u=a.P[l]:a.P[l]=u=new NZ()):u=a.f;a=j_(a,u,d)||k;if(h||u!=f||a){var v;f=Uka(u,b,c);if(u.P)for(v in e){if(a=e[v],k=b,h=c,l=f.xu,p=f.Ty,q=d,m=RZ(a.Zc.ee(),q),a.D||m!=a.f||a.b.Ih!=k||a.b.Vi!=h)a.D=!1,a.f=m,a.i=!q,a.b=k_(m,k,h,l,p),SZ(a);}else for(v in e)Xka(e[v],b,c,d);return[u,f];}return null;},b_=function b_(a,b,c,d){var e=b?a.Ba:a.i;if(e.P&&!d)return null;if(c)return PZ(e,e.b.length?0:window.NaN,QZ(e));a=b?a.ba:a.b;return PZ(e,a.sj,a.lastIndex);},i_=function i_(a,b){a.K||(a.K=new IZ(),a.K.Fa("stock.scrollerGrouping"),a.K.U(a.K.na,!0),$.L(a.K,a.q2,a));return $.n(b)?(a.K.N(b),a):a.K;},j_=function j_(a,b,c){if(b.vr()){b.f.length=0;b.i=!0;for(var d in a.aa){var e=RZ(a.aa[d],c);b.f.push(e);}b.update();return!0;}return!1;},f_=function f_(a){j_(a,a.f);},bla=function bla(a,b){var c=a.Um().An();ala(b,a.b.Ih,a.b.Vi,c.unit,c.count,a.b.Vm);},g_=function g_(a,b){var c=a.D,d=a.eb,e=a.rb;b.ea=a.j;b.ba=c;b.i=d;b.aa=e;b.va(256);},l_=function l_(a){j_(a,a.i);return a.i.wi(a.b.sj);},m_=function m_(a){j_(a,a.i);return a.i.wi(a.b.lastIndex);},n_=function n_(a){$.jx.call(this,a);$.Q(this.ta,[["scrollOnMouseWheel",0,0]]);},o_=function o_(a,b){$.Y.call(this);this.Fa($.yr.axis);this.b=a;this.Na=this.Ga=this.pc=this.Ca=null;this.f=!b;$.Q(this.ta,[["height",4,9],["showHelperLabel",16,1],["overlapMode",16,1]]);},p_=function p_(){$.Y.call(this);this.D=this.G=this.j=this.K=null;$.Q(this.ta,[["value",4,1],["valueField",4,1],["stroke",20,1],["fallingStroke",20,1],["risingStroke",20,1]]);},dla=function dla(a,b,c){b=$.n(b)?b:a.na;a.j||(a.j=new $.Ru(),$.L(a.j,a.oR,a),a.i=a.j.add(null,null,0),a.i.zIndex(1),a.j.I(4294967295));a.G||(a.G=new $.Ru(),$.L(a.G,a.oR,a),a.G.I(4294967295));a.D||(a.D=new $.Ru(),$.L(a.D,a.oR,a),a.D.I(4294967295));a.j.fa(!!c,b.label);a.G.fa(!!c,b.risingLabel);a.D.fa(!!c,b.fallingLabel);},q_=function q_(){$.mz.call(this);},r_=function r_(a){$.xD.call(this);this.b=a;this.P=null;},ela=function ela(a){this.oc=a;this.f=[];this.b=0;},s_=function s_(a){this.b=[];this.P=a;this.Ha=[];this.ma=0;this.Ba=[];this.ea=0;this.i=-1;this.G=null;},t_=function t_(a){a.G=null;a.Ha.length=0;a.ma=0;a.Ba.length=0;a.ea=0;},u_=function u_(a,b,c,d,e,f,h){var k;if($.ea(c)){var l=Math.min(b.values.length,c);for(k=0;k<l;k++)c=$.N(b.values[k]),c<d[k]&&(d[k]=c),c>e[k]&&(e[k]=c);}else for(k in c)c=$.N(b.values[k]),c<d[k]&&(d[k]=c),c>e[k]&&(e[k]=c);for(k=0;k<=a.i;k++)b.f&&(c=$.N(b.f[k]),c<f[k]&&(f[k]=c),c>h[k]&&(h[k]=c));},k_=function k_(a,b,c,d,e){var f,h=a.b.length;if(h){for(f=0;f<a.Ha.length;f++){var k=a.Ha[(a.ma-f-1+4)%4];if(k.Ih==b&&k.Vi==c)return k;}if((0,window.isNaN)(d)){if((0,window.isNaN)(e)){var l=0;var m=h-1;}else e?(l=0,m=e-1):l=m=window.NaN;}else(0,window.isNaN)(e)?d==h-1?l=m=window.NaN:(l=d+1,m=h-1):1==e-d?l=m=window.NaN:(l=d+1,m=e-1);var p=a.b[d]||null;k=a.b[l]||null;var q=a.b[m]||null;var r=a.b[e]||null;}else k=q=p=r=null,l=m=d=e=window.NaN;var t=a.WT(),u=$.ea(t),v,w,x,y;if(p||k||r){var B=!p&&!r;if(B&&a.G){var G=v=a.G.NN;var D=w=a.G.LN;var K=x=a.G.YK;var P=y=a.G.XK;}else{G=CZ(t,window.Infinity,!0);D=CZ(t,-window.Infinity,!0);K=CZ(a.i+1,window.Infinity);P=CZ(a.i+1,-window.Infinity);for(v=p?p.next:k;v&&v!=r;)u_(a,v,t,G,D,K,P),v=v.next;v=$.Sc(G);w=$.Sc(D);x=$.Ja(K,0);y=$.Ja(P,0);p&&u_(a,p,t,v,w,x,y);r&&u_(a,r,t,v,w,x,y);if(u)for(f=0;f<t;f++)G[f]==Number.POSITIVE_INFINITY&&(G[f]=window.NaN),D[f]==Number.NEGATIVE_INFINITY&&(D[f]=window.NaN),v[f]==Number.POSITIVE_INFINITY&&(v[f]=window.NaN),w[f]==Number.NEGATIVE_INFINITY&&(w[f]=window.NaN);else for(f in t)G[f]==Number.POSITIVE_INFINITY&&(G[f]=window.NaN),D[f]==Number.NEGATIVE_INFINITY&&(D[f]=window.NaN),v[f]==Number.POSITIVE_INFINITY&&(v[f]=window.NaN),w[f]==Number.NEGATIVE_INFINITY&&(w[f]=window.NaN);for(f=0;f<=a.i;f++)K[f]==Number.POSITIVE_INFINITY&&(K[f]=window.NaN),P[f]==Number.NEGATIVE_INFINITY&&(P[f]=window.NaN),x[f]==Number.POSITIVE_INFINITY&&(x[f]=window.NaN),y[f]==Number.NEGATIVE_INFINITY&&(y[f]=window.NaN);B&&(a.G={NN:$.Sc(G),LN:$.Sc(D),YK:$.Ja(K,0),XK:$.Ja(P,0)});}}else G=D=v=w=CZ(t,window.NaN,!0),K=P=x=y=CZ(a.i,window.NaN);k={Ih:b,Vi:c,xu:d,sj:l,lastIndex:m,Ty:e,oO:p,xT:k,r3:q,QI:r,NN:v,LN:w,XK:y,YK:x,O6:G,N6:D,L6:P,M6:K};h&&(a.Ha[a.ma]=k,a.ma=(a.ma+1)%4);return k;},Vka=function Vka(a){var b=a.b.length;return b?k_(a,a.b[0].key,a.b[b-1].key,window.NaN,window.NaN):k_(a,window.NaN,window.NaN,window.NaN,window.NaN);},$Z=function $Z(a,b,c){c=c||"exact";for(var d=0;d<a.Ba.length;d++){var e=a.Ba[(a.ea-d-1+2)%2];if(e.key==b&&e.mode==c)return e.index;}d=$.Oa(a.b,LZ,b);if(0>d)if(d=~d,"exact-or-next"==c)d=d<a.b.length?d:window.NaN;else if("exact-or-prev"==c)d=0<d?d-1:window.NaN;else{if("nearest"==c)return c=a.b.length,d?d<c?(a=a.b[d],b-a.b.key<a.key-b?d-1:d):c?c-1:window.NaN:c?0:window.NaN;d=window.NaN;}a.Ba[a.ea]={key:b,mode:c,index:d};a.ea=(a.ea+1)%2;return d;},w_=function w_(a,b){s_.call(this,a);this.D=b||null;this.f=v_;this.j=0;},fla=function fla(a,b,c,d,e,f){e=e?a.j:c.length;var h;$.n(f)?(f=$.Oa(b,LZ,f),b=b[0<=f?f:~f]):b=b[0];if(b)if(f=a.b[a.b.length-1]||null,d){d.f.setTime(b.key);d.i();var k=d.next();do{for(var l=d.next(),m=!1;b&&((0,window.isNaN)(l)||b.key<l);){m=!0;for(h=0;h<e;h++){var p=c[h];p.b(b.values[p.j],b.values[p.D],b.values);}b=b.next;}if(m){p=Array(e);for(h=0;h<e;h++)p[h]=c[h].f();h=new JZ(k,p);f&&(f.next=h);h.b=f;a.b.push(h);f=h;}k=l;}while(b);}else{do{for(h=0;h<e;h++)p=c[h],p.b(b.values[p.j],b.values[p.D],b.values);p=Array(e);for(h=0;h<e;h++)p[h]=c[h].f();h=new JZ(b.key,p);f&&(f.next=h);h.b=f;a.b.push(h);f=h;b=b.next;}while(b);}},x_=function x_(a,b,c,d,e,f){s_.call(this,a);this.f=[];this.j=this.P4;this.K=0;this.aa=!1;this.rb=$.z(b)?b:$.Jo(b,0,!0);this.Ya=c;this.Za=$.N(d)||0;this.Ja=$.ma(e)?e.getTime():$.N(e);this.eb=f||null;this.ba=0;this.D=null;},gla=function gla(a,b){if($.A(b))b=$.Ja(b,0);else if($.C(b)){var c=b;b={};for(var d in c)b[d]=c[d];}else b=null;c=$.ts(b[a.rb],a.Ya,(0,window.isNaN)(a.Ja)?null:new Date(a.Ja),a.eb);if(d=!(!b||!c))a.Za&&c.setTime(c.getTime()+36E5*a.Za),a.j(new JZ(c.getTime(),b));return d;},y_=function y_(a){a.j==a.bX&&(a.f.sort(KZ),a.j=a.N4);return a.j!=a.O4;},hla=function hla(a,b){var c=a.b.length-1;if(0<=c){var d=a.b[c];var e=d.key;}else d=null,e=window.NaN;for(var f;f=b.next();)if(!f.i){f.key==e?(a.b[c]=f,f.b=d.b):(a.b.push(f),f.b=d,e=f.key,c++);f.b&&(f.b.next=f);d=f;var h;if($.A(f.values)){if(f=f.values.length,a.ba<f){if(a.D)for(h=a.ba;h<f;h++)a.D[h]=!0;a.ba=f;}}else{if(!a.D)for(a.D={},h=0;h<a.ba;h++)a.D[h]=!0;for(h in f.values)a.D[h]=!0;}}d&&(d.next=null);},z_=function z_(a,b,c,d,e){this.oc=a||[];this.j=b||[];d=$.N(d);e=$.N(e);(0,window.isNaN)(e)?this.next=this.dia:(this.next=this.qda,this.D=e);a=(0,window.isNaN)(d)?0:$.Oa(this.oc,LZ,d);this.f=this.oc[0>a?~a:a];c?(this.i=this.Qha,this.b=(0,window.isNaN)(d)?0:$.Oa(this.j,LZ,d),0>this.b&&(this.b=~this.b)):(this.i=this.Sha,this.b=(0,window.isNaN)(d)?this.j.length-1:$.Oa(this.j,Rka,d),0>this.b&&(this.b=~this.b-1));},A_=function A_(a,b){$.nd.call(this);this.Zc=a;this.zd=b;this.f={};this.b=$.ll;this.i=this.j=$.ia;},B_=function B_(a,b,c,d){UZ.call(this,a,b.Zc,c,d,{});this.j=b;},C_=function C_(a,b){$.U.call(this);this.ez=a;this.UC={};if($.C(b)){$.V(this.ez);for(var c in b){var d=b[c];$.C(d)?this.Rd(c,d.column,d.type,d.context||d.weights):($.ea(d)||$.z(d))&&this.Rd(c,d);}this.ez.da(!0);}},ZZ=function ZZ(a,b){return b in a.UC?a.UC[b].f5:window.NaN;},YZ=function YZ(a,b){return b in a.UC?a.UC[b].T5:window.NaN;},D_=function D_(a,b){$.nd.call(this);this.j=a;this.D=$.n(b)?b:window.NaN;this.clear();},E_=function E_(a){D_.call(this,a);},F_=function F_(a,b){this.i=b;D_.call(this,a);},G_=function G_(a,b,c){this.G=b;this.i=c;D_.call(this,a);},H_=function H_(a){D_.call(this,a);},I_=function I_(a){D_.call(this,a);},J_=function J_(a){D_.call(this,a);},K_=function K_(a){D_.call(this,a);},L_=function L_(a){D_.call(this,a);},M_=function M_(a){D_.call(this,a);},N_=function N_(a){D_.call(this,a);},O_=function O_(a){D_.call(this,a);},P_=function P_(a,b){D_.call(this,a,b);},ila=function ila(a,b,c){if($.E(a))return new G_(b,a,c);if($.C(a))return new F_(b,a);switch(a){case"average":return new E_(b);case"first":return new H_(b);case"first-value":return new I_(b);case"last-value":return new K_(b);case"list":return new L_(b);case"max":return new M_(b);case"min":return new N_(b);case"sum":return new O_(b);case"weighted-average":return new P_(b,c);default:case"last":return new J_(b);}},jla=function jla(a,b,c){$.ea(b)&&(b=b.toFixed(0));if($.C(a))return $.oa(a)+"|"+b+"|"+$.vo(c);switch(a){case"average":return"a"+b;case"first":return"f"+b;case"first-value":return"o"+b;case"last-value":return"c"+b;case"list":return"g"+b;case"max":return"x"+b;case"min":return"n"+b;case"sum":return"s"+b;case"weighted-average":return $.ea(c)&&(c=c.toFixed(0)),"w"+b+":"+String(c);default:case"last":return"l"+b;}},Q_=function Q_(a,b,c,d,e){$.U.call(this);this.oc=new x_(this,a,b,c,d,e);this.bv={};this.gS={};this.Uz={};this.aG=0;this.Vw=[];this.qF=[];this.Qx=[];this.bG=[];},RZ=function RZ(a,b){var c;if(b){var d=b.D+b.b.toFixed(0);d in a.bv?c=a.bv[d]:a.bv[d]=c=new w_(a,b);}else c=a.oc;c.update();return c;},kla=function kla(a,b,c){for(var d in a.bv){var e=a.bv[d];(e.f|b)!=e.f?(e.f|=b,e=!0):e=!1;c=e||c;}c&&($.Tp++,a.va(16),$.Wp());},R_=function R_(a,b,c,d){$.Dx.call(this,a,b,c,d);this.f=this.D=this.aa=this.ka=this.ba=null;this.K=!1;this.P=null;this.i0=!1;},lla=function lla(a){var b,c=a.ab();a.check(64)&&!a.gh()&&$.J(c,$.Ot)&&"none"!=c.Tz()&&(b=Zka(a.ka,c.r0(),a.bf.Cl));a.Px=Number(b&&b.get(a.bf.Cl))||0;},mla=function mla(a){a.f=null;a.K=!1;S_(a,$.hm);a.$().reset();},S_=function S_(a,b){if(a.G&&a.enabled()){var c=a.$();c.Gu(a.G.yf,a.G.la());if(a.xa.st){a.eh()&&a.Lf.Fm(b,c.o("shapes"));var d=c.o($.J(a.Lf,$.aB)?"shapes":"shapeNames");a.Lf.LB(b,d);a.bf.TE(c,b);}a.check(4194304)&&a.eq(c,b,!0);b==$.hm&&(a.G=null);}},T_=function T_(a,b){return"number"==typeof b?$.Fs(b,a.ba||void 0):b;},U_=function U_(){this.ka=[];this.f=(0,$.pa)(this.f,this);},V_=function V_(a,b){return a.key-b.key||a.index-b.index;},nla=function nla(a,b,c,d){this.ka=a;this.P=b;this.G=c;this.K=d;this.reset();},ola=function ola(a,b){var c,d=$.Na(a.ka,b,function(a,b){return a-b.index;});if(c=0<=d){var e=a.ka[d];a.b=d;a.j=e.DG;a.D=e.items.length;a.i=0;}else a.D=0,a.b=a.ka.length,a.i=0,a.j=window.NaN;return c;},W_=function W_(a){return a.b<a.ka.length?a.ka[a.b].index:window.NaN;},a0=function a0(a,b){$.Y.call(this);this.jf=a;this.index=b;this.mG=new U_();this.fm=new $.aB(this,[$.XH,pla],!1);this.ca=new $.oy(this,X_,$.hm,Y_);this.ca.sa("connectorAfterInitCallback",FZ);this.ya=new $.oy(this,Z_,$.hm,Y_);this.Da=new $.oy(this,Z_,$.hm,Y_);this.Ca=new $.Ru();this.Ca.jb(this);$.Q(this.ta,$_);this.aB=[];this.Dda=$.dm("stroke",2,!0,!0);},qla=function qla(a,b,c,d){b.o("positionHash")==c&&(a.Ca.Zd(b.la()).Td().translate(0,d),b.o("shapes").path.translate(0,d),b.o("shapes").overlay.translate(0,d),b.o("offset",Number(b.o("offset"))-d));},rla=function rla(a,b){var c;var d=a.jf.wc().Qa();var e=a.$(),f=(c=Number(e.o("state"))||$.hm)?1==c?30:20:a.zIndex()+3E-6*e.la(),h=a.qc("type",c,e,$.Rk,!1),k=a.nZ[h];var l=a.qc("position",0,e,$.Tk,!1,void 0,!0);var m=window.NaN,p=a.qc("direction",c,e,$.Sk,!1,void 0,!0),q="",r="";if("axis"!=l){q=a.qc("seriesId",0,e,$.Dq,!1,void 0,!0);var t=a.jf.ef(q)||a.jf.yi(0),u;if(t&&(u=Wka(t.ka,W_(e)))&&!u.o("missing")){if("zero"==l){r="zero";var v=0;}else r=a.qc("fieldName",0,e,$.Dq,!1,void 0,!0),v=Number(u.get(r));"series-positive"==l&&0>v||"series-negative"==l&&0<v?(v=0,m=Number(u.o("zero")),(0,window.isNaN)(m)&&(m=t.Qe(t.ab().transform(0),!1)),m=$.Za(m,a.ga.top,a.ga.top+a.ga.height),l=m==a.ga.top+a.ga.height?"axis":"zero"):(m=Number(u.o(r)),(0,window.isNaN)(m)&&!(0,window.isNaN)(v)&&(m=t.Qe(t.ab().transform(v),!1)),m=$.Za(m,a.ga.top,a.ga.top+a.ga.height));"auto"==p&&(p=0>v||!v&&"series-negative"==l?"down":"up");}}(0,window.isNaN)(m)&&(m=a.ga.top+a.ga.height,l="axis",p="up");p="down"!=p;l+="axis"==l?"":q+r+(p?"U":"D");e.o("positionHash",l);r=d.transform(e.Ch(),.5)*a.ga.width+a.ga.left;d=(b?b[l]:Number(e.o("offset")))||0;e.o("offset",d);q=0;var w=a.Dda(a,c);!d&&w&&(q=$.M(a.qc("length",c,e,$.fr,!0),a.ga.height),d+=q);m+=p?-d:d;t={group:a,index:e.la()};if(b){var x=a.fm.dd(c,null,f);u=x.path;v=x.overlay;e.o("shapes",x);}else x=e.o("shapes"),u=x.path,v=x.overlay,a.fm.Fm(c,x),a.fm.wt(f,x),u.parent(a.O()),u.clear(),u.nc(1,0,0,1,0,0),v.parent(a.O()),v.clear(),v.nc(1,0,0,1,0,0);x=$.cc(u.stroke());r=$.O(r,x);m=$.O(m,x);u.tag=t;v.tag=t;q&&w&&(w=a.jf.rj().Ht(r,m,m-(p?-q:q),w,b?void 0:e.o("connectorPath")),w.tag=t,e.o("connectorPath",w));x=Math.round($.M(a.qc("width",c,e,$.fr,!1),a.ga.width));w=Math.round($.M(a.qc("height",c,e,$.fr,!1),a.ga.height));k(u,r,m,x,w,p);a.je(e,c,h,r,m,x,w,p,f+1E-6,!b).Td().tag=t;(0,a.nZ["flag"==h?"flag":"rect"])(v,r,m,x,w,p);d+=w;c=w+q-Number(e.o("totalHeight")||0);e.o("totalHeight",w+q);return[l,b?d:p?-c:c];},b0=function b0(a,b,c){for(var d=0;d<a.length;d++){var e=a[d];if($.C(e)&&(e=e[b],null!=e))return c(e);}},c0=function c0(a,b){$.Y.call(this);this.Fa("stock.eventMarkers");$.L(b,this.p4,this);this.f=a;this.b=[];this.i={};this.j=[];this.ca=new $.oy(this,X_,$.hm,Y_);this.ca.sa("connectorAfterInitCallback",FZ);this.ca.Fa("defaultFontSettings","stock.eventMarkers.normal");this.ya=new $.oy(this,Z_,$.hm,Y_);$.W(this,"hovered",this.ya);this.Da=new $.oy(this,Z_,$.hm,Y_);$.W(this,"selected",this.Da);$.Q(this.ta,$_);this.aB=[];$.uu(this,this);},d0=function d0(a,b,c,d){var e=4*Math.min(b,$.Bo)+2*c+!d,f=a.aB[e];if(!f){f=a.f.wc().rj();if(b){if(1==b){var h=a.ya;var k=f.kb();}else h=a.Da,k=f.selected();}else h=a.ca,k=f.Pa();d&&(h=h.Tf(),k=k.Tf());f=c?[b||d?null:a.na,b||d?null:f.na,h.na,k.na]:[b||d?null:a.Oa,b||d?null:f.Oa,h.Oa,k.Oa];a.aB[e]=f;}return f;},sla=function sla(a){a.On||(a.On=[]);for(var b;b=a.j.pop();)b.clear(),b.parent(null),a.On.push(b);},e0=function e0(a,b,c,d,e){var f=b.$();if(f.select(c)){c=Number(f.o("state")||0);if($.n(e)&&c!=e)return!1;if(c!=d){f.o("state",d);e=rla(b);if(d=e[1]){e=e[0];for(c=W_(f);f.advance()&&W_(f)==c;)qla(b,f,e,d);for(var h=b.index+1;h<a.b.length;h++)if((b=a.b[h])&&b.enabled()&&ola(f=b.$(),c)){do qla(b,f,e,d);while(f.advance()&&W_(f)==c);}}return!0;}}return!1;},f0=function f0(a){$.nd.call(this);this.D=a[0];this.Zc=a[1];this.Ra={};this.oa=this.f=null;},g0=function g0(a,b,c,d){a.Ra[b]={X:null,jk:AZ(c,d),QD:!1,mapping:null,jV:!1};},i0=function i0(a,b,c){b=a.Ra[b];return b?$.n(c)?(c=AZ(c,b.jk),c!=b.X.jk()&&(b.jk=c,b.QD=!1,b.jV=!0,h0(a)),a):b.X:$.n(c)?a:null;},h0=function h0(a){a.oa||(a.oa=a.D.wc());a.f||(a.f=a.Kc(a.Zc,a.oa));$.V(a.oa);for(var b in a.Ra){var c=a.Ra[b];c.X||(c.X=a.D.Ae(c.jk),c.X.ba=2,c.QD=!1);$.V(c.X);c.jV&&(c.X.jk(c.jk),c.jV=!1);c.mapping||(c.mapping=a.Zc.ee().Wd(),a.Vn(c.mapping,a.f,b));c.QD||(c.X.data(c.mapping),$.E(c.X.name)&&c.X.name(a.fg(b)),c.QD=!0);c.X.da(!0);}a.D.wc().da(!0);},j0=function j0(a){for(var b in a.Ra){var c=a.Ra[b];c.QD=!1;$.pd(c.mapping);c.mapping=null;}$.pd(a.f);a.f=null;h0(a);},k0=function k0(a){this.i=$.Jo(a,256,!1);this.oc=[];this.b=this.f=0;},l0=function l0(a){return new k0(a);},m0=function m0(){return{vd:0,dispose:function dispose(){}};},n0=function n0(a){a.vd=0;},o0=function o0(a,b,c,d,e){if((0,window.isNaN)(c)||(0,window.isNaN)(d)||(0,window.isNaN)(b)||(0,window.isNaN)(e))return window.NaN;var f=c-d,h=a.vd;f&&(h+=(b-d-(c-b))/f*e,a.vd=h);return h;},tla=function tla(a,b){var c=$.N(a.get("close")),d=$.N(a.get("high")),e=$.N(a.get("low")),f=$.N(a.get("volume"));c=o0(b,c,d,e,f);a.set("result",c);},ula=function ula(a){a=a.ee().Kc(a);a.cg(m0());a.dg(n0);a.bg(tla);a.hd("result");return a;},p0=function p0(a){f0.call(this,a);g0(this,"main",a[2]);h0(this);},vla=function vla(a,b,c){a=$.Jo(a,20,!1);b=$.Jo(b,2,!1);c=$.Jo(c,30,!1);if(b>c){var d=b;b=c;c=d;}return{dc:l0(a+1),xb:a,gx:c,Lv:b,yu:window.NaN,vd:window.NaN,dispose:function dispose(){this.dc.clear();}};},wla=function wla(a){a.dc.clear();a.vd=window.NaN;},xla=function xla(a,b){var c=a.get("value");c=$.n(c)?c:a.get("close");c=$.N(c);var d=(0,window.isNaN)(c),e;d||(e=b.dc.enqueue(c));if(d||b.dc.Pg()<=b.xb)c=window.NaN;else{var f=2/(b.gx+1);var h=2/(b.Lv+1);c=b.dc.get(-1);var k=b.dc.get(0);d=b.dc.get(-2);if((0,window.isNaN)(b.vd)||(0,window.isNaN)(b.yu)){b.yu=0;for(e=1;e<=b.xb;e++)b.yu+=Math.abs(b.dc.get(e)-b.dc.get(e-1));b.yu?(e=Math.abs(c-k)/b.yu,e=e*(h-f)+f):e=f;c=d+e*e*(c-d);}else b.yu+=Math.abs(c-d)-Math.abs(k-e),b.yu?(e=Math.abs(c-k)/b.yu,e=e*(h-f)+f):e=f,c=b.vd+e*e*(c-b.vd);b.vd=c;}a.set("result",c);},yla=function yla(a,b,c,d){a=a.ee().Kc(a);a.cg(vla(b,c,d));a.dg(wla);a.bg(xla);a.hd("result");return a;},q0=function q0(a){f0.call(this,a);this.i=$.Jo(a[2],20,!1);this.b=$.Jo(a[3],2,!1);this.j=$.Jo(a[4],30,!1);g0(this,"main",a[5]);h0(this);},r0=function r0(a){a=$.Jo(a,20,!1);return{dc:l0(a),xb:a,vd:window.NaN,dispose:function dispose(){this.dc.clear();}};},s0=function s0(a){a.dc.clear();a.vd=window.NaN;},zla=function zla(a,b){var c=a.get("value");c=$.n(c)?c:a.get("close");c=$.N(c);c=t0(b,c);a.set("result",c);},Ala=function Ala(a,b){var c=a.ee().Kc(a);c.cg(r0(b));c.dg(s0);c.bg(zla);c.hd("result");return c;},t0=function t0(a,b){if((0,window.isNaN)(b))return window.NaN;a.dc.enqueue(b);var c;if(a.dc.Pg()<a.xb)return window.NaN;if((0,window.isNaN)(a.vd)){for(var d=c=0;d<a.xb;d++)c+=a.dc.get(d);c/=a.xb;}else c=a.dc.get(-1),c=a.vd+2/(a.xb+1)*(c-a.vd);return a.vd=c;},u0=function u0(a){a=$.Jo(a,20,!1);return{dc:l0(a),xb:a,vd:window.NaN,qG:window.NaN,dispose:function dispose(){this.dc.clear();}};},v0=function v0(a){a.dc.clear();a.vd=window.NaN;a.qG=window.NaN;},Bla=function Bla(a,b){var c=a.get("value");c=$.n(c)?c:a.get("close");c=$.N(c);c=w0(b,c);a.set("result",c);},Cla=function Cla(a,b){var c=a.ee().Kc(a);c.cg(u0(b));c.dg(v0);c.bg(Bla);c.hd("result");return c;},w0=function w0(a,b){if((0,window.isNaN)(b))return a.qG=window.NaN;var c=a.dc.enqueue(b);a.qG=c;if(a.dc.Pg()<a.xb)return window.NaN;if((0,window.isNaN)(a.vd)){for(var d=c=0;d<a.xb;d++)c+=a.dc.get(d);c/=a.xb;}else d=a.dc.get(-1),c=a.vd+(d-c)/a.xb;return a.vd=c;},Dla=function Dla(a,b,c){a=$.Jo(a,5,!1);b=$.Jo(b,34,!1);c=BZ(c,"sma");if("sma"==c){var d=u0;var e=w0;}else d=r0,e=t0;return{Kv:d(a),ex:d(b),so:e,$k:c,dispose:function dispose(){this.Kv.dispose();this.ex.dispose();}};},Ela=function Ela(a){"sma"==a.$k?(v0(a.Kv),v0(a.ex)):(s0(a.Kv),s0(a.ex));},Fla=function Fla(a,b,c){if((0,window.isNaN)(b)||(0,window.isNaN)(c))return window.NaN;c=(b+c)/2;b=a.so(a.Kv,c);a=a.so(a.ex,c);return b-a;},Gla=function Gla(a,b){var c=$.N(a.get("high")),d=$.N(a.get("low"));c=Fla(b,c,d);a.set("result",c);},Hla=function Hla(a,b,c,d){a=a.ee().Kc(a);a.cg(Dla(b,c,d));a.dg(Ela);a.bg(Gla);a.hd("result");return a;},x0=function x0(a){f0.call(this,a);this.b=$.Jo(a[2],5,!1);this.i=$.Jo(a[3],34,!1);this.j=BZ(a[4],"sma");g0(this,"main",a[5],"stick");h0(this);var b=new $.U();b.Fa("chart.defaultSeriesSettings.base.normal","stock.defaultPlotSettings.defaultSeriesSettings.base.normal","chart.defaultSeriesSettings.lineLike.normal","stock.defaultPlotSettings.defaultSeriesSettings.lineLike.normal","chart.defaultSeriesSettings.ohlc.normal","stock.defaultPlotSettings.defaultSeriesSettings.ohlc.normal");a=b.na.risingStroke;b=b.na.fallingStroke;this.X().risingStroke(a);this.X().fallingStroke(b);this.X().risingFill(a);this.X().fallingFill(b);},y0=function y0(a){a=u0($.Jo(a,14,!1));a.pO=window.NaN;return a;},z0=function z0(a){v0(a);a.pO=window.NaN;},A0=function A0(a,b,c,d){if((0,window.isNaN)(c)||(0,window.isNaN)(d)||(0,window.isNaN)(b))return window.NaN;c=w0(a,Math.max(c,a.pO)-Math.min(d,a.pO));a.pO=b;return c;},Ila=function Ila(a,b){var c=$.N(a.get("close")),d=$.N(a.get("high")),e=$.N(a.get("low"));c=A0(b,c,d,e);a.set("result",c);},Jla=function Jla(a,b){var c=a.ee().Kc(a);c.cg(y0(b));c.dg(z0);c.bg(Ila);c.hd("result");return c;},B0=function B0(a){f0.call(this,a);this.b=$.Jo(a[2],14,!1);g0(this,"main",a[3]);h0(this);},Kla=function Kla(a){a=$.Jo(a,20,!1);return{Ye:l0(a+1),Gf:l0(a+1),xb:a,dispose:function dispose(){this.Ye.clear();this.Gf.clear();}};},Lla=function Lla(a){a.Ye.clear();a.Gf.clear();},Mla=function Mla(a,b){var c=$.N(a.get("high")),d=$.N(a.get("low")),e=(0,window.isNaN)(c)||(0,window.isNaN)(d);e||(b.Ye.enqueue(c),b.Gf.enqueue(d));c=b.Ye.Pg();if(e||c<=b.xb)c=e=window.NaN;else{var f=0,h=b.Ye.get(0);for(d=1;d<c;d++){var k=b.Ye.get(d);k>=h&&(h=k,f=d);}e=100*f/b.xb;f=0;h=b.Gf.get(0);for(d=1;d<c;d++)k=b.Gf.get(d),k<=h&&(h=k,f=d);c=100*f/b.xb;}a.set("upResult",e);a.set("downResult",c);},Nla=function Nla(a,b){var c=a.ee().Kc(a);c.cg(Kla(b));c.dg(Lla);c.bg(Mla);c.hd("upResult");c.hd("downResult");return c;},C0=function C0(a){f0.call(this,a);this.b=$.Jo(a[2],20,!1);this.j=a[3];this.i=a[4];g0(this,"range",a[5],"range-area");h0(this);this.qR().lowFill(function(){return $.Vl($.Rl(this.sourceColor,.6),.65);});this.qR().lowStroke(function(){return $.Vl($.Rl(this.sourceColor),1);});},D0=function D0(a,b){var c=u0($.Jo(a,20,!1));c.ho=$.Jo(b,2,!1);c.Mw=window.NaN;return c;},E0=function E0(a){v0(a);a.Mw=window.NaN;},F0=function F0(a,b){var c=a.vd,d=w0(a,b);if((0,window.isNaN)(d))return[window.NaN,window.NaN,window.NaN];var e,f=a.dc,h=a.xb;if((0,window.isNaN)(c))for(c=e=0;c<h;c++){var k=f.get(c)-d;e+=k*k;}else e=a.qG-c,k=f.get(-1)-d,f=c-d,e=a.Mw+h*f*f+f*(d+c)-2*a.qG*f+k*k-e*e;0>e&&(e=0);a.Mw=e;e=Math.sqrt(e/h)*a.ho;return[d,d+e,d-e];},Ola=function Ola(a,b){var c=a.get("value");c=$.n(c)?c:a.get("close");c=$.N(c);c=F0(b,c);var d=c[1],e=c[2];a.set("middleResult",c[0]);a.set("upperResult",d);a.set("lowerResult",e);},Pla=function Pla(a,b,c){a=a.ee().Kc(a);a.cg(D0(b,c));a.dg(E0);a.bg(Ola);a.hd("upperResult");a.hd("lowerResult");a.hd("middleResult");return a;},G0=function G0(a){f0.call(this,a);this.i=$.Jo(a[2],20,!1);this.b=$.Jo(a[3],2,!1);g0(this,"middle",a[4]);g0(this,"upper",a[5]);g0(this,"lower",a[6]);g0(this,"range",a[7],"range-area");h0(this);},Qla=function Qla(a,b){var c=$.Jo(a,20,!1);return{dc:l0(c),xb:c,ho:$.Jo(b,2,!1),vd:window.NaN,Mw:window.NaN,dispose:function dispose(){this.dc.clear();}};},Rla=function Rla(a){a.dc.clear();a.vd=window.NaN;a.Mw=window.NaN;},Sla=function Sla(a,b){var c=b.dc,d=b.xb,e=a.get("value");e=$.n(e)?e:a.get("close");e=$.N(e);var f=(0,window.isNaN)(e),h;f||(h=c.enqueue(e));e=0;if(f||c.Pg()<d)e=window.NaN;else{if((0,window.isNaN)(b.vd)){for(h=0;h<d;h++)e+=c.get(h);b.vd=e/d;for(h=e=0;h<d;h++)f=c.get(h)-b.vd,e+=f*f;0>e&&(e=0);b.Mw=Math.sqrt(e/d);e=b.Mw*b.ho;}else{e=(c.get(-1)-h)/d;var k=b.vd;f=b.Mw;b.vd=k+e;e=f*f*d;var l=h-k;f=c.get(-1)-b.vd;var m=k-b.vd;e=e+d*m*m+m*(b.vd+k)-2*h*m+f*f-l*l;0>e&&(e=0);f=Math.sqrt(e/d);b.Mw=f;e=f*b.ho;}d=b.vd+e;e=b.vd-e;e=(c.get(-1)-e)/(d-e);}a.set("result",e);},Tla=function Tla(a,b,c){a=a.ee().Kc(a);a.cg(Qla(b,c));a.dg(Rla);a.bg(Sla);a.hd("result");return a;},H0=function H0(a){f0.call(this,a);this.i=$.Jo(a[2],20,!1);this.b=$.Jo(a[3],2,!1);g0(this,"main",a[4]);h0(this);},Ula=function Ula(a){E0(a);},Vla=function Vla(a,b){var c=F0(a,b);return(c[1]-c[2])/c[0];},Wla=function Wla(a,b){var c=a.get("value");c=$.n(c)?c:a.get("close");c=$.N(c);a.set("result",Vla(b,c));},Xla=function Xla(a,b,c){a=a.ee().Kc(a);a.cg(D0(b,c));a.dg(Ula);a.bg(Wla);a.hd("result");return a;},I0=function I0(a){f0.call(this,a);this.i=$.Jo(a[2],20,!1);this.b=$.Jo(a[3],2,!1);g0(this,"main",a[4]);h0(this);},Yla=function Yla(a){return u0($.Jo(a,20,!1));},Zla=function Zla(a){v0(a);},$la=function $la(a,b,c,d){if((0,window.isNaN)(c)||(0,window.isNaN)(d)||(0,window.isNaN)(b))return window.NaN;b=(c+d+b)/3;c=w0(a,b);for(var e=d=0;e<a.xb;e++)d+=Math.abs(a.dc.get(e)-a.vd);return(b-c)/(d/a.xb*.015);},ama=function ama(a,b){var c=$.N(a.get("close")),d=$.N(a.get("high")),e=$.N(a.get("low"));c=$la(b,c,d,e);a.set("result",c);},bma=function bma(a,b){var c=a.ee().Kc(a);c.cg(Yla(b));c.dg(Zla);c.bg(ama);c.hd("result");return c;},J0=function J0(a){f0.call(this,a);this.b=$.Jo(a[2],20,!1);g0(this,"main",a[3]);h0(this);},cma=function cma(a,b,c){a=$.Jo(a,3,!1);b=$.Jo(b,10,!1);if(a>b){var d=a;a=b;b=d;}c=BZ(c,"ema");d=m0();if("sma"==c){a=u0(a);b=u0(b);var e=w0;}else a=r0(a),b=r0(b),e=t0;return{IQ:d,Kv:a,ex:b,so:e,$k:c,dispose:function dispose(){this.IQ.dispose();this.Kv.dispose();this.ex.dispose();}};},dma=function dma(a){n0(a.IQ);"sma"==a.$k?(v0(a.Kv),v0(a.ex)):(s0(a.Kv),s0(a.ex));},ema=function ema(a,b,c,d,e){if((0,window.isNaN)(b)||(0,window.isNaN)(c)||(0,window.isNaN)(d)||(0,window.isNaN)(e))return window.NaN;c=o0(a.IQ,b,c,d,e);b=a.so(a.Kv,c);a=a.so(a.ex,c);return b-a;},fma=function fma(a,b){var c=$.N(a.get("close")),d=$.N(a.get("high")),e=$.N(a.get("low")),f=$.N(a.get("volume"));c=ema(b,c,d,e,f);a.set("result",c);},gma=function gma(a,b,c,d){a=a.ee().Kc(a);a.cg(cma(b,c,d));a.dg(dma);a.bg(fma);a.hd("result");return a;},K0=function K0(a){f0.call(this,a);this.b=$.Jo(a[2],3,!1);this.i=$.Jo(a[3],10,!1);this.j=BZ(a[4],"ema");g0(this,"main",a[5]);h0(this);},hma=function hma(a){a=$.Jo(a,20,!1);return{TD:l0(a),Uu:l0(a),xb:a,Uy:window.NaN,eB:window.NaN,dispose:function dispose(){this.TD.clear();this.Uu.clear();}};},ima=function ima(a){a.TD.clear();a.Uu.clear();a.Uy=window.NaN;a.eB=window.NaN;},jma=function jma(a,b,c,d,e){if((0,window.isNaN)(c)||(0,window.isNaN)(d)||(0,window.isNaN)(b)||(0,window.isNaN)(e))return window.NaN;b=a.TD.enqueue(c==d?0:(b-d-(c-b))*e/(c-d));e=a.Uu.enqueue(e);if(a.TD.Pg()<a.xb)return window.NaN;if((0,window.isNaN)(a.Uy))for(a.Uy=0,e=a.eB=0;e<a.xb;e++)a.Uy+=a.TD.get(e),a.eB+=a.Uu.get(e);else a.Uy+=a.TD.get(-1)-b,a.eB+=a.Uu.get(-1)-e;return a.Uy/a.eB;},kma=function kma(a,b){var c=$.N(a.get("close")),d=$.N(a.get("high")),e=$.N(a.get("low")),f=$.N(a.get("volume"));c=jma(b,c,d,e,f);a.set("result",c);},lma=function lma(a,b){var c=a.ee().Kc(a);c.cg(hma(b));c.dg(ima);c.bg(kma);c.hd("result");return c;},L0=function L0(a){f0.call(this,a);this.b=$.Jo(a[2],20,!1);g0(this,"main",a[3]);h0(this);},mma=function mma(a,b,c){a=$.Jo(a,14,!1);b=$.Jo(b,14,!1);return{Ye:l0(a+1),Gf:l0(a+1),Ro:l0(a+1),JQ:l0(b),xb:a,aC:b,OP:$.n(c)?!!c:!0,alpha:2/(a+1),E$:2/(b+1),vu:window.NaN,Dw:window.NaN,av:window.NaN,MI:window.NaN,BI:window.NaN,IB:window.NaN,dispose:function dispose(){this.Ye.clear();this.Gf.clear();this.Ro.clear();this.JQ.clear();}};},nma=function nma(a){a.Ye.clear();a.Gf.clear();a.Ro.clear();a.JQ.clear();a.vu=window.NaN;a.Dw=window.NaN;a.av=window.NaN;},oma=function oma(a,b,c,d,e,f,h,k,l){d=c-d;f-=e;0>d&&(d=0);0>f&&(f=0);d>f?f=0:d<f?d=0:f=d=0;(b=Math.max(Math.abs(c-e),Math.abs(c-b),Math.abs(e-b)))?(a.vu+=a.alpha*(100*d/b-a.vu),a.Dw+=a.alpha*(100*f/b-a.Dw)):(a.vu-=a.alpha*a.vu,a.Dw-=a.alpha*a.Dw);a.MI=a.MI+d-h;a.BI=a.BI+f-k;a.IB=a.IB+b-l;},pma=function pma(a,b,c,d){if((0,window.isNaN)(c)||(0,window.isNaN)(d)||(0,window.isNaN)(b))return[window.NaN,window.NaN,window.NaN];var e=a.Ye,f=a.Gf,h=a.Ro,k=a.JQ;e.enqueue(c);f.enqueue(d);h.enqueue(b);if(e.Pg()<a.xb+1)return[window.NaN,window.NaN,window.NaN];if((0,window.isNaN)(a.vu))for(a.vu=0,a.Dw=0,a.MI=0,a.BI=0,a.IB=0,c=e.get(0),d=f.get(0),b=1;b<a.xb+1;b++){var l=c;var m=d;c=e.get(b);d=f.get(b);var p=h.get(b-1);oma(a,p,c,l,d,m,0,0,0);}else c=e.get(-1),l=e.get(-2),d=f.get(-1),m=f.get(-2),p=h.get(-2),oma(a,p,c,l,d,m,a.MI/a.xb,a.BI/a.xb,a.IB/a.xb);a.OP?a.IB?(h=100*a.MI/a.IB,f=100*a.BI/a.IB,e=0<h+f?100*Math.abs(h-f)/(h+f):0):e=f=h=0:(h=a.vu,f=a.Dw,e=100*Math.abs(h-f)/(h+f));h=[h,f,e];e=h[0];f=h[1];h=h[2];if((0,window.isNaN)(h))return[e,f,window.NaN];k.enqueue(h);if(k.Pg()<a.aC)return[e,f,window.NaN];if((0,window.isNaN)(a.av)){for(b=h=0;b<a.aC;b++)h+=k.get(b);h/=a.aC;a.av=h;}else k=k.get(-1),a.av=a.OP?a.av+(k-a.av)/a.aC:a.av+a.E$*(k-a.av);return[e,f,a.av];},qma=function qma(a,b){var c=$.N(a.get("close")),d=$.N(a.get("high")),e=$.N(a.get("low"));c=pma(b,c,d,e);a.set("pdiResult",c[0]);a.set("ndiResult",c[1]);a.set("adxResult",c[2]);},rma=function rma(a,b,c,d){a=a.ee().Kc(a);a.cg(mma(b,c,d));a.dg(nma);a.bg(qma);a.hd("pdiResult");a.hd("ndiResult");a.hd("adxResult");return a;},M0=function M0(a){f0.call(this,a);this.b=$.Jo(a[2],14,!1);this.i=$.Jo(a[3],14,!1);this.j=$.n(a[4])?!!a[4]:!0;g0(this,"pdi",a[5]);g0(this,"ndi",a[6]);g0(this,"adx",a[7]);h0(this);},N0=function N0(a){f0.call(this,a);this.b=$.Jo(a[2],20,!1);g0(this,"main",a[3]);h0(this);},sma=function sma(a,b,c){a=$.Jo(a,20,!1);b=$.Jo(b,10,!1);c=BZ(c,"ema");if("ema"==c){var d=r0;var e=t0;}else d=u0,e=w0;return{xb:a,ho:b,$k:c,rp:d(a),so:e,dispose:function dispose(){this.rp.dispose();}};},tma=function tma(a){"ema"==a.$k?s0(a.rp):v0(a.rp);},uma=function uma(a,b){if((0,window.isNaN)(b))return[window.NaN,window.NaN];var c=a.so(a.rp,b);return[c*(1+a.ho/100),c*(1-a.ho/100)];},vma=function vma(a,b){var c=a.get("value");c=$.n(c)?c:a.get("close");c=$.N(c);c=uma(b,c);a.set("upperResult",c[0]);a.set("lowerResult",c[1]);},wma=function wma(a,b,c,d){a=a.ee().Kc(a);a.cg(sma(b,c,d));a.dg(tma);a.bg(vma);a.hd("upperResult");a.hd("lowerResult");return a;},O0=function O0(a){f0.call(this,a);this.i=$.Jo(a[2],20,!1);this.j=$.Jo(a[3],10,!1);this.b=BZ(a[4],"ema");g0(this,"upper",a[5]);g0(this,"lower",a[6]);h0(this);},xma=function xma(){return{KI:l0(1),Ro:l0(1),dispose:function dispose(){this.KI.clear();this.Ro.clear();}};},yma=function yma(){this.KI.clear();this.Ro.clear();},zma=function zma(a,b,c,d,e){if((0,window.isNaN)(b)||(0,window.isNaN)(c)||(0,window.isNaN)(d)||(0,window.isNaN)(e))return[window.NaN,window.NaN,window.NaN,window.NaN];if(a.KI.Pg()){var f=a.KI.get(0);var h=a.Ro.get(0);f=(f+h)/2;b=(b+c+d+e)/4;h=Math.max(c,f,b);var k=Math.min(d,f,b);}else f=b,h=c,k=d,b=(b+c+d+e)/4;a.KI.enqueue(f);a.Ro.enqueue(b);return[f,h,k,b];},Ama=function Ama(a,b){var c=$.N(a.get("open")),d=$.N(a.get("high")),e=$.N(a.get("low")),f=$.N(a.get("close"));c=zma(b,c,d,e,f);a.set("haOpen",c[0]);a.set("haHigh",c[1]);a.set("haLow",c[2]);a.set("haClose",c[3]);},Bma=function Bma(a){a=a.ee().Kc(a);a.cg(xma());a.dg(yma);a.bg(Ama);a.hd("haOpen");a.hd("haHigh");a.hd("haLow");a.hd("haClose");return a;},P0=function P0(a){f0.call(this,a);g0(this,"main",a[2],"candlestick");h0(this);},Cma=function Cma(a,b,c){a=$.Jo(a,9,!1);b=$.Jo(b,26,!1);c=$.Jo(c,52,!1);var d=Math.max(a,b,c);return{jL:a,PF:b,HN:c,Ye:l0(d),Gf:l0(d),RV:l0(b),SV:l0(b),dispose:function dispose(){this.Ye.clear();this.Gf.clear();this.RV.clear();this.SV.clear();}};},Dma=function Dma(a){a.Ye.clear();a.Gf.clear();a.RV.clear();a.SV.clear();},Fma=function Fma(a,b){var c=$.N(a.get("high")),d=$.N(a.get("low")),e=a.la();c=Ema(b,c,d,e,a);a.set("conversionResult",c[0]);a.set("baseResult",c[1]);a.set("spanAResult",c[2]);a.set("spanBResult",c[3]);a.set("laggingResult",c[4]);},Hma=function Hma(a,b,c,d){Gma=a=a.ee().Kc(a);a.cg(Cma(b,c,d));a.dg(Dma);a.bg(Fma);a.hd("conversionResult");a.hd("baseResult");a.hd("spanAResult");a.hd("spanBResult");a.hd("laggingResult");return a;},Ema=function Ema(a,b,c,d,e){var f=window.NaN,h=window.NaN,k=window.NaN,l=window.NaN,m=window.NaN,p,q=e.yf;for(p=0;p<a.PF;p++)q&&q.next?q=q.next:q=null;q&&(m=$.N(new B_(q,Gma,e.b,d).get("close")));if(!(0,window.isNaN)(b)||!(0,window.isNaN)(c)){a.Ye.enqueue(b);a.Gf.enqueue(c);d=a.Ye.Pg();if(d>=a.jL){b=[];c=[];for(p=d-a.jL;p<d;p++)b.push(a.Ye.get(p)),c.push(a.Gf.get(p));b=Math.max.apply(null,b);c=Math.min.apply(null,c);f=(b+c)/2;}if(d>=a.PF){b=[];c=[];for(p=d-a.PF;p<d;p++)b.push(a.Ye.get(p)),c.push(a.Gf.get(p));b=Math.max.apply(null,b);c=Math.min.apply(null,c);h=(b+c)/2;}if(d>=a.HN){b=[];c=[];for(p=d-a.HN;p<d;p++)b.push(a.Ye.get(p)),c.push(a.Gf.get(p));b=Math.max.apply(null,b);c=Math.min.apply(null,c);k=a.RV.enqueue((f+h)/2);l=a.SV.enqueue((b+c)/2);}}return[f,h,k,l,m];},Q0=function Q0(a){f0.call(this,a);this.i=$.Jo(a[2],9,!1);this.b=$.Jo(a[3],26,!1);this.j=$.Jo(a[4],52,!1);g0(this,"conversion",a[5]);g0(this,"base",a[6]);g0(this,"leading",a[7],"range-area");g0(this,"lagging",a[8]);h0(this);this.u3().fill(function(){var a=this.getData("low");return this.getData("high")>=a?{color:this.sourceColor,opacity:.2}:{color:$.Rl(this.sourceColor,.7),opacity:.2};});},R0=function R0(a,b,c,d,e){a=$.Jo(a,14,!1);d=BZ(d,"sma");b=$.Jo(b,1,!1);e=BZ(e,"sma");c=$.Jo(c,3,!1);if("sma"==d){var f=u0;var h=w0;}else f=r0,h=t0;if("sma"==e){var k=u0;var l=w0;}else k=r0,l=t0;return{Ye:l0(a),Gf:l0(a),KD:a,XH:d,AN:f(b),Sga:h,kG:e,wL:k(c),Oda:l,dispose:function dispose(){this.Ye.clear();this.Gf.clear();this.AN.dispose();this.wL.dispose();}};},S0=function S0(a){a.Ye.clear();a.Gf.clear();"sma"===a.XH?v0(a.AN):s0(a.AN);"sma"===a.kG?v0(a.wL):s0(a.wL);},T0=function T0(a,b,c,d){if((0,window.isNaN)(b)||(0,window.isNaN)(c)||(0,window.isNaN)(d))return[window.NaN,window.NaN];var e=a.Ye,f=a.Gf;e.enqueue(c);f.enqueue(d);var h;if(e.Pg()<a.KD)b=window.NaN;else{c=Number.MAX_VALUE;d=-Number.MIN_VALUE;for(h=0;h<a.KD;h++){var k=e.get(h);var l=f.get(h);d<k&&(d=k);c>l&&(c=l);}b=100*(b-c)/(d-c);}b=a.Sga(a.AN,b);a=a.Oda(a.wL,b);return[b,a];},Ima=function Ima(a,b){var c=$.N(a.get("close")),d=$.N(a.get("high")),e=$.N(a.get("low"));c=T0(b,c,d,e);d=c[1];a.set("kResult",c[0]);a.set("dResult",d);},Jma=function Jma(a,b,c,d,e,f){a=a.ee().Kc(a);a.cg(R0(b,c,d,e,f));a.dg(S0);a.bg(Ima);a.hd("kResult");a.hd("dResult");return a;},Kma=function Kma(a,b,c,d,e,f,h){a=$.Jo(a,14,!1);d=BZ(d,"ema");b=$.Jo(b,5,!1);e=BZ(e,"ema");c=$.Jo(c,5,!1);var k=$.N(f);f=(0,window.isNaN)(k)?-2:k;k=$.N(h);h=(0,window.isNaN)(k)?3:k;a=R0(a,b,c,d,e);a.GV=f;a.CS=h;return a;},Lma=function Lma(a){S0(a);},Mma=function Mma(a,b,c,d){if((0,window.isNaN)(b)||(0,window.isNaN)(c)||(0,window.isNaN)(d))return[window.NaN,window.NaN,window.NaN];b=T0(a,b,c,d);b.push(a.GV*b[0]+a.CS*b[1]);return b;},Nma=function Nma(a,b){var c=$.N(a.get("close")),d=$.N(a.get("high")),e=$.N(a.get("low"));c=Mma(b,c,d,e);d=c[1];e=c[2];a.set("kResult",c[0]);a.set("dResult",d);a.set("jResult",e);},Oma=function Oma(a,b,c,d,e,f,h,k){a=a.ee().Kc(a);a.cg(Kma(b,c,d,e,f,h,k));a.dg(Lma);a.bg(Nma);a.hd("kResult");a.hd("dResult");a.hd("jResult");return a;},U0=function U0(a){f0.call(this,a);this.j=$.Jo(a[2],14,!1);this.b=$.Jo(a[3],5,!1);this.i=$.Jo(a[4],5,!1);this.K=BZ(a[5],"ema");this.G=BZ(a[6],"ema");var b=$.N(a[7]);this.aa=(0,window.isNaN)(b)?-2:b;b=$.N(a[8]);this.P=(0,window.isNaN)(b)?3:b;g0(this,"kSeries",a[9]);g0(this,"dSeries",a[10]);g0(this,"jSeries",a[11]);h0(this);},Pma=function Pma(a,b,c,d){a=$.Jo(a,20,!1);b=$.Jo(b,10,!1);d=$.Jo(d,2,!1);c=BZ(c,"ema");if("sma"==c){var e=u0;var f=w0;}else e=r0,f=t0;return{rp:e(a),so:f,FR:y0(b),SN:d,hI:a,S_:b,$k:c,dispose:function dispose(){this.rp.dispose();this.FR.dispose();}};},Qma=function Qma(a){"sma"==a.$k?v0(a.rp):s0(a.rp);z0(a.FR);},Sma=function Sma(a,b){var c=$.N(a.get("close")),d=$.N(a.get("high")),e=$.N(a.get("low"));c=Rma(b,c,d,e);a.set("maResult",c[0]);a.set("upperResult",c[1]);a.set("lowerResult",c[2]);},Tma=function Tma(a,b,c,d,e){a=a.ee().Kc(a);a.cg(Pma(b,c,d,e));a.dg(Qma);a.bg(Sma);a.hd("maResult");a.hd("upperResult");a.hd("lowerResult");return a;},Rma=function Rma(a,b,c,d){var e=a.so(a.rp,(c+d+b)/3);b=A0(a.FR,b,c,d);return[e,e+a.SN*b,e-a.SN*b];},V0=function V0(a){f0.call(this,a);this.b=$.Jo(a[2],20,!1);this.j=$.Jo(a[3],10,!1);this.i=BZ(a[4],"ema");this.G=$.Jo(a[5],2,!1);g0(this,"ma",a[6]);g0(this,"range",a[7],"range-area");h0(this);this.u_().fill(function(){return $.Vl(this.sourceColor,.1);});},Uma=function Uma(a,b,c){a=$.Jo(a,12,!1);b=$.Jo(b,26,!1);if(a>b){var d=a;a=b;b=d;}return{oT:r0(a),UX:r0(b),PX:r0($.Jo(c,9,!1)),dispose:function dispose(){this.oT.dispose();this.UX.dispose();this.PX.dispose();}};},Vma=function Vma(a){s0(a.oT);s0(a.UX);s0(a.PX);},Xma=function Xma(a,b){var c=a.get("value");c=$.n(c)?c:a.get("close");c=$.N(c);c=Wma(b,c);var d=c[1],e=c[2];a.set("macdResult",c[0]);a.set("signalResult",d);a.set("histogramResult",e);},Wma=function Wma(a,b){if((0,window.isNaN)(b))return[window.NaN,window.NaN,window.NaN];var c=t0(a.oT,b);var d=t0(a.UX,b),e=t0(a.PX,c-d);if((0,window.isNaN)(e))var f=e=c=window.NaN;else f=c-d,c=c-d-e;return[f,e,c];},Yma=function Yma(a,b,c,d){a=a.ee().Kc(a);a.cg(Uma(b,c,d));a.dg(Vma);a.bg(Xma);a.hd("macdResult");a.hd("signalResult");a.hd("histogramResult");return a;},W0=function W0(a){f0.call(this,a);this.b=$.Jo(a[2],12,!1);this.j=$.Jo(a[3],26,!1);this.i=$.Jo(a[4],9,!1);g0(this,"macd",a[5]);g0(this,"signal",a[6]);g0(this,"histogram",a[7],"column");h0(this);},Zma=function Zma(a){a=$.Jo(a,10,!1);return{sO:l0(a),Uu:l0(a),xb:a,dispose:function dispose(){this.sO.clear();this.Uu.clear();}};},$ma=function $ma(a){a.sO.clear();a.Uu.clear();a.vd=window.NaN;},ana=function ana(a,b,c,d,e){if((0,window.isNaN)(b)||(0,window.isNaN)(c)||(0,window.isNaN)(d)||(0,window.isNaN)(e))return window.NaN;c=a.sO.enqueue(b+c+d);d=a.Uu.enqueue(e);e=a.sO;b=a.Uu;if(e.Pg()<a.xb)return window.NaN;if((0,window.isNaN)(a.vd)){var f=c=0;d=e.get(0);for(var h=1;h<a.xb;h++){var k=e.get(h);var l=k*b.get(h);k!=d&&(k>d?c+=l:f+=l,d=k);}a.NV=0;a.eE=c;a.GI=f;e=100*c/(c+f);}else d*=c,0<a.NV?a.eE-=d:0>a.NV&&(a.GI-=d),d=e.get(-2),k=e.get(-1),l=k*b.get(-1),k>d?a.eE+=l:k<d&&(a.GI+=l),a.NV=e.get(0)-c,e=100*a.eE/(a.eE+a.GI);return a.vd=e;},bna=function bna(a,b){var c=$.N(a.get("close")),d=$.N(a.get("high")),e=$.N(a.get("low")),f=$.N(a.get("volume"));c=ana(b,c,d,e,f);a.set("result",c);},cna=function cna(a,b){var c=a.ee().Kc(a);c.cg(Zma(b));c.dg($ma);c.bg(bna);c.hd("result");return c;},X0=function X0(a){f0.call(this,a);this.b=$.Jo(a[2],10,!1);g0(this,"series",a[3]);h0(this);},dna=function dna(a){a=$.Jo(a,20,!1);return{dc:l0(a),xb:a,vd:window.NaN,dispose:function dispose(){this.dc.clear();}};},ena=function ena(a){a.dc.clear();a.vd=window.NaN;},fna=function fna(a,b){var c=a.get("value");c=$.n(c)?c:a.get("close");c=$.N(c);if((0,window.isNaN)(c))var d=window.NaN;else{d=b.xb;var e=b.dc,f=b.vd;e.enqueue(c);if(e.Pg()<d)f=window.NaN;else if((0,window.isNaN)(f)){for(c=f=0;c<d;c++)f+=e.get(c);f/=d;}else e=e.get(-1),f+=(e-f)/d;d=f;b.vd=d;}a.set("result",d);},gna=function gna(a,b){var c=a.ee().Kc(a);c.cg(dna(b));c.dg(ena);c.bg(fna);c.hd("result");return c;},Y0=function Y0(a){f0.call(this,a);this.b=$.Jo(a[2],20,!1);g0(this,"main",a[3]);h0(this);},hna=function hna(a){a=$.Jo(a,14,!1);return{dc:l0(a+1),xb:a,dispose:function dispose(){this.dc.clear();}};},ina=function ina(a){a.dc.clear();a.vd=window.NaN;},jna=function jna(a,b){if((0,window.isNaN)(b))return window.NaN;var c=a.dc;c.enqueue(b);if(c.Pg()<a.xb+1)return window.NaN;c=100*b/c.get(0);return a.vd=c;},kna=function kna(a,b){var c=a.get("value");c=$.n(c)?c:a.get("close");c=$.N(c);c=jna(b,c);a.set("result",c);},lna=function lna(a,b){var c=a.ee().Kc(a);c.cg(hna(b));c.dg(ina);c.bg(kna);c.hd("result");return c;},Z0=function Z0(a){f0.call(this,a);this.b=$.Jo(a[2],14,!1);g0(this,"series",a[3]);h0(this);},mna=function mna(){return{Vy:window.NaN,SI:window.NaN,dispose:function dispose(){}};},nna=function nna(a){a.Vy=window.NaN;a.SI=window.NaN;},pna=function pna(a,b){var c=a.get("close");c=$.n(c)?c:a.get("value");var d=a.get("volume");d=$.N(d);c=$.N(c);c=ona(b,c,d);a.set("result",c);},qna=function qna(a){a=a.ee().Kc(a);a.cg(mna());a.dg(nna);a.bg(pna);a.hd("result");return a;},ona=function ona(a,b,c){if((0,window.isNaN)(b)||(0,window.isNaN)(c))return window.NaN;(0,window.isNaN)(a.Vy)?(a.SI=b,a.Vy=c):(b>a.SI?a.Vy+=c:b<a.SI&&(a.Vy-=c),a.SI=b);return a.Vy;},$0=function $0(a){f0.call(this,a);g0(this,"main",a[2]);h0(this);},rna=function rna(a,b,c){a=$.Jo(a,12,!1);b=$.Jo(b,26,!1);c=$.Jo(c,9,!1);return{P5:a,z3:b,R5:c,OX:r0(a),UV:r0(b),VX:r0(c),dispose:function dispose(){this.OX.dispose();this.UV.dispose();this.VX.dispose();}};},sna=function sna(a){s0(a.OX);s0(a.UV);s0(a.VX);},tna=function tna(a,b){if((0,window.isNaN)(b))return[window.NaN,window.NaN,window.NaN];var c=t0(a.OX,b),d=t0(a.UV,b);c=(c-d)/d*100;d=t0(a.VX,c);return[c,d,c-d];},una=function una(a,b){var c=a.get("value");c=$.n(c)?c:a.get("close");c=$.N(c);c=tna(b,c);a.set("ppoResult",c[0]);a.set("signalResult",c[1]);a.set("histogramResult",c[2]);},vna=function vna(a,b,c,d){a=a.ee().Kc(a);a.cg(rna(b,c,d));a.dg(sna);a.bg(una);a.hd("ppoResult");a.hd("signalResult");a.hd("histogramResult");return a;},a1=function a1(a){f0.call(this,a);this.i=$.Jo(a[2],12,!1);this.b=$.Jo(a[3],26,!1);this.j=$.Jo(a[4],9,!1);g0(this,"ppoSeries",a[5]);g0(this,"signalSeries",a[6]);g0(this,"histogramSeries",a[7],"column");h0(this);},wna=function wna(a,b,c){return{Ye:l0(2),Gf:l0(2),NQ:$.N(a)||.02,R$:$.N(b)||.02,NZ:$.N(c)||.2,dispose:function dispose(){this.Ye.clear();this.Gf.clear();}};},xna=function xna(a){a.Ye.clear();a.Gf.clear();a.vd=window.NaN;a.Yp=window.NaN;a.Wp=window.NaN;a.alpha=a.NQ;},yna=function yna(a){a.alpha+=a.R$;a.alpha>a.NZ&&(a.alpha=a.NZ);},zna=function zna(a){var b=a.vd+a.alpha*(a.Yp-a.vd);b>a.Gf.get(-2)?b=a.Gf.get(-2):!(0,window.isNaN)(a.QS)&&b>a.QS&&(b=a.QS);b>a.Gf.get(-1)&&(b=a.Yp,a.Yp=window.NaN,a.Wp=window.NaN,a.vN=!1,a.alpha=a.NQ);a.vd=b;},Ana=function Ana(a){var b=a.vd+a.alpha*(a.Wp-a.vd);b<a.Ye.get(-2)?b=a.Ye.get(-2):!(0,window.isNaN)(a.PS)&&b<a.PS&&(b=a.PS);b<a.Ye.get(-1)&&(b=a.Wp,a.Yp=window.NaN,a.Wp=window.NaN,a.vN=!0,a.alpha=a.NQ);a.vd=b;},Bna=function Bna(a){var b=a.Ye.get(-2),c=a.Gf.get(-2);(0,window.isNaN)(a.Yp)?a.Yp=b:a.Yp<b&&(a.Yp=b,yna(a));if((0,window.isNaN)(a.Wp)||a.Wp>c)a.Wp=c;},Cna=function Cna(a){var b=a.Ye.get(-2),c=a.Gf.get(-2);(0,window.isNaN)(a.Wp)?a.Wp=c:a.Wp>c&&(a.Wp=c,yna(a));if((0,window.isNaN)(a.Yp)||a.Yp<b)a.Yp=b;},Dna=function Dna(a,b,c){if((0,window.isNaN)(b)||(0,window.isNaN)(c))return window.NaN;b=a.PS=a.Ye.enqueue(b);a.QS=a.Gf.enqueue(c);if(2>a.Ye.Pg())return window.NaN;(0,window.isNaN)(a.vd)?(a.Yp=window.NaN,a.Wp=window.NaN,a.vN=b<=a.Ye.get(0),a.vN?(Bna(a),a.vd=a.Yp,zna(a)):(Cna(a),a.vd=a.Wp,Ana(a))):a.vN?(Bna(a),zna(a)):(Cna(a),Ana(a));return a.vd;},Ena=function Ena(a,b){var c=$.N(a.get("high")),d=$.N(a.get("low"));c=Dna(b,c,d);a.set("result",c);},Fna=function Fna(a,b,c,d){a=a.ee().Kc(a);a.cg(wna(b,c,d));a.dg(xna);a.bg(Ena);a.hd("result");return a;},b1=function b1(a){f0.call(this,a);this.j=$.N(a[2])||.02;this.i=$.N(a[3])||.02;this.b=$.N(a[4])||.2;g0(this,"series",a[5],"marker");h0(this);},Gna=function Gna(a){a=$.Jo(a,20,!1);return{dc:l0(a+1),xb:a,dispose:function dispose(){this.dc.clear();}};},Hna=function Hna(a){a.dc.clear();},Jna=function Jna(a,b){var c=a.get("value");c=$.n(c)?c:a.get("close");c=$.N(c);c=Ina(b,c);a.set("result",c);},Kna=function Kna(a,b){var c=a.ee().Kc(a);c.cg(Gna(b));c.dg(Hna);c.bg(Jna);c.hd("result");return c;},Ina=function Ina(a,b){if((0,window.isNaN)(b))return window.NaN;var c=window.NaN;a.dc.enqueue(b);if(a.dc.Pg()>=a.xb+1){c=a.dc.get(0);for(var d=0,e=1;e<a.xb+1;e++){var f=a.dc.get(e);f>c&&d++;c=f;}c=d/a.xb*100;}return c;},c1=function c1(a){f0.call(this,a);this.b=$.Jo(a[2],20,!1);g0(this,"main",a[3]);h0(this);},Lna=function Lna(a){a=$.Jo(a,20,!1);return{Ye:l0(a),Gf:l0(a),xb:a,dispose:function dispose(){this.Ye.clear();this.Gf.clear();}};},Mna=function Mna(a){a.Ye.clear();a.Gf.clear();},Nna=function Nna(a,b,c){if((0,window.isNaN)(b)||(0,window.isNaN)(c))return[window.NaN,window.NaN,window.NaN];var d=window.NaN,e=window.NaN,f=window.NaN;if(a.Ye.Pg()>=a.xb){d=a.Ye.get(0);f=a.Gf.get(0);for(var h,k=1;k<a.xb;k++)e=a.Ye.get(k),h=a.Gf.get(k),e>d&&(d=e),h<f&&(f=h);e=(d+f)/2;}a.Ye.enqueue(b);a.Gf.enqueue(c);return[d,e,f];},Ona=function Ona(a,b){var c=$.N(a.get("high")),d=$.N(a.get("low"));c=Nna(b,c,d);a.set("upperResult",c[0]);a.set("middleResult",c[1]);a.set("lowerResult",c[2]);},Pna=function Pna(a,b){var c=a.ee().Kc(a);c.cg(Lna(b));c.dg(Mna);c.bg(Ona);c.hd("upperResult");c.hd("middleResult");c.hd("lowerResult");return c;},d1=function d1(a){f0.call(this,a);this.b=$.Jo(a[2],20,!1);g0(this,"middle",a[3]);g0(this,"range",a[4],"range-area");h0(this);this.v_().fill(function(){return $.Vl(this.sourceColor,.1);});},Qna=function Qna(a){return{LR:$.Jo(a,0,!1),KG:window.NaN,dispose:function dispose(){this.KG=window.NaN;}};},Rna=function Rna(){this.KG=window.NaN;},Tna=function Tna(a,b){var c=a.get("priceA");c=$.N(c);var d=a.get("priceB");d=$.N(d);c=Sna(b,c,d,a.yf.key);a.set("result",c);},Una=function Una(a,b){var c=a.ee().Kc(a);c.cg(Qna(b));c.dg(Rna);c.bg(Tna);c.hd("result");return c;},Sna=function Sna(a,b,c,d){if((0,window.isNaN)(b)||(0,window.isNaN)(c))return window.NaN;(0,window.isNaN)(a.KG)&&d>=a.LR&&(a.KG=b/c);return b/c/a.KG*100;},e1=function e1(a){f0.call(this,a);var b=$.ts(a[2]);this.b=b?b.getTime():0;this.i=a[2]||0;g0(this,"main",a[3]);h0(this);},Vna=function Vna(a){a=$.Jo(a,12,!1);return{dc:l0(a),xb:a,dispose:function dispose(){this.dc.clear();}};},Wna=function Wna(a){a.dc.clear();},Yna=function Yna(a,b){var c=a.get("value");c=$.n(c)?c:a.get("close");c=$.N(c);c=Xna(b,c);a.set("result",c);},Zna=function Zna(a,b){var c=a.ee().Kc(a);c.cg(Vna(b));c.dg(Wna);c.bg(Yna);c.hd("result");return c;},Xna=function Xna(a,b){if((0,window.isNaN)(b))return window.NaN;a.dc.enqueue(b);var c=window.NaN;if(a.dc.Pg()>=a.xb){c=0;for(var d=a.xb,e=0;e<d;e++){for(var f=d-e,h=a,k=d,l=h.dc.get(e),m=1,p=0,q=0;q<k;q++){var r=h.dc.get(q);l<r?m++:l==r&&p++;}c+=Math.pow(f-(m+(p-1)/2),2);}c=100*(1-6*c/(a.xb*(Math.pow(a.xb,2)-1)));}return c;},f1=function f1(a){f0.call(this,a);this.b=$.Jo(a[2],12,!1);g0(this,"main",a[3]);h0(this);},$na=function $na(a){a=$.Jo(a,14,!1);return{dc:l0(a),xb:a,jz:window.NaN,Vx:window.NaN,dispose:function dispose(){this.dc.clear();}};},aoa=function aoa(a){a.dc.clear();a.jz=window.NaN;a.Vx=window.NaN;},boa=function boa(a,b){var c=a.get("value");c=$.n(c)?c:a.get("close");c=$.N(c);var d=(0,window.isNaN)(c);d||b.dc.enqueue(c);if(d||b.dc.Pg()<b.xb)c=window.NaN;else{if((0,window.isNaN)(b.jz)){var e=0,f=0;d=b.dc.get(0);for(var h=1;h<b.xb;h++)c=d,d=b.dc.get(h),d>c?e+=d-c:d<c&&(f+=c-d);b.jz=e;b.Vx=f;}else d=b.dc.get(-1),c=b.dc.get(-2),e=(b.xb-1)/b.xb,b.jz*=e,b.Vx*=e,d>c?b.jz+=d-c:d<c&&(b.Vx+=c-d);c=b.Vx?100-100/(1+b.jz/b.Vx):100;}a.set("result",c);},coa=function coa(a,b){var c=a.ee().Kc(a);c.cg($na(b));c.dg(aoa);c.bg(boa);c.hd("result");return c;},g1=function g1(a){f0.call(this,a);this.b=$.Jo(a[2],14,!1);g0(this,"main",a[3]);h0(this);},doa=function doa(a){a=$.Jo(a,20,!1);return{dc:l0(a+1),xb:a,dispose:function dispose(){this.dc.clear();}};},eoa=function eoa(a){a.dc.clear();},foa=function foa(a,b){var c=a.get("value");c=$.n(c)?c:a.get("close");c=$.N(c);var d=(0,window.isNaN)(c);d||b.dc.enqueue(c);d||b.dc.Pg()<=b.xb?c=window.NaN:(c=b.dc.get(0),c=100*(b.dc.get(-1)-c)/c);a.set("result",c);},goa=function goa(a,b){var c=a.ee().Kc(a);c.cg(doa(b));c.dg(eoa);c.bg(foa);c.hd("result");return c;},h1=function h1(a){f0.call(this,a);this.b=$.Jo(a[2],20,!1);g0(this,"main",a[3]);h0(this);},i1=function i1(a){f0.call(this,a);this.b=$.Jo(a[2],20,!1);g0(this,"main",a[3]);h0(this);},j1=function j1(a){f0.call(this,a);this.j=$.Jo(a[2],14,!1);this.b=$.Jo(a[3],1,!1);this.i=$.Jo(a[4],3,!1);this.K=BZ(a[5],"sma");this.G=BZ(a[6],"sma");g0(this,"kSeries",a[7]);g0(this,"dSeries",a[8]);h0(this);},hoa=function hoa(a,b,c,d){a=$.Jo(a,15,!1);b=$.Jo(b,9,!1);if("ema"===c){var e=s0;c=t0;var f=r0;}else e=v0,c=w0,f=u0;if("ema"===d){var h=s0;d=t0;var k=r0;}else h=v0,d=w0,k=u0;return{xb:a,dP:b,vd:window.NaN,wT:f(a),uX:f(a),BP:f(a),QX:k(b),so:c,dha:d,eha:h,YV:e,dispose:function dispose(){this.wT.dispose();this.uX.dispose();this.BP.dispose();this.QX.dispose();}};},ioa=function ioa(a){a.vd=window.NaN;a.YV(a.wT);a.YV(a.uX);a.YV(a.BP);a.eha(a.QX);},koa=function koa(a,b){var c=a.get("value");c=$.n(c)?c:a.get("close");c=$.N(c);c=joa(b,c);a.set("trix",c[0]);a.set("signal",c[1]);},loa=function loa(a,b,c,d,e){a=a.ee().Kc(a);a.cg(hoa(b,c,d,e));a.dg(ioa);a.bg(koa);a.hd("trix");a.hd("signal");return a;},joa=function joa(a,b){if((0,window.isNaN)(b))return[window.NaN,window.NaN];a.vd=a.BP.vd;var c=a.so(a.wT,b);c=a.so(a.uX,c);c=(a.so(a.BP,c)-a.vd)/a.vd*100;var d=a.dha(a.QX,c);return[c,d];},k1=function k1(a){f0.call(this,a);this.b=$.Jo(a[2],15,!1);this.i=$.Jo(a[3],9,!1);this.G=BZ(a[4],"ema");this.j=BZ(a[5],"ema");g0(this,"trix",a[6]);g0(this,"signal",a[7]);h0(this);},moa=function moa(a){return{hG:0,gG:0,VK:window.NaN,xa:a,Q$:["hour","millisecond","minute","second"],dispose:function dispose(){this.gG=this.hG=0;}};},noa=function noa(a){a.hG=0;a.gG=0;a.VK=window.NaN;},ooa=function ooa(a,b,c,d,e){if((0,window.isNaN)(b)||(0,window.isNaN)(c)||(0,window.isNaN)(d)||(0,window.isNaN)(e))return window.NaN;a.hG+=e;a.gG+=(b+c+d)*e/3;return a.gG/a.hG;},poa=function poa(a,b){var c=$.N(a.Ch());if((0,window.isNaN)(b.VK)||864E5<=c-b.VK)c=new Date(c),b.VK=Date.UTC(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),0,0,0),b.dispose();c=b.xa.Um().An().unit;if(-1===b.Q$.indexOf(c))a.set("vwapValue",window.NaN);else{c=$.N(a.get("high"));var d=$.N(a.get("low")),e=$.N(a.get("close")),f=$.N(a.get("volume"));c=ooa(b,c,d,e,f);a.set("vwapValue",c);}},qoa=function qoa(a,b){var c=a.ee().Kc(a);c.cg(moa(b));c.dg(noa);c.bg(poa);c.hd("vwapValue");return c;},l1=function l1(a){f0.call(this,a);g0(this,"vwapSeries",a[2]);h0(this);},roa=function roa(a,b){var c=$.Jo(a,20,!1),d=BZ(b,"sma");if("ema"==d){var e=r0;var f=t0;}else e=u0,f=w0;return{hI:c,$k:d,rp:e(c),so:f,dispose:function dispose(){this.rp.dispose();}};},soa=function soa(a){"ema"==a.$k?s0(a.rp):v0(a.rp);},toa=function toa(a,b){if((0,window.isNaN)(b))return[window.NaN,window.NaN];var c=a.so(a.rp,b);return[b,c];},uoa=function uoa(a,b){var c=$.N(a.get("volume"));c=toa(b,c);a.set("volumeResult",c[0]);a.set("maResult",c[1]);},voa=function voa(a,b,c){a=a.ee().Kc(a);a.cg(roa(b,c));a.dg(soa);a.bg(uoa);a.hd("volumeResult");a.hd("maResult");return a;},m1=function m1(a){f0.call(this,a);this.b=$.Jo(a[2],20,!1);this.i=BZ(a[3],"sma");g0(this,"volumeSeries",a[4],"stick");g0(this,"maSeries",a[5]);h0(this);},woa=function woa(a){a=$.Jo(a,10,!1);return{Ro:l0(a),Ye:l0(a),Gf:l0(a),xb:a,dispose:function dispose(){this.Ro.clear();this.Ye.clear();this.Gf.clear();}};},xoa=function xoa(a){a.Ro.clear();a.Ye.clear();a.Gf.clear();a.vd=window.NaN;},yoa=function yoa(a,b,c,d){if((0,window.isNaN)(b)||(0,window.isNaN)(c)||(0,window.isNaN)(d))return window.NaN;a.Ro.enqueue(b);a.Ye.enqueue(c);a.Gf.enqueue(d);if(a.Ro.Pg()<a.xb)return window.NaN;c=Number.MAX_VALUE;b=-Number.MIN_VALUE;for(d=0;d<a.xb;d++){var e=a.Ye.get(d),f=a.Gf.get(d);b<e&&(b=e);c>f&&(c=f);}b=-100*(b-a.Ro.get(-1))/(b-c);return a.vd=b;},zoa=function zoa(a,b){var c=$.N(a.get("close")),d=$.N(a.get("high")),e=$.N(a.get("low"));c=yoa(b,c,d,e);a.set("result",c);},Aoa=function Aoa(a,b){var c=a.ee().Kc(a);c.cg(woa(b));c.dg(xoa);c.bg(zoa);c.hd("result");return c;},n1=function n1(a){f0.call(this,a);this.b=$.Jo(a[2],10,!1);g0(this,"series",a[3]);h0(this);},Boa=function Boa(a){function b(a){return function(b){for(var c=[this],d=0;d<arguments.length;d++)c[d+1]=arguments[d];c=new o1[a](c);this.zD.push(c);return c;};}a=a.prototype;for(var c in o1){var d=$.qm(c);a[d]=b(c);}},r1=function r1(a){$.Y.call(this);this.Fa("chart");this.oa=a;this.Uf=this.Ga=this.ib=null;this.Ra=[];this.zD=[];this.Cc=null;this.pf=[];this.zu=[];this.lc=null;this.ng=[];this.qg=[];this.sg=[];this.Yg=[];this.Zg=[];this.ih=[];this.jh=[];this.Ml=this.Mf=this.Oj=null;this.hn={};this.Y2=this.SH=this.c3=!1;this.Qj=void 0;this.ns=(0,$.pa)(function(){this.Qj=void 0;if((0,window.isNaN)(this.pM))this.oa.tY();else{var a=this.oa,c=this.pM,d=this.GT,e=this.Wea,f=this.Xea;a.P=c;a.eb=d;a.Ya=e;a.Za=f;a.Tc=this;Coa(a,c,d,e,f,this);}},this);this.xla=(0,$.pa)(function(){this.U6=void 0;var a=this.bQ.anchor,c=this.bQ.ko,d=this.bQ.Nda;this.bQ=null;var e=this.oa,f=e.Qa();d=Math.min(d,1.9);$.J(f,p1)?(f=a.lastIndex-a.sj,c*=f,f=f*(1-d)/2,d=e.wi(a.sj-c-f),c=e.wi(a.lastIndex-c+f)):(f=a.rw-a.ms,c*=f,f=f*(1-d)/2,d=a.ms-c-f,c=a.rw-c+f);d==e.b.b.Ih&&c==e.b.b.Vi||q1(e,d,c,a,void 0);},this);this.Zw=null;this.aq("line");$.Q(this.ta,[["pointWidth",128,1,0,this.Cy],["maxPointWidth",128,1,0,this.Cy],["minPointLength",128,1,0,this.iB],["baseline",128,1,0,this.Gja],["weight",4,9]]);},Doa=function Doa(a,b,c,d){var e=window.Infinity,f=0;if(c&&b){var h=b.ab();c=$.ep(c.get("value"),c.get("close"),c.get("high"));c=$.N(c);(0,window.isNaN)(c)||(a=a.hi,e=b.ob(),b=1-h.transform(h.Jz(c,b.Px)),f=(e.top+e.height*b-a.top)/a.height,e=Math.abs(f-d));}return{ratio:f,Nf:e};},Eoa=function Eoa(a,b){var c=a.hi,d=$.ak(a.O().Ia());return{S6:(b.clientX-d.x-c.left)/c.width,T6:(b.clientY-d.y-c.top)/c.height,x:b.clientX,y:b.clientY};},s1=function s1(a,b){a.vc.ua(b,["touchstart","mousedown"],a.tha);},u1=function u1(a){a.Iv();var b;if(a.J(128))for(b=0;b<a.Ra.length;b++){var c=a.Ra[b];c&&(c.P=Yka(c.ka));}if(a.J(133124)){c=a.ob();(b=$.Ar(a,"background"))&&b.ja(c);(b=$.Ar(a,"title"))&&b.enabled()&&(b.ja(c),c=b.xd());a.lc&&a.lc.enabled()&&($.V(a.lc),a.lc.ja(c),a.lc.da(!1),c=a.lc.xd(),a.B(512));var d;a.J(2048)?d=(0,window.isNaN)(a.aN)?m_(a.oa.b):a.aN:d=window.NaN;var e=a.$f();"outside"==e.g("positionMode")&&(t1(a,c,d),a.va(64,!0),c=a.$f().xd());var f=0,h=0,k=!e.g("enabled"),l="left"==e.g("position"),m="right"==e.g("position");for(b=0;b<a.pf.length;b++){var p=a.pf[b];if(p){$.V(p);var q=p.width();"left"==p.g("orientation")?k||!l?(p.ja(c.left-q-f,c.top,0,c.height),f+=q):(p.ja(c),c=p.xd()):"right"==p.g("orientation")&&(k||!m?(h+=q,p.ja(c.left,c.top,c.width+h,c.height)):(p.ja(c),c=p.xd()));p.da(!1);}}0>c.width&&(c.width=1);0>c.height&&(c.top+=c.height,c.height=-c.height);a.lc&&a.lc.enabled()&&($.V(a.lc),a.lc.ja(c.left,c.top,c.width,c.height+a.lc.height()),a.lc.da(!1),c=a.lc.xd());"inside"==e.g("positionMode")&&(t1(a,c,d),a.va(64,!0));a.hi=c;a.Oj.Kf(a.hi);a.lh().ja(c);a.By(!0,!0);a.I(2052);}},t1=function t1(a,b,c,d,e){var f=a.$f();$.V(f);f.O(a.Na);b&&f.ja(b);b=e?"":a.V1(f.g("titleFormat"),c,d);null===b||$.gw(f.title(),b);e?($.ax(f),f.KA(null)):f.KA()||f.KA(a);f.B(1040);f.W();f.da(!1);},v1=function v1(a,b){return(0,$.Wa)(a.Ra,function(a){return{series:a,point:a&&a.enabled()&&a.ka.search(b,"exact")||null};});},w1=function w1(a,b){return $.n(b)?(a.c3=b,a):a.c3;},x1=function x1(a,b){return $.n(b)?(a.SH=b,a):a.SH;},y1=function y1(a,b,c,d,e,f){var h,k,l,m=[];for(h=0;h<b.length;h++)if(l=b[h]){var p=l.F();if(k=l.scale()){var q=$.oa(k);e[q]?p.scale=(0,$.za)(d,e[q]):(e[q]=k.F(),d.push(e[q]),p.scale=d.length-1);}if(q=l.axis())k=$.oa(q),k=(0,$.za)(f,k),0>k?(k=q.scale(),"layout"in p||(l=!1,$.J(q,$.Uy)&&(q=q.g("orientation"),l="left"==q||"right"==q),p.layout=l?"horizontal":"vertical"),"scale"in p||(q=$.oa(k),e[q]?p.scale=(0,$.za)(d,e[q]):(e[q]=k.F(),d.push(e[q]),p.scale=d.length-1))):p.axis=k;m.push(p);}m.length&&(c[a]=m);},A1=function A1(a,b){$.cg.call(this,b.ia());this.b=a;this.Qj=void 0;this.ns=(0,$.pa)(function(){this.Qj=void 0;var a=this.b.oa,b=this.ba,e=z1(a,this.ea,b);e&&q1(a,e[0],e[1],b,void 0);},this);$.dg(this);this.ua("start",this.Cba,!1,this);this.ua("beforedrag",this.hda,!1,this);this.ua("end",this.Bba,!1,this);},B1=function B1(a,b,c){this.b=this.i=this.j=this.ea=null;R_.call(this,a,a,b,c);},C1=function C1(){},D1=function D1(){},F1=function F1(a){$.U.call(this);this.bl=1E3;this.K=6;this.b=a;this.zw=this.Ms=this.sp=this.Mn=this.aa=this.i=this.ba=this.ea=window.NaN;this.Vm={};this.Mc=!1;this.j=this.P=null;this.gd=[];this.D=this.G=null;this.Ba=E1(this,null);this.ma=E1(this,null);this.Wa(Foa);},E1=function E1(a,b){var c=a.b.Um().An();c={unitType:c.unit,unitCount:c.count,intervalsCount:0};"object"==$.ka(b)&&(null!=b.unitType&&(c.unitType=$.Zk(b.unitType)),0<b.unitCount&&(c.unitCount=+b.unitCount),b.intervalsCount&&(c.intervalsCount=Math.max(0,b.intervalsCount)));return c;},Goa=function Goa(a,b){return!!(a.G&&b<a.G.max||a.D&&b>a.D.min);},ala=function ala(a,b,c,d,e,f){b=$.Za(b,a.ea,a.ba);c=$.Za(c,a.ea,a.ba);var h=a.b.Of(b),k=a.b.Of(c);(0,window.isNaN)(h)||(0,window.isNaN)(k)?(a.Mn=window.NaN,a.sp=window.NaN):(a.Mn=b,a.sp=c);a.Ms=h;a.zw=k;a.Bg=d;a.count=e;a.Mc=!1;a.Vm=f;a.va(512);},Ioa=function Ioa(a){var b=[];if($.A(a)){for(var c=0;c<a.length;c++){var d=a[c];if($.C(d)){var e=Hoa(d.minor);d=Hoa(d.major);e&&d&&b.push({we:$.xp(e[0],e[1]),zI:e[0],yI:e[1],jI:d[0],iI:d[1]});}}b.sort(function(a,b){return a.we-b.we;});}return b;},Hoa=function Hoa(a){var b=null;if($.z(a)){b=$.Zk(a,null);var c=1;}else $.C(a)&&(b=$.Zk(a.unit,null),c=$.Jo(a.count));return b?[b,c]:null;},G1=function G1(a){this.qa=a;this.K=!0;},H1=function H1(a,b,c){a=a.qa;a=a.b.wi(Math.ceil(a.b.Of(b.getTime())));var d=b.getTime();b.add(c);b.getTime()<=a&&(d=$.Yo(a,c,d),b.setTime(d),b.add(c));return d;},p1=function p1(a){F1.call(this,a);},I1=function I1(a){$.FB.call(this);this.oa=a;this.Ra=[];this.zD=[];this.ed=this.Ea=this.nB=this.pB=this.lc=this.Cc=null;this.aq("line");},J1=function J1(a){for(var b=0;b<a.Ra.length;b++){var c=a.Ra[b];c&&c.B(1024);}a.lc&&a.lc.B(16);a.B(1536);},Joa=function Joa(){Q_.call(this);},Koa=function Koa(a,b,c,d){for(var e=new GZ(c.unitType,c.unitCount).tj(),f=[],h=d?1:-1,k=1;k<=c.intervalsCount;k++){var l=[b+k*h*e];d?f.push(l):$.Da(f,l,0);}a.Ur(f);return f;},K1=function K1(a){$.U.call(this);this.Fa("stock.eventMarkers");this.oa=a;this.ca=new $.oy(this,X_,$.hm,Y_);this.ca.sa("connectorAfterInitCallback",FZ);this.ca.Fa("defaultFontSettings","stock.eventMarkers.normal");this.ya=new $.oy(this,Z_,$.hm,Y_);$.W(this,"hovered",this.ya);this.Da=new $.oy(this,Z_,$.hm,Y_);$.W(this,"selected",this.Da);$.Q(this.ta,$_);a.ua("eventmarkermouseover",this.t_,!1,this);a.ua("eventmarkermousemove",this.t_,!1,this);a.ua("eventmarkermouseout",this.Hba,!1,this);a.ua("eventmarkerclick",this.Gba,!1,this);},L1=function L1(a,b,c,d,e,f){return{type:c?"eventmarkersselect":"eventmarkershover",status:(0,$.Wa)(d,function(a){return a.group.fp(a.index);}),eventMarker:e.fp(f),actualTarget:e,target:a,originalEvent:b};},M1=function M1(a,b){$.cg.call(this,a.ia());this.YB=a;this.DY=b;this.b=null;this.i=0;},N1=function N1(a,b){$.tf.call(this);this.j=[];this.b=[];this.oa=b;this.i=[];this.Hc=a;this.zd=0;this.G=[];this.aa=[];this.K=[];this.D={};this.P=a.path().stroke("none");this.f=0;},O1=function O1(a){$.U.call(this);this.xa=a;this.ub=this.xa.Ma.Ad();this.ub.Bd("data-name","stock-splitters-layer");this.ub.zIndex(1E5);this.j=new N1(this.ub,this.xa);this.j.ua("dragStart",function(){this.b=!0;},void 0,this);this.j.ua("dragEnd",function(){this.b=!1;},void 0,this);this.b=!1;},P1=function P1(){$.U.call(this);$.Q(this.ta,[["fill",0,0]]);},Q1=function Q1(){$.U.call(this);$.Q(this.ta,[["stroke",0,0]]);},R1=function R1(){$.U.call(this);$.Q(this.ta,[["stroke",0,1]]);},S1=function S1(){$.U.call(this);this.ya=this.ca=this.ei=null;$.Q(this.ta,[["enabled",0,1]]);},T1=function T1(a){$.wx.call(this);this.Fa("stock");this.f=[];this.i=null;this.b=new d_();$.L(this.b,this.Pda,this);this.ma=!1;this.cb=null;this.Ja=this.rb=!1;this.G=this.Za=this.Ya=this.eb=this.P=window.NaN;this.Ml=this.Mf=null;this.D=$.iq.annotations;this.Tb={};this.aa=null;this.td=(0,$.pa)(this.Zda,this);this.Ed=(0,$.pa)(this.$da,this);this.Ha=window.Infinity;this.rc=-1;var b=this.st=!!a;a={};var c=$.XG|4194304;c|=b&&1048576;b=b?2:1;a.area={Db:1,Ib:1,Kb:[$.uH,$.NH,$.IH,$.CH,$.tH,$.OH,$.JH,$.BH,$.wH,$.PH,$.KH,$.QH],Nb:null,Hb:null,Bb:c,zb:"value",yb:"zero"};a.candlestick={Db:5,Ib:b,Kb:[$.GH,$.KH,$.LH,$.PH],Nb:null,Hb:null,Bb:c,zb:"high",yb:"low"};a.column={Db:6,Ib:b,Kb:[$.XH,$.wH,$.EH,$.QH,$.GH,$.KH,$.LH,$.PH],Nb:null,Hb:null,Bb:c,zb:"value",yb:"zero"};a["jump-line"]={Db:19,Ib:2,Kb:[$.uH,$.MH,$.HH,$.vH],Nb:null,Hb:null,Bb:c,zb:"value",yb:"value"};a.stick={Db:20,Ib:2,Kb:[$.uH,$.MH,$.HH,$.vH],Nb:null,Hb:null,Bb:c,zb:"value",yb:"zero"};a.line={Db:8,Ib:1,Kb:[$.uH,$.NH,$.IH,$.CH],Nb:null,Hb:null,Bb:c,zb:"value",yb:"value"};a.marker={Db:9,Ib:b,Kb:[$.XH,$.wH,$.EH,$.QH,$.GH,$.KH,$.LH,$.PH],Nb:null,Hb:null,Bb:c,zb:"value",yb:"value"};a.ohlc={Db:10,Ib:b,Kb:[$.HH,$.MH],Nb:null,Hb:null,Bb:c,zb:"high",yb:"low"};a["range-area"]={Db:11,Ib:1,Kb:[$.tH,$.WH,$.SH,$.wH,$.RH,$.VH,$.yH,$.xH],Nb:null,Hb:null,Bb:c,zb:"high",yb:"low"};a["range-column"]={Db:12,Ib:b,Kb:[$.XH,$.wH,$.TH,$.UH,$.yH,$.xH],Nb:null,Hb:null,Bb:c,zb:"high",yb:"low"};a["range-spline-area"]={Db:13,Ib:1,Kb:[$.tH,$.SH,$.WH,$.wH,$.RH,$.VH,$.yH,$.xH],Nb:null,Hb:null,Bb:c,zb:"high",yb:"low"};a["range-step-area"]={Db:14,Ib:1,Kb:[$.tH,$.SH,$.WH,$.wH],Nb:null,Hb:null,Bb:c,zb:"high",yb:"low"};a.spline={Db:15,Ib:1,Kb:[$.uH,$.NH,$.IH,$.CH],Nb:null,Hb:null,Bb:c,zb:"value",yb:"value"};a["spline-area"]={Db:16,Ib:1,Kb:[$.uH,$.NH,$.IH,$.CH,$.tH,$.OH,$.JH,$.BH,$.wH,$.PH,$.KH,$.QH],Nb:null,Hb:null,Bb:c,zb:"value",yb:"zero"};a["step-area"]={Db:17,Ib:1,Kb:[$.uH,$.NH,$.IH,$.CH,$.tH,$.OH,$.JH,$.BH,$.wH,$.PH,$.KH,$.QH],Nb:null,Hb:null,Bb:c,zb:"value",yb:"zero"};a["step-line"]={Db:18,Ib:1,Kb:[$.uH,$.NH,$.IH,$.CH],Nb:null,Hb:null,Bb:c,zb:"value",yb:"value"};a.hilo={Db:31,Ib:2,Kb:[$.uH,$.SH,$.WH],Nb:null,Hb:null,Bb:c,zb:"high",yb:"low"};this.gj=a;this.K=null;$.Q(this.ta,[["plotsManualBounds",4100,9],["zoomMarqueeFill",0,0],["zoomMarqueeStroke",0,0]]);this.I(65536);},Loa=function Loa(a,b,c,d){var e=$.N(b);(0,window.isNaN)(e)?e=0:(e=b,b=c);c=a.f[e];if(!c){var f=U1(a),h=0;if(f.length)for(c=0;c<f.length;c++){var k=f[c].g("weight");k&&(h+=k);}c=new r1(a);c.Fa("stock.defaultPlotSettings",a.Q0());c.lh().parent(a.lh());c.Hg(!0);c.jb(a);h&&c.sa("weight",h/f.length);a.f[e]=c;$.L(c,a.mja,a);e>a.rc&&((f=a.f[a.rc])&&x1(f,!1),x1(c,!0),a.rc=e);e<a.Ha&&((f=a.f[a.Ha])&&w1(f,!1),w1(c,!0),a.Ha=e);a.B(4100,9);}return $.n(b)?(c.fa(!!d,b),a):c;},U1=function U1(a){for(var b=[],c=0;c<a.f.length;c++){var d=a.f[c];d&&d.enabled()&&!d.ld&&b.push(d);}return b;},Moa=function Moa(a,b){for(var c=(0,$.za)(a.f,b)-1;-1<c;c--){var d=a.f[c];if(d&&d.enabled())return d;}return null;},Noa=function Noa(a,b,c){if(b!==c&&null!==b&&null!==c){var d=(0,$.za)(a.f,c);a.f[(0,$.za)(a.f,b)]=c;a.f[d]=b;x1(b)?(x1(b,!1),x1(c,!0)):x1(c)&&(x1(b,!0),x1(c,!1));w1(b)?(w1(b,!1),w1(c,!0)):w1(c)&&(w1(b,!0),w1(c,!1));a.B(4100,9);}},V1=function V1(a,b,c){$.V(a);var d=a.Qa(),e=a.jC().Qa();$ka(a.b)&&(g_(a.b,d),g_(a.b,e));a.b.select(b,c,e)&&(bla(a.b,d),a.By());a.da(!0);},W1=function W1(a,b,c,d,e){if($.n(d))return a.dispatchEvent({type:b,source:c,firstSelected:d,lastSelected:e,firstKey:a.b.j,lastKey:a.b.D});d=a.Um();return a.dispatchEvent({type:b,source:c,firstSelected:a.b.b.Ih,lastSelected:a.b.b.Vi,firstVisible:l_(a.b),lastVisible:m_(a.b),firstKey:a.b.j,lastKey:a.b.D,dataIntervalUnit:d.An().unit,dataIntervalUnitCount:d.An().count,dataIsGrouped:d.FD()});},Ooa=function Ooa(a,b,c){var d=b.ab(),e=$.oa(d),f=b.Ac(),h=a_(b.ka,"value"),k=c[e];if(!k)for(k=c[e]=[],e=f.Jb(),c=0;c<e+2;c++)k.push({Ow:0,zp:0,Fw:0,Nw:0,vp:0,Ew:0,hE:!1,UD:!1,Os:!1});var l=(e="percent"==d.gn())?a.v4:a.gla,m=k[c=0],p=WZ(b.ka);if(p){if(p.o("stackedMissing",m.Os),m.Os=p.o("missing"))var q=window.NaN;else{var r=Number(p.jr(h));l.call(a,d,p,m,r,null,window.NaN);q=r;}}else q=window.NaN;for(f.reset();f.advance();){var t=m;m=k[++c];f.o("stackedMissing",m.Os);(m.Os=f.o("missing"))?(t.UD=!0,q=window.NaN):(r=Number(f.jr(h)),l.call(a,d,f,m,r,t,q),q=r);}if(p=XZ(b.ka))m=k[++c],p.o("stackedMissing",m.Os),(m.Os=p.o("missing"))||(r=Number(p.jr(h)),l.call(a,d,p,m,r,t,q));return e;},X1=function X1(a,b,c){a.o("missing")?(a.o("stackedPositiveZero",Number(a.o("stackedPositiveZero"))/c.zp*100||0),a.o("stackedNegativeZero",Number(a.o("stackedNegativeZero"))/c.vp*100||0)):(0<=Number(a.o("stackedValue"))?(c=c.zp,b.Wc(100)):(c=-c.vp,b.Wc(-100)),a.o("stackedZero",Number(a.o("stackedZero"))/c*100||0),a.o("stackedValue",Number(a.o("stackedValue"))/c*100||0));},Poa=function Poa(a,b,c){var d=$.oa(b),e=a.$();c=c[d];b.Wc(0);var f=WZ(a.ka);f&&(d=c[0],X1(f,b,d));var h=1;for(e.reset();e.advance();)d=c[h++],X1(e,b,d);if(f=XZ(a.ka))d=c[h],X1(f,b,d);},Qoa=function Qoa(a,b,c,d){var e=0,f=[],h=[],k=[],l=0,m=!1,p=c-b;for(c=0;c<a.length;c++){var q=a[c];$.V(q);var r=$.M(q.minHeight(),d);var t=$.M(q.maxHeight(),d);var u=$.M(q.height(),d);(0,window.isNaN)(u)?(l++,(0,window.isNaN)(r)||(h[c]=r,m=!0),(0,window.isNaN)(t)||(k[c]=t,m=!0)):((0,window.isNaN)(r)||(u=Math.max(u,r)),(0,window.isNaN)(t)||(u=Math.min(u,t)),e+=u,f[c]=u);}if(m&&0<l){var v=[];q=l*l;do for(m=!1,d=Math.max(3,(p-e)/l),c=0;c<a.length;c++)if(!(c in f))if(c in v){if(v[c]==h[c]&&h[c]<d){e-=h[c];l++;delete v[c];m=!0;break;}if(v[c]==k[c]&&k[c]>d){e-=k[c];l++;delete v[c];m=!0;break;}}else{if(c in h&&h[c]>d){e+=v[c]=h[c];l--;m=!0;break;}if(c in k&&k[c]<d){e+=v[c]=k[c];l--;m=!0;break;}}while(m&&0<l&&q--);}d=Math.max(3,(p-e)/l);for(c=0;c<a.length;c++)q=a[c],c in f?u=f[c]:v&&c in v?u=v[c]:u=d,u=Math.round(u),e=q,l=e.Ix!=b,e.Ix=b,l&&e.va(2),q.qB(u),q.da(!0),b+=u;},Roa=function Roa(a,b){for(var c=!1,d=0;d<a.f.length;d++){var e=a.f[d];if(e&&!e.ld){e=e.Te();for(var f=0;f<e.length;f++)if(e[f].ka==b){c=!0;break;}}}if(!c&&(c=a.b,d=$.oa(b).toFixed(0),d in c.ea)){b.hb=null;delete c.ea[d];delete c.ma[d];delete c.Ya[d];e={};for(d in c.ea){f=c.ea[d].mr().ee();var h=$.oa(f).toFixed(0);h in e||(e[h]=f);}for(d in c.aa)if(!(d in e)){$.or(c.aa[d],c.h6,c);break;}c.aa=e;c.f.i=!0;for(var k in c.P)c.P[k].i=!0;c.B(16384,16);}},Y1=function Y1(a){a.Ja=!0;Soa(a);},Z1=function Z1(a){a.Ja=!1;Toa(a);},Toa=function Toa(a){(0,window.isNaN)(a.P)||Coa(a,a.P,a.eb,a.Ya,a.Za,a.Tc);},Coa=function Coa(a,b,c,d,e,f){if(!(a.Ja||0>b||1<b)){var h=a.Qa().Jc(b),k=Ska(a.b.i,h);if(!(0,window.isNaN)(k)){var l;(b=f&&f.enabled()?v1(f,k):null)&&(l=Uoa(b,c));for(c=0;c<a.f.length;c++)a.f[c]&&(b=a.f[c],b.po(k,h,f,e,b==f?l:void 0,b===f));a.rb=!0;c=a.Um();f={hoveredDate:{value:k,type:"date-time"},rawHoveredDate:{value:h,type:"date-time"},dataIntervalUnit:{value:c.An().unit,type:"string"},dataIntervalUnitCount:{value:c.An().count,type:"number"},isGrouped:{value:c.FD()}};b=a.Sa();if(Goa(a.cb,h))b.Ic();else if("union"==b.g("displayMode")&&"point"!=b.g("positionMode")){l=[];a=(0,$.Wa)(a.f,function(a){return{plot:a,infoBySeries:a&&a.enabled()?v1(a,k):null};});for(c=0;c<a.length;c++)if(a[c]&&(h=a[c].infoBySeries))for(var m=0;m<h.length;m++){var p=h[m].series;p&&l.push({series:p});}$.Pw(b,l,d,e,null,!1,f);}else"single"==b.g("displayMode")&&(l&&.03>l.distance?(a=l.series,$.Pw(b,[{series:a}],d,e,a,!1,f)):b.Ic());}}},Uoa=function Uoa(a,b){for(var c=null,d=-1,e=window.Infinity,f,h=0;h<a.length;h++){var k=a[h];k=Doa(k.series.jf,k.series,k.point,b);var l=k.Nf;e>l&&(e=l,f=k.ratio,d=h);}0<=d&&(c=a[d],c.distance=e,c.pointYRatio=f);return c;},Soa=function Soa(a){if(a.rb){a.rb=!1;for(var b=0;b<a.f.length;b++){var c=a.f[b];c&&c.tY();}a.Sa().Ic();}},$1=function $1(a){switch(a){case"thumb-drag":return"scroller-thumb-drag";case"selected-range-drag":return"scroller-drag";default:return"scroller-click";}},q1=function q1(a,b,c,d,e){W1(a,"selectedrangebeforechange",e||"plot-drag",b,c)&&(V1(a,b,c),d.sj=a.Of(d.ms),d.lastIndex=a.Of(d.rw),d.Ms=a.Of(d.Mn),d.zw=a.Of(d.sp),W1(a,"selectedrangechange",e||"plot-drag"));},z1=function z1(a,b,c){var d=a.Qa();$.J(d,p1)?(d=c.lastIndex-c.sj,d*=b,b=a.wi(c.sj-d),c=a.wi(c.lastIndex-d)):(d=c.rw-c.ms,d*=b,b=c.ms-d,c=c.rw-d);b>c&&(d=b,b=c,c=d);return b!=a.b.b.Ih||c!=a.b.b.Vi?[b,c]:null;},Voa=function Voa(a,b,c){a=a.Qa();if($.J(a,p1)){var d=c.lastIndex-c.sj;a=(c.Ms-c.sj)/d;c=(c.zw-c.sj)/d;}else d=c.rw-c.ms,a=(c.Mn-c.ms)/d,c=(c.sp-c.ms)/d;return-$.Za(-b,a,c-1);},Woa={S8:"no-overlap",Gla:"allow-minor-overlap",Fla:"allow-major-overlap",W6:"allow-overlap"},Jka={SB:"area",VY:"candlestick",cF:"column",qt:"line",Zu:"marker",fZ:"ohlc",jZ:"range-area",tQ:"range-column",lZ:"range-spline-area",mZ:"range-step-area",pZ:"spline",qZ:"spline-area",wZ:"step-area",xZ:"step-line",A8:"jump-line",V9:"stick",y8:"hilo"},Kka={Dra:"sma",boa:"ema"},Xoa={ioa:"exact-or-prev",goa:"exact",hoa:"exact-or-next",NEAREST:"nearest"},a2={name:"fill",Pb:"path",Wb:"fill",Xb:null,Zb:!1,Gb:!1,zIndex:0},b2={name:"stroke",Pb:"path",Wb:null,Xb:"stroke",Zb:!1,Gb:!1,zIndex:2E-6},c2={name:"hatchFill",Pb:"path",Wb:"hatchFill",Xb:null,Zb:!1,Gb:!0,zIndex:1E-6},Yoa={name:"negativeHatchFill",Pb:"path",Wb:"negativeHatchFill",Xb:null,Zb:!1,Gb:!0,zIndex:1E-6},Zoa={name:"negative",Pb:"path",Wb:"negativeFill",Xb:"negativeStroke",Zb:!1,Gb:!1,zIndex:0},d2={name:"rising",Pb:"path",Wb:"risingFill",Xb:"risingStroke",Zb:!1,Gb:!1,zIndex:0},e2={name:"risingHatchFill",Pb:"path",Wb:"risingHatchFill",Xb:null,Zb:!1,Gb:!0,zIndex:1E-6},f2={name:"falling",Pb:"path",Wb:"fallingFill",Xb:"fallingStroke",Zb:!1,Gb:!1,zIndex:0},g2={name:"fallingHatchFill",Pb:"path",Wb:"fallingHatchFill",Xb:null,Zb:!1,Gb:!0,zIndex:1E-6},$oa={name:"highFill",Pb:"path",Wb:"highFill",Xb:null,Zb:!1,Gb:!1,zIndex:0},apa={name:"lowFill",Pb:"path",Wb:"lowFill",Xb:null,Zb:!1,Gb:!1,zIndex:0},bpa={name:"highFill",Pb:"path",Wb:"highFill",Xb:null,Zb:!1,Gb:!1,zIndex:0},cpa={name:"lowFill",Pb:"path",Wb:"lowFill",Xb:null,Zb:!1,Fk:!0,Gb:!1,zIndex:0},h2={name:"highHatchFill",Pb:"path",Wb:"highHatchFill",Xb:null,Zb:!1,Gb:!1,zIndex:0},i2={name:"lowHatchFill",Pb:"path",Wb:"lowFill",Xb:null,Zb:!1,Gb:!1,zIndex:0},j2={name:"highHatchFill",Pb:"path",Wb:"highHatchFill",Xb:null,Zb:!1,Gb:!1,zIndex:0},k2={name:"lowHatchFill",Pb:"path",Wb:"lowHatchFill",Xb:null,Zb:!1,Fk:!0,Gb:!1,zIndex:0},l2={name:"highStroke",Pb:"path",Wb:null,Xb:"highStroke",Zb:!1,Fk:!0,Gb:!1,zIndex:2E-6},m2={name:"lowStroke",Pb:"path",Wb:null,Xb:"lowStroke",Zb:!1,Gb:!1,zIndex:2E-6},n2={name:"path",Pb:"path",Wb:"fill",Xb:"stroke",Zb:!1,Gb:!1,zIndex:0},o2={name:"fill",Pb:"path",Wb:"fill",Xb:null,Zb:!1,Fk:!0,Gb:!1,zIndex:0},p2={name:"stroke",Pb:"path",Wb:null,Xb:"stroke",Zb:!1,Fk:!0,Gb:!1,zIndex:2E-6},q2={name:"hatchFill",Pb:"path",Wb:"hatchFill",Xb:null,Zb:!1,Fk:!0,Gb:!0,zIndex:1E-6},dpa={name:"negativeHatchFill",Pb:"path",Wb:"negativeHatchFill",Xb:null,Zb:!1,Fk:!0,Gb:!0,zIndex:1E-6},epa={name:"negative",Pb:"path",Wb:"negativeFill",Xb:"negativeStroke",Zb:!1,Fk:!0,Gb:!1,zIndex:0},r2={name:"rising",Pb:"path",Wb:"risingFill",Xb:"risingStroke",Zb:!1,Fk:!0,Gb:!1,zIndex:0},s2={name:"rising",Pb:"path",Wb:null,Xb:"risingStroke",Zb:!1,Fk:!0,Gb:!1,zIndex:2E-6},t2={name:"negative",Pb:"path",Wb:null,Xb:"negativeStroke",Zb:!1,Fk:!0,Gb:!1,zIndex:2E-6},u2={name:"risingHatchFill",Pb:"path",Wb:"risingHatchFill",Xb:null,Zb:!1,Fk:!0,Gb:!0,zIndex:1E-6},v2={name:"falling",Pb:"path",Wb:"fallingFill",Xb:"fallingStroke",Zb:!1,Fk:!0,Gb:!1,zIndex:0},w2={name:"falling",Pb:"path",Wb:null,Xb:"fallingStroke",Zb:!1,Fk:!0,Gb:!1,zIndex:2E-6},x2={name:"fallingHatchFill",Pb:"path",Wb:"fallingHatchFill",Xb:null,Zb:!1,Fk:!0,Gb:!0,zIndex:1E-6},y2={name:"highStroke",Pb:"path",Wb:null,Xb:"highStroke",Zb:!1,Fk:!0,Gb:!1,zIndex:2E-6},z2={name:"lowStroke",Pb:"path",Wb:null,Xb:"lowStroke",Zb:!1,Fk:!0,Gb:!1,zIndex:2E-6},A2={name:"path",Pb:"path",Wb:"fill",Xb:"stroke",Zb:!1,Fk:!0,Gb:!1,zIndex:0},pla={name:"overlay",Pb:"path",Wb:!0,Xb:!0,Zb:!1,Gb:!1,zIndex:2E-6};$.g=GZ.prototype;$.g.P$=function(a){this.f.setTime(Date.UTC($.Uo(this.f.getUTCFullYear(),this.b,a?a.getUTCFullYear():2E3)-this.b,0));};$.g.M$=function(a){var b=this.b;this.b*=6;this.MQ(a);this.b=b;};$.g.K$=function(a){var b=this.b;this.b*=3;this.MQ(a);this.b=b;};$.g.MQ=function(a){var b=$.Uo(this.f.getUTCMonth()+12*this.f.getUTCFullYear(),this.b,a?a.getUTCMonth()+12*a.getUTCFullYear():24E3)-this.b;a=Math.floor(b/12);b%=12;0>b&&(b+=12);this.f.setTime(Date.UTC(a,b));};$.g.N$=function(a){a=$.Uo(Mka(this.f),this.b,a?Mka(a):72E3)-this.b;var b=Math.floor(a/36);a%=36;var c=Math.floor(a/3);0>c&&(c+=12);a%=3;0>a&&(a+=3);this.f.setTime(Date.UTC(b,c,1+10*a));};$.g.O$=function(a){HZ(this,6048E5*this.b,a||new Date(Date.UTC(2E3,0,2)));};$.g.G$=function(a){HZ(this,864E5*this.b,a);};$.g.H$=function(a){HZ(this,36E5*this.b,a);};$.g.J$=function(a){HZ(this,6E4*this.b,a);};$.g.L$=function(a){HZ(this,1E3*this.b,a);};$.g.I$=function(a){HZ(this,this.b,a);};$.g.cia=function(){this.f.setUTCFullYear(this.f.getUTCFullYear()+this.b);return this.f.getTime();};$.g.$ha=function(){var a=this.f.getUTCMonth()+6*this.b,b=this.f.getUTCFullYear()+Math.floor(a/12);a%=12;0>a&&(a+=12);this.f.setUTCFullYear(b);this.f.setUTCMonth(a);return this.f.getTime();};$.g.Yha=function(){var a=this.f.getUTCMonth()+3*this.b,b=this.f.getUTCFullYear()+Math.floor(a/12);a%=12;0>a&&(a+=12);this.f.setUTCFullYear(b);this.f.setUTCMonth(a);return this.f.getTime();};$.g.Xha=function(){var a=this.f.getUTCMonth()+this.b,b=this.f.getUTCFullYear()+Math.floor(a/12);a%=12;0>a&&(a+=12);this.f.setUTCFullYear(b);this.f.setUTCMonth(a);return this.f.getTime();};$.g.aia=function(){var a=this.f.getUTCDate();var b=3*(12*this.f.getUTCFullYear()+this.f.getUTCMonth())+(10>=a?0:20>=a?1:2)+this.b;a=Math.floor(b/36);b%=36;var c=Math.floor(b/3);0>c&&(c+=12);b%=3;0>b&&(b+=3);this.f.setTime(Date.UTC(a,c,1+10*b));return this.f.getTime();};$.g.bia=function(){var a=this.f.getTime()+6048E5*this.b;this.f.setTime(a);return a;};$.g.Rha=function(){var a=this.f.getTime()+864E5*this.b;this.f.setTime(a);return a;};$.g.Tha=function(){var a=this.f.getTime()+36E5*this.b;this.f.setTime(a);return a;};$.g.Wha=function(){var a=this.f.getTime()+6E4*this.b;this.f.setTime(a);return a;};$.g.Zha=function(){var a=this.f.getTime()+1E3*this.b;this.f.setTime(a);return a;};$.g.Vha=function(){var a=this.f.getTime()+this.b;this.f.setTime(a);return a;};$.g.tj=function(){return this.j;};$.H(IZ,$.U);$.g=IZ.prototype;$.g.pa=2;$.g.enabled=function(a){return $.n(a)?(a=!!a,this.j!=a&&(this.j=a,this.va(2)),this):this.j;};$.g.v1=function(a){return $.n(a)?(a=!!a,this.D!=a&&(this.D=a,this.va(2)),this):this.D;};$.g.pR=function(a){if($.n(a)){this.b.length=0;if($.A(a)){for(var b={},c=0;c<a.length;c++){var d=a[c];if($.z(d)){var e=d;var f=1;}else $.C(d)&&(e=String(d.unit),f=$.Jo(d.count,1,!1));if(e){d=new GZ(e,f);var h=d.D+d.b.toFixed(0);h in b||(b[h]=!0,this.b.push(d));}}$.Pa(this.b,Nka);}this.va(2);return this;}return Pka(this);};$.g.L3=function(a){return $.n(a)?(a=Math.max(2,$.N(a)),(0,window.isNaN)(a)||this.f==a||(this.f=a,this.i=window.NaN,this.va(2)),this):this.f;};$.g.Q3=function(a){return $.n(a)?(a=Math.max(.1,$.N(a)),(0,window.isNaN)(a)||this.i==a||(this.i=a,this.f=window.NaN,this.va(2)),this):this.i;};$.g.An=function(){return this.G;};$.g.FD=function(){return this.K;};$.g.R=function(){IZ.u.R.call(this);};$.g.F=function(){var a=IZ.u.F.call(this);a.enabled=this.j;a.forced=this.D;a.levels=Pka(this);a.maxVisiblePoints=(0,window.isNaN)(this.f)?null:this.f;a.minPixPerPoint=(0,window.isNaN)(this.i)?null:this.i;return a;};$.g.Xd=function(a){return $.da(a)||null===a?{enabled:!!a}:$.A(a)?{enabled:!0,levels:a}:null;};$.g.Je=function(a,b){var c=this.Xd(b);return c?(this.enabled(c.enabled),"levels"in c&&this.pR(c.levels),!0):!1;};$.g.U=function(a,b){IZ.u.U.call(this,a,b);this.enabled(a.enabled);this.v1(a.forced);this.pR(a.levels);this.L3(a.maxVisiblePoints);this.Q3(a.minPixPerPoint);};var B2=IZ.prototype;B2.enabled=B2.enabled;B2.forced=B2.v1;B2.levels=B2.pR;B2.maxVisiblePoints=B2.L3;B2.minPixPerPoint=B2.Q3;B2.getCurrentDataInterval=B2.An;B2.isGrouped=B2.FD;JZ.prototype.f=null;var Qka=0;JZ.prototype.wj=function(a){var b;$.ea(a)&&0>a?this.f&&(b=this.f[~a]):b=this.values[a];return b;};$.g=MZ.prototype;$.g.reset=function(){this.i&&this.i.reset();this.b=this.K;this.j=this.i?this.i.i():this.K.key;this.G=!1;this.D=window.NaN;this.P=!0;return this;};$.g.advance=function(){return this.ba();};$.g.current=function(){return this.b;};$.g.Gu=function(a,b){if($.n(a))if(this.i)for(this.reset();this.advance()&&a!=this.current(););else this.b=a,this.G=!0,$.n(b)&&(this.j=b);};$.g.get=function(a){return this.jr(this.ea?ZZ(this.Zc,a):YZ(this.Zc,a));};$.g.o=function(a,b){var c=this.Ai[this.la()];c||(c=this.Ai[this.la()]={});return 1<arguments.length?(c[a]=b,this):c[a];};$.g.jr=function(a){var b;this.G&&($.ea(a)&&0>a?this.b.f&&(b=this.b.f[~a]):b=this.b.values[a]);return b;};$.g.Ch=function(){return this.D;};$.g.la=function(){return this.Ba();};$.g.Jb=function(){return this.ma;};$.g.Dba=function(){return this.D;};$.g.nfa=function(){return this.j;};$.g.gfa=function(){return this.i.i();};$.g.D$=function(){if(this.b){this.j++;if((this.b=this.b.next)&&this.b!=this.aa)return this.G=!0,this.D=this.b.key,!0;this.b=null;this.G=!1;this.j=this.D=window.NaN;}return!1;};$.g.vda=function(){if(this.i.advance())return this.P&&(this.b=this.b.next),(this.P=!(!this.b||this.b.key!=this.i.f||this.b==this.aa))?(this.G=!0,this.D=this.b.key):(this.G=!1,this.D=this.i.f),!0;this.b=null;this.D=window.NaN;return this.G=!1;};var C2=MZ.prototype;C2.reset=C2.reset;C2.advance=C2.advance;C2.get=C2.get;C2.getKey=C2.Dba;C2.getIndex=C2.la;C2.meta=C2.o;$.g=NZ.prototype;$.g.wi=function(a){var b=this.b.length;if(2<=b&&!(0,window.isNaN)(a)){for(var c=0;c<this.D.length;c++){var d=this.D[(this.j-c-1+2)%2];if(d.index==a)return d.key;}c=Math.floor(a);d=Math.ceil(a);0>=d?(c=0,d=c+1):c>=b-1&&(d=b-1,c=d-1);c==d?b=this.b[c].key:(b=this.b[c].key,d=this.b[c+1].key,b=Math.round((d-b)*(a-c)+b));this.D[this.j]={key:b,index:a};this.j=(this.j+1)%2;}else 1==b?(b=this.b[0].key,b=Math.round(a+b)):b=window.NaN;return b;};$.g.Of=function(a){var b=this.b.length;if(2<=b&&!(0,window.isNaN)(a)){for(var c=0;c<this.D.length;c++){var d=this.D[(this.j-c-1+2)%2];if(d.key==a)return d.index;}c=$.Oa(this.b,LZ,a);0>c?(c=~c-1,0>c?c=0:c>=b-1&&(c=b-2),b=this.b[c].key,b=(a-b)/(this.b[c+1].key-b)+c):b=c;this.D[this.j]={key:a,index:b};this.j=(this.j+1)%2;}else 1==b?(b=this.b[0].key,b=a-b):b=window.NaN;return b;};$.g.$=function(a,b){return PZ(this,this.Of(a),this.Of(b));};$.g.vr=function(){return this.i;};$.g.update=function(){if(this.i){this.j=this.D.length=0;this.G=this.K.length=0;if(this.f.length){if(1==this.f.length)this.b=this.f[0].b;else{var a={key:window.NaN,next:null},b=[],c=this.f[0].b,d=c.length?c[0]:null;c=this.f[1].b;var e=c.length?c[0]:null;c=a;for(var f;d&&e;){var h=d.key<=e.key,k=d.key>=e.key;f={key:h?d.key:e.key,next:null};b.push(f);c=c.next=f;h&&(d=d.next);k&&(e=e.next);}for(d=d||e;d;)f={key:d.key,next:null},b.push(f),c=c.next=f,d=d.next;for(d=2;d<this.f.length;d++){c=this.f[d].b;e=c.length?c[0]:null;b=b.length?b[0]:null;c=a;for(h=[];b&&e;)k=b.key>=e.key,b.key<=e.key?(f=b,b=b.next):f={key:e.key,next:null},h.push(f),c=c.next=f,k&&(e=e.next);for(c.next=b;b;)h.push(b),b=b.next;for(;e;)f={key:e.key,next:null},h.push(f),c=c.next=f,e=e.next;b=h;}this.b=b;}}else this.b=[];this.i=!1;this.P=!0;for(d=0;d<this.f.length;d++)if(this.f[d].Jb()!=this.b.length){this.P=!1;break;}}};OZ.prototype.reset=function(){this.b=this.D;this.f=window.NaN;this.j=this.D.key;};OZ.prototype.advance=function(){if(this.b){this.j++;if((this.b=this.b.next)&&this.b!=this.K)return this.f=this.b.key,!0;this.b=null;this.j=this.f=window.NaN;}return!1;};OZ.prototype.i=function(){return this.j;};OZ.prototype.Jb=function(){return this.G;};$.g=TZ.prototype;$.g.search=function(a,b){return Wka(this,$Z(this.f,$.Xk(a),$.Ak(Xoa,b,"exact")));};$.g.select=function(a,b,c,d){return Xka(this,$.Xk(a),$.Xk(b),$.n(c)?new GZ(c,$.N(d)):void 0);};$.g.Fba=function(a,b){var c=$.n(a)?new GZ(a,$.N(b)):void 0,d=RZ(this.Zc.ee(),c);this.f=d;this.i=!c;this.b=Vka(d);SZ(this);return this;};$.g.$=function(){return c_(this,!0);};$.g.mr=function(){return this.Zc;};$.g=UZ.prototype;$.g.get=function(a){return this.jr(this.b?ZZ(this.Zc,a):YZ(this.Zc,a));};$.g.jr=function(a){return this.yf.wj(a);};$.g.la=function(){return this.zd;};$.g.Ch=function(){return this.yf.key;};$.g.o=function(a,b){return 1<arguments.length?(this.Ai&&(this.Ai[a]=b),this):this.Ai?this.Ai[a]:void 0;};$.g.Eba=function(){return this.yf.key;};var D2=TZ.prototype;D2.search=D2.search;D2.select=D2.select;D2.selectAll=D2.Fba;D2.getIterator=D2.$;D2=UZ.prototype;D2.meta=D2.o;D2.get=D2.get;D2.getKey=D2.Eba;D2.getColumn=D2.jr;D2.getIndex=D2.la;$.H(d_,$.U);$.g=d_.prototype;$.g.ra=16384;$.g.pa=16;$.g.select=function(a,b,c){(0,window.isNaN)(a)&&(a=this.b.Ih);(0,window.isNaN)(b)&&(b=this.b.Vi);if((0,window.isNaN)(a)||(0,window.isNaN)(b))return!1;f_(this);if(a=h_(this,a,b,this.Um(),this.ma,this.i,this.b,!1))this.i=a[0],this.b=a[1],this.Ja=c.transform(this.b.Ih),this.Ha=c.transform(this.b.Vi);return!!a;};$.g.Um=function(a){this.G||(this.G=new IZ(),this.G.Fa("stock.grouping"),this.G.U(this.G.na,!0),$.L(this.G,this.q2,this));return $.n(a)?(this.G.N(a),this):this.G;};$.g.q2=function(){this.va(16);};$.g.h6=function(a){if($.X(a,16)){this.f.i=!0;for(var b in this.P)this.P[b].i=!0;for(b in this.ma)this.ma[b].D=!0;this.B(16384,16);}};$.g.R=function(){$.ud(this.G,this.K);this.K=this.G=null;d_.u.R.call(this);};$.g.wi=function(a){f_(this);return this.i.wi(a);};$.g.Of=function(a){f_(this);return this.i.Of(a);};$.g.xM=function(){return this.b.vI;};$.H(n_,$.jx);var E2={};$.wq(E2,[[0,"allowPlotDrag",$.Hq],[0,"scrollOnMouseWheel",$.Hq]]);$.S(n_,E2);n_.prototype.F=function(){var a=n_.u.F.call(this);$.Xq(this,E2,a);return a;};n_.prototype.U=function(a,b){n_.u.U.call(this,a,b);$.Pq(this,E2,a);};$.H(o_,$.Y);var fpa=o_.prototype,gpa={};$.wq(gpa,[[0,"height",$.Fq],[0,"showHelperLabel",$.Hq],[0,"overlapMode",function(a,b){return $.Ak(Woa,a,b||"no-overlap");}]]);fpa.nR=gpa;$.S(o_,o_.prototype.nR);$.g=o_.prototype;$.g.ra=$.Y.prototype.ra|80;$.g.pa=$.Y.prototype.pa;$.g.background=function(a){this.Ga||(this.Ga=new $.Au(),$.W(this,"background",this.Ga),$.L(this.Ga,this.ug,this));return $.n(a)?(this.Ga.N(a),this):this.Ga;};$.g.ug=function(a){$.X(a,1)&&this.B(64,1);};$.g.labels=function(a){this.Ca||(this.Ca=new $.Ru(),$.W(this,"labels",this.Ca),this.Ca.jb(this),$.L(this.Ca,this.ae,this));return $.n(a)?(!$.C(a)||"enabled"in a||(a.enabled=!0),this.Ca.N(a),this):this.Ca;};$.g.pb=function(a){this.pc||(this.pc=new $.Ru(),$.W(this,"minorLabels",this.pc),this.pc.jb(this),$.L(this.pc,this.ae,this));return $.n(a)?(!$.C(a)||"enabled"in a||(a.enabled=!0),this.pc.N(a),this):this.pc;};$.g.ae=function(a){var b=0,c=0;$.X(a,1)&&(b=16,c=1);$.X(a,8)&&(b|=4,c|=8);this.B(b,c);};$.g.Wa=function(a){this.lb||(this.lb=new $.Sy(),this.lb.orientation("top"),this.lb.Je(!0,!1),this.lb.jb(this),$.W(this,"ticks",this.lb),$.L(this.lb,this.s_,this));return $.n(a)?(this.lb.N(a),this):this.lb;};$.g.wb=function(a){this.Qc||(this.Qc=new $.Sy(),this.Qc.orientation("top"),this.Qc.Je(!0,!1),this.Qc.jb(this),$.W(this,"minorTicks",this.Qc),$.L(this.Qc,this.s_,this));return $.n(a)?(this.Qc.N(a),this):this.Qc;};$.g.s_=function(){this.B(16,1);};$.g.scale=function(a){return $.n(a)?(this.qa!=a&&(this.qa&&$.or(this.qa,this.gi,this),(this.qa=a)&&$.L(this.qa,this.gi,this),this.B(16,1)),this):this.qa;};$.g.gi=function(a){$.X(a,512)&&this.B(16,1);};$.g.orientation=function(a){return $.n(a)?this:"bottom";};$.g.ob=function(){var a=this.ja();if(!a)return new $.I(0,0,0,0);this.enabled()&&(a.top=a.top+a.height-this.g("height")+1);return a;};$.g.xd=function(){var a=this.ja();if(!a)return new $.I(0,0,0,0);this.enabled()&&(a.height-=this.g("height"));return a;};$.g.It=function(a,b){var c=this.qa.hha,d=this.qa.gha,e=this.qa.Fha,f=this.qa.Eha,h=null,k=[],l=null,m=[],p=[],q=[],r,t=[],u=[],v=[],w=[],x=this.lb&&this.lb.enabled()?$.Ty(this.lb):null,y=this.Qc&&this.Qc.enabled()?$.Ty(this.Qc):null,B=!(!this.Ca||!this.Ca.enabled()),G=!(!this.pc||!this.pc.enabled()),D=1,K=0;for(b.reset();b.advance();){var P=b.current;(r=B&&b.j)&&x?x.call(this.lb,this.qa.EP(P),a,a,0,.5):y&&y.call(this.Qc,this.qa.EP(P),a,a,0,.5);if("allow-overlap"==this.g("overlapMode"))r?(t.push(P),v.push(D),h||(h=this.qd(P,r,a,c,e,f,0))):G&&(u.push(P),w.push(K),k.push(this.qd(P,r,a,c,e,f,0)));else{var R=this.qd(P,r,a,c,e,f,r?D:K);if(r){if("allow-major-overlap"==this.g("overlapMode")||!l||!l.qo(R)){for(l=p.length;l--;)if(R.qo(p[l]))m.pop(),p.pop(),q.pop();else break;t.push(P);v.push(D);u.push.apply(u,m);w.push.apply(w,q);k.push.apply(k,p);l=R;h||(h=R);}m.length=p.length=q.length=0;}else!G||l&&l.qo(R)||"allow-minor-overlap"!=this.g("overlapMode")&&p.length&&p[p.length-1].qo(R)||(m.push(P),q.push(K),p.push(R));}r?D++:K++;}m.length&&(u.push.apply(u,m),w.push.apply(w,q),k.push.apply(k,p));$.$u(this.labels());$.$u(this.pb());P=b.f;if(this.g("showHelperLabel")&&!(0,window.isNaN)(P)&&(R=this.qd(P,!0,a,c,e,f,0))&&(!h||!R.qo(h))){if("allow-overlap"!=this.g("overlapMode")){for(l=0;l<k.length&&R.qo(k[l]);l++);l&&($.Ca(k,0,l),$.Ca(u,0,l),$.Ca(w,0,l));}this.je(P,!0,a,c,d,e,f,0);}for(l=0;l<t.length;l++)this.je(t[l],!0,a,c,d,e,f,v[l]);for(l=0;l<u.length;l++)this.je(u[l],!1,a,c,d,e,f,w[l]);};$.g.je=function(a,b,c,d,e,f,h,k){b=b?this.labels():this.pb();var l=this.qa.Of(a);"stock-ordinal-date-time"==this.qa.La()&&(l=Math.ceil(l));e=this.qa.wi(l);l=this.qa.Gr(e,l);l=Math.round(c.left+l*c.width);var m=c.top;a=this.wm(a,e,d,f,h);d={value:{x:l,y:m}};f=b.measure(a,d,void 0,k);(0,window.isNaN)(f.left)||(c=c.left-f.left,0<c&&(d.value.x+=c),k=b.add(a,d,k),$.dv(k,[k.Oa,b.Oa,k.Ld,b.na]),$.J(this.b,I1)||(c=b.g("position"),c=$.No(c),k.nk(0>c?"center-bottom":0<c?"center-top":"center")));};$.g.qd=function(a,b,c,d,e,f,h){b=b?this.labels():this.pb();if(!b.enabled())return null;var k=this.qa.Of(a);"stock-ordinal-date-time"==this.qa.La()&&(k=Math.ceil(k));var l=this.qa.wi(k);k=this.qa.Gr(l,k);k=Math.round(c.left+k*c.width);var m=c.top;a=this.wm(a,l,d,e,f);h=b.measure(a,{value:{x:k,y:m}},void 0,h);h.left=Math.max(h.left,c.left);return h;};$.g.wm=function(a,b,c,d,e){var f=$.zs(a),h=this.b.Um();a={dataIntervalUnit:{value:h.An().unit,type:"string"},dataIntervalUnitCount:{value:h.An().count,type:"number"},dataIsGrouped:{value:h.FD(),type:"string"},majorIntervalUnit:{value:c,type:"string"},majorIntervalUnitCount:{value:e,type:"number"},minorIntervalUnit:{value:d,type:"string"},minorIntervalUnitCount:{value:e,type:"number"},value:{value:f,type:"string"},tickValue:{value:a,type:"number"},dataValue:{value:b,type:"number"},max:{value:this.qa.ZT(),type:"number"},min:{value:this.qa.$T(),type:"number"},scale:{value:this.qa,type:""}};a=new $.Hw(a);a.Em({"%AxisScaleMax":"max","%AxisScaleMin":"min"});return $.rv(a);};$.g.remove=function(){this.Na&&this.Na.remove();};$.g.W=function(){if(!this.yc())return this;this.Na||(this.Na=$.pk(),this.f||this.Na.Fd(!0));var a=$.Ar(this,"background"),b=$.Ar(this,"labels"),c=$.Ar(this,"minorLabels"),d=$.Ar(this,"ticks"),e=$.Ar(this,"minorTicks");a&&$.V(a);b&&$.V(b);c&&$.V(c);if(this.J(4)){if(a){var f=this.ja().clone().round();f.top=f.top+f.height-this.g("height");f.height=this.g("height");f.width=Math.ceil($.O(f.bb(),1))-f.left;a.ja(f);}this.B(80);this.I(4);}this.J(64)&&(a&&(a.O(this.Na),a.W()),this.I(64));this.J(16)&&(this.qa&&(a?f=a.xd():(f=this.ja(),f.top=f.top+f.height-this.g("height"),f.height=this.g("height")),b&&(b.clear(),$.$u(b)),c&&(c.clear(),$.$u(c)),d&&(d.length(f.height),d.O(this.Na),d.W()),e&&(e.length(f.height),e.O(this.Na),e.W()),d=b&&b.enabled(),e=c&&c.enabled(),(d||e)&&this.It(f,this.qa.Dn()),this.ri||(this.ri=$.uk()),this.ri.shape(f),b&&(b.O(this.Na),b.W(),(f=b.rl())&&f.clip("outside"==b.g("position")?this.ri:null)),c&&(c.O(this.Na),c.W(),(f=c.rl())&&f.clip("outside"==c.g("position")?this.ri:null))),this.I(16));this.J(8)&&(this.Na.zIndex(this.zIndex()),this.I(8));this.J(2)&&(this.Na.parent(this.O()),this.I(2));a&&a.da(!1);b&&b.da(!1);c&&c.da(!1);return this;};$.g.Mb=function(){return!0;};$.g.Gy=function(){return!0;};$.g.R=function(){$.ud(this.Ca,this.pc,this.lb,this.Qc,this.Ga,this.Na,this.qa);this.qa=this.Na=this.Ga=this.Qc=this.lb=this.pc=this.Ca=null;o_.u.R.call(this);};$.g.F=function(){var a=o_.u.F.call(this);$.Xq(this,this.nR,a);a.labels=this.labels().F();a.minorLabels=this.pb().F();a.ticks=this.Wa().F();a.minorTicks=this.wb().F();a.background=this.background().F();return a;};$.g.U=function(a,b){o_.u.U.call(this,a,b);$.Pq(this,this.nR,a,b);this.labels().fa(!!b,a.labels);this.pb().fa(!!b,a.minorLabels);this.Wa(a.ticks);this.wb(a.minorTicks);this.background(a.background);};var F2=o_.prototype;F2.labels=F2.labels;F2.minorLabels=F2.pb;F2.ticks=F2.Wa;F2.minorTicks=F2.wb;F2.background=F2.background;$.H(p_,$.Y);p_.prototype.ra=$.Y.prototype.ra|208;p_.prototype.pa=$.Y.prototype.pa;var hpa=p_.prototype,G2={};$.vq(G2,0,"value",$.Yk);$.vq(G2,0,"valueField",$.Gq);$.vq(G2,1,"stroke",$.Tq);$.vq(G2,1,"risingStroke",$.Tq);$.vq(G2,1,"fallingStroke",$.Tq);hpa.CK=G2;$.S(p_,p_.prototype.CK);$.g=p_.prototype;$.g.RH=function(a){a=a.g("anchor");return"left-top"==a||"left-center"==a||"left-bottom"==a;};$.g.lq=function(a,b,c){if(!b)return null;var d=b.scale(),e=d.La();c=d.Jc(c);var f="number";switch(e){case"linear":case"log":var h=c;break;case"ordinal":h=String(c);f="string";break;case"stock-scatter-date-time":case"stock-ordinal-date-time":case"date-time":h=$.zs(c),f="string";}b={series:{value:a,type:""},axis:{value:b,type:""},value:{value:h,type:f},tickValue:{value:c,type:"number"},scale:{value:d,type:""}};a=$.uB(a,new $.Hw(),this.f);return $.rv(a,$.Uc($.qv(a),b));};$.g.label=function(a){return $.n(a)?(this.j.N(a),this):this.j;};$.g.Lea=function(a){return $.n(a)?(this.D.N(a),this):this.D;};$.g.Nja=function(a){return $.n(a)?(this.G.N(a),this):this.G;};$.g.oR=function(){this.B(68,1);};$.g.X=function(a){if($.n(a)){var b=a;$.ea(a)?a=this.K.yi(a):$.z(a)&&(a=this.K.ef(a));this.Ra!==a&&(this.ba=b,this.Ra=a,this.B(134,1));return this;}return this.Ra;};$.g.axis=function(a){if($.n(a)){var b=+a;$.ea(a)&&(a=this.K.jj(a));this.b!==a&&(this.aa=b,this.b=a,this.B(4,1));return this;}return this.b;};$.g.remove=function(){this.za.parent(null);this.B(2);};$.g.W=function(){if(!this.yc())return this;this.za||(this.za=$.pk());var a=this.Ra||this.K.yi(0);if(a&&!a.ld){var b=this.g("valueField")||a.bf.Cl;var c=!!(a.bf.flags&$.$G);var d=(this.f=Zka(a.ka,this.g("value"),b))?this.f.get(b):null;}this.I(128);if(!d)return this.remove(),this;b=this.line?this.line:this.line=$.rk().zIndex(0).parent(this.za);var e=this.g("stroke"),f=this.b||this.K.jj(0);d=f.scale().transform(d);var h=this.K.Yf();if(c){var k=this.g("risingStroke");var l=this.g("fallingStroke"),m=this.f.get("open");this.f.get("close")>m?(e=k?k:e,k=this.G):(e=l?l:e,k=this.D);}l=$.cc(e)||1;this.J(2)&&(m=this.O(),this.za.parent(m),this.I(2));this.J(8)&&(m=this.zIndex(),this.za.zIndex(m),this.I(8));if(this.J(4)){m=h.Ta()-d*h.height;m=$.O(m,l);b.clear();b.moveTo(h.left,m).lineTo(h.bb(),m);b.clip(this.K.Yf());b.parent(this.za);if(this.i.hc("enabled")){h=m;l=this.K.Yf();var p=f.ob(),q=f.enabled();m=q?p.sb():l.bb();p=q?p.bb():l.sb();switch(f.g("orientation")){case"left":var r=(this.RH(this.i),p);break;case"right":r=(this.RH(this.i),m);}h>=l.Ub()&&h<=l.Ta()||(r=h=window.NaN);h={value:{x:r,y:h}};if((0,window.isNaN)(h.value.x))this.P=!0,this.i.clear();else{if(this.P||c)this.B(64),this.P=!1;r=this.lq(a,f,d);this.i.Bf(r);$.$u(this.j);this.i.ic(h);this.i.nk("left"==f.g("orientation")?"right-center":"left-center");}}else this.i.clear(),this.P=!0;this.I(4);}this.J(64)&&(this.i.hc("enabled")?(r=this.lq(a,f,d),this.i.Bf(r),$.$u(this.j),this.i.nk("left"==f.g("orientation")?"right-center":"left-center"),a=[],c?a.push(k.Oa,this.j.Oa,this.i.Ld,this.j.Ld,k.na,this.j.na):a.push(this.j.Oa,this.i.Ld,this.j.Ld,this.j.na),$.dv(this.i,a)):(this.i.clear(),this.P=!0),this.I(64));this.J(16)&&(b.stroke(e),this.I(16));this.P||(this.i.O(this.za),this.i.W());this.j.I(4294967295);this.G.I(4294967295);this.D.I(4294967295);return this;};$.g.F=function(){var a=p_.u.F.call(this);$.Xq(this,this.CK,a,"Current price indicator");if($.z(this.ba)||$.ea(this.ba))a.series=this.ba;(0,window.isNaN)(this.aa)||(a.axis=this.aa);a.mainLabel=this.j.F();a.risingLabel=$.YN(this.G);a.fallingLabel=$.YN(this.D);return a;};$.g.U=function(a,b){b?$.Lq(this.na,this.CK,a):$.Pq(this,this.CK,a);this.X(a.series);this.axis(a.axis);dla(this,a,b);p_.u.U.call(this,a,b);};$.g.R=function(){this.Ra=this.b=this.K=null;this.remove();this.line&&this.line.kd();this.j.clear();$.ud(this.j,this.G,this.D);this.D=this.G=this.j=null;p_.u.R.call(this);};var H2=p_.prototype;H2.label=H2.label;H2.fallingLabel=H2.Lea;H2.risingLabel=H2.Nja;H2.axis=H2.axis;H2.series=H2.X;$.H(q_,$.mz);$.g=q_.prototype;$.g.xg=function(a){$.X(a,2)&&this.B(80,1);};$.g.yG=function(a){var b=this.ja().round()||$.nn(0,0,0,0);a=b.Ta()-a*b.height;a=$.O(a,this.Rh().fl());this.j.moveTo($.O(b.sb(),1)-.5,a);this.j.lineTo($.O(b.bb(),1)+.5,a);};$.g.zG=function(a){var b=this.ja().round()||$.nn(0,0,0,0);a=b.sb()+a*b.width;a=$.O(a,this.Rh().fl());this.j.moveTo(a,$.O(b.Ta(),1)-.5);this.j.lineTo(a,$.O(b.Ub(),1)+.5);};$.g.vG=function(a,b,c){if(!(0,window.isNaN)(b)){var d=this.ja().round()||$.nn(0,0,0,0),e=this.Rh().fl();b=d.Ta()-b*d.height;b=$.O(b,e);a=d.Ta()-a*d.height;a=$.O(a,e);c.moveTo(d.sb(),b);c.lineTo(d.bb(),b);c.lineTo(d.bb(),a);c.lineTo(d.sb(),a);c.close();}};$.g.wG=function(a,b,c){if(!(0,window.isNaN)(b)){var d=this.ja().round()||$.nn(0,0,0,0),e=this.Rh().fl();b=d.sb()+b*d.width;b=$.O(b,e);a=d.sb()+a*d.width;a=$.O(a,e);c.moveTo(b,d.Ub());c.lineTo(a,d.Ub());c.lineTo(a,d.Ta());c.lineTo(b,d.Ta());c.close();}};$.g.Lj=function(){var a=this.scale(),b=window.NaN,c=$.J(a,$.St),d=$.J(a,F1);var e=this.g("isMinor");d?(e=a.Dn().ea(!e),e=$.Ga(window.NaN,e,window.NaN)):e=c?a.Wa().get():e?a.wb().get():a.Wa().get();var f=this.Mb()?[this.yG,this.vG]:[this.zG,this.wG];this.Qz();this.Rh().clear();var h=(this.ja()||$.nn(0,0,0,0)).clone().round();var k=h.Ta();var l=h.bb();k=Math.ceil($.O(k,1));l=Math.ceil($.O(l,1));h.width=l-h.left;h.height=k-h.top;this.Rh().clip(h);h=f[1];l=f[0];for(var m=1==$.cc(this.g("stroke"))%2,p=0,q=e.length;p<q;p++){var r=e[p];$.A(r)&&(r=r[0]);k=d?p?p==q-1?1:a.EP(r):0:a.transform(r);p&&(f=$.qz(this,p-1))&&h.call(this,k,b,f,m);p?p==q-1?(this.g("drawLastLine")||c)&&l.call(this,k,m):l.call(this,k,m):this.g("drawFirstLine")&&l.call(this,k,m);b=k;}c&&$.n(r)&&(k=a.Ne()?0:1,this.g("drawLastLine")&&l.call(this,k,m),(f=$.qz(this,p-1))&&h.call(this,k,b,f,m));};var I2=q_.prototype;I2.isHorizontal=I2.Mb;I2.scale=I2.scale;I2.axis=I2.axis;$.H(r_,$.xD);var J2={up:{tooltip:"Move plot up",icon:"ac ac-caret-up",fallbackSymbol:"▲",model:{type:"up"}},down:{tooltip:"Move plot down",icon:"ac ac-caret-down",fallbackSymbol:"▼",model:{type:"down"}},zoom:{tooltip:"Expand/Collapse plot",icon:"ac ac-enlarge",fallbackSymbol:"⛶",toggle:!0,model:{type:"zoom"}}},ipa={single:[J2.zoom],top:[J2.down,J2.zoom],center:[J2.up,J2.down,J2.zoom],bottom:[J2.up,J2.zoom]};$.g=r_.prototype;$.g.sc=function(){r_.u.sc.call(this);var a=this.Xa();$.Rj(a,"anychart-plot-controls");};$.g.update=function(){if(this.vf){this.dj(!0);var a=this.b.Yf();$.wf(this.Xa(),{right:this.b.wc().padding().right()+"px",top:a.top+"px"});a=ipa[this.P];for(var b,c,d=this.b.QH(),e=0;e<a.length;e++)b=a[e],c=new $.QD(),$.AD(c,"anychart-button-standard"),$.OD(c,b.tooltip),$.SD(c,b.icon),c.P=b.fallbackSymbol,c.dh=b.model,b.toggle&&(d?$.SD(c,"ac ac-dot-square-o"):$.SD(c,"ac ac-enlarge")),1!=a.length&&(e?e==a.length-1?$.PD(c,2):$.PD(c,3):$.PD(c,1)),this.gc(c,!0);}};$.g.Eg=function(){r_.u.Eg.call(this);this.update();var a=$.Fy(this);a.ua(this,"enter",function(){this.aa=!0;});a.ua(this,"leave",function(){this.aa=!1;this.Ic();});a.ua(this,"action",this.Aba);};$.g.Aba=function(a){a=a.target;if($.J(a,$.QD)){var b=a.dh.type,c=this.b;"up"==b?c.X3():"down"==b?c.W3():"zoom"==b&&(c.y6(),c.QH()?$.SD(a,"ac ac-dot-square-o"):$.SD(a,"ac ac-enlarge"));this.aa=!1;}};$.g.show=function(){$.Tj(this.Xa(),"anychart-plot-controls-hidden");};$.g.Ic=function(){this.aa||$.Rj(this.Xa(),"anychart-plot-controls-hidden");};$.g.zba=function(){this.Pd();};$.g.Pd=function(){var a,b=this.b.wc();(b=b.container()?b.container().getStage():null)&&b.container()?a=b.container():a=null;a?r_.u.Pd.call(this,a):(a=(0,$.pa)(this.zba,this),this.b.wc().De("chartdraw",a,!1,this));};$.g=ela.prototype;$.g.Pw=function(){gla(this.oc,this.f);this.f.length=0;};$.g.ZW=function(a,b){this.f.push(b);this.b++;};$.g.start=function(){this.b=this.f.length=0;};$.g.Id=$.ia;$.g.rK=function(){this.f.length&&this.Pw();};$.g=s_.prototype;$.g.update=function(){var a=this.P.aG-1;if(this.i<a)if(this.b.length){for(var b=this.P.Qx,c=$.J(this,w_),d=0;d<b.length;d++)if(this.i<=this.P.bG[d]){var e=b[d];e.j.call(e.b,e.b);for(var f=0,h=this.b[0];h;){h.f||(h.f=[]);for(;h.f.length<a;)h.f.push(void 0);e.i.call(e.b,new B_(h,e,c,f),e.b);h=h.next;f++;}}this.i=a;t_(this);}else this.i=a;};$.g.select=function(a,b){var c=this.b.length;if(c){var d=(0,window.isNaN)(a)?0:$Z(this,a,"exact-or-next");if((0,window.isNaN)(d)){var e=c-1;d=window.NaN;}else{var f=(0,window.isNaN)(b)?c-1:$Z(this,b,"exact-or-prev");(0,window.isNaN)(f)?(e=window.NaN,d=0):d<=f?(e=0<d?d-1:window.NaN,d=f<c-1?f+1:window.NaN):e=f;}}else e=d=window.NaN;return k_(this,a,b,e,d);};$.g.search=function(a,b){return this.Cn($Z(this,a,b));};$.g.nO=function(a,b){var c,d=this.WT();if($.ea(d))for(c=0;c<d;c++)c in a||(a[c]=b++);else for(c in d)c in a||(a[c]=b++);return b;};$.g.Cn=function(a){return 0<=a&&a<this.b.length?this.b[a]:null;};$.g.Jb=function(){return this.b.length;};$.H(w_,s_);var v_=8;w_.prototype.WT=function(){return this.j;};w_.prototype.update=function(){if(0!=this.f){var a=RZ(this.P).b,b=this.P.qF;if(this.f>=v_)this.i=-1,this.b.length=0,fla(this,a,b,this.D,!1);else{if(this.f&2){this.i=-1;var c=a.length?a[0]:null;if(c){var d=this.b.length?this.b[0]:null,e=c.key;if(d&&!(d.key>=e)){for(var f=0,h;(h=d.next)&&h.key<e;)f++,d=h;if(h&&h.key==e)f++;else{for(e=c;e&&(!h||e.key<h.key);){for(c=0;c<this.j;c++){var k=b[c];k.b(e.values[k.j],e.values[k.D],e.values);}e=e.next;}for(c=0;c<this.j;c++)d.values[c]=b[c].f();}0<f&&($.Ca(this.b,0,f),this.b.length&&(this.b[0].b=null));}}else this.b.length=0;}this.f&1&&(this.i=-1,d=this.D,(f=this.b[this.b.length-1])?(this.b.pop(),f.b&&(f.b.next=null),f=f.key):f=void 0,fla(this,a,b,d,!0,f));if(this.f&4&&(a=a[0],e=this.b[0],a&&e)){d=this.j;f=b.length-1;do{for(c=e.next;a&&(!c||a.key<c.key);){for(h=d;h<=f;h++)k=b[h],k.b(a.values[k.j],a.values[k.D],a.values);a=a.next;}e=e.values;for(h=d;h<=f;h++)e[h]=b[h].f();e=c;}while(a);}}this.f=0;this.j=b.length;t_(this);}w_.u.update.call(this);};$.H(x_,s_);$.g=x_.prototype;$.g.cY=function(){this.aa&&$.kl(101);this.aa=!0;};$.g.ZF=function(){this.aa=!1;if(this.f.length||this.K){var a=y_(this),b=this.f.length,c=this.b.length,d=this.f[a?0:b-1];c=!b||!c||0<KZ(d,this.b[c-1]);b=0;if(c&&2>this.K){c&&(b|=1);if(this.K){b|=2;d=new z_(this.b,null,!0);var e=0;for(c=d.next();c&&c.i;)e++,c=d.next();$.Ca(this.b,0,e);if(c=this.b[0])c.b=null;}hla(this,new z_(null,this.f,a));}else d=new z_(this.b,this.f,a),this.b=[],hla(this,d),b=v_;this.f.length=0;this.j=this.P4;this.i=-1;this.K=0;t_(this);kla(this.P,b,!0);}};$.g.Ur=function(a,b,c){var d=!this.aa;d&&this.cY();if($.z(a)){var e=new ela(this),f=new $.Om();$.C(c)&&(f.bJ(c.rowsSeparator),f.YF(c.columnsSeparator),f.DH(c.ignoreTrailingSpaces),f.BH(c.ignoreFirstRow));f.fC(a,e);!0===b&&(b=e.b);}else if($.A(a)){for(e=c=0;e<a.length;e++)gla(this,a[e])&&c++;!0===b&&(b=c);}b=$.N(b);(0,window.isNaN)(b)||this.DO(b);d&&this.ZF();return this;};$.g.remove=function(a,b){for(var c=new z_(this.b,this.f,y_(this),a,b),d;d=c.next();)d.i=!0;this.K=2;this.aa||this.ZF();return this;};$.g.DO=function(a){a=$.Jo(a);for(var b=new z_(this.b,this.f,y_(this)),c=window.NaN,d;(d=b.next())&&0<a;)d.i||(d.key!=c&&a--,d.i=!0,c=d.key);this.K||(this.K=1);this.aa||this.ZF();return this;};$.g.WT=function(){return this.D||this.ba;};$.g.P4=function(a){this.f.push(a);this.j=this.N4;};$.g.N4=function(a){var b=this.f.length,c=this.f[b-1];c.key<a.key?this.f.push(a):c.key>a.key?(this.j=1==b?this.O4:this.bX,this.f.push(a)):this.f[b-1]=a;};$.g.O4=function(a){var b=this.f.length,c=this.f[b-1];c.key>a.key?this.f.push(a):c.key<a.key?(this.j=this.bX,this.f.push(a)):c.key==a.key&&(this.f[b-1]=a);};$.g.bX=function(a){this.f.push(a);};$.g=z_.prototype;$.g.VD=function(){return null;};$.g.Qha=function(){var a=this.f,b=this.j[this.b];if(a){if(b){if(0>KZ(a,b))return this.f=this.f.next,a;this.b++;return b;}this.f=this.f.next;this.i=this.f4;return a;}if(b)return this.b++,this.i=this.Oha,b;this.next=this.VD;return null;};$.g.Sha=function(){var a=this.f,b=this.j[this.b];if(a){if(b){if(0>KZ(a,b))return this.f=this.f.next,a;this.b--;return b;}this.f=this.f.next;this.i=this.f4;return a;}if(b)return this.b--,this.i=this.Pha,b;this.next=this.VD;return null;};$.g.f4=function(){var a=this.f;if(a)return this.f=this.f.next,a;this.next=this.VD;return null;};$.g.Oha=function(){var a=this.j[this.b++];if(a)return a;this.next=this.VD;return null;};$.g.Pha=function(){var a=this.j[this.b--];if(a)return a;this.next=this.VD;return null;};$.g.qda=function(){var a=this.i();return null===a||a.key>this.D?(this.next=this.VD,null):a;};$.g.dia=function(){return this.i();};$.H(A_,$.nd);$.g=A_.prototype;$.g.la=function(){return this.zd;};$.g.zE=function(a){this.zd=a;};$.g.ee=function(){return this.Zc.ee();};$.g.hd=function(a,b){if(a in this.f)return $.il(202,void 0,[a]),window.NaN;a:{var c=this.ee();if(this.ee()!=c)c=window.NaN;else{var d=c.Vw.length;var e=d?~c.Vw[0]:~c.aG;if($.z(b)){if(b in c.Uz){$.il(201,void 0,[b]);c=window.NaN;break a;}c.Uz[b]=e;}c.bG[this.la()]=Math.max(c.bG[this.la()],~e);d?c.Vw.shift():c.aG++;c=e;}}return(0,window.isNaN)(c)?window.NaN:this.f[a]=c;};$.g.Ke=function(a){return a in this.f?this.f[a]:window.NaN;};$.g.cg=function(a){this.b=a;};$.g.dg=function(a){this.j=$.E(a)?a:$.ia;};$.g.bg=function(a){this.i=$.E(a)?a:$.ia;};$.g.R=function(){var a=this.ee(),b=this.la();a.Qx.splice(b,1);var c;for(c=b;c<a.Qx.length;c++)a.Qx[c].zE(c);a.bG.splice(b,1);b=[];for(var d in this.f)b.push(this.f[d]);if(b.length){$.Pa(a.Vw);d=[];var e=Number.POSITIVE_INFINITY;for(c=0;c<b.length;c++){var f=~b[c];e=Math.min(e,f);a.Vw.push(f);for(var h in a.Uz)if(a.Uz[h]==b[c]){d.push(h);break;}}$.Pa(a.Vw);for(c=a.Vw.length;c--&&a.Vw[c]==a.aG-1;)a.aG--,a.Vw.pop();for(c=0;c<d.length;c++)delete a.Uz[d[c]];e--;a.oc.i=Math.min(a.oc.i,e);for(var k in a.bv)a.bv[k].i=Math.min(a.bv[k].i,e);}$.C(this.b)&&$.E(this.b.dispose)&&this.b.dispose();delete this.b;delete this.i;delete this.j;delete this.Zc;delete this.f;A_.u.R.call(this);};$.H(B_,UZ);B_.prototype.set=function(a,b){return this.i(this.j.Ke(a),b);};B_.prototype.i=function(a,b){var c=!(0,window.isNaN)(a);c&&(this.yf.f[~a]=b);return c;};var K2=A_.prototype;K2.addOutputField=K2.hd;K2.getFieldIndex=K2.Ke;K2.setContext=K2.cg;K2.setStartFunction=K2.dg;K2.setCalculationFunction=K2.bg;K2.dispose=K2.kd;K2=B_.prototype;K2.set=K2.set;K2.setColumn=K2.i;$.H(C_,$.U);C_.prototype.oL=function(){return new TZ(this);};C_.prototype.Rd=function(a,b,c,d){if($.ea(b))var e=Math.round($.N(b));else if($.z(b))e=this.ez.Uz[b]||window.NaN,(0,window.isNaN)(e)&&(e=b);else return this;if($.ea(e)&&0>e)this.UC[a]={T5:e,f5:e};else if($.z(e)||!(0,window.isNaN)(e)){if((b=$.C(c))&&!$.E(c)&&!("reset"in c&&"considerItem"in c&&"getResult"in c))return this;var f=b?c:Lka($.n(c)?c:a);b=d;"weighted-average"==f&&($.ea(d)?b=Math.round(d):$.z(d)?(b=this.ez.Uz[d]||window.NaN,(0,window.isNaN)(b)&&(b=d)):b=window.NaN,$.ea(b)&&(0,window.isNaN)(b)&&(f="average"));$.V(this.ez);d=this.ez;c=e;var h=b;b=jla(f,c,h);b in d.gS?b=d.gS[b]:(c=ila(f,c,h),d.gS[b]=b=d.qF.length,d.qF.push(c),kla(d,4,!1));this.UC[a]={T5:e,f5:b};this.ez.da(!0);}return this;};C_.prototype.ee=function(){return this.ez;};var L2=C_.prototype;L2.addField=L2.Rd;L2.createSelectable=L2.oL;$.H(D_,$.nd);D_.prototype.clear=function(){this.value=void 0;};D_.prototype.f=function(){var a=this.value;this.clear();return a;};D_.prototype.R=function(){delete this.value;D_.u.R.call(this);};$.H(E_,D_);E_.prototype.clear=function(){this.value=this.i=0;};E_.prototype.b=function(a){a=$.N(a);(0,window.isNaN)(a)||(this.value+=a,this.i++);};E_.prototype.f=function(){var a=this.i?this.value/this.i:window.NaN;this.clear();return a;};$.H(F_,D_);F_.prototype.clear=function(){this.i.reset();};F_.prototype.b=function(a,b,c){this.i.considerItem(a,c);};F_.prototype.f=function(){var a=this.i.getResult();this.clear();return a;};F_.prototype.R=function(){delete this.i;F_.u.R.call(this);};$.H(G_,D_);G_.prototype.clear=function(){this.value=[];this.rows=[];};G_.prototype.b=function(a,b,c){this.value.push(a);this.rows.push(c);};G_.prototype.f=function(){var a=this.G.call(this.i,this.value,this.rows);this.clear();return a;};G_.prototype.R=function(){delete this.G;delete this.i;G_.u.R.call(this);};$.H(H_,D_);H_.prototype.clear=function(){this.value=window.NaN;};H_.prototype.b=function(a){(0,window.isNaN)(this.value)&&(this.value=$.N(a));};$.H(I_,D_);I_.prototype.b=function(a){$.n(this.value)||(this.value=a);};$.H(J_,D_);J_.prototype.clear=function(){this.value=window.NaN;};J_.prototype.b=function(a){a=$.N(a);(0,window.isNaN)(a)||(this.value=a);};$.H(K_,D_);K_.prototype.b=function(a){$.n(a)&&(this.value=a);};$.H(L_,D_);L_.prototype.clear=function(){this.value=[];};L_.prototype.b=function(a){$.n(a)&&this.value.push(a);};$.H(M_,D_);M_.prototype.clear=function(){this.value=window.NaN;};M_.prototype.b=function(a){a=$.N(a);(0,window.isNaN)(a)||this.value>=a||(this.value=a);};$.H(N_,D_);N_.prototype.clear=function(){this.value=window.NaN;};N_.prototype.b=function(a){a=$.N(a);(0,window.isNaN)(a)||this.value<=a||(this.value=a);};$.H(O_,D_);O_.prototype.clear=function(){this.value=0;};O_.prototype.b=function(a){a=$.N(a);(0,window.isNaN)(a)||(this.value+=a);};$.H(P_,D_);P_.prototype.clear=function(){this.value=this.i=0;};P_.prototype.b=function(a,b){a=$.N(a);b=$.N(b)||0;(0,window.isNaN)(a)||(this.value+=a*b,this.i+=b);};P_.prototype.f=function(){var a=this.i?this.value/this.i:window.NaN;this.clear();return a;};$.H(Q_,$.U);$.g=Q_.prototype;$.g.pa=16;$.g.cY=function(){this.oc.cY();};$.g.ZF=function(){this.oc.ZF();};$.g.Ur=function(a,b,c){this.oc.Ur(a,b,c);return this;};$.g.remove=function(a,b){this.oc.remove($.Xk(a),$.Xk(b));return this;};$.g.DO=function(a){this.oc.DO(a);return this;};$.g.Wd=function(a){a=new C_(this,a);$.qd(this,a);return a;};$.g.Kc=function(a){if($.J(a,C_)){if(a.ee()!=this)return $.il(200),null;}else a=this.Wd(a);a=new A_(a,this.Qx.length);this.Qx.push(a);this.bG.push(-1);return a;};$.g.R=function(){$.V(this);delete this.oc;$.ud(this.qF,this.Qx);this.qF.length=0;this.bv={};this.Qx.length=0;this.da(!1);Q_.u.R.call(this);};var M2=Q_.prototype;$.F("anychart.data.table",function(a,b,c,d,e){return new Q_(a,b,c,d,e);});M2.addData=M2.Ur;M2.remove=M2.remove;M2.removeFirst=M2.DO;M2.mapAs=M2.Wd;M2.createComputer=M2.Kc;$.H(R_,$.Dx);$.g=R_.prototype;$.g.ky=function(){var a=this.sl();return $.J(a,p1)?this.ga.width/(a.zw-a.Ms):this.xa.xM()/(a.ZT()-a.$T())*this.ga.width;};$.g.$d=function(){return null;};$.g.d2=function(){};$.g.FM=function(){var a=WZ(this.ka);a&&this.$().Gu(a.yf);return a;};$.g.EM=function(){var a=XZ(this.ka);a&&this.$().Gu(a.yf);return a;};$.g.WG=function(){return this.xa;};$.g.bL=function(){return!1;};$.g.data=function(a,b,c){if($.n(a)){var d=this.WG();$.V(d);if(this.ka){var e=this.ka;this.ka=null;Roa(d,e);}this.D&&($.pd(this.D),this.D=null);this.aa=a;$.J(a,Q_)||$.J(a,C_)||(e=new Q_(),a&&e.Ur(a,!1,c),this.D=a=e);$.J(a,Q_)&&(a=a.Wd(b),b||(a.Rd("value",1,"average"),a.Rd("size",2,"sum"),a.Rd("open",1,"first"),a.Rd("high",2,"max"),a.Rd("low",3,"min"),a.Rd("close",4,"last"),a.Rd("volume",5,"sum")),this.D||(this.D=a));$.J(a,C_)?(this.ka=a.oL(),this.U4()):this.aa=null;d.da(!0);return this;}return this.aa;};$.g.U4=function(){e_(this.WG().b,this.ka,!0);};$.g.Xf=function(){return this.ka.$();};$.g.t0=function(){return!0;};$.g.He=function(a,b,c){var d=$.mB(this),e=b?this.Xf():this.$(),f=e.la();d.kg(e).Ji([this.$d(f),this]);var h;a=a||this.g("color")||"blue";var k=e.Ch();b=e.get("value");var l=$.n(e.get("name"))?e.get("name"):k;e={x:{value:k,type:"date-time"},value:{value:b,type:"number"},index:{value:f,type:"number"},iterator:{value:e,type:""},autoColor:{value:a,type:""},chart:{value:this.xa,type:""},plot:{value:this.jf,type:""},series:{value:this,type:""},name:{value:l,type:"string"},isIntersection:{value:!!e.o("isIntersection"),type:"string"}};c=$.n(c)&&c;(f=this.jd())&&!c&&($.n(b)&&(h=f.Oq(b)),e.scaledColor={value:h,type:""},e.colorScale={value:f,type:""});e.sourceColor={value:h||a,type:""};return $.rv(d,e);};$.g.Wi=function(a){var b=$.mB(this);a=a?this.Xf():this.$();var c=a.la();b.kg(a).Ji([this.$d(c),this]);var d=this.Ah(),e=a.Ch(),f=a.get("value"),h=$.n(a.get("name"))?a.get("name"):e;return $.rv(b,{x:{value:e,type:"date-time"},value:{value:f,type:"number"},index:{value:c,type:"number"},iterator:{value:a,type:""},sourceHatchFill:{value:d,type:""},plot:{value:this.jf,type:""},chart:{value:this.xa,type:""},series:{value:this,type:""},name:{value:h,type:"string"}});};$.g.nX=function(){if(!this.ka)return null;for(var a=this.Ce(),b=[],c=0;c<a.length;c++){var d=a_(this.ka,a[c]);if(!$.z(d)&&(0,window.isNaN)(d))return $.kl(201,void 0,[this.jk(),a[c]]),null;b.push(d);}return b;};$.g.dH=function(a){var b=this.nX(),c=[];if(b){var d=this.ab(),e,f=b.length;for(e=0;e<f;e++){var h=b[e],k=this.ka;k=$.ea(h)&&0>h?a?k.b.M6[~h]:k.b.YK[~h]:a?k.b.O6[h]:k.b.NN[h];c.push(d.Jz($.n(k)?k:window.NaN,this.Px));k=this.ka;h=$.ea(h)&&0>h?a?k.b.L6[~h]:k.b.XK[~h]:a?k.b.N6[h]:k.b.LN[h];c.push(d.Jz($.n(h)?h:window.NaN,this.Px));}}return c;};$.g.cE=function(){var a=a_(this.ka,"label"),b=a_(this.ka,"minLabel"),c=a_(this.ka,"maxLabel");return $.z(a)||!(0,window.isNaN)(a)||$.z(b)||!(0,window.isNaN)(b)||$.z(c)||!(0,window.isNaN)(c);};$.g.mO=function(){var a=a_(this.ka,"marker");return $.z(a)||!(0,window.isNaN)(a);};$.g.gh=function(){return this.vP()&&"none"!=this.ab().gn();};$.g.po=function(a,b){this.f=this.ka.search(a,"exact");this.K=!0;S_(this,$.hm);this.G=this.f?this.f:this.ka.search(b,"exact");S_(this,$.Ao);};$.g.ek=function(){return this.Dc;};$.g.Xk=function(){this.Dc&$.Ao||(this.Dc=$.Ao,this.B(2176,1));};$.g.Kd=function(){this.Dc!=$.hm&&(this.Dc=$.hm,this.B(2176,1));return this;};$.g.pr=function(){return this.ek();};$.g.Pk=function(){this.Ou||(this.Ou=new $.Hw());return $.uB(this,this.Ou,this.K?this.f:this.P);};$.g.FC=function(a){this.ou||(this.ou=new $.Hw());this.ou=$.uB(this,this.ou,this.K?this.f:this.P);if(a){for(var b=$.qv(this.ou),c=0;c<a.length;c++)$.ra(b,a[c]);$.rv(this.ou);}return this.ou;};$.g.um=function(a,b){var c=this.xa.Um(),d=R_.u.um.call(this,a,b);d.defaultDecimalDigitsCount={value:this.ba,type:"number"};d.dataIntervalUnit={value:c.An().unit,type:"string"};d.dataIntervalUnitCount={value:c.An().count,type:"number"};d.isGrouped={value:c.FD(),type:""};return d;};$.g.i2=function(){return"date-time";};$.g.UG=function(a,b,c,d){if(!a&&this.check($.$G)){a=d.open<d.close;if(2==b)a=a?"risingStroke":"fallingStroke";else if(3==b){if(this.check(8))return null;a=a?"risingHatchFill":"fallingHatchFill";}else this.check(8)?(a=a?"risingStroke":"fallingStroke",b=2):a=a?"risingFill":"fallingFill";return $.dm(a,b,!1)(this,$.hm,!0);}return R_.u.UG.call(this,a,b,c,d);};$.g.gD=function(a,b){return"rising-falling"==String(a).toLowerCase()&&this.check($.$G)?b.open<b.close?"triangle-up":"triangle-down":R_.u.gD.call(this,a,b);};$.g.W1=function(a){if(this.check($.$G)){var b=(0,window.isNaN)(a.high)||(0,window.isNaN)(a.low)||(0,window.isNaN)(a.open)||(0,window.isNaN)(a.close);a=": (O: "+T_(this,a.open)+"; H: "+T_(this,a.high)+"; L: "+T_(this,a.low)+"; C: "+T_(this,a.close)+")";}else this.check($.gm)?(b=(0,window.isNaN)(a.high)||(0,window.isNaN)(a.low),a=": (H: "+T_(this,a.high)+"; L: "+T_(this,a.low)+")"):(b=(0,window.isNaN)(a.value),a=": "+T_(this,a.value));return this.name()+(b?"":a);};$.g.MZ=function(a){var b=this.La();b=jpa[b];if(null!==b)return $.n(a)?this:b;b=this.xa.dfa?this.xa.st:!1;return $.n(a)?(a=!!a,$.n(this.st)||(this.st=b),this.st!=a&&(this.st=a,a=this.xa.Sv(this.La())[1],this.Kz(a,!1),this.B(5664,this.pa)),this):$.n(this.st)?this.st:b;};$.g.Kz=function(a,b){var c=$.Sc(a),d=!$.J(this,B1)&&this.MZ();c.Bb|=d&&1048576;c.Ib=d?2:1;R_.u.Kz.call(this,c,b);};$.g.F=function(){return R_.u.F.call(this);};$.g.U=function(a,b){R_.u.U.call(this,a,b);};$.g.R=function(){if(this.ka){var a=this.ka;this.ka=null;Roa(this.WG(),a);}this.P=this.f=null;R_.u.R.call(this);};var N2=R_.prototype;N2.data=N2.data;N2.allowPointSettings=N2.MZ;U_.prototype.getData=function(){return(0,$.Wa)(this.ka||[],function(a){return a.data;});};U_.prototype.$=function(a,b,c,d){var e=(0,window.isNaN)(b)||(0,window.isNaN)(c);if(e){var f=0;var h=this.ka.length;}else f=~$.Na(this.ka,{key:b,index:-1},V_),h=~$.Na(this.ka,{key:c,index:-window.Infinity},V_);var k;if(this.b&&this.b.vJ==d&&this.b.Zea==f&&this.b.Qka==h&&this.b.oja==a.Jb()){var l=this.b.data;var m=this.b.cha;var p=this.b.sj||0;var q=this.b.count||0;}else{l=[];m=[];q=0;if(d){p=window.NaN;c=f;var r=window.NaN,t=window.NaN,u=[];for(a.reset();a.advance()&&c<h;){for(var v;c<h&&(v=this.ka[c]).key<a.f;)u.push(v),c++;if(u.length)if((0,window.isNaN)(r)&&!e)u.length=0;else{l.length||(p=c-u.length);for(k=0;k<u.length;k++)m.push(l.length);l.push({key:r,index:t,items:u,DG:c-u.length});q+=u.length;u=[];}r=a.f;t=a.i();}if(!(0,window.isNaN)(r)||e){for(;c<h;)u.push(v),c++;if(u.length){l.length||(p=c-u.length);for(k=0;k<u.length;k++)m.push(l.length);l.push({key:r,index:t,items:u,DG:c-u.length});q+=u.length;}}a=a.Jb();}else{p=0;e=[];for(a.reset();a.advance();)e[a.i()]=a.f;a.reset();t=v=window.NaN;u=0;var w=window.NaN;b=(0,window.isNaN)(b)?-window.Infinity:b;for(var x=(0,window.isNaN)(c)?window.Infinity:c,y;a.advance();){k=a.f;r=a.i();(0,window.isNaN)(w)&&(w=r);var B=(e[r]-e[t])/2;for(c=0;c<this.ka.length;c++){y=this.ka[c].key<=x&&this.ka[c].key>=b;var G=t==w&&this.ka[c].key<v+B;var D=e[r]+(e[r+1]-e[r])/2;var K=e[r]-(e[r]-e[r-1])/2;D=(0,window.isNaN)(D)?x:D;K=this.ka[c].key<=D&&this.ka[c].key>=K;y&&(G||K)&&(l.push({key:this.ka[c].key,index:K?r:t,items:[this.ka[c]],DG:u}),m.push(u),u++,q++);}v=k;t=r;}if(v==k&&t==w||(0,window.isNaN)(k))for(c=0;c<this.ka.length;c++)if(y=this.ka[c].key<=x&&this.ka[c].key>=b)l.push({key:this.ka[c].key,index:r?r:u,items:[this.ka[c]],DG:u}),m.push(u),u++,q++;a=q;}this.b={Zea:f,Qka:h,data:l,cha:m,sj:p,count:q,oja:a,vJ:d};}return new nla(l,m,p,q);};U_.prototype.f=function(a,b,c){var d=$.ts(b instanceof Date||!$.C(b)?b:b.date,this.j,(0,window.isNaN)(this.i)?null:new Date(this.i),this.D);d&&a.push({index:c,key:+d,data:b,o:{}});return a;};$.g=nla.prototype;$.g.select=function(a){var b;if(b=this.G<=a&&a<this.G+this.K){this.j=a;this.b=this.P[a-this.G];var c=this.ka[this.b];this.D=c.items.length;this.i=a-c.DG;}else this.D=0,this.b=this.ka.length,this.i=0,this.j=window.NaN;return b;};$.g.Gu=function(a){this.select(a);};$.g.current=function(){return this.ka[this.b].items[this.i].data;};$.g.reset=function(){this.j=this.G-1;this.b=-1;this.i=this.D=0;return this;};$.g.advance=function(){++this.i>=this.D&&(this.i=0,this.b++,this.D=this.b<this.ka.length?this.ka[this.b].items.length:0);this.j++;return this.i<this.D;};$.g.Jb=function(){return this.K;};$.g.la=function(){return this.b<this.ka.length?this.j:window.NaN;};$.g.Ch=function(){return this.b<this.ka.length?this.ka[this.b].key:window.NaN;};$.g.get=function(a){var b=this.ka[this.b].items[this.i].data;return $.C(b)?b[a]:void 0;};$.g.jr=function(){};$.g.o=function(a,b){var c=this.ka[this.b].items[this.i].o;return $.n(b)?(c[a]=b,this):c[a];};$.H(a0,$.Y);var O2={};$.wq(O2,[$.Z.YY,$.Z.W7,$.Z.q9,$.Z.e8,$.Z.W9]);$.S(a0,O2);var $_=[["direction",64,1],["position",64,1],["seriesId",64,1],["fieldName",64,1],["stickToLeft",64,1]],P2=$.yq();P2.push.apply(P2,[$.Z.X7,$.Z.aK,$.Z.ZJ,$.Z.r8,$.Z.TB,$.Z.hF,$.Z.m8]);var Y_=P2,kpa={};$.wq(kpa,Y_);var Q2=["connector"],lpa;for(lpa in kpa)Q2.push(lpa);$.Kq(a0,Q2,"normal");var R2={};$.Q(R2,[["type",64,1],["width",64,1],["height",64,1],["fill",64,1],["stroke",64,1],["format",64,1],["fontPadding",64,1],["connector",64,1]]);$.Iq(R2,64,64,1,1);var X_=R2,S2={};$.Q(S2,[["type",0,0],["width",0,0],["height",0,0],["fill",0,0],["stroke",0,0],["format",0,0],["fontPadding",0,0],["connector",0,0]]);$.Iq(S2,0,0,0,0);var Z_=S2;$.g=a0.prototype;$.g.ra=$.Y.prototype.ra|80;$.g.pa=$.Y.prototype.pa|1;$.g.DC=function(){this.B(80,1);};$.g.YG=function(a){var b=this.jf.rj();return a?1==a?b.kb():b.selected():b.Pa();};$.g.data=function(a){if($.n(a)){if($.C(a)&&!$.A(a)){var b=a.dateTimePattern;var c=a.baseDate;var d=a.locale;a=a.data;}$.A(a)||(a=[]);var e=this.mG;e.j=b;e.i=$.ma(c)?c.getTime():$.N(c);e.D=d||null;e.b=null;e.ka=(0,$.Kg)(a,e.f,[]);e.ka.sort(V_);this.B(64,1);return this;}return this.mG.getData();};$.g.Pa=function(a){return $.n(a)?(this.ca.N(a),this):this.ca;};$.g.kb=function(a){return $.n(a)?(this.ya.N(a),this):this.ya;};$.g.selected=function(a){return $.n(a)?(this.Da.N(a),this):this.Da;};$.g.W=function(){if(!this.yc())return this;$.V(this);$.V(this.Ca);this.J(4)&&(this.ga=this.ja(),this.Kx=this.$g?this.$g.Ej(this.ga):this.ga,this.B(64),this.I(4));this.J(16)&&(this.aB.length=0,this.B(64),this.I(16));this.J(64)&&(this.rd=null,this.fm.sv(),this.Ca.clear());if(this.J(2)){var a=this.O();$.WA(this.fm,a);this.I(2);}if(this.J(64)){var b={};a=this.jf.rj();var c=this.$();for(c.reset();c.advance();){if(!c.i){b=W_(c);var d=a.i[b];d||(d=a.i[b]={});b=d;}d=rla(this,b);b[d[0]]=d[1];}this.I(72);}this.J(8)&&this.I(8);this.ca.Tf().I(4294967295);this.Ca.da(!1);this.da(!1);return this;};$.g.remove=function(){this.fm.sv();this.B(64);};$.g.je=function(a,b,c,d,e,f,h,k,l,m){b=this.bh(a,b,!1,!1);var p=a.la();a.o("symbol",b0(b,"format",$.Dq).charAt(0));a=new $.Hw(this.um(a),a);$.rv(a);var q=e,r=h;e={};k&&(r=-r);"flag"==c&&(d+=f/2);"pin"==c?(q+=3*r/5,e.height=Math.abs(4*r/5)):q+=r/2;e.value={x:d,y:q};m?(c=this.Ca.Zd(p),c.Bf(a),c.ic(e)):c=this.Ca.add(a,e,p);c.zIndex(l);l=b0(b,"fontPadding",$.fr);h=e.height||h;f=$.Ga({positionFormatter:$.kp,anchor:"center",rotation:0,width:f-2*$.M(l,f/2),height:h-2*$.M(l,h/2)},b);$.dv(c,f);c.O(this.O());c.W();return c;};$.g.Tg=function(a){var b=a.type;switch(b){case"mouseout":b="eventmarkermouseout";break;case"mouseover":b="eventmarkermouseover";break;case"mousemove":b="eventmarkermousemove";break;case"mousedown":b="eventmarkermousedown";break;case"mouseup":b="eventmarkermouseup";break;case"click":case"touchstart":b="eventmarkerclick";break;case"dblclick":b="eventmarkerdblclick";break;default:return null;}var c;"eventMarkerIndex"in a?c=a.eventMarkerIndex:"labelIndex"in a&&(c=a.labelIndex+this.$().G);a.eventMarkerIndex=c=$.N(c);return{type:b,target:this,group:this,index:c,originalEvent:a,eventMarker:this.fp(c)};};$.g.eh=function(){return!0;};$.g.ht=function(){return!0;};$.g.He=function(a){a=a||this.g("fill")||"#ccc";var b=this.$();return{index:b.la(),sourceColor:a,iterator:b,group:this,chart:this.jf.wc(),plot:this.jf};};$.g.Ah=function(){return null;};$.g.$=function(){this.rd||(this.rd=this.Xf());return this.rd;};$.g.Xf=function(a){var b=b0(this.bh(null,0,!0,!1),"stickToLeft",$.Hq),c=this.jf.wc();a=[b_(c.b,!1,!1,!0),a?window.NaN:c.b.b.Ih,a?window.NaN:c.b.b.Vi];a.push(b);return this.mG.$.apply(this.mG,a);};$.g.Wi=function(){return null;};$.g.bh=function(a,b,c,d,e){c?c=a=null:(c=a.get("normal"),$.n(c)||!d&&!e||(e=d?"connector":e||"",c={},c[e]=a.get(e)),a=b?1==b?a.get("hovered"):a.get("selected"):null);b=Math.min(b,$.Bo);e=2*b+d;d&&($.C(c)&&(c=c.connector),$.C(a)&&(a=a.connector));var f=this.aB[e];if(f)b?(f[0]=a,f[6]=c):f[0]=c;else{var h=this.jf.rj();f=d0(h,$.hm,!0,d);var k=d0(h,$.hm,!1,d),l=d?this.ca.Tf():this.ca;if(b){var m=d0(h,b,!0,d);h=d0(h,b,!1,d);b=b==$.Ao?this.ya:this.Da;b=d?b.Tf():b;f=$.Ga([a],b.Oa,h,[c],l.Oa,d?null:this.Oa,k,b.na,m,l.na,d?null:this.na,f);}else f=$.Ga([c],l.Oa,d?null:this.Oa,k,l.na,d?null:this.na,f);this.aB[e]=f;}return f;};$.g.qc=function(a,b,c,d,e,f,h){b=this.bh(c,b,!!h,e,a);return b0(b,a,d);};$.g.nZ=function(){function a(a,c,d,e,f,h){e/=2;a.moveTo(c,d).lineTo(c-e,d+h,c-e,d+f,c+e,d+f,c+e,d+h).close();}return{circle:function circle(a,c,d,e,f,h){f/=2;a.Ge(c,d+(h?-f:f),e/2,f,0,360);},rect:function rect(b,c,d,e,f,h){h&&(f=-f);a(b,c,d,e,f,0);},pin:function pin(b,c,d,e,f,h){h&&(f=-f);a(b,c,d,e,f,f/4);},flag:function flag(b,c,d,e,f,h){h&&(f=-f);a(b,c+e/2,d,e,f,0);}};}();$.g.PT=function(a){var b,c=this.$();c.select(a)?b=this.um(c):c=null;a=new $.Hw(b,c);$.rv(a);return a;};$.g.um=function(a){var b=this.jf.wc().Um().An();return{date:{value:a.b<a.ka.length?a.ka[a.b].items[a.i].key:window.NaN,type:"date-time"},groupedDate:{value:a.Ch(),type:"date-time"},group:{value:this,type:""},index:{value:a.la(),type:"number"},plot:{value:this.jf,type:""},chart:{value:this.jf.wc(),type:""},title:{value:a.get("title")||"",type:"string"},description:{value:a.get("description")||"",type:"string"},symbol:{value:a.o("symbol"),type:"string"},dataIntervalUnit:{value:b.unit,type:"string"},dataIntervalUnitCount:{value:b.count,type:"number"}};};$.g.fp=function(a){var b=this.Xf(!0);b.select(a)?(a=new $.Hw(this.um(b),b),$.rv(a)):a=null;return a;};$.g.Sa=function(a){this.fb||(this.fb=new $.yw(0),this.fb.df().parent(this.jf.rj().Sa()),this.fb.Oi().position("leftTop"),$.Cw(this.fb,this.jf));return $.n(a)?(this.fb.N(a),this):this.fb;};$.g.F=function(){var a=a0.u.F.call(this);$.Xq(this,O2,a);a.normal=this.ca.F();a.hovered=this.ya.F();a.selected=this.Da.F();a.tooltip=this.Sa().F();a.data=this.mG.getData();return a;};$.g.Je=function(a,b){return $.A(b)?(this.data(b),!0):!1;};$.g.U=function(a,b){a0.u.U.call(this,a,b);$.n(a.data)&&this.data(a.data);this.ca.fa(!!b,a);this.ca.fa(!!b,a.normal);this.ya.fa(!!b,a.hovered);this.Da.fa(!!b,a.selected);this.Sa().fa(!!b,a.tooltip);$.Pq(this,O2,a);};$.g.R=function(){$.ud(this.fm,this.ca,this.ya,this.Da,this.fb,this.Ca);this.ca=this.ya=this.Da=this.fm=this.jf=this.fb=this.Ca=null;a0.u.R.call(this);};var T2=a0.prototype;T2.data=T2.data;T2.tooltip=T2.Sa;T2.getMarker=T2.fp;T2.normal=T2.Pa;T2.hovered=T2.kb;T2.selected=T2.selected;$.H(c0,$.Y);$.S(c0,O2);$.Kq(c0,Q2,"normal");$.g=c0.prototype;$.g.ra=$.Y.prototype.ra|64;$.g.DC=function(){this.B(64,1);};$.g.Pa=function(a){return $.n(a)?(this.ca.N(a),this):this.ca;};$.g.kb=function(a){return $.n(a)?(this.ya.N(a),this):this.ya;};$.g.selected=function(a){return $.n(a)?(this.Da.N(a),this):this.Da;};$.g.group=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;var e=this.b[c];e||(e=new a0(this.f,c),e.jb(this),e.xh=10+.01*this.b.length,this.b[c]=e,$.L(e,this.p4,this),this.B(64,1));$.n(d)&&e.N(d);return e;};$.g.data=function(a){var b=this.group().data(a);return $.n(a)?this:b;};$.g.W=function(){if(!this.yc())return this;this.Na||(this.Na=$.pk(),$.tu(this,this.Na));var a=this.O();if(this.J(4)){this.ga=this.ja();var b=a.Ia();b=b?b.width():this.ga.width;this.Na.clip(new $.I(0,this.ga.top,b,this.ga.height));this.B(64);this.I(4);}if(this.J(64)){this.aB.length=0;this.i={};sla(this);for(b=0;b<this.b.length;b++){var c=this.b[b];$.V(c);c.ja(this.ga);c.O(this.Na);c.B(64);c.W();c.da(!1);}this.ca.Tf().I(4294967295);this.I(64);}this.J(2)&&(this.Na.parent(a),this.I(2));this.J(8)&&(this.Na.zIndex(this.zIndex()),this.I(8));return this;};$.g.p4=function(){this.B(64,1);};$.g.Ht=function(a,b,c,d,e){var f=e?e.clear():this.On.length?this.On.pop():$.rk();$.C(d)&&"keys"in d&&!$.C(d.mode)&&(d=$.Tl(d),d.mode=this.ga);f.stroke(d);f.fill(null);f.zIndex(0);e||(this.Na.gc(f),this.j.push(f));f.moveTo(a,b).lineTo(a,c);return f;};$.g.Eh=function(a){var b,c=$.xo(a.domTarget);$.J(a.target,$.Ru)?(c=a.target.Yi(),$.J(c,a0)&&(b=c)):$.C(c)&&!$.J(c,c0)&&(b=c.group,a.eventMarkerIndex=c.index);b&&!b.ld&&b.enabled()&&(a=b.Tg(a))&&b.dispatchEvent(a);};$.g.Sa=function(a){this.fb||(this.fb=new $.yw(0),this.fb.df().parent(this.f.wc().rj().Sa()));return $.n(a)?(this.fb.N(a),this):this.fb;};$.g.F=function(){var a=c0.u.F.call(this);$.Xq(this,O2,a);a.normal=this.ca.F();a.hovered=this.ya.F();a.selected=this.Da.F();a.tooltip=this.Sa().F();for(var b=[],c=0;c<this.b.length;c++){var d=this.b[c];b.push(d?d.F():null);}a.groups=b;return a;};$.g.U=function(a,b){c0.u.U.call(this,a,b);this.ca.fa(!!b,a);this.ca.fa(!!b,a.normal);this.ya.fa(!!b,a.hovered);this.Da.fa(!!b,a.selected);this.Sa().fa(!!b,a.tooltip);$.Pq(this,O2,a);var c,d;if($.n(c=a.groups)){if($.ud(this.b),this.b.length=0,sla(this),$.A(c))for(d=0;d<c.length;d++){var e=c[d];null!=e&&this.group(d,e);}}else $.n(d=a.data)&&this.data(d);};$.g.R=function(){$.ud(this.b,this.Na,this.ca,this.ya,this.Da,this.fb);delete this.b;this.ca=this.ya=this.Da=this.Na=this.f=this.fb=null;c0.u.R.call(this);};var U2=c0.prototype;U2.group=U2.group;U2.data=U2.data;U2.tooltip=U2.Sa;U2.normal=U2.Pa;U2.hovered=U2.kb;U2.selected=U2.selected;$.H(f0,$.nd);f0.prototype.Vn=function(a,b){a.Rd("value",b.Ke("result"));};f0.prototype.R=function(){for(var a in this.Ra){var b=this.Ra[a];b.X&&this.D.xo(b.X.id());$.pd(b.X);b.QD=!1;$.pd(b.mapping);b.mapping=null;}delete this.Ra;$.pd(this.f);this.f=null;delete this.D;delete this.Zc;delete this.oa;f0.u.R.call(this);};var mpa=f0.prototype;mpa.dispose=mpa.kd;$.g=k0.prototype;$.g.enqueue=function(a){var b=void 0;if(this.oc.length<this.i)this.oc.push(a),this.b++;else{var c=(this.f+this.b)%this.i;this.b<this.i?this.b++:(b=this.oc[c],this.f=(this.f+1)%this.oc.length);this.oc[c]=a;}return b;};$.g.Vda=function(){if(this.b){var a=this.oc[this.f];this.f=(this.f+1)%this.oc.length;this.b--;}return a;};$.g.get=function(a){a=($.$a(+a,this.b)+this.f)%this.oc.length;return(0,window.isNaN)(a)?void 0:this.oc[a];};$.g.Pg=function(){return this.b;};$.g.clear=function(a){this.f=this.b=this.oc.length=0;this.i=$.Jo(a,this.i,!1);};var V2=k0.prototype;$.F("anychart.math.cycledQueue",l0);$.F("anychart.calculations.cycledQueue",l0);V2.enqueue=V2.enqueue;V2.dequeue=V2.Vda;V2.get=V2.get;V2.getLength=V2.Pg;V2.clear=V2.clear;$.F("anychart.math.adl.initContext",m0);$.F("anychart.math.adl.startFunction",n0);$.F("anychart.math.adl.calculate",o0);$.F("anychart.math.adl.calculationFunction",tla);$.F("anychart.math.adl.createComputer",ula);$.H(p0,f0);p0.prototype.Kc=function(a){return ula(a);};p0.prototype.fg=function(){return"ADL";};p0.prototype.X=function(a){return i0(this,"main",a);};var npa=p0.prototype;npa.series=npa.X;$.F("anychart.math.ama.initContext",vla);$.F("anychart.math.ama.startFunction",wla);$.F("anychart.math.ama.calculationFunction",xla);$.F("anychart.math.ama.createComputer",yla);$.H(q0,f0);$.g=q0.prototype;$.g.Kc=function(a){return yla(a,this.i,this.b,this.j);};$.g.fg=function(){return"AMA("+this.i+","+this.b+","+this.j+")";};$.g.X=function(a){return i0(this,"main",a);};$.g.xb=function(a){return $.n(a)?(a=$.Jo(a,this.i,!1),a!=this.i&&(this.i=a,j0(this)),this):this.i;};$.g.Lv=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};$.g.gx=function(a){return $.n(a)?(a=$.Jo(a,this.j,!1),a!=this.j&&(this.j=a,j0(this)),this):this.j;};var W2=q0.prototype;W2.series=W2.X;W2.period=W2.xb;W2.fastPeriod=W2.Lv;W2.slowPeriod=W2.gx;$.F("anychart.math.ema.initContext",r0);$.F("anychart.math.ema.startFunction",s0);$.F("anychart.math.ema.calculate",t0);$.F("anychart.math.ema.calculationFunction",zla);$.F("anychart.math.ema.createComputer",Ala);$.F("anychart.math.sma.initContext",u0);$.F("anychart.math.sma.startFunction",v0);$.F("anychart.math.sma.calculate",w0);$.F("anychart.math.sma.calculationFunction",Bla);$.F("anychart.math.sma.createComputer",Cla);$.F("anychart.math.ao.initContext",Dla);$.F("anychart.math.ao.startFunction",Ela);$.F("anychart.math.ao.calculate",Fla);$.F("anychart.math.ao.calculationFunction",Gla);$.F("anychart.math.ao.createComputer",Hla);$.H(x0,f0);$.g=x0.prototype;$.g.Kc=function(a){return Hla(a,this.b,this.i,this.j);};$.g.fg=function(){return"AO("+this.b+", "+this.i+")";};$.g.X=function(a){return i0(this,"main",a);};$.g.Lv=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};$.g.gx=function(a){return $.n(a)?(a=$.Jo(a,this.i,!1),a!=this.i&&(this.i=a,j0(this)),this):this.i;};$.g.$k=function(a){return $.n(a)?(a=BZ(a,this.j),a!=this.j&&(this.j=a,j0(this)),this):this.j;};var X2=x0.prototype;X2.series=X2.X;X2.fastPeriod=X2.Lv;X2.slowPeriod=X2.gx;X2.maType=X2.$k;$.F("anychart.math.atr.initContext",y0);$.F("anychart.math.atr.startFunction",z0);$.F("anychart.math.atr.calculate",A0);$.F("anychart.math.atr.calculationFunction",Ila);$.F("anychart.math.atr.createComputer",Jla);$.H(B0,f0);B0.prototype.Kc=function(a){return Jla(a,this.b);};B0.prototype.fg=function(){return"ATR("+this.b+")";};B0.prototype.X=function(a){return i0(this,"main",a);};B0.prototype.xb=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};var Y2=B0.prototype;Y2.series=Y2.X;Y2.period=Y2.xb;$.F("anychart.math.aroon.initContext",Kla);$.F("anychart.math.aroon.startFunction",Lla);$.F("anychart.math.aroon.calculationFunction",Mla);$.F("anychart.math.aroon.createComputer",Nla);$.H(C0,f0);$.g=C0.prototype;$.g.Kc=function(a){return Nla(a,this.b);};$.g.fg=function(a){switch(a){case"upAroon":return"Aroon up";case"downAroon":return"Aroon down";case"range":return"Aroon";}return"";};$.g.Vn=function(a,b,c){switch(c){case"upAroon":a.Rd("value",b.Ke("upResult"));break;case"downAroon":a.Rd("value",b.Ke("downResult"));break;case"range":a.Rd("high",b.Ke("upResult")),a.Rd("low",b.Ke("downResult"));}};$.g.ala=function(a){null===i0(this,"upAroon")&&(g0(this,"upAroon",this.j),h0(this));return i0(this,"upAroon",a);};$.g.aea=function(a){null===i0(this,"downAroon")&&(g0(this,"downAroon",this.i),h0(this));return i0(this,"downAroon",a);};$.g.qR=function(a){return i0(this,"range",a);};$.g.xb=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};var Z2=C0.prototype;Z2.period=Z2.xb;Z2.upSeries=Z2.ala;Z2.downSeries=Z2.aea;Z2.rangeSeries=Z2.qR;$.F("anychart.math.bbands.initContext",D0);$.F("anychart.math.bbands.startFunction",E0);$.F("anychart.math.bbands.calculate",F0);$.F("anychart.math.bbands.calculationFunction",Ola);$.F("anychart.math.bbands.createComputer",Pla);$.H(G0,f0);$.g=G0.prototype;$.g.Kc=function(a){return Pla(a,this.i,this.b);};$.g.fg=function(a){switch(a){case"upper":return"BBands U";case"lower":return"BBands L";case"middle":return"BBands M";case"range":return"BBands";}return"";};$.g.Vn=function(a,b,c){switch(c){case"upper":a.Rd("value",b.Ke("upperResult"));break;case"lower":a.Rd("value",b.Ke("lowerResult"));break;case"middle":a.Rd("value",b.Ke("middleResult"));break;case"range":a.Rd("high",b.Ke("upperResult")),a.Rd("low",b.Ke("lowerResult"));}};$.g.Lba=function(a){return i0(this,"upper",a);};$.g.Iba=function(a){return i0(this,"lower",a);};$.g.Jba=function(a){return i0(this,"middle",a);};$.g.Kba=function(a){return i0(this,"range",a);};$.g.xb=function(a){return $.n(a)?(a=$.Jo(a,this.i,!1),a!=this.i&&(this.i=a,j0(this)),this):this.i;};$.g.ho=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),this.b!=a&&(this.b=a,j0(this)),this):this.b;};var $2=G0.prototype;$2.period=$2.xb;$2.deviation=$2.ho;$2.upperSeries=$2.Lba;$2.lowerSeries=$2.Iba;$2.middleSeries=$2.Jba;$2.rangeSeries=$2.Kba;$.F("anychart.math.bbandsB.initContext",Qla);$.F("anychart.math.bbandsB.startFunction",Rla);$.F("anychart.math.bbandsB.calculationFunction",Sla);$.F("anychart.math.bbandsB.createComputer",Tla);$.H(H0,f0);$.g=H0.prototype;$.g.Kc=function(a){return Tla(a,this.i,this.b);};$.g.fg=function(){return"BBands %B("+this.i+","+this.b+")";};$.g.X=function(a){return i0(this,"main",a);};$.g.xb=function(a){return $.n(a)?(a=$.Jo(a,this.i,!1),a!=this.i&&(this.i=a,j0(this)),this):this.i;};$.g.ho=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),this.b!=a&&(this.b=a,j0(this)),this):this.b;};var a3=H0.prototype;a3.period=a3.xb;a3.deviation=a3.ho;a3.series=a3.X;$.F("anychart.math.bbandsWidth.initContext",function(a,b){return D0(a,b);});$.F("anychart.math.bbandsWidth.startFunction",Ula);$.F("anychart.math.bbandsWidth.calculate",Vla);$.F("anychart.math.bbandsWidth.calculationFunction",Wla);$.F("anychart.math.bbandsWidth.createComputer",Xla);$.H(I0,f0);$.g=I0.prototype;$.g.Kc=function(a){return Xla(a,this.i,this.b);};$.g.fg=function(){return"BBands Width("+this.i+","+this.b+")";};$.g.X=function(a){return i0(this,"main",a);};$.g.xb=function(a){return $.n(a)?(a=$.Jo(a,this.i,!1),a!=this.i&&(this.i=a,j0(this)),this):this.i;};$.g.ho=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),this.b!=a&&(this.b=a,j0(this)),this):this.b;};var b3=I0.prototype;b3.period=b3.xb;b3.deviation=b3.ho;b3.series=b3.X;$.F("anychart.math.cci.initContext",Yla);$.F("anychart.math.cci.startFunction",Zla);$.F("anychart.math.cci.calculate",$la);$.F("anychart.math.cci.calculationFunction",ama);$.F("anychart.math.cci.createComputer",bma);$.H(J0,f0);J0.prototype.Kc=function(a){return bma(a,this.b);};J0.prototype.fg=function(){return"CCI("+this.b+")";};J0.prototype.X=function(a){return i0(this,"main",a);};J0.prototype.xb=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};var c3=J0.prototype;c3.series=c3.X;c3.period=c3.xb;$.F("anychart.math.cho.initContext",cma);$.F("anychart.math.cho.startFunction",dma);$.F("anychart.math.cho.calculate",ema);$.F("anychart.math.cho.calculationFunction",fma);$.F("anychart.math.cho.createComputer",gma);$.H(K0,f0);$.g=K0.prototype;$.g.Kc=function(a){return gma(a,this.b,this.i,this.j);};$.g.fg=function(){return"CHO("+this.b+","+this.i+")";};$.g.X=function(a){return i0(this,"main",a);};$.g.Lv=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};$.g.gx=function(a){return $.n(a)?(a=$.Jo(a,this.i,!1),a!=this.i&&(this.i=a,j0(this)),this):this.i;};$.g.$k=function(a){return $.n(a)?(a=BZ(a,this.j),a!=this.j&&(this.j=a,j0(this)),this):this.j;};var d3=K0.prototype;d3.series=d3.X;d3.fastPeriod=d3.Lv;d3.slowPeriod=d3.gx;d3.maType=d3.$k;$.F("anychart.math.cmf.initContext",hma);$.F("anychart.math.cmf.startFunction",ima);$.F("anychart.math.cmf.calculate",jma);$.F("anychart.math.cmf.calculationFunction",kma);$.F("anychart.math.cmf.createComputer",lma);$.H(L0,f0);L0.prototype.Kc=function(a){return lma(a,this.b);};L0.prototype.fg=function(){return"CMF("+this.b+")";};L0.prototype.X=function(a){return i0(this,"main",a);};L0.prototype.xb=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};var e3=L0.prototype;e3.series=e3.X;e3.period=e3.xb;$.F("anychart.math.dmi.initContext",mma);$.F("anychart.math.dmi.startFunction",nma);$.F("anychart.math.dmi.calculate",pma);$.F("anychart.math.dmi.calculationFunction",qma);$.F("anychart.math.dmi.createComputer",rma);$.H(M0,f0);$.g=M0.prototype;$.g.Kc=function(a){return rma(a,this.b,this.i,this.j);};$.g.fg=function(a){switch(a){case"pdi":return"+DI("+this.b+")";case"ndi":return"-DI("+this.b+")";case"adx":return"ADX("+this.i+")";}return"";};$.g.Vn=function(a,b,c){switch(c){case"pdi":a.Rd("value",b.Ke("pdiResult"));break;case"ndi":a.Rd("value",b.Ke("ndiResult"));break;case"adx":a.Rd("value",b.Ke("adxResult"));}};$.g.eja=function(a){return i0(this,"pdi",a);};$.g.Nha=function(a){return i0(this,"ndi",a);};$.g.F$=function(a){return i0(this,"adx",a);};$.g.xb=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};$.g.aC=function(a){return $.n(a)?(a=$.Jo(a,this.i,!1),a!=this.i&&(this.i=a,j0(this)),this):this.i;};$.g.OP=function(a){return $.n(a)?(a=!!a,a!=this.j&&(this.j=a,j0(this)),this):this.j;};var f3=M0.prototype;f3.pdiSeries=f3.eja;f3.ndiSeries=f3.Nha;f3.adxSeries=f3.F$;f3.period=f3.xb;f3.adxPeriod=f3.aC;f3.useWildersSmoothing=f3.OP;$.H(N0,f0);N0.prototype.Kc=function(a){return Ala(a,this.b);};N0.prototype.fg=function(){return"EMA("+this.b+")";};N0.prototype.X=function(a){return i0(this,"main",a);};N0.prototype.xb=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};var g3=N0.prototype;g3.series=g3.X;g3.period=g3.xb;$.F("anychart.math.env.initContext",sma);$.F("anychart.math.env.startFunction",tma);$.F("anychart.math.env.calculate",uma);$.F("anychart.math.env.calculationFunction",vma);$.F("anychart.math.env.createComputer",wma);$.H(O0,f0);$.g=O0.prototype;$.g.Kc=function(a){return wma(a,this.i,this.j,this.b);};$.g.fg=function(a){switch(a){case"upper":return"ENV upper";case"lower":return"ENV lower";}return"";};$.g.Vn=function(a,b,c){switch(c){case"upper":a.Rd("value",b.Ke("upperResult"));break;case"lower":a.Rd("value",b.Ke("lowerResult"));}};$.g.Nba=function(a){return i0(this,"upper",a);};$.g.Mba=function(a){return i0(this,"lower",a);};$.g.xb=function(a){return $.n(a)?(a=$.Jo(a,this.i,!1),a!=this.i&&(this.i=a,j0(this)),this):this.i;};$.g.$k=function(a){return $.n(a)?(a=BZ(a,this.b),a!=this.b&&(this.b=a,j0(this)),this):this.b;};$.g.ho=function(a){return $.n(a)?(a=$.N(a),(0,window.isNaN)(a)||a==this.j||(this.j=a,j0(this)),this):this.j;};var h3=O0.prototype;h3.upperSeries=h3.Nba;h3.lowerSeries=h3.Mba;h3.period=h3.xb;h3.maType=h3.$k;h3.deviation=h3.ho;$.F("anychart.math.ha.initContext",xma);$.F("anychart.math.ha.startFunction",yma);$.F("anychart.math.ha.calculate",zma);$.F("anychart.math.ha.calculationFunction",Ama);$.F("anychart.math.ha.createComputer",Bma);$.H(P0,f0);P0.prototype.Kc=function(a){return Bma(a);};P0.prototype.fg=function(){return"HA";};P0.prototype.Vn=function(a,b){a.Rd("open",b.Ke("haOpen"));a.Rd("high",b.Ke("haHigh"));a.Rd("low",b.Ke("haLow"));a.Rd("close",b.Ke("haClose"));};P0.prototype.X=function(a){return i0(this,"main",a);};var opa=P0.prototype;opa.series=opa.X;var Gma;$.F("anychart.math.ikh.initContext",Cma);$.F("anychart.math.ikh.startFunction",Dma);$.F("anychart.math.ikh.calculate",Ema);$.F("anychart.math.ikh.calculationFunction",Fma);$.F("anychart.math.ikh.createComputer",Hma);$.H(Q0,f0);$.g=Q0.prototype;$.g.Kc=function(a){return Hma(a,this.i,this.b,this.j);};$.g.fg=function(a){switch(a){case"conversion":return"Conversion Line("+this.i+")";case"base":return"Base Line("+this.b+")";case"leading":return"Leading Span("+this.j+")";case"lagging":return"Lagging Span("+this.b+")";}return"";};$.g.Vn=function(a,b,c){switch(c){case"conversion":a.Rd("value",b.Ke("conversionResult"));break;case"base":a.Rd("value",b.Ke("baseResult"));break;case"leading":a.Rd("high",b.Ke("spanAResult"));a.Rd("low",b.Ke("spanBResult"));break;case"lagging":a.Rd("value",b.Ke("laggingResult"));}};$.g.Jda=function(a){return i0(this,"conversion",a);};$.g.gda=function(a){return i0(this,"base",a);};$.g.u3=function(a){return i0(this,"leading",a);};$.g.Xga=function(a){return i0(this,"lagging",a);};$.g.jL=function(a){return $.n(a)?(a=$.Jo(a,this.i,!1),a!=this.i&&(this.i=a,j0(this)),this):this.i;};$.g.PF=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};$.g.HN=function(a){return $.n(a)?(a=$.Jo(a,this.j,!1),a!=this.j&&(this.j=a,j0(this)),this):this.j;};var i3=Q0.prototype;i3.conversionSeries=i3.Jda;i3.baseSeries=i3.gda;i3.leadingSeries=i3.u3;i3.laggingSeries=i3.Xga;i3.conversionPeriod=i3.jL;i3.basePeriod=i3.PF;i3.leadingPeriod=i3.HN;$.F("anychart.math.stochastic.initContext",R0);$.F("anychart.math.stochastic.startFunction",S0);$.F("anychart.math.stochastic.calculate",T0);$.F("anychart.math.stochastic.calculationFunction",Ima);$.F("anychart.math.stochastic.createComputer",Jma);$.F("anychart.math.kdj.initContext",Kma);$.F("anychart.math.kdj.startFunction",Lma);$.F("anychart.math.kdj.calculate",Mma);$.F("anychart.math.kdj.calculationFunction",Nma);$.F("anychart.math.kdj.createComputer",Oma);$.H(U0,f0);$.g=U0.prototype;$.g.Kc=function(a){return Oma(a,this.j,this.b,this.i,this.K,this.G,this.aa,this.P);};$.g.fg=function(a){switch(a){case"kSeries":return"%K("+this.j+(1!=this.b?", "+this.b:"")+")";case"dSeries":return"%D("+this.i+")";case"jSeries":return"%J";}return"";};$.g.Vn=function(a,b,c){switch(c){case"kSeries":a.Rd("value",b.Ke("kResult"));break;case"dSeries":a.Rd("value",b.Ke("dResult"));break;case"jSeries":a.Rd("value",b.Ke("jResult"));}};$.g.Rba=function(a){return i0(this,"kSeries",a);};$.g.Pba=function(a){return i0(this,"dSeries",a);};$.g.Rga=function(a){return i0(this,"jSeries",a);};$.g.KD=function(a){return $.n(a)?(a=$.Jo(a,this.j,!1),a!=this.j&&(this.j=a,j0(this)),this):this.j;};$.g.XH=function(a){return $.n(a)?(a=BZ(a,this.K),a!=this.K&&(this.K=a,j0(this)),this):this.K;};$.g.Qba=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};$.g.kG=function(a){return $.n(a)?(a=BZ(a,this.G),a!=this.G&&(this.G=a,j0(this)),this):this.G;};$.g.Oba=function(a){return $.n(a)?(a=$.Jo(a,this.i,!1),a!=this.i&&(this.i=a,j0(this)),this):this.i;};$.g.GV=function(a){return $.n(a)?(a=$.N(a),(0,window.isNaN)(a)||a==this.aa||(this.aa=a,j0(this)),this):this.aa;};$.g.CS=function(a){return $.n(a)?(a=$.N(a),(0,window.isNaN)(a)||a==this.P||(this.P=a,j0(this)),this):this.P;};var j3=U0.prototype;j3.kPeriod=j3.KD;j3.kMAType=j3.XH;j3.kMAPeriod=j3.Qba;j3.dMAType=j3.kG;j3.dPeriod=j3.Oba;j3.kMultiplier=j3.GV;j3.dMultiplier=j3.CS;j3.kSeries=j3.Rba;j3.dSeries=j3.Pba;j3.jSeries=j3.Rga;$.F("anychart.math.keltnerChannels.initContext",Pma);$.F("anychart.math.keltnerChannels.startFunction",Qma);$.F("anychart.math.keltnerChannels.calculate",Rma);$.F("anychart.math.keltnerChannels.calculationFunction",Sma);$.F("anychart.math.keltnerChannels.createComputer",Tma);$.H(V0,f0);$.g=V0.prototype;$.g.Kc=function(a){return Tma(a,this.b,this.j,this.i,this.G);};$.g.fg=function(a){switch(a){case"ma":return this.i.toUpperCase()+"("+this.b+")";case"range":return"KeltnerChannels";}return"";};$.g.Vn=function(a,b,c){switch(c){case"ma":a.Rd("value",b.Ke("maResult"));break;case"range":a.Rd("high",b.Ke("upperResult")),a.Rd("low",b.Ke("lowerResult"));}};$.g.Sba=function(a){return i0(this,"ma",a);};$.g.u_=function(a){return i0(this,"range",a);};$.g.hI=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};$.g.$k=function(a){return $.n(a)?(a=BZ(a,this.i),a!=this.i&&(this.i=a,j0(this)),this):this.i;};$.g.SN=function(a){return $.n(a)?(a=$.Jo(a,this.G,!1),a!=this.G&&(this.G=a,j0(this)),this):this.G;};$.g.S_=function(a){return $.n(a)?(a=$.Jo(a,this.j,!1),a!=this.j&&(this.j=a,j0(this)),this):this.j;};var k3=V0.prototype;k3.maPeriod=k3.hI;k3.maType=k3.$k;k3.atrPeriod=k3.S_;k3.multiplier=k3.SN;k3.rangeSeries=k3.u_;k3.maSeries=k3.Sba;$.F("anychart.math.macd.initContext",Uma);$.F("anychart.math.macd.startFunction",Vma);$.F("anychart.math.macd.calculate",Wma);$.F("anychart.math.macd.calculationFunction",Xma);$.F("anychart.math.macd.createComputer",Yma);$.H(W0,f0);$.g=W0.prototype;$.g.Kc=function(a){return Yma(a,this.b,this.j,this.i);};$.g.fg=function(a){switch(a){case"macd":return"MACD("+this.b+","+this.j+","+this.i+")";case"signal":return"Signal";case"histogram":return"Histogram";}return"";};$.g.Vn=function(a,b,c){switch(c){case"macd":a.Rd("value",b.Ke("macdResult"));break;case"signal":a.Rd("value",b.Ke("signalResult"));break;case"histogram":a.Rd("value",b.Ke("histogramResult"));}};$.g.fha=function(a){return i0(this,"macd",a);};$.g.Uba=function(a){return i0(this,"signal",a);};$.g.Tba=function(a){return i0(this,"histogram",a);};$.g.Lv=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};$.g.gx=function(a){return $.n(a)?(a=$.Jo(a,this.j,!1),a!=this.j&&(this.j=a,j0(this)),this):this.j;};$.g.dP=function(a){return $.n(a)?(a=$.Jo(a,this.i,!1),a!=this.i&&(this.i=a,j0(this)),this):this.i;};var l3=W0.prototype;l3.macdSeries=l3.fha;l3.signalSeries=l3.Uba;l3.histogramSeries=l3.Tba;l3.fastPeriod=l3.Lv;l3.slowPeriod=l3.gx;l3.signalPeriod=l3.dP;$.F("anychart.math.mfi.initContext",Zma);$.F("anychart.math.mfi.startFunction",$ma);$.F("anychart.math.mfi.calculate",ana);$.F("anychart.math.mfi.calculationFunction",bna);$.F("anychart.math.mfi.createComputer",cna);$.H(X0,f0);X0.prototype.Kc=function(a){return cna(a,this.b);};X0.prototype.fg=function(){return"MFI("+this.b+")";};X0.prototype.X=function(a){return i0(this,"series",a);};X0.prototype.xb=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};var m3=X0.prototype;m3.period=m3.xb;m3.series=m3.X;$.F("anychart.math.mma.initContext",dna);$.F("anychart.math.mma.startFunction",ena);$.F("anychart.math.mma.calculationFunction",fna);$.F("anychart.math.mma.createComputer",gna);$.H(Y0,f0);Y0.prototype.Kc=function(a){return gna(a,this.b);};Y0.prototype.fg=function(){return"MMA("+this.b+")";};Y0.prototype.X=function(a){return i0(this,"main",a);};Y0.prototype.xb=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};var n3=Y0.prototype;n3.series=n3.X;n3.period=n3.xb;$.F("anychart.math.momentum.initContext",hna);$.F("anychart.math.momentum.startFunction",ina);$.F("anychart.math.momentum.calculate",jna);$.F("anychart.math.momentum.calculationFunction",kna);$.F("anychart.math.momentum.createComputer",lna);$.H(Z0,f0);Z0.prototype.Kc=function(a){return lna(a,this.b);};Z0.prototype.fg=function(){return"Momentum("+this.b+")";};Z0.prototype.X=function(a){return i0(this,"series",a);};Z0.prototype.xb=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};var o3=Z0.prototype;o3.period=o3.xb;o3.series=o3.X;$.F("anychart.math.obv.initContext",mna);$.F("anychart.math.obv.startFunction",nna);$.F("anychart.math.obv.calculate",ona);$.F("anychart.math.obv.calculationFunction",pna);$.F("anychart.math.obv.createComputer",qna);$.H($0,f0);$0.prototype.Kc=function(a){return qna(a);};$0.prototype.fg=function(){return"OBV";};$0.prototype.X=function(a){return i0(this,"main",a);};var ppa=$0.prototype;ppa.series=ppa.X;$.F("anychart.math.ppo.initContext",rna);$.F("anychart.math.ppo.startFunction",sna);$.F("anychart.math.ppo.calculate",tna);$.F("anychart.math.ppo.calculationFunction",una);$.F("anychart.math.ppo.createComputer",vna);$.H(a1,f0);$.g=a1.prototype;$.g.Kc=function(a){return vna(a,this.i,this.b,this.j);};$.g.fg=function(a){switch(a){case"ppoSeries":return"PPO("+this.i+","+this.b+","+this.j+")";case"signalSeries":return"Signal";case"histogramSeries":return"PPO Histogram";}return"";};$.g.Vn=function(a,b,c){switch(c){case"ppoSeries":a.Rd("value",b.Ke("ppoResult"));break;case"signalSeries":a.Rd("value",b.Ke("signalResult"));break;case"histogramSeries":a.Rd("value",b.Ke("histogramResult"));}};$.g.pja=function(a){return i0(this,"ppoSeries",a);};$.g.Wba=function(a){return i0(this,"signalSeries",a);};$.g.Vba=function(a){return i0(this,"histogramSeries",a);};$.g.P5=function(a){return $.n(a)?(a=$.Jo(a,this.i,!1),a!=this.i&&(this.i=a,j0(this)),this):this.i;};$.g.z3=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};$.g.R5=function(a){return $.n(a)?(a=$.Jo(a,this.j,!1),a!=this.j&&(this.j=a,j0(this)),this):this.j;};var p3=a1.prototype;p3.ppoSeries=p3.pja;p3.signalSeries=p3.Wba;p3.histogramSeries=p3.Vba;p3.shortPeriod=p3.P5;p3.longPeriod=p3.z3;p3.smoothingPeriod=p3.R5;$.F("anychart.math.psar.initContext",wna);$.F("anychart.math.psar.startFunction",xna);$.F("anychart.math.psar.calculate",Dna);$.F("anychart.math.psar.calculationFunction",Ena);$.F("anychart.math.psar.createComputer",Fna);$.H(b1,f0);$.g=b1.prototype;$.g.Kc=function(a){return Fna(a,this.j,this.i,this.b);};$.g.fg=function(){return"PSAR("+this.j+", "+this.i+", "+this.b+")";};$.g.X=function(a){return i0(this,"series",a);};$.g.v$=function(a){return $.n(a)?(a=$.N(a)||this.b,a!=this.j&&(this.j=a,j0(this)),this):this.j;};$.g.u$=function(a){return $.n(a)?(a=$.N(a)||this.b,a!=this.b&&(this.b=a,j0(this)),this):this.b;};$.g.t$=function(a){return $.n(a)?(a=$.N(a)||this.i,a!=this.i&&(this.i=a,j0(this)),this):this.i;};var q3=b1.prototype;q3.accelerationFactorStart=q3.v$;q3.accelerationFactorMaximum=q3.u$;q3.accelerationFactorIncrement=q3.t$;q3.series=q3.X;$.F("anychart.math.psy.initContext",Gna);$.F("anychart.math.psy.startFunction",Hna);$.F("anychart.math.psy.calculate",Ina);$.F("anychart.math.psy.calculationFunction",Jna);$.F("anychart.math.psy.createComputer",Kna);$.H(c1,f0);c1.prototype.Kc=function(a){return Kna(a,this.b);};c1.prototype.fg=function(){return"PSY("+this.b+")";};c1.prototype.X=function(a){return i0(this,"main",a);};c1.prototype.xb=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};var r3=c1.prototype;r3.series=r3.X;r3.period=r3.xb;$.F("anychart.math.priceChannels.initContext",Lna);$.F("anychart.math.priceChannels.startFunction",Mna);$.F("anychart.math.priceChannels.calculate",Nna);$.F("anychart.math.priceChannels.calculationFunction",Ona);$.F("anychart.math.priceChannels.createComputer",Pna);$.H(d1,f0);$.g=d1.prototype;$.g.Kc=function(a){return Pna(a,this.b);};$.g.fg=function(a){switch(a){case"range":return"PriceChannels";case"middle":return"PriceChannels M";}return"";};$.g.Vn=function(a,b,c){switch(c){case"range":a.Rd("high",b.Ke("upperResult"));a.Rd("low",b.Ke("lowerResult"));break;case"middle":a.Rd("value",b.Ke("middleResult"));}};$.g.Xba=function(a){return i0(this,"middle",a);};$.g.v_=function(a){return i0(this,"range",a);};$.g.xb=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};var s3=d1.prototype;s3.period=s3.xb;s3.middleSeries=s3.Xba;s3.rangeSeries=s3.v_;$.F("anychart.math.rat.initContext",Qna);$.F("anychart.math.rat.startFunction",Rna);$.F("anychart.math.rat.calculate",Sna);$.F("anychart.math.rat.calculationFunction",Tna);$.F("anychart.math.rat.createComputer",Una);$.H(e1,f0);e1.prototype.Kc=function(a){return Una(a,this.b);};e1.prototype.fg=function(){return"RAT";};e1.prototype.X=function(a){return i0(this,"main",a);};e1.prototype.LR=function(a){if($.n(a)){var b=$.ts(a);b=b?b.getTime():0;b!=this.b&&(this.b=b,this.i=a,j0(this));return this;}return this.b?this.i:0;};var t3=e1.prototype;t3.series=t3.X;t3.baseDate=t3.LR;$.F("anychart.math.rci.initContext",Vna);$.F("anychart.math.rci.startFunction",Wna);$.F("anychart.math.rci.calculate",Xna);$.F("anychart.math.rci.calculationFunction",Yna);$.F("anychart.math.rci.createComputer",Zna);$.H(f1,f0);f1.prototype.Kc=function(a){return Zna(a,this.b);};f1.prototype.fg=function(){return"RCI("+this.b+")";};f1.prototype.X=function(a){return i0(this,"main",a);};f1.prototype.xb=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};var u3=f1.prototype;u3.series=u3.X;u3.period=u3.xb;$.F("anychart.math.rsi.initContext",$na);$.F("anychart.math.rsi.startFunction",aoa);$.F("anychart.math.rsi.calculationFunction",boa);$.F("anychart.math.rsi.createComputer",coa);$.H(g1,f0);g1.prototype.Kc=function(a){return coa(a,this.b);};g1.prototype.fg=function(){return"RSI("+this.b+")";};g1.prototype.X=function(a){return i0(this,"main",a);};g1.prototype.xb=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};var v3=g1.prototype;v3.series=v3.X;v3.period=v3.xb;$.F("anychart.math.roc.initContext",doa);$.F("anychart.math.roc.startFunction",eoa);$.F("anychart.math.roc.calculationFunction",foa);$.F("anychart.math.roc.createComputer",goa);$.H(h1,f0);h1.prototype.Kc=function(a){return goa(a,this.b);};h1.prototype.fg=function(){return"RoC("+this.b+")";};h1.prototype.X=function(a){return i0(this,"main",a);};h1.prototype.xb=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};var w3=h1.prototype;w3.series=w3.X;w3.period=w3.xb;$.H(i1,f0);i1.prototype.Kc=function(a){return Cla(a,this.b);};i1.prototype.fg=function(){return"SMA("+this.b+")";};i1.prototype.X=function(a){return i0(this,"main",a);};i1.prototype.xb=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};var x3=i1.prototype;x3.series=x3.X;x3.period=x3.xb;$.H(j1,f0);$.g=j1.prototype;$.g.Kc=function(a){return Jma(a,this.j,this.b,this.i,this.K,this.G);};$.g.fg=function(a){switch(a){case"kSeries":return"%K("+this.j+(1!=this.b?", "+this.b:"")+")";case"dSeries":return"%D("+this.i+")";}return"";};$.g.Vn=function(a,b,c){switch(c){case"kSeries":a.Rd("value",b.Ke("kResult"));break;case"dSeries":a.Rd("value",b.Ke("dResult"));}};$.g.aca=function(a){return i0(this,"kSeries",a);};$.g.Zba=function(a){return i0(this,"dSeries",a);};$.g.KD=function(a){return $.n(a)?(a=$.Jo(a,this.j,!1),a!=this.j&&(this.j=a,j0(this)),this):this.j;};$.g.XH=function(a){return $.n(a)?(a=BZ(a,this.K),a!=this.K&&(this.K=a,j0(this)),this):this.K;};$.g.$ba=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};$.g.kG=function(a){return $.n(a)?(a=BZ(a,this.G),a!=this.G&&(this.G=a,j0(this)),this):this.G;};$.g.Yba=function(a){return $.n(a)?(a=$.Jo(a,this.i,!1),a!=this.i&&(this.i=a,j0(this)),this):this.i;};var y3=j1.prototype;y3.kPeriod=y3.KD;y3.kMAType=y3.XH;y3.kMAPeriod=y3.$ba;y3.dMAType=y3.kG;y3.dPeriod=y3.Yba;y3.kSeries=y3.aca;y3.dSeries=y3.Zba;$.F("anychart.math.trix.initContext",hoa);$.F("anychart.math.trix.startFunction",ioa);$.F("anychart.math.trix.calculate",joa);$.F("anychart.math.trix.calculationFunction",koa);$.F("anychart.math.trix.createComputer",loa);$.H(k1,f0);$.g=k1.prototype;$.g.Kc=function(a){return loa(a,this.b,this.i,this.G,this.j);};$.g.fg=function(a){switch(a){case"trix":return"TRIX("+this.b+")";case"signal":return this.j.toUpperCase()+"("+this.i+")";}return"";};$.g.Vn=function(a,b,c){switch(c){case"trix":a.Rd("value",b.Ke("trix"));break;case"signal":a.Rd("value",b.Ke("signal"));}};$.g.Zka=function(a){return i0(this,"trix",a);};$.g.bca=function(a){return i0(this,"signal",a);};$.g.xb=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};$.g.dP=function(a){return $.n(a)?(a=$.Jo(a,this.i,!1),a!=this.i&&(this.i=a,j0(this)),this):this.i;};$.g.hka=function(a){return $.n(a)?(a=BZ(a,this.j),a!=this.j&&(this.j=a,j0(this)),this):this.j;};$.g.$k=function(a){return $.n(a)?(a=BZ(a,this.G),a!=this.G&&(this.G=a,j0(this)),this):this.G;};var z3=k1.prototype;z3.trixSeries=z3.Zka;z3.signalSeries=z3.bca;z3.period=z3.xb;z3.signalPeriod=z3.dP;z3.signalMaType=z3.hka;z3.maType=z3.$k;$.F("anychart.math.vwap.initContext",moa);$.F("anychart.math.vwap.startFunction",noa);$.F("anychart.math.vwap.calculate",ooa);$.F("anychart.math.vwap.calculationFunction",poa);$.F("anychart.math.vwap.createComputer",qoa);$.H(l1,f0);l1.prototype.Kc=function(a,b){return qoa(a,b);};l1.prototype.fg=function(){return"VWAP";};l1.prototype.Vn=function(a,b){a.Rd("value",b.Ke("vwapValue"));};l1.prototype.X=function(a){return i0(this,"vwapSeries",a);};var qpa=l1.prototype;qpa.series=qpa.X;$.F("anychart.math.volumeMA.initContext",roa);$.F("anychart.math.volumeMA.startFunction",soa);$.F("anychart.math.volumeMA.calculate",toa);$.F("anychart.math.volumeMA.calculationFunction",uoa);$.F("anychart.math.volumeMA.createComputer",voa);$.H(m1,f0);$.g=m1.prototype;$.g.Kc=function(a){return voa(a,this.b,this.i);};$.g.fg=function(a){switch(a){case"volumeSeries":return"Volume";case"maSeries":return this.i.toUpperCase()+"("+this.b+")";}return"";};$.g.Vn=function(a,b,c){switch(c){case"volumeSeries":a.Rd("value",b.Ke("volumeResult"));break;case"maSeries":a.Rd("value",b.Ke("maResult"));}};$.g.kla=function(a){return i0(this,"volumeSeries",a);};$.g.cca=function(a){return i0(this,"maSeries",a);};$.g.hI=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};$.g.$k=function(a){return $.n(a)?(a=BZ(a,this.i),a!=this.i&&(this.i=a,j0(this)),this):this.i;};var A3=m1.prototype;A3.maPeriod=A3.hI;A3.maType=A3.$k;A3.maSeries=A3.cca;A3.volumeSeries=A3.kla;$.F("anychart.math.williamsR.initContext",woa);$.F("anychart.math.williamsR.startFunction",xoa);$.F("anychart.math.williamsR.calculate",yoa);$.F("anychart.math.williamsR.calculationFunction",zoa);$.F("anychart.math.williamsR.createComputer",Aoa);$.H(n1,f0);n1.prototype.Kc=function(a){return Aoa(a,this.b);};n1.prototype.fg=function(){return"Williams %R("+this.b+")";};n1.prototype.X=function(a){return i0(this,"series",a);};n1.prototype.xb=function(a){return $.n(a)?(a=$.Jo(a,this.b,!1),a!=this.b&&(this.b=a,j0(this)),this):this.b;};var B3=n1.prototype;B3.period=B3.xb;B3.series=B3.X;var o1={};o1.adl=p0;o1.ama=q0;o1.ao=x0;o1.aroon=C0;o1.atr=B0;o1.bbands=G0;o1["bbands-b"]=H0;o1["bbands-width"]=I0;o1.cci=J0;o1.cho=K0;o1.cmf=L0;o1.dmi=M0;o1.ema=N0;o1.env=O0;o1.ha=P0;o1.ikh=Q0;o1.kdj=U0;o1["keltner-channels"]=V0;o1.macd=W0;o1.mfi=X0;o1.mma=Y0;o1.momentum=Z0;o1.obv=$0;o1.ppo=a1;o1["price-channels"]=d1;o1.psar=b1;o1.psy=c1;o1.rat=e1;o1.rci=f1;o1.roc=h1;o1.rsi=g1;o1.sma=i1;o1.stochastic=j1;o1.trix=k1;o1.vwap=l1;o1["volume-ma"]=m1;o1["williams-r"]=n1;$.H(r1,$.yu);$.Lz(r1,"plot","dataarea");r1.prototype.pM=window.NaN;r1.prototype.GT=window.NaN;r1.prototype.pa=$.yu.prototype.pa|68;r1.prototype.ra=$.yu.prototype.ra|17301440;var C3={};$.wq(C3,[[0,"pointWidth",$.Do],[0,"maxPointWidth",$.Do],[0,"minPointLength",$.Do],[0,"baseline",$.Fq],[0,"weight",$.Fq]]);$.S(r1,C3);$.g=r1.prototype;$.g.$n=function(){var a=this.Ka("chartElements")||{axes:{},grids:{}};a.series=this.Ra.length;a.axes.x=1;a.axes.y=0;a.grids.x=0;a.grids.y=0;a.grids.xMinor=0;a.grids.yMinor=0;for(var b=Math.max(this.pf.length,this.Yg.length,this.Zg.length,this.ih.length,this.jh.length);b--;)this.pf[b]&&a.axes.y++,this.Yg[b]&&a.grids.x++,this.Zg[b]&&a.grids.y++,this.ih[b]&&a.grids.xMinor++,this.jh[b]&&a.grids.yMinor++;this.Ka("chartElements",a);};$.g.Ka=function(a,b){return $.n(a)?$.n(b)?(this.hn[a.toLowerCase()]=b,this):this.hn[a.toLowerCase()]:this.hn;};$.g.YI=function(){this.hn={};};$.g.Qg=function(a){this.$n();return this.Ka(a);};$.g.pC=function(a,b,c){return this.Ae("area",a,b,c);};$.g.XR=function(a,b,c){return this.Ae("candlestick",a,b,c);};$.g.zC=function(a,b,c){return this.Ae("column",a,b,c);};$.g.FV=function(a,b,c){return this.Ae("jump-line",a,b,c);};$.g.vJ=function(a,b,c){return this.Ae("stick",a,b,c);};$.g.line=function(a,b,c){return this.Ae("line",a,b,c);};$.g.yr=function(a,b,c){return this.Ae("marker",a,b,c);};$.g.BW=function(a,b,c){return this.Ae("ohlc",a,b,c);};$.g.dX=function(a,b,c){return this.Ae("range-area",a,b,c);};$.g.eX=function(a,b,c){return this.Ae("range-column",a,b,c);};$.g.fX=function(a,b,c){return this.Ae("range-spline-area",a,b,c);};$.g.gX=function(a,b,c){return this.Ae("range-step-area",a,b,c);};$.g.YX=function(a,b,c){return this.Ae("spline",a,b,c);};$.g.ZX=function(a,b,c){return this.Ae("spline-area",a,b,c);};$.g.hY=function(a,b,c){return this.Ae("step-area",a,b,c);};$.g.iY=function(a,b,c){return this.Ae("step-line",a,b,c);};$.g.WU=function(a,b,c){return this.Ae("hilo",a,b,c);};$.g.jl=function(a){var b=[],c=this.aq(),d=arguments.length;$.V(this);if(d)for(var e=0;e<d;e++)b.push(this.Ae(c,arguments[e]));else b.push(this.Ae(c,null));this.da(!0);return b;};$.g.qy=function(a){return $.wa(this.Ra,function(b){return b.id()==a;});};$.g.ef=function(a){return this.yi(this.qy(a));};$.g.yi=function(a){return this.Ra[a]||null;};$.g.uj=function(){return this.Ra.length;};$.g.xo=function(a){return this.Pn(this.qy(a));};$.g.Pn=function(a){var b=this.Ra[a];b&&($.Tp++,$.Ca(this.Ra,a,1),$.pd(b),this.B(34944,1),$.Wp());return this;};$.g.Ap=function(){if(this.Ra.length){$.Tp++;var a=this.Ra;this.Ra=[];$.ud(a);this.B(34944,1);$.Wp();}return this;};$.g.Te=function(){return this.Ra;};$.g.hs=function(a){this.Ri||(this.Ri=new $.Mz(),$.W(this,"defaultSeriesSettings",this.Ri));return $.n(a)?(this.Ri.na=a,this):this.Ri;};$.g.sM=function(a){return a.check(32768)?31:30;};$.g.Ae=function(a,b,c,d){var e=this.oa.Sv(a);e?(a=new R_(this.oa,this,a,e[1]),e=(e=this.Ra[this.Ra.length-1])?e.wh()+1:0,this.Ra.push(a),a.wh(e),$.hB(a),a.data(b||null,c,d),a.clip(!0),a.Iq(this.ac().mc(e)),$.lB(a,this.Hf().mc(e)),a.ax(this.ue().mc(e)),a.jb(this),$.L(a,this.dJ,this),this.B(2176,1)):a=null;return a;};Boa(r1);$.g=r1.prototype;$.g.aq=function(a){return $.n(a)?(this.JS=a=AZ(a),this):this.JS;};$.g.wc=function(){return this.oa;};$.g.dA=function(a){if($.n(a))return this.Zp=a,this;this.Zp||(this.Zp=$.Cm("stock.defaultPlotSettings.defaultGridSettings"));return this.Zp;};$.g.eA=function(a){if($.n(a))return this.$p=a,this;this.$p||(this.$p=$.Cm("stock.defaultPlotSettings.defaultMinorGridSettings"));return this.$p;};$.g.R0=function(a){if($.n(a))return this.HS=a,this;this.HS||(this.HS=$.Cm("stock.defaultPlotSettings.defaultPriceIndicatorSettings"));return this.HS;};$.g.Cy=function(){for(var a=this.Ra.length;a--;)this.Ra[a].op()&&this.Ra[a].B(1024);};$.g.Gja=function(a){for(var b=0;b<this.Ra.length;b++){var c=this.Ra[b];c&&c.qE();a||c.B(1024);}};$.g.iB=function(a){for(var b=0;b<this.Ra.length;b++){var c=this.Ra[b];c&&c.qE();}a||this.Cy();};$.g.By=function(a,b){var c,d=1024;a&&(d|=4);for(c=0;c<this.Ra.length;c++)this.Ra[c]&&this.Ra[c].B(d);this.Ml&&this.Ml.B(64);this.oa.D&&this.Kk().GA();for(c=0;c<this.pf.length;c++)if(d=this.pf[c])$.V(d),d.ro(),d.da(!1);var e=$.Ga(this.Yg,this.Zg,this.ih,this.jh);for(c=0;c<e.length;c++)(d=e[c])&&d.B(64);e=$.Ga(this.ng,this.qg,this.sg);for(c=0;c<e.length;c++)(d=e[c])&&d.B(20);d=16;a&&(d|=4);this.lc&&this.lc.B(d);!b&&this.zi&&this.zi.enabled()&&this.zi.B(d);for(c=0;c<this.zu.length;c++)(d=this.zu[c])&&d.B(20);this.B(388992);$.rr(this,"plot","dataarea");};$.g.Yf=function(){u1(this);return this.hi;};$.g.kr=function(){return 32781;};$.g.wv=function(a){this.rn||(this.rn=new $.Nz(),$.W(this,"dataArea",this.rn),$.L(this.rn,this.DS,this));return $.n(a)?(this.rn.N(a),this):this.rn;};$.g.DS=function(a){$.X(a,1)&&$.rr(this,"plot","dataarea",1);};$.g.background=function(a){this.Ga||(this.Ga=new $.Au(),this.Ga.enabled(!1),this.Ga.zIndex(1),$.W(this,"background",this.Ga),this.Ga.Yj(!0),$.L(this.Ga,this.ug,this));return $.n(a)?(this.Ga.N(a),this):this.Ga;};$.g.$f=function(a){this.zi||(this.zi=new $.Yw(),$.L(this.zi,this.Cia,this),this.zi.ua("dragstart",function(){Y1(this.oa);},!1,this),this.zi.ua("dragend",function(){Z1(this.oa);},!1,this),this.zi.jb(this),$.W(this,"legend",this.zi));return $.n(a)?(this.zi.N(a),this):this.zi;};$.g.ab=function(a){if($.n(a)){if(a=$.mt(this.Cc,a,null,3,["Stock plot Y scale","scatter","linear, log"],this.Wu,this)){var b=this.Cc==a;this.Cc=a;this.Cc.da(b);b||(this.By(!1),this.va(1));}return this;}this.Cc||(this.Cc=$.it(),$.L(this.Cc,this.Wu,this));return this.Cc;};$.g.Wu=function(a){for(var b=0,c=0;c<this.Ra.length;c++){var d=this.Ra[c];d&&d.enabled()&&d.ab()==this.Cc&&(b|=d.B(1024));}b&&(b=1,$.X(a,4)&&(b|=4),this.B(128,b));};$.g.jj=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;var e=this.pf[c];e||(e=new $.Uy(),this.pf[c]=e,e.Fa("stock.defaultPlotSettings.defaultYAxisSettings",this.oG),e.jb(this),$.L(e,this.sla,this),this.B(260,1));return $.n(d)?(e.N(d),this):e;};$.g.G4=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;var e=this.zu[c];e||(e=new p_(),e.Fa("stock.defaultPlotSettings.defaultPriceIndicatorSettings",this.R0()),dla(e),this.zu[c]=e,e.zIndex(150),e.K=this,e.jb(this),$.L(e,this.uja,this),this.B(16384,1));return $.n(d)?(e.N(d),this):e;};$.g.Xh=function(a){this.lc||(this.lc=new o_(this.oa),this.lc.jb(this),this.lc.Je(!0,!1),this.lc.zIndex(35),$.W(this,"xAxis",this.lc),$.L(this.lc,this.JY,this),this.B(516,1));return $.n(a)?(this.lc.N(a),this):this.lc;};$.g.NG=function(a){return a?this.pf[a-1]:this.lc;};$.g.sy=function(){return this.lc;};$.g.uy=function(a){return this.pf[a];};$.g.ep=function(a){return a.na.zIndex+.001*(this.Yg.length+this.Zg.length+this.ih.length+this.jh.length);};$.g.hm=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;var e=this.Yg[c];e||(e=new q_(),e.Zj=this,$.oz(e,"vertical"),e.Fa("stock.defaultPlotSettings.defaultGridSettings",this.dA()),e.zIndex(this.ep(e)),this.Yg[c]=e,$.L(e,this.Ny,this),this.B(1024,1));return $.n(d)?(e.N(d),this):e;};$.g.jm=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;var e=this.Zg[c];e||(e=new q_(),e.Zj=this,$.oz(e,"horizontal"),e.Fa("stock.defaultPlotSettings.defaultGridSettings",this.dA()),e.zIndex(this.ep(e)),this.Zg[c]=e,$.L(e,this.Ny,this),this.B(1024,1));return $.n(d)?(e.N(d),this):e;};$.g.Mr=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;var e=this.ih[c];e||(e=new q_(),e.Fa("defaultMinorGridSettings","stock.defaultPlotSettings.defaultMinorGridSettings",this.eA()),e.Zj=this,$.oz(e,"vertical"),e.zIndex(this.ep(e)),this.ih[c]=e,$.L(e,this.Ny,this),this.B(1024,1));return $.n(d)?(e.N(d),this):e;};$.g.Pr=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;var e=this.jh[c];e||(e=new q_(),e.Zj=this,$.oz(e,"horizontal"),e.Fa("defaultMinorGridSettings","stock.defaultPlotSettings.defaultMinorGridSettings",this.eA()),e.zIndex(this.ep(e)),this.jh[c]=e,$.L(e,this.Ny,this),this.B(1024,1));return $.n(d)?(e.N(d),this):e;};$.g.title=function(a){if(!this.ib){this.ib=new $.cw();this.ib.jb(this);var b=this.ib;$.n(!0)&&(b.h3=!0);$.W(this,"title",this.ib);this.ib.Yj(!0);$.L(this.ib,this.$A,this);}return $.n(a)?(this.ib.N(a),this):this.ib;};$.g.$A=function(a){var b=131072,c=0;$.X(a,1)&&(c|=1);$.X(a,8)&&(b|=4,c|=8);this.B(b,c);};$.g.BL=function(a){return $.n(a)?(this.GS=a,this):this.GS||{};};$.g.GL=function(a){return $.n(a)?(this.KS=a,this):this.KS||{};};$.g.CL=function(a){return $.n(a)?(this.IS=a,this):this.IS||{};};$.g.Wm=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;var e=this.ng[c];e||(e=new $.eA(),e.oa=this,e.Fa("stock.defaultPlotSettings.defaultLineMarkerSettings",this.BL()),$.fA(e,"horizontal"),this.ng[c]=e,e.jb(this),s1(this,e),$.L(e,this.Hw,this),this.B(262144,1));return $.n(d)?(e.N(d),this):e;};$.g.en=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;var e=this.qg[c];e||(e=new $.hA(),e.oa=this,e.Fa("stock.defaultPlotSettings.defaultRangeMarkerSettings",this.CL()),$.iA(e,"horizontal"),this.qg[c]=e,e.jb(this),s1(this,e),$.L(e,this.Hw,this),this.B(262144,1));return $.n(d)?(e.N(d),this):e;};$.g.kn=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;var e=this.sg[c];e||(e=new $.kA(),e.oa=this,e.Fa("stock.defaultPlotSettings.defaultTextMarkerSettings",this.GL()),$.bz(e,"horizontal"),this.sg[c]=e,e.jb(this),s1(this,e),$.L(e,this.Hw,this),this.B(262144,1));return $.n(d)?(e.N(d),this):e;};$.g.Hw=function(a){$.X(a,4)&&this.oa.B(32768);this.B(262144,1);};$.g.remove=function(){this.Na&&this.Na.remove();};$.g.W=function(){if(!this.yc())return this;$.V(this);var a=this.Cm().label();var b=this.zj();a.visible()!==b&&this.Na&&(b=this.dispatchEvent({type:"datachanged",chart:this,hasData:!b})&&b);a.visible(b);this.Iv();this.J(2)&&(this.Na.parent(this.O()),this.I(2));this.J(8)&&(this.Na.zIndex(this.zIndex()),this.I(8));if(this.J(4096)){var c=this.ac(),d=this.Hf(),e=this.ue();for(b=0;b<this.Ra.length;b++){var f=this.Ra[b];var h=f.wh();f.Iq(c.mc(h));$.lB(f,d.mc(h));f.ax(e.mc(h));}this.By(!1);this.I(4096);}if(this.J(256))for(b=0;b<this.pf.length;b++)if(f=this.pf[b])$.V(f),f.scale()||f.scale(this.ab()),f.da(!1);this.J(512)&&this.lc&&($.V(this.lc),this.lc.scale(this.oa.Qa()),this.lc.da(!1));u1(this);if(this.J(256)){for(b=0;b<this.pf.length;b++)if(f=this.pf[b])$.V(f),$.$u(f.labels()),$.$u(f.pb()),f.O(this.Na),f.W(),f.da(!1);this.I(256);}this.J(512)&&(this.lc&&($.V(this.lc),this.lc.O(this.Na),this.lc.W(),this.lc.da(!1)),this.I(512));if(this.J(1024)){f=$.Ga(this.Yg,this.Zg,this.ih,this.jh);for(b=0;b<f.length;b++)if(c=f[b])$.V(c),c.scale()||(c.Mb()?c.scale(this.ab()):c.scale(this.oa.Qa())),c.ja(this.hi),c.O(this.Na),c.W(),c.da(!1);this.I(1024);}if(this.J(131072)){if(b=$.Ar(this,"title"))b.Yj(!1),$.V(b),b.O(this.Na),b.W(),b.da(!1);this.I(131072);}if(this.J(262144)){f=$.Ga(this.ng,this.qg,this.sg);for(b=0;b<f.length;b++)if(c=f[b])$.V(c),c.scale()||c.OK(c.Mb()?this.ab():this.oa.Qa()),c.ja(this.hi),c.O(this.Na),c.W(),c.da(!1);this.I(262144);}if(this.J(64)){if(b=$.Ar(this,"background"))b.Yj(!1),$.V(b),b.O(this.Na),b.W(),b.da(!1);this.I(64);}if(this.J(128)){c="direct"==this.ab().ix();for(b=0;b<this.Ra.length;b++)if(f=this.Ra[c?this.Ra.length-b-1:b])$.V(f),f.ja(this.hi),f.O(this.Na),f.W(),f.da(!1);this.iB(!0);this.I(128);}this.J(8192)&&(this.oa.D&&(b=this.Kk(),$.V(b),b.ja(this.hi),b.O(this.Na),b.W(),b.da(!1)),this.I(8192));this.J(65536)&&(b=this.rj(),$.V(b),b.ja(this.hi),b.O(this.Na),b.xh=200,b.W(),b.da(!1),this.I(65536));if(this.J(16384)){for(b=0;b<this.zu.length;b++)if(f=this.zu[b])$.V(f),f.ja(this.hi),f.O(this.Na),f.W(),f.da(!1);this.I(16384);}this.J(16777216)&&(b=this.lh(),$.V(b),b.ja(this.Yf()),b.O(this.Na),b.Xh(this.lc),b.W(),b.da(!1),this.I(16777216));this.J(32768)&&($.V(a),a.O(this.Na),a.ja(this.hi),a.W(),a.da(!1),this.I(32768));$.vr(this,"plot","dataarea")&&(a=this.wv(),$.V(a),a.O()||a.O(this.Na),a.ja(this.hi),a.da(!1),a.W(),$.tr(this,"plot","dataarea"));this.da(!1);a=this.oa;for(f=b=0;f<a.f.length;f++)a.f[f]&&a.f[f].enabled()&&b++;a=1==b?"single":w1(this)?"top":x1(this)?"bottom":"center";this.Sy||(b=this.Sy=new r_(this),b.P!=a&&(b.P=a),this.Sy.Pd(),this.Sy.Ic());b=this.Sy;b.P!=a&&(b.P=a);this.Sy.update();return this;};$.g.mq=function(a){var b=a.y,c=a.S6;a=a.T6;c=this.oa.Qa().Jc(c);c=Ska(this.oa.b.i,c);c=v1(this,c);var d=[];c.sort(function(a,b){return b.series.zIndex()-a.series.zIndex();});for(var e=0;e<c.length;e++){var f=c[e],h=f.point;f=f.series;if(h){var k=h.o("value"),l=h.o("zero"),m=h.o("high"),p=h.o("low");k=(b>=Math.min(k,l)&&b<=Math.max(k,l)||b>=Math.min(m,p)&&b<=Math.max(m,p))&&!f.check(32768)?0:Doa(this,f,h,a).Nf*this.hi.height;d.push({series:f,nearestPointToCursor:{distance:k,index:h.la()}});}}return d;};$.g.hg=function(a){a=r1.u.hg.call(this,a);var b=Eoa(this,a);a.seriesStatus=this.mq(b);return a;};$.g.Iv=function(){this.Na||(this.Na=$.pk(),$.tu(this,this.Na),this.Oj=this.Na.rect(),this.Oj.zIndex(199),this.Oj.fill($.cm),this.Oj.stroke(null),this.vc.De(this,"mousedown",this.tr),this.vc.De(this,"touchstart",this.tr),this.vc.ua(this,"touchstart",this.oga),this.vc.ua(this,"touchend",this.nga),this.vc.ua(this,"mouseover",this.w2),this.vc.ua(this,"mousemove",this.w2),this.vc.ua(this,"mouseout",this.kga),this.vc.ua(this,"mousedown",this.jga));};$.g.tha=function(a){var b=a.ZD;!$.n(this.lf)||"mousedown"!==a.type&&"touchstart"!==a.type||this.lf.kk(b);};$.g.V1=function(a,b,c){b=b||((0,window.isNaN)(this.aN)?m_(this.oa.b):this.aN);var d;return!(0,window.isNaN)(b)&&(d=a)&&($.z(d)&&(d=$.Pu($.Nu.Gd(),d)),$.E(d))?(a=this.oa.Um(),b={value:{value:b,type:"date-time"},rawValue:{value:c,type:"date-time"},hoveredDate:{value:b,type:"date-time"},dataIntervalUnit:{value:a.An().unit,type:"string"},dataIntervalUnitCount:{value:a.An().count,type:"number"},isGrouped:{value:a.FD(),type:""}},b=$.rv(new $.Hw(b)),d.call(b,b)):null;};$.g.Cia=function(a){var b=0,c=1;$.X(a,1)&&(b|=2048);$.X(a,8)&&(b|=4,c|=8);this.B(b,c);};$.g.Kl=function(a,b){for(var c=[],d=0;d<this.Ra.length;d++){var e=this.Ra[d];if(e){var f=e.hD(b);f.sourceUid=$.oa(this);f.sourceKey=e.id();c.push(f);}}return c;};$.g.Js=function(a){return"default"==a;};$.g.wr=function(a){a=a.Ii();if(a=this.ef(a))a.enabled(!a.enabled()),a.enabled()?a.Xk():a.Kd();};$.g.uq=function(a){var b=a.Ii();(!a||null!=b||(0,window.isNaN)(b))&&(a=this.ef(b))&&a.Xk();};$.g.tq=function(a){var b=a.Ii();(!a||null!=b||(0,window.isNaN)(b))&&(a=this.ef(b))&&a.Kd();};$.g.DI=function(){return!0;};$.g.po=function(a,b,c,d,e,f){if(this.Na&&this.hi&&this.enabled()){var h="sticky"==this.lh().g("displayMode"),k=h?a:b,l=this.oa.Qa().transform(k),m=$.cc(this.lh().g("yStroke")),p=this.hi.left+l*this.hi.width;p=$.O(p,m);h&&e&&(d=e.pointYRatio,e=$.ak(this.O().Ia()),d=d*this.hi.height+this.hi.top+e.y);e=this.lh();h=this.SH;$.n(h)&&(e.KY=h);e=this.lh();h=this.SH;m=c!=this;c=d;e.enabled()&&(m?e.UU():$.n(c)&&(d=$.ak(e.O().Ia()),c-=d.y,d=$.pA(e),e.It(d,!1,p,c)),e.Xx(e.lc,!0,p,c||0),d=$.oA(e),e.It(d,!0,p,c||0,l,h));for(l=0;l<this.Ra.length;l++)if(c=this.Ra[l])mla(c),c.po(k,a);this.zi&&this.zi.enabled()&&(k=Goa(this.oa.Qa(),k),t1(this,null,a,b,k));this.va(64);f&&this.Sy.show();}};$.g.tY=function(){if(this.enabled()){this.aN=window.NaN;for(var a=0;a<this.Ra.length;a++){var b=this.Ra[a];b&&mla(b);}this.lh().Ic();this.zi&&this.zi.enabled()&&t1(this,null,m_(this.oa.b));this.va(64);this.Sy.Ic();}};$.g.kE=function(){this.lf&&this.lf.hp&&this.lf.kE();this.uz&&this.oa.kE(this.uz.anchor);};$.g.tr=function(a){a=a.ZD.Be;this.lf=new A1(this,this.Oj);this.lf.kk(a);};$.g.oga=function(a){var b=a.Be,c=a.Be.Be.Be.touches;if(c&&1<c.length&&(this.lf.by(b),2==c.length)){b=[];for(var d={},e=0;2>e;e++){var f=c[e];b[e+e]=void 0!==f.clientX?f.clientX:f.pageX;b[e+e+1]=void 0!==f.clientY?f.clientY:f.pageY;d[f.identifier]=!0;}this.uz={anchor:this.oa.SG(),x:(b[0]+b[2])/2,y:(b[1]+b[3])/2,Nf:$.kn.apply(null,b),zga:d};$.Ld($.Pp,"touchmove",this.A2,{capture:!0,passive:!1},this);a.preventDefault();}};$.g.A2=function(a){var b=a.Be.Be.Be.touches;if(this.uz&&b&&1<b.length){for(var c=[],d=0;d<b.length;d++){var e=b[d];e.identifier in this.uz.zga&&(c[d+d]=void 0!==e.clientX?e.clientX:e.pageX,c[d+d+1]=void 0!==e.clientY?e.clientY:e.pageY);}b=(c[0]+c[2])/2;d=$.kn.apply(null,c);this.bQ={anchor:this.uz.anchor,x:b,y:(c[1]+c[3])/2,Nf:d,ko:(b-this.uz.x)/this.hi.width,Nda:d/this.uz.Nf};$.n(this.U6)||(this.U6=$.ll.requestAnimationFrame(this.xla));a.preventDefault();}};$.g.nga=function(a){var b=a.Be.Be.Be.touches;1==b.length&&($.Zd($.Pp,"touchmove",this.A2,{capture:!0,passive:!1},this),b=b[0],a=new $.Ad(a.Be.Be),a.clientX=void 0!==b.clientX?b.clientX:b.pageX,a.clientY=void 0!==b.clientY?b.clientY:b.pageY,a.screenX=b.screenX||0,a.screenY=b.screenY||0,this.uz=null,this.lf.kk(a));};$.g.w2=function(a){var b=this.Mf&&this.Mf.aa;if(this.hi&&!b){var c=$.ak(this.O().Ia());b=a.clientX-c.x-this.hi.left;c=a.clientY-c.y-this.hi.top;0<=b&&b<=this.hi.width&&0<=c&&c<=this.hi.height&&(a=Eoa(this,a),this.pM=a.S6,this.GT=a.T6,this.Wea=a.x,this.Xea=a.y,a=this.lh(),b=this.SH,$.n(b)&&(a.KY=b),$.n(this.Qj)||(this.Qj=$.ll.requestAnimationFrame(this.ns)));}};$.g.kga=function(){this.GT=this.pM=window.NaN;$.n(this.Qj)||(this.Qj=$.ll.requestAnimationFrame(this.ns));};$.g.jga=function(){this.oa.D&&this.Kk().he();};$.g.QH=function(){return this.Y2;};$.g.X3=function(){var a=Moa(this.oa,this);Noa(this.oa,this,a);return this;};$.g.W3=function(){a:{var a=this.oa;for(var b=(0,$.za)(a.f,this)+1;b<a.f.length;b++){var c=a.f[b];if(c&&c.enabled()){a=c;break a;}}a=null;}Noa(this.oa,this,a);return this;};$.g.y6=function(){var a=this.oa,b=!this.QH();$.n(b)&&(this.Y2=b);$.V(a);for(var c=0;c<a.f.length;c++){var d=a.f[c];d!==this&&d.enabled(!b);}a.da(!0);return this;};$.g.lh=function(a){this.Uf||(this.Uf=new $.nA(),this.Uf.Ul=this,$.W(this,"crosshair",this.Uf),$.L(this.Uf,this.ZA,this),this.B(16777216,1));return $.n(a)?(this.Uf.N(a),this):this.Uf;};$.g.ZA=function(){this.B(16777216,1);};$.g.Kk=function(a){this.oa.D?this.Mf||(this.Mf=new this.oa.D.PlotController(this.oa.Kk(),this),$.L(this.Mf,this.PQ,this),this.Mf.jb(this),this.Mf.N(this.na.annotations)):$.il(4,null,["Annotations"]);return $.n(a)?(this.Mf&&this.Mf.N(a),this):this.Mf||null;};$.g.rj=function(a){this.Ml||(this.Ml=new c0(this,this.oa.rj()),$.L(this.Ml,this.Jea,this),this.Ml.jb(this.oa.rj()));return $.n(a)?(this.Ml.N(a),this):this.Ml;};$.g.Jea=function(){this.B(65536,1);};$.g.PQ=function(){this.B(8192,1);};$.g.ug=function(){this.B(64,1);};$.g.dJ=function(a){var b=1,c=128;$.X(a,64)&&(c|=2048);$.X(a,4)&&(b|=4);this.B(c,b);};$.g.sla=function(a){var b=256;$.X(a,8)&&(b|=4);this.B(b,1);};$.g.uja=function(){this.B(16384,1);};$.g.JY=function(a){var b=512;$.X(a,8)&&(b|=4);this.B(b,1);};$.g.Ny=function(){this.B(1024,1);};$.g.ac=function(a){if($.J(a,$.Ps))return this.Ec($.Ps,a),this;if($.J(a,$.Ms))return this.Ec($.Ms,a),this;$.C(a)&&"range"==a.type?this.Ec($.Ps):($.C(a)||null==this.Ea)&&this.Ec($.Ms);return $.n(a)?(this.Ea.N(a),this):this.Ea;};$.g.Hf=function(a){this.Ie||(this.Ie=new $.Os(),$.W(this,"markerPalette",this.Ie),$.L(this.Ie,this.Jf,this));return $.n(a)?(this.Ie.N(a),this):this.Ie;};$.g.ue=function(a){this.ed||(this.ed=new $.Ns(),$.W(this,"hatchFillPalette",this.ed),$.L(this.ed,this.Jf,this));return $.n(a)?(this.ed.N(a),this):this.ed;};$.g.Ec=function(a,b){if($.J(this.Ea,a))b&&this.Ea.N(b);else{var c=!!this.Ea;$.pd(this.Ea);this.Ea=new a();b&&this.Ea.N(b);$.L(this.Ea,this.Jf,this);c&&this.B(4608,1);}};$.g.Jf=function(a){$.X(a,2)&&this.B(4096,1);};$.g.lL=function(){return new $.Av();};$.g.xW=function(a){$.X(a,1)&&this.B(32768,1);};$.g.Cm=function(a){this.Bq||(this.Bq=new $.sv(this),$.L(this.Bq,this.xW,this));return $.n(a)?(this.Bq.N(a),this):this.Bq;};$.g.tN=function(a){var b=a.ka;b=b?b.f.Jb():0;return!(!a.enabled()||!b);};$.g.zj=function(){for(var a=0,b=this.Ra.length,c=0;c<b&&!this.tN(this.Ra[c]);c++)a++;return a==b;};$.g.R=function(){$.ud(this.Mf,this.ib,this.Ml,this.Ga,this.lc,this.pf,this.Bq,this.Na,this.Uf,this.Ri,this.Zp,this.$p,this.oG,this.zi,this.Yg,this.Zg,this.ih,this.jh,this.Ra,this.rn,this.zD,this.zu,this.ng,this.qg,this.sg,this.Ea,this.Ie,this.ed);this.ed=this.Ie=this.Ea=this.rn=this.zi=this.oG=this.$p=this.Zp=this.Ri=this.Uf=this.Na=this.Bq=this.lc=this.Ga=this.Ml=this.ib=this.Mf=null;this.zD.length=0;this.Ra.length=0;this.pf.length=0;this.Yg.length=0;this.Zg.length=0;this.ih.length=0;this.jh.length=0;this.ng.length=0;this.qg.length=0;this.sg.length=0;this.zu.length=0;r1.u.R.call(this);var a=this.oa;$.Fa(a.f,this)&&a.B(4100,9);delete this.oa;};$.g.F=function(){var a=r1.u.F.call(this),b={},c=[],d=[],e,f;$.Xq(this,C3,a);b[$.oa(this.ab())]=this.ab().F();c.push(b[$.oa(this.ab())]);a.yScale=c.length-1;a.defaultSeriesType=this.aq();a.background=this.background().F();a.title=this.title().F();a.noDataLabel=this.Cm().label().F();a.dataArea=this.wv().F();d.push($.oa(this.Xh()));a.xAxis=this.Xh().F();a.palette=this.ac().F();a.markerPalette=this.Hf().F();a.hatchFillPalette=this.ue().F();a.crosshair=this.lh().F();var h=[];for(f=0;f<this.pf.length;f++){var k=this.pf[f];var l=k.F();if(e=k.scale()){var m=$.oa(e);b[m]?l.scale=(0,$.za)(c,b[m]):(b[m]=e.F(),c.push(b[m]),l.scale=c.length-1);}d.push($.oa(k));h.push(l);}h.length&&(a.yAxes=h);l=[];for(f=0;f<this.zu.length;f++)(e=this.zu[f])&&(l[f]=e.F());l.length&&(a.priceIndicators=l);y1("xGrids",this.Yg,a,c,b,d);y1("yGrids",this.Zg,a,c,b,d);y1("xMinorGrids",this.ih,a,c,b,d);y1("yMinorGrids",this.jh,a,c,b,d);d=[];for(f=0;f<this.Ra.length;f++){e=this.Ra[f];l=e.F();if(e=e.ab())m=$.oa(e),b[m]?l.yScale=(0,$.za)(c,b[m]):(b[m]=e.F(),c.push(b[m]),l.yScale=c.length-1);d.push(l);}d.length&&(a.series=d);c.length&&(a.scales=c);return a;};$.g.U=function(a,b){r1.u.U.call(this,a,b);$.Pq(this,C3,a,b);"defaultGridSettings"in a&&this.dA(a.defaultGridSettings);"defaultPriceIndicatorSettings"in a&&this.R0(a.defaultPriceIndicatorSettings);"defaultLineMarkerSettings"in a&&this.BL(a.defaultLineMarkerSettings);"defaultRangeMarkerSettings"in a&&this.CL(a.defaultRangeMarkerSettings);"defaultTextMarkerSettings"in a&&this.GL(a.defaultTextMarkerSettings);"defaultMinorGridSettings"in a&&this.eA(a.defaultMinorGridSettings);"defaultYAxisSettings"in a&&(this.oG=a.defaultYAxisSettings);"defaultSeriesSettings"in a&&this.hs(a.defaultSeriesSettings);this.Hg(b,a);this.wv(a.dataArea);this.aq(a.defaultSeriesType);this.ac(a.palette);this.Hf(a.markerPalette);this.ue(a.hatchFillPalette);this.Cm().label(a.noDataLabel);this.background(a.background);"title"in a&&this.title().fa(!!b,a.title);this.$f(a.legend);var c,d,e=a.priceIndicators;if($.A(e))for(c=0;c<e.length;c++)(d=e[c])&&this.G4(c,d);this.oa.D&&this.Kk(a.annotations);"crosshair"in a&&this.lh(a.crosshair);this.em(a.xGrids,this.hm);this.em(a.yGrids,this.jm);this.em(a.xMinorGrids,this.Mr);this.em(a.yMinorGrids,this.Pr);e=a.series;if($.A(e))for(c=0;c<e.length;c++){d=e[c];var f=(d.seriesType||this.aq()).toLowerCase();if(f=this.Ae(f,d.data))f.N(d),$.C(d)&&"yScale"in d&&1<d.yScale&&f.ab(this.Zw[d.yScale]);}};$.g.CE=function(a){var b,c,d=$.Tl(this.uf("scales"));if(a&&a.scales){for(c=0;c<d.length;c++)a.scales[c]&&$.ra(d[c],a.scales[c]);a.scales.length>d.length&&(d=$.Ga(d,$.Ja(a.scales,d.length)));}var e={};if($.A(d))for(b=0;b<d.length;b++){var f=d[b];$.z(f)&&(f={type:f});c=EZ(f.type,!1);c.N(f);e[b]=c;}else if($.C(d))for(b in d)d.hasOwnProperty(b)&&(f=d[b],$.z(f)&&(f={type:f}),c=EZ(f.type,!1),c.N(f),e[b]=c);f=$.Tl(this.uf("yScale"));a&&$.n(a.yScale)&&("object"==$.ka(a.yScale)&&"object"==$.ka(f)?$.ra(f,a.yScale):f=a.yScale);$.ea(f)?c=e[f]:$.z(f)?(c=EZ(f,!0))||(c=e[f]):$.C(f)?(c=EZ(f.type,!1),c.N(f)):c=null;c&&this.ab(c);this.Zw=e;};$.g.Hg=function(a,b){this.CE(b);this.Xh();this.em((b||this.na).yAxes,this.jj);};$.g.em=function(a,b,c){if($.A(a))for(var d=0;d<a.length;d++){var e=a[d],f=b.call(this,d);$.Nc(e)||(c?f.N(e):f.Fa(e),e=$.C(e)&&"scale"in e?e.scale:f.uf("scale"),0<e&&f.scale(this.Zw[e]));}};$.H(A1,$.cg);$.g=A1.prototype;$.g.Cba=function(){var a=this.b.oa,b=!a.eN()&&!!a.Yc().g("allowPlotDrag")&&W1(a,"selectedrangechangestart","plot-drag");b&&(a.fc=!0,Y1(a),$.wf(window.document.body,"cursor","ew-resize"));return b;};$.g.Bba=function(){$.n(this.Qj)&&($.ll.cancelAnimationFrame(this.Qj),this.ns(0));var a=this.b.oa;a.fc=!1;$.wf(window.document.body,"cursor","");W1(a,"selectedrangechangefinish","plot-drag");Z1(a);};$.g.hda=function(a){return!!z1(this.b.oa,a.left/this.b.hi.width,this.i);};$.g.kE=function(){this.b.oa.kE(this.i);};$.g.Yq=function(){this.i=this.b.oa.SG();this.deltaY=this.deltaX=0;};$.g.gs=function(a){this.ea=a/this.b.hi.width;this.ba=this.i;$.n(this.Qj)||(this.Qj=$.ll.requestAnimationFrame(this.ns));};$.g.OA=function(a){var b=this.b.hi.width;return Voa(this.b.oa,a/b,this.i)*b;};$.g.uw=function(){return 0;};var D3=r1.prototype;D3.crosshair=D3.lh;D3.background=D3.background;D3.title=D3.title;D3.legend=D3.$f;D3.area=D3.pC;D3.candlestick=D3.XR;D3.column=D3.zC;D3.jumpLine=D3.FV;D3.stick=D3.vJ;D3.line=D3.line;D3.marker=D3.yr;D3.ohlc=D3.BW;D3.rangeArea=D3.dX;D3.rangeColumn=D3.eX;D3.rangeSplineArea=D3.fX;D3.rangeStepArea=D3.gX;D3.spline=D3.YX;D3.splineArea=D3.ZX;D3.stepArea=D3.hY;D3.stepLine=D3.iY;D3.hilo=D3.WU;D3.getSeries=D3.ef;D3.yScale=D3.ab;D3.yAxis=D3.jj;D3.xAxis=D3.Xh;D3.xGrid=D3.hm;D3.yGrid=D3.jm;D3.xMinorGrid=D3.Mr;D3.yMinorGrid=D3.Pr;D3.defaultSeriesType=D3.aq;D3.addSeries=D3.jl;D3.getSeriesAt=D3.yi;D3.getSeriesCount=D3.uj;D3.removeSeries=D3.xo;D3.removeSeriesAt=D3.Pn;D3.removeAllSeries=D3.Ap;D3.palette=D3.ac;D3.markerPalette=D3.Hf;D3.hatchFillPalette=D3.ue;D3.annotations=D3.Kk;D3.eventMarkers=D3.rj;D3.priceIndicator=D3.G4;D3.lineMarker=D3.Wm;D3.rangeMarker=D3.en;D3.textMarker=D3.kn;D3.noData=D3.Cm;D3.getStat=D3.Qg;D3.dataArea=D3.wv;D3.moveUp=D3.X3;D3.moveDown=D3.W3;D3.toggleExpandedState=D3.y6;D3.isExpanded=D3.QH;$.H(B1,R_);$.g=B1.prototype;$.g.Kz=function(a,b){if(null===a.Nb||a.Bb&4)throw Error("Wrong config for scroller series");$.pd(this.i);$.pd(this.j);this.i=new $.WG[a.Db](this);this.j=new(2==a.Ib?$.aB:$.bB)(this,a.Nb,!!(a.Bb&524288),"secondaryShapes",a.Hb);B1.u.Kz.call(this,a,b);};$.g.U4=function(){e_(this.WG().b,this.ka,!1);};$.g.FM=function(){return null;};$.g.EM=function(){return null;};$.g.WG=function(){return this.xa.wc();};$.g.Xf=function(){return c_(this.ka,!0,!0);};$.g.pr=function(){return $.hm;};$.g.remove=function(){this.b&&this.b.remove();B1.u.remove.call(this);};$.g.Dd=function(){B1.u.Dd.call(this);this.i.Dd(this.j);};$.g.un=function(a,b){B1.u.un.call(this,a,b);this.i.un(a,b);};$.g.Nl=function(){B1.u.Nl.call(this);this.i.Nl();};$.g.WW=function(){B1.u.WW.call(this);this.b||(this.b=$.pk());this.b.zIndex(this.zIndex());this.b.parent(this.ea);this.J(1024)&&this.j.sv();$.WA(this.j,this.b);};$.g.nC=function(){var a=this.zIndex();this.za.zIndex(a);this.b.zIndex(a);};$.g.R=function(){this.remove();$.ud(this.i,this.j);this.j=this.i=null;B1.u.R.call(this);};C1.prototype.N=function(a){this.wb=[];this.f=[];(0,$.Re)(a,function(a){$.ea(a)?this.f.push(a):$.C(a)&&(a.Ysa?this.wb:this.f).push($.N(a.value));},this);this.b=$.Ga(this.wb,this.f);$.Ka(this.b);$.Pa(this.b);};C1.prototype.reset=function(){this.i=-1;};C1.prototype.advance=function(){this.i++;this.current=this.b[this.i];this.j=$.Aa(this.f,this.current);this.K=$.Aa(this.wb,this.current);return!!this.current;};C1.prototype.ea=function(){return this.b.slice();};D1.prototype.N=function(a,b,c,d,e){this.start=a;this.P=e;this.end=b;this.D=c;this.G=d;this.ba=this.aa=null;this.reset();};D1.prototype.reset=function(){var a=$.Yo(this.start,this.D,this.P),b=$.Yo(this.start,this.G,this.P);this.b=new $.Tn(new Date(a));this.f=window.NaN;this.b.getTime()<this.start&&(this.f=this.b.getTime(),this.f>this.end&&(this.f=window.NaN),this.b.add(this.D));for(this.i=new $.Tn(new Date(b));this.i.getTime()<this.start;)this.i.add(this.G);};D1.prototype.advance=function(){var a=this.b.getTime(),b=this.i.getTime();this.current=Math.min(a,b);this.j=a==this.current;this.K=b==this.current;if(a=this.current<=this.end)this.j&&this.b.add(this.D),this.K&&this.i.add(this.G);return a;};D1.prototype.ea=function(a){if(a){if(this.aa)return this.aa;}else if(this.ba)return this.ba;var b=[];for(this.reset();this.advance();)(a&&this.j||!a&&this.K)&&b.push(this.current);a?this.aa=b:this.ba=b;return b;};$.H(F1,$.U);$.g=F1.prototype;$.g.pa=784;$.g.La=function(){return"stock-scatter-date-time";};$.g.Zm=function(a){return $.n(a)?(a=$.Jo(a,1E3,!1),this.bl!=a&&(this.bl=a,this.Mc=!1,this.va(512)),this):this.bl;};$.g.Mka=function(a){return $.n(a)?(a=$.Jo(a,this.K,!1),this.K!=a&&(this.K=a,this.Mc=!1,this.va(512)),this):this.K;};$.g.Ns=function(a){return $.n(a)&&(a=E1(this,a),!$.Rc(this.Ba,a))?(this.Ba=a,this.va(16),this):this.Ba;};$.g.Ls=function(a){return $.n(a)&&(a=E1(this,a),!$.Rc(this.ma,a))?(this.ma=a,this.va(16),this):this.ma;};$.g.S1=function(){return this.ea;};$.g.R1=function(){return this.ba;};$.g.$T=function(){return this.Mn;};$.g.ZT=function(){return this.sp;};$.g.xk=function(a){return(0,window.isNaN)($.Xk(a));};$.g.transform=function(a){return this.Gr(a,window.NaN);};$.g.Jc=function(a){return Math.round(a*(this.sp-this.Mn)+this.Mn);};$.g.Nx=function(){return!1;};$.g.Dn=function(){this.nb();return this.f?this.j:this.P;};$.g.nb=function(){if(!this.Mc){this.n1();if(this.sp<=this.i||this.Mn>=this.aa){var a=this.Mn;var b=this.sp;}else a=$.Za(this.Mn,this.i,this.aa),b=$.Za(this.sp,this.i,this.aa);var c=.25*(this.zw-this.Ms+1),d=[];$.Gc(this.Vm,function(a){a.count>c&&d.push(a);});var e=(0,$.Kg)(d,function(a,b){var c=$.xp(a.Bg,1),d=$.xp(b.Bg,1);if(c>=d){var e=a;var f=b;var h=c;c=d;}else e=b,f=a,h=d;return 60<h/c?e:f;},d[0]);if(e){var f=e.we;var h=$.xp(e.Bg,1);$.Gc(this.Vm,function(a){a!=e&&(f+=a.count*h);});}else f=Math.abs(b-a);for(var k=Math.abs(f)/this.K,l=this.gd.length-1,m,p=0;p<l;p++)if(k<=this.gd[p].we){m=this.gd[p];break;}m||(m=this.gd[l]);this.f?(a={fullMin:this.i,fullMax:this.aa,min:a,max:b,ticksCount:this.K,scale:this},a=this.f.call(a,a),this.j.N(a)):this.P.N(a,b,$.$o(m.jI,m.iI),$.$o(m.zI,m.yI),this.i);this.hha=m.jI;this.gha=m.iI;this.Fha=m.zI;this.Eha=m.yI;this.Mc=!0;}};$.g.n1=function(){this.P||(this.P=new D1());!this.j&&this.f&&(this.j=new C1());};$.g.Gr=function(a){return($.Xk(a)-this.Mn)/(this.sp-this.Mn);};$.g.EP=function(a){return this.transform(a);};$.g.ji=function(a){$.X(a,2)&&(this.Mc=!1,this.va(512));};$.g.Wa=function(a){if($.n(a)){if($.E(a))this.f=a,this.Mc=!1,this.va(512);else{a=Ioa(a);for(var b=a.length,c=b&&b==this.gd.length,d=0;c&&d<b;d++){c=a[d];var e=this.gd[d];c=c.we==e.we&&c.zI==e.zI&&c.yI==e.yI&&c.jI==e.jI&&c.iI==e.iI;}c||(this.gd=a,this.f=null,this.Mc=!1,this.va(512));}return this;}return this.f?this.f:(0,$.Wa)(this.gd,function(a){return{minor:{unit:a.zI,count:a.yI},major:{unit:a.jI,count:a.iI}};});};$.g.wi=function(a){return this.b.wi(a);};$.g.Of=function(a){return this.b.Of(a);};var Foa=[{minor:{unit:"millisecond",count:1},major:{unit:"millisecond",count:5}},{minor:{unit:"millisecond",count:5},major:{unit:"millisecond",count:20}},{minor:{unit:"millisecond",count:20},major:{unit:"millisecond",count:100}},{minor:{unit:"millisecond",count:100},major:{unit:"millisecond",count:500}},{minor:{unit:"millisecond",count:500},major:{unit:"second",count:2}},{minor:{unit:"second",count:2},major:{unit:"second",count:10}},{minor:{unit:"second",count:10},major:{unit:"second",count:30}},{minor:{unit:"second",count:30},major:{unit:"minute",count:2}},{minor:{unit:"minute",count:2},major:{unit:"minute",count:10}},{minor:{unit:"minute",count:10},major:{unit:"minute",count:30}},{minor:{unit:"minute",count:30},major:{unit:"hour",count:1}},{minor:{unit:"hour",count:1},major:{unit:"hour",count:3}},{minor:{unit:"hour",count:3},major:{unit:"hour",count:12}},{minor:{unit:"hour",count:12},major:{unit:"day",count:1}},{minor:{unit:"day",count:1},major:{unit:"week",count:1}},{minor:{unit:"day",count:2},major:{unit:"week",count:1}},{minor:{unit:"week",count:1},major:{unit:"month",count:1}},{minor:{unit:"month",count:1},major:{unit:"quarter",count:1}},{minor:{unit:"quarter",count:1},major:{unit:"semester",count:1}},{minor:{unit:"semester",count:1},major:{unit:"year",count:1}},{minor:{unit:"year",count:1},major:{unit:"year",count:2}},{minor:{unit:"year",count:2},major:{unit:"year",count:4}},{minor:{unit:"year",count:3},major:{unit:"year",count:6}},{minor:{unit:"year",count:4},major:{unit:"year",count:8}},{minor:{unit:"year",count:5},major:{unit:"year",count:10}},{minor:{unit:"year",count:6},major:{unit:"year",count:12}},{minor:{unit:"year",count:7},major:{unit:"year",count:14}},{minor:{unit:"year",count:8},major:{unit:"year",count:16}},{minor:{unit:"year",count:9},major:{unit:"year",count:18}},{minor:{unit:"year",count:10},major:{unit:"year",count:20}},{minor:{unit:"year",count:20},major:{unit:"year",count:40}},{minor:{unit:"year",count:25},major:{unit:"year",count:100}},{minor:{unit:"year",count:100},major:{unit:"year",count:500}}],E3=F1.prototype;E3.ticks=E3.Wa;E3.ticksCount=E3.Mka;E3.getFullMinimum=E3.S1;E3.getFullMaximum=E3.R1;E3.getMinimum=E3.$T;E3.getMaximum=E3.ZT;E3.transform=E3.transform;E3.inverseTransform=E3.Jc;E3.minimumGap=E3.Ns;E3.maximumGap=E3.Ls;$.H(G1,D1);G1.prototype.reset=function(){var a=$.Yo(this.start,this.D,this.P),b=$.Yo(this.start,this.G,this.P);this.b=new $.Tn(new Date(a));this.f=window.NaN;this.b.getTime()<this.start&&(this.f=H1(this,this.b,this.D),this.f>this.end&&(this.f=window.NaN));for(this.i=new $.Tn(new Date(b));this.i.getTime()<this.start;)this.i.add(this.G);};G1.prototype.advance=function(){var a=this.b.getTime(),b=H1(this,this.i,this.G);this.current=b;this.j=a<=b;(a=this.current<=this.end)&&this.j&&H1(this,this.b,this.D);return a;};$.H(p1,F1);$.g=p1.prototype;$.g.La=function(){return"stock-ordinal-date-time";};$.g.transform=function(a){return this.Gr(a,this.b.Of($.Xk(a)));};$.g.Jc=function(a){return Math.round(this.b.wi(a*(this.zw-this.Ms)+this.Ms));};$.g.Gr=function(a,b){return(b-this.Ms)/(this.zw-this.Ms);};$.g.EP=function(a){return this.Gr(a,Math.ceil(this.b.Of($.Xk(a))));};$.g.n1=function(){this.P||(this.P=new G1(this));!this.j&&this.f&&(this.j=new C1());};var F3=p1.prototype;F3.transform=F3.transform;F3.inverseTransform=F3.Jc;$.H(I1,$.FB);$.g=I1.prototype;$.g.pa=$.FB.prototype.pa|4;$.g.ra=$.FB.prototype.ra|1536;$.g.g6=function(){return!1;};$.g.gj={area:{Db:1,Ib:1,Kb:[a2,b2,c2],Nb:[o2,p2,q2],Hb:null,Bb:0,zb:"value",yb:"zero"},candlestick:{Db:5,Ib:1,Kb:[d2,e2,f2,g2],Nb:[r2,u2,v2,x2],Hb:null,Bb:0,zb:"high",yb:"low"},column:{Db:6,Ib:1,Kb:[n2,c2,Zoa,Yoa,d2,e2,f2,g2],Nb:[A2,q2,epa,dpa,r2,u2,v2,x2],Hb:null,Bb:0,zb:"value",yb:"zero"},"jump-line":{Db:19,Ib:2,Kb:[$.uH,$.MH,$.HH,$.vH],Nb:[p2,w2,s2,t2],Hb:null,Bb:0,zb:"value",yb:"value"},hilo:{Db:31,Ib:2,Kb:[$.uH,$.SH,$.WH],Nb:[p2,z2,y2],Hb:null,Bb:0,zb:"high",yb:"low"},stick:{Db:20,Ib:2,Kb:[$.uH,$.MH,$.HH,$.vH],Nb:[p2,w2,s2,t2],Hb:null,Bb:0,zb:"value",yb:"zero"},line:{Db:8,Ib:1,Kb:[$.uH,$.MH,$.HH,$.vH],Nb:[p2,w2,s2,t2],Hb:null,Bb:0,zb:"value",yb:"value"},marker:{Db:9,Ib:1,Kb:[n2,c2,e2,g2,Yoa,d2,f2,Zoa],Nb:[A2,q2,u2,x2,dpa,r2,v2,epa],Hb:null,Bb:0,zb:"value",yb:"value"},ohlc:{Db:10,Ib:1,Kb:[{name:"rising",Pb:"path",Wb:null,Xb:"risingStroke",Zb:!1,Gb:!1,zIndex:0},{name:"falling",Pb:"path",Wb:null,Xb:"fallingStroke",Zb:!1,Gb:!1,zIndex:0}],Nb:[s2,w2],Hb:null,Bb:0,zb:"high",yb:"low"},"range-area":{Db:11,Ib:1,Kb:[a2,m2,l2,c2,$oa,apa,h2,i2],Nb:[o2,z2,y2,q2,bpa,cpa,j2,k2],Hb:null,Bb:0,zb:"high",yb:"low"},"range-column":{Db:12,Ib:1,Kb:[n2,c2,{name:"high",Pb:"path",Wb:"highFill",Xb:"highStroke",Zb:!1,Gb:!1,zIndex:0},{name:"low",Pb:"path",Wb:"lowFill",Xb:"lowStroke",Zb:!1,Gb:!1,zIndex:0},h2,i2],Nb:[A2,q2,{name:"high",Pb:"path",Wb:"highFill",Xb:"highStroke",Zb:!1,Gb:!1,zIndex:0},{name:"low",Pb:"path",Wb:"lowFill",Xb:"lowStroke",Zb:!1,Fk:!0,Gb:!1,zIndex:0},j2,k2],Hb:null,Bb:0,zb:"high",yb:"low"},"range-spline-area":{Db:13,Ib:1,Kb:[a2,m2,l2,c2,$oa,apa,h2,i2],Nb:[o2,z2,y2,q2,bpa,cpa,j2,k2],Hb:null,Bb:0,zb:"high",yb:"low"},"range-step-area":{Db:14,Ib:1,Kb:[a2,l2,m2,c2],Nb:[o2,y2,z2,q2],Hb:null,Bb:0,zb:"high",yb:"low"},spline:{Db:15,Ib:1,Kb:[$.uH,$.MH,$.HH,$.vH],Nb:[p2,w2,s2,t2],Hb:null,Bb:0,zb:"value",yb:"value"},"spline-area":{Db:16,Ib:1,Kb:[a2,b2,c2],Nb:[o2,p2,q2],Hb:null,Bb:0,zb:"value",yb:"zero"},"step-area":{Db:17,Ib:1,Kb:[a2,b2,c2],Nb:[o2,p2,q2],Hb:null,Bb:0,zb:"value",yb:"zero"},"step-line":{Db:18,Ib:1,Kb:[$.uH,$.MH,$.HH,$.vH],Nb:[p2,w2,s2,t2],Hb:null,Bb:0,zb:"value",yb:"value"}};$.g.aq=function(a){return $.n(a)?(this.JS=a=AZ(a),this):this.JS;};$.g.pC=function(a,b,c){return this.Ae("area",a,b,c);};$.g.XR=function(a,b,c){return this.Ae("candlestick",a,b,c);};$.g.zC=function(a,b,c){return this.Ae("column",a,b,c);};$.g.FV=function(a,b,c){return this.Ae("jump-line",a,b,c);};$.g.WU=function(a,b,c){return this.Ae("hilo",a,b,c);};$.g.vJ=function(a,b,c){return this.Ae("stick",a,b,c);};$.g.line=function(a,b,c){return this.Ae("line",a,b,c);};$.g.yr=function(a,b,c){return this.Ae("marker",a,b,c);};$.g.BW=function(a,b,c){return this.Ae("ohlc",a,b,c);};$.g.dX=function(a,b,c){return this.Ae("range-area",a,b,c);};$.g.eX=function(a,b,c){return this.Ae("range-column",a,b,c);};$.g.fX=function(a,b,c){return this.Ae("range-spline-area",a,b,c);};$.g.gX=function(a,b,c){return this.Ae("range-step-area",a,b,c);};$.g.YX=function(a,b,c){return this.Ae("spline",a,b,c);};$.g.ZX=function(a,b,c){return this.Ae("spline-area",a,b,c);};$.g.hY=function(a,b,c){return this.Ae("step-area",a,b,c);};$.g.iY=function(a,b,c){return this.Ae("step-line",a,b,c);};$.g.jl=function(a){var b=[],c=this.aq(),d=arguments.length;$.V(this);if(d)for(var e=0;e<d;e++)b.push(this.Ae(c,arguments[e]));else b.push(this.Ae(c,null));this.da(!0);return b;};$.g.qy=function(a){return $.wa(this.Ra,function(b){return b.id()==a;});};$.g.ef=function(a){return this.yi(this.qy(a));};$.g.yi=function(a){return this.Ra[a]||null;};$.g.uj=function(){return this.Ra.length;};$.g.xo=function(a){return this.Pn(this.qy(a));};$.g.Pn=function(a){var b=this.Ra[a];b&&($.Tp++,$.Ca(this.Ra,a,1),$.pd(b),this.B(512,1),$.Wp());return this;};$.g.Ap=function(){if(this.Ra.length){var a=this.Ra;$.Tp++;this.Ra=[];$.ud(a);this.B(512,1);$.Wp();}return this;};$.g.Te=function(){return this.Ra;};$.g.hs=function(a){this.Ri||(this.Ri=new $.Mz(),this.Ri.Fa("chart.defaultSeriesSettings","stock.scroller.defaultSeriesSettings"));return $.n(a)?(this.Ri.na=a,this):this.Ri;};$.g.Sv=function(a){a=AZ(a);var b=this.gj[a];b&&b.Db in $.WG?a=[a,b]:($.il(4,null,[a+" series"]),a=null);return a;};$.g.nb=$.ia;$.g.Hv=$.ia;$.g.sM=function(a){return a.check(32768)?31:30;};$.g.Ae=function(a,b,c,d){var e=this.Sv(a);e?(a=new B1(this,a,e[1]),e=(e=this.Ra[this.Ra.length-1])?e.wh()+1:0,this.Ra.push(a),a.wh(e),a.data(b||null,c,d),$.hB(a),a.clip(!0),$.jB(a,.9),a.Iq(this.ac().mc(e)),a.ax(this.ue().mc(e)),a.jb(this),$.L(a,this.dJ,this),this.B(512,1)):a=null;return a;};$.g.dJ=function(a){var b=1;$.X(a,4)&&(b|=4);this.B(512,b);};$.g.iB=function(){for(var a=0;a<this.Ra.length;a++){var b=this.Ra[a];b&&b.qE();}};$.g.lw=function(){for(var a=0;a<this.Ra.length;a++)this.Ra[a].B(2116);};Boa(I1);$.g=I1.prototype;$.g.wc=function(){return this.oa;};$.g.ob=function(){return this.ga;};$.g.Yf=function(){return this.ob();};$.g.Qa=function(a){if($.n(a))return this.cb=a,J1(this),this;this.cb||(this.cb=new p1(this));return this.cb;};$.g.MP=function(){I1.u.MP.call(this);J1(this);};$.g.xM=function(){return this.oa.b.ba.vI;};$.g.Um=function(){return this.oa.BK();};$.g.wa=function(){return!1;};$.g.ab=function(a){if($.n(a)){if(a=$.mt(this.Cc,a,null,3,["Scroller Y scale","scatter","linear, log"],this.Wu,this)){var b=this.Cc==a;this.Cc=a;this.Cc.da(b);if(!b){for(a=0;a<this.Ra.length;a++)(b=this.Ra[a])&&b.enabled()&&b.ab()==this.Cc&&(b.B(1024),this.B(512));this.va(1);}}return this;}this.Cc||(this.Cc=$.it(),$.L(this.Cc,this.Wu,this));return this.Cc;};$.g.Wu=function(a){for(var b=0,c=0;c<this.Ra.length;c++){var d=this.Ra[c];d&&d.enabled()&&d.ab()==this.Cc&&(b|=d.B(1024));}b&&(b=1,$.X(a,4)&&(b|=4),this.B(512,b));};$.g.Xh=function(a){this.lc||(this.lc=new o_(this,!0),this.lc.jb(this),this.lc.zIndex(52),$.W(this,"xAxis",this.lc),$.L(this.lc,this.JY,this),this.B(1024,1));return $.n(a)?(this.lc.N(a),this):this.lc;};$.g.JY=function(){this.B(1024,1);};$.g.sy=function(){return this.lc;};$.g.uy=function(){return null;};$.g.W=function(){I1.u.W.call(this);if(!this.yc())return this;this.pB||(this.pB=this.za.Ad(),this.pB.zIndex(1),this.pB.clip(this.VN),this.nB=this.za.Ad(),this.nB.Fd(!0),this.nB.zIndex(51),this.nB.clip(this.mB));if(this.J(512)){for(var a=0;a<this.Ra.length;a++){var b=this.Ra[a];if(b){$.V(b);b.ja(this.ga);b.O(this.pB);var c=b,d=this.nB;$.n(d)&&c.ea!=d&&(c.ea=d,c.B(2,1));b.Iq(this.ac().mc(a));b.ax(this.ue().mc(a));b.W();b.da(!1);}}this.iB();this.I(512);}this.J(1024)&&(this.lc&&($.V(this.lc),this.lc.scale(this.Qa()),this.lc.O(this.za),this.lc.ja(this.ga),this.lc.height(this.ga.height),this.lc.W(),this.lc.da(!1)),this.I(1024));return this;};$.g.ac=function(a){if($.J(a,$.Ps))return this.Ec($.Ps,a),this;if($.J(a,$.Ms))return this.Ec($.Ms,a),this;$.C(a)&&"range"==a.type?this.Ec($.Ps):($.C(a)||null==this.Ea)&&this.Ec($.Ms);return $.n(a)?(this.Ea.N(a),this):this.Ea;};$.g.Ec=function(a,b){this.lw();if($.J(this.Ea,a))b&&this.Ea.N(b);else{var c=!!this.Ea;$.pd(this.Ea);this.Ea=new a();b&&this.Ea.N(b);$.L(this.Ea,this.Jf,this);c&&this.B(512,1);}};$.g.ue=function(a){this.ed||(this.ed=new $.Ns(),$.W(this,"hatchFillPalette",this.ed),$.L(this.ed,this.Jf,this));return $.n(a)?(this.ed.N(a),this.lw(),this.B(512,1),this):this.ed;};$.g.Jf=function(a){$.X(a,2)&&this.B(512,1);};$.g.wi=function(a){var b=this.oa.b;f_(b);return b.Ba.wi(a);};$.g.Of=function(a){var b=this.oa.b;f_(b);return b.Ba.Of(a);};$.g.D3=function(a,b,c,d){return{type:a,startRatio:b,endRatio:c,startKey:this.Qa().Jc(b),endKey:this.Qa().Jc(c),source:d};};$.g.R=function(){$.ud(this.Ea,this.ed,this.pB,this.nB,this.lc,this.cb,this.Cc,this.Ra,this.zD,this.Ri);this.Ri=this.Cc=this.cb=this.lc=this.nB=this.pB=this.ed=this.Ea=null;this.Ra.length=0;this.zD.length=0;delete this.oa;I1.u.R.call(this);};$.g.F=function(){var a=I1.u.F.call(this);a.defaultSeriesType=this.aq();a.palette=this.ac().F();a.hatchFillPalette=this.ue().F();return a;};$.g.U=function(a,b){I1.u.U.call(this,a,b);this.Hg(!1,a);"xAxis"in a&&this.Xh(a.xAxis);this.ac(a.palette);this.ue(a.hatchFillPalette);this.aq(a.defaultSeriesType);"defaultSeriesSettings"in a&&this.hs(a.defaultSeriesSettings);var c=a.series;if($.A(c))for(var d=0;d<c.length;d++){var e=c[d],f=(e.seriesType||this.aq()).toLowerCase();if(f=this.Ae(f,e.data))f.N(e),$.C(e)&&"yScale"in e&&1<e.yScale&&f.ab(this.Zw[e.yScale]);}};$.g.CE=function(a){var b,c,d=$.Tl(this.uf("scales"));if(a&&a.scales){for(c=0;c<d.length;c++)a.scales[c]&&$.ra(d[c],a.scales[c]);a.scales.length>d.length&&(d=$.Ga(d,$.Ja(a.scales,d.length)));}var e={};if($.A(d))for(b=0;b<d.length;b++){c=d[b];$.z(c)&&(c={type:c});var f=EZ(c.type,!1);f.N(c);e[b]=f;}else if($.C(d))for(b in d)d.hasOwnProperty(b)&&(c=d[b],$.z(c)&&(c={type:c}),f=EZ(c.type,!1),f.N(c),e[b]=f);c=$.Tl(this.uf("yScale"));a&&$.n(a.yScale)&&("object"==$.ka(a.yScale)&&"object"==$.ka(c)?$.ra(c,a.yScale):c=a.yScale);$.ea(c)?f=e[c]:$.z(c)?(f=EZ(c,!0))||(f=e[c]):$.C(c)?(f=EZ(c.type,!1),f.N(c)):f=null;f&&this.ab(f);this.Zw=e;};$.g.Hg=function(a,b){this.CE(b);this.Xh();};var G3=I1.prototype;G3.area=G3.pC;G3.candlestick=G3.XR;G3.column=G3.zC;G3.stick=G3.vJ;G3.jumpLine=G3.FV;G3.hilo=G3.WU;G3.line=G3.line;G3.marker=G3.yr;G3.ohlc=G3.BW;G3.rangeArea=G3.dX;G3.rangeColumn=G3.eX;G3.rangeSplineArea=G3.fX;G3.rangeStepArea=G3.gX;G3.spline=G3.YX;G3.splineArea=G3.ZX;G3.stepArea=G3.hY;G3.stepLine=G3.iY;G3.getSeries=G3.ef;G3.yScale=G3.ab;G3.xAxis=G3.Xh;G3.defaultSeriesType=G3.aq;G3.addSeries=G3.jl;G3.getSeriesAt=G3.yi;G3.getSeriesCount=G3.uj;G3.removeSeries=G3.xo;G3.removeSeriesAt=G3.Pn;G3.removeAllSeries=G3.Ap;G3.palette=G3.ac;G3.hatchFillPalette=G3.ue;$.H(Joa,Q_);$.H(K1,$.U);$.S(K1,O2);$.Kq(K1,Q2,"normal");$.g=K1.prototype;$.g.ra=64;$.g.pa=1;$.g.DC=function(){this.B(64,1);};$.g.Pa=function(a){return $.n(a)?(this.ca.N(a),this):this.ca;};$.g.kb=function(a){return $.n(a)?(this.ya.N(a),this):this.ya;};$.g.selected=function(a){return $.n(a)?(this.Da.N(a),this):this.Da;};$.g.group=function(a,b){var c=$.N(a);if((0,window.isNaN)(c)){c=0;var d=a;}else c=a,d=b;return this.oa.jf().rj().group(c,d);};$.g.data=function(a){var b=this.oa.jf().rj().group().data(a);return $.n(a)?this:b;};$.g.t_=function(a){var b=a.group;if(b){var c=a.index;a=a.originalEvent;if(this.i!=b||this.j!=c)this.dispatchEvent(L1(this,a,!1,[{group:b,index:c}],b,c))&&e0(b.jf.rj(),b,c,$.Ao,$.hm)?(this.i=b,this.j=c):(this.i=null,this.j=window.NaN);$.Qw(b.Sa(),a.clientX,a.clientY,b.PT(c));}};$.g.Hba=function(a){var b=a.group;if(b){var c=a.index;this.dispatchEvent(L1(this,a.originalEvent,!1,[],b,c));e0(b.jf.rj(),b,c,$.hm,$.Ao);b.Sa().Ic(!0);this.i=null;this.j=window.NaN;}};$.g.Gba=function(a){var b=a.group;if(b){var c=a.index;a=a.originalEvent;var d=this.b==b&&this.f==c;this.b&&this.dispatchEvent(L1(this,a,!0,[],this.b,this.f))&&e0(this.b.jf.rj(),this.b,this.f,d?$.Ao:$.hm,$.Bo);!d&&this.dispatchEvent(L1(this,a,!0,[{group:b,index:c}],b,c))&&e0(b.jf.rj(),b,c,$.Bo)?(this.b=b,this.f=c):(this.b=null,this.f=window.NaN);}};$.g.Sa=function(a){this.fb||(this.fb=new $.yw(0),$.W(this,"tooltip",this.fb));return $.n(a)?(this.fb.N(a),this):this.fb;};$.g.F=function(){var a=K1.u.F.call(this);$.Xq(this,O2,a);a.normal=this.ca.F();a.hovered=this.ya.F();a.selected=this.Da.F();a.tooltip=this.Sa().F();return a;};$.g.U=function(a,b){K1.u.U.call(this,a,b);this.Sa().fa(!!b,a.tooltip);this.ca.fa(!!b,a);this.ca.fa(!!b,a.normal);this.ya.fa(!!b,a.hovered);this.Da.fa(!!b,a.selected);$.Pq(this,O2,a);var c;if($.n(c=a.groups)){var d=this.oa.jf().rj();$.ud(d.b);d.b.length=0;if($.A(c))for(d=0;d<c.length;d++){var e=c[d];null!=e&&this.group(d,e);}}else $.n(d=a.data)&&this.data(d);};$.g.R=function(){$.ud(this.ca,this.ya,this.Da,this.fb);this.ca=this.ya=this.Da=this.oa=this.fb=null;K1.u.R.call(this);};var H3=K1.prototype;H3.group=H3.group;H3.data=H3.data;H3.tooltip=H3.Sa;H3.normal=H3.Pa;H3.hovered=H3.kb;H3.selected=H3.selected;$.H(M1,$.cg);M1.prototype.Yq=function(){this.deltaY=this.deltaX=0;};M1.prototype.gs=function(a,b){this.YB.nc(1,0,0,1,0,b);this.DY.nc(1,0,0,1,0,b);};M1.prototype.OA=function(){return 0;};M1.prototype.uw=function(a){var b=this.b.top+this.b.height,c=this.b.top,d=Number(this.YB.Bd("ac-top"));a=$.Za(a,c-d,b-d);this.i=a+d;return a;};$.H(N1,$.tf);$.g=N1.prototype;$.g.tr=function(a){var b=a.target,c=b.tag;b=new M1(b,this.b[c]);b.b=this.G[c];b.ua("start",this.eca,!1,this);b.ua("drag",this.cea,!1,this);b.ua("end",this.dca,!1,this);this.i[c]=b;b.kk(a.Be);};$.g.eca=function(){this.dispatchEvent("dragStart");};$.g.cea=function(a){a=a.f;var b=Number(a.YB.Bd("ac-top")),c=a.b.left,d=a.b.left+a.b.width;this.f=a.i;this.P.fill(this.oa.KE().Ci().fill()).clear().moveTo(c,b).lineTo(d,b).lineTo(d,this.f).lineTo(c,this.f).close();};$.g.dca=function(a){this.P.clear();this.dispatchEvent("dragEnd");var b=a.f;a=Number(b.YB.tag);b=b.b;var c=this.aa[a];b=(this.f-b.top+c)/(b.height+c+this.K[a]);a=this.D[a];c=a.J6.g("weight");var d=a.A3.g("weight");c+=d;b*=c;c-=b;this.oa.Mz(!1);a.J6.weight(b);a.A3.weight(c);this.oa.Mz(!0);};$.g.reset=function(){for(var a=this.zd=0;a<this.j.length;a++){var b=this.j[a];b.clear();b.nc(1,0,0,1,0,0);b=this.b[a];b.clear();b.nc(1,0,0,1,0,0);}};$.g.add=function(){var a=this.j[this.zd],b=this.b[this.zd];a||(b=this.Hc.path(),b.zIndex(0),this.b.push(b),a=this.Hc.path(),a.zIndex(1),a.stroke($.cm,10),a.cursor("ns-resize"),this.j.push(a),a.tag=this.zd,a.De("mousedown",this.tr,!1,this),a.ua("mousemove",this.oka,!1,this),a.ua("mouseout",this.pka,!1,this));this.zd++;b.stroke(this.oa.KE().Pa().stroke());return{YB:a,DY:b};};$.g.oka=function(a){this.b[Number(a.target.tag)].stroke(this.oa.KE().kb().stroke());};$.g.pka=function(a){this.b[Number(a.target.tag)].stroke(this.oa.KE().Pa().stroke());};$.g.R=function(){this.Hc=null;$.ud(this.j,this.i,this.b);this.j.length=0;this.b.length=0;this.i.length=0;this.D=null;N1.u.R.call(this);};$.H(O1,$.U);O1.prototype.sync=function(){this.j.reset();if(!this.xa.g("plotsManualBounds")&&!this.b){var a=U1(this.xa),b,c=!1;for(b=0;b<a.length;b++){var d=a[b];if(d.QH()){c=!0;break;}}if(!c&&this.xa.KE().enabled()){for(b=0;b<a.length;b++)if(d=a[b],!w1(d)){c=d.ob();var e=Moa(this.xa,d),f=e.ob(),h=this.j.add();h.YB.moveTo(c.left,c.top).lineTo(c.left+c.width,c.top).Bd("ac-top",c.top);h.DY.moveTo(c.left,c.top+.5).lineTo(c.left+c.width,c.top+.5);h=this.j;h.D[h.zd-1]={J6:e,A3:d};h=d.Yf();d=e.Yf();d=f.height-d.height+20;e=c.height-h.height+20;f&&c?(f=new $.I(f.left,f.top,f.width,f.height),$.pb(f,c)):f=null;f.top+=d;f.height-=d+e;c=this.j;h=c.zd-1;var k=c.i[h];k?k.b=f:c.G[h]=f;c.aa[h]=d;c.K[h]=e;}a=this.j;for(b=a.zd;b<a.j.length;b++)a.j[b].clear(),a.b[b].clear();}}};O1.prototype.R=function(){this.xa=null;$.ud(this.ub,this.j);this.j=this.ub=null;O1.u.R.call(this);};$.H(P1,$.U);var I3={};$.wq(I3,[[1,"fill",$.Uq]]);$.S(P1,I3);P1.prototype.U=function(a,b){P1.u.U.call(this,a,b);$.Pq(this,I3,a,b);};P1.prototype.F=function(){var a=P1.u.F.call(this);$.Xq(this,I3,a,void 0,void 0,!0);return a;};$.H(Q1,$.U);var J3={};$.wq(J3,[[1,"stroke",$.Tq]]);$.S(Q1,J3);Q1.prototype.U=function(a,b){Q1.u.U.call(this,a,b);$.Pq(this,J3,a,b);};Q1.prototype.F=function(){var a=Q1.u.F.call(this);$.Xq(this,J3,a,void 0,void 0,!0);return a;};$.H(R1,$.U);R1.prototype.pa=1;var K3={};$.wq(K3,[[1,"stroke",$.Tq]]);$.S(R1,K3);R1.prototype.U=function(a,b){R1.u.U.call(this,a,b);$.Pq(this,K3,a,b);};R1.prototype.F=function(){var a=R1.u.F.call(this);$.Xq(this,K3,a,void 0,void 0,!0);return a;};$.H(S1,$.U);$.Kq(S1,["stroke"],"normal");S1.prototype.pa=1;var L3={};$.wq(L3,[[0,"enabled",$.Hq]]);$.S(S1,L3);$.g=S1.prototype;$.g.Ci=function(a){this.ei||(this.ei=new P1(),$.L(this.ei,this.S4,this),$.W(this,"preview",this.ei));return $.n(a)?(this.ei.N(a),this):this.ei;};$.g.S4=function(){this.va(1);};$.g.Pa=function(a){this.ca||(this.ca=new R1(),this.ca.Fa(this.na),$.W(this,"normal",this.ca),$.L(this.ca,this.S4,this));return $.n(a)?(this.ca.N(a),this):this.ca;};$.g.kb=function(a){this.ya||(this.ya=new Q1(),$.W(this,"hovered",this.ya));return $.n(a)?(this.ya.N(a),this):this.ya;};$.g.Xd=function(a){return $.da(a)||null===a?{enabled:!!a}:null;};$.g.Je=function(a,b){var c=this.Xd(b);return c?(a?this.na.enabled=c.enabled:this.enabled(c.enabled),!0):!1;};$.g.U=function(a,b){S1.u.U.call(this,a,b);$.Pq(this,L3,a,b);"normal"in a&&this.Pa().fa(!!b,a.normal);"hovered"in a&&this.kb().fa(!!b,a.hovered);"preview"in a&&this.Ci().fa(!!b,a.normal);};$.g.F=function(){var a=S1.u.F.call(this);$.Xq(this,L3,a,void 0,void 0,!0);this.ca&&(a.normal=this.ca.F());this.ya&&(a.hovered=this.ya.F());this.ei&&(a.preview=this.ei.F());return a;};$.g.R=function(){$.ud(this.ca,this.ya,this.ei);this.ei=this.ya=this.ca=null;S1.u.R.call(this);};var M3=S1.prototype;M3.normal=M3.Pa;M3.hovered=M3.kb;M3.preview=M3.Ci;$.H(T1,$.wx);T1.prototype.pa=$.wx.prototype.pa;T1.prototype.ra=$.wx.prototype.ra|258048;var jpa={area:!1,candlestick:null,column:null,"jump-line":!0,stick:!0,line:!1,marker:null,ohlc:null,"range-area":!1,"range-column":null,"range-spline-area":!1,"range-step-area":!1,spline:!1,"spline-area":!1,"step-area":!1,"step-line":!1,hilo:!0};$.g=T1.prototype;$.g.uP=function(){return!1;};$.g.La=function(){return"stock";};$.g.Te=function(){for(var a=[],b=0;b<this.f.length;b++){var c=this.f[b];c&&a.push.apply(a,c.Te());}return a;};$.g.Sv=function(a){a=AZ(a);var b=this.gj[a];b&&b.Db in $.WG?a=[a,b]:($.il(4,null,[a+" series"]),a=null);return a;};$.g.wa=function(){return!1;};$.g.nb=$.ia;$.g.$f=function(a){$.il(51);return $.n(a)?this:null;};$.g.jf=function(a,b){return Loa(this,a,b,!$.n(b));};$.g.jC=function(a){this.i||(this.i=new I1(this),this.i.jb(this),$.W(this,"scroller",this.i),this.i.Hg(!0),$.L(this.i,this.yba,this),this.vc.ua(this.i,"scrollerchangestart",this.Xja),this.vc.ua(this.i,"scrollerchange",this.Wja),this.vc.ua(this.i,"scrollerchangefinish",this.Vja),this.B(8196,1));return $.n(a)?(this.i.N(a),this):this.i;};$.g.v5=function(a,b,c,d){var e=this.b.D;var f=window.NaN;var h=$.Ak($.KE,a,$.n(null)?null:"max");if("points"==h){a=Math.max(+b||0,10);var k=$.fl(c);h=-1;if("last-visible-date"==k){e=this.b;var l=m_(this.b);f_(e);e=e.f.Of(l);}else"first-visible-date"==k?(e=this.b,h=l_(this.b),f_(e),e=e.f.Of(h),h=1):"first-date"==k?(e=this.b.f.b.length?0:window.NaN,h=1):e=QZ(this.b.f);a=e+h*(a-1)+h/2;l=this.b;e-=h/2;f_(l);e=l.f.wi(e);h=this.b;a=$.Za(a,this.b.f.b.length?0:window.NaN,QZ(this.b.f));f_(h);f=h.f.wi(a);}else if(h&&"unit"!=h)switch(k=new Date(e),h){case"ytd":f=Date.UTC(k.getUTCFullYear(),0);break;case"qtd":f=Date.UTC(k.getUTCFullYear(),3*Math.floor((k.getUTCMonth()+3)/3)-3,1);break;case"mtd":f=Date.UTC(k.getUTCFullYear(),k.getUTCMonth());break;case"max":f=this.b.j;}else if(f=$.Zk(a,null)){a=b||1;k=$.fl(c);h=-1;"last-visible-date"==k?e=m_(this.b):"first-visible-date"==k?(e=l_(this.b),h=1):"first-date"==k&&(e=this.b.j,h=1);k=new Date(e);var m=new Date(e);if("year"==f)m.setUTCFullYear(k.getUTCFullYear()+h*a),f=m.getTime();else if("semester"==f||"quarter"==f||"month"==f){switch(f){case"semester":l=6*a;break;case"quarter":l=3*a;break;case"month":l=a;}a=k.getUTCMonth()+h*l;h=k.getUTCFullYear()+Math.floor(a/12);a%=12;0>a&&(a+=12);m.setUTCFullYear(h);m.setUTCMonth(a);f=m.getTime();}else if("third-of-month"==f)l=k.getUTCDate(),l=3*(12*k.getUTCFullYear()+k.getUTCMonth())+(10>=l?0:20>=l?1:2)+h*a,h=Math.floor(l/36),l%=36,a=Math.floor(l/3),0>a&&(a+=12),l%=3,0>l&&(l+=3),f=Date.UTC(h,a,1+10*l);else{switch(f){case"week":l=6048E5*a;break;case"day":l=864E5*a;break;case"hour":l=36E5*a;break;case"minute":l=6E4*a;break;case"second":l=1E3*a;break;case"millisecond":l=a;}f=e+h*l;}}else e=$.Xk(a),f=$.Xk(b);this.B(16384);V1(this,e,f);($.da(b)&&b||$.da(c)&&c||d)&&W1(this,"selectedrangechange","select-range");return this;};$.g.sfa=function(){return{firstSelected:this.b.b.Ih,lastSelected:this.b.b.Vi,firstVisible:l_(this.b),lastVisible:m_(this.b)};};$.g.Qa=function(a){if($.n(a)){var b;$.z(a)?b=a:$.C(a)&&(b=a.type);b=String(b).toLowerCase();a="stock-scatter-date-time"==b||"scatter"==b;b=this.cb&&!$.J(this.cb,p1);var c=$.Ar(this,"scroller");c&&$.or(c,this.LY,this);a!=b&&(a?(this.cb=new F1(this),c&&c.Qa(new F1(c))):(this.cb=new p1(this),c&&c.Qa(new p1(c))),$.W(this,"xScale",this.cb),this.cb.N(this.cb.na),$.L(this.cb,this.LY,this),this.By());return this;}this.cb||(this.cb=new p1(this),$.W(this,"xScale",this.cb),this.cb.N(this.cb.na),$.L(this.cb,this.LY,this));return this.cb;};$.g.LY=function(a){$.X(a,16)&&(this.K&&this.K.remove(),this.B(81920,1));};$.g.Um=function(a){return $.n(a)?(this.b.Um(a),this):this.b.Um();};$.g.BK=function(a){return $.n(a)?(i_(this.b,a),this):i_(this.b);};$.g.rja=function(a){return $.n(a)?(this.ma=!!a,this):this.ma;};$.g.Q0=function(a){return $.n(a)?(this.Wf=!!a,this):this.Wf||{};};$.g.Zy=function(){this.Va().er()&&this.B(4,9);};$.g.xM=function(){return this.b.xM();};$.g.rfa=function(){for(var a=0,b=0;b<this.f.length;b++)this.f[b]&&a++;return a;};$.g.f6=function(){return!1;};$.g.dfa=function(){return this.st;};$.g.Oh=function(a){var b;this.D&&this.Kk().ev(!0);this.Ba||(this.Ba=new O1(this));if(this.J(4)){if(b=$.Ar(this,"scroller"))b.ja(a),a=b.xd();if(this.g("plotsManualBounds")){var c;b=0;for(var d=window.NaN,e=[],f=0;f<this.f.length;f++)if((c=this.f[f])&&c.enabled()){c.ja(a);c=c.Va();var h=!1;null!==c.top()?d=$.M(c.top(),a.height):null!==c.bottom()&&(h=!0,e.push(c),d=$.M(c.bottom(),a.height,!0));(0,window.isNaN)(d)||(e.length&&Qoa(e,b,d,a.height),b=d,d=window.NaN,e.length=0);h||e.push(c);}e.length&&Qoa(e,b,a.height,a.height);}else{var k=this.wg=a;b=U1(this);h=0;var l=[];d=k.height;if(e=b.length){var m=d/e,p=0;for(a=0;a<e;a++){c=b[a];c.ja(k);var q=window.NaN;f=c.Va();var r=$.M(f.minHeight(),d),t=$.M(f.height(),d),u=$.M(f.maxHeight(),d);(0,window.isNaN)(r)||(q=Math.max(r,m),c.sa("weight",null));(0,window.isNaN)(t)||(q=(0,window.isNaN)(q)?t:Math.max(t,q),c.sa("weight",null));(0,window.isNaN)(u)||(q=(0,window.isNaN)(q)?Math.min(u,m):Math.min(u,q),c.sa("weight",null));(0,window.isNaN)(q)?p+=1:h+=q;l.push(q);$.V(f);f.top(null).bottom(null).height(null).minHeight(null).maxHeight(null);f.da(!1);}f=h>d;k=0;q=[];for(a=0;a<e;a++)c=b[a],t=l[a],r=c.g("weight"),null!=r||(r=f?(0,window.isNaN)(t)?m:t:(0,window.isNaN)(t)?(d-h)/p:t),q.push(r),k+=r;for(a=h=0;a<e;a++)c=b[a],f=c.Va(),$.V(f),r=q[a],c.sa("weight",r),c=Math.round(r/k*d),l=f,m=l.Ix!=h,l.Ix=h,m&&l.va(2),f.qB(c),h+=c,f.da(!0);}}this.G=window.Infinity;for(a=0;a<this.f.length;a++)(b=this.f[a])&&b.enabled()&&(u1(b),b=b.hi.width,this.G>b&&(this.G=b));(0,window.isFinite)(this.G)||(this.G=window.NaN);this.B(16384);}if(this.J(16384)||this.J(32768)){a=this.Qa();b=this.jC().Qa();d=cla(this.b,this.G,this.fc||this.ma,a,b);this.J(65536)&&(this.K||(this.K=new Joa(),e_(this.b,this.K.Wd().oL(),!1)),d=this.K,e=this.Qa(),f=e.R1(),c=e.S1(),l=e.Ns(),h=e.Ls(),$.V(d),l.intervalsCount?(l=Koa(d,c,l),l=l[0][0],$.ea(l)?e.G={min:l,max:c}:e.G=null):$.ea(null)?e.G={min:null,max:void 0}:e.G=null,h.intervalsCount?(l=Koa(d,f,h,!0),$.ea(f)?e.D={min:f,max:l[l.length-1][0]}:e.D=null):$.ea(null)?e.D={min:null,max:void 0}:e.D=null,d.da(!0),this.I(65536),d=cla(this.b,this.G,this.fc||this.ma,a,b));if(d&1)for(this.By(),a=0;a<this.f.length;a++)(b=this.f[a])&&b.kE();d&2&&(J1(this.i),this.B(8192),W1(this,"selectedrangechange","data-update"));this.I(16384);}if(this.J(32768)){a=[];for(b=0;b<this.f.length;b++)if((e=this.f[b])&&e.enabled()){h="direct"==e.ab().ix();d=$.Ga(e.ng,e.qg,e.sg);f=e.Te();m={};p=!1;for(e=0;e<f.length;e++)l=f[h?f.length-e-1:e],lla(l),c=l.ab(),c.If()&&(c.zg(),a.push(c)),l.enabled()&&(l.gh()?p=Ooa(this,l,m)||p:l.enabled()&&c.Wc.apply(c,l.dH()));if(p)for(e=0;e<f.length;e++)l=f[e],l.enabled()&&(c=l.ab(),"percent"==c.gn()&&Poa(l,c,m));for(e=0;e<f.length;e++)if(l=f[e],l.enabled())for(c=l.ab(),h=0;h<d.length;h++)l=d[h],m=l.Mb()?c:this.Qa(),m=l.scale()||m,l&&l.enabled()&&c==m&&"consider"==l.g("scaleRangeMode")&&c.Wc.apply(c,l.us());}if((b=$.Ar(this,"scroller"))&&b.Oe()){f=b.Te();m={};p=!1;for(e=0;e<f.length;e++)l=f[e],lla(l),c=l.ab(),c.If()&&(c.zg(),a.push(c)),l.enabled()&&(l.gh()?p=Ooa(this,l,m)||p:l.enabled()&&c.Wc.apply(c,l.dH()));if(p)for(e=0;e<f.length;e++)l=f[e],l.enabled()&&(c=l.ab(),"percent"==c.gn()&&Poa(l,c,m));}for(b=0;b<a.length;b++)a[b].Fg();this.I(32768);}this.J(8192)&&(a=this.jC(),b=this.b.b.Ih,d=this.b.b.Vi,b=a.Qa().transform(b),b=(0,window.isNaN)(b)?0:$.Za(b,0,1),d=a.Qa().transform(d),d=(0,window.isNaN)(d)?1:$.Za(d,0,1),$.HB(a,b,d),a.O(this.Ma).W(),this.I(8192));if(this.J(4096)){d=!1;for(a=0;a<this.f.length;a++)if(b=this.f[a])b.enabled()&&(w1(b,!d),d=!0),b.O(this.Ma).W();this.I(4096);}Toa(this);this.J(131072)&&this.I(131072);this.Ba.sync();this.aa||(this.aa=new $.Hx(this.O().Ia().Pl(),!1),this.aa.ua("mousewheel",this.xba,!1,this));this.rj().I(4294967295);this.rj().Pa().Tf().I(4294967295);};$.g.gla=function(a,b,c,d,e,f){this.v4(a,b,c,d,e,f);var h=0<=d;c.HE=c.HE||{cB:window.NaN,XA:window.NaN};b.o("shared")||b.o("shared",c.HE);c.hE?h?(b.o("stackedZeroPrev",c.Ow),b.o("stackedValuePrev",c.Ow+d)):(b.o("stackedZeroPrev",c.Nw),b.o("stackedValuePrev",c.Nw+d)):(b.o("stackedZeroPrev",window.NaN),b.o("stackedValuePrev",window.NaN));c.UD?h?(b.o("stackedZeroNext",c.Fw),b.o("stackedValueNext",c.Fw+d)):(b.o("stackedZeroNext",c.Ew),b.o("stackedValueNext",c.Ew+d)):(b.o("stackedZeroNext",window.NaN),b.o("stackedValueNext",window.NaN));a.Wc(b.o("stackedValuePrev"));a.Wc(b.o("stackedValue"));a.Wc(b.o("stackedValueNext"));e&&(e.Os?c.hE=!0:h?c.Ow+=d:c.Nw+=d,(0,window.isNaN)(f)||(0<=f?e.Fw+=f:e.Ew+=f));};$.g.v4=function(a,b,c,d){0<=d?(b.o("stackedZero",c.zp),c.zp+=d,b.o("stackedValue",c.zp)):(b.o("stackedZero",c.vp),c.vp+=d,b.o("stackedValue",c.vp));};$.g.mja=function(a){if(!$.X(a,64)){var b=4096;$.X(a,8)&&(b|=4);$.X(a,4)&&(b|=32768);this.B(b,1);}};$.g.yba=function(a){var b=8192,c=1;$.X(a,8)&&(b|=32772,c|=8);$.X(a,4)&&(b|=32768);this.B(b,c);};$.g.Pda=function(a){$.X(a,16)&&this.B(16384,1);};$.g.By=function(){for(var a=0;a<this.f.length;a++){var b=this.f[a];b&&b.By(!1);}this.B(45056,1);};$.g.wi=function(a){return this.b.wi(a);};$.g.Of=function(a){return this.b.Of(a);};$.g.Kk=function(a){this.D?this.Mf||(this.Mf=new this.D.ChartController(this)):$.il(4,null,["Annotations"]);return $.n(a)?(this.Mf&&this.Mf.N(a),this):this.Mf;};$.g.ES=function(a){return $.n(a)?(this.Tb=a,this):this.Tb;};$.g.rj=function(a){this.Ml||(this.Ml=new K1(this),this.Ml.jb(this),$.L(this.Ml,this.Iea,this));return $.n(a)?(this.Ml.N(a),this):this.Ml;};$.g.Iea=function(){$.V(this);for(var a=0;a<this.f.length;a++)this.f[a].rj().B(64,1);this.da(!0);};$.g.XD=$.ia;$.g.tY=function(){this.Za=this.Ya=this.eb=this.P=window.NaN;this.Tc=null;Soa(this);};$.g.tS=function(){return new n_(this);};$.g.lh=function(a){this.Uf||(this.Uf=new $.nA(),this.Uf.Yj(!0),$.W(this,"crosshair",this.Uf),$.L(this.Uf,this.ZA,this),this.B(16777216,1));return $.n(a)?(this.Uf.N(a),this):this.Uf;};$.g.ZA=function(){this.B(16777216,1);};$.g.GM=function(){for(var a=[],b=0;b<this.f.length;b++){var c=this.f[b];a.push(c&&c.enabled()?c.Yf():null);}return a;};$.g.Zz=function(a,b,c,d,e,f,h){a=T1.u.Zz.call(this,a,b,c,d,e,f,h);c=this.f[b];d=c.Yf();e=(a.left-d.left)/d.width;f=(a.left+a.width-d.left)/d.width;h=(a.top-d.top)/d.height;var k=(a.top+a.height-d.top)/d.height,l=this.Qa(),m=c.ab();a.plot=c;a.plotIndex=b;a.plotBounds={left:d.left,top:d.top,width:d.width,height:d.height};a.leftX=l.Jc(e);a.rightX=l.Jc(f);a.maxValue=m.Jc(h);a.minValue=m.Jc(k);m.Ne()&&(b=a.minValue,a.minValue=a.maxValue,a.maxValue=b);return a;};var N3={};$.vq(N3,0,"plotsManualBounds",$.Hq);$.vq(N3,1,"zoomMarqueeFill",$.Uq);$.vq(N3,1,"zoomMarqueeStroke",$.Tq);$.S(T1,N3);$.g=T1.prototype;$.g.d6=function(a,b){$.zx(this,this.$ia,null,this.Zia,this.GM(),"crosshair",a,this.g("zoomMarqueeStroke"),this.g("zoomMarqueeFill"),!b);return this;};$.g.$ia=function(){Y1(this);return!0;};$.g.Zia=function(a,b,c,d){if(5<Math.abs(d)){var e=this.f[a].Yf();a=this.Qa();c=(b-e.left)/e.width;b=(b+d-e.left)/e.width;c>b&&(d=c,c=b,b=d);.05>b-c&&(b=(c+b)/2,c=b-.025,b+=.025);c=a.Jc(c);a=a.Jc(b);b=this.b.Of(c);d=this.b.Of(a);1>d-b&&(c=this.b.wi(Math.floor(b)),a=this.b.wi(Math.ceil(d)));(0,window.isNaN)(c)||(0,window.isNaN)(a)||c==this.b.b.Ih&&a==this.b.b.Vi||!W1(this,"selectedrangechangestart","marquee")||!W1(this,"selectedrangebeforechange","marquee",c,a)||(V1(this,c,a),W1(this,"selectedrangechange","marquee"),W1(this,"selectedrangechangefinish","marquee"));}Z1(this);return!0;};$.g.KE=function(a){this.j||(this.j=new S1(),$.W(this,"splitters",this.j),$.L(this.j,this.qka,this));return $.n(a)?(this.j.N(a),this):this.j;};$.g.qka=function(){this.B(131072,1);};$.g.xba=function(a){var b=this.GM(),c=$.ak(this.O().Ia()),d=a.clientX-c.x;c=a.clientY-c.y;var e,f=!1;if(b&&b.length)for(var h=0;h<b.length;h++)if((e=b[h])&&e.left<=d&&d<=e.left+e.width&&e.top<=c&&c<=e.top+e.height){f=!0;break;}b=$.Ar(this,"scroller");!f&&b&&b.Oe()&&(f=(e=b.ob())&&e.left<=d&&d<=e.left+e.width&&e.top<=c&&c<=e.top+e.height);f&&((Math.abs(a.deltaY)>Math.abs(a.deltaX)?(b=!(a.shiftKey||a.ctrlKey||a.metaKey),d=a.deltaY):(b=!1,d=a.deltaX),d=$.fb(d)*Math.min(Math.abs(d),21),c=this.Yc(),b)?!c.g("zoomOnMouseWheel")||(h=$.J(this.Qa(),p1),f=this.b.j,e=this.b.D,h?(f=this.b.Of(f),e=this.b.Of(e),b=this.b.b.Ag,c=this.b.b.Nj):(b=this.b.b.Ih,c=this.b.b.Vi),(0,window.isNaN)(b)||(0,window.isNaN)(c)||(d=.0125*d*(c-b),b-=d,c+=d,c-b>e-f?(b=f,c=e):(b<f&&(c+=f-b,b=f),c>e&&(b+=e-c,c=e)),h?(1>c-b&&(b=Math.round(b),c=b+1),b=this.b.wi(b),c=this.b.wi(c)):(d=this.b.Of(b),f=this.b.Of(c),1>f-d&&(d=Math.round(d),f=d+1,b=this.b.wi(d),c=this.b.wi(f))),b==this.b.b.Ih&&c==this.b.b.Vi))||(a.preventDefault(),this.oe=b,this.Od=c,$.n(this.ba)&&($.ll.cancelAnimationFrame(this.ba),this.td()),$.n(this.ea)||(this.ea=$.ll.requestAnimationFrame(this.Ed))):c.g("scrollOnMouseWheel")&&(b=this.SG(),!(0,window.isNaN)(b.sj)&&!(0,window.isNaN)(b.lastIndex)&&(d=Voa(this,.025*-d,b)))&&(a.preventDefault(),this.fh=d,this.mf=b,$.n(this.ea)&&($.ll.cancelAnimationFrame(this.ea),this.Ed()),$.n(this.ba)||(this.ba=$.ll.requestAnimationFrame(this.td))));};$.g.$da=function(){this.ea=void 0;W1(this,"selectedrangechangestart","mouse-wheel")&&W1(this,"selectedrangebeforechange","mouse-wheel",this.oe,this.Od)&&(V1(this,this.oe,this.Od),W1(this,"selectedrangechange","mouse-wheel"),W1(this,"selectedrangechangefinish","mouse-wheel"));};$.g.Zda=function(){this.ba=void 0;if(W1(this,"selectedrangechangestart","mouse-wheel")){var a=this.mf,b=z1(this,this.fh,a);b&&q1(this,b[0],b[1],a,"mouse-wheel");W1(this,"selectedrangechangefinish","mouse-wheel");}};var rpa={stock:{"zoom-marquee-start":{index:8,text:"Start zoom marquee",eventType:"anychart.startZoomMarquee",action:function action(a){a.menuParent.d6(!1);}},"stock-specific-separator":{index:9.4}}};$.g=T1.prototype;$.g.hx=function(a){$.Uc(a,$.Tl(rpa.stock));return a;};$.g.Xja=function(a){(a=W1(this,"selectedrangechangestart",$1(a.source)))&&Y1(this);return a;};$.g.Wja=function(a){a.preventDefault();var b=a.startKey,c=a.endKey;a=$1(a.source);W1(this,"selectedrangebeforechange",a,Math.min(b,c),Math.max(b,c))&&(V1(this,b,c),W1(this,"selectedrangechange",a));};$.g.Vja=function(a){a.preventDefault();W1(this,"selectedrangechangefinish",$1(a.source));Z1(this);};$.g.SG=function(){var a=this.b,b=a.j,c=a.D,d=this.Of(b),e=this.Of(c);return{ms:a.b.Ih,rw:a.b.Vi,sj:a.b.Ag,lastIndex:a.b.Nj,Mn:b,sp:c,Ms:d,zw:e};};$.g.kE=function(a){var b=this.b,c=b.j,d=b.D,e=this.Of(c),f=this.Of(d),h=b.b.Vi,k=b.b.Ag,l=b.b.Nj;a.ms=b.b.Ih;a.rw=h;a.sj=k;a.lastIndex=l;a.Mn=c;a.sp=d;a.Ms=e;a.zw=f;};$.g.R=function(){$.ud(this.f,this.i,this.b,this.Mf,this.Ml,this.aa,this.Uf,this.j,this.Ba);this.Ba=this.j=this.Uf=this.aa=this.Ml=this.Mf=this.i=this.f=null;delete this.b;delete this.Tb;T1.u.R.call(this);};$.g.F=function(){var a=T1.u.F.call(this);delete a.noDataLabel;a.grouping=this.Um().F();a.scrollerGrouping=this.BK().F();a.xScale=this.Qa().F();a.scroller=this.jC().F();a.plots=(0,$.Wa)(this.f,function(a){return a?a.F():null;});a.crosshair=this.lh().F();a.eventMarkers=this.rj().F();$.Xq(this,N3,a);a.interactivity=this.Yc().F();return a;};$.g.U=function(a,b){T1.u.U.call(this,a,b);var c;"xScale"in a&&this.Qa(a.xScale);this.Hg(b,a);this.lh(a.crosshair);"defaultPlotSettings"in a&&this.Q0(a.defaultPlotSettings);this.jC(a.scroller);this.Um(a.grouping);this.BK(a.scrollerGrouping);"defaultAnnotationSettings"in a&&this.ES(a.defaultAnnotationSettings);(c=a.eventMarkers)&&this.rj().fa(!!b,c);c=a.selectedRange;$.C(c)&&this.v5(c.start,c.end);$.Pq(this,N3,a);this.Yc(a.interactivity);};$.g.Hg=function(a,b){var c=(b||this.na).plots;if($.A(c))for(var d=0;d<c.length;d++)Loa(this,d,c[d],a);};$.g.f2=function(){var a=this.b.aa,b=[],c;for(c in a)b.push(RZ(a[c]));return b;};$.g.dD=function(){return["_","x"];};$.g.QG=function(a,b,c,d){var e=$.vo(a);e in d?d=d[e]:(d=d[e]=c.length,c.push([a,b]));return c[d];};$.g.PW=function(a,b,c){T1.u.PW.call(this,a,b.values,c);};$.g.eD=function(a){return a.Ch();};$.g.cD=function(a,b){var c=b.ka.mr().ee().oc.Ya||"yyyy-MM-ddTHH:mm:ss.SSS";return $.ys(a.Ch(),c);};$.g.I1=function(a,b){switch(b){case"selected":var c=a.Xf();break;case"grouped":c=a.ka;var d=c.hb?b_(c.hb,!1,!0):null,e=c.f.b;if(e.length){var f=0;var h=e.length-1;var k=e[f];e=e[h];}else f=h=window.NaN,k=e=null;c=new MZ(c.Zc,{Ih:window.NaN,Vi:window.NaN,xu:window.NaN,sj:f,lastIndex:h,Ty:window.NaN,oO:null,xT:k,r3:e,QI:null,NN:{},LN:{},XK:[],YK:[],O6:{},N6:{},M6:[],L6:[]},c.j,!c.i,d);break;default:c=c_(a.ka.mr().oL(),!1);}return c;};$.g.N2=function(){return"";};$.g.wM=function(a){a=T1.u.wM.call(this,a);a.headers.shift();a.data.sort(function(a,c){return a[0]-c[0];});(0,$.Re)(a.data,function(a){a.shift();});return a;};var O3=T1.prototype;$.F("anychart.stock",function(a){a=new T1(a);a.Hg(!0);return a;});O3.plot=O3.jf;O3.crosshair=O3.lh;O3.scroller=O3.jC;O3.splitters=O3.KE;O3.xScale=O3.Qa;O3.selectRange=O3.v5;O3.getSelectedRange=O3.sfa;O3.getType=O3.La;O3.legend=O3.$f;O3.grouping=O3.Um;O3.scrollerGrouping=O3.BK;O3.annotations=O3.Kk;O3.eventMarkers=O3.rj;O3.getPlotsCount=O3.rfa;O3.startZoomMarquee=O3.d6;O3.interactivity=O3.Yc;O3.preserveSelectedRangeOnDataUpdate=O3.rja;}).call(this,$);}if(!_.theme_stock){_.theme_stock=1;(function($){var Rta=function Rta(){var a=this.defaultDecimalDigitsCount||void 0;return this.seriesName+":\n  Open: "+$.AN(this.open,a)+"\n  High: "+$.AN(this.high,a)+"\n  Low: "+$.AN(this.low,a)+"\n  Close: "+$.AN(this.close,a);},k$=function k$(){return $.ys(this.x,$.ws($.vs(this.dataIntervalUnit,void 0,"full")));},Sta=function Sta(){return $.ys(this.hoveredDate,$.ws($.vs(this.dataIntervalUnit,void 0,"full")));};$.ra($.fa.anychart.themes.defaultTheme,{defaultGroupingSettings:{enabled:!0,forced:!1,levels:[{unit:"millisecond",count:1},{unit:"millisecond",count:5},{unit:"millisecond",count:10},{unit:"millisecond",count:25},{unit:"millisecond",count:50},{unit:"millisecond",count:100},{unit:"millisecond",count:250},{unit:"millisecond",count:500},{unit:"second",count:1},{unit:"second",count:5},{unit:"second",count:10},{unit:"second",count:20},{unit:"second",count:30},{unit:"minute",count:1},{unit:"minute",count:5},{unit:"minute",count:15},{unit:"minute",count:30},{unit:"hour",count:1},{unit:"hour",count:2},{unit:"hour",count:6},{unit:"hour",count:12},{unit:"day",count:1},{unit:"week",count:1},{unit:"month",count:1},{unit:"month",count:3},{unit:"month",count:6},{unit:"year",count:1}],maxVisiblePoints:500,minPixPerPoint:window.NaN},stock:{grouping:{},scrollerGrouping:{levels:[{unit:"millisecond",count:1},{unit:"millisecond",count:2},{unit:"millisecond",count:5},{unit:"millisecond",count:10},{unit:"millisecond",count:25},{unit:"millisecond",count:50},{unit:"millisecond",count:100},{unit:"millisecond",count:250},{unit:"millisecond",count:500},{unit:"second",count:1},{unit:"second",count:2},{unit:"second",count:5},{unit:"second",count:10},{unit:"second",count:20},{unit:"second",count:30},{unit:"minute",count:1},{unit:"minute",count:2},{unit:"minute",count:5},{unit:"minute",count:10},{unit:"minute",count:20},{unit:"minute",count:30},{unit:"hour",count:1},{unit:"hour",count:2},{unit:"hour",count:3},{unit:"hour",count:4},{unit:"hour",count:6},{unit:"hour",count:12},{unit:"day",count:1},{unit:"day",count:2},{unit:"day",count:4},{unit:"week",count:1},{unit:"week",count:2},{unit:"month",count:1},{unit:"month",count:2},{unit:"month",count:3},{unit:"month",count:6},{unit:"year",count:1}],maxVisiblePoints:window.NaN,minPixPerPoint:1},defaultAnnotationSettings:{},defaultPlotSettings:{defaultLineMarkerSettings:{zIndex:200.2},defaultTextMarkerSettings:{zIndex:200.3},annotations:{annotationsList:[],zIndex:2E3},background:{enabled:!1},title:{text:"Plot Title",padding:[5,5,2,5],fontSize:12},defaultSeriesSettings:{base:{pointWidth:"75%",tooltip:{format:function format(){var a=$.AN(this.value,this.defaultDecimalDigitsCount||void 0);return this.seriesName+": "+this.valuePrefix+a+this.valuePostfix;},titleFormat:Sta},legendItem:{iconStroke:"none"},normal:{labels:{offsetY:10}}},areaLike:{normal:{labels:{format:k$}},hovered:{markers:{enabled:null}},selected:{markers:{enabled:null}}},lineLike:{normal:{labels:{format:k$}},hovered:{markers:{enabled:null}},selected:{markers:{enabled:null}}},rangeLike:{normal:{labels:{format:k$}},tooltip:{format:function format(){var a=this.defaultDecimalDigitsCount||void 0;return this.seriesName+":\n  High: "+$.AN(this.high,a)+"\n  Low: "+$.AN(this.low,a);}}},candlestick:{normal:{labels:{format:k$}},tooltip:{format:Rta}},column:{normal:{labels:{format:k$},stroke:"none"}},rangeColumn:{normal:{labels:{format:k$},stroke:"none"}},ohlc:{normal:{labels:{format:k$}},tooltip:{format:Rta}}},defaultGridSettings:{scale:0},defaultMinorGridSettings:{scale:0},defaultYAxisSettings:{enabled:!0,orientation:"left",title:{enabled:!1,text:"Y-Axis"},staggerMode:!1,staggerLines:null,ticks:{enabled:!0},width:50,labels:{fontSize:"11px",padding:{top:0,right:5,bottom:0,left:5}},minorLabels:{fontSize:"11px",padding:{top:0,right:5,bottom:0,left:5}},scale:0},defaultPriceIndicatorSettings:{label:{enabled:!0,background:{enabled:!0,fill:"#000"},fontColor:"#fff",padding:[2,9],hAlign:"center",fontSize:"11px"},stroke:"black"},xAxis:{enabled:!0,orientation:"bottom",background:{stroke:"#cecece",fill:"#F7F7F7"},height:25,showHelperLabel:!0,scale:0,ticks:{enabled:!1,position:"center"},labels:{enabled:!0,fontSize:"11px",padding:5,anchor:"center-top",format:function format(){return $.ys(this.dataValue,$.ws($.vs(this.majorIntervalUnit)));}},minorLabels:{enabled:!0,anchor:"center-top",fontSize:"11px",padding:{top:5,right:0,bottom:5,left:0},format:function format(){return $.ys(this.dataValue,$.ws($.vs(this.minorIntervalUnit,this.majorIntervalUnit)));}}},dateTimeHighlighter:"#B9B9B9",legend:{enabled:!0,vAlign:"bottom",iconSize:13,position:"top",titleFormat:function titleFormat(){return $.ys(this.value,$.ws($.vs(this.dataIntervalUnit,void 0,"full")));},align:"left",padding:10,title:{enabled:!0,fontSize:12,text:"",background:{enabled:!1,fill:{keys:["#fff","#f3f3f3","#fff"],angle:"90"},stroke:{keys:["#ddd","#d0d0d0"],angle:"90"}},margin:{top:0,right:15,bottom:0,left:0},padding:0,orientation:"left",align:"left",hAlign:"left",rotation:0,wordBreak:"break-all"},titleSeparator:{enabled:!1,width:"100%",height:1,margin:{top:3,right:0,bottom:3,left:0},orientation:"top",fill:["#000 0","#000","#000 0"],stroke:"none"}},scales:[{type:"linear"}],yScale:0,zIndex:10,yAxes:[{}],crosshair:{zIndex:201,xLabels:[{enabled:null}],yLabels:[{enabled:null}]},dataArea:{zIndex:10,background:{fill:"none"}},baseline:0,weight:null},padding:[20,30,20,60],plots:[{}],eventMarkers:{stickToLeft:!0,normal:{type:"circle",width:22,height:22,fill:"#515151",stroke:"#515151",fontColor:"#fff",adjustFontSize:!0,minFontSize:6,maxFontSize:20,fontSize:null,format:"A",hAlign:"center",vAlign:"middle",fontPadding:2,connector:{length:5,stroke:"#455a64"}},hovered:{fill:$.KN},selected:{fill:"#dd2c00"},tooltip:{title:{fontColor:"#fff",enabled:!0},titleFormat:function titleFormat(){var a=$.ys(this.date,$.ws($.vs(this.dataIntervalUnit,void 0,"full")));return this.title?this.title+" ("+a+")":a;},format:function format(){return this.description||this.symbol;},fontColor:"#fff",separator:!0},direction:"auto",position:"axis",seriesId:"0",fieldName:"value"},scroller:{defaultSeriesSettings:{base:{enabled:!0,normal:{fill:"#999 0.6",stroke:"#999 0.6",lowStroke:"#999 0.6",highStroke:"#999 0.6"},selected:{fill:$.EN,stroke:$.EN,lowStroke:$.EN,highStroke:$.EN},pointWidth:"75%"},marker:{normal:{fill:"#999 0.6",stroke:"#999 0.6"},selected:{fill:$.EN,stroke:$.EN}},areaLike:{normal:{fill:"#999 0.6"}},barLike:{normal:{fill:"#999 0.6"}},candlestick:{normal:{risingFill:"#999 0.6",risingStroke:"#999 0.6",fallingFill:"#999 0.6",fallingStroke:"#999 0.6"},selected:{risingFill:"#64b5f6",risingStroke:"#64b5f6",fallingFill:"#ef6c00",fallingStroke:"#ef6c00"}},ohlc:{normal:{risingStroke:"#999 0.6",fallingStroke:"#999 0.6"},selected:{risingStroke:"#64b5f6",fallingStroke:"#ef6c00"}},stick:{normal:{stroke:"#999 0.6"},selected:{stroke:$.NN}},jumpLine:{normal:{stroke:"#999 0.6"},selected:{stroke:$.NN}}},enabled:!0,fill:"none",selectedFill:"#1976d2 0.2",outlineStroke:"#cecece",height:40,minHeight:null,maxHeight:null,zIndex:40,xAxis:{background:{enabled:!1},labels:{enabled:!0,fontSize:"11px",padding:5,anchor:"left-top",format:function format(){return $.ys(this.dataValue,$.ws($.vs(this.majorIntervalUnit)));}},minorLabels:{enabled:!0,anchor:"left-top",fontSize:"11px",padding:5,format:function format(){return $.ys(this.dataValue,$.ws($.vs(this.minorIntervalUnit,this.majorIntervalUnit)));}},ticks:{position:"center"},minorTicks:{enabled:!0,stroke:"#cecece",position:"center"},zIndex:75,showHelperLabel:!0}},splitters:{enabled:!0,normal:{stroke:"1 #ddd 0.5"},hovered:{stroke:"1 #ddd 0.8"},preview:{fill:"#000 0.1"}},plotsManualBounds:!1,tooltip:{allowLeaveScreen:!0,displayMode:"union",title:{fontSize:13},titleFormat:Sta},a11y:{titleFormat:$.SN},zoomMarqueeFill:"#d3d3d3 0.4",zoomMarqueeStroke:"#d3d3d3",interactivity:{allowPlotDrag:!0,zoomOnMouseWheel:!1,scrollOnMouseWheel:!1},crosshair:{enabled:!0,displayMode:"sticky",xLabels:[{enabled:null}],yLabels:[{enabled:null}],xStroke:"#969EA5",yStroke:"#969EA5"}}});}).call(this,$);}$_=window.anychart;$_.$=$;$_._=_;});

/***/ }),

/***/ "./resources/js/CkEditor5CommentsIntegration.js":
/*!******************************************************!*\
  !*** ./resources/js/CkEditor5CommentsIntegration.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
var CommentsIntegration = /*#__PURE__*/function () {
  function CommentsIntegration(editor) {
    _classCallCheck(this, CommentsIntegration);
    this.editor = editor;
  }
  _createClass(CommentsIntegration, [{
    key: "init",
    value: function init() {
      var usersPlugin = this.editor.plugins.get('Users');
      var commentsRepositoryPlugin = this.editor.plugins.get('CommentsRepository');
      var config = this.editor.config.get('commentsIntegration');

      // Load the users data.
      var _iterator = _createForOfIteratorHelper(config.users),
        _step;
      try {
        for (_iterator.s(); !(_step = _iterator.n()).done;) {
          var user = _step.value;
          usersPlugin.addUser(user);
        }

        // Set the current user.
      } catch (err) {
        _iterator.e(err);
      } finally {
        _iterator.f();
      }
      usersPlugin.defineMe(config.userId);

      // Load the comment threads data.
      var _iterator2 = _createForOfIteratorHelper(config.commentThreads),
        _step2;
      try {
        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
          var commentThread = _step2.value;
          commentsRepositoryPlugin.addCommentThread(commentThread);
        }
      } catch (err) {
        _iterator2.e(err);
      } finally {
        _iterator2.f();
      }
    }
  }], [{
    key: "requires",
    get: function get() {
      return ['CommentsRepository'];
    }
  }]);
  return CommentsIntegration;
}();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CommentsIntegration);

/***/ }),

/***/ "./resources/js/alpine.js":
/*!********************************!*\
  !*** ./resources/js/alpine.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var alpinejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! alpinejs */ "./node_modules/alpinejs/dist/module.esm.js");
/* harmony import */ var choices_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! choices.js */ "./node_modules/choices.js/public/assets/scripts/choices.js");
/* harmony import */ var choices_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(choices_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _alpinejs_intersect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @alpinejs/intersect */ "./node_modules/@alpinejs/intersect/dist/module.esm.js");
/* harmony import */ var _alpinejs_focus__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @alpinejs/focus */ "./node_modules/@alpinejs/focus/dist/module.esm.js");
/* harmony import */ var _ryangjchandler_alpine_clipboard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ryangjchandler/alpine-clipboard */ "./node_modules/@ryangjchandler/alpine-clipboard/src/index.js");
/* harmony import */ var _alpinejs_collapse__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @alpinejs/collapse */ "./node_modules/@alpinejs/collapse/dist/module.esm.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_6__);
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, ""); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, "_invoke", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: "normal", arg: fn.call(obj, arg) }; } catch (err) { return { type: "throw", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { ["next", "throw", "return"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if ("throw" !== record.type) { var result = record.arg, value = result.value; return value && "object" == _typeof(value) && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke("next", value, resolve, reject); }, function (err) { invoke("throw", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke("throw", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, "_invoke", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = "suspendedStart"; return function (method, arg) { if ("executing" === state) throw new Error("Generator is already running"); if ("completed" === state) { if ("throw" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if ("next" === context.method) context.sent = context._sent = context.arg;else if ("throw" === context.method) { if ("suspendedStart" === state) throw state = "completed", context.arg; context.dispatchException(context.arg); } else "return" === context.method && context.abrupt("return", context.arg); state = "executing"; var record = tryCatch(innerFn, self, context); if ("normal" === record.type) { if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, "throw" === methodName && delegate.iterator["return"] && (context.method = "return", context.arg = undefined, maybeInvokeDelegate(delegate, context), "throw" === context.method) || "return" !== methodName && (context.method = "throw", context.arg = new TypeError("The iterator does not provide a '" + methodName + "' method")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, "return" !== context.method && (context.method = "next", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = "normal", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: "root" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if ("function" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), exports.isGeneratorFunction = function (genFun) { var ctor = "function" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, "toString", function () { return "[object Generator]"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = "next", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if ("throw" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if ("root" === entry.tryLoc) return handle("end"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error("try statement without catch or finally"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if ("throw" === record.type) throw record.arg; return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, "catch": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if ("throw" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, "next" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }
function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }







window.Alpine = alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"];
alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].plugin(_ryangjchandler_alpine_clipboard__WEBPACK_IMPORTED_MODULE_4__["default"]);
alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].plugin(_alpinejs_intersect__WEBPACK_IMPORTED_MODULE_2__["default"]);
alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].plugin(_alpinejs_collapse__WEBPACK_IMPORTED_MODULE_5__["default"]);
alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].plugin(_alpinejs_focus__WEBPACK_IMPORTED_MODULE_3__["default"]);
document.addEventListener("alpine:init", function () {
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("questionIndicator", function () {
    return {
      showSlider: false,
      scrollStep: 100,
      totalScrollWidth: 0,
      activeQuestion: window.Livewire.find(document.querySelector("[test-take-player]").getAttribute("wire:id")).entangle("q")
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("tagManager", function () {
    return {
      tags: [],
      remove: function remove(index) {
        this.tags.splice(index, 1);
      },
      add: function add(inputElement) {
        if (inputElement.value) {
          this.tags.push(inputElement.value);
          inputElement.value = "";
        }
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("selectSearch", function (config) {
    var _config$emptyOptionsM, _config$placeholder;
    return {
      data: config.data,
      emptyOptionsMessage: (_config$emptyOptionsM = config.emptyOptionsMessage) !== null && _config$emptyOptionsM !== void 0 ? _config$emptyOptionsM : "No results match your search.",
      focusedOptionIndex: null,
      name: config.name,
      open: false,
      options: {},
      placeholder: (_config$placeholder = config.placeholder) !== null && _config$placeholder !== void 0 ? _config$placeholder : "Select an option",
      search: "",
      value: config.value,
      closeListbox: function closeListbox() {
        this.open = false;
        this.focusedOptionIndex = null;
        this.search = "";
      },
      focusNextOption: function focusNextOption() {
        if (this.focusedOptionIndex === null) return this.focusedOptionIndex = Object.keys(this.options).length - 1;
        if (this.focusedOptionIndex + 1 >= Object.keys(this.options).length) return;
        this.focusedOptionIndex++;
        this.$refs.listbox.children[this.focusedOptionIndex].scrollIntoView({
          block: "center"
        });
      },
      focusPreviousOption: function focusPreviousOption() {
        if (this.focusedOptionIndex === null) return this.focusedOptionIndex = 0;
        if (this.focusedOptionIndex <= 0) return;
        this.focusedOptionIndex--;
        this.$refs.listbox.children[this.focusedOptionIndex].scrollIntoView({
          block: "center"
        });
      },
      init: function init() {
        var _this = this;
        this.options = this.data;
        if (!(this.value in this.options)) this.value = null;
        this.$watch("search", function (value) {
          if (!_this.open || !value) return _this.options = _this.data;
          _this.options = Object.keys(_this.data).filter(function (key) {
            return _this.data[key].toLowerCase().includes(value.toLowerCase());
          }).reduce(function (options, key) {
            options[key] = _this.data[key];
            return options;
          }, {});
        });
      },
      selectOption: function selectOption() {
        if (!this.open) return this.toggleListboxVisibility();
        this.value = Object.keys(this.options)[this.focusedOptionIndex];
        this.closeListbox();
      },
      toggleListboxVisibility: function toggleListboxVisibility() {
        var _this2 = this;
        if (this.open) return this.closeListbox();
        this.focusedOptionIndex = Object.keys(this.options).indexOf(this.value);
        if (this.focusedOptionIndex < 0) this.focusedOptionIndex = 0;
        this.open = true;

        // this.$nextTick(() => {
        setTimeout(function () {
          _this2.$refs.search.focus();
          _this2.$refs.listbox.children[_this2.focusedOptionIndex].scrollIntoView({
            block: "center"
          });
        }, 10);
        // })
      }
    };
  });

  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("completionOptions", function (entangle) {
    return {
      showPopup: entangle.value,
      editorId: entangle.editorId,
      hasError: {
        empty: []
      },
      data: {
        elements: []
      },
      maxOptions: 10,
      minOptions: 1,
      init: function init() {
        for (var i = 0; i < this.minOptions; i++) {
          this.addRow();
        }
      },
      initWithCompletion: function initWithCompletion() {
        var _this3 = this;
        var editor = window.editor;
        // let selection = editor.data.stringify(editor.model.getSelectedContent(editor.model.document.selection));

        var selection = "";
        var range = editor.model.document.selection.getFirstRange();
        var _iterator = _createForOfIteratorHelper(range.getItems()),
          _step;
        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var value = _step.value;
            selection = selection + value.data;
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
        var text = selection.trim().replace("[", "").replace("]", "");
        var content = text;
        if (text.contains("|")) {
          content = text.split("|");
        }
        var currentDataRows = this.data.elements.length;
        if (!Array.isArray(content)) {
          this.data.elements[0].value = content;
          return;
        }
        content.forEach(function (word, key) {
          if (key === currentDataRows) {
            _this3.addRow();
            currentDataRows++;
          }
          _this3.data.elements[key].value = word.trim();
        });
      },
      addRow: function addRow() {
        var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
        var component = {
          id: this.data.elements.length,
          value: value,
          correct: true
        };
        this.data.elements.push(component);
      },
      trash: function trash(event, element) {
        event.stopPropagation();
        this.data.elements = this.data.elements.filter(function (el) {
          return el.id != element.id;
        });
        this.data.elements.forEach(function (el, key) {
          return el.id = key;
        });
      },
      insertDataInEditor: function insertDataInEditor() {
        var _this4 = this;
        var result = "[" + this.data.elements.map(function (item) {
          return item.value;
        }).join("|") + "]";
        var lw = livewire.find(document.getElementById("cms").getAttribute("wire:id"));
        lw.set("showSelectionOptionsModal", true);
        window.editor.model.change(function (writer) {
          window.editor.model.insertContent(writer.createText(result));
        });
        setTimeout(function () {
          _this4.$wire.setQuestionProperty("question", window.editor.getData());
        }, 300);
      },
      validateInput: function validateInput() {
        var emptyFields = this.data.elements.filter(function (element) {
          return element.value === "";
        });
        if (emptyFields.length !== 0) {
          this.hasError.empty = emptyFields.map(function (item) {
            return item.id;
          });
          Notify.notify("Niet alle velden zijn (correct) ingevuld", "error");
          return false;
        }
        return true;
      },
      save: function save() {
        if (!this.validateInput()) {
          return;
        }
        this.insertDataInEditor();
        this.closePopup();
      },
      disabled: function disabled() {
        if (this.data.elements.length >= this.maxOptions) {
          return true;
        }
        return !!this.data.elements.find(function (element) {
          return element.value === "";
        });
      },
      closePopup: function closePopup() {
        this.showPopup = false;
        this.data.elements = [];
        this.init();
      },
      canDelete: function canDelete() {
        return this.data.elements.length <= 1;
      },
      resetHasError: function resetHasError() {
        this.hasError.empty = [];
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("selectionOptions", function (entangle) {
    return {
      showPopup: entangle.value,
      editorId: entangle.editorId,
      hasError: {
        empty: [],
        "false": []
      },
      data: {
        elements: []
      },
      maxOptions: 10,
      minOptions: 2,
      init: function init() {
        for (var i = 0; i < this.minOptions; i++) {
          this.addRow();
        }
      },
      initWithSelection: function initWithSelection() {
        var _this5 = this;
        var editor = window.editor;
        // let selection = editor.data.stringify(editor.model.getSelectedContent(editor.model.document.selection));

        var selection = "";
        var range = editor.model.document.selection.getFirstRange();
        var _iterator2 = _createForOfIteratorHelper(range.getItems()),
          _step2;
        try {
          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
            var value = _step2.value;
            selection = selection + value.data;
          }
        } catch (err) {
          _iterator2.e(err);
        } finally {
          _iterator2.f();
        }
        var text = selection.trim().replace("[", "").replace("]", "");
        var content = text;
        if (text.contains("|")) {
          content = text.split("|");
        }
        var currentDataRows = this.data.elements.length;
        this.data.elements[0].checked = "true";
        if (!Array.isArray(content)) {
          this.data.elements[0].value = content;
          return;
        }
        content.forEach(function (word, key) {
          if (key === currentDataRows) {
            _this5.addRow();
            currentDataRows++;
          }
          _this5.data.elements[key].value = word.trim();
        });
      },
      addRow: function addRow() {
        var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
        var checked = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "false";
        var component = {
          id: this.data.elements.length,
          checked: checked,
          value: value
        };
        this.data.elements.push(component);
      },
      trash: function trash(event, element) {
        event.stopPropagation();
        this.data.elements = this.data.elements.filter(function (el) {
          return el.id != element.id;
        });
        this.data.elements.forEach(function (el, key) {
          return el.id = key;
        });
      },
      toggleChecked: function toggleChecked(event, element) {
        var _this6 = this;
        this.$nextTick(function () {
          if (element.checked == "true") {
            _this6.data.elements = _this6.data.elements.map(function (item) {
              item.checked = item.id == element.id ? "true" : "false";
              return item;
            });
          }
        });
      },
      insertDataInEditor: function insertDataInEditor() {
        var _this7 = this;
        var correct = this.data.elements.find(function (el) {
          return el.value != "" && el.checked == "true";
        });
        var result = this.data.elements.filter(function (el) {
          return el.value != "" && el.checked == "false";
        }).map(function (el) {
          return el.value;
        });
        result.unshift(correct.value);
        result = "[" + result.join("|") + "]";
        var lw = livewire.find(document.getElementById("cms").getAttribute("wire:id"));
        lw.set("showSelectionOptionsModal", true);
        window.editor.model.change(function (writer) {
          window.editor.model.insertContent(writer.createText(result));
        });
        setTimeout(function () {
          _this7.$wire.setQuestionProperty("question", window.editor.getData());
        }, 300);
      },
      validateInput: function validateInput() {
        var emptyFields = this.data.elements.filter(function (element) {
          return element.value === "";
        });
        var falseValues = this.data.elements.filter(function (element) {
          return element.checked === "false";
        });
        if (emptyFields.length !== 0 || this.data.elements.length === falseValues.length) {
          this.hasError.empty = emptyFields.map(function (item) {
            return item.id;
          });
          if (this.data.elements.length === falseValues.length) {
            this.hasError["false"] = falseValues.map(function (item) {
              return item.id;
            });
          }
          Notify.notify("Niet alle velden zijn (correct) ingevuld", "error");
          return false;
        }
        return true;
      },
      save: function save() {
        if (!this.validateInput()) {
          return;
        }
        this.insertDataInEditor();
        this.closePopup();
      },
      disabled: function disabled() {
        if (this.data.elements.length >= this.maxOptions) {
          return true;
        }
        return !!this.data.elements.find(function (element) {
          return element.value === "";
        });
      },
      closePopup: function closePopup() {
        this.showPopup = false;
        this.data.elements = [];
        this.init();
      },
      canDelete: function canDelete() {
        return this.data.elements.length <= 2;
      },
      resetHasError: function resetHasError() {
        this.hasError.empty = [];
        this.hasError["false"] = [];
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("badge", function () {
    var videoUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
    var mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "edit";
    return {
      options: false,
      videoUrl: videoUrl,
      videoTitle: videoUrl,
      resolvingTitle: true,
      index: 1,
      mode: mode,
      init: function init() {
        var _this8 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
          var fetchedTitle;
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                _this8.setIndex();
                _this8.$watch("options", function (value) {
                  if (value) {
                    var pWidth = _this8.$refs.optionscontainer.parentElement.offsetWidth;
                    var pPos = _this8.$refs.optionscontainer.parentElement.getBoundingClientRect().left;
                    if (pWidth + pPos < 288) {
                      _this8.$refs.optionscontainer.classList.remove("right-0");
                    }
                  }
                });
                if (!videoUrl) {
                  _context.next = 9;
                  break;
                }
                _context.next = 5;
                return getTitleForVideoUrl(videoUrl);
              case 5:
                fetchedTitle = _context.sent;
                _this8.videoTitle = fetchedTitle || videoUrl;
                _this8.resolvingTitle = false;
                if (mode === "edit") {
                  _this8.$wire.setVideoTitle(videoUrl, _this8.videoTitle);
                }
              case 9:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }))();
      },
      setIndex: function setIndex() {
        var parent = this.$root.parentElement;
        if (parent === null) return;
        this.index = Array.prototype.indexOf.call(parent.children, this.$el) + 1;
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("drawingTool", function (questionId, entanglements, isTeacher) {
    var isPreview = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
    return {
      show: false,
      questionId: questionId,
      answerSvg: entanglements.answerSvg,
      questionSvg: entanglements.questionSvg,
      gridSvg: entanglements.gridSvg,
      grid: entanglements.grid,
      isOldDrawing: entanglements.isOldDrawing,
      showWarning: false,
      clearSlate: false,
      isTeacher: isTeacher,
      toolName: null,
      isPreview: isPreview,
      init: function init() {
        var _this9 = this;
        this.toolName = "drawingTool_".concat(questionId);
        if (Object.getOwnPropertyNames(window).includes(this.toolName)) {
          delete window[this.toolName];
        }
        var toolName = window[this.toolName] = initDrawingQuestion(this.$root, this.isTeacher, this.isPreview, this.grid, this.isOldDrawing);
        if (this.isTeacher) {
          this.makeGridIfNecessary(toolName);
        }
        this.$watch("show", function (show) {
          if (show) {
            toolName.Canvas.data.answer = _this9.answerSvg;
            toolName.Canvas.data.question = _this9.questionSvg;
            _this9.handleGrid(toolName);
            toolName.drawingApp.init();
          } else {
            var component = getClosestLivewireComponentByAttribute(_this9.$root, "questionComponent");
            component.call("render");
          }
          isTeacher && _this9.$dispatch("set-allow-paste", !show); // disable filepond paste when drawing tool is open
        });

        toolName.Canvas.layers.answer.enable();
        if (this.isTeacher) {
          toolName.Canvas.setCurrentLayer("question");
        } else {
          toolName.Canvas.setCurrentLayer("answer");
        }
      },
      handleGrid: function handleGrid(toolName) {
        if (this.gridSvg !== "0.00" && this.gridSvg !== "") {
          var parsedGrid = parseFloat(this.gridSvg);
          toolName.UI.gridSize.value = parsedGrid;
          toolName.UI.gridToggle.checked = true;
          toolName.drawingApp.params.gridSize = parsedGrid;
          toolName.Canvas.layers.grid.params.hidden = false;
          if (!this.isTeacher) {
            // this.$root.querySelector('#grid-background')?.remove();
          }
        }
      },
      makeGridIfNecessary: function makeGridIfNecessary(toolName) {
        var gridSize = false;
        if (this.gridSvg !== "" && this.gridSvg !== "0.00") {
          gridSize = this.gridSvg;
        } else if (this.isOldDrawing == false && this.grid && this.grid !== "0") {
          gridSize = 1 / parseInt(this.grid) * 14; // This calculation is based on try and change to reach the closest formula that makes grid visualization same as old drawing
        }

        if (gridSize) {
          makePreviewGrid(toolName.drawingApp, gridSize);
          setTimeout(function () {
            makePreviewGrid(toolName.drawingApp, gridSize);
          }, 2000);
        }
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("questionEditorSidebar", function () {
    return {
      slideWidth: 300,
      drawer: null,
      resizing: false,
      resizeTimout: null,
      slides: ["home", "type", "newquestion", "questionbank"],
      activeSlide: null,
      scrollTimeout: null,
      pollingInterval: 2500,
      // Milliseconds;
      init: function init() {
        var _this10 = this;
        this.slideWidth = this.$root.offsetWidth;
        this.drawer = this.$root.closest(".drawer");
        this.setActiveSlideProperty(this.$root.scrollLeft);
        setTimeout(function () {
          _this10.handleVerticalScroll(_this10.$root.firstElementChild);
          _this10.scrollActiveQuestionIntoView();
        }, 400);
        this.poll(this.pollingInterval);
        this.$watch("$store.cms.handledAllRequests", function (value) {
          if (value) {
            _this10.checkActiveSlide();
          }
        });
      },
      checkActiveSlide: function checkActiveSlide() {
        if (!["newquestion", "questionbank"].includes(this.activeSlide)) {
          return;
        }
        if (this.$root.children[2].getAttribute("x-ref") === this.activeSlide) {
          return;
        }
        if (this.activeSlide === "newquestion") {
          return this.setNextSlide(this.$refs.newquestion);
        }
        if (this.activeSlide === "newquestion") {
          return this.setNextSlide(this.$refs.questionbank);
        }
        this.prev(this.$root.children[2]);
      },
      next: function next(currentEl) {
        var left = this.$refs.questionEditorSidebar.scrollLeft + this.slideWidth;
        this.scroll(left);
        this.handleVerticalScroll(currentEl.nextElementSibling);
      },
      prev: function prev(currentEl) {
        var left = this.$refs.questionEditorSidebar.scrollLeft - this.slideWidth;
        this.scroll(left);
        this.handleVerticalScroll(currentEl.previousElementSibling);
      },
      home: function home() {
        var scrollActiveIntoView = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
        this.scroll(0, scrollActiveIntoView);
        if (!this.$store.cms.emptyState) this.$dispatch("backdrop");
        this.handleVerticalScroll(this.$refs.home);
        this.$dispatch("closed-with-backdrop", false);
      },
      scroll: function scroll(position) {
        var scrollActiveIntoView = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
        this.setActiveSlideProperty(position);
        if (scrollActiveIntoView) this.scrollActiveQuestionIntoView();
        this.$refs.questionEditorSidebar.scrollTo(this.getScrollToProperties(position));
        this.$store.cms.scrollPos = 0;
      },
      handleVerticalScroll: function handleVerticalScroll(el) {
        var _this11 = this;
        if (el.getAttribute("x-ref") !== this.activeSlide) return;
        if (!this.$store.questionBank.active) {
          this.$refs.questionEditorSidebar.style.minHeight = "auto";
          this.$refs.questionEditorSidebar.style.height = "auto";
        }
        if (el.offsetHeight > this.drawer.offsetHeight) {
          this.drawer.classList.add("overflow-auto");
          this.drawer.classList.remove("overflow-hidden");
        } else {
          this.drawer.classList.add("overflow-hidden");
          this.drawer.classList.remove("overflow-auto");
        }
        this.$nextTick(function () {
          _this11.$refs.questionEditorSidebar.style.minHeight = _this11.drawer.offsetHeight + "px";
          _this11.$refs.questionEditorSidebar.style.height = el.offsetHeight + "px";
        });
      },
      setNextSlide: function setNextSlide(toInsert) {
        this.$root.insertBefore(toInsert, this.$refs.type.nextElementSibling);
      },
      showNewQuestion: function showNewQuestion(container) {
        var _this12 = this;
        this.setNextSlide(this.$refs.newquestion);
        this.$nextTick(function () {
          _this12.next(container);
        });
      },
      showQuestionBank: function showQuestionBank() {
        var _this13 = this;
        this.setNextSlide(this.$refs.questionbank);
        this.$nextTick(function () {
          _this13.drawer.classList.add("fullscreen");
          var boundingRect = _this13.$refs.questionbank.getBoundingClientRect();
          _this13.scroll(boundingRect.x + boundingRect.width);
          _this13.$store.questionBank.active = true;
        });
      },
      hideQuestionBank: function hideQuestionBank() {
        var _this14 = this;
        this.$root.querySelectorAll(".slide-container").forEach(function (slide) {
          slide.classList.add("opacity-0");
        });
        this.$store.questionBank.active = false;
        if (this.$store.questionBank.inGroup) {
          var drawerComponent = getClosestLivewireComponentByAttribute(this.$el, "cms-drawer");
          drawerComponent.set("groupId", null);
          this.$store.questionBank.inGroup = false;
        }
        this.$nextTick(function () {
          _this14.drawer.classList.remove("fullscreen");
          _this14.home();
          // this.scroll(container.parentElement.firstElementChild.offsetWidth);
          setTimeout(function () {
            _this14.$root.querySelectorAll(".slide-container").forEach(function (slide) {
              slide.classList.remove("opacity-0");
            });
            _this14.$wire.emitTo("drawer.cms", "refreshDrawer");
            _this14.$dispatch("resize");
          }, 400);
          _this14.$wire.emitTo("drawer.cms", "refreshDrawer");
        });
      },
      addQuestionToGroup: function addQuestionToGroup(uuid) {
        this.$store.questionBank.inGroup = uuid;
        this.showAddQuestionSlide(true, false);
      },
      addGroup: function addGroup() {
        var shouldCheckDirty = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
        if (this.emitAddToOpenShortIfNecessary(shouldCheckDirty, true, false)) {
          this.$wire.addGroup();
        }
      },
      showAddQuestionSlide: function showAddQuestionSlide() {
        var _arguments = arguments,
          _this15 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
          var shouldCheckDirty, clearGroupUuid, questionBankLivewireComponent;
          return _regeneratorRuntime().wrap(function _callee2$(_context2) {
            while (1) switch (_context2.prev = _context2.next) {
              case 0:
                shouldCheckDirty = _arguments.length > 0 && _arguments[0] !== undefined ? _arguments[0] : true;
                clearGroupUuid = _arguments.length > 1 && _arguments[1] !== undefined ? _arguments[1] : true;
                if (!_this15.emitAddToOpenShortIfNecessary(shouldCheckDirty, false, false)) {
                  _context2.next = 10;
                  break;
                }
                if (!clearGroupUuid) {
                  _context2.next = 8;
                  break;
                }
                questionBankLivewireComponent = Livewire.find(_this15.drawer.querySelector("#question-bank").getAttribute("wire:id"));
                _context2.next = 7;
                return questionBankLivewireComponent.clearInGroupProperty();
              case 7:
                _this15.$store.questionBank.inGroup = false;
              case 8:
                _this15.next(_this15.$refs.home);
                if (!_this15.$store.cms.emptyState) {
                  _this15.$dispatch("backdrop");
                }
              case 10:
              case "end":
                return _context2.stop();
            }
          }, _callee2);
        }))();
      },
      addSubQuestionToNewGroup: function addSubQuestionToNewGroup() {
        var shouldCheckDirty = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
        this.emitAddToOpenShortIfNecessary(shouldCheckDirty, false, true);
      },
      emitAddToOpenShortIfNecessary: function emitAddToOpenShortIfNecessary() {
        var shouldCheckDirty = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
        var group = arguments.length > 1 ? arguments[1] : undefined;
        var newSubQuestion = arguments.length > 2 ? arguments[2] : undefined;
        this.$dispatch("store-current-question");
        if (shouldCheckDirty && this.$store.cms.dirty) {
          this.$wire.emitTo("teacher.cms.constructor", "addQuestionFromDirty", {
            group: group,
            newSubQuestion: newSubQuestion,
            groupUuid: this.$store.questionBank.inGroup
          });
          return false;
        }
        return true;
      },
      backToQuestionOverview: function backToQuestionOverview(container) {
        this.home(false);
        this.$store.questionBank.inGroup = false;
      },
      handleResizing: function handleResizing() {
        var _this16 = this;
        clearTimeout(this.resizeTimout);
        if (this.$store.questionBank.active) {
          if (!this.resizing) this.resizing = true;
          this.resizeTimout = setTimeout(function () {
            _this16.$root.scrollLeft = _this16.$refs.questionbank.offsetLeft;
            _this16.resizing = false;
          }, 500);
        }
      },
      scrollActiveQuestionIntoView: function scrollActiveQuestionIntoView() {
        var _this17 = this;
        if (this.activeSlide !== "home") return;
        clearTimeout(this.scrollTimeout);
        this.scrollTimeout = setTimeout(function () {
          var activeQuestion = _this17.$refs.home.querySelector(".question-button.question-active");
          activeQuestion || (activeQuestion = _this17.$refs.home.querySelector(".group-active"));
          if (activeQuestion === null) return clearTimeout(_this17.scrollTimeout);
          var top = activeQuestion.getBoundingClientRect().top;
          var screenWithBottomMargin = window.screen.height - 200;
          if (top >= screenWithBottomMargin) {
            _this17.drawer.scrollTo({
              top: top - screenWithBottomMargin / 2,
              behavior: "smooth"
            });
          }
          clearTimeout(_this17.scrollTimeout);
        }, 750);
      },
      setActiveSlideProperty: function setActiveSlideProperty(position) {
        var index = position / this.slideWidth > 2 ? 3 : Math.round(position / this.slideWidth);
        this.activeSlide = this.slides[index];
      },
      poll: function poll(interval) {
        var _this18 = this;
        setTimeout(function () {
          if (_this18.activeSlide !== "questionbank") {
            var el = _this18.$root.querySelector("[x-ref=\"".concat(_this18.activeSlide, "\"]"));
            if (el !== null) _this18.handleVerticalScroll(el);
          }
          _this18.poll(interval);
        }, interval);
      },
      getScrollToProperties: function getScrollToProperties(position) {
        var safariAgent = navigator.userAgent.indexOf("Safari") > -1;
        var chromeAgent = navigator.userAgent.indexOf("Chrome") > -1;
        if (chromeAgent && safariAgent) safariAgent = false;
        var scrollToSettings = {
          left: position >= 0 ? position : 0
        };
        /* RR: Smooth scrolling breaks entirely on Safari 15.4 so I only add it in non-safari browsers just so it doesn't break anything..*/
        if (!safariAgent) {
          scrollToSettings.behavior = "smooth";
        }
        return scrollToSettings;
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("choices", function (wireModel, multiple, options, config, filterContainer) {
    return {
      multiple: multiple,
      value: wireModel,
      options: options,
      config: config,
      wireModel: wireModel,
      activeFiltersContainer: null,
      choices: null,
      activeGroups: [],
      init: function init() {
        var _window,
          _window$registeredEve,
          _this19 = this;
        // some new fancy way of setting a value when undefined
        (_window$registeredEve = (_window = window).registeredEventHandlers) !== null && _window$registeredEve !== void 0 ? _window$registeredEve : _window.registeredEventHandlers = [];
        this.activeFiltersContainer = document.getElementById(filterContainer);
        this.multiple = multiple === 1;
        var label = document.querySelector("[for=\"".concat(this.$root.querySelector("select").id, "\"]"));
        this.$nextTick(function () {
          var helper = _this19.$root.querySelector("#text-length-helper");
          var minWidth = helper.offsetWidth;
          helper.style.display = "none";
          var choices = new (choices_js__WEBPACK_IMPORTED_MODULE_1___default())(_this19.$root.querySelector("select"), _this19.getChoicesConfig());
          var refreshChoices = function refreshChoices() {
            var selection = _this19.multiple ? _this19.value : [_this19.value];
            var options = _typeof(_this19.options) === "object" ? Object.values(_this19.options) : _this19.options;
            _this19.setActiveGroupsOnInit();
            choices.clearStore();
            _this19.addPlaceholderValues(choices);
            options = options.map(function (_ref) {
              var value = _ref.value,
                label = _ref.label,
                customProperties = _ref.customProperties;
              return {
                value: value,
                label: label,
                customProperties: customProperties !== null && customProperties !== void 0 ? customProperties : {},
                selected: selection.includes(value)
              };
            });
            choices.setChoices(options);
            _this19.handleActiveFilters(choices.getValue());
            _this19.handleContainerWidth(minWidth);
          };
          refreshChoices();
          _this19.$refs.select.addEventListener("choice", function (event) {
            var eventValue = _this19.getValidatedEventValue(event);
            var choice = event.detail.choice;
            if (!Array.isArray(_this19.value)) {
              _this19.value = eventValue;
              return;
            }
            if (_this19.isAParentChoice(choice)) {
              _this19.handleGroupItemChoice(choice);
            }
            if (isUnselectedRegularOrChildChoice.call(_this19)) {
              var _choice$customPropert;
              _this19.removeFilterItem(choices.getValue().find(function (value) {
                return value.value === choice.value;
              }));
              if (_this19.value.includes((_choice$customPropert = choice.customProperties) === null || _choice$customPropert === void 0 ? void 0 : _choice$customPropert.parentId)) {
                _this19.removeFilterItemByValue(choice.customProperties.parentId);
                _this19.activeGroups = _this19.activeGroups.filter(function (groupId) {
                  return groupId !== choice.customProperties.parentId;
                });
              }
            }
            _this19.wireModel = _this19.value;
            refreshChoices();
            function isUnselectedRegularOrChildChoice() {
              return this.value.includes(eventValue) && (this.isAChildChoice(choice) || this.isARegularChoice(choice));
            }
          });
          _this19.$refs.select.addEventListener("change", function () {
            if (!Array.isArray(_this19.value)) return;
            _this19.value = choices.getValue(true);
          });
          var eventName = _this19.getRemoveEventName();
          if (!window.registeredEventHandlers.includes(eventName)) {
            window.registeredEventHandlers.push(eventName);
            window.addEventListener(eventName, function (event) {
              /* If this yields no result, make sure the remove eventnames are unique on the page :) */
              var choice = choices.getValue().filter(function (choice) {
                return choice.value.toString() === event.detail.value.toString();
              })[0];
              if (_this19.isAParentChoice(choice)) {
                _this19.handleGroupItemChoice(choice);
              } else {
                _this19.removeFilterItem(choice);
              }
              refreshChoices();
            });
          }
          _this19.$watch("value", function () {
            return refreshChoices();
          });
          _this19.$watch("options", function () {
            return refreshChoices();
          });
          _this19.$refs.select.addEventListener("showDropdown", function () {
            if (_this19.$root.querySelector(".is-active") && _this19.$root.classList.contains("super")) {
              _this19.$refs.chevron.style.left = _this19.$root.querySelector(".is-active").offsetWidth - 25 + "px";
            }
            label === null || label === void 0 ? void 0 : label.classList.add("text-primary", "bold");
          });
          _this19.$refs.select.addEventListener("hideDropdown", function () {
            _this19.$refs.chevron.style.left = "auto";
            label === null || label === void 0 ? void 0 : label.classList.remove("text-primary", "bold");
          });
          _this19.$root.addEventListener("mouseover", function () {
            label === null || label === void 0 ? void 0 : label.classList.add("text-primary");
          });
          _this19.$root.addEventListener("mouseout", function () {
            if (!_this19.$root.querySelector(".choices__list.choices__list--dropdown.is-active")) {
              label === null || label === void 0 ? void 0 : label.classList.remove("text-primary");
            }
          });
        });
      },
      setActiveGroupsOnInit: function setActiveGroupsOnInit() {
        var _this20 = this;
        if (this.activeGroups.length) {
          this.activeGroups.forEach(function (value) {
            return _this20.clearFilterPill(value);
          });
        }
        this.activeGroups = [];
        this.options.forEach(function (option) {
          var _option$customPropert;
          if (((_option$customPropert = option.customProperties) === null || _option$customPropert === void 0 ? void 0 : _option$customPropert.parent) === true) {
            if (_this20.value.includes(option.value)) {
              _this20.activeGroups.push(option.value);
            }
          }
        });
        this.activeGroups = this.activeGroups.filter(function (value, index, self) {
          return self.indexOf(value) === index;
        });
      },
      handleGroupItemChoice: function handleGroupItemChoice(choice) {
        var _this21 = this;
        var parentId = choice.customProperties.parentId;
        var childValues = this.options.filter(function (option) {
          return option.customProperties.parent === false && parentId === option.customProperties.parentId;
        }).map(function (value) {
          return value.value;
        });
        if (!this.value.includes(choice.value)) {
          this.value = _.union(this.value, childValues, [choice.value]);
          this.activeGroups.push(choice.value);
          return;
        }
        var valuesToSplice = _.union(childValues, [choice.value]);
        valuesToSplice.forEach(function (val) {
          if (_this21.value.includes(val)) {
            _this21.removeFilterItemByValue(val);
          }
        });
        this.activeGroups = this.activeGroups.filter(function (groupId) {
          return groupId !== choice.customProperties.parentId;
        });
      },
      isAParentChoice: function isAParentChoice(choice) {
        var _choice$customPropert2;
        return ((_choice$customPropert2 = choice.customProperties) === null || _choice$customPropert2 === void 0 ? void 0 : _choice$customPropert2.parent) === true;
      },
      isAChildChoice: function isAChildChoice(choice) {
        var _choice$customPropert3, _choice$customPropert4;
        return ((_choice$customPropert3 = choice.customProperties) === null || _choice$customPropert3 === void 0 ? void 0 : _choice$customPropert3.parentId) !== undefined && ((_choice$customPropert4 = choice.customProperties) === null || _choice$customPropert4 === void 0 ? void 0 : _choice$customPropert4.parent) === false;
      },
      isARegularChoice: function isARegularChoice(choice) {
        return choice.customProperties.parent === undefined;
      },
      removeFilterItem: function removeFilterItem(item) {
        if (!Array.isArray(this.value)) return;
        this.removeFilterItemByValue(item.value);
      },
      removeFilterItemByValue: function removeFilterItemByValue(value) {
        this.value.splice(this.value.indexOf(value), 1);
        this.clearFilterPill(value);
      },
      getDataSelector: function getDataSelector(item) {
        return "[data-filter=\"".concat(this.$root.dataset.modelName, "\"][data-filter-value=\"").concat(item, "\"]");
      },
      handleActiveFilters: function handleActiveFilters(choicesValues) {
        var _this22 = this;
        if (!Array.isArray(this.value)) return;
        var valuesToCreatePillsFor = this.value;
        if (this.activeGroups.length) {
          valuesToCreatePillsFor = choicesValues.filter(function (value) {
            var _value$customProperti, _value$customProperti2;
            if (((_value$customProperti = value.customProperties) === null || _value$customProperti === void 0 ? void 0 : _value$customProperti.parent) === true) {
              return true;
            }
            if (!_this22.activeGroups.includes((_value$customProperti2 = value.customProperties) === null || _value$customProperti2 === void 0 ? void 0 : _value$customProperti2.parentId)) {
              return true;
            }
            if (!_this22.needsFilterPill(value.value)) {
              _this22.clearFilterPill(value.value);
            }
            return false;
          }).map(function (item) {
            return item.value;
          });
        }
        valuesToCreatePillsFor.forEach(function (item) {
          if (_this22.needsFilterPill(item)) {
            var cItem = choicesValues.find(function (value) {
              return value.value === item;
            });
            if (typeof cItem !== "undefined") {
              _this22.createFilterPill(cItem);
            }
          }
        });
      },
      getTextForFilterPill: function getTextForFilterPill(item, element) {
        var innerHtml = item.label;
        if (this.isAChildChoice(item)) {
          innerHtml = "".concat(item.customProperties.parentLabel, ": ").concat(item.label);
        }
        if (this.isAParentChoice(item)) {
          innerHtml = "".concat(item.label, ": ").concat(element.dataset.transAny);
        }
        return innerHtml;
      },
      createFilterPill: function createFilterPill(item) {
        var element = this.$root.parentElement.querySelector("#filter-pill-template").content.firstElementChild.cloneNode(true);
        element.id = "filter-".concat(this.$root.dataset.modelName, "-").concat(item.value);
        element.classList.add("filter-pill");
        element.dataset.filter = this.$root.dataset.modelName;
        element.dataset.filterValue = item.value;
        element.dataset.removeEventName = this.getRemoveEventName();
        element.firstElementChild.innerHTML = this.getTextForFilterPill(item, element);
        return this.activeFiltersContainer.appendChild(element);
      },
      needsFilterPill: function needsFilterPill(item) {
        return this.activeFiltersContainer.querySelector(this.getDataSelector(item)) === null;
      },
      clearFilterPill: function clearFilterPill(item) {
        var _this$activeFiltersCo;
        return (_this$activeFiltersCo = this.activeFiltersContainer.querySelector(this.getDataSelector(item))) === null || _this$activeFiltersCo === void 0 ? void 0 : _this$activeFiltersCo.remove();
      },
      getValidatedEventValue: function getValidatedEventValue(event) {
        var eventValue = event.detail.choice.value;
        // UUID values can be parseInt'd but then the value is only the first integers until a letter occurs. So this checks the length of the event value vs the parsed value;
        if (Number.isInteger(parseInt(event.detail.choice.value)) && JSON.stringify(parseInt(event.detail.choice.value)).length === event.detail.choice.value.length) {
          eventValue = parseInt(event.detail.choice.value);
        }
        return eventValue;
      },
      getChoicesConfig: function getChoicesConfig() {
        return _objectSpread(_objectSpread({}, this.config), {}, {
          callbackOnCreateTemplates: function callbackOnCreateTemplates() {
            return {
              choice: function choice(classes, attr) {
                var _attr$customPropertie;
                var el = choices_js__WEBPACK_IMPORTED_MODULE_1___default().defaults.templates.choice.call(this, classes, attr, "");
                if (((_attr$customPropertie = attr.customProperties) === null || _attr$customPropertie === void 0 ? void 0 : _attr$customPropertie.parent) === false) {
                  el.classList.add("child");
                }
                return el;
              }
            };
          }
        });
      },
      addPlaceholderValues: function addPlaceholderValues(choices) {
        var _this$$root$querySele;
        if (!this.config.placeholderValue.length || !this.$root.classList.contains("super")) {
          return;
        }
        var placeholderItem = choices._getTemplate("placeholder", this.config.placeholderValue);
        placeholderItem.classList.add("truncate", "min-w-[1rem]", "placeholder");
        (_this$$root$querySele = this.$root.querySelector(".choices__placeholder.placeholder")) === null || _this$$root$querySele === void 0 ? void 0 : _this$$root$querySele.remove();
        choices.itemList.append(placeholderItem);
      },
      getRemoveEventName: function getRemoveEventName() {
        return "removeFrom" + this.$root.getAttribute("wire:key");
      },
      handleContainerWidth: function handleContainerWidth(minWidth) {
        if (this.$root.classList.contains("super")) return;
        this.$root.querySelector("input.choices__input[type=\"search\"]").style.width = minWidth + 16 + "px";
        this.$root.querySelector("input.choices__input[type=\"search\"]").style.minWidth = "auto";
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("analysesSubjectsGraph", function (modelId) {
    return {
      modelId: modelId,
      data: [],
      colors: ["#30BC51", "#5043F6", "#ECEE7D", "#6820CE", "#CB110E", "#F79D25", "#1B6112", "#43ACF5", "#E12576", "#24D2C5"],
      showEmptyState: false,
      init: function init() {
        this.updateGraph();
      },
      updateGraph: function updateGraph() {
        var _this23 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
          var _yield$_this23$$wire$, _yield$_this23$$wire$2;
          return _regeneratorRuntime().wrap(function _callee3$(_context3) {
            while (1) switch (_context3.prev = _context3.next) {
              case 0:
                _context3.next = 2;
                return _this23.$wire.call("getDataForGraph");
              case 2:
                _yield$_this23$$wire$ = _context3.sent;
                _yield$_this23$$wire$2 = _slicedToArray(_yield$_this23$$wire$, 2);
                _this23.showEmptyState = _yield$_this23$$wire$2[0];
                _this23.data = _yield$_this23$$wire$2[1];
                _this23.renderGraph();
              case 7:
              case "end":
                return _context3.stop();
            }
          }, _callee3);
        }))();
      },
      renderGraph: function renderGraph() {
        var cssSelector = "#pValueChart>div:not(.empty-state)";
        this.$root.querySelectorAll(cssSelector).forEach(function (node) {
          return node.remove();
        });
        var chart = anychart.column();
        var series = chart.column(this.data);
        var palette = anychart.palettes.distinctColors();
        palette.items(this.colors);
        var yScale = chart.yScale();
        yScale.minimum(0);
        yScale.maximum(1.00);
        yScale.ticks().interval(0.25);
        chart.yAxis(0).labels().format(function () {
          return this.value == 0 ? "P 0" : "P " + this.value.toFixed(2);
        });
        chart.yGrid().enabled(true);
        chart.xAxis(0).labels().fontWeight("bold").fontColor("#041f74").rotation(-60);
        for (var i = 0; series.getPoint(i).exists(); i++) series.getPoint(i).set("fill", palette.itemAt(i));
        series.selected().fill("#444");
        series.stroke(null);
        this.initTooltips(chart, this.data, series);
        var legend = chart.legend();
        // enable legend
        legend.enabled(true);
        // set source of legend items
        legend.itemsSourceMode("categories");
        legend.itemsFormatter(function (items) {
          for (var i = 0; i < items.length; i++) {
            items[i].iconType = "square";
            items[i].iconFill = palette.itemAt([i]);
            items[i].iconEnabled = true;
            items[i].fontWeight = "bold";
            items[i].fontColor = "#041f74";
          }
          return items;
        });
        legend.listen("legendItemMouseOver", function (event) {
          // get item's index
          var index = event["itemIndex"];
          // enable the hover state of the series
          series.getPoint(index).hovered(true);
        });
        legend.listen("legendItemMouseOut", function (event) {
          // get item's index
          var index = event["itemIndex"];
          // disable the hover state of the series
          series.getPoint(index).hovered(false);
        });
        legend.listen("legendItemClick", function (event) {
          // get item's index
          var index = event["itemIndex"];
          // disable the hover state of the series
          series.getPoint(index).selected(!series.getPoint(index).selected());
          legend.itemsFormatter(function (items) {
            for (var i = 0; i < items.length; i++) {
              items[i].iconType = "square";
              if (series.getPoint(i).selected()) items[i].iconFill = "#444";else items[i].iconFill = palette.itemAt([i]);
              items[i].iconEnabled = true;
            }
            return items;
          });
        });
        chart.listen("pointsSelect", function () {
          legend.itemsFormatter(function (items) {
            for (var i = 0; i < items.length; i++) {
              items[i].iconType = "square";
              if (series.getPoint(i).selected()) items[i].iconFill = "#444";else items[i].iconFill = palette.itemAt([i]);
              items[i].iconEnabled = true;
            }
            return items;
          });
        });
        chart.listen("pointsSelect", function (e) {
          if (e.point.get("link")) {
            window.open(e.point.get("link"), "_self");
          }
        });

        // // set container id for the chart
        chart.container("pValueChart");
        // initiate chart drawing
        chart.draw();
      },
      initTooltips: function initTooltips(chart, data, series) {
        chart.tooltip().useHtml(true);
        chart.tooltip().title(false);
        chart.tooltip().separator(false);
        series.tooltip().enabled(false);
        var contentElement = null;
        var dataRow = null;
        chart.listen("pointMouseOver", function (e) {
          return series.tooltip().enabled(false);
        });
        chart.listen("pointMouseOver", function (e) {
          // get the data for the current point
          dataRow = data[e.pointIndex];
          series.tooltip().enabled(true);
          if (contentElement) {
            fillTooltipHtml();
          }
        });
        function fillTooltipHtml() {
          if (!dataRow) return;
          while (contentElement.firstChild) {
            contentElement.firstChild.remove();
          }
          var attainmentHeader = document.createElement("h5");
          attainmentHeader.style.color = "var(--system-base)";
          attainmentHeader.appendChild(document.createTextNode(dataRow.title));
          contentElement.appendChild(attainmentHeader);
          var scoreElement = document.createElement("h2");
          scoreElement.style.color = "var(--system-base)";
          scoreElement.appendChild(document.createTextNode("P ".concat(dataRow.value)));
          contentElement.appendChild(scoreElement);
          var basedOnElement = document.createElement("p");
          basedOnElement.style.color = "var(--system-base)";
          basedOnElement.appendChild(document.createTextNode(dataRow.basedOn));
          contentElement.appendChild(basedOnElement);
          if (dataRow.link != false) {
            var detailElement = document.createElement("p");
            detailElement.style.whiteSpace = "nowrap";
            detailElement.style.color = "var(--system-base)";
            detailElement.style.fontWeight = "900";
            detailElement.appendChild(document.createTextNode("Bekijk analyse"));
            var iconElement = document.createElement("img");
            iconElement.src = "/svg/icons/arrow-small.svg";
            iconElement.style.display = "inline-block";
            detailElement.appendChild(iconElement);
            contentElement.appendChild(detailElement);
          }
        }
        chart.tooltip().onDomReady(function (e) {
          this.parentElement.style.border = "1px solid var(--blue-grey)";
          this.parentElement.style.background = "#FFFFFF";
          this.parentElement.style.opacity = "0.8";
          contentElement = this.contentElement;
          fillTooltipHtml();
        });

        /* prevent the content of the contentElement div
        from being overridden by the default formatter */
        chart.tooltip().onBeforeContentChange(function () {
          return false;
        });
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("analysesSubjectsTimeSeriesGraph", function (modelId) {
    return {
      modelId: modelId,
      data: [],
      colors: ["#30BC51", "#5043F6", "#ECEE7D", "#6820CE", "#CB110E", "#F79D25", "#1B6112", "#43ACF5", "#E12576", "#24D2C5"],
      subjects: [],
      showEmptyState: false,
      init: function init() {
        this.updateGraph();
      },
      updateGraph: function updateGraph() {
        var _this24 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
          var _yield$_this24$$wire$, _yield$_this24$$wire$2;
          return _regeneratorRuntime().wrap(function _callee4$(_context4) {
            while (1) switch (_context4.prev = _context4.next) {
              case 0:
                _context4.next = 2;
                return _this24.$wire.call("getDataForSubjectTimeSeriesGraph");
              case 2:
                _yield$_this24$$wire$ = _context4.sent;
                _yield$_this24$$wire$2 = _slicedToArray(_yield$_this24$$wire$, 3);
                _this24.showEmptyState = _yield$_this24$$wire$2[0];
                _this24.data = _yield$_this24$$wire$2[1];
                _this24.subjects = _yield$_this24$$wire$2[2];
                _this24.renderGraph();
              case 8:
              case "end":
                return _context4.stop();
            }
          }, _callee4);
        }))();
      },
      renderGraph: function renderGraph() {
        var _this25 = this;
        var cssSelector = "#" + this.modelId + ">div:not(.empty-state)";
        this.$root.querySelectorAll(cssSelector).forEach(function (node) {
          return node.remove();
        });
        // set the data
        var table = anychart.data.table();
        table.addData(this.data);

        // chart type
        var chart = anychart.stock();
        var yScale = chart.plot(0).yScale();
        yScale.minimum(0);
        yScale.maximum(1.00);
        yScale.ticks().interval(0.25);
        var line = chart.plot(0).lineMarker();
        line.value(0);
        line.stroke("2 var(--system-base)");
        chart.plot(0).yAxis(0).labels().format(function () {
          return this.value == 0 ? "P 0" : "P " + this.value.toFixed(2);
        });

        // access labels
        var labels = chart.scroller().xAxis().labels();
        var minorLabels = chart.scroller().xAxis().minorLabels();

        // set major labels text format
        labels.format(function () {
          return "'" + anychart.format.dateTime(this.tickValue, "Y");
        });
        // set labels color
        labels.fontColor("var(--system-base)");
        labels.fontWeight("bold");

        // set minor labels text format
        minorLabels.format(function () {
          return anychart.format.dateTime(this.tickValue, "MMM");
        });

        // set minor color to selectedColorForScroller;
        minorLabels.fontColor("var(--system-base) 0.5");
        //

        chart.scroller().selectedFill("var(--system-base) 0.1");
        chart.scroller().outlineStroke("var(--system-base)", 2);
        chart.scroller().outline;
        chart.interactivity().hoverMode("single");
        this.subjects.forEach(function (el, index) {
          var totalDefinitions = ["Vak totaal", "Subject total", "Attainement total", "Eindterm totaal"];
          var strokeWidth = 2;
          var strokeColor = _this25.colors[index];
          var cnt = index + 1;
          var mapping = table.mapAs();
          if (totalDefinitions.includes(el)) {
            strokeWidth = 3;
            strokeColor = "var(--system-base)";
          }
          mapping.addField("value", cnt);
          var series = chart.plot(0).line(mapping);
          series.name(el);
          series.legendItem().useHtml(true);
          series.legendItem().format("{%seriesName}");
          var marker = series.normal().markers();
          marker.enabled(false);
          var marker1 = series.hovered().markers();
          marker1.enabled(true);
          marker1.size(4);
          marker1.type("circle");
          series.normal().stroke(strokeColor, strokeWidth);
          series.connectMissingPoints(true);
        });
        chart.title("");
        chart.plot(0).legend().titleFormat("");
        chart.container(this.modelId);
        chart.draw();
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("analysesAttainmentsGraph", function (modelId) {
    return {
      modelId: modelId,
      data: false,
      colors: ["#30BC51", "#5043F6", "#ECEE7D", "#6820CE", "#CB110E", "#F79D25", "#1B6112", "#43ACF5", "#E12576", "#24D2C5"],
      showEmptyState: false,
      init: function init() {
        this.updateGraph();
      },
      updateGraph: function updateGraph() {
        var _this26 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {
          var _yield$_this26$$wire$, _yield$_this26$$wire$2;
          return _regeneratorRuntime().wrap(function _callee5$(_context5) {
            while (1) switch (_context5.prev = _context5.next) {
              case 0:
                _context5.next = 2;
                return _this26.$wire.call("getDataForGraph");
              case 2:
                _yield$_this26$$wire$ = _context5.sent;
                _yield$_this26$$wire$2 = _slicedToArray(_yield$_this26$$wire$, 2);
                _this26.showEmptyState = _yield$_this26$$wire$2[0];
                _this26.data = _yield$_this26$$wire$2[1];
                _this26.renderGraph();
              case 7:
              case "end":
                return _context5.stop();
            }
          }, _callee5);
        }))();
      },
      renderGraph: function renderGraph() {
        var cssSelector = "#pValueChart>div:not(.empty-state)";
        this.$root.querySelectorAll(cssSelector).forEach(function (node) {
          return node.remove();
        });
        var chart = anychart.column();
        var series = chart.column(this.data);
        var palette = anychart.palettes.distinctColors();
        palette.items(this.colors);
        var yScale = chart.yScale();
        yScale.minimum(0);
        yScale.maximum(1.00);
        yScale.ticks().interval(0.25);
        chart.yAxis(0).labels().format(function () {
          return this.value == 0 ? "P 0" : "P " + this.value.toFixed(2);
        });
        chart.yGrid().enabled(true);
        chart.xAxis(0).labels().fontWeight("bold").fontColor("#041f74");
        for (var i = 0; series.getPoint(i).exists(); i++) series.getPoint(i).set("fill", palette.itemAt(i));
        series.selected().fill("#444");
        series.stroke(null);
        this.initTooltips(chart, this.data, series);
        var legend = chart.legend();
        // enable legend
        legend.enabled(true);
        // set source of legend items
        legend.itemsSourceMode("categories");
        var _data = this.data;
        legend.itemsFormatter(function (items) {
          for (var i = 0; i < items.length; i++) {
            items[i].iconType = "square";
            items[i].iconFill = palette.itemAt([i]);
            items[i].iconEnabled = true;
            items[i].text = _data[i].title;
            items[i].fontWeight = "bold";
            items[i].fontColor = "#041f74";
          }
          return items;
        });
        legend.listen("legendItemMouseOver", function (event) {
          // get item's index
          var index = event["itemIndex"];
          // enable the hover state of the series
          series.getPoint(index).hovered(true);
        });
        legend.listen("legendItemMouseOut", function (event) {
          // get item's index
          var index = event["itemIndex"];
          // disable the hover state of the series
          series.getPoint(index).hovered(false);
        });
        legend.listen("legendItemClick", function (event) {
          // get item's index
          var index = event["itemIndex"];
          // disable the hover state of the series
          series.getPoint(index).selected(!series.getPoint(index).selected());
          legend.itemsFormatter(function (items) {
            for (var i = 0; i < items.length; i++) {
              items[i].iconType = "square";
              if (series.getPoint(i).selected()) items[i].iconFill = "#444";else items[i].iconFill = palette.itemAt([i]);
              items[i].iconEnabled = true;
            }
            return items;
          });
        });
        chart.listen("pointsSelect", function () {
          legend.itemsFormatter(function (items) {
            for (var i = 0; i < items.length; i++) {
              items[i].iconType = "square";
              if (series.getPoint(i).selected()) items[i].iconFill = "#444";else items[i].iconFill = palette.itemAt([i]);
              items[i].iconEnabled = true;
            }
            return items;
          });
        });
        chart.listen("pointsSelect", function (e) {
          if (e.point.get("link")) {
            window.open(e.point.get("link"), "_self");
          }
        });
        chart.interactivity("by-x");

        // set container id for the chart
        chart.container("pValueChart");
        // initiate chart drawing
        chart.draw();
      },
      initTooltips: function initTooltips(chart, data, series) {
        chart.tooltip().useHtml(true);
        chart.tooltip().title(false);
        chart.tooltip().separator(false);
        series.tooltip().enabled(false);
        var contentElement = null;
        var dataRow = null;
        chart.listen("pointMouseOut", function (e) {
          return series.tooltip().enabled(false);
        });
        function fillTooltipHtml() {
          if (!dataRow) return;
          while (contentElement.firstChild) {
            contentElement.firstChild.remove();
          }
          var attainmentHeader = document.createElement("h5");
          attainmentHeader.style.color = "var(--system-base)";
          attainmentHeader.appendChild(document.createTextNode(dataRow.title));
          contentElement.appendChild(attainmentHeader);
          var scoreElement = document.createElement("h2");
          scoreElement.style.color = "var(--system-base)";
          scoreElement.appendChild(document.createTextNode("P ".concat(dataRow.value)));
          contentElement.appendChild(scoreElement);
          var basedOnElement = document.createElement("p");
          basedOnElement.style.color = "var(--system-base)";
          basedOnElement.appendChild(document.createTextNode(dataRow.basedOn));
          contentElement.appendChild(basedOnElement);
          if (dataRow.count !== null) {
            var detailElement = document.createElement("p");
            detailElement.style.whiteSpace = "nowrap";
            detailElement.style.color = "var(--system-base)";
            detailElement.style.fontWeight = "900";
            detailElement.appendChild(document.createTextNode("Bekijk analyse "));
            var iconElement = document.createElement("img");
            iconElement.src = "/svg/icons/arrow-small.svg";
            iconElement.style.display = "inline-block";
            detailElement.appendChild(iconElement);
            contentElement.appendChild(detailElement);
          }
          var AttainmentTexElement = document.createElement("p");
          AttainmentTexElement.style.color = "var(--system-base)";
          AttainmentTexElement.appendChild(document.createTextNode(dataRow.text));
          contentElement.appendChild(AttainmentTexElement);
        }
        chart.listen("pointMouseOver", function (e) {
          // get the data for the current point
          series.tooltip().enabled(true);
          dataRow = data[e.pointIndex];
          if (contentElement) {
            fillTooltipHtml();
          }
        });
        chart.tooltip().onDomReady(function (e) {
          this.parentElement.style.border = "1px solid var(--blue-grey)";
          this.parentElement.style.background = "#FFFFFF";
          this.parentElement.style.opacity = "0.8";
          contentElement = this.contentElement;
          fillTooltipHtml();
        });

        /* prevent the content of the contentElement div
        from being overridden by the default formatter */
        chart.tooltip().onBeforeContentChange(function () {
          return false;
        });
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("sliderToggle", function (model, sources, initialStatus, disabled, identifier) {
    return {
      buttonPosition: "0px",
      buttonWidth: "auto",
      value: model,
      sources: sources,
      handle: null,
      disabled: disabled,
      identifier: identifier,
      init: function init() {
        this.setHandle();
        if (initialStatus !== null) {
          this.value = (0,lodash__WEBPACK_IMPORTED_MODULE_6__.isString)(initialStatus) ? this.sources[initialStatus] ? initialStatus : this.sources.indexOf(initialStatus) : +initialStatus;
        }
        this.bootComponent();
      },
      rerender: function rerender() {
        this.bootComponent();
      },
      bootComponent: function bootComponent() {
        this.$root.dataset.hasValue = this.value !== null;
        if (this.value === null) {
          return;
        }
        this.$el.querySelector(".group").classList.add("active-slider-option");
        if (this.value !== "" && Object.keys(this.sources).includes(String(this.value))) {
          this.activateButton(this.$el.querySelector("[data-id='" + this.value + "']").parentElement);
        } else {
          this.value = this.$el.querySelector(".group").firstElementChild.dataset.id;
        }
        this.preventFractionalPixels();
      },
      clickButton: function clickButton(target) {
        var allowClickingCurrentValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
        this.activateButton(target);
        this.markInputElementsClean();
        var oldValue = this.value;
        this.value = target.firstElementChild.dataset.id;
        this.$root.dataset.hasValue = this.value !== null;
        if (oldValue !== this.value || allowClickingCurrentValue) {
          if ([null, 'null'].includes(this.$root.dataset.toggleValue)) {
            this.$dispatch("multi-slider-toggle-value-updated", {
              value: target.firstElementChild.dataset.id,
              firstTick: oldValue === null
            });
            return;
          }
          ;

          /* dispatch with a static (question score) value, not value/key of button-option, only works with true/false  */
          this.$dispatch("slider-toggle-value-updated", {
            value: this.$root.dataset.toggleValue,
            state: parseInt(this.value) === 1 ? "on" : "off",
            firstTick: oldValue === null,
            identifier: this.identifier
          });
        }
      },
      hoverButton: function hoverButton(target) {
        this.activateButton(target);
      },
      activateButton: function activateButton(target) {
        var _this27 = this;
        this.$nextTick(function () {
          _this27.resetButtons(target);
          _this27.buttonPosition = target.offsetLeft + "px";
          _this27.buttonWidth = target.offsetWidth + "px";
          target.dataset.active = true;
          target.classList.add("active-slider-option");
          _this27.handle.classList.remove("hidden");
          _this27.handle.classList.add("block");
        });
      },
      resetButtons: function resetButtons(target) {
        Array.from(target.parentElement.children).forEach(function (button) {
          button.classList.remove("active-slider-option");
        });
      },
      setHandle: function setHandle() {
        var _this28 = this;
        this.handle = this.$el.querySelector(".slider-button-handle");

        /* Add transition classes later so it doesn't flicker the initial value setting */
        this.$nextTick(function () {
          setTimeout(function () {
            _this28.handle.classList.add("transition-all", "ease-in-out", "duration-150");
          }, 200);
        });
      },
      markInputElementsWithError: function markInputElementsWithError() {
        var falseOptions = this.$root.querySelectorAll(".accordion-block .slider-option[data-active=\"false\"]");
        if (falseOptions.length === 2) {
          falseOptions.forEach(function (el) {
            return el.classList.add("!border-allred");
          });
        }
      },
      markInputElementsClean: function markInputElementsClean() {
        var falseOptions = this.$root.querySelectorAll(".accordion-block .slider-option[data-active=\"false\"]");
        if (falseOptions.length === 2) {
          falseOptions.forEach(function (el) {
            return el.classList.remove("!border-allred");
          });
        }
      },
      preventFractionalPixels: function preventFractionalPixels() {
        var containerWidth = this.$root.offsetWidth;
        var sourceCount = Object.entries(sources).length;
        var widthDividableBySourceCount = Math.round(containerWidth / sourceCount) * sourceCount;
        if (!isNaN(widthDividableBySourceCount) && widthDividableBySourceCount > 0) {
          this.$root.style.width = widthDividableBySourceCount + "px";
        }
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("expandableGraphForGeneral", function (id, modelId, taxonomy, component) {
    return {
      data: false,
      modelId: modelId,
      taxonomy: taxonomy,
      containerId: "chart-" + id + "-" + taxonomy,
      id: id,
      showEmptyState: false,
      init: function init() {
        if (this.expanded) {
          this.updateGraph();
        }
      },
      updateGraph: function updateGraph(forceUpdate) {
        var _this29 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {
          var method, _yield$_this29$$wire$, _yield$_this29$$wire$2;
          return _regeneratorRuntime().wrap(function _callee6$(_context6) {
            while (1) switch (_context6.prev = _context6.next) {
              case 0:
                if (!(!_this29.data || forceUpdate)) {
                  _context6.next = 10;
                  break;
                }
                method = "getData";
                if (component == "expandableGraphForGeneral") {
                  method = "getDataForGeneralGraph";
                }
                _context6.next = 5;
                return _this29.$wire.call(method, _this29.modelId, _this29.taxonomy);
              case 5:
                _yield$_this29$$wire$ = _context6.sent;
                _yield$_this29$$wire$2 = _slicedToArray(_yield$_this29$$wire$, 2);
                _this29.showEmptyState = _yield$_this29$$wire$2[0];
                _this29.data = _yield$_this29$$wire$2[1];
                _this29.renderGraph();
              case 10:
              case "end":
                return _context6.stop();
            }
          }, _callee6);
        }))();
      },
      get expanded() {
        return this.active === this.id;
      },
      set expanded(value) {
        if (value) {
          this.updateGraph();
        }
        this.active = value ? this.id : null;
      },
      renderGraph: function renderGraph() {
        // create bar chart
        var cssSelector = "#" + this.containerId + ">div:not(.empty-state)";
        //
        this.$root.querySelectorAll(cssSelector).forEach(function (node) {
          return node.remove();
        });
        var chart = anychart.bar();
        // //
        // //                 var credits = chart.credits();
        //                 credits.enabled(false);
        var series = chart.bar(this.data);
        series.stroke(this.getColor()).fill(this.getColor());
        var tooltip = series.tooltip();
        tooltip.title(false).separator(false).position("right").anchor("left-center").offsetX(5).offsetY(0).background("#FFFFFF").fontColor("#000000").format("{%tooltip}");
        chart.tooltip().positionMode("point");
        // set scale minimum
        chart.yScale().minimum(0);
        chart.yScale().maximum(1);

        // chart.xScale()//.maximum(100)
        chart.xAxis().stroke("#041F74");
        chart.xAxis().stroke("none");
        // set container id for the chart
        chart.container(this.containerId);
        // initiate chart drawing
        chart.draw();
      },
      getColor: function getColor() {
        if (this.taxonomy == "Bloom") {
          return "#E2DD10";
        }
        if (this.taxonomy == "Miller") {
          return "#5043F6";
        }
        return "#2EBC4F";
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("contextMenuButton", function (context, uuid, contextData) {
    var preventLivewireCall = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
    return {
      menuOpen: false,
      uuid: uuid,
      contextData: contextData,
      context: context,
      preventLivewireCall: preventLivewireCall,
      gridCard: null,
      showEvent: context + "-context-menu-show",
      closeEvent: context + "-context-menu-close",
      init: function init() {
        this.gridCard = this.$root.closest(".context-menu-container");
      },
      handle: function handle() {
        this.menuOpen = !this.menuOpen;
        if (this.menuOpen) {
          this.gridCard = this.$root.closest(".context-menu-container");
          this.$dispatch(this.showEvent, {
            uuid: this.uuid,
            button: this.$root,
            coords: {
              gridCardOffsetHeight: this.gridCard.offsetHeight,
              top: this.gridCard.offsetTop,
              left: this.gridCard.offsetLeft + this.gridCard.offsetWidth
            },
            contextData: this.contextData,
            preventLivewireCall: this.preventLivewireCall
          });
        } else {
          this.$dispatch(this.closeEvent);
        }
      },
      closeMenu: function closeMenu() {
        this.menuOpen = false;
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("contextMenuHandler", function () {
    return {
      contextMenuOpen: false,
      uuid: null,
      contextData: null,
      correspondingButton: null,
      menuOffsetMarginTop: 56,
      menuOffsetMarginLeft: 224,
      menuCard: null,
      detailCoordsTop: null,
      detailCoordsLeft: null,
      gridCardOffsetHeight: null,
      bodyPage: null,
      init: function init() {
        this.menuCard = this.$root.closest("#context-menu-base");
        this.bodyPage = this.$root.closest(".divide-secondary");
        if (!this.bodyPage) {
          this.bodyPage = this.$root.closest("body");
          this.menuOffsetMarginTop -= 10;
          this.menuOffsetMarginLeft -= 24;
        }
      },
      preventMenuFallOffScreen: function preventMenuFallOffScreen() {
        var _this$menuCard, _this$menuCard2, _this$bodyPage, _this$bodyPage2;
        if (((_this$menuCard = this.menuCard) === null || _this$menuCard === void 0 ? void 0 : _this$menuCard.offsetTop) + ((_this$menuCard2 = this.menuCard) === null || _this$menuCard2 === void 0 ? void 0 : _this$menuCard2.offsetHeight) >= ((_this$bodyPage = this.bodyPage) === null || _this$bodyPage === void 0 ? void 0 : _this$bodyPage.offsetHeight) + ((_this$bodyPage2 = this.bodyPage) === null || _this$bodyPage2 === void 0 ? void 0 : _this$bodyPage2.offsetTop)) {
          this.$root.style.top = this.detailCoordsTop + this.menuOffsetMarginTop - (this.menuCard.offsetHeight - this.gridCardOffsetHeight) - 25 + "px";
          this.$root.style.left = this.detailCoordsLeft - this.menuCard.offsetWidth - 50 + "px";
        }
      },
      handleIncomingEvent: function handleIncomingEvent(detail) {
        var _this30 = this;
        if (!this.contextMenuOpen) return this.openMenu(detail);
        this.closeMenu();
        setTimeout(function () {
          _this30.openMenu(detail);
        }, 150);
      },
      openMenu: function openMenu(detail) {
        var _this31 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {
          var readyForShow;
          return _regeneratorRuntime().wrap(function _callee7$(_context7) {
            while (1) switch (_context7.prev = _context7.next) {
              case 0:
                _this31.uuid = detail.uuid;
                _this31.correspondingButton = detail.button;
                _this31.contextData = detail.contextData;
                _this31.detailCoordsTop = detail.coords.top;
                _this31.detailCoordsLeft = detail.coords.left;
                _this31.gridCardOffsetHeight = detail.coords.gridCardOffsetHeight;
                _this31.$root.style.top = _this31.detailCoordsTop + _this31.menuOffsetMarginTop + "px";
                _this31.$root.style.left = _this31.detailCoordsLeft - _this31.menuOffsetMarginLeft + "px";
                if (detail !== null && detail !== void 0 && detail.preventLivewireCall) {
                  _context7.next = 13;
                  break;
                }
                _context7.next = 11;
                return _this31.$wire.setContextValues(_this31.uuid, _this31.contextData);
              case 11:
                readyForShow = _context7.sent;
                if (readyForShow) _this31.contextMenuOpen = true;
              case 13:
                _this31.contextMenuOpen = true;
              case 14:
              case "end":
                return _context7.stop();
            }
          }, _callee7);
        }))();
      },
      closeMenu: function closeMenu() {
        this.correspondingButton.dispatchEvent(new CustomEvent("close-menu"));
        this.contextMenuOpen = false;
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("accordionBlock", function (key) {
    var emitWhenSet = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
    return {
      id: null,
      emitWhenSet: emitWhenSet,
      droppingFile: false,
      init: function init() {
        var _this32 = this;
        this.id = this.containerId + "-" + key;
        this.$watch("expanded", function (value) {
          setTimeout(function () {
            _this32.$el.querySelector("[block-body]").style.overflow = value ? "visible" : "hidden";
          }, 100);
        });
      },
      get expanded() {
        return this.active === this.id;
      },
      set expanded(value) {
        this.active = value ? this.id : null;
        if (value) {
          this.$dispatch("block-expanded", {
            id: this.id
          });
          this.$root.querySelectorAll(".slider-button-container").forEach(function (toggle) {
            return toggle.dispatchEvent(new CustomEvent("slider-toggle-rerender"));
          });
          // this.$el.classList.remove("hover:shadow-hover");
        }

        if (this.emitWhenSet) {
          Livewire.emit("accordion-update", {
            key: key,
            value: value
          });
        }
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("fileUpload", function (uploadModel, rules) {
    return {
      isDropping: false,
      isUploading: false,
      progress: {},
      dragCounter: 0,
      uploadModel: uploadModel,
      rules: rules,
      handleFileSelect: function handleFileSelect(event) {
        if (event.target.files.length) {
          this.uploadFiles(event.target.files);
        }
      },
      handleFileDrop: function handleFileDrop(event) {
        if (event.dataTransfer.files.length > 0) {
          this.uploadFiles(event.dataTransfer.files);
        }
      },
      uploadFiles: function uploadFiles(files) {
        var _this33 = this;
        var $this = this;
        this.isUploading = true;
        var dummyContainer = this.$root.querySelector("#upload-dummies");
        Array.from(files).forEach(function (file, key) {
          if (!_this33.fileHasAllowedExtension(file)) {
            _this33.handleIncorrectFileUpload(file);
            return;
          }
          if (_this33.fileTooLarge(file)) {
            _this33.handleTooLargeOfAfile(file);
            return;
          }
          var badgeId = "upload-badge-".concat(key);
          var loadingBadge = $this.createLoadingBadge(file, badgeId);
          dummyContainer.append(loadingBadge);
          $this.progress[badgeId] = 0;
          $this.$wire.upload(_this33.uploadModel, file, function (success) {
            $this.progress[badgeId] = 0;
            dummyContainer.querySelector("#".concat(badgeId)).remove();
          }, function (error) {
            Notify.notify("Er is iets misgegaan met het verwerken van '".concat(file.name, "'."), "error");
            dummyContainer.querySelector("#".concat(badgeId)).remove();
          }, function (progress) {
            $this.progress[badgeId] = event.detail.progress;
          });
        });
      },
      removeUpload: function removeUpload(filename) {
        this.$wire.removeUpload(this.uploadModel, filename);
      },
      handleDragEnter: function handleDragEnter() {
        this.dragCounter++;
        this.droppingFile = true;
      },
      handleDragLeave: function handleDragLeave() {
        this.dragCounter--;
        if (this.dragCounter === 0) {
          this.droppingFile = false;
        }
      },
      handleDrop: function handleDrop() {
        this.droppingFile = false;
        this.dragCounter = 0;
      },
      createLoadingBadge: function createLoadingBadge(file, badgeId) {
        var template = this.$root.querySelector("template#upload-badge").content.cloneNode(true);
        template.firstElementChild.id = badgeId;
        template.querySelector(".badge-name").innerText = file.name;
        return template;
      },
      getFileExtension: function getFileExtension(file) {
        var filename = file.name;
        return filename.substring(filename.lastIndexOf(".") + 1, filename.length) || filename;
      },
      fileHasAllowedExtension: function fileHasAllowedExtension(file) {
        return this.rules.extensions.data.includes(this.getFileExtension(file));
      },
      handleIncorrectFileUpload: function handleIncorrectFileUpload(file) {
        var message = this.rules.extensions.message.replace("%s", this.getFileExtension(file));
        Notify.notify(message, "error");
      },
      fileTooLarge: function fileTooLarge(file) {
        return file.size > this.rules.size.data;
      },
      handleTooLargeOfAfile: function handleTooLargeOfAfile(file) {
        var message = this.rules.size.message.replace("%s", file.name);
        Notify.notify(message, "error");
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("loginScreen", function (openTab, activeOverlay, device, hasErrors) {
    return {
      openTab: openTab,
      showPassword: false,
      hoverPassword: false,
      initialPreviewIconState: true,
      showEntreePassword: false,
      activeOverlay: activeOverlay,
      device: device,
      hasErrors: hasErrors,
      init: function init() {
        var _this34 = this;
        this.setInitialFocusInput();
        this.$watch("hasErrors", function (value) {
          _this34.setCurrentFocusInput();
        });
        this.$watch("activeOverlay", function (value) {
          _this34.setInitialFocusInput();
        });
        this.$watch("openTab", function (value) {
          _this34.setInitialFocusInput();
        });
      },
      setInitialFocusInput: function setInitialFocusInput() {
        var _this35 = this;
        var name = "" != this.activeOverlay ? this.activeOverlay : this.openTab;
        var finder = "[data-focus-tab = '".concat(name, "']");
        setTimeout(function () {
          var _this35$$root$querySe;
          (_this35$$root$querySe = _this35.$root.querySelector(finder)) === null || _this35$$root$querySe === void 0 ? void 0 : _this35$$root$querySe.focus();
        }, 250);
      },
      setCurrentFocusInput: function setCurrentFocusInput() {
        var _this36 = this;
        var name = "" != this.activeOverlay ? this.activeOverlay : this.openTab;
        var finder = "[data-focus-tab = '".concat(name, "']");
        if ("" != this.hasErrors) {
          var errorCode = this.hasErrors[0];
          switch (errorCode) {
            case "invalid_test_code":
            case "no_test_found_with_code":
              errorCode = "invalid_test_code";
              break;
          }
          if (document.activeElement.type === "password") {
            //Do not focus on other fields when password is focused to prevent users typing password in the wrong field
            //only works when the form is submitted by enter key, else focus is on the login button
            errorCode = "password";
          }
          finder = "[data-focus-tab-error = '".concat(name, "-").concat(errorCode, "']");
        }
        setTimeout(function () {
          var _this36$$root$querySe;
          return (_this36$$root$querySe = _this36.$root.querySelector(finder)) === null || _this36$$root$querySe === void 0 ? void 0 : _this36$$root$querySe.focus();
        }, 250);
      },
      changeActiveOverlay: function changeActiveOverlay() {
        var activeOverlay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
        this.activeOverlay = activeOverlay;
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("assessment", function (array) {
    return {
      score: array.initialScore,
      shadowScore: array.initialScore,
      maxScore: array.maxScore,
      halfPoints: array.halfPoints,
      drawerScoringDisabled: array.drawerScoringDisabled,
      pageUpdated: array.pageUpdated,
      isCoLearningScore: array.isCoLearningScore,
      init: function init() {
        var _this37 = this;
        if (this.pageUpdated) {
          this.resetStoredData();
        }
        if ((0,lodash__WEBPACK_IMPORTED_MODULE_6__.isString)(this.shadowScore)) {
          this.shadowScore = isFloat(initialScore) ? parseFloat(initialScore) : parseInt(initialScore);
        }
        this.$nextTick(function () {
          return _this37.$dispatch("slider-score-updated", {
            score: _this37.score
          });
        });
        this.bindKeyboardShortCuts();
      },
      toggleCount: function toggleCount() {
        return document.querySelectorAll(".student-answer .slider-button-container:not(.disabled)").length;
      },
      dispatchUpdateToNavigator: function dispatchUpdateToNavigator(navigator, updates) {
        this.resetStoredData();
        var navigatorElement = document.querySelector("#".concat(navigator, "-navigator"));
        if (navigatorElement) {
          return navigatorElement.dispatchEvent(new CustomEvent("update-navigator", {
            detail: _objectSpread({}, updates)
          }));
        }
        console.warn("No navigation component found for the specified name.");
      },
      toggleTicked: function toggleTicked(event) {
        var parsedValue = isFloat(event.value) ? parseFloat(event.value) : parseInt(event.value);
        this.setNewScore(parsedValue, event.state, event.firstTick);
        this.updateAssessmentStore();
        this.dispatchNewScoreToSlider();
        this.updateLivewireComponent(event);
      },
      getCurrentScore: function getCurrentScore() {
        return this.halfPoints ? Math.round(this.shadowScore * 2) / 2 : Math.round(this.shadowScore);
      },
      setNewScore: function setNewScore(newScore, state, firstTick) {
        if (firstTick && this.isCoLearningScore) {
          this.isCoLearningScore = false;
          this.shadowScore = 0;
        }
        if (firstTick && state === "off") {
          var _this$shadowScore;
          (_this$shadowScore = this.shadowScore) !== null && _this$shadowScore !== void 0 ? _this$shadowScore : this.shadowScore = 0;
        } else {
          this.shadowScore = state === "on" ? this.shadowScore + newScore : this.shadowScore - newScore;
        }
        if (this.shadowScore < 0) this.shadowScore = 0;
        if (this.shadowScore > this.maxScore) this.shadowScore = this.maxScore;
        this.score = this.getCurrentScore();
      },
      updateAssessmentStore: function updateAssessmentStore() {
        this.$store.assessment.currentScore = this.score;
      },
      dispatchNewScoreToSlider: function dispatchNewScoreToSlider() {
        var scoreSliderContainer = document.querySelector(".score-slider-container");
        if (!scoreSliderContainer) return;
        scoreSliderContainer.dispatchEvent(new CustomEvent("new-score", {
          detail: {
            score: this.score
          }
        }));
      },
      updateLivewireComponent: function updateLivewireComponent(event) {
        if (this.drawerScoringDisabled) {
          this.$wire.set("score", this.score);
        }
        if (event.hasOwnProperty("identifier")) {
          this.$wire.toggleValueUpdated(event.identifier, event.state);
        }
      },
      resetStoredData: function resetStoredData() {
        var _this38 = this;
        this.$store.assessment.resetData(this.score, this.toggleCount());
        this.$nextTick(function () {
          _this38.$store.assessment.toggleCount = _this38.toggleCount();
        });
      },
      updateScoringData: function updateScoringData(data) {
        var _this39 = this;
        Object.assign(this, data);
        this.score = this.shadowScore = data.initialScore;
        this.$nextTick(function () {
          return _this39.$dispatch("slider-score-updated", {
            score: _this39.score
          });
        });
      },
      bindKeyboardShortCuts: function bindKeyboardShortCuts() {
        // During assessment, clicking:
        // - A will go to previous answer
        // - D will go to next answer
        // - S will go to previous question
        // - W will go to next question

        document.addEventListener('DOMContentLoaded', function (event) {
          // disable tab key for all elements when in assessment mode because this corrupts the right tab drawer;
          // document.querySelectorAll('textarea').forEach(element => element.tabIndex = -1);
          // document.querySelectorAll('input').forEach(element => element.tabIndex = -1);

          // Map each key to the corresponding button's selid
          var keyToSelIdMap = {
            'a': 'btn_loadAnswer_previous',
            'd': 'btn_loadAnswer_next',
            's': 'btn_loadQuestion_previous',
            'w': 'btn_loadQuestion_next'
          };

          // Add a keyup event listener to the document
          document.addEventListener('keyup', function (event) {
            // If the target is an input or textarea, do nothing
            // if (event.target.tagName.toLowerCase() === 'input' || event.target.tagName.toLowerCase() === 'textarea') {
            //     return;
            // }
            // Check if the event.target is a ckEditor
            if (event.target.classList.contains('ck')) {
              return;
            }
            var id = keyToSelIdMap[event.key.toLowerCase()];

            // If a mapping exists, "click" the corresponding button
            if (id) {
              var button = document.getElementById(id);
              if (button) {
                button.click();
              }
            }
          });
        });
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("assessmentNavigator", function (current, total, methodCall, lastValue, firstValue) {
    return {
      current: current,
      total: total,
      methodCall: methodCall,
      lastValue: lastValue,
      firstValue: firstValue,
      skipWatch: false,
      first: function first() {
        var _this40 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {
          return _regeneratorRuntime().wrap(function _callee8$(_context8) {
            while (1) switch (_context8.prev = _context8.next) {
              case 0:
                if (!_this40.$store.answerFeedback.feedbackBeingEditedOrCreated()) {
                  _context8.next = 2;
                  break;
                }
                return _context8.abrupt("return", _this40.$store.answerFeedback.openConfirmationModal(_this40.$root, "first"));
              case 2:
                _context8.next = 4;
                return _this40.updateCurrent(_this40.firstValue, "first");
              case 4:
              case "end":
                return _context8.stop();
            }
          }, _callee8);
        }))();
      },
      last: function last() {
        var _this41 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {
          return _regeneratorRuntime().wrap(function _callee9$(_context9) {
            while (1) switch (_context9.prev = _context9.next) {
              case 0:
                if (!_this41.$store.answerFeedback.feedbackBeingEditedOrCreated()) {
                  _context9.next = 2;
                  break;
                }
                return _context9.abrupt("return", _this41.$store.answerFeedback.openConfirmationModal(_this41.$root, "last"));
              case 2:
                _context9.next = 4;
                return _this41.updateCurrent(_this41.lastValue, "last");
              case 4:
              case "end":
                return _context9.stop();
            }
          }, _callee9);
        }))();
      },
      next: function next() {
        var _this42 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {
          return _regeneratorRuntime().wrap(function _callee10$(_context10) {
            while (1) switch (_context10.prev = _context10.next) {
              case 0:
                if (!(_this42.current >= _this42.lastValue)) {
                  _context10.next = 2;
                  break;
                }
                return _context10.abrupt("return");
              case 2:
                if (!_this42.$store.answerFeedback.feedbackBeingEditedOrCreated()) {
                  _context10.next = 4;
                  break;
                }
                return _context10.abrupt("return", _this42.$store.answerFeedback.openConfirmationModal(_this42.$root, "next"));
              case 4:
                _context10.next = 6;
                return _this42.updateCurrent(_this42.current + 1, "incr");
              case 6:
              case "end":
                return _context10.stop();
            }
          }, _callee10);
        }))();
      },
      previous: function previous() {
        var _this43 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11() {
          return _regeneratorRuntime().wrap(function _callee11$(_context11) {
            while (1) switch (_context11.prev = _context11.next) {
              case 0:
                if (!(_this43.current <= _this43.firstValue)) {
                  _context11.next = 2;
                  break;
                }
                return _context11.abrupt("return");
              case 2:
                if (!_this43.$store.answerFeedback.feedbackBeingEditedOrCreated()) {
                  _context11.next = 4;
                  break;
                }
                return _context11.abrupt("return", _this43.$store.answerFeedback.openConfirmationModal(_this43.$root, "previous"));
              case 4:
                _context11.next = 6;
                return _this43.updateCurrent(_this43.current - 1, "decr");
              case 6:
              case "end":
                return _context11.stop();
            }
          }, _callee11);
        }))();
      },
      updateCurrent: function updateCurrent(value, action) {
        var _this44 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12() {
          var response;
          return _regeneratorRuntime().wrap(function _callee12$(_context12) {
            while (1) switch (_context12.prev = _context12.next) {
              case 0:
                _this44.$dispatch("answer-feedback-drawer-tab-update", {
                  tab: 1
                });
                _context12.next = 3;
                return _this44.$wire[_this44.methodCall](value, action);
              case 3:
                response = _context12.sent;
                if (response) {
                  _this44.updateProperties(response);
                }
              case 5:
              case "end":
                return _context12.stop();
            }
          }, _callee12);
        }))();
      },
      updateProperties: function updateProperties(updates) {
        this.current = parseInt(updates.index);
        this.lastValue = parseInt(updates.last);
        this.firstValue = parseInt(updates.first);
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("multipleChoiceAllOrNothingLines", function (activeItems, withToggle) {
    return {
      activeItems: activeItems,
      withToggle: withToggle,
      fixLineHeightCount: 0,
      fixInterval: null,
      init: function init() {
        var _this45 = this;
        this.placeAllOrNothingLines();
        this.fixLineHeight();
        this.$watch("expanded", function (value) {
          return _this45.placeAllOrNothingLines();
        });
      },
      fixLineHeight: function fixLineHeight() {
        var _this46 = this;
        this.fixInterval = setInterval(function () {
          _this46.placeAllOrNothingLines();
          _this46.fixLineHeightCount++;
          if (_this46.fixLineHeightCount >= 5) {
            clearInterval(_this46.fixInterval);
          }
        }, 200);
      },
      placeAllOrNothingLines: function placeAllOrNothingLines() {
        var _this47 = this;
        this.$nextTick(function () {
          var parent = _this47.$root.parentElement;
          _this47.activeItems.map(function (item) {
            var el = parent.querySelector("[data-active-item='".concat(item, "']"));
            var height = el.offsetTop + el.offsetHeight / 2 - _this47.$root.offsetHeight / 2;
            if (_this47.$root !== parent.firstElementChild) {
              height -= _this47.$root.offsetTop;
            }
            _this47.$root.querySelector("[data-line='".concat(item, "']")).style.height = height + "px";
          });
          if (_this47.withToggle) {
            var toggleEl = parent.parentElement.querySelector(".all-or-nothing-toggle");
            var firstEl = _this47.$root;
            var lastEl = parent.querySelector("[data-active-item=\"".concat(_this47.activeItems.slice(-1), "\"]"));
            var middle = _this47.middleOfElement(firstEl);
            if (lastEl) {
              middle = (_this47.middleOfElement(firstEl) + _this47.middleOfElement(lastEl)) / 2;
            }
            toggleEl.style.top = middle + "px";
          }
        });
      },
      middleOfElement: function middleOfElement(element) {
        return element.offsetTop + element.offsetHeight / 2;
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("assessmentDrawer", function () {
    var inReview = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
    var tabs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [1, 2, 3];
    var startCollapsed = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
    return {
      activeTab: 1,
      tabs: tabs,
      container: null,
      clickedNext: false,
      tooltipTimeout: null,
      collapse: false,
      inReview: inReview,
      init: function init() {
        var _this48 = this;
        this.collapse = this.$store.coLearningStudent.getDrawerCollapsed(startCollapsed);
        this.container = this.$root.querySelector("#slide-container");
        this.tab(this.tabs[0]);
        this.$watch("collapse", function (value) {
          _this48.$store.coLearningStudent.drawerCollapsed = value;
          window.dispatchEvent(new CustomEvent("drawer-collapse", {
            detail: value
          }));
          document.documentElement.style.setProperty("--active-sidebar-width", value ? "var(--collapsed-sidebar-width)" : "var(--sidebar-width)");
        });
      },
      getSlideElementByIndex: function getSlideElementByIndex(index) {
        return this.$root.closest(".drawer").querySelector(".slide-" + index);
      },
      tab: function tab(index) {
        var _arguments2 = arguments,
          _this49 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13() {
          var openDrawer, answerFeedbackCommentUuid, slide;
          return _regeneratorRuntime().wrap(function _callee13$(_context13) {
            while (1) switch (_context13.prev = _context13.next) {
              case 0:
                openDrawer = _arguments2.length > 1 && _arguments2[1] !== undefined ? _arguments2[1] : false;
                answerFeedbackCommentUuid = _arguments2.length > 2 && _arguments2[2] !== undefined ? _arguments2[2] : null;
                if (_this49.tabs.includes(index)) {
                  _context13.next = 4;
                  break;
                }
                return _context13.abrupt("return");
              case 4:
                _this49.activeTab = index;
                _this49.closeTooltips();
                slide = _this49.getSlideElementByIndex(index);
                _context13.next = 9;
                return _this49.$nextTick();
              case 9:
                _this49.handleSlideHeight(slide);
                if (!answerFeedbackCommentUuid) {
                  _context13.next = 15;
                  break;
                }
                _context13.next = 13;
                return _this49.scrollToCommentCard(answerFeedbackCommentUuid);
              case 13:
                _context13.next = 17;
                break;
              case 15:
                _context13.next = 17;
                return smoothScroll(_this49.container, 0, slide.offsetLeft);
              case 17:
                if (openDrawer) {
                  _this49.collapse = false;
                }
                setTimeout(function () {
                  var position = _this49.container.scrollLeft / 300 + 1;
                  if (!_this49.tabs.includes(position)) {
                    _this49.container.scrollTo({
                      left: slide.offsetLeft
                    });
                  }
                }, 500);
              case 19:
              case "end":
                return _context13.stop();
            }
          }, _callee13);
        }))();
      },
      scrollToCommentCard: function scrollToCommentCard(answerFeedbackUuid) {
        var _this50 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14() {
          var _this50$$root$querySe;
          var commentCard, slide, cardTop;
          return _regeneratorRuntime().wrap(function _callee14$(_context14) {
            while (1) switch (_context14.prev = _context14.next) {
              case 0:
                _this50.container = (_this50$$root$querySe = _this50.$root.querySelector("#slide-container")) !== null && _this50$$root$querySe !== void 0 ? _this50$$root$querySe : _this50.$root.closest("#slide-container");
                commentCard = document.querySelector("[data-uuid=\"" + answerFeedbackUuid + "\"].answer-feedback-card");
                slide = _this50.getSlideElementByIndex(2);
                cardTop = commentCard.offsetTop;
                if (!(slide.offsetHeight <= _this50.container.offsetHeight)) {
                  _context14.next = 8;
                  break;
                }
                _context14.next = 7;
                return smoothScroll(_this50.container, 0, slide.offsetLeft);
              case 7:
                return _context14.abrupt("return", _context14.sent);
              case 8:
                _context14.next = 10;
                return smoothScroll(_this50.container, cardTop, slide.offsetLeft);
              case 10:
              case "end":
                return _context14.stop();
            }
          }, _callee14);
        }))();
      },
      next: function next() {
        var _this51 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16() {
          return _regeneratorRuntime().wrap(function _callee16$(_context16) {
            while (1) switch (_context16.prev = _context16.next) {
              case 0:
                if (!_this51.$store.answerFeedback.feedbackBeingEditedOrCreated()) {
                  _context16.next = 2;
                  break;
                }
                return _context16.abrupt("return", _this51.$store.answerFeedback.openConfirmationModal(_this51.$root, "next"));
              case 2:
                if (!_this51.needsToPerformActionsStill()) {
                  _context16.next = 6;
                  break;
                }
                _this51.$dispatch("scoring-elements-error");
                _this51.$store.assessment.errorState = _this51.clickedNext = true;
                return _context16.abrupt("return");
              case 6:
                _this51.tab(1);
                _context16.next = 9;
                return _this51.$nextTick( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15() {
                  return _regeneratorRuntime().wrap(function _callee15$(_context15) {
                    while (1) switch (_context15.prev = _context15.next) {
                      case 0:
                        _this51.$store.assessment.resetData();
                        _context15.next = 3;
                        return _this51.$wire.next();
                      case 3:
                        _this51.$store.assessment.errorState = _this51.clickedNext = false;
                      case 4:
                      case "end":
                        return _context15.stop();
                    }
                  }, _callee15);
                })));
              case 9:
              case "end":
                return _context16.stop();
            }
          }, _callee16);
        }))();
      },
      previous: function previous() {
        var _this52 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee18() {
          return _regeneratorRuntime().wrap(function _callee18$(_context18) {
            while (1) switch (_context18.prev = _context18.next) {
              case 0:
                if (!_this52.$store.answerFeedback.feedbackBeingEditedOrCreated()) {
                  _context18.next = 2;
                  break;
                }
                return _context18.abrupt("return", _this52.$store.answerFeedback.openConfirmationModal(_this52.$root, "previous"));
              case 2:
                _this52.tab(1);
                _context18.next = 5;
                return _this52.$nextTick( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee17() {
                  return _regeneratorRuntime().wrap(function _callee17$(_context17) {
                    while (1) switch (_context17.prev = _context17.next) {
                      case 0:
                        _this52.$store.assessment.resetData();
                        _context17.next = 3;
                        return _this52.$wire.previous();
                      case 3:
                        _this52.clickedNext = false;
                      case 4:
                      case "end":
                        return _context17.stop();
                    }
                  }, _callee17);
                })));
              case 5:
              case "end":
                return _context18.stop();
            }
          }, _callee18);
        }))();
      },
      fixSlideHeightByIndex: function fixSlideHeightByIndex(index, AnswerFeedbackUuid) {
        var slide = document.querySelector(".slide-" + index);
        this.handleSlideHeight(slide);
        if (AnswerFeedbackUuid) this.scrollToCommentCard(AnswerFeedbackUuid);
      },
      handleSlideHeight: function handleSlideHeight(slide) {
        if (slide.offsetHeight > this.container.offsetHeight) {
          this.container.classList.add("overflow-y-auto");
          this.container.classList.remove("overflow-y-hidden");
        } else {
          this.container.classList.remove("overflow-y-auto");
          this.container.classList.add("overflow-y-hidden");
        }
      },
      handleResize: function handleResize() {
        var slide = this.$root.querySelector(".slide-" + this.activeTab) || this.$root.querySelector(".slide-2");
        this.handleSlideHeight(slide);
      },
      closeTooltips: function closeTooltips() {
        var previousDate = new Date(this.tooltipTimeout);
        previousDate.setMilliseconds(previousDate.getMilliseconds() + 1000);
        if (Date.parse(previousDate) > Date.now()) {
          return;
        }
        this.tooltipTimeout = Date.now();
        this.$root.querySelectorAll(".tooltip-container").forEach(function (el) {
          el.dispatchEvent(new CustomEvent("close"));
        });
      },
      needsToPerformActionsStill: function needsToPerformActionsStill() {
        return !this.inReview && !this.$store.assessment.clearToProceed() && !this.clickedNext;
      },
      openFeedbackTab: function openFeedbackTab() {
        var _this53 = this;
        this.tab(2).then(function (response) {
          var editorDiv = _this53.$root.querySelector(".feedback textarea");
          if (editorDiv) {
            var editor = ClassicEditors[editorDiv.getAttribute("name")];
            if (editor) {
              setTimeout(function () {
                return editor.focus();
              }, 320); // Await slide animation, otherwise it breaks;
            }
          }
        });
      }
    };
  });

  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("scoreSlider", function (score, model, maxScore, halfPoints, disabled, coLearning, focusInput, continuousSlider, minScore) {
    return {
      score: score,
      model: model,
      maxScore: maxScore,
      minScore: minScore,
      timeOut: null,
      halfPoints: halfPoints,
      disabled: disabled,
      skipSync: false,
      persistantScore: null,
      inputBox: null,
      focusInput: focusInput,
      continuousSlider: continuousSlider,
      bars: [],
      halfTotal: false,
      getSliderBackgroundSize: function getSliderBackgroundSize(el) {
        if (this.score === null) return 0;
        var min = el.min || 0;
        var max = el.max || 100;
        var value = el.value;
        return (value - min) / (max - min) * 100;
      },
      setThumbOffset: function setThumbOffset() {
        if (continuousSlider) {
          return;
        }
        if (event && event.data) {
          var keyToSelIdMap = {
            'a': 'btn_loadAnswer_previous',
            'd': 'btn_loadAnswer_next',
            's': 'btn_loadQuestion_previous',
            'w': 'btn_loadQuestion_next'
          };

          // Add a keyup event listener to the document

          var id = keyToSelIdMap[event.data.toLowerCase()];
          // If a mapping exists, "click" the corresponding button
          if (id) {
            var button = document.getElementById(id);
            if (button) {
              button.click();
              return;
            }
          }
        }
        if (this.score > this.maxScore) {
          this.score = this.maxScore;
        }
        if (this.score < this.minScore) {
          this.score = this.minScore;
        }
        var el = this.$root.querySelector(".score-slider-input");
        var offsetFromCenter = -40;
        offsetFromCenter += this.score / this.maxScore * 80;
        el.style.setProperty("--slider-thumb-offset", "calc(".concat(offsetFromCenter, "% + 1px)"));
      },
      setSliderBackgroundSize: function setSliderBackgroundSize(el) {
        var _this54 = this;
        this.$nextTick(function () {
          el.style.setProperty("--slider-thumb-offset", "".concat(25 / 100 * _this54.getSliderBackgroundSize(el) - 12.5, "px"));
          el.style.setProperty("--slider-background-size", "".concat(_this54.getSliderBackgroundSize(el), "%"));
        });
      },
      syncInput: function syncInput() {
        // Don't update if the value is the same;
        if (this.$wire[this.model] === this.score) return;
        this.$wire.sync(this.model, this.score);
        this.$store.assessment.currentScore = this.score;
        this.$dispatch("slider-score-updated", {
          score: this.score
        });
        if (this.$root.classList.contains("untouched")) {
          this.$root.classList.remove("untouched");
        }
      },
      noChangeEventFallback: function noChangeEventFallback() {
        if (this.score === null) {
          this.score = this.halfPoints ? this.maxScore / 2 : Math.round(this.maxScore / 2);
          this.syncInput();
        }
      },
      init: function init() {
        var _this55 = this,
          _this$$root$dataset;
        if (coLearning) {
          Livewire.hook("message.received", function (message, component) {
            var _message$updateQueue$;
            if (component.name === "student.co-learning" && ((_message$updateQueue$ = message.updateQueue[0]) === null || _message$updateQueue$ === void 0 ? void 0 : _message$updateQueue$.method) === "updateHeartbeat") {
              var scoreInputElement = _this55.$root.querySelector("[x-ref='scoreInput']");
              _this55.persistentScore = scoreInputElement !== null && scoreInputElement.value !== "" ? scoreInputElement.value : null;
            }
          });
          Livewire.hook("message.processed", function (message, component) {
            var _message$updateQueue$2;
            if (component.name === "student.co-learning" && ((_message$updateQueue$2 = message.updateQueue[0]) === null || _message$updateQueue$2 === void 0 ? void 0 : _message$updateQueue$2.method) === "updateHeartbeat") {
              _this55.skipSync = true;
              _this55.score = _this55.persistentScore;
            }
          });
        }
        this.inputBox = this.$root.querySelector("[x-ref='scoreInput']");
        this.$watch("score", function (value, oldValue) {
          _this55.markInputElementsClean();
          if (_this55.disabled || value === oldValue || _this55.skipSync) {
            _this55.skipSync = false;
            return;
          }
          if (value >= _this55.maxScore) {
            _this55.score = value = _this55.maxScore;
          }
          if (value <= _this55.minScore) {
            _this55.score = value = _this55.minScore;
          }
          _this55.score = value = _this55.halfPoints ? Math.round(value * 2) / 2 : Math.round(value);
          _this55.updateContinuousSlider();
        });
        if (focusInput) {
          this.$nextTick(function () {
            _this55.inputBox.focus();
          });
        }
        this.bars = this.maxScore;
        if (this.halfPoints) {
          this.halfTotal = this.hasMaxDecimalScoreWithHalfPoint();
          this.bars = this.maxScore / 0.5;
        }
        if (this.usedSliders && (_this$$root$dataset = this.$root.dataset) !== null && _this$$root$dataset !== void 0 && _this$$root$dataset.sliderKey) {
          var _this$$root$dataset2;
          if (this.usedSliders.contains((_this$$root$dataset2 = this.$root.dataset) === null || _this$$root$dataset2 === void 0 ? void 0 : _this$$root$dataset2.sliderKey) && this.$root.classList.contains("untouched")) {
            this.$root.classList.remove("untouched");
          }
        }
        this.$nextTick(function () {
          var rangeInput = _this55.$root.querySelector("input[type=\"range\"]");
          var left = (rangeInput === null || rangeInput === void 0 ? void 0 : rangeInput.offsetWidth) / 2;
          if (_this55.continuousSlider) {
            left = left - 2;
          }
          rangeInput === null || rangeInput === void 0 ? void 0 : rangeInput.style.setProperty("--moz-left-zero", "-".concat(left, "px"));
        });
      },
      markInputElementsWithError: function markInputElementsWithError() {
        if (this.disabled) return;
        this.inputBox.style.border = "1px solid var(--all-red)";
      },
      markInputElementsClean: function markInputElementsClean() {
        if (this.disabled) return;
        this.inputBox.style.border = null;
      },
      getContinuousInput: function getContinuousInput() {
        return this.$root.querySelector("[x-ref='score_slider_continuous_input']");
      },
      updateContinuousSlider: function updateContinuousSlider() {
        var numberInput = this.getContinuousInput();
        if (numberInput !== null) {
          this.setSliderBackgroundSize(numberInput);
        }
      },
      sliderPillClasses: function sliderPillClasses(value) {
        var score = this.halfTotal || this.halfPoints ? this.score * 2 : this.score;
        var first = (value / 2 + "").split(".")[1] === "5";
        var classes = first ? "first" : "second";
        return value <= score ? classes += " highlight" : classes;
      },
      hasMaxDecimalScoreWithHalfPoint: function hasMaxDecimalScoreWithHalfPoint() {
        return isFloat(this.maxScore);
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("completionQuestion", function () {
    return {
      minWidth: 120,
      maxWidth: 1000,
      setInputWidth: function setInputWidth(input) {
        var _this56 = this;
        var init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
        var preview = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
        if (!init || preview) {
          this.calculateInputWidth(input);
          return;
        }
        this.$watch("showMe", function (value) {
          if (!value) {
            return;
          }
          _this56.$nextTick(function () {
            _this56.calculateInputWidth(input);
          });
        });
      },
      calculateInputWidth: function calculateInputWidth(input) {
        this.minWidth = 120;
        this.maxWidth = input.closest("div.input-group").parentElement.offsetWidth;
        this.span = input.parentElement.querySelector(".absolute");
        this.span.innerText = input.value;
        this.newWidth = this.span.offsetWidth + 27;
        if (this.newWidth < this.minWidth) {
          this.newWidth = this.minWidth;
        }
        if (this.newWidth > this.maxWidth) {
          this.newWidth = this.maxWidth;
        }
        input.style.width = this.newWidth + "px";
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("fastScoring", function (scoreOptions, currentScore, disabled) {
    return {
      fastOption: null,
      scoreOptions: scoreOptions,
      disabled: disabled,
      setOption: function setOption(key) {
        this.fastOption = key;
        this.$dispatch("updated-score", {
          score: scoreOptions[key]
        });
        this.$store.assessment.currentScore = scoreOptions[key];
      },
      updatedScore: function updatedScore(score) {
        this.fastOption = this.scoreOptions.indexOf(score);
      },
      init: function init() {
        if (currentScore === null) {
          return;
        }
        if (currentScore.toString().indexOf(".0") !== -1) {
          var parsedScore = parseInt(currentScore);
          this.fastOption = this.scoreOptions.indexOf(parsedScore);
        }
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("tooltip", function (alwaysLeft) {
    return {
      alwaysLeft: alwaysLeft,
      tooltip: false,
      maxToolTipWidth: 384,
      height: 0,
      inModal: false,
      show: false,
      init: function init() {
        var _this57 = this;
        this.setHeightProperty();
        this.inModal = this.$root.closest("#modal-container") !== null;
        this.$watch("tooltip", function (value) {
          if (value) {
            var ignoreLeft = false;
            if (alwaysLeft || _this57.tooltipTooWideForPosition()) {
              _this57.$refs.tooltipdiv.classList.remove("left-1/2", "-translate-x-1/2");
              _this57.$refs.tooltipdiv.classList.add("right-0");
              ignoreLeft = true;
            }
            _this57.$refs.tooltipdiv.style.top = _this57.getTop();
            _this57.$refs.tooltipdiv.style.left = _this57.getLeft(ignoreLeft);
          }
        });
        this.$nextTick(function () {
          return _this57.show = true;
        });
      },
      getTop: function getTop() {
        var top = this.$root.getBoundingClientRect().y + this.$root.offsetHeight + 8;
        if (this.inModal) {
          top -= this.getModalDimensions().top;
        }
        var bottom = top + this.height;
        if (bottom > window.innerHeight) {
          top = top - (bottom - window.innerHeight);
        }
        return top + "px";
      },
      getLeft: function getLeft() {
        var ignoreLeft = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
        if (ignoreLeft) return "auto";
        var left = this.$root.getBoundingClientRect().x + this.$root.offsetWidth / 2;
        if (this.inModal) {
          left -= this.getModalDimensions().left;
        }
        return left + "px";
      },
      handleScroll: function handleScroll() {
        this.$refs.tooltipdiv.style.top = this.getTop();
      },
      handleResize: function handleResize() {
        this.$refs.tooltipdiv.style.top = this.getTop();
        this.$refs.tooltipdiv.style.left = this.getLeft();
      },
      setHeightProperty: function setHeightProperty() {
        var _this58 = this;
        this.tooltip = true;
        this.$nextTick(function () {
          _this58.height = _this58.$refs.tooltipdiv.offsetHeight;
          _this58.tooltip = false;
          _this58.$refs.tooltipdiv.classList.remove("invisible");
        });
      },
      tooltipTooWideForPosition: function tooltipTooWideForPosition() {
        return this.$el.getBoundingClientRect().left + this.maxToolTipWidth / 2 > window.innerWidth;
      },
      getModalDimensions: function getModalDimensions() {
        var modal = document.querySelector("#modal-container");
        return modal.getBoundingClientRect();
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("reviewNavigation", function (current) {
    return {
      showSlider: true,
      scrollStep: 100,
      totalScrollWidth: 0,
      activeQuestion: current,
      intersectionCountdown: null,
      navScrollBar: null,
      initialized: false,
      init: function init() {
        var _this59 = this;
        this.navScrollBar = this.$root.querySelector("#navscrollbar");
        this.$nextTick(function () {
          _this59.$root.querySelector(".active").scrollIntoView({
            behavior: "smooth"
          });
          _this59.totalScrollWidth = _this59.$root.offsetWidth;
          _this59.resize();
          _this59.initialized = true;
          _this59.slideToActiveQuestionBubble();
        });
      },
      resize: function resize() {
        this.scrollStep = window.innerWidth / 10;
        var sliderButtons = this.$root.querySelector(".slider-buttons").offsetWidth * 2;
        this.showSlider = this.$root.querySelector(".question-indicator").offsetWidth + sliderButtons >= this.$root.offsetWidth - 120;
        if (this.showSlider) {
          this.slideToActiveQuestionBubble();
        }
      },
      scroll: function scroll(position) {
        this.navScrollBar.scrollTo({
          left: position,
          behavior: "smooth"
        });
        this.startIntersectionCountdown();
      },
      start: function start() {
        this.scroll(0);
      },
      end: function end() {
        this.scroll(this.totalScrollWidth);
      },
      left: function left() {
        this.scroll(this.navScrollBar.scrollLeft - this.scrollStep);
      },
      right: function right() {
        this.scroll(this.navScrollBar.scrollLeft + this.scrollStep);
      },
      slideToActiveQuestionBubble: function slideToActiveQuestionBubble() {
        var left = this.$root.querySelector(".active").offsetLeft;
        this.navScrollBar.scrollTo({
          left: left - (this.$root.getBoundingClientRect().left + 16),
          behavior: "smooth"
        });
      },
      startIntersectionCountdown: function startIntersectionCountdown() {
        var _this60 = this;
        clearTimeout(this.intersectionCountdown);
        this.intersectionCountdown = setTimeout(function () {
          clearTimeout(_this60.intersectionCountdown);
          _this60.slideToActiveQuestionBubble();
        }, 5000);
      },
      loadQuestion: function loadQuestion(number) {
        var _this61 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee19() {
          return _regeneratorRuntime().wrap(function _callee19$(_context19) {
            while (1) switch (_context19.prev = _context19.next) {
              case 0:
                if (!_this61.$store.answerFeedback.feedbackBeingEditedOrCreated()) {
                  _context19.next = 2;
                  break;
                }
                return _context19.abrupt("return", _this61.$store.answerFeedback.openConfirmationModal(_this61.$root, "loadQuestion", number));
              case 2:
                _this61.$dispatch("answer-feedback-drawer-tab-update", {
                  tab: 1
                });
                _context19.next = 5;
                return _this61.$wire.loadQuestionFromNav(number);
              case 5:
              case "end":
                return _context19.stop();
            }
          }, _callee19);
        }))();
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("accountSettings", function (openTab, language) {
    return {
      openTab: openTab,
      changing: false,
      language: language,
      startLanguageChange: function startLanguageChange(event, wireModelName) {
        var _this62 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee20() {
          return _regeneratorRuntime().wrap(function _callee20$(_context20) {
            while (1) switch (_context20.prev = _context20.next) {
              case 0:
                _this62.$dispatch("language-loading-start");
                _this62.changing = true;
                _this62.language = event.target.dataset.value;
                _context20.next = 5;
                return _this62.$wire.call("$set", wireModelName, event.target.dataset.value);
              case 5:
                _this62.$nextTick(function () {
                  setTimeout(function () {
                    _this62.changing = false;
                    _this62.$dispatch("language-loading-end");
                  }, 1500);
                });
              case 6:
              case "end":
                return _context20.stop();
            }
          }, _callee20);
        }))();
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("AnswerFeedback", function (answerEditorId, feedbackEditorId, userId, questionType, viewOnly) {
    var hasFeedback = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;
    return {
      answerEditorId: answerEditorId,
      feedbackEditorId: feedbackEditorId,
      commentRepository: null,
      activeThread: null,
      activeComment: null,
      hoveringComment: null,
      dropdownOpened: null,
      commentTagsEventListeners: null,
      userId: userId,
      questionType: questionType,
      viewOnly: viewOnly,
      hasFeedback: hasFeedback,
      init: function init() {
        var _this63 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee23() {
          return _regeneratorRuntime().wrap(function _callee23$(_context23) {
            while (1) switch (_context23.prev = _context23.next) {
              case 0:
                _this63.$store.answerFeedback.resetEditingComment();
                _this63.dropdownOpened = questionType === "OpenQuestion" ? "given-feedback" : "add-feedback";
                _this63.setFocusTracking();
                document.addEventListener("comment-color-updated", /*#__PURE__*/function () {
                  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee21(event) {
                    var styleTagElement, colorWithOpacity, color;
                    return _regeneratorRuntime().wrap(function _callee21$(_context21) {
                      while (1) switch (_context21.prev = _context21.next) {
                        case 0:
                          styleTagElement = document.querySelector("#temporaryCommentMarkerStyles");
                          colorWithOpacity = event.detail.color;
                          color = colorWithOpacity.replace("0.4", "1");
                          styleTagElement.innerHTML = "p .ck-comment-marker[data-comment=\"".concat(event.detail.threadId, "\"]{\n") + "                            --ck-color-comment-marker: ".concat(colorWithOpacity, " !important;\n") + /* opacity .4 */"                            --ck-color-comment-marker-border: ".concat(color, " !important;\n") + /* opacity 1.0 */"                            --ck-color-comment-marker-active: ".concat(colorWithOpacity, " !important;\n") + /* opacity .4 */"                        }";
                        case 4:
                        case "end":
                          return _context21.stop();
                      }
                    }, _callee21);
                  }));
                  return function (_x2) {
                    return _ref4.apply(this, arguments);
                  };
                }());
                document.addEventListener("comment-emoji-updated", /*#__PURE__*/function () {
                  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee22(event) {
                    var ckeditorIconWrapper, cardIconWrapper;
                    return _regeneratorRuntime().wrap(function _callee22$(_context22) {
                      while (1) switch (_context22.prev = _context22.next) {
                        case 0:
                          ckeditorIconWrapper = document.querySelector("#icon-" + event.detail.threadId);
                          cardIconWrapper = document.querySelector("[data-uuid=\"" + event.detail.uuid + "\"].answer-feedback-card-icon");
                          if (ckeditorIconWrapper) _this63.addOrReplaceIconByName(ckeditorIconWrapper, event.detail.iconName);
                          if (!cardIconWrapper) {
                            _context22.next = 8;
                            break;
                          }
                          _this63.addOrReplaceIconByName(cardIconWrapper, event.detail.iconName, true);
                          if (!(event.detail.iconName === null || event.detail.iconName === "" || event.detail.iconName === undefined)) {
                            _context22.next = 7;
                            break;
                          }
                          return _context22.abrupt("return");
                        case 7:
                          cardIconWrapper.querySelector("span").style = "";
                        case 8:
                        case "end":
                          return _context22.stop();
                      }
                    }, _callee22);
                  }));
                  return function (_x3) {
                    return _ref5.apply(this, arguments);
                  };
                }());
                window.addEventListener("new-comment-color-updated", function (event) {
                  var _event$detail;
                  return _this63.updateNewCommentMarkerStyles(event === null || event === void 0 ? void 0 : (_event$detail = event.detail) === null || _event$detail === void 0 ? void 0 : _event$detail.color);
                });
                document.addEventListener("mousedown", function (event) {
                  _this63.resetCommentColorPickerFocusState(event);
                  _this63.resetCommentEmojiPickerFocusState(event);
                  if (_this63.activeComment === null) {
                    return;
                  }
                  //check for click outside 1. comment markers, 2. comment marker icons, 3. comment cards.
                  if (event.srcElement.closest(":is(.ck-comment-marker, .answer-feedback-comment-icon, .given-feedback-container)")) {
                    var element = event.srcElement.closest(".ck-comment-marker");
                    if (element instanceof Element && window.getComputedStyle(element).backgroundColor === "rgba(0, 0, 0, 0)") {
                      //ignore click on inactive comment marker
                      _this63.clearActiveComment();
                    }
                    return;
                  }
                  _this63.clearActiveComment();
                });
                _this63.preventOpeningModalFromBreakingDrawer();
              case 8:
              case "end":
                return _context23.stop();
            }
          }, _callee23);
        }))();
      },
      resetCommentColorPickerFocusState: function resetCommentColorPickerFocusState(event) {
        if (event.srcElement.closest(".comment-color-picker")) {
          return;
        }
        var commentColorPickerCKEditorElement = document.querySelector(".comment-color-picker[ckEditorElement].picker-focussed");
        if (commentColorPickerCKEditorElement) {
          commentColorPickerCKEditorElement.classList.remove("picker-focussed");
        }
      },
      resetCommentEmojiPickerFocusState: function resetCommentEmojiPickerFocusState(event) {
        if (event.srcElement.closest(".comment-emoji-picker")) {
          return;
        }
        var commentEmojiPickerCKEditorElement = document.querySelector(".comment-emoji-picker[ckEditorElement].picker-focussed");
        if (commentEmojiPickerCKEditorElement) {
          commentEmojiPickerCKEditorElement.classList.remove("picker-focussed");
        }
      },
      updateCommentThread: function updateCommentThread(element) {
        var _this64 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee24() {
          var _answerFeedbackCardEl, _answerFeedbackCardEl2, _answerFeedbackCardEl3, _answerFeedbackCardEl4;
          var answerFeedbackCardElement, answerFeedbackUuid, comment_color, comment_emoji, answerFeedbackEditor, answerFeedbackData, commentStyles, commentMarkerStyles;
          return _regeneratorRuntime().wrap(function _callee24$(_context24) {
            while (1) switch (_context24.prev = _context24.next) {
              case 0:
                answerFeedbackCardElement = element.closest(".answer-feedback-card");
                answerFeedbackUuid = answerFeedbackCardElement.dataset.uuid;
                comment_color = (_answerFeedbackCardEl = answerFeedbackCardElement.querySelector(".comment-color-picker input:checked")) === null || _answerFeedbackCardEl === void 0 ? void 0 : (_answerFeedbackCardEl2 = _answerFeedbackCardEl.dataset) === null || _answerFeedbackCardEl2 === void 0 ? void 0 : _answerFeedbackCardEl2.color;
                comment_emoji = (_answerFeedbackCardEl3 = answerFeedbackCardElement.querySelector(".comment-emoji-picker input:checked")) === null || _answerFeedbackCardEl3 === void 0 ? void 0 : (_answerFeedbackCardEl4 = _answerFeedbackCardEl3.dataset) === null || _answerFeedbackCardEl4 === void 0 ? void 0 : _answerFeedbackCardEl4.emoji;
                answerFeedbackEditor = ClassicEditors["update-" + answerFeedbackUuid];
                answerFeedbackData = answerFeedbackEditor.getData();
                _context24.next = 8;
                return answerFeedbackEditor.destroy();
              case 8:
                _this64.cancelEditingComment(answerFeedbackCardElement.dataset.threadId);
                _context24.next = 11;
                return _this64.$wire.call("updateExistingComment", {
                  uuid: answerFeedbackUuid,
                  message: answerFeedbackData,
                  comment_emoji: comment_emoji,
                  comment_color: comment_color
                });
              case 11:
                commentStyles = _context24.sent;
                commentMarkerStyles = document.querySelector('#commentMarkerStyles');
                if (commentMarkerStyles) commentMarkerStyles.innerHTML = commentStyles;
              case 14:
              case "end":
                return _context24.stop();
            }
          }, _callee24);
        }))();
      },
      createCommentThread: function createCommentThread() {
        var _this65 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee26() {
          var _addCommentElement$qu, _addCommentElement$qu2, _addCommentElement$qu3, _addCommentElement$qu4, _addCommentElement$qu5, _addCommentElement$qu6;
          var addCommentElement, comment_color, comment_emoji, comment_iconName, answerEditor, feedbackEditor, comment;
          return _regeneratorRuntime().wrap(function _callee26$(_context26) {
            while (1) switch (_context26.prev = _context26.next) {
              case 0:
                //somehow the editor id sometimes shows an old cached value, so we set it again here
                _this65.answerEditorId = _this65.$el.dataset.answerEditorId;
                _this65.feedbackEditorId = _this65.$el.dataset.feedbackEditorId;
                addCommentElement = _this65.$el.closest(".answer-feedback-add-comment");
                comment_color = (_addCommentElement$qu = addCommentElement.querySelector(".comment-color-picker input:checked")) === null || _addCommentElement$qu === void 0 ? void 0 : (_addCommentElement$qu2 = _addCommentElement$qu.dataset) === null || _addCommentElement$qu2 === void 0 ? void 0 : _addCommentElement$qu2.color;
                comment_emoji = (_addCommentElement$qu3 = addCommentElement.querySelector(".comment-emoji-picker input:checked")) === null || _addCommentElement$qu3 === void 0 ? void 0 : (_addCommentElement$qu4 = _addCommentElement$qu3.dataset) === null || _addCommentElement$qu4 === void 0 ? void 0 : _addCommentElement$qu4.emoji;
                comment_iconName = (_addCommentElement$qu5 = addCommentElement.querySelector(".comment-emoji-picker input:checked")) === null || _addCommentElement$qu5 === void 0 ? void 0 : (_addCommentElement$qu6 = _addCommentElement$qu5.dataset) === null || _addCommentElement$qu6 === void 0 ? void 0 : _addCommentElement$qu6.iconname;
                answerEditor = ClassicEditors[_this65.answerEditorId];
                feedbackEditor = ClassicEditors[_this65.feedbackEditorId];
                comment = feedbackEditor.getData() || "<p></p>";
                answerEditor === null || answerEditor === void 0 ? void 0 : answerEditor.focus();
                _this65.$nextTick( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee25() {
                  var feedback, newCommentThread, updatedAnswerText, commentStyles, commentMarkerStyles, intervalCount, interval, checkedRadioInput;
                  return _regeneratorRuntime().wrap(function _callee25$(_context25) {
                    while (1) switch (_context25.prev = _context25.next) {
                      case 0:
                        if (!(answerEditor && answerEditor.plugins.get("CommentsRepository").activeCommentThread)) {
                          _context25.next = 21;
                          break;
                        }
                        _context25.next = 3;
                        return _this65.$wire.createNewComment([]);
                      case 3:
                        feedback = _context25.sent;
                        _context25.next = 6;
                        return answerEditor.execute("addCommentThread", {
                          threadId: feedback.threadId
                        });
                      case 6:
                        newCommentThread = answerEditor.plugins.get("CommentsRepository").getCommentThreads().filter(function (thread) {
                          return thread.id == feedback.threadId;
                        })[0];
                        newCommentThread.addComment({
                          threadId: feedback.threadId,
                          commentId: feedback.commentId,
                          content: comment,
                          authorId: _this65.userId
                        });
                        updatedAnswerText = answerEditor.getData(); // updatedAnswerText = updatedAnswerText.replaceAll('&nbsp;', '');
                        _context25.next = 11;
                        return _this65.$wire.saveNewComment({
                          uuid: feedback.uuid,
                          message: comment,
                          comment_color: comment_color,
                          comment_emoji: comment_emoji
                        }, updatedAnswerText);
                      case 11:
                        commentStyles = _context25.sent;
                        _context25.next = 14;
                        return _this65.createCommentIcon({
                          uuid: feedback.uuid,
                          threadId: feedback.threadId,
                          iconName: comment_iconName
                        });
                      case 14:
                        commentMarkerStyles = document.querySelector("#commentMarkerStyles");
                        if (commentMarkerStyles) commentMarkerStyles.innerHTML = commentStyles;
                        _this65.hasFeedback = true;
                        _this65.$dispatch("answer-feedback-show-comments");
                        _this65.scrollToCommentCard(feedback.uuid);
                        setTimeout(function () {
                          ClassicEditors[_this65.feedbackEditorId].setData("<p></p>");
                        }, 300);
                        return _context25.abrupt("return");
                      case 21:
                        _context25.next = 23;
                        return _this65.$wire.createNewComment({
                          message: comment,
                          comment_color: null,
                          //no comment color when its a general ticket.
                          comment_emoji: comment_emoji
                        }, false);
                      case 23:
                        feedback = _context25.sent;
                        _this65.hasFeedback = true;
                        _this65.$dispatch("answer-feedback-show-comments");
                        intervalCount = 0;
                        interval = setInterval(function () {
                          intervalCount++;
                          _this65.$dispatch("answer-feedback-show-comments");
                          if (intervalCount > 2) {
                            _this65.scrollToCommentCard(feedback.uuid);
                          }
                          if (intervalCount === 5) {
                            clearInterval(interval);
                            return;
                          }
                        }, 400);
                        feedbackEditor.setData("<p></p>");
                        checkedRadioInput = document.querySelector('.answer-feedback-add-comment .emoji-picker-radio input:checked');
                        if (checkedRadioInput) {
                          checkedRadioInput.checked = false;
                        }
                      case 31:
                      case "end":
                        return _context25.stop();
                    }
                  }, _callee25);
                })));
              case 11:
              case "end":
                return _context26.stop();
            }
          }, _callee26);
        }))();
      },
      deleteCommentThread: function deleteCommentThread(threadId, feedbackId) {
        var _this66 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee27() {
          var answerEditor, commentsRepository, thread, result, deletedThreadIcon, answerText;
          return _regeneratorRuntime().wrap(function _callee27$(_context27) {
            while (1) switch (_context27.prev = _context27.next) {
              case 0:
                if (!(threadId === null)) {
                  _context27.next = 5;
                  break;
                }
                _context27.next = 3;
                return _this66.$wire.deleteCommentThread(null, feedbackId);
              case 3:
                _this66.$wire.render();
                return _context27.abrupt("return");
              case 5:
                answerEditor = ClassicEditors[_this66.answerEditorId];
                commentsRepository = answerEditor.plugins.get("CommentsRepository");
                thread = commentsRepository.getCommentThread(threadId);
                _context27.next = 10;
                return _this66.$wire.deleteCommentThread(threadId, feedbackId);
              case 10:
                result = _context27.sent;
                if (!result) {
                  _context27.next = 20;
                  break;
                }
                //delete icon positioned over the ckeditor
                deletedThreadIcon = document.querySelector(".answer-feedback-comment-icons #icon-" + threadId);
                if (deletedThreadIcon) {
                  deletedThreadIcon.remove();
                }
                thread.remove();
                answerText = answerEditor.getData();
                _context27.next = 18;
                return _this66.$wire.updateAnswer(answerText);
              case 18:
                _this66.setEditingComment(null);
                return _context27.abrupt("return");
              case 20:
                console.error("failed to delete answer feedback");
              case 21:
              case "end":
                return _context27.stop();
            }
          }, _callee27);
        }))();
      },
      initCommentIcons: function initCommentIcons(commentThreads) {
        var _this67 = this;
        var answerFeedbackFilter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "all";
        var filteredCommentThreads = commentThreads.filter(function (thread) {
          return answerFeedbackFilter === "current_user" && thread.currentUser || answerFeedbackFilter === "students" && thread.role === "student" || answerFeedbackFilter === "teacher" && thread.role === "teacher" || answerFeedbackFilter === "all";
        });
        filteredCommentThreads.forEach(function (thread) {
          _this67.createCommentIcon(thread);
        });

        //create global event listener for comment icon click and hover
        this.createCommentTagsEventListener(filteredCommentThreads);
      },
      createCommentTagsEventListener: function createCommentTagsEventListener(enabledCommentThreads) {
        var _this68 = this;
        var commentEditorContainer = document.querySelector(".answer-feedback-comment-icons").parentElement;
        var hoveringCommentThread = null;

        //remove previous event listeners, if any
        if (this.commentTagsEventListeners) {
          commentEditorContainer.removeEventListener("click", this.commentTagsEventListeners["click"]);
          commentEditorContainer.removeEventListener("mouseover", this.commentTagsEventListeners["mouseover"]);
        }
        this.commentTagsEventListeners = [];
        this.commentTagsEventListeners["click"] = function (event) {
          var targetCommentElement = event.target.closest("[data-comment], [data-threadid]");
          if (!targetCommentElement) return;
          var clickedEnabledCommentThread = enabledCommentThreads.filter(function (thread) {
            return thread.threadId === (targetCommentElement.dataset.comment || targetCommentElement.dataset.threadid);
          }).pop();
          if (!clickedEnabledCommentThread) return;
          _this68.setActiveComment(clickedEnabledCommentThread.threadId, clickedEnabledCommentThread.uuid);
        };
        this.commentTagsEventListeners["mouseover"] = function (event) {
          var targetCommentElement = event.target.closest("[data-comment], [data-threadid]");
          var targetCommentThreadId = (targetCommentElement === null || targetCommentElement === void 0 ? void 0 : targetCommentElement.dataset.comment) || (targetCommentElement === null || targetCommentElement === void 0 ? void 0 : targetCommentElement.dataset.threadid) || false;
          var previousHoveringCommentThread = hoveringCommentThread;
          hoveringCommentThread = enabledCommentThreads.filter(function (thread) {
            return thread.threadId === targetCommentThreadId;
          }).pop();
          if (!hoveringCommentThread) {
            //only clear hovering comment if leaving an enabled/valid comment thread element
            previousHoveringCommentThread ? _this68.clearHoveringComment() : null;
            return;
          }
          if (hoveringCommentThread.threadId === (previousHoveringCommentThread === null || previousHoveringCommentThread === void 0 ? void 0 : previousHoveringCommentThread.threadId)) {
            return;
          }
          _this68.setHoveringComment(hoveringCommentThread.threadId, hoveringCommentThread.uuid);
        };
        commentEditorContainer.addEventListener("click", this.commentTagsEventListeners["click"]);
        commentEditorContainer.addEventListener("mouseover", this.commentTagsEventListeners["mouseover"]);
      },
      repositionAnswerFeedbackIcons: function repositionAnswerFeedbackIcons() {
        var _this69 = this;
        var answerFeedbackCommentIcons = document.querySelectorAll(".answer-feedback-comment-icon");
        answerFeedbackCommentIcons.forEach(function (iconWrapper) {
          var threadId = iconWrapper.dataset.threadid;
          var threadUuid = iconWrapper.dataset.uuid;
          _this69.setIconPositionForThread(iconWrapper, threadId, threadUuid);
        });
      },
      setIconPositionForThread: function setIconPositionForThread(iconWrapper, threadId, answerFeedbackUuid) {
        var commentMarkers = document.querySelectorAll("[data-comment='" + threadId + "']");
        if (commentMarkers.length === 0) {
          iconWrapper.style.display = "none";
          return;
        }
        var lastCommentMarker = commentMarkers[commentMarkers.length - 1];
        iconWrapper.style.top = lastCommentMarker.offsetTop - 15 /* adjust icon alignment */ + lastCommentMarker.offsetHeight - 24 /* adjust to last line of marker */ + "px";
        var lastCommentMarkerClientRects = lastCommentMarker.getClientRects();
        var lastCommentMarkerParentClientRects = lastCommentMarker.offsetParent.getClientRects();
        var lastCommentMarkerLineClientRight = lastCommentMarkerClientRects[lastCommentMarkerClientRects.length - 1].right;
        var lastCommentMarkerLineParentClientLeft = lastCommentMarkerParentClientRects[lastCommentMarkerParentClientRects.length - 1].left;
        var lastCommentMarkerLineOffsetLeft = lastCommentMarkerLineClientRight - lastCommentMarkerLineParentClientLeft;
        iconWrapper.style.left = lastCommentMarkerLineOffsetLeft - 5 + "px";
      },
      initCommentIcon: function initCommentIcon(iconWrapper, thread) {
        var _this70 = this;
        setTimeout(function () {
          _this70.setIconPositionForThread(iconWrapper, thread.threadId, thread.uuid);
          iconWrapper.setAttribute("data-uuid", thread.uuid);
          iconWrapper.setAttribute("data-threadId", thread.threadId);
          _this70.addOrReplaceIconByName(iconWrapper, thread.iconName);
        }, 200);
      },
      createCommentIcon: function createCommentIcon(thread) {
        var commentIconsContainer = document.querySelector(".answer-feedback-comment-icons");
        var iconId = "icon-" + thread.threadId;
        var iconWrapper = document.createElement("div");
        iconWrapper.classList.add("absolute");
        iconWrapper.classList.add("z-10");
        iconWrapper.classList.add("cursor-pointer");
        iconWrapper.classList.add("answer-feedback-comment-icon");
        iconWrapper.id = iconId;
        commentIconsContainer.appendChild(iconWrapper);
        this.initCommentIcon(iconWrapper, thread);
      },
      addOrReplaceIconByName: function addOrReplaceIconByName(el, iconName) {
        var isFeedbackCardIcon = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
        el.innerHTML = "";
        var iconTemplate = null;
        if (iconName === null || iconName === "" || iconName === undefined) {
          if (isFeedbackCardIcon) {
            return;
          }
          iconTemplate = document.querySelector("#default-icon");
        } else {
          iconTemplate = document.querySelector("#" + iconName.replace("icon.", ""));
        }
        el.appendChild(document.importNode(iconTemplate.content, true));
      },
      setHoveringComment: function setHoveringComment(threadId, answerFeedbackUuid) {
        this.hoveringComment = {
          threadId: threadId,
          uuid: answerFeedbackUuid
        };
        this.setHoveringCommentMarkerStyle();
      },
      clearHoveringComment: function clearHoveringComment() {
        this.hoveringComment = null;
        this.setHoveringCommentMarkerStyle(true);
      },
      cancelEditingComment: function cancelEditingComment(threadId, AnswerFeedbackUuid) {
        var originalIconName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
        var originalColor = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
        //reset temporary styling
        var temporaryStyleTag = document.querySelector("#temporaryCommentMarkerStyles");
        if (temporaryStyleTag) temporaryStyleTag.innerHTML = '';
        this.setEditingComment(null);

        //reset radio buttons
        if (originalColor) {
          document.querySelector("[data-uuid=\"" + AnswerFeedbackUuid + "\"].answer-feedback-card .comment-color-picker [data-color=\"".concat(originalColor, "\"]")).checked = true;
        }
        if (originalIconName === false) return; /* false is unset, but null is a valid value */

        if (originalIconName === null || originalIconName === "") {
          var emojiPicker = document.querySelector("[data-uuid=\"" + AnswerFeedbackUuid + "\"].answer-feedback-card .comment-emoji-picker input:checked");
          if (emojiPicker) emojiPicker.checked = false;
        } else {
          document.querySelector("[data-uuid=\"" + AnswerFeedbackUuid + "\"].answer-feedback-card .comment-emoji-picker [data-iconName=\"".concat(originalIconName, "\"]")).checked = true;
        }

        //reset icon to the original if originalIconName is given (null is also valid)
        var ckeditorIconWrapper = document.querySelector("#icon-" + threadId);
        var cardIconWrapper = document.querySelector("[data-uuid=\"" + AnswerFeedbackUuid + "\"].answer-feedback-card-icon");
        if (ckeditorIconWrapper) this.addOrReplaceIconByName(ckeditorIconWrapper, originalIconName);
        if (cardIconWrapper) {
          if (originalIconName === null || originalIconName === "") {
            cardIconWrapper.innerHTML = "";
            return;
          }
          this.addOrReplaceIconByName(cardIconWrapper, originalIconName);
          cardIconWrapper.querySelector("span").style = "";
        }
      },
      updateNewCommentMarkerStyles: function updateNewCommentMarkerStyles(color) {
        var styleTag = document.querySelector('#addFeedbackMarkerStyles');
        if (!styleTag) {
          return;
        }
        var colorCode = "rgba(var(--primary-rgb), 0.4)";
        if (color) {
          colorCode = color;
        }
        styleTag.innerHTML = "\n" + "        :root {\n" + "            --active-comment-color: " + colorCode + "; /* default color, overwrite when color picker is used */\n" + "            --ck-color-comment-marker-active: var(--active-comment-color);\n" + "        }\n" + "    span.ck-comment-marker[data-comment=\"new-comment-thread\"]{\n" + "            --active-comment-color: " + colorCode + "; /* default color, overwrite when color picker is used */\n" + "            --ck-color-comment-marker: var(--active-comment-color);\n" + "            --ck-color-comment-marker-active: var(--active-comment-color);\n" + "            cursor: pointer !important;\n" + "        }";
      },
      setHoveringCommentMarkerStyle: function setHoveringCommentMarkerStyle() {
        var removeStyling = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
        var styleTag = document.querySelector("#hoveringCommentMarkerStyle");
        if (!styleTag) {
          return;
        }
        if (removeStyling || this.hoveringComment.threadId === null) {
          styleTag.innerHTML = "";
          return;
        }
        styleTag.innerHTML = "" + "span.ck-comment-marker[data-comment=\"" + this.hoveringComment.threadId + "\"] { color: var(--teacher-primary); }" + "div[data-threadid=\"" + this.hoveringComment.threadId + "\"] svg { color: var(--teacher-primary); }";
      },
      setActiveCommentMarkerStyle: function setActiveCommentMarkerStyle() {
        var _this$activeComment, _this$activeComment2, _this$activeComment3, _this$activeComment4, _this$activeComment5;
        var removeStyling = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
        var styleTag = document.querySelector("#activeCommentMarkerStyle");
        if (!styleTag) {
          return;
        }
        if (removeStyling || ((_this$activeComment = this.activeComment) === null || _this$activeComment === void 0 ? void 0 : _this$activeComment.threadId) === null) {
          styleTag.innerHTML = "";
          return;
        }
        styleTag.innerHTML = "" + "span.ck-comment-marker[data-comment=\"" + ((_this$activeComment2 = this.activeComment) === null || _this$activeComment2 === void 0 ? void 0 : _this$activeComment2.threadId) + "\"] { " + "   border: 1px solid var(--ck-color-comment-marker-border) !important; " + "} " + "span.ck-comment-marker[data-comment=\"" + ((_this$activeComment3 = this.activeComment) === null || _this$activeComment3 === void 0 ? void 0 : _this$activeComment3.threadId) + "\"].ck-math-widget { " + "   border: 1px solid transparent !important; " + "} " + "span.ck-comment-marker[data-comment=\"" + ((_this$activeComment4 = this.activeComment) === null || _this$activeComment4 === void 0 ? void 0 : _this$activeComment4.threadId) + "\"] img { " + "   border: 1px solid var(--ck-color-comment-marker-border) !important; " + "} " + "div.answer-feedback-comment-icon[data-threadid=\"" + ((_this$activeComment5 = this.activeComment) === null || _this$activeComment5 === void 0 ? void 0 : _this$activeComment5.threadId) + "\"] { " + "   z-index: 11 " + "} ";
      },
      setActiveComment: function setActiveComment(threadId, answerFeedbackUuid) {
        var _this71 = this;
        this.$dispatch("answer-feedback-show-comments");
        setTimeout(function () {
          if (_this71.$store.answerFeedback.feedbackBeingEdited()) {
            /* when editing, no other comment can be activated */
            return;
          }
          _this71.$dispatch("answer-feedback-drawer-tab-update", {
            tab: 2,
            uuid: answerFeedbackUuid
          });
          _this71.activeComment = {
            threadId: threadId,
            uuid: answerFeedbackUuid
          };
          _this71.setActiveCommentMarkerStyle();
        }, 300);
      },
      clearActiveComment: function clearActiveComment() {
        this.activeComment = null;
        this.setActiveCommentMarkerStyle(true);
      },
      setFocusTracking: function setFocusTracking() {
        if (viewOnly) {
          return;
        }
        var answerEditor = ClassicEditors[this.answerEditorId];
        var feedbackEditor = ClassicEditors[this.feedbackEditorId];
        if (!answerEditor || !feedbackEditor) {
          return;
        }
        setTimeout(function () {
          try {
            answerEditor.ui.focusTracker.add(feedbackEditor.sourceElement.parentElement.querySelector('.ck.ck-content'));
            feedbackEditor.ui.focusTracker.add(answerEditor.sourceElement.parentElement.querySelector(".ck.ck-content"));
          } catch (exception) {
            // ignore focusTracker error when trying to add element that is already registered
            // there is no way to preventively check if the element is already registered
            if (!exception.message.contains("focustracker-add-element-already-exist")) {
              throw exception;
            }
          }
        }, 1000);
      },
      get answerEditor() {
        return ClassicEditors[this.answerEditorId];
      },
      get feedbackEditor() {
        return ClassicEditors[this.feedbackEditorId];
      },
      createFocusableButtons: function createFocusableButtons() {
        var _this72 = this;
        setTimeout(function () {
          try {
            var buttonWrapper = document.querySelector("#saveNewFeedbackButtonWrapper");
            if (buttonWrapper.children.length > 0) {
              return;
            }

            //text cancel button:
            var textCancelButton = new window.CkEditorButtonView(new window.CkEditorLocale("nl"));
            textCancelButton.set({
              label: buttonWrapper.dataset.cancelTranslation,
              classList: "text-button button-sm",
              eventName: "cancel"
            });
            textCancelButton.render();
            buttonWrapper.appendChild(textCancelButton.element);

            //CTA save button:
            var saveButtonCta = new window.CkEditorButtonView(new window.CkEditorLocale("nl"));
            saveButtonCta.set({
              label: buttonWrapper.dataset.saveTranslation,
              classList: "cta-button button-gradient button-sm",
              eventName: "save"
            });
            saveButtonCta.render();
            buttonWrapper.appendChild(saveButtonCta.element);
            var answerEditor = ClassicEditors[_this72.answerEditorId];
            if (answerEditor) {
              answerEditor.ui.focusTracker.add(textCancelButton.element);
              answerEditor.ui.focusTracker.add(saveButtonCta.element);
            }
          } catch (exception) {
            //
          }
        }, 0);
      },
      createCommentColorRadioButton: function createCommentColorRadioButton(el, rgb, colorName, checked) {
        var answerEditor = ClassicEditors[this.answerEditorId];
        var radiobutton = new window.CkEditorRadioWithColorView(new window.CkEditorLocale("nl"));
        radiobutton.set({
          rgb: rgb.replace("rgba(", "").replace(",0.4)", ""),
          colorName: colorName
        });
        radiobutton.render();
        answerEditor.ui.focusTracker.add(radiobutton.element);
        el.appendChild(radiobutton.element);
        radiobutton.element.querySelector("input").checked = checked;
      },
      createCommentIconRadioButton: function createCommentIconRadioButton(el, iconName, emojiValue, checked) {
        var radiobutton = new window.CkEditorRadioWithIconView(new window.CkEditorLocale("nl"));
        radiobutton.set({
          iconName: iconName,
          emojiValue: emojiValue
        });
        radiobutton.render();
        var answerEditor = ClassicEditors[this.answerEditorId];
        if (answerEditor) {
          answerEditor.ui.focusTracker.add(radiobutton.element);
        }
        el.appendChild(radiobutton.element);
        radiobutton.element.querySelector("span").appendChild(document.importNode(el.querySelector("template").content, true));
      },
      setEditingComment: function setEditingComment(AnswerFeedbackUuid) {
        var _this73 = this;
        this.activeComment = null;
        this.$store.answerFeedback.setEditingComment(AnswerFeedbackUuid !== null && AnswerFeedbackUuid !== void 0 ? AnswerFeedbackUuid : null);
        setTimeout(function () {
          _this73.fixSlideHeightByIndex(2, AnswerFeedbackUuid);
        }, 500);
      },
      toggleFeedbackAccordion: function toggleFeedbackAccordion(name) {
        var _arguments3 = arguments,
          _this74 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee28() {
          var forceOpenAccordion, addFeedbackAccordion, givenFeedbackAccordion;
          return _regeneratorRuntime().wrap(function _callee28$(_context28) {
            while (1) switch (_context28.prev = _context28.next) {
              case 0:
                forceOpenAccordion = _arguments3.length > 1 && _arguments3[1] !== undefined ? _arguments3[1] : false;
                addFeedbackAccordion = document.querySelector('.answer-feedback-add-comment button');
                givenFeedbackAccordion = document.querySelector('.answer-feedback-given-comments button');
                if (!_this74.$store.answerFeedback.newFeedbackBeingCreated()) {
                  _context28.next = 6;
                  break;
                }
                _this74.dropdownOpened = "add-feedback";
                return _context28.abrupt("return");
              case 6:
                ;
                if (!_this74.$store.answerFeedback.feedbackBeingEdited()) {
                  _context28.next = 10;
                  break;
                }
                _this74.dropdownOpened = "given-feedback";
                return _context28.abrupt("return");
              case 10:
                ;
                if (!(givenFeedbackAccordion.disabled && name === "given-feedback")) {
                  _context28.next = 14;
                  break;
                }
                _this74.dropdownOpened = null;
                return _context28.abrupt("return");
              case 14:
                if (!(_this74.dropdownOpened === name && !forceOpenAccordion)) {
                  _context28.next = 17;
                  break;
                }
                _this74.dropdownOpened = null;
                return _context28.abrupt("return");
              case 17:
                if (questionType === "OpenQuestion" && name === "add-feedback") {
                  try {
                    _this74.setFocusTracking();
                  } catch (e) {
                    //
                  }
                }
                _this74.dropdownOpened = name;
                _context28.next = 21;
                return _this74.$nextTick();
              case 21:
                setTimeout(function () {
                  _this74.fixSlideHeightByIndex(2);
                }, 293);
              case 22:
              case "end":
                return _context28.stop();
            }
          }, _callee28);
        }))();
      },
      resetAddNewAnswerFeedback: function resetAddNewAnswerFeedback() {
        var cancelAddingNewComment = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
        //find default/blue color picker and enable it.
        var defaultColorPicker = document.querySelector(".answer-feedback-add-comment .comment-color-picker [data-color=\"blue\"]");
        if (defaultColorPicker !== null) {
          defaultColorPicker.checked = true;
        }

        //find checked emoji picker, uncheck
        var checkedEmojiPicker = document.querySelector(".answer-feedback-add-comment .comment-emoji-picker input:checked");
        if (checkedEmojiPicker !== null) {
          checkedEmojiPicker.checked = false;
        }

        //answerFeedbackeditor reset text
        var answerEditor = ClassicEditors[this.feedbackEditorId];
        answerEditor.setData("<p></p>");
        this.updateNewCommentMarkerStyles(null);
        if (cancelAddingNewComment) {
          window.dispatchEvent(new CustomEvent("answer-feedback-show-comments"));
        }
      },
      preventOpeningModalFromBreakingDrawer: function preventOpeningModalFromBreakingDrawer() {
        var observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (mutation.attributeName == "class" && mutation.target.classList.contains("overflow-y-hidden")) {
              mutation.target.classList.remove("overflow-y-hidden");
            }
          });
        });
        observer.observe(document.querySelector("body"), {
          attributes: true
        });
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("coLearningStudent", function () {
    return {
      goToPreviousAnswerRating: function goToPreviousAnswerRating() {
        var _this75 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee29() {
          return _regeneratorRuntime().wrap(function _callee29$(_context29) {
            while (1) switch (_context29.prev = _context29.next) {
              case 0:
                if (!_this75.$store.answerFeedback.feedbackBeingEditedOrCreated()) {
                  _context29.next = 2;
                  break;
                }
                return _context29.abrupt("return", _this75.$store.answerFeedback.openConfirmationModal(_this75.$root, "goToPreviousAnswerRating"));
              case 2:
                _this75.$wire.goToPreviousAnswerRating();
              case 3:
              case "end":
                return _context29.stop();
            }
          }, _callee29);
        }))();
      },
      goToNextAnswerRating: function goToNextAnswerRating() {
        var _this76 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee30() {
          return _regeneratorRuntime().wrap(function _callee30$(_context30) {
            while (1) switch (_context30.prev = _context30.next) {
              case 0:
                if (!_this76.$store.answerFeedback.feedbackBeingEditedOrCreated()) {
                  _context30.next = 2;
                  break;
                }
                return _context30.abrupt("return", _this76.$store.answerFeedback.openConfirmationModal(_this76.$root, "goToNextAnswerRating"));
              case 2:
                _this76.$wire.goToNextAnswerRating();
              case 3:
              case "end":
                return _context30.stop();
            }
          }, _callee30);
        }))();
      },
      goToPreviousQuestion: function goToPreviousQuestion() {
        var _this77 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee31() {
          return _regeneratorRuntime().wrap(function _callee31$(_context31) {
            while (1) switch (_context31.prev = _context31.next) {
              case 0:
                if (!_this77.$store.answerFeedback.feedbackBeingEditedOrCreated()) {
                  _context31.next = 2;
                  break;
                }
                return _context31.abrupt("return", _this77.$store.answerFeedback.openConfirmationModal(_this77.$root, 'goToPreviousQuestion'));
              case 2:
                _this77.$wire.goToPreviousQuestion();
              case 3:
              case "end":
                return _context31.stop();
            }
          }, _callee31);
        }))();
      },
      goToNextQuestion: function goToNextQuestion() {
        var _this78 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee32() {
          return _regeneratorRuntime().wrap(function _callee32$(_context32) {
            while (1) switch (_context32.prev = _context32.next) {
              case 0:
                if (!_this78.$store.answerFeedback.feedbackBeingEditedOrCreated()) {
                  _context32.next = 2;
                  break;
                }
                return _context32.abrupt("return", _this78.$store.answerFeedback.openConfirmationModal(_this78.$root, 'goToNextQuestion'));
              case 2:
                _this78.$wire.goToNextQuestion();
              case 3:
              case "end":
                return _context32.stop();
            }
          }, _callee32);
        }))();
      },
      goToFinishedCoLearningPage: function goToFinishedCoLearningPage() {
        var _this79 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee33() {
          return _regeneratorRuntime().wrap(function _callee33$(_context33) {
            while (1) switch (_context33.prev = _context33.next) {
              case 0:
                if (!_this79.$store.answerFeedback.feedbackBeingEditedOrCreated()) {
                  _context33.next = 2;
                  break;
                }
                return _context33.abrupt("return", _this79.$store.answerFeedback.openConfirmationModal(_this79.$root, "goToFinishedCoLearningPage"));
              case 2:
                _this79.$wire.goToFinishedCoLearningPage();
              case 3:
              case "end":
                return _context33.stop();
            }
          }, _callee33);
        }))();
      },
      toggleTicked: function toggleTicked(event) {
        this.updateLivewireComponent(event);
      },
      updateLivewireComponent: function updateLivewireComponent(event) {
        if (event.hasOwnProperty("identifier")) {
          this.$wire.toggleValueUpdated(event.identifier, event.state, event.value);
        }
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("drawingQuestionImagePreview", function () {
    return {
      maxTries: 10,
      currentTry: 0,
      init: function init() {
        this.setHeightToAspectRatio(this.$el);
      },
      setHeightToAspectRatio: function setHeightToAspectRatio(element) {
        var _this80 = this;
        var aspectRatioWidth = 940;
        var aspectRatioHeight = 500;
        var aspectRatio = aspectRatioHeight / aspectRatioWidth;
        var container = element.closest("#accordion-block, #answer-container");
        if (!container) {
          console.error("Trying to set drawing image preview aspect ratio on without valid container.");
          return;
        }
        var newHeight = (container.clientWidth - 82) * aspectRatio;
        if (newHeight <= 0) {
          if (this.currentTry <= this.maxTries) {
            setTimeout(function () {
              return _this80.setHeightToAspectRatio(element);
            }, 50);
            this.currentTry++;
          }
          return;
        }
        element.style.height = newHeight + "px";
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("CompletionInput", function () {
    return {
      previousValue: "",
      minWidth: 120,
      getInputWidth: function getInputWidth(el) {
        var maxWidth = el.parentNode.closest("div").offsetWidth;
        maxWidth = maxWidth > 1000 ? 1000 : maxWidth;
        if (el.scrollWidth > maxWidth) return maxWidth + "px";
        if (el.value.length === 0 || el.value.length <= 10) return this.minWidth + "px";
        var safari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
        var newWidth = el.value.length >= this.previousValue.length ? el.scrollWidth + (safari ? 25 : 2) : el.scrollWidth - 5;
        this.previousValue = el.value;
        return (newWidth < this.minWidth ? this.minWidth : newWidth) + "px";
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("writeDownCms", function (editorId, restrict_word_amount, maxWords) {
    return {
      editor: null,
      wordCounter: restrict_word_amount,
      maxWords: maxWords,
      wordContainer: null,
      init: function init() {
        var _this81 = this;
        this.$nextTick(function () {
          _this81.editor = ClassicEditors[editorId];
          _this81.wordContainer = _this81.$root.querySelector(".ck-word-count__words");
          _this81.wordContainer.style.display = "flex";
          _this81.wordContainer.parentElement.style.display = "flex";
          _this81.addMaxWordsToWordCounter(_this81.maxWords);
        });
        this.$watch("maxWords", function (value) {
          _this81.addMaxWordsToWordCounter(value);
        });
      },
      addMaxWordsToWordCounter: function addMaxWordsToWordCounter(value) {
        var _this$$root$querySele2;
        var spanId = "max-word-span";
        (_this$$root$querySele2 = this.$root.querySelector("#".concat(spanId))) === null || _this$$root$querySele2 === void 0 ? void 0 : _this$$root$querySele2.remove();
        var element = document.createElement("span");
        element.id = spanId;
        element.innerHTML = "/".concat(value !== null && value !== void 0 ? value : 0);
        this.wordContainer.parentNode.append(element);
        this.editor.maxWords = value;
      },
      addSelectedWordCounter: function addSelectedWordCounter(eventDetails) {
        var _this$$root$querySele3;
        var text = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "Geselecteerde woorden";
        if (eventDetails.editorId !== this.editor.sourceElement.id) return;
        var spanId = "selected-word-span";
        (_this$$root$querySele3 = this.$root.querySelector("#".concat(spanId))) === null || _this$$root$querySele3 === void 0 ? void 0 : _this$$root$querySele3.remove();
        if (eventDetails.wordCount === 0) return;
        var element = document.createElement("strong");
        element.id = spanId;
        element.innerHTML = "".concat(text, ": ").concat(eventDetails.wordCount);
        this.$root.querySelector("#selected-word-count-".concat(eventDetails.editorId)).append(element);
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("openQuestionStudentPlayer", function (editorId) {
    return {
      editorId: editorId,
      init: function init() {
        var _this82 = this;
        this.editor = ClassicEditors[this.editorId];
        this.$watch("showMe", function (value) {
          if (!value) return;
          _this82.$nextTick(function () {
            if (!_this82.getEditor()) return;
            if (!_this82.getEditor().ui.focusTracker.isFocused) {
              setTimeout(function () {
                _this82.setFocus(_this82.getEditor());
              }, 300);
            }
          });
        });
      },
      setFocus: function setFocus(editor) {
        editor.focus();
        editor.model.change(function (writer) {
          writer.setSelection(editor.model.document.getRoot(), "end");
        });
      },
      getEditor: function getEditor() {
        return ClassicEditors[this.editorId];
      },
      syncEditorData: function syncEditorData() {
        if (!this.getEditor() || this.getEditor().getData() === "") return;
        this.$wire.sync("answer", this.getEditor().getData());
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("studentPlayerQuestionContainer", function (number, questionId, reinitializedTimeoutData) {
    return {
      showMe: false,
      progressBar: false,
      startTime: 0,
      endTime: 1,
      progress: 0,
      number: number,
      questionId: questionId,
      reinitializedTimeoutData: reinitializedTimeoutData,
      timer: null,
      init: function init() {
        var _this83 = this;
        this.$watch("showMe", function (value) {
          if (value) {
            _this83.$dispatch("visible-component", {
              el: _this83.$el
            });
            _this83.$dispatch("reinitialize-editor-editor-" + _this83.questionId);
          }
        });
        if (this.reinitializedTimeoutData && this.reinitializedTimeoutData.hasOwnProperty("timeLeft")) {
          this.$nextTick(function () {
            _this83.startTimeout(_this83.reinitializedTimeoutData);
          });
        }
      },
      currentUpdated: function currentUpdated(current) {
        this.showMe = this.number == current;
        if (this.showMe) this.$wire.updateAnswerIdForTestParticipant();
      },
      refreshQuestion: function refreshQuestion(eventData) {
        if (eventData.indexOf(this.number) !== -1) {
          this.$wire.set("closed", true);
        }
      },
      closeThisQuestion: function closeThisQuestion(eventData) {
        if (!this.showMe) return;
        this.$wire.set("showCloseQuestionModal", true);
        this.$wire.set("nextQuestion", eventData);
      },
      closeThisGroup: function closeThisGroup(eventData) {
        if (!this.showMe) return;
        this.$wire.set("showCloseGroupModal", true);
        this.$wire.set("nextQuestion", eventData);
      },
      startTimeout: function startTimeout(eventData) {
        var _this84 = this;
        if (this.progressBar) return;
        this.progressBar = true;
        this.startTime = eventData.timeout;
        if (eventData.timeLeft) {
          this.progress = eventData.timeLeft;
        } else {
          this.$wire.registerExpirationTime(eventData.attachment);
          this.progress = this.startTime;
        }
        if (!this.timer) {
          this.timer = setInterval(function () {
            _this84.progress -= 1;
            if (_this84.progress === 0) {
              _this84.showMe ? _this84.$wire.closeQuestion(_this84.number + 1) : _this84.$wire.closeQuestion();
              clearInterval(_this84.timer);
              _this84.progressBar = false;
            }
          }, 1000);
        }
      },
      markInfoscreenAsSeen: function markInfoscreenAsSeen(eventData, questionUuid) {
        if (questionUuid !== eventData) return;
        this.$wire.markAsSeen(eventData);
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("multiDropdownSelect", function (options, containerId, wireModel, labels) {
    return _objectSpread(_objectSpread({
      options: options,
      wireModel: wireModel,
      labels: labels,
      multiSelectOpen: false,
      openSubs: [],
      checkedParents: [],
      checkedChildren: [],
      query: "",
      searchEmpty: false,
      pillContainer: null,
      searchFocussed: false,
      init: function init() {
        var _this85 = this;
        this.pillContainer = document.querySelector("#".concat(containerId));
        this.$watch("query", function (value) {
          return _this85.search(value);
        });
        this.$watch("multiSelectOpen", function (value) {
          if (value) _this85.handleDropdownLocation();
          if (!value) _this85.query = "";
        });
        this.registerSelectedItemsOnComponent();
      },
      subClick: function subClick(uuid) {
        this.openSubs = this.toggle(this.openSubs, uuid);
      },
      parentClick: function parentClick(element, parent) {
        var _this86 = this;
        var checked = !this.checkedParents.includes(parent.value);
        element.querySelector("input[type=\"checkbox\"]").checked = checked;
        this.checkedParents = this.toggle(this.checkedParents, parent.value);
        parent.children.filter(function (child) {
          return child.disabled !== true;
        }).forEach(function (child) {
          _this86[checked ? "childAdd" : "childRemove"](child);
          checked ? _this86.checkAndDisableBrothersFromOtherMothers(child) : _this86.uncheckAndEnableBrothersFromOtherMothers(child);
        });
        this.$root.querySelectorAll("[data-parent-id=\"".concat(parent.value, "\"][data-disabled=\"false\"] input[type=\"checkbox\"]")).forEach(function (child) {
          return child.checked = checked;
        });
        this.registerParentsBasedOnDisabledChildren();
        this.handleActiveFilters();
        this.syncInput();
      },
      childClick: function childClick(element, child) {
        var checked = !this.checkedChildrenContains(child);
        element.querySelector("input[type=\"checkbox\"]").checked = checked;
        this.childToggle(child);
        checked ? this.checkAndDisableBrothersFromOtherMothers(child) : this.uncheckAndEnableBrothersFromOtherMothers(child);
        var parent = this.options.find(function (parent) {
          return parent.value === child.customProperties.parentId;
        });
        this.handleParentStateWhenChildsChange(parent, checked);
        this.registerParentsBasedOnDisabledChildren();
        this.handleActiveFilters();
        this.syncInput();
      },
      toggle: function toggle(list, value) {
        if (!list.includes(value)) {
          return this.add(list, value);
        }
        return this.remove(list, value);
      },
      add: function add(list, value) {
        if (list.includes(value)) return list;
        list.push(value);
        return list;
      },
      remove: function remove(list, value) {
        return list.filter(function (item) {
          return item !== value;
        });
      },
      childToggle: function childToggle(child) {
        if (this.checkedChildrenContains(child)) {
          return this.childRemove(child);
        }
        return this.childAdd(child);
      },
      childAdd: function childAdd(child) {
        if (this.checkedChildrenContains(child)) return;
        this.checkedChildren.push({
          value: child.value,
          parent: child.customProperties.parentId
        });
      },
      childRemove: function childRemove(child) {
        this.checkedChildren = _.reject(this.checkedChildren, function (item) {
          return item.value === child.value && item.parent === child.customProperties.parentId;
        });
      },
      parentPartiallyToggled: function parentPartiallyToggled(parent) {
        var result = this.checkedChildrenCount(parent);
        if (this.checkedParents.includes(parent.value) || result === 0) {
          return false;
        }
        return result < parent.children.filter(function (child) {
          return child.disabled !== true;
        }).length;
        // return result < parent.children.length;
      },
      checkedChildrenCount: function checkedChildrenCount(parent) {
        var _this87 = this;
        return parent.children.filter(function (child) {
          return _this87.checkedChildrenContains(child);
        }).length;
      },
      search: function search(value) {
        var _this88 = this;
        if (value.length === 0) {
          this.searchEmpty = false;
          this.showAllOptions();
          return;
        }
        this.hideAllOptions();
        var results = this.searchParentsAndChildsLabels(value);
        this.searchEmpty = results.length === 0;
        results.forEach(function (item) {
          return _this88.showOption(item);
        });
      },
      showOption: function showOption(identifier) {
        this.$root.querySelectorAll(".option[data-id=\"".concat(identifier, "\"]")).forEach(function (element) {
          element.style.display = "flex";
        });
      },
      showAllOptions: function showAllOptions() {
        this.$root.querySelectorAll(".option").forEach(function (el) {
          return el.style.display = "flex";
        });
      },
      hideAllOptions: function hideAllOptions() {
        this.$root.querySelectorAll(".option").forEach(function (el) {
          return el.style.display = "none";
        });
      },
      searchParentsAndChildsLabels: function searchParentsAndChildsLabels(value) {
        var parentResults = this.getParentSearchMatches(value);
        var childResults = this.getChildSearchMatches(value, parentResults);
        return parentResults.concat(childResults);
      },
      getParentSearchMatches: function getParentSearchMatches(value) {
        return this.options.filter(function (parent) {
          if (parent.label.toLowerCase().includes(value)) {
            return true;
          }
          var childMatch = parent.children.find(function (child) {
            return child.label.toLowerCase().includes(value);
          });
          return childMatch !== undefined;
        }).map(function (item) {
          return item.value;
        });
      },
      getChildSearchMatches: function getChildSearchMatches(value, parentUuids) {
        return this.options.flatMap(function (parent) {
          if (!parentUuids.includes(parent.value)) {
            return null;
          }
          var matchingChildren = parent.children.filter(function (child) {
            return child.label.toLowerCase().includes(value);
          });
          /* If no search result for individual students, but a parent is found, return all children */
          return matchingChildren.length > 0 ? matchingChildren : parent.children;
        }).filter(Boolean).map(function (item) {
          return item.value;
        });
      },
      createFilterPill: function createFilterPill(item) {
        var _item$customPropertie;
        if (this.pillContainer === null) return;
        var identifier = ((_item$customPropertie = item.customProperties) === null || _item$customPropertie === void 0 ? void 0 : _item$customPropertie.parent) === false ? item.value + item.customProperties.parentId : item.value;
        if (this.pillContainer.querySelector("#pill-".concat(identifier))) return;
        var element = this.$root.querySelector("#filter-pill-template").content.firstElementChild.cloneNode(true);
        element.id = "pill-".concat(identifier);
        element.selectComponent = this.$root;
        element.item = item;
        element.classList.add("filter-pill", "self-end", "h-10");
        element.firstElementChild.innerHTML = item.label;
        return this.pillContainer.appendChild(element);
      },
      removeFilterPill: function removeFilterPill(event) {
        var _event$item$customPro;
        event.element.remove();
        var toggleFunction = ((_event$item$customPro = event.item.customProperties) === null || _event$item$customPro === void 0 ? void 0 : _event$item$customPro.parent) === false ? "childClick" : "parentClick";
        this[toggleFunction](this.$root.querySelector("[data-id=\"".concat(event.item.value, "\"][data-parent-id=\"").concat(event.item.customProperties.parentId, "\"]")), event.item);
      },
      handleActiveFilters: function handleActiveFilters() {
        var _this89 = this;
        var currentPillIds = Array.from(this.pillContainer.childNodes).map(function (pill) {
          if (!_this89.isParent(pill.item)) {
            return pill.item.value + pill.item.customProperties.parentId;
          }
          return pill.item.value;
        });
        var currentlyChecked = this.checkedParents.concat(this.checkedChildren.map(function (child) {
          return child.value + child.parent;
        }));
        var pillIdsToRemove = currentPillIds.filter(function (uuid) {
          return !currentlyChecked.contains(uuid);
        });
        this.options.flatMap(function (parent) {
          return [parent].concat(_toConsumableArray(parent.children));
        }).filter(function (item) {
          if (_this89.isParent(item)) return _this89.checkedParents.includes(item.value);
          if (_this89.checkedParents.includes(item.customProperties.parentId)) {
            pillIdsToRemove.push(item.value + item.customProperties.parentId);
          }
          return !_this89.checkedParents.includes(item.customProperties.parentId) && _this89.checkedChildrenContains(item);
        }).forEach(function (item) {
          return _this89.createFilterPill(item);
        });
        var that = this;
        pillIdsToRemove.forEach(function (uuid) {
          var _that$pillContainer$q;
          (_that$pillContainer$q = that.pillContainer.querySelector("#pill-".concat(uuid))) === null || _that$pillContainer$q === void 0 ? void 0 : _that$pillContainer$q.remove();
        });
      },
      handleDropdownLocation: function handleDropdownLocation() {
        var dropdown = this.$root.querySelector(".dropdown");
        var top = this.$root.getBoundingClientRect().top + this.$root.offsetHeight + 16 + parseInt(dropdown.style.maxHeight);
        var property = top >= screen.availHeight ? "bottom" : "top";
        dropdown.style[property] = this.$root.offsetHeight + 8 + "px";
      },
      handleParentStateWhenChildsChange: function handleParentStateWhenChildsChange(parent, checked) {
        if (checked && this.checkedChildrenCount(parent) === parent.children.filter(function (child) {
          return child.disabled !== true;
        }).length) {
          this.checkedParents = this.add(this.checkedParents, parent.value);
          this.$root.querySelector("[data-id=\"".concat(parent.value, "\"][data-parent-id=\"").concat(parent.value, "\"] input[type=\"checkbox\"]")).checked = checked;
        }
        if (!checked && this.checkedParents.includes(parent.value)) {
          this.checkedParents = this.remove(this.checkedParents, parent.value);
          this.$root.querySelector("[data-id=\"".concat(parent.value, "\"] input[type=\"checkbox\"]")).checked = checked;
        }
      },
      registerSelectedItemsOnComponent: function registerSelectedItemsOnComponent() {
        var _this90 = this;
        var checkedChildValues = this.options.flatMap(function (parent) {
          return _toConsumableArray(parent.children);
        }).filter(function (item) {
          var _item$customPropertie2;
          return ((_item$customPropertie2 = item.customProperties) === null || _item$customPropertie2 === void 0 ? void 0 : _item$customPropertie2.selected) === true;
        });
        this.$nextTick(function () {
          checkedChildValues.forEach(function (item) {
            _this90.childClick(_this90.$root.querySelector("[data-id=\"".concat(item.value, "\"][data-parent-id=\"").concat(item.customProperties.parentId, "\"]")), item);
          });
          _this90.registerParentsBasedOnDisabledChildren();
          _this90.handleActiveFilters();
        });
      },
      syncInput: function syncInput() {
        if (!this.wireModel.value) return;
        this.$wire.sync(this.wireModel.value, {
          parents: this.checkedParents,
          children: this.checkedChildren
        });
      },
      checkedChildrenContains: function checkedChildrenContains(child) {
        return this.checkedChildren.some(function (item) {
          var _child$customProperti;
          return item.value === child.value && item.parent === ((_child$customProperti = child.customProperties) === null || _child$customProperti === void 0 ? void 0 : _child$customProperti.parentId);
        });
      },
      checkAndDisableBrothersFromOtherMothers: function checkAndDisableBrothersFromOtherMothers(child) {
        var _this91 = this;
        this.options.flatMap(function (parents) {
          return _toConsumableArray(parents.children);
        }).filter(function (item) {
          return item.value === child.value && item.customProperties.parentId !== child.customProperties.parentId;
        }).forEach(function (item) {
          _this91.$root.querySelector("[data-id=\"".concat(item.value, "\"][data-parent-id=\"").concat(item.customProperties.parentId, "\"] input[type=\"checkbox\"]")).checked = true;
          item.disabled = true;
        });
      },
      uncheckAndEnableBrothersFromOtherMothers: function uncheckAndEnableBrothersFromOtherMothers(child) {
        var _this92 = this;
        this.options.flatMap(function (parents) {
          return _toConsumableArray(parents.children);
        }).filter(function (item) {
          return item.value === child.value && item.customProperties.parentId !== child.customProperties.parentId;
        }).forEach(function (item) {
          _this92.$root.querySelector("[data-id=\"".concat(item.value, "\"][data-parent-id=\"").concat(item.customProperties.parentId, "\"] input[type=\"checkbox\"]")).checked = false;
          item.disabled = false;
        });
      },
      isParent: function isParent(item) {
        var _item$customPropertie3;
        return !((_item$customPropertie3 = item.customProperties) !== null && _item$customPropertie3 !== void 0 && _item$customPropertie3.parent) === false;
      },
      registerParentsBasedOnDisabledChildren: function registerParentsBasedOnDisabledChildren() {
        var _this93 = this;
        this.options.forEach(function (item) {
          var enabledChildren = item.children.filter(function (child) {
            return child.disabled !== true;
          }).length;
          if (enabledChildren === 0) return;
          var enabled = _this93.checkedChildrenCount(item) === enabledChildren;
          _this93.checkedParents = _this93[enabled ? "add" : "remove"](_this93.checkedParents, item.value);
          _this93.$root.querySelector("[data-id=\"".concat(item.value, "\"][data-parent-id=\"").concat(item.value, "\"] input[type=\"checkbox\"]")).checked = enabled;
        });
      },
      parentDisabled: function parentDisabled(parent) {
        return parent.children.filter(function (child) {
          return child.disabled !== true;
        }).length === 0;
      }
    }, selectFunctions), {}, {
      toggleDropdown: function toggleDropdown() {
        if (this.multiSelectOpen) return this.closeDropdown();
        this.openDropdown();
      },
      openDropdown: function openDropdown() {
        this.multiSelectOpen = true;
      },
      closeDropdown: function closeDropdown() {
        this.multiSelectOpen = false;
      }
    });
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("singleSelect", function (containerId) {
    var entangleValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
    return _objectSpread(_objectSpread({
      containerId: containerId,
      entangleValue: entangleValue !== null && entangleValue !== void 0 ? entangleValue : null,
      baseValue: null,
      singleSelectOpen: false,
      selectedText: null
    }, selectFunctions), {}, {
      init: function init() {
        var _this94 = this;
        this.selectedText = this.$root.querySelector("span.selected").dataset.selectText;
        this.setActiveStartingValue();
        this.$watch("singleSelectOpen", function (value) {
          if (value) _this94.handleDropdownLocation();
        });
      },
      get value() {
        var _this$entangleValue;
        return (_this$entangleValue = this.entangleValue) !== null && _this$entangleValue !== void 0 ? _this$entangleValue : this.baseValue;
      },
      set value(newValue) {
        if (this.entangleValue !== undefined) {
          this.entangleValue = newValue;
        } else {
          this.baseValue = newValue;
        }
      },
      active: function active(value) {
        var _this$value;
        return value === ((_this$value = this.value) === null || _this$value === void 0 ? void 0 : _this$value.toString());
      },
      activateSelect: function activateSelect(element) {
        var value = element.dataset.value,
          label = element.dataset.label;
        this.closeDropdown();
        if (this.value === value) return;
        this.value = value;
        element.dispatchEvent(new Event("change", {
          bubbles: true
        }));
        this.selectedText = label;
      },
      setActiveStartingValue: function setActiveStartingValue() {
        if (this.value === null) {
          if (this.$root.getAttribute("x-model")) {
            this.value = this[this.$root.getAttribute("x-model")];
          }
        }
        if (this.value !== null) {
          var option = this.$root.querySelector("[data-value=\"".concat(this.value, "\"]"));
          if (!option) {
            console.warn("Incorrect value specified in selectbox.");
            return;
          }
          this.selectedText = option.dataset.label;
        }
      },
      toggleDropdown: function toggleDropdown() {
        if (this.singleSelectOpen) return this.closeDropdown();
        this.openDropdown();
      },
      openDropdown: function openDropdown() {
        this.singleSelectOpen = true;
      },
      closeDropdown: function closeDropdown() {
        this.singleSelectOpen = false;
      }
    });
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("questionBank", function (openTab, inGroup, inTestBankContext) {
    return {
      questionBankOpenTab: openTab,
      inGroup: inGroup,
      groupDetail: null,
      bodyVisibility: true,
      inTestBankContext: inTestBankContext,
      maxHeight: "calc(100vh - var(--header-height))",
      init: function init() {
        var _this95 = this;
        this.groupDetail = this.$el.querySelector("#groupdetail");
        this.$watch("showBank", function (value) {
          if (value === "questions") {
            _this95.$wire.loadSharedFilters();
          }
        });
        this.$watch("$store.questionBank.inGroup", function (value) {
          _this95.inGroup = value;
        });
        this.$watch("$store.questionBank.active", function (value) {
          if (value) {
            _this95.$wire.setAddedQuestionIdsArray();
          } else {
            _this95.closeGroupDetailQb();
          }
        });
        this.showGroupDetailsQb = /*#__PURE__*/function () {
          var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee34(groupQuestionUuid) {
            var inTest,
              readyForSlide,
              _args34 = arguments;
            return _regeneratorRuntime().wrap(function _callee34$(_context34) {
              while (1) switch (_context34.prev = _context34.next) {
                case 0:
                  inTest = _args34.length > 1 && _args34[1] !== undefined ? _args34[1] : false;
                  _context34.next = 3;
                  return _this95.$wire.showGroupDetails(groupQuestionUuid, inTest);
                case 3:
                  readyForSlide = _context34.sent;
                  if (readyForSlide) {
                    if (_this95.inTestBankContext) {
                      _this95.$refs["tab-container"].style.display = "none";
                      _this95.$refs["main-container"].style.height = "100vh";
                    } else {
                      _this95.maxHeight = _this95.groupDetail.offsetHeight + "px";
                    }
                    _this95.groupDetail.style.left = 0;
                    _this95.$refs["main-container"].scrollTo({
                      top: 0,
                      behavior: "smooth"
                    });
                    _this95.$el.scrollTo({
                      top: 0,
                      behavior: "smooth"
                    });
                    _this95.$nextTick(function () {
                      setTimeout(function () {
                        _this95.bodyVisibility = false;
                        if (_this95.inTestBankContext) {
                          _this95.groupDetail.style.position = "relative";
                        } else {
                          handleVerticalScroll(_this95.$el.closest(".slide-container"));
                        }
                      }, 500);
                    });
                  }
                case 5:
                case "end":
                  return _context34.stop();
              }
            }, _callee34);
          }));
          return function (_x4) {
            return _ref7.apply(this, arguments);
          };
        }();
        this.closeGroupDetailQb = function () {
          if (!_this95.bodyVisibility) {
            _this95.bodyVisibility = true;
            _this95.maxHeight = "calc(100vh - var(--header-height))";
            _this95.groupDetail.style.left = "100%";
            if (_this95.inTestBankContext) {
              _this95.groupDetail.style.position = "absolute";
              _this95.$refs["tab-container"].style.display = "block";
            }
            _this95.$nextTick(function () {
              _this95.$wire.clearGroupDetails();
              setTimeout(function () {
                if (!_this95.inTestBankContext) {
                  handleVerticalScroll(_this95.$el.closest(".slide-container"));
                }
              }, 250);
            });
          }
        };
        this.addQuestionToTest = /*#__PURE__*/function () {
          var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee35(button, questionUuid) {
            var showQuestionBankAddConfirmation,
              enableButton,
              _args35 = arguments;
            return _regeneratorRuntime().wrap(function _callee35$(_context35) {
              while (1) switch (_context35.prev = _context35.next) {
                case 0:
                  showQuestionBankAddConfirmation = _args35.length > 2 && _args35[2] !== undefined ? _args35[2] : false;
                  if (!showQuestionBankAddConfirmation) {
                    _context35.next = 3;
                    break;
                  }
                  return _context35.abrupt("return", _this95.$wire.emit("openModal", "teacher.add-sub-question-confirmation-modal", {
                    questionUuid: questionUuid
                  }));
                case 3:
                  button.disabled = true;
                  _context35.next = 6;
                  return _this95.$wire.handleCheckboxClick(questionUuid);
                case 6:
                  enableButton = _context35.sent;
                  if (enableButton) {
                    button.disabled = false;
                  }
                  return _context35.abrupt("return", true);
                case 9:
                case "end":
                  return _context35.stop();
              }
            }, _callee35);
          }));
          return function (_x5, _x6) {
            return _ref8.apply(this, arguments);
          };
        }();
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("testTakePage", function (openTab, inGroup, inTestBankContext) {
    return {
      testCodePopup: false,
      urlCopied: false,
      urlCopiedTimeout: null,
      init: function init() {
        var _this96 = this;
        this.$watch("urlCopied", function (value) {
          if (value) {
            clearTimeout(_this96.urlCopiedTimeout);
            setTimeout(function () {
              return _this96.urlCopied = false;
            }, 2000);
          }
        });
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("participantDetailPopup", function () {
    return {
      participantPopupOpen: false,
      button: null,
      openPopup: function openPopup(event) {
        var _this97 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee36() {
          return _regeneratorRuntime().wrap(function _callee36$(_context36) {
            while (1) switch (_context36.prev = _context36.next) {
              case 0:
                if (!_this97.participantPopupOpen) {
                  _context36.next = 3;
                  break;
                }
                _context36.next = 3;
                return _this97.closePopup(event);
              case 3:
                _this97.button = event.element;
                _this97.button.dataset.open = "true";
                _context36.next = 7;
                return _this97.$wire.openPopup(event.participant);
              case 7:
                _this97.participantPopupOpen = true;
                _this97.$nextTick(function () {
                  _this97.$root.style.left = _this97.getLeft();
                  _this97.$root.style.top = _this97.getTop();
                });
              case 9:
              case "end":
                return _context36.stop();
            }
          }, _callee36);
        }))();
      },
      closePopup: function closePopup() {
        var _this98 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee37() {
          return _regeneratorRuntime().wrap(function _callee37$(_context37) {
            while (1) switch (_context37.prev = _context37.next) {
              case 0:
                _this98.participantPopupOpen = false;
                _context37.next = 3;
                return _this98.$wire.closePopup();
              case 3:
                _this98.button.dataset.open = "false";
              case 4:
              case "end":
                return _context37.stop();
            }
          }, _callee37);
        }))();
      },
      handleScroll: function handleScroll() {
        if (!this.participantPopupOpen) return;
        this.$root.style.top = this.getTop();
      },
      getTop: function getTop() {
        return this.button.getBoundingClientRect().top - this.$root.offsetHeight - 8 + "px";
      },
      getLeft: function getLeft() {
        return this.button.getBoundingClientRect().left + this.button.getBoundingClientRect().width / 2 - this.$root.offsetWidth / 2 + "px";
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("testTakeAttainmentAnalysis", function (columns) {
    return {
      attainmentOpen: [],
      studentData: [],
      columns: columns,
      totalWidth: null,
      loadingData: [],
      init: function init() {
        this.fixPvalueContainerWidth();
      },
      fixPvalueContainerWidth: function fixPvalueContainerWidth() {
        var _document$querySelect,
          _this99 = this;
        this.totalWidth = (_document$querySelect = document.querySelector(".pvalue-questions")) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.getBoundingClientRect().width;
        this.$root.querySelectorAll(".pvalue-container").forEach(function (el) {
          el.style.width = _this99.totalWidth + "px";
        });
      },
      openRow: function openRow(attainment) {
        var _this100 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee38() {
          return _regeneratorRuntime().wrap(function _callee38$(_context38) {
            while (1) switch (_context38.prev = _context38.next) {
              case 0:
                if (!_this100.loadingData.includes(attainment)) {
                  _context38.next = 2;
                  break;
                }
                return _context38.abrupt("return");
              case 2:
                if (_this100.studentData[attainment]) {
                  _context38.next = 8;
                  break;
                }
                _this100.loadingData.push(attainment);
                _context38.next = 6;
                return _this100.$wire.attainmentStudents(attainment);
              case 6:
                _this100.studentData[attainment] = _context38.sent;
                _this100.loadingData = _this100.loadingData.filter(function (key) {
                  return key !== attainment;
                });
              case 8:
                _this100.attainmentOpen.push(attainment);
                _this100.$nextTick(function () {
                  return _this100.fixPvalueContainerWidth();
                });
              case 10:
              case "end":
                return _context38.stop();
            }
          }, _callee38);
        }))();
      },
      closeRow: function closeRow(attainment) {
        this.attainmentOpen = this.attainmentOpen.filter(function (key) {
          return key !== attainment;
        });
      },
      toggleRow: function toggleRow(attainment) {
        var _this101 = this;
        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee39() {
          return _regeneratorRuntime().wrap(function _callee39$(_context39) {
            while (1) switch (_context39.prev = _context39.next) {
              case 0:
                if (!_this101.attainmentOpen.includes(attainment)) {
                  _context39.next = 3;
                  break;
                }
                _this101.closeRow(attainment);
                return _context39.abrupt("return");
              case 3:
                _context39.next = 5;
                return _this101.openRow(attainment);
              case 5:
              case "end":
                return _context39.stop();
            }
          }, _callee39);
        }))();
      },
      styles: function styles(pValue, multiplier) {
        return {
          "width": this.barWidth(multiplier),
          "backgroundColor": this.backgroundColor(pValue)
        };
      },
      barWidth: function barWidth(multiplier) {
        return this.totalWidth / this.columns.length * multiplier + "px";
      },
      backgroundColor: function backgroundColor(pValue) {
        if (pValue * 100 < 55) return "var(--all-red)";
        if (pValue * 100 < 65) return "var(--student)";
        return "var(--cta-primary)";
      },
      isLastStudentInRow: function isLastStudentInRow(student, attainment) {
        var _this$studentData$att, _this$studentData$att2;
        var index = (_this$studentData$att = this.studentData[attainment]) === null || _this$studentData$att === void 0 ? void 0 : _this$studentData$att.findIndex(function (s) {
          return s.uuid === student.uuid;
        });
        return ((_this$studentData$att2 = this.studentData[attainment]) === null || _this$studentData$att2 === void 0 ? void 0 : _this$studentData$att2.length) === index + 1;
      },
      resetAnalysis: function resetAnalysis() {
        this.attainmentOpen = [];
        this.studentData = [];
        this.loadingData = [];
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].data("coLearningSetup", function () {
    return {
      init: function init() {
        var _this102 = this;
        window.addEventListener("multi-slider-toggle-value-updated", function (event) {
          switch (event.detail.value) {
            case "open":
              _this102.$wire.updateQuestionsChecked("open");
              break;
            case "all":
              _this102.$wire.updateQuestionsChecked("all");
              break;
          }
        });
      },
      toggleQuestionChecked: function toggleQuestionChecked(questionUuid) {
        this.$wire.toggleQuestionChecked(questionUuid);
      }
    };
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].directive("global", function (el, _ref9) {
    var expression = _ref9.expression;
    var f = new Function("_", "$data", "_." + expression + " = $data;return;");
    f(window, el._x_dataStack[0]);
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].store("cms", {
    loading: false,
    processing: false,
    dirty: false,
    scrollPos: 0,
    reinitOnClose: false,
    emptyState: false,
    pendingRequestTimeout: null,
    pendingRequestTally: 0,
    handledAllRequests: true
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].store("questionBank", {
    active: false,
    inGroup: false
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].store("assessment", {
    errorState: false,
    currentScore: null,
    toggleCount: 0,
    clearToProceed: function clearToProceed() {
      var valuedToggles = document.querySelectorAll(".student-answer .slider-button-container:not(disabled)[data-has-value=\"true\"]").length;
      return this.currentScore !== null && valuedToggles >= this.toggleCount;
    },
    resetData: function resetData() {
      var score = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      var toggleCount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      this.currentScore = score;
      this.toggleCount = toggleCount;
    }
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].store("editorMaxWords", {});
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].store("coLearningStudent", {
    drawerCollapsed: null,
    getDrawerCollapsed: function getDrawerCollapsed() {
      var startCollapsed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      if (this.drawerCollapsed === null && startCollapsed !== null) {
        this.drawerCollapsed = startCollapsed;
      }
      return this.drawerCollapsed;
    }
  }), alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].store("answerFeedback", {
    editingComment: null,
    creatingNewComment: false,
    navigationRoot: null,
    navigationMethod: null,
    navigationArgs: null,
    feedbackBeingEditedOrCreated: function feedbackBeingEditedOrCreated() {
      if (this.navigationRoot) {
        this.navigationRoot = null;
        this.navigationMethod = null;
        this.creatingNewComment = false;
        this.editingComment = null;
        return false;
      }
      return this.feedbackBeingEdited() || this.newFeedbackBeingCreated();
    },
    feedbackBeingEdited: function feedbackBeingEdited() {
      if (this.navigationRoot) {
        this.navigationRoot = null;
        this.navigationMethod = null;
        this.creatingNewComment = false;
        this.editingComment = null;
        return false;
      }
      if (this.editingComment === null) {
        return false;
      }
      return this.editingComment;
    },
    newFeedbackBeingCreated: function newFeedbackBeingCreated() {
      if (this.navigationRoot) {
        this.navigationRoot = null;
        this.navigationMethod = null;
        this.creatingNewComment = false;
        this.editingComment = null;
        return false;
      }
      return this.creatingNewComment;
    },
    openConfirmationModal: function openConfirmationModal(navigatorRootElement, methodName) {
      var methodArgs = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
      this.navigationRoot = navigatorRootElement;
      this.navigationMethod = methodName;
      this.navigationArgs = methodArgs;
      Livewire.emit("openModal", "modal.confirm-still-editing-comment-modal", {
        "creatingNewComment": this.creatingNewComment
      });
    },
    continueAction: function continueAction() {
      this.editingComment = null;
      this.navigationRoot.dispatchEvent(new CustomEvent("continue-navigation", {
        detail: {
          method: this.navigationMethod,
          args: [this.navigationArgs]
        }
      }));
      Livewire.emit("closeModal");
    },
    cancelAction: function cancelAction() {
      this.navigationRoot = null;
      this.navigationMethod = null;
      window.dispatchEvent(new CustomEvent("answer-feedback-drawer-tab-update", {
        detail: {
          tab: 2,
          uuid: this.editingComment
        }
      }));
      Livewire.emit("closeModal");
    },
    resetEditingComment: function resetEditingComment() {
      this.setEditingComment(null);
    },
    setEditingComment: function setEditingComment(AnswerFeedbackUuid) {
      this.editingComment = AnswerFeedbackUuid;
    }
  });
  alpinejs__WEBPACK_IMPORTED_MODULE_0__["default"].store("studentPlayer", {
    playerComponent: null,
    getPlayer: function getPlayer() {
      if (!this.playerComponent) {
        this.playerComponent = Livewire.components.findComponent(document.querySelector("[test-take-player]").getAttribute("wire:id"));
      }
      return this.playerComponent;
    },
    to: function to(newQuestion, current) {
      this.navigate("goToQuestion", current, newQuestion);
    },
    next: function next(current) {
      this.navigate("nextQuestion", current);
    },
    previous: function previous(current) {
      this.navigate("previousQuestion", current);
    },
    toOverview: function toOverview(current) {
      this.navigate("toOverview", current, current);
    },
    navigate: function navigate(method, current) {
      var methodParameter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
      window.dispatchEvent(new CustomEvent("sync-editor-data-" + current));
      this.getPlayer().call(method, methodParameter);
    }
  });
});
function getTitleForVideoUrl(videoUrl) {
  return fetch("https://noembed.com/embed?url=" + videoUrl).then(function (response) {
    return response.json();
  }).then(function (data) {
    if (!data.error) {
      return data.title;
    }
    return null;
  });
}
var selectFunctions = {
  handleDropdownLocation: function handleDropdownLocation() {
    var dropdown = this.$root.querySelector(".dropdown");
    var top = this.$root.getBoundingClientRect().top + this.$root.offsetHeight + 16 + parseInt(dropdown.style.maxHeight);
    var property = top >= screen.availHeight ? "bottom" : "top";
    dropdown.style[property] = this.$root.offsetHeight + 8 + "px";
  }
};

/***/ }),

/***/ "./resources/js/app.js":
/*!*****************************!*\
  !*** ./resources/js/app.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(/*! ./bootstrap */ "./resources/js/bootstrap.js");
__webpack_require__(/*! ./swipe */ "./resources/js/swipe.js");
__webpack_require__(/*! ./livewire-sortablejs */ "./resources/js/livewire-sortablejs.js");
__webpack_require__(/*! ./core */ "./resources/js/core.js");
__webpack_require__(/*! ./notify */ "./resources/js/notify.js");
__webpack_require__(/*! ./alpine */ "./resources/js/alpine.js");
__webpack_require__(/*! ./rich-text-editor */ "./resources/js/rich-text-editor.js");
__webpack_require__(/*! ./drawing/drawing-question */ "./resources/js/drawing/drawing-question.js");
__webpack_require__(/*! ./readspeaker_app */ "./resources/js/readspeaker_app.js");
__webpack_require__(/*! ./attachment */ "./resources/js/attachment.js");
__webpack_require__(/*! ./flatpickr */ "./resources/js/flatpickr.js");
__webpack_require__(/*! ./navigation-bar */ "./resources/js/navigation-bar.js");
__webpack_require__(/*! ../../vendor/wire-elements/modal/resources/js/modal */ "./vendor/wire-elements/modal/resources/js/modal.js");
__webpack_require__(/*! ./webspellchecker_tlc */ "./resources/js/webspellchecker_tlc.js");
__webpack_require__(/*! ./pdf-download */ "./resources/js/pdf-download.js");
window.ClassicEditors = [];
makeHeaderMenuActive = function makeHeaderMenuActive(elementId) {
  document.getElementById(elementId).classList.add('active');
};
addCSRFTokenToEcho = function addCSRFTokenToEcho(token) {
  if (typeof Echo.connector.pusher.config.auth !== 'undefined') {
    Echo.connector.pusher.config.auth.headers['X-CSRF-TOKEN'] = token;
  }
};
isInputElement = function isInputElement(target) {
  if (/^(?:input|textarea|select|button)$/i.test(target.tagName.toLowerCase())) {
    return true;
  }
  if (typeof target.ckeditorInstance != "undefined") {
    return true;
  }
  if (typeof ReadspeakerTlc != 'undefined' && rsPageContainsCkeditor()) {
    return true;
  }
  return false;
};
rsPageContainsCkeditor = function rsPageContainsCkeditor() {
  if (typeof ReadspeakerTlc == 'undefined') {
    return false;
  }
  var questionContainer = document.querySelector('.rs_readable');
  if (questionContainer == null) {
    return false;
  }
  var ckeditorNode = questionContainer.querySelector('.ck-editor__editable');
  if (ckeditorNode != null) {
    return true;
  }
  return false;
};
handleScrollNavigation = function handleScrollNavigation(evt) {
  if (evt.target.closest('#navigation-container') !== null) {
    return false;
  }
  return evt.shiftKey;
};
truncateOptionsIfTooLong = function truncateOptionsIfTooLong(el) {
  var options = el.querySelectorAll('option');
  if (options !== null) {
    var truncateLimit;
    if (window.innerWidth < 900) truncateLimit = 80;
    if (window.innerWidth >= 900 && window.innerWidth < 1200) truncateLimit = 110;
    if (window.innerWidth >= 1200) truncateLimit = 180;
    options.forEach(function (option) {
      if (option.value.length > truncateLimit) {
        option.text = option.value.slice(0, truncateLimit) + '...';
      }
    });
  }
};
setTitlesOnLoad = function setTitlesOnLoad(el) {
  var selects = el.querySelectorAll('select');
  if (selects !== null) {
    selects.forEach(function (select) {
      if (select.value !== '') {
        select.setAttribute('title', select.value);
      }
    });
  }
  var inputs = el.querySelectorAll('input');
  if (inputs !== null) {
    inputs.forEach(function (input) {
      if (input.value !== '') {
        input.setAttribute('title', input.value);
      }
    });
  }
};
initializeIntenseWrapper = function initializeIntenseWrapper(app_key, debug, deviceId, sessionId, code) {
  addScript('https://education.intense.solutions/collector/latest.uncompressed.js');
  var initializeInterval = setInterval(function () {
    if (typeof IntenseWrapper !== 'undefined') {
      Intense = new IntenseWrapper({
        api_key: app_key,
        // This is a public key which will be provided by Intense.
        app: 'name of the app that implements Intense. example: TC@1.0.0',
        debug: debug // If true, all debug data will be written to console.log().
      }).onError(function (e, msg) {
        // So far, the only available value for 'msg' is 'unavailable', meaning that the given interface/method cannot be used.
        // If no error handler is registered, all errors will be written to console.log.

        switch (e) {
          case 'start':
            console.log('Intense: Could not start recording because it was ' + msg);
            break;
          case 'pause':
            console.log('Intense: Could not pause recording because it was ' + msg);
            break;
          case 'resume':
            console.log('Intense: Could not resume recording because it was ' + msg);
            break;
          case 'end':
            console.log('Intense: Could not end recording because it was ' + msg);
            break;
          case 'network':
            console.log('Intense: Could not send data over network because it was ' + msg);
            break;
          default:
            console.log('Intense: Unknown error occured!');
        }
      }).onData(function (data) {
        // This function is called when data is sent to the Intense server. data contains the data that is being sent.
        console.log('Data sent to Intense', data);
      }).onStart(function () {
        console.log('Intense started recording');
      }).onPause(function () {
        console.log('Intense paused recording');
      }).onResume(function () {
        console.log('Intense resumed recording');
      }).onEnd(function () {
        console.log('Intense ended recording');
      });

      /** devivceId = userId, sessionId = $testParticipantId; **/
      //Intense.resetDefaults();
      Intense.start(deviceId.toString(), sessionId.toString(), code);
      clearInterval(initializeInterval);
    }
  }, 2000);
  function addScript(src) {
    var s = document.createElement('script');
    s.setAttribute('src', src);
    document.body.appendChild(s);
  }
};
countPresentStudents = function countPresentStudents(members) {
  var activeStudents = 0;
  members.each(function (member) {
    if (member.info.student) {
      activeStudents++;
    }
  });
  return activeStudents;
};
addTitleToImages = function addTitleToImages(selector, title) {
  var container = document.querySelector(selector);
  if (container != null) {
    var images = container.querySelectorAll('img');
    images.forEach(function (image) {
      if (image.title == null || image.title == '') {
        image.title = title;
      }
    });
  }
};
String.prototype.contains = function (text) {
  if (text === '') return false;
  return this.includes(text);
};
getClosestLivewireComponentByAttribute = function getClosestLivewireComponentByAttribute(element, attributeName) {
  return livewire.find(element.closest("[".concat(attributeName, "]")).getAttribute('wire:id'));
};
String.prototype.capitalize = function () {
  return this.charAt(0).toUpperCase() + this.slice(1);
};
clearClipboard = function clearClipboard() {
  //source: https://stackoverflow.com/a/30810322
  function fallbackCopyTextToClipboard(text) {
    var textArea = document.createElement("textarea");
    textArea.value = text;

    // Avoid scrolling to bottom
    textArea.style.top = "0";
    textArea.style.left = "0";
    textArea.style.position = "fixed";
    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();
    try {
      var successful = document.execCommand("copy");
      var msg = successful ? "successful" : "unsuccessful";
    } catch (err) {}
    document.body.removeChild(textArea);
  }
  function copyTextToClipboard(text) {
    return new Promise(function (resolve, reject) {
      if (!navigator.clipboard) {
        fallbackCopyTextToClipboard(text);
        resolve();
      }
      navigator.clipboard.writeText(text).then(function () {
        resolve();
      })["catch"](function () {
        fallbackCopyTextToClipboard(text);
        resolve();
      });
    });
  }
  return copyTextToClipboard(' ');
};
preventNavigationByKeydown = function preventNavigationByKeydown(event) {
  return event.stopPropagation();
};
livewireMessageContainsModelName = function livewireMessageContainsModelName(message, modelName) {
  return message.updateQueue.map(function (queue) {
    var _queue$payload, _String, _queue$payload2;
    if (typeof ((_queue$payload = queue.payload) === null || _queue$payload === void 0 ? void 0 : _queue$payload.name) !== 'undefined') {
      var _queue$payload$name;
      return (_queue$payload$name = queue.payload.name) === null || _queue$payload$name === void 0 ? void 0 : _queue$payload$name.includes(modelName);
    }
    return (_String = String((_queue$payload2 = queue.payload) === null || _queue$payload2 === void 0 ? void 0 : _queue$payload2.params[0])) === null || _String === void 0 ? void 0 : _String.includes(modelName);
  })[0];
};
questionCardOpenDetailsModal = function questionCardOpenDetailsModal(questionUuid, inTest) {
  Livewire.emit('openModal', 'teacher.question-detail-modal', {
    questionUuid: questionUuid,
    inTest: inTest
  });
};
questionCardOpenGroup = function questionCardOpenGroup(element, questionUuid, inTest) {
  element.closest('[group-container]').dispatchEvent(new CustomEvent('show-group-details', {
    detail: {
      questionUuid: questionUuid,
      inTest: inTest
    }
  }));
};
addQuestionToTestFromTestCard = function addQuestionToTestFromTestCard(button, questionUuid, showQuestionBankAddConfirmation) {
  document.querySelector('#question-bank').dispatchEvent(new CustomEvent('add-question-to-test', {
    detail: {
      button: button,
      questionUuid: questionUuid,
      showQuestionBankAddConfirmation: showQuestionBankAddConfirmation
    }
  }));
};
clearFilterPillsFromElement = function clearFilterPillsFromElement(rootElement) {
  var pills = rootElement.querySelectorAll('.filter-pill');
  pills.forEach(function (pill) {
    return pill.remove();
  });
};
isFloat = function isFloat(value) {
  var splitValues = (value + "").split(".");
  return splitValues[1] !== undefined;
};
/**
 * Detects fast successive events
 * @param event event to detect
 * @param callback function to execute on fast successive events
 */
detectFastSuccessiveEvents = function detectFastSuccessiveEvents(event, callback) {
  // Check if the element was double-clicked
  var currentTime = new Date().getTime();
  if (currentTime - event.target.lastClickTime < 500) {
    // Execute your callback
    callback(event);
  }

  // Set the last click time to the current time
  event.target.lastClickTime = currentTime;
};

/**
 * Selects the inner text of the target element
 * @param event
 */
selectTextContent = function selectTextContent(event) {
  var range = document.createRange();
  range.selectNodeContents(event.target);
  var selection = window.getSelection();
  selection.removeAllRanges();
  selection.addRange(range);
};
Array.prototype.contains = function (key) {
  return this.includes(key);
};
debug = function debug() {
  var seconds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2;
  setTimeout(function () {
    debugger;
  }, seconds * 1000);
};
smoothScroll = function smoothScroll(scrollContainer) {
  var offsetTop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  var offsetLeft = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
  var retry = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  var previousScrollPosition = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;
  clearTimeout(window.smoothScrollFailedTimeout);
  var options = {
    top: offsetTop,
    left: offsetLeft,
    behavior: 'smooth'
  };
  // if scroll animation is not supported or is not moving (any more) set position hard.
  // minimum delay is 1000ms is the promise delay below;
  if (previousScrollPosition) {
    if (previousScrollPosition.top === scrollContainer.scrollTop && previousScrollPosition.left === scrollContainer.scrollLeft) {
      scrollContainer.scroll({
        top: options.top,
        left: options.left
      });
      return;
    }
  }
  scrollContainer.scroll(options);
  previousScrollPosition = {
    top: scrollContainer.scrollTop,
    left: scrollContainer.scrollLeft
  };
  return new Promise(function (resolve, reject) {
    window.smoothScrollFailedTimeout = setTimeout(function () {
      if (scrollContainer.offsetHeight + scrollContainer.scrollTop === scrollContainer.scrollHeight) {
        return resolve();
      }
      if (retry) {
        return reject();
      }
      smoothScroll(scrollContainer, offsetTop, offsetLeft, true, previousScrollPosition);
      resolve();
    }, 1000);
    var scrollHandler = function scrollHandler() {
      if (scrollContainer.scrollTop === offsetTop && scrollContainer.scrollLeft === offsetLeft) {
        scrollContainer.removeEventListener("scroll", scrollHandler);
        clearTimeout(window.smoothScrollFailedTimeout);
        resolve();
      }
    };
    if (scrollContainer.scrollTop === offsetTop && scrollContainer.scrollLeft === offsetLeft) {
      clearTimeout(window.smoothScrollFailedTimeout);
      resolve();
    } else {
      scrollContainer.addEventListener("scroll", scrollHandler);
    }
  });
};
debounce = function debounce(func) {
  var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;
  return function (time) {
    var time = time;
    window.debounceTimeout;
    return function (event) {
      if (window.debounceTimeout) clearTimeout(window.debounceTimeout);
      window.debounceTimeout = setTimeout(func, time, event);
    };
  }(time);
};
clearSelection = function clearSelection() {
  if (window.getSelection) {
    if (window.getSelection().empty) {
      // Chrome
      window.getSelection().empty();
    } else if (window.getSelection().removeAllRanges) {
      // Firefox
      window.getSelection().removeAllRanges();
    }
  } else if (document.selection) {
    // IE?
    document.selection.empty();
  }
};
fixHistoryApiStateForQueryStringUpdates = function fixHistoryApiStateForQueryStringUpdates(stateObject, url) {
  var signatures = stateObject.livewire.map(function (entry) {
    if (entry.signature.endsWith("-1")) {
      return entry.signature;
    }
  }).filter(Boolean);
  var newStateObject = {
    livewire: stateObject.livewire.filter(function (item) {
      return !signatures.includes(item.signature);
    })
  };
  try {
    history.pushState(newStateObject, "", url);
  } catch (error) {
    console.warn("Something went wrong with pushing the state to the history API");
  }
};

/***/ }),

/***/ "./resources/js/attachment.js":
/*!************************************!*\
  !*** ./resources/js/attachment.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var plyr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! plyr */ "./node_modules/plyr/dist/plyr.min.js");
/* harmony import */ var plyr__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(plyr__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var alpinejs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! alpinejs */ "./node_modules/alpinejs/dist/module.esm.js");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }


window.plyrPlayer = {
  disableElem: function disableElem(elem) {
    // disable element if not null
    try {
      elem.setAttribute("style", "pointer-events: none;");
    } catch (e) {}
  },
  noPause: function noPause(player) {
    // Takes player and disable play button after clicking first time
    var playElem = player.elements.buttons.play[0];
    playElem.addEventListener('click', function () {
      var _this = this;
      setTimeout(function () {
        plyrPlayer.disableElem(_this);
      }, 100);
    });
  },
  disableTimeline: function disableTimeline(player) {
    // Takes player and disable timeline
    var timeline = player.elements.progress;
    this.disableElem(timeline);
  },
  Onplaying: function Onplaying(player, mode, wire, attachmentUuid) {
    // Send requests for playing and pause based on mode
    if (mode === "notPreview") {
      player.on('playing', function () {
        wire.registerPlayStart();
      });
      player.on('pause', function () {
        wire.audioStoreCurrentTime(attachmentUuid, player.currentTime);
      });
    } else {
      player.on('playing', function () {
        wire.set('pressedPlay', true);
      });
      player.on('pause', function () {
        wire.audioStoreCurrentTime(attachmentUuid, player.currentTime);
      });
    }
  },
  parseConstraints: function parseConstraints(constraints) {
    // Parsing constraints json variable and returns an object
    var data = JSON.parse(constraints);
    return {
      pausable: typeof data.pausable !== 'undefined' && data.pausable === "1",
      play_once: typeof data.play_once !== 'undefined' && data.play_once === "1",
      hasTimeout: typeof data.timeout !== 'undefined' && data.timeout !== ""
    };
  },
  applyConstraints: function applyConstraints(player, constraints, wire, mode, attachmentUuid) {
    if (!constraints.pausable) {
      this.noPause(player);
    }
    if (constraints.hasTimeout || constraints.play_once) {
      if (mode === "notPreview") {
        player.on('ended', function () {
          wire.registerEndOfAudio(player.currentTime, player.duration);
          if (constraints.play_once) {
            wire.audioIsPlayedOnce();
          }
          wire.audioStoreCurrentTime(attachmentUuid, 0);
          wire.closeAttachmentModal(true);
        });
      } else {
        player.on('ended', function () {
          wire.audioStoreCurrentTime(attachmentUuid, 0);
          wire.closeAttachmentModal(true);
        });
      }
    } else {
      player.on('ended', function () {
        wire.audioStoreCurrentTime(attachmentUuid, 0);
        wire.closeAttachmentModal(true);
      });
    }
    if (!constraints.pausable || constraints.hasTimeout || constraints.play_once) {
      this.disableTimeline(player);
    }
  },
  render: function render(elem, wire, attachmentUuid, constraints) {
    var audioCanBePlayedAgain = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;
    var mode = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : "notPreview";
    var controls = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : ['play', 'progress', 'current-time', 'mute', 'volume'];
    var player = new (plyr__WEBPACK_IMPORTED_MODULE_0___default())(elem, {
      controls: controls,
      iconUrl: '/svg/plyr.svg'
    });
    this.Onplaying(player, mode, wire, attachmentUuid);
    if (constraints.length !== 0) {
      this.applyConstraints(player, this.parseConstraints(constraints), wire, mode, attachmentUuid);
    } else {
      this.noPause(player);
      this.disableTimeline(player);
    }
    if (!audioCanBePlayedAgain) {
      this.disableElem(player.elements.buttons.play[0]);
    }
    return player;
  },
  renderWithoutConstraints: function renderWithoutConstraints(elem) {
    var controls = ['play', 'progress', 'current-time', 'mute', 'volume'];
    var player = new (plyr__WEBPACK_IMPORTED_MODULE_0___default())(elem, {
      controls: controls,
      iconUrl: '/svg/plyr.svg'
    });
    return player;
  }
};

/**
 * Takes a dom div element and makes it resizable from all corners
 *
 * @param {object} element
 * @param {string} attachmentType
 */
window.makeAttachmentResizable = function (element) {
  var attachmentType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
  if (attachmentType === 'audio') return;
  var resizers = element.querySelectorAll('.resizer');
  var iframe = element.querySelector('.resizers iframe');
  var minimum_size = 167;
  var maximum_x = 1000;
  var maximum_y = 1000;
  var iframeTimeout = 0;
  var original_width = 0;
  var original_height = 0;
  var original_x = 0;
  var original_y = 0;
  var original_mouse_x = 0;
  var original_mouse_y = 0;
  var width, height;
  var img; // Specific for image attachments
  var _loop = function _loop() {
    var currentResizer = resizers[i];
    currentResizer.addEventListener('mousedown', resizeMouseDown);
    currentResizer.addEventListener('ontouchstart', resizeMouseDown);
    function resizeMouseDown(e) {
      e.preventDefault();
      original_width = parseFloat(getComputedStyle(element, null).getPropertyValue('width').replace('px', ''));
      original_height = parseFloat(getComputedStyle(element, null).getPropertyValue('height').replace('px', ''));
      original_x = element.getBoundingClientRect().left;
      original_y = element.getBoundingClientRect().top;
      original_mouse_x = e.pageX;
      original_mouse_y = e.pageY;
      maximum_x = document.body.offsetWidth;
      maximum_y = document.body.offsetHeight;
      if (attachmentType === 'image') {
        setImageProperties(element);
      }
      window.addEventListener('mousemove', resize);
      window.addEventListener('ontouchmove', resize);
      window.addEventListener('mouseup', stopResize);
      window.addEventListener('ontouchend', stopResize);

      /*************************** Main *****************************/
      function resize(e) {
        if (attachmentType === 'pdf' || attachmentType === 'video') {
          iframeTimeout = temporarilyDisablePointerEvents(iframe, iframeTimeout);
        }
        if (currentResizer.classList.contains('bottom-right')) resizeBottomRight(e);else if (currentResizer.classList.contains('bottom-left')) resizeBottomLeft(e);else if (currentResizer.classList.contains('top-right')) resizeTopRight(e);else resizeTopLeft(e);
      }
      function stopResize() {
        if (attachmentType === 'pdf' || attachmentType === 'video') {
          resetTemporarilyDisabledPointerEvents(iframe, iframeTimeout);
        }
        if (attachmentType === 'image') {
          scaleModalAndImageToRatio();
        }
        window.removeEventListener('mousemove', resize);
        window.removeEventListener('touchmove', resize);
        window.removeEventListener('mouseup', stopResize);
        window.removeEventListener('ontouchend', stopResize);
      }

      /*************************** Helpers *****************************/
      function resizeBottomRight(e) {
        width = original_width + (e.pageX - original_mouse_x);
        height = original_height + (e.pageY - original_mouse_y);
        if (width > minimum_size && e.pageX <= maximum_x) {
          element.style.width = width + 'px';
        }
        if (height > minimum_size && e.pageY <= maximum_y) {
          element.style.height = height + 'px';
        }
      }
      function resizeBottomLeft(e) {
        width = original_width - (e.pageX - original_mouse_x);
        height = original_height + (e.pageY - original_mouse_y);
        if (width > minimum_size && e.pageX > 0) {
          element.style.width = width + 'px';
          element.style.left = original_x + (e.pageX - original_mouse_x) + 'px';
        }
        if (height > minimum_size && e.pageY <= maximum_y) {
          element.style.height = height + 'px';
        }
      }
      function resizeTopRight(e) {
        width = original_width + (e.pageX - original_mouse_x);
        height = original_height - (e.pageY - original_mouse_y);
        if (width > minimum_size && e.pageX <= maximum_x) {
          element.style.width = width + 'px';
        }
        if (height > minimum_size && e.clientY > 0) {
          element.style.height = height + 'px';
          element.style.top = original_y + (e.pageY - original_mouse_y) + 'px';
        }
      }
      function resizeTopLeft(e) {
        width = original_width - (e.pageX - original_mouse_x);
        height = original_height - (e.pageY - original_mouse_y);
        if (width > minimum_size && e.pageX > 0) {
          element.style.width = width + 'px';
          element.style.left = original_x + (e.pageX - original_mouse_x) + 'px';
        }
        if (height > minimum_size && e.clientY > 0) {
          element.style.height = height + 'px';
          element.style.top = original_y + (e.pageY - original_mouse_y) + 'px';
        }
      }
      function setImageProperties() {
        if (typeof img === 'undefined') {
          img = element.querySelector('img');
          img.closest('.image-max-height').style.maxHeight = 'initial'; // Remove max height from parent dev to allow img expands if bigger than the parent when resized
        }

        img.style.opacity = '0';
      }
      function scaleModalAndImageToRatio() {
        /*  Rule of thumb: The image cannot become larger than the 'pulled' size of the parent. */
        var current = element.getBoundingClientRect();
        var _calculateMaxAspectRa = calculateMaxAspectRatioFit(current.width, current.height, img.naturalWidth, img.naturalHeight),
          _calculateMaxAspectRa2 = _slicedToArray(_calculateMaxAspectRa, 2),
          newWidth = _calculateMaxAspectRa2[0],
          newHeight = _calculateMaxAspectRa2[1];
        img.style.width = newWidth + 'px';
        img.style.height = newHeight + 'px';
        element.style.width = 'auto';
        element.style.height = 'auto';
        img.style.opacity = '1';
      }
    }
  };
  for (var i = 0; i < resizers.length; i++) {
    _loop();
  }
};

/**
 * Drag of attachment
 *
 * @param {object} element
 */
window.dragElement = function (element) {
  var pos1 = 0,
    pos2 = 0,
    pos3 = 0,
    pos4 = 0;
  var newTop, newLeft;
  var windowHeight = window.innerHeight;
  var windowWidth = window.innerWidth;
  var iframe = element.querySelector('.resizers iframe');
  var iframeTimeout = 0;
  if (document.getElementById(element.id + "drag")) {
    // if present, the header is where you move the DIV from:
    document.getElementById(element.id + "drag").onmousedown = dragMouseDown;
    document.getElementById(element.id + "drag").ontouchstart = dragMouseDown;
  } else {
    // otherwise, move the DIV from anywhere inside the DIV:
    element.onmousedown = dragMouseDown;
  }
  function dragMouseDown(e) {
    e = e || window.event;
    // get the mouse cursor position at startup:
    if (e.type === 'touchstart') {
      pos3 = e.touches[0].clientX;
      pos4 = e.touches[0].clientY;
    } else {
      pos3 = e.clientX;
      pos4 = e.clientY;
    }
    document.onmouseup = closeDragElement;
    document.ontouchend = closeDragElement;
    // call a function whenever the cursor moves:
    document.onmousemove = elementDrag;
    document.ontouchmove = elementDrag;
  }
  function elementDrag(e) {
    iframeTimeout = temporarilyDisablePointerEvents(iframe, iframeTimeout);
    e = e || window.event;

    // calculate the new cursor position:
    if (e.type === 'touchmove') {
      pos1 = pos3 - e.touches[0].clientX;
      pos2 = pos4 - e.touches[0].clientY;
      pos3 = e.touches[0].clientX;
      pos4 = e.touches[0].clientY;
    } else {
      pos1 = pos3 - e.clientX;
      pos2 = pos4 - e.clientY;
      pos3 = e.clientX;
      pos4 = e.clientY;
    }
    // set the element's new position:
    newTop = element.offsetTop - pos2;
    newLeft = element.offsetLeft - pos1;
    element.style.top = newTop + "px";
    element.style.left = newLeft + "px";
  }
  function closeDragElement(e) {
    var rightEdge = newLeft + element.getBoundingClientRect().width;
    if (newTop < 0) {
      newTop = 10;
    } // Check if the top edge is within window height boundaries
    else if (newTop > windowHeight - 50) {
      newTop = windowHeight - 50;
    }
    if (rightEdge < 150) {
      newLeft = 0;
    } // Check if the right edge is within window width boundaries
    else if (rightEdge > windowWidth - 10) {
      newLeft = 0;
    }
    element.style.top = newTop + 'px';
    element.style.left = newLeft + 'px';
    document.onmouseup = null;
    document.ontouchend = null;
    document.onmousemove = null;
    document.ontouchmove = null;
    resetTemporarilyDisabledPointerEvents(iframe, iframeTimeout);
  }
};
var temporarilyDisablePointerEvents = function temporarilyDisablePointerEvents(element, timeout) {
  var milliseconds = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 500;
  if (!element) {
    return false;
  }
  element.style.pointerEvents = 'none';
  if (timeout) {
    clearTimeout(timeout);
  }
  return setTimeout(function () {
    resetTemporarilyDisabledPointerEvents(element, timeout);
  }, milliseconds);
};
var resetTemporarilyDisabledPointerEvents = function resetTemporarilyDisabledPointerEvents(element, timeout) {
  if (!element) {
    return false;
  }
  if (timeout) {
    clearTimeout(timeout);
  }
  element.style.pointerEvents = 'auto';
};
document.addEventListener("alpine:init", function () {
  alpinejs__WEBPACK_IMPORTED_MODULE_1__["default"].data("attachmentModal", function (attachmentType) {
    return {
      maxHeight: 0,
      maxWidth: 0,
      image: null,
      imageWidth: 0,
      imageHeight: 0,
      attachmentType: attachmentType,
      init: function init() {
        if (attachmentType === "image") {
          this.maxHeight = window.innerHeight * 0.8;
          this.maxWidth = window.innerWidth * 0.9;
          this.image = this.$root.querySelector("img");
          this.imageLoaded();
        }
        dragElement(this.$el);
        makeAttachmentResizable(this.$el, attachmentType);
      },
      imageLoaded: function imageLoaded() {
        if (attachmentType !== "image" || !(this.image.naturalWidth > 0)) return;
        this.$root.style.width = "auto";
        this.$root.style.height = "auto";
        var _calculateMaxAspectRa3 = calculateMaxAspectRatioFit(this.maxWidth, this.maxHeight, this.image.naturalWidth, this.image.naturalHeight),
          _calculateMaxAspectRa4 = _slicedToArray(_calculateMaxAspectRa3, 2),
          maxWidth = _calculateMaxAspectRa4[0],
          maxHeight = _calculateMaxAspectRa4[1];
        this.imageWidth = this.getImageWidth(maxWidth);
        this.imageHeight = this.getImageHeight(maxHeight);
      },
      getImageWidth: function getImageWidth(maxWidth) {
        return (this.image.naturalWidth > maxWidth ? maxWidth : this.image.naturalWidth) + 'px';
      },
      getImageHeight: function getImageHeight(maxHeight) {
        return (this.image.naturalHeight > maxHeight ? maxHeight : this.image.naturalHeight) + "px";
      }
    };
  });
});
var calculateMaxAspectRatioFit = function calculateMaxAspectRatioFit(maxWidth, maxHeight, imageWidth, imageHeight) {
  var scale = Math.min(maxWidth / imageWidth, maxHeight / imageHeight);
  var newMaxWidth = Math.floor(imageWidth * scale),
    newMaxHeight = Math.floor(imageHeight * scale);
  return [newMaxWidth, newMaxHeight];
};

/***/ }),

/***/ "./resources/js/bootstrap.js":
/*!***********************************!*\
  !*** ./resources/js/bootstrap.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var laravel_echo__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! laravel-echo */ "./node_modules/laravel-echo/dist/echo.js");
/* harmony import */ var filepond_plugin_file_validate_size__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! filepond-plugin-file-validate-size */ "./node_modules/filepond-plugin-file-validate-size/dist/filepond-plugin-file-validate-size.js");
/* harmony import */ var filepond_plugin_file_validate_size__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(filepond_plugin_file_validate_size__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _smoothscroll_polyfill__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./smoothscroll-polyfill */ "./resources/js/smoothscroll-polyfill.js");
/* harmony import */ var _smoothscroll_polyfill__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_smoothscroll_polyfill__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _AnyChart_anychart_base_min__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AnyChart/anychart-base.min */ "./resources/js/AnyChart/anychart-base.min.js");
/* harmony import */ var _AnyChart_anychart_base_min__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_AnyChart_anychart_base_min__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ "./node_modules/uuid/dist/esm-browser/v4.js");
/* harmony import */ var _CkEditor5CommentsIntegration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./CkEditor5CommentsIntegration */ "./resources/js/CkEditor5CommentsIntegration.js");
/* provided dependency */ var process = __webpack_require__(/*! process/browser.js */ "./node_modules/process/browser.js");
window._ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");

/**
 * We'll load the axios HTTP library which allows us to easily issue requests
 * to our Laravel back-end. This library automatically handles sending the
 * CSRF token as a header based on the value of the "XSRF" token cookie.
 */

window.axios = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
window.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';

/**
 * Echo exposes an expressive API for subscribing to channels and listening
 * for events that are broadcast by Laravel. Echo and event broadcasting
 * allows your team to easily build robust real-time web applications.
 */


window.Pusher = __webpack_require__(/*! pusher-js */ "./node_modules/pusher-js/dist/web/pusher.js");
window.Echo = new laravel_echo__WEBPACK_IMPORTED_MODULE_0__["default"]({
  broadcaster: 'pusher',
  key: "662d128370816e2bbb66",
  cluster: "eu",
  forceTLS: true
});
window.$ = window.jQuery = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
window.MIX_CKEDITOR_LICENSE_KEY = "q11N5LxlUjUp2pDthuTmPmy/+cmatL0lY7nh6aX+nhhODyekK1g8YW5CKA==";
window.FilePond = __webpack_require__(/*! filepond */ "./node_modules/filepond/dist/filepond.js");

FilePond.registerPlugin((filepond_plugin_file_validate_size__WEBPACK_IMPORTED_MODULE_1___default()));

// require('./smoothscroll-polyfill');

_smoothscroll_polyfill__WEBPACK_IMPORTED_MODULE_2___default().polyfill();

_AnyChart_anychart_base_min__WEBPACK_IMPORTED_MODULE_3___default().licenseKey(process.env.MIX_ANYCHART_LICENSE_KEY);

window.uuidv4 = uuid__WEBPACK_IMPORTED_MODULE_4__["default"];

window.CommentsIntegration = _CkEditor5CommentsIntegration__WEBPACK_IMPORTED_MODULE_5__["default"];

/***/ }),

/***/ "./resources/js/core.js":
/*!******************************!*\
  !*** ./resources/js/core.js ***!
  \******************************/
/***/ (() => {

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
parent.skip = false;
var notifsent = false;
var lastLostFocus = {
  notification: false,
  delay: 3 * 60,
  reported: {}
};
var alert = false;
var checkFocusTimer = false;
Core = {
  inApp: false,
  appType: '',
  inactive: 0,
  secondsBeforeStudentLogout: 60 * 60 * 3,
  devices: ['browser', 'electron', 'ios', 'chromebook'],
  init: function init() {
    var isIOS = Core.detectIOS();
    var isAndroid = /Android/g.test(navigator.userAgent);
    var isChromebook = window.navigator.userAgent.indexOf('CrOS') > 0;
    var isFirefox = window.navigator.userAgent.indexOf('Firefox') > -1;
    if (isIOS) {
      Core.isIpad();
    } else if (isAndroid) {
      Core.isAndroid();
    } else if (isChromebook) {
      Core.isChromebook();
    }
    if (isFirefox) {
      Core.isFirefox();
    }
    Core.checkForElectron();
    runCheckFocus();
    startStudentActivityCheck();
    Core.appType === '' ? Core.enableBrowserFeatures() : Core.enableAppFeatures(Core.appType);
  },
  lostFocus: function lostFocus(reason) {
    if (!isMakingTest()) {
      return;
    }
    var testtakemanager = document.querySelector('[testtakemanager]');
    if (testtakemanager != null) {
      livewire.find(testtakemanager.getAttribute('wire:id')).shouldFraudNotificationsBeShown().then(function (response) {
        if (response.shouldFraudNotificationsBeShown) {
          if (reason == "printscreen") {
            Notify.notify('Het is niet toegestaan om een screenshot te maken, we hebben je docent hierover geïnformeerd', 'error');
          } else if (reason == 'illegal-programs') {
            Notify.notify('Er staan applicaties op de achtergrond aan die niet zijn toegestaan', 'error');
          } else {
            Notify.notify('Het is niet toegestaan om uit de app te gaan', 'error');
          }
        }
      });
      if (shouldLostFocusBeReported(reason)) {
        livewire.find(testtakemanager.getAttribute('wire:id')).call('createTestTakeEvent', reason);
      }
    }
    window.Livewire.emit('setFraudDetected');
  },
  lostFocusWithoutReporting: function lostFocusWithoutReporting(text) {
    if (!isMakingTest()) {
      return;
    }
    var testtakemanager = document.querySelector("[testtakemanager]");
    if (testtakemanager != null) {
      livewire.find(testtakemanager.getAttribute("wire:id")).shouldFraudNotificationsBeShown().then(function (response) {
        if (response.shouldFraudNotificationsBeShown) {
          Notify.notify(text, "error");
        }
      });
    }
    window.Livewire.emit("setFraudDetected");
  },
  isIpad: function isIpad() {
    // var standalone = window.navigator.standalone,
    //     userAgent = window.navigator.userAgent.toLowerCase(),
    //     safari = /safari/.test(userAgent),
    //     ios = /iphone|ipod|ipad/.test(userAgent);
    Core.appType = 'ios';

    // if (ios) {
    //     if (!standalone && safari) {
    //         Core.appType = 'browser';
    //         Core.inApp = false;
    //     } else if (standalone && !safari) {
    //         Core.appType = 'standalone';
    //         Core.inApp = true;
    //     } else if (!standalone && !safari) {
    //         Core.appType = 'ipad';
    //         Core.inApp = true;
    //     }
    // }
  },

  isAndroid: function isAndroid() {
    Core.inApp = true;
    Core.appType = 'android';
  },
  isChromebook: function isChromebook() {
    Core.inApp = true;
    Core.appType = 'chromebook';
  },
  isFirefox: function isFirefox() {
    document.querySelector('body').classList.add('firefox');
  },
  detectIOS: function detectIOS() {
    var urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('device') !== null && urlParams.get('device') === 'ipad') {
      return true;
    }
    if (window.webview != null) return true;
    return false;
  },
  disableDeviceSpecificFeature: function disableDeviceSpecificFeature() {
    Core.devices.forEach(function (device) {
      var deviceElements = document.querySelectorAll('[' + device + ']');
      if (deviceElements.length > 0) {
        deviceElements.forEach(function (element) {
          element.style.display = 'none';
        });
      }
    });
  },
  enableBrowserFeatures: function enableBrowserFeatures() {
    var browserElements = document.querySelectorAll('[browser]');
    if (browserElements.length > 0) {
      browserElements.forEach(function (element) {
        element.style.display = 'flex';
      });
    }
  },
  enableAppFeatures: function enableAppFeatures(appType) {
    var show = function show() {
      var appElements = document.querySelectorAll('[' + appType + ']');
      appElements.forEach(function (element) {
        element.style.display = 'flex';
      });
    };
    if (appType === 'chromebook') {
      window.onload = function () {
        try {
          var count = 1;
          var buttonDisplay = setInterval(function () {
            // send request to get the version, max 5 times then break the interval
            var xhttp = new XMLHttpRequest();
            xhttp.open("GET", "/get_app_version", true);
            xhttp.send();
            xhttp.onload = function () {
              var response = JSON.parse(this.response).TLCVersion; // get chrome version
              if (response != 'x') {
                // version is defined                              
                if (response.charAt(0) == '2') {
                  // version starts with 2.
                  show();
                } else if (response.charAt(0) == '3') {
                  // version starts with 3.
                  chrome.runtime.sendMessage(
                  // see if it is a kiosk app\
                  document.getElementById("chromeos-extension-id").name, {
                    isKiosk: true
                  }, function (response) {
                    response.isKiosk ? show() : ''; // if koisk app, show button
                  });
                }

                clearInterval(buttonDisplay);
              } else {
                count >= 5 ? clearInterval(buttonDisplay) : count++;
              }
            };
          }, 2000);
        } catch (error) {}
      };
    } else {
      // version is not defined (headers is not recieved from the app yet)
      show();
    }
  },
  checkForElectron: function checkForElectron() {
    try {
      if (_typeof(electron.closeApp) === (typeof Function === "undefined" ? "undefined" : _typeof(Function))) {
        Core.appType = 'electron';
      }
    } catch (error) {}
  },
  closeElectronApp: function closeElectronApp() {
    Core.closeApplication('close');
  },
  closeChromebookApp: function closeChromebookApp(portalUrl) {
    try {
      chrome.runtime.sendMessage(document.getElementById("chromeos-extension-id").name, {
        close: true
      });
    } catch (error) {}
    window.location = portalUrl + 'logout';
  },
  closeApplication: function closeApplication(cmd) {
    try {
      chrome.runtime.sendMessage(document.getElementById("chromeos-extension-id").name, {
        close: true
      });
    } catch (error) {}
    if (cmd == 'quit') {
      open('/login', '_self').close();
    } else if (cmd == 'close') {
      try {
        electron.closeApp();
      } catch (error) {
        window.close();
      }
    }
    return false;
  },
  setAppTestConfigIfNecessary: function setAppTestConfigIfNecessary(participantId) {
    try {
      electron.setTestConfig(participantId);
      fetch('test_takes/take/');
    } catch (error) {}
    try {
      webview.setTestConfig(participantId);
    } catch (error) {}
  },
  changeAppTypeToIos: function changeAppTypeToIos() {
    Core.appType = 'ios';
    Core.disableDeviceSpecificFeature();
  },
  /**
   * Waits an interval time before logging user out
   * @param {boolean} firstLoad
   * @param {int} secondsBeforeTeacherLogout - default 15 min
   */
  startUserLogoutInterval: function startUserLogoutInterval() {
    var firstLoad = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
    var secondsBeforeTeacherLogout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 15 * 60;
    var inactive = 0;
    document.addEventListener('mouseover', function () {
      return inactive = 0;
    });
    document.addEventListener('keydown', function () {
      return inactive = 0;
    });
    var startInterval = function startInterval() {
      var userLogoutInterval = setInterval(function () {
        inactive++;
        if (inactive >= secondsBeforeTeacherLogout) {
          clearInterval(userLogoutInterval);
          Livewire.emit("openModal", "open-user-logout-warning-modal");
        }
      }, 1000);
    };
    if (firstLoad) {
      window.onload = function () {
        return startInterval();
      };
    } else {
      startInterval();
    }
  }
};
runCheckFocus = function runCheckFocus() {
  if (!checkFocusTimer) {
    checkFocusTimer = setInterval(checkPageFocus, 300);
  }
};
function checkPageFocus() {
  if (!parent.skip) {
    if (!document.hasFocus()) {
      if (!notifsent) {
        // checks for the notifcation if it is already sent to the teacher
        if (Core.appType != 'electron' && Core.appType != 'ios') {
          Core.lostFocus('lost-focus');
        }
        notifsent = true;
      }
    } else {
      notifsent = false; //mark it as not sent, to active it again
    }
  } else {
    window.focus(); //we need to set focus back to the window before changing skip value
    parent.skip = false;
  }
}
function shouldLostFocusBeReported(reason) {
  if (reason == null) {
    reason == "undefined";
  }
  if (!(reason in lastLostFocus.reported) || !alert) {
    lastLostFocus.reported[reason] = new Date().getTime() / 1000;
    return true;
  }
  var now = new Date().getTime() / 1000;
  var lastTime = lastLostFocus.reported[reason];
  if (lastTime <= now - lastLostFocus.delay) {
    lastLostFocus.reported[reason] = new Date().getTime() / 1000;
    return true;
  }
  window.Livewire.emit('checkConfirmedEvents', reason);
  return false;
}
function checkForIpadKeyboard() {
  document.addEventListener('click', function (e) {
    if (needsKeyboard(e.target)) {
      document.querySelector('header').classList.remove('fixed');
      document.querySelector('footer').classList.remove('fixed');
    } else {
      document.querySelector('header').classList.add('fixed');
      document.querySelector('footer').classList.add('fixed');
    }
  });
}
function needsKeyboard(target) {
  return /^(?:input|textarea)$/i.test(target.tagName.toLowerCase());
}
function startStudentActivityCheck() {
  document.addEventListener('mousemove', function () {
    Core.inactive = 0;
  });
  document.addEventListener('touchstart', function () {
    Core.inactive = 0;
  });
  studentActivityTimer = setInterval(function () {
    Core.inactive++;
    if (Core.inactive >= Core.secondsBeforeStudentLogout) {
      Livewire.emit('studentInactive');
    }
  }, 1000);
}
function isMakingTest() {
  return document.querySelector('[testtakemanager]') != null;
}

/***/ }),

/***/ "./resources/js/drawing/constants.js":
/*!*******************************************!*\
  !*** ./resources/js/drawing/constants.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   elementClassNameForType: () => (/* binding */ elementClassNameForType),
/* harmony export */   nameInSidebarEntryForShape: () => (/* binding */ nameInSidebarEntryForShape),
/* harmony export */   panParams: () => (/* binding */ panParams),
/* harmony export */   pixelsPerCentimeter: () => (/* binding */ pixelsPerCentimeter),
/* harmony export */   resizableSvgShapes: () => (/* binding */ resizableSvgShapes),
/* harmony export */   shapePropertiesAvailableToUser: () => (/* binding */ shapePropertiesAvailableToUser),
/* harmony export */   shapeTypeWithRespectiveSvgClass: () => (/* binding */ shapeTypeWithRespectiveSvgClass),
/* harmony export */   svgNS: () => (/* binding */ svgNS),
/* harmony export */   validHtmlElementKeys: () => (/* binding */ validHtmlElementKeys),
/* harmony export */   validSvgElementKeys: () => (/* binding */ validSvgElementKeys),
/* harmony export */   zoomParams: () => (/* binding */ zoomParams)
/* harmony export */ });
var svgNS = "http://www.w3.org/2000/svg";
var shapeTypeWithRespectiveSvgClass = {
  rect: "Rectangle",
  circle: "Circle",
  line: "Line",
  text: "Text",
  image: "Image",
  freehand: "Path"
};
var validSvgElementKeys = {
  global: ["style", "class", "id", "stroke", "stroke-width", "stroke-dasharray", "fill", "fill-opacity", "opacity", "marker-start", "marker-mid", "marker-end"],
  rect: ["x", "y", "width", "height", "rx", "ry", "pathLength"],
  circle: ["cx", "cy", "r", "pathLength"],
  line: ["x1", "y1", "x2", "y2", "pathLength"],
  path: ["d"],
  image: ["x", "y", "width", "height", "href", "preserveAspectRatio", "identifier"],
  text: ["x", "y", "dx", "dy", "rotate", "lengthAdjust", "data-textcontent", "font-family"],
  g: ["transform"]
};
var shapePropertiesAvailableToUser = {
  drag: [],
  freehand: ["pen-freehand"],
  rect: ["stroke-rect", "fill-rect"],
  circle: ["stroke-circle", "fill-circle"],
  line: ["pen-line", "endmarker-type"],
  text: ["opacity", "text-style"]
};
var validHtmlElementKeys = {
  global: ["style", "class", "id", "title"],
  input: ["placeholder", "type", "value", "autocomplete", "spellcheck"],
  button: ["type"]
};
var nameInSidebarEntryForShape = {
  rect: "Rechthoek",
  circle: "Cirkel",
  line: "Lijn",
  text: "Tekst",
  image: "Afbeelding",
  path: "Penlijn"
};
var pixelsPerCentimeter = 35.43307;
var zoomParams = {
  STEP: 0.25,
  MAX: 5,
  MIN: 0.25
};
var panParams = {
  STEP: 5
};
var elementClassNameForType = {
  "rect": "Rectangle",
  "circle": "Circle",
  "line": "Line",
  "text": "Text",
  "image": "Image",
  "path": "Path"
};
var resizableSvgShapes = ["rect", "circle", "image"];

/***/ }),

/***/ "./resources/js/drawing/drawing-question.js":
/*!**************************************************!*\
  !*** ./resources/js/drawing/drawing-question.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ "./resources/js/drawing/constants.js");
/* harmony import */ var _svgShape_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./svgShape.js */ "./resources/js/drawing/svgShape.js");
/* harmony import */ var _uiElements_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./uiElements.js */ "./resources/js/drawing/uiElements.js");
/* harmony import */ var _sidebar_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sidebar.js */ "./resources/js/drawing/sidebar.js");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uuid */ "./node_modules/uuid/dist/esm-browser/v4.js");
/* harmony import */ var _unicodeBase64Polyfill_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./unicodeBase64Polyfill.js */ "./resources/js/drawing/unicodeBase64Polyfill.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, ""); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, "_invoke", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: "normal", arg: fn.call(obj, arg) }; } catch (err) { return { type: "throw", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { ["next", "throw", "return"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if ("throw" !== record.type) { var result = record.arg, value = result.value; return value && "object" == _typeof(value) && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke("next", value, resolve, reject); }, function (err) { invoke("throw", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke("throw", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, "_invoke", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = "suspendedStart"; return function (method, arg) { if ("executing" === state) throw new Error("Generator is already running"); if ("completed" === state) { if ("throw" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if ("next" === context.method) context.sent = context._sent = context.arg;else if ("throw" === context.method) { if ("suspendedStart" === state) throw state = "completed", context.arg; context.dispatchException(context.arg); } else "return" === context.method && context.abrupt("return", context.arg); state = "executing"; var record = tryCatch(innerFn, self, context); if ("normal" === record.type) { if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, "throw" === methodName && delegate.iterator["return"] && (context.method = "return", context.arg = undefined, maybeInvokeDelegate(delegate, context), "throw" === context.method) || "return" !== methodName && (context.method = "throw", context.arg = new TypeError("The iterator does not provide a '" + methodName + "' method")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, "return" !== context.method && (context.method = "next", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = "normal", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: "root" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if ("function" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), exports.isGeneratorFunction = function (genFun) { var ctor = "function" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, "toString", function () { return "[object Generator]"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = "next", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if ("throw" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if ("root" === entry.tryLoc) return handle("end"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error("try statement without catch or finally"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if ("throw" === record.type) throw record.arg; return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, "catch": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if ("throw" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, "next" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }
function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }






window.UnicodeBase64Polyfill = _unicodeBase64Polyfill_js__WEBPACK_IMPORTED_MODULE_4__;
window.initDrawingQuestion = function (rootElement, isTeacher, isPreview, grid, isOldDrawing) {
  var _this2 = this;
  /**
   * @typedef Cursor
   * @type {Object}
   * @property {number} x
   * @property {number} y
   */
  /**
   * @typedef propObj
   * @type {Object.<string, string|number>}
   */
  /**
   * @typedef ELOptions
   * @type {Object.<string, boolean|AbortSignal>|boolean}
   */
  /**
   * @typedef ELEvent
   * @type {Object.<string, Function|ELOptions>}
   */
  /**
   * @typedef ELEvents
   * @type {Object.<string, ELEvent>}
   */
  /**
   * @typedef EventListenerSettings
   * @type {Object.<string, HTMLElement|ELEvents>}
   */
  /**
   * @typedef Element
   * @type {HTMLElement|SVGElement}
   */

  /**
   * Global Object containing all DOM Elements on the page that have an id attribute.
   * The key is the id value converted to camelCase, the value being the DOM Element itself.
   */
  var UI = new _uiElements_js__WEBPACK_IMPORTED_MODULE_2__.UIElements(rootElement);

  /**
   * Global Object containing some parameters that don't belong in Canvas.
   */
  var drawingApp = {
    params: {
      currentTool: "drag",
      boldText: false,
      endmarkerType: "no-endmarker",
      gridSize: 1,
      spacebarPressed: false,
      root: rootElement,
      isTeacher: isTeacher && !isPreview,
      isPreview: isPreview,
      hiddenLayersCount: 0
    },
    firstInit: true,
    warnings: {},
    explainer: null,
    livewireComponent: null,
    init: function init() {
      if (this.firstInit) {
        this.bindEventListeners(eventListenerSettings);
      }
      var drawingApp = this;
      var pollingFunction = setInterval(function () {
        if (UI.svgCanvas.getBoundingClientRect().width !== 0) {
          setCorrectPopupHeight();
          calculateCanvasBounds();
          updateClosedSidebarWidth();
          if (drawingApp.firstInit) {
            makeGrid();
            updateMidPoint();
          }
          if (grid && grid !== '0') {
            drawGridBackground();
          }
          processGridToggleChange();
          clearLayers();
          retrieveSavedDrawingData();
          Canvas.setCurrentLayer(Canvas.params.currentLayer);
          drawingApp.firstInit = false;
          clearInterval(pollingFunction);
          if (Canvas.params.initialZoomLevel !== 1) {
            updateZoomInputValue(Canvas.params.initialZoomLevel);
            zoom(Canvas.params.initialZoomLevel);
            panDrawingCenterToScreenCenter();
          }
        }
      });
      setCorrectZIndex();
      setCursorTypeAccordingToCurrentType();
      updateAllOpacitySliderColor();
      if (!this.isTeacher()) {
        Canvas.layers.question.lock();
        Canvas.layers.question.sidebar.style.display = "none";
      }
      this.warnings = {
        whenAnyToolButDragSelected: new _uiElements_js__WEBPACK_IMPORTED_MODULE_2__.warningBox(UI.warningboxTemplate.dataset.text, 5000, rootElement)
      };
      if (!this.explainer) {
        var layerTemplate = rootElement.querySelector("#layer-group-template");
        var templateCopy = layerTemplate.content.cloneNode(true);
        this.explainer = templateCopy.querySelector(".explainer");
      }
      this.livewireComponent = getClosestLivewireComponentByAttribute(rootElement, 'questionComponent');
    },
    convertCanvas2DomCoordinates: function convertCanvas2DomCoordinates(coordinates) {
      var matrix = Canvas.params.domMatrix;
      return {
        x: coordinates.x * matrix.a + matrix.e,
        y: coordinates.y * matrix.d + matrix.f
      };
    },
    /**
     * Adds event listeners with the parameters specified in the settings.
     * @param {EventListenerSettings[]} settings
     * @param {*} thisArg Specific this context when needed.
     */
    bindEventListeners: function bindEventListeners(settings) {
      var _this = this;
      var thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      settings.forEach(function (eventListener) {
        var _loop = function _loop() {
          var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),
            type = _Object$entries$_i[0],
            params = _Object$entries$_i[1];
          var types = type.split(" ");
          types.forEach(function (type) {
            var callbackFunction = thisArg ? params.callback.bind(thisArg) : params.callback;
            if (eventListener.elements && Array.isArray(eventListener.elements)) {
              eventListener.elements.forEach(function (elem) {
                _this.bindToElement(elem, type, callbackFunction, params.options);
              });
            } else {
              _this.bindToElement(eventListener.element, type, callbackFunction, params.options);
            }
          });
        };
        for (var _i = 0, _Object$entries = Object.entries(eventListener.events); _i < _Object$entries.length; _i++) {
          _loop();
        }
      });
    },
    bindToElement: function bindToElement(elem, type, func, options) {
      if (elem) {
        elem.addEventListener(type, function (evt) {
          func(evt);
        }, options);
      }
    },
    currentToolIs: function currentToolIs(toolname) {
      return this.params.currentTool === toolname;
    },
    toolAndShapeOfSameType: function toolAndShapeOfSameType(shape) {
      return this.getElementShapeType(shape) === this.params.currentTool;
    },
    getElementShapeType: function getElementShapeType(shape) {
      return shape.id.split("-")[0];
    },
    isTeacher: function isTeacher() {
      return this.params.isTeacher;
    }
  };

  /**
   * Global Object containing all parameters, Shapes and corresponding sidebarEntries.
   */
  var Canvas = function () {
    var Obj = {
      params: {
        cursorPosition: {
          x: 0,
          y: 0
        },
        cursorPositionMousedown: {
          x: 0,
          y: 0
        },
        imageTracker: [],
        touchmoving: false,
        currentLayer: "question",
        focusedShape: null,
        bounds: {},
        editingTextInZone: false,
        draw: {
          newShape: null,
          shapeCountForEachType: {
            rect: 0,
            circle: 0,
            line: 0,
            text: 0,
            image: 0,
            path: 0,
            freehand: 0
          }
        },
        drag: {
          enabled: false,
          translateOfSvgShape: null,
          offsetCursorToMidPoint: null
        },
        resize: {
          enabled: false
        },
        pan: {
          enabled: false,
          startCoordinates: {
            x: 0,
            y: 0
          }
        },
        domMatrix: new DOMMatrix(),
        zoomFactor: 1,
        initialZoomLevel: 1
      },
      UI: UI,
      element: UI.svgCanvas,
      layers: {},
      dragging: function dragging() {
        return this.params.drag.enabled;
      },
      panning: function panning() {
        return this.params.pan.enabled;
      },
      drawing: function drawing() {
        return this.params.draw.newShape;
      },
      resizing: function resizing() {
        return this.params.resize.enabled;
      },
      getLayerDomElementsByLayerId: function getLayerDomElementsByLayerId(layerId) {
        var layer = rootElement.querySelector("#".concat(layerId));
        var layerHeader = rootElement.querySelector("[data-layer=\"".concat(layerId, "\"]")).closest('.header');
        var layerSvg = rootElement.querySelector("#svg-".concat(layerId));
        return {
          layer: layer,
          layerHeader: layerHeader,
          layerSvg: layerSvg
        };
      },
      removeHighlightFromLayer: function removeHighlightFromLayer(layerId) {
        var _this$getLayerDomElem = this.getLayerDomElementsByLayerId(layerId),
          layer = _this$getLayerDomElem.layer,
          layerHeader = _this$getLayerDomElem.layerHeader,
          layerSvg = _this$getLayerDomElem.layerSvg;
        layer.classList.remove("highlight");
        layer.querySelectorAll('.selected').forEach(function (item) {
          return item.classList.remove('selected');
        });
        layerSvg.querySelectorAll('.selected').forEach(function (item) {
          return item.classList.remove('selected');
        });
        layerHeader.classList.remove("highlight");
      },
      addHighlightToLayer: function addHighlightToLayer(layerId) {
        var _this$getLayerDomElem2 = this.getLayerDomElementsByLayerId(layerId),
          layer = _this$getLayerDomElem2.layer,
          layerHeader = _this$getLayerDomElem2.layerHeader;
        layer.classList.add("highlight");
        layerHeader.classList.add("highlight");
      },
      setCurrentLayer: function setCurrentLayer(newCurrentLayerID) {
        this.removeHighlightFromLayer(this.layerKey2ID(this.params.currentLayer));
        this.addHighlightToLayer(this.layerKey2ID(newCurrentLayerID));
        Canvas.params.currentLayer = newCurrentLayerID;
      },
      getEnabledLayers: function getEnabledLayers() {
        return Object.values(this.layers).filter(function (layer) {
          return layer.params.enabled;
        });
      },
      layerID2Key: function layerID2Key(id) {
        return id.startsWith("svg-") ? id.substring(4, id.lastIndexOf("-")) : id.substring(0, id.lastIndexOf("-"));
      },
      layerKey2ID: function layerKey2ID(key) {
        return "".concat(key, "-group");
      },
      setFocusedShape: function setFocusedShape(shape) {
        this.params.focusedShape = shape;
      },
      getFocusedShape: function getFocusedShape() {
        return this.params.focusedShape;
      },
      data: {
        question: "",
        answer: ""
      },
      makeLayers: function makeLayers() {
        this.layers = {
          "question": new _sidebar_js__WEBPACK_IMPORTED_MODULE_3__.Layer({
            name: UI.translationTemplate.dataset.question,
            id: "question-group",
            enabled: true
          }, drawingApp, this),
          "answer": new _sidebar_js__WEBPACK_IMPORTED_MODULE_3__.Layer({
            name: UI.translationTemplate.dataset.answer,
            id: "answer-group",
            enabled: false
          }, drawingApp, this),
          "grid": {
            svg: UI.svgGridGroup,
            params: {
              locked: true,
              hidden: true
            }
          }
        };
      },
      deleteObject: function deleteObject(object) {
        var objectId = object.id;
        var layer = object.svgShape.isQuestionLayer() ? 'question' : 'answer';
        object.remove();
        delete this.layers[layer].shapes[objectId];
      },
      cleanShapeCount: function cleanShapeCount() {
        this.params.draw.shapeCountForEachType = {
          rect: 0,
          circle: 0,
          line: 0,
          text: 0,
          image: 0,
          path: 0,
          freehand: 0
        };
      },
      initCanvas: function initCanvas() {
        this.cleanShapeCount();
        this.makeLayers();
      },
      unhighlightShapes: function unhighlightShapes() {
        if (Canvas.params.highlightedShape) {
          Canvas.params.highlightedShape.svg.unhighlight();
          Canvas.params.highlightedShape = null;
        }
      },
      /**
       * @param {*} g element 
       * @returns object containing element svg (svgShape class) and its sidebar (Entry class)
       */
      getShapeDataObject: function getShapeDataObject(shape) {
        return Canvas.layers[Canvas.layerID2Key(shape.parentElement.id)].shapes[shape.id];
      }
    };
    Obj.initCanvas();
    return Obj;
  }();
  function clearLayers() {
    Canvas.layers.question.clearSidebar(false);
    Canvas.layers.answer.clearSidebar(false);
    Canvas.cleanShapeCount();
    updateGrid();
  }

  /******************************
   * EVENT LISTENERS DEFINITION *
   ******************************/

  var eventListenerSettings = [{
    element: window,
    events: {
      "resize": {
        callback: function callback() {
          updateClosedSidebarWidth();
          updateGrid();
          setCorrectPopupHeight();
        }
      },
      "keydown": {
        callback: function callback(evt) {
          switch (evt.code) {
            case "Space":
              if (!drawingApp.params.spacebarPressed) {
                drawingApp.params.spacebarPressed = true;
                startPan();
              }
              break;
            /* Zoom in on Ctrl+'+' */
            case "Equal":
              if (evt.ctrlKey) {
                evt.preventDefault();
                zoomInOneStep();
              }
              break;
            /* Zoom out on Ctrl+'-' */
            case "Minus":
              if (evt.ctrlKey) {
                evt.preventDefault();
                zoomOutOneStep();
              }
              break;
            /* Restore zoom to 100% on Ctrl+'0' */
            case "Digit0":
              if (evt.ctrlKey) {
                evt.preventDefault();
                zoom();
                updateZoomInputValue();
              }
              break;
            case "Delete":
              if (Canvas.params.focusedShape) {
                if (drawingApp.currentToolIs("drag")) {
                  Canvas.params.focusedShape.getSidebarEntry().remove();
                }
              }
              break;
            default:
          }
        }
      },
      "keyup": {
        callback: function callback(evt) {
          if (evt.code === "Space" && drawingApp.params.spacebarPressed) {
            drawingApp.params.spacebarPressed = false;
            stopPan();
          }
        }
      },
      "paste": {
        callback: function callback(evt) {
          isTeacher && UI.canvas.matches(':hover') && handleImagePaste(evt);
        }
      }
    }
  }, {
    element: UI.drawingTool,
    events: {
      "mouseup touchend mouseleave touchcancel": {
        callback: cursorStop,
        options: {
          passive: false
        }
      },
      "wheel": {
        callback: function callback(evt) {
          if (evt.ctrlKey) {
            evt.preventDefault();
          }
        },
        options: {
          passive: false
        }
      },
      "mousedown touchstart": {
        callback: function callback() {
          Canvas.unhighlightShapes();
          // if (Canvas.params.highlightedShape) {
          //     Canvas.params.highlightedShape.svg.unhighlight();
          //     Canvas.params.highlightedShape = null;
          // }
        }
      }
    }
  }, {
    element: UI.svgCanvas,
    events: {
      "mousedown touchstart": {
        callback: cursorStart,
        options: {
          passive: false
        }
      },
      "mousemove touchmove": {
        callback: cursorMove,
        options: {
          passive: false
        }
      },
      "wheel": {
        callback: function callback(evt) {
          evt.preventDefault();
          var direction = -Math.sign(evt.deltaY);
          if (evt.ctrlKey) {
            /* Zoom on Ctrl+Scroll */
            zoomOneStepToCursor(-direction);
          } else if (evt.shiftKey) {
            /* Pan horizontal on Shift+Scroll */
            panHorizontalOneStep(direction);
          } else {
            /* Pan vertical on Scroll */
            panVerticalOneStep(direction);
          }
        },
        options: {
          passive: false
        }
      },
      "click": {
        callback: function callback(evt) {
          if (!movedDuringClick(evt)) {
            handleShapeSelection(evt);
          }
        }
      },
      "touchend touchcancel": {
        callback: function callback(evt) {
          if (!Canvas.params.touchmoving) handleShapeSelection(evt);
          Canvas.params.touchmoving = false;
        }
      }
    }
  }, {
    elements: _toConsumableArray(rootElement.querySelectorAll("[data-button-group=tool]")),
    events: {
      "click": {
        callback: processToolChange
      }
    }
  }, {
    elements: _toConsumableArray(rootElement.querySelectorAll("[data-button-group=endmarker-type]")),
    events: {
      "click": {
        callback: processEndmarkerTypeChange
      }
    }
  }, {
    element: UI.boldToggle,
    events: {
      "change": {
        callback: function callback(evt) {
          drawingApp.params.boldText = evt.target.checked;
          if (evt.target.checked) {
            UI.boldToggleButton.classList.add('active');
          } else {
            UI.boldToggleButton.classList.remove('active');
          }
          editShape('updateBoldText');
        }
      }
    }
  }, {
    element: UI.elemOpacityNumber,
    events: {
      "input": {
        callback: function callback() {
          if (valueWithinBounds(UI.elemOpacityNumber)) {
            updateElemOpacityRangeInput();
            editShape('updateOpacity');
          }
        }
      }
    }
  }, {
    element: UI.elemOpacityRange,
    events: {
      "input": {
        callback: function callback() {
          if (valueWithinBounds(UI.elemOpacityRange)) {
            updateElemOpacityNumberInput();
            editShape('updateOpacity');
          }
        }
      },
      "focus": {
        callback: function callback() {
          UI.elemOpacityNumber.classList.add("active");
        }
      },
      "blur": {
        callback: function callback() {
          UI.elemOpacityNumber.classList.remove("active");
        }
      }
    }
  }, {
    element: UI.textColor,
    events: {
      "input": {
        callback: function callback() {
          setSliderColor(UI.elemOpacityRange, UI.textColor.value);
          editShape('updateTextColor');
        }
      }
    }
  }, {
    elements: _toConsumableArray(rootElement.querySelectorAll('[id*="stroke-width"]')),
    events: {
      "input": {
        callback: function callback(evt) {
          return valueWithinBounds(evt.currentTarget) && editShape('updateStrokeWidth');
        }
      },
      "blur": {
        callback: function callback(evt) {
          return toggleDisableButtonStates(evt.currentTarget, 'stroke-width');
        }
      }
    }
  }, {
    elements: _toConsumableArray(rootElement.querySelectorAll('[id*="decr-stroke-width"]')),
    events: {
      "click": {
        callback: function callback(evt) {
          var input = evt.currentTarget.parentElement.querySelector('input[type=number]');
          input.stepDown();
          toggleDisableButtonStates(evt.currentTarget, 'stroke-width');
          editShape('updateStrokeWidth');
        }
      },
      "focus": {
        callback: function callback(evt) {
          return evt.currentTarget.classList.add("active");
        }
      },
      "blur": {
        callback: function callback(evt) {
          return evt.currentTarget.classList.remove("active");
        }
      }
    }
  }, {
    elements: _toConsumableArray(rootElement.querySelectorAll('[id*="incr-stroke-width"]')),
    events: {
      "click": {
        callback: function callback(evt) {
          var input = evt.currentTarget.parentElement.querySelector('input[type=number]');
          input.stepUp();
          toggleDisableButtonStates(evt.currentTarget, 'stroke-width');
          editShape('updateStrokeWidth');
        }
      },
      "focus": {
        callback: function callback(evt) {
          return evt.currentTarget.classList.add("active");
        }
      },
      "blur": {
        callback: function callback(evt) {
          return evt.currentTarget.classList.remove("active");
        }
      }
    }
  }, {
    elements: _toConsumableArray(rootElement.querySelectorAll('[id*="stroke-color"]')),
    events: {
      "input": {
        callback: function callback() {
          return editShape('updateStrokeColor');
        }
      }
    }
  }, {
    elements: _toConsumableArray(rootElement.querySelectorAll('[id*="pen-width"]')),
    events: {
      "input": {
        callback: function callback(evt) {
          valueWithinBounds(evt.currentTarget) && editShape('updatePenWidth');
        }
      },
      "blur": {
        callback: function callback(evt) {
          toggleDisableButtonStates(evt.currentTarget, 'pen-width');
        }
      }
    }
  }, {
    elements: _toConsumableArray(rootElement.querySelectorAll('[id*="decr-pen-width"]')),
    events: {
      "click": {
        callback: function callback(evt) {
          var input = evt.currentTarget.parentElement.querySelector('input[type=number]');
          input.stepDown();
          toggleDisableButtonStates(evt.currentTarget, 'pen-width');
          editShape('updatePenWidth');
        }
      },
      "focus": {
        callback: function callback(evt) {
          evt.currentTarget.classList.add("active");
        }
      },
      "blur": {
        callback: function callback(evt) {
          evt.currentTarget.classList.remove("active");
        }
      }
    }
  }, {
    elements: _toConsumableArray(rootElement.querySelectorAll('[id*="incr-pen-width"]')),
    events: {
      "click": {
        callback: function callback(evt) {
          var input = evt.currentTarget.parentElement.querySelector('input[type=number]');
          input.stepUp();
          toggleDisableButtonStates(evt.currentTarget, 'pen-width');
          editShape('updatePenWidth');
        }
      },
      "focus": {
        callback: function callback(evt) {
          evt.currentTarget.classList.add("active");
        }
      },
      "blur": {
        callback: function callback(evt) {
          evt.currentTarget.classList.remove("active");
        }
      }
    }
  }, {
    element: UI.textSize,
    events: {
      "input": {
        callback: function callback() {
          return valueWithinBounds(UI.textSize) && editShape('updateTextSize');
        }
      },
      "blur": {
        callback: function callback() {
          handleTextSizeButtonStates();
        }
      }
    }
  }, {
    element: UI.decrTextSize,
    events: {
      "click": {
        callback: function callback() {
          UI.textSize.stepDown();
          handleTextSizeButtonStates();
          editShape('updateTextSize');
        }
      },
      "focus": {
        callback: function callback() {
          UI.textSize.classList.add("active");
        }
      },
      "blur": {
        callback: function callback() {
          UI.textSize.classList.remove("active");
        }
      }
    }
  }, {
    element: UI.incrTextSize,
    events: {
      "click": {
        callback: function callback() {
          UI.textSize.stepUp();
          handleTextSizeButtonStates();
          editShape('updateTextSize');
        }
      },
      "focus": {
        callback: function callback() {
          UI.textSize.classList.add("active");
        }
      },
      "blur": {
        callback: function callback() {
          UI.textSize.classList.remove("active");
        }
      }
    }
  }, {
    elements: _toConsumableArray(rootElement.querySelectorAll('[id*="fill-color"]')),
    events: {
      "input": {
        callback: function callback(evt) {
          updateOpacitySliderColor(evt.currentTarget, 'fill');
          editShape('updateFillColor');
        }
      }
    }
  }, {
    elements: _toConsumableArray(rootElement.querySelectorAll('[id*="fill-opacity-number"]')),
    events: {
      "input": {
        callback: function callback(evt) {
          if (valueWithinBounds(evt.currentTarget)) {
            updateFillOpacityRangeInput(evt.currentTarget, 'fill');
            editShape('updateOpacity');
          }
        }
      }
    }
  }, {
    elements: _toConsumableArray(rootElement.querySelectorAll('[id*="fill-opacity-range"]')),
    events: {
      "input": {
        callback: function callback(evt) {
          if (valueWithinBounds(evt.currentTarget)) {
            updateFillOpacityNumberInput(evt.currentTarget, 'fill');
            editShape('updateOpacity');
          }
        }
      },
      "focus": {
        callback: function callback(evt) {
          evt.currentTarget.classList.add("active");
        }
      },
      "blur": {
        callback: function callback(evt) {
          evt.currentTarget.classList.remove("active");
        }
      }
    }
  }, {
    elements: _toConsumableArray(rootElement.querySelectorAll('[id*="pen-color"]')),
    events: {
      "input": {
        callback: function callback() {
          return editShape('updatePenColor');
        }
      }
    }
  }, {
    element: UI.endmarkerTypeWrapper,
    events: {
      "click": {
        callback: function callback() {
          return editShape('editOwnMarkerForThisShape');
        }
      }
    }
  }, {
    element: UI.decrZoom,
    events: {
      "click": {
        callback: function callback() {
          var currentFactor = Canvas.params.zoomFactor,
            newFactor = checkZoomFactorBounds(currentFactor - _constants_js__WEBPACK_IMPORTED_MODULE_0__.zoomParams.STEP);
          updateZoomInputValue(newFactor);
          zoom(newFactor);
        }
      }
    }
  }, {
    element: UI.incrZoom,
    events: {
      "click": {
        callback: function callback() {
          var currentFactor = Canvas.params.zoomFactor,
            newFactor = checkZoomFactorBounds(currentFactor + _constants_js__WEBPACK_IMPORTED_MODULE_0__.zoomParams.STEP);
          updateZoomInputValue(newFactor);
          zoom(newFactor);
        }
      }
    }
  }, {
    elements: Canvas.getEnabledLayers().map(function (layer) {
      layer.header;
    }),
    events: {
      "mousedown touchstart": {
        callback: function callback(evt) {
          var targetHeader = evt.target;
          var newCurrentLayerID = targetHeader.querySelector('.header-title').dataset.layer;
          _this2.Canvas.setCurrentLayer(_this2.Canvas.layerID2Key(newCurrentLayerID));
        }
      }
    }
  }, {
    element: UI.submitBtn,
    events: {
      "click": {
        callback: function callback() {
          if (hasHiddenLayers()) {
            toggleSaveConfirm();
          } else if (hasNoAnswerObjects()) {
            toggleSaveNoAnswersConfirm();
          } else {
            submitDrawingData();
            closeDrawingTool();
          }
        }
      }
    }
  }, {
    element: UI.exitBtn,
    events: {
      "click": {
        callback: handleCloseByExit
      }
    }
  }, {
    element: UI.closeCancelBtn,
    events: {
      "click": {
        callback: handleCloseByExit
      }
    }
  }, {
    element: UI.closeConfirmBtn,
    events: {
      "click": {
        callback: handleCloseByExit
      }
    }
  }, {
    element: UI.deleteCancelBtn,
    events: {
      "click": {
        callback: function callback() {
          UI.deleteConfirm.classList.toggle('open');
        }
      }
    }
  }, {
    element: UI.deleteConfirmBtn,
    events: {
      "click": {
        callback: function callback() {
          Canvas.deleteObject(drawingApp.params.deleteSubject);
          UI.deleteConfirm.classList.toggle('open');
        }
      }
    }
  }, {
    element: UI.saveCancelBtn,
    events: {
      "click": {
        callback: function callback() {
          toggleSaveConfirm();
        }
      }
    }
  }, {
    element: UI.saveConfirmBtn,
    events: {
      "click": {
        callback: function callback() {
          handleHiddenLayers();
          toggleSaveConfirm();
          if (hasNoAnswerObjects()) {
            toggleSaveNoAnswersConfirm();
          } else {
            submitDrawingData();
            closeDrawingTool();
          }
        }
      }
    }
  }, {
    element: UI.saveNoAnswersCancelBtn,
    events: {
      "click": {
        callback: function callback() {
          toggleSaveNoAnswersConfirm();
        }
      }
    }
  }, {
    element: UI.saveNoAnswersConfirmBtn,
    events: {
      "click": {
        callback: function callback() {
          submitDrawingData();
          closeDrawingTool();
          toggleSaveNoAnswersConfirm();
        }
      }
    }
  }, {
    element: UI.gridToggle,
    events: {
      "change": {
        callback: function callback() {
          processGridToggleChange();
        }
      }
    }
  }, {
    element: UI.gridSize,
    events: {
      "input": {
        callback: updateGrid
      },
      "blur": {
        callback: function callback() {
          handleGridSizeButtonStates();
        }
      }
    }
  }, {
    element: UI.decrGridSize,
    events: {
      "click": {
        callback: function callback() {
          UI.gridSize.stepDown();
          handleGridSizeButtonStates();
          updateGrid();
        }
      },
      "focus": {
        callback: function callback() {
          UI.gridSize.classList.add("active");
        }
      },
      "blur": {
        callback: function callback() {
          UI.gridSize.classList.remove("active");
        }
      }
    }
  }, {
    element: UI.incrGridSize,
    events: {
      "click": {
        callback: function callback() {
          UI.gridSize.stepUp();
          handleGridSizeButtonStates();
          updateGrid();
        }
      },
      "focus": {
        callback: function callback() {
          UI.gridSize.classList.add("active");
        }
      },
      "blur": {
        callback: function callback() {
          UI.gridSize.classList.remove("active");
        }
      }
    }
  }, {
    element: UI.centerBtn,
    events: {
      "click": {
        callback: function callback() {
          panDrawingCenterToScreenCenter();
        }
      }
    }
  }];
  if (drawingApp.isTeacher()) {
    eventListenerSettings.push({
      element: UI.imgUpload,
      events: {
        "change": {
          callback: processUploadedImages
        }
      }
    });
  }
  function encodeSvgLayersAsBase64Strings() {
    return {
      question: _unicodeBase64Polyfill_js__WEBPACK_IMPORTED_MODULE_4__.encode(Canvas.layers.question.svg.innerHTML),
      answer: _unicodeBase64Polyfill_js__WEBPACK_IMPORTED_MODULE_4__.encode(Canvas.layers.answer.svg.innerHTML),
      grid: _unicodeBase64Polyfill_js__WEBPACK_IMPORTED_MODULE_4__.encode(Canvas.layers.grid.svg.innerHTML)
    };
  }
  function retrieveSavedDrawingData() {
    var data = Canvas.data;
    if (data.question) {
      decodeSvgLayerFromBase64String({
        name: "question",
        data: data.question
      });
    }
    if (data.answer) {
      decodeSvgLayerFromBase64String({
        name: "answer",
        data: data.answer
      });
      Canvas.layers.answer.enable();
    }
    if (data.question || data.answer) {
      //Disabled as it causes unnecessary zooming
      fitDrawingToScreen();
    }
  }
  function decodeSvgLayerFromBase64String(layerData) {
    if (layerData.data.startsWith("data:image/png;base64")) {
      // made with old tool, load as image
      var parentID = layerData.name;
      var shapeID = "image-1";
      var newShape = makeNewSvgShapeWithSidebarEntry("image", {
        group: {},
        main: {
          href: layerData.data
        }
      }, parentID);
      Canvas.layers[parentID].shapes[shapeID] = newShape;
      newShape.svg.addHighlightEvents();
      newShape.svg.updateBorderElement();
      newShape.svg.updateCornerElements();
    } else {
      var decodedString = _unicodeBase64Polyfill_js__WEBPACK_IMPORTED_MODULE_4__.decode(layerData.data);
      UI.svgLayerToRender.innerHTML = decodedString;
      renderShapesFromSvgLayerString(layerData.name);
    }
  }
  function fitDrawingToScreen() {
    // panDrawingCenterToScreenCenter();

    while (!drawingFitsScreen() && canZoomOut()) {
      zoomOutOneStep();
    }
  }
  function canZoomOut() {
    return Canvas.params.zoomFactor > _constants_js__WEBPACK_IMPORTED_MODULE_0__.zoomParams.MIN;
  }
  function panDrawingCenterToScreenCenter() {
    var systemGridToggle = false;
    if (!UI.gridToggle.checked) {
      UI.gridToggle.checked = true;
      processGridToggleChange();
      systemGridToggle = true;
    }
    var systemQuestionHide = false;
    if (!Canvas.layers.question.isHidden()) {
      Canvas.layers.question.hide();
      systemQuestionHide = true;
    }
    var systemAnswerHide = false;
    if (!Canvas.layers.answer.isHidden()) {
      Canvas.layers.answer.hide();
      systemAnswerHide = true;
    }
    var bbox = UI.svgPanZoomGroup.getBBox({
      fill: true,
      stroke: true,
      markers: true
    });
    var centerDrawingToOrigin = {
      dx: parseInt(bbox.x + bbox.width / 2),
      dy: parseInt(bbox.y + bbox.height / 2)
    };
    pan(centerDrawingToOrigin);
    if (centerDrawingToOrigin.dy !== 0 || centerDrawingToOrigin.dx !== 0) {
      if (UI.gridToggle.checked) {
        panDrawingCenterToScreenCenter();
      }
    }
    if (systemGridToggle) {
      UI.gridToggle.checked = false;
      processGridToggleChange();
    }
    if (systemQuestionHide) {
      Canvas.layers.question.unhide();
    }
    if (systemAnswerHide) {
      Canvas.layers.answer.unhide();
    }
  }
  function drawingFitsScreen() {
    var bbox = UI.svgPanZoomGroup.getBBox({
      fill: true,
      stroke: true,
      markers: true
    });
    var screenBounds = Canvas.params.bounds;
    return !(bbox.x < screenBounds.left || bbox.y < screenBounds.top || bbox.width > screenBounds.width || bbox.height > screenBounds.height);
  }
  function renderShapesFromSvgLayerString(layerName) {
    var content = UI.svgLayerToRender.content;
    var _iterator = _createForOfIteratorHelper(content.children),
      _step;
    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var groupElement = _step.value;
        var mainElement = groupElement.querySelector(".main");
        if (mainElement === null) continue;
        var props = {
          group: copyAllAttributesFromElementToObject(groupElement),
          main: copyAllAttributesFromElementToObject(mainElement)
        };
        var shapeID = groupElement.id,
          shapeType = shapeID.substring(0, shapeID.indexOf("-"));
        var newShape = makeNewSvgShapeWithSidebarEntry(shapeType, props, layerName, true, !(!drawingApp.isTeacher() && layerName === "question"));
        // Convert old dragging system (using SVGTransforms)
        // to new dragging system (all done with the SVG attributes of the element itself)
        if (shapeIsPathShape(newShape) && pathShapeUsesAbsoluteCoords(newShape)) newShape = letPathShapesUseRelativeCoords(newShape);
        newShape = convertDragTransforms(newShape);
        Canvas.layers[layerName].shapes[shapeID] = newShape;
        if (isOldDrawing && layerName === "question") {
          fitDrawingToScreen();
        }
        newShape.svg.addHighlightEvents();
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
    UI.svgLayerToRender.innerHTML = "";
  }
  function shapeIsPathShape(shape) {
    return shape.svg.type === 'path';
  }
  function pathShapeUsesAbsoluteCoords(shape) {
    return shape.svg.mainElement.getDAttribute().contains("L");
  }
  function letPathShapesUseRelativeCoords(shape) {
    var mainElement = shape.svg.mainElement;
    var oldDValue = convertDStringToArray(mainElement.getDAttribute());
    var newDValue = [],
      startingPoint = oldDValue.shift();
    oldDValue.reduce(function (previousCommand, currentCommand) {
      newDValue.push(convertCommandFromAbsoluteToRelative(currentCommand, previousCommand));
      return currentCommand;
    }, startingPoint);
    newDValue.unshift(startingPoint);
    mainElement.setD(newDValue.map(function (command) {
      return "".concat(command[0], " ").concat(command[1].join(","));
    }).join(" "));
    return shape;
  }

  /**
   * @typedef PathDStruct
   * @type {Array.<Array.<String, Array.<Number>>>}
   */

  /**
   * @example 'M -58.6,38.38 L 16.7,56.93' becomes [['M',[-58.6, 38.38]],['L',[16.7,56.93]]]
   * @param dValue
   * @returns {PathDStruct}
   */
  function convertDStringToArray(dValue) {
    var commandMatcher = /([A-Z])(\s)([\-0-9.,])+/g; // Example: 'M -58.6,38.38'
    var coordValueMatcher = /([\-.0-9])+/g; // Example: '-58.6'
    return dValue.match(commandMatcher).map(function (command) {
      return [command[0], command.match(coordValueMatcher).map(Number)];
    });
  }

  /**
   * @param {PathDStruct} command
   * @param {PathDStruct} previousCommand
   * @returns {PathDStruct}
   */
  function convertCommandFromAbsoluteToRelative(command, previousCommand) {
    return [command[0].toLowerCase(), convertCoordsFromAbsoluteToRelative(command[1], previousCommand[1])];
  }
  function convertCoordsFromAbsoluteToRelative(currentCoords, previousCoords) {
    return [currentCoords[0] - previousCoords[0], currentCoords[1] - previousCoords[1]];
  }
  function convertDragTransforms(shape) {
    var shapeGroup = shape.svg.shapeGroup;
    var distanceToMove = retrieveTranslateValuesOfElement(shapeGroup.element);
    shape.svg.mainElement.move(distanceToMove);
    shapeGroup.element.removeAttribute("transform");
    return shape;
  }
  function retrieveTranslateValuesOfElement(element) {
    if (!elementHasTransforms(element)) return {
      dx: 0,
      dy: 0
    };
    var translationMatrix = element.transform.baseVal[0].matrix;
    return {
      dx: translationMatrix.e,
      dy: translationMatrix.f
    };
  }
  function elementHasTransforms(element) {
    return element.transform.baseVal.length;
  }
  function copyAllAttributesFromElementToObject(element) {
    var attributes = {};
    var _iterator2 = _createForOfIteratorHelper(element.attributes),
      _step2;
    try {
      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
        var attr = _step2.value;
        attributes[attr.name] = attr.value;
      }
    } catch (err) {
      _iterator2.e(err);
    } finally {
      _iterator2.f();
    }
    if (element.nodeName === "TEXT" && !attributes["data-textcontent"]) {
      attributes["data-textcontent"] = encodeURI(element.textContent);
    }
    return attributes;
  }
  function calculateCanvasBounds() {
    var matrix = Canvas.params.domMatrix;
    var height = UI.svgCanvas.clientHeight,
      width = UI.svgCanvas.clientWidth;
    var bounds = {
      top: -matrix.f,
      bottom: height - matrix.f,
      height: height,
      left: -matrix.e,
      right: width - matrix.e,
      width: width,
      cx: -matrix.e + width / 2,
      cy: -matrix.f + height / 2
    };
    for (var _i2 = 0, _Object$entries2 = Object.entries(bounds); _i2 < _Object$entries2.length; _i2++) {
      var _Object$entries2$_i = _slicedToArray(_Object$entries2[_i2], 2),
        key = _Object$entries2$_i[0],
        value = _Object$entries2$_i[1];
      Canvas.params.bounds[key] = value / Canvas.params.zoomFactor;
    }
  }
  function updateMidPoint() {
    var midPoint = {
      dx: UI.svgCanvas.clientWidth / 2,
      dy: UI.svgCanvas.clientHeight / 2
    };
    pan(midPoint);
  }
  function updateClosedSidebarWidth() {
    var currentOpenSidebarWidth = UI.sidebar.clientWidth;
    var closedSidebarWidthString = getRootCSSProperty("--closed-sidebar-width");
    var closedSidebarWidth = closedSidebarWidthString.substr(0, closedSidebarWidthString.length - 2);
    setRootCSSProperty("--closed-sidebar-right-value", "".concat(closedSidebarWidth - currentOpenSidebarWidth, "px"));
  }
  function setCorrectZIndex() {
    var popUpParentZIndex = UI.drawingTool.parentElement.style.zIndex;
    setRootCSSProperty("--pop-up-z-index", popUpParentZIndex);
  }
  function setCorrectPopupHeight() {
    // UI.drawingTool.style.height = Math.round(window.innerHeight * 0.95) + "px";
  }
  function cleanedBase64EncodedStrings() {
    return {
      question: _unicodeBase64Polyfill_js__WEBPACK_IMPORTED_MODULE_4__.encode(clearImageSources(Canvas.layers.question.svg)),
      answer: _unicodeBase64Polyfill_js__WEBPACK_IMPORTED_MODULE_4__.encode(clearImageSources(Canvas.layers.answer.svg))
    };
  }
  function clearImageSources(layer) {
    var _layer$querySelectorA;
    var hrefsToReplace = [];
    (_layer$querySelectorA = layer.querySelectorAll('image')) === null || _layer$querySelectorA === void 0 ? void 0 : _layer$querySelectorA.forEach(function (image) {
      hrefsToReplace.push(image.getAttribute('href'));
    });
    layer = layer.innerHTML;
    hrefsToReplace.forEach(function (href) {
      return layer = layer.replace(href, '');
    });
    return layer;
  }
  function submitDrawingData() {
    return _submitDrawingData.apply(this, arguments);
  }
  function _submitDrawingData() {
    _submitDrawingData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
      var b64Strings, grid, panGroupSize, livewireComponent, cleanedSvg;
      return _regeneratorRuntime().wrap(function _callee$(_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            if (!drawingApp.params.isPreview) {
              _context.next = 2;
              break;
            }
            return _context.abrupt("return");
          case 2:
            prepareShapesForSubmission();
            b64Strings = encodeSvgLayersAsBase64Strings();
            grid = Canvas.layers.grid.params.hidden ? "0.00" : drawingApp.params.gridSize.toString();
            panGroupSize = getPanGroupSize();
            livewireComponent = getClosestLivewireComponentByAttribute(rootElement, 'questionComponent');
            cleanedSvg = cleanedBase64EncodedStrings();
            fitDrawingToScreen();
            _context.t0 = livewireComponent;
            _context.t1 = b64Strings.answer;
            _context.t2 = b64Strings.question;
            _context.t3 = b64Strings.grid;
            _context.t4 = grid;
            _context.t5 = panGroupSize;
            _context.next = 17;
            return getPNGQuestionPreviewStringFromSVG(panGroupSize);
          case 17:
            _context.t6 = _context.sent;
            _context.next = 20;
            return getPNGCorrectionModelStringFromSVG(panGroupSize);
          case 20:
            _context.t7 = _context.sent;
            _context.t8 = cleanedSvg.question;
            _context.t9 = cleanedSvg.answer;
            _context.t10 = {
              svg_answer: _context.t1,
              svg_question: _context.t2,
              svg_grid: _context.t3,
              grid_size: _context.t4,
              svg_zoom_group: _context.t5,
              png_question_preview_string: _context.t6,
              png_correction_model_string: _context.t7,
              cleaned_question_svg: _context.t8,
              cleaned_answer_svg: _context.t9
            };
            _context.t0.handleUpdateDrawingData.call(_context.t0, _context.t10);
          case 25:
          case "end":
            return _context.stop();
        }
      }, _callee);
    }));
    return _submitDrawingData.apply(this, arguments);
  }
  function getPNGCorrectionModelStringFromSVG(_x2) {
    return _getPNGCorrectionModelStringFromSVG.apply(this, arguments);
  }
  function _getPNGCorrectionModelStringFromSVG() {
    _getPNGCorrectionModelStringFromSVG = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(panGroupSize) {
      var svg;
      return _regeneratorRuntime().wrap(function _callee2$(_context2) {
        while (1) switch (_context2.prev = _context2.next) {
          case 0:
            svg = UI.svgCanvas.cloneNode(true);
            svg.querySelector('#svg-answer-group').setAttribute('style', '');
            svg.querySelector('#svg-question-group').setAttribute('style', '');
            return _context2.abrupt("return", getPNGStringFromSVG(svg, panGroupSize));
          case 4:
          case "end":
            return _context2.stop();
        }
      }, _callee2);
    }));
    return _getPNGCorrectionModelStringFromSVG.apply(this, arguments);
  }
  function getPNGQuestionPreviewStringFromSVG(_x3) {
    return _getPNGQuestionPreviewStringFromSVG.apply(this, arguments);
  }
  function _getPNGQuestionPreviewStringFromSVG() {
    _getPNGQuestionPreviewStringFromSVG = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(panGroupSize) {
      var svg;
      return _regeneratorRuntime().wrap(function _callee3$(_context3) {
        while (1) switch (_context3.prev = _context3.next) {
          case 0:
            svg = UI.svgCanvas.cloneNode(true);
            svg.querySelector('#svg-answer-group').remove();
            return _context3.abrupt("return", getPNGStringFromSVG(svg, panGroupSize));
          case 3:
          case "end":
            return _context3.stop();
        }
      }, _callee3);
    }));
    return _getPNGQuestionPreviewStringFromSVG.apply(this, arguments);
  }
  function getDataUrlFromCanvasByImage(image) {
    var canvas = document.createElement("canvas");
    canvas.setAttribute('width', image.width);
    canvas.setAttribute('height', image.height);
    return new Promise(function (resolve) {
      image.onload = function () {
        var ctx = canvas.getContext("2d");
        ctx.drawImage(image, 0, 0, image.width, image.height);
        resolve(canvas.toDataURL());
      };
    });
  }
  function getPNGStringFromSVG(_x4, _x5) {
    return _getPNGStringFromSVG.apply(this, arguments);
  }
  function _getPNGStringFromSVG() {
    _getPNGStringFromSVG = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(svg, panGroupSize) {
      var newImage, base64StringOfSVG;
      return _regeneratorRuntime().wrap(function _callee4$(_context4) {
        while (1) switch (_context4.prev = _context4.next) {
          case 0:
            prepareSvgForConversion(svg, panGroupSize);
            newImage = new Image(panGroupSize.width, panGroupSize.height);
            base64StringOfSVG = _unicodeBase64Polyfill_js__WEBPACK_IMPORTED_MODULE_4__.encode(new XMLSerializer().serializeToString(svg));
            newImage.setAttribute('src', 'data:image/svg+xml;base64,' + base64StringOfSVG);
            _context4.next = 6;
            return getDataUrlFromCanvasByImage(newImage);
          case 6:
            return _context4.abrupt("return", _context4.sent);
          case 7:
          case "end":
            return _context4.stop();
        }
      }, _callee4);
    }));
    return _getPNGStringFromSVG.apply(this, arguments);
  }
  function compressedImageUrl(_x6, _x7) {
    return _compressedImageUrl.apply(this, arguments);
  }
  function _compressedImageUrl() {
    _compressedImageUrl = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(image, scaleFactor) {
      var newImage;
      return _regeneratorRuntime().wrap(function _callee5$(_context5) {
        while (1) switch (_context5.prev = _context5.next) {
          case 0:
            newImage = new Image(image.width * scaleFactor, image.height * scaleFactor);
            newImage.src = image.src;
            _context5.next = 4;
            return getDataUrlFromCanvasByImage(newImage);
          case 4:
            return _context5.abrupt("return", _context5.sent);
          case 5:
          case "end":
            return _context5.stop();
        }
      }, _callee5);
    }));
    return _compressedImageUrl.apply(this, arguments);
  }
  function prepareSvgForConversion(svg, panGroupSize) {
    addNunitoFontToSVG(svg);
    adjustViewboxProperties(svg, panGroupSize);
    return svg;
  }
  function prepareShapesForSubmission() {
    rootElement.querySelectorAll(".selected,.editing").forEach(function (element) {
      element.classList.remove("selected", "editing");
    });
  }
  function addNunitoFontToSVG(svg) {
    var defsNode = svg.querySelector('defs', '');
    var style = document.createElement('style');
    defsNode.appendChild(style);
    var textNode = document.createTextNode('@font-face{font-family:"Nunito";src:url(data:font/woff;base64,d09GRgABAAAAAEP8AA8AAAAAfyAAAQABAAAAAAAAAAAAAAAAAAAAAAAAAABHREVGAAABWAAAAE4AAABsBJkGJ0dQT1MAAAGoAAAJRwAAHIT1bN90R1NVQgAACvAAAAFlAAACynA8UfBPUy8yAAAMWAAAAE8AAABgYV8dSlNUQVQAAAyoAAAAOwAAAEjnZswxY21hcAAADOQAAAGxAAACgkfjZhlnYXNwAAAOmAAAAAgAAAAIAAAAEGdseWYAAA6gAAAvkwAAUcrH7TmTaGVhZAAAPjQAAAA2AAAANhtJMMhoaGVhAAA+bAAAACAAAAAkB2wDSGhtdHgAAD6MAAACAwAABCz8giyUbG9jYQAAQJAAAAITAAACIG9Pg1RtYXhwAABCpAAAABwAAAAgASAA025hbWUAAELAAAABJQAAAoBAQ17tcG9zdAAAQ+gAAAATAAAAIP+zABx42i3FtQECQBAF0beHOxm0gqRIAzgNIDlO1eT4lxkhqaOPtaQgDIWxqbCwFfaOwvndcHGXPN4NRUlTW0gurkJWROvvrpBQ/T54ARM4CMMAAHjaPMyBRsNRHEfxc2uUVEoTIgKkBIEAaAZis/23bECSYTOsKpEh0EMEhCIWQWvNqLaNkEAg0CP0AusY8vPhfrkOAZhijS3GE8mdiPj+Wa1CvLJ3VCVODGA4JAChfFCrMgmEkRhjTGoq/LoSbljmInRDl0s+wmrw7XVC8/867vfwGX5G9xW+RzdaNpZZJ0maDFkicuTZpUiNQ4454ZRz6lxxzQ233HHPI08888IrbwT/TjPPNrOklFZGWUXKKa+CiiqprLoazNAkQUttLVqZI6W0MsoqUk55FVRUSWXV1WCJBzYtLdJSW11W6KmvgSwTI6W0MsoqUk55FVRUSWXV1SBuecHyBi211WWNnvoaaMYylrGMZSxjGcsTlrGMZSxjGct/vZhFdBzLFYa/aY2ohZZlZmaIgw82wXWyCW6zfJswc7IK8zLMnDxmkMwsHTOK/SSPhS1pxtKf1j116nRPGx7/90x1uapUXXX/e/+qNuR4gJAcD6ubnI3M8Tt1kOOH6jSfftzKj1lZS7BwN3lY+M3FD3Afu3ltUMldoXErL+CgKU2ChtWJQbNApa6COtWnEQyaBkMtgIoYFIFGeaPRBHoRtyqdU6QSeASEGiQBDYO6Uy3Xfa2kLk2oyO3RzN1QzxsMRXhoJLGXcb+7VpVAfaD9oGkd0DM4b2hKf6dVRT2ogjH4GOifJKBOx/FKjevfzpvopmY836G1TFo9UEnTsU1Z24S15RVpzFowVJXHqfWtVYmFlKMOBxVB3YpIIiDQBHjYijR4S/9UgK7rpmZd3HjudQqr+9oJHfOx0qsO9WlIJ9Vjbc+DDivys6Kr6iDAoKPqsh70omVVq5txSCUdAx22+mE9q5vW3kUYt60mVBshoY2wd3gYI+SB96hLh9PxpRI2O3eEW/nk3ePoTlDJfJSBbpQrivpIIMmPZWpKQ8zr5m3mu31adChy8RnRmoxv4y0sz19Ftst6zShSkTcAOqdpmrVfp4wz3NohJDAmEzvXM1T6OM6iRWfUDfobAWiGDDTCHaGhV6Iat4yHkM3ASlan2gA2E3omAjNoBGCJa98MbMVBFzUIKqjbZkATxr1xGltBwz7/Ak1rXJEKKmqQLFpdNMzXMIEi95ft8XORDuiE9lvOHFWvvWml9ddon+XuM+pgifZrgnqNzLXYblrIpxVb7ZaX42zWQR0AmvUf071ndEwP6lnQo5aHIavVRw2BHgSd1+NqY5E6NECz6WFk8dmc0rGloP+BenSBPfp3XPfx7Z6hj5/A1TF9CEyrspFTTQZO3wrlfRrO5GKgfp3PePhyVgWoTbXcmzw5VbL4MeXGRbvO6yyrfGZHphkp6KYGNJ64b0xoRCOENttaTZZHnaYdq6mVqUNtVJCC2hQ5/UnBWlr9jHjlNt+6WOpKe0rP6PHk/CooUrvO2I5O3Tk71a2CPQftXPu7Orw+uFWwmyUs0mxy7VTTROBHpbFZR+3s+yW7y6NBU2lld6dKlLqHVWrK2sZ8S0AGfj6vqrrBfO1VUZF6jamSrb7enfGmORrQCPU6omvkdMMzVEeQZlIFdwrt1oQu3lGVpq30PrXd4d9vsFoW1akYmVA39erRVYifkdvFLBUWc1cw6LS9caV6dUUROX/CzUv6z827UcO0qtPxW9IF04xzQJ36FOmUux2M69f6HrYiDVnbZhX0Deex46BHSUAPutNwu/rVbqPspDTWHlO3Ih3xt+xWRbg8Ak3pggos1vPGV5eGVDDPb09lR+DOyHbqCTWiIZw/rRxO6UmF6ytq1mn1BBU2w1BCGRZQButbhrGlGTw0S+B6bQemwbP2Vg/ymgSN2MltY8nfUu0qUznzoDpZGpcn41+b6fOjFnmb53in1rx6We1qo0n7NUCdea3H4rc+FZ9NjoOjusIePRjXPdRn5VkcNGORPORbDDqpWf1TZ9RlTJZB/V4nKhLxWVQftSpYVoTmgQGw+g2N6CYG05zAWE/fpurK+C1abAyyXP2W+5iuosjYDsHiH2wuTXtODtqzVUXNeMbK9uAZXK5R9mhEg9nbZFp51av+lIeX2Ok3+XK+mixC6vWYxXaH48nAckKro0in5tRdB2zshI8Pr/KGUEdtVz9huQrU8oZA3eblfybu8yG4E76F5lQsP0819c7vWSzXM8blt2k0frKZl2GrrHVl+r6R0fwap3NZZMdXpPXZzz+RHc8OsF1VZ7/6NOrVPfH9zh7erGGv8YHGFfG+1Fmw1uZtxoM9bjQa4H6NZL4QIXS5jI5pOuvldC5D2ss649YWaNh6ymG9XrXHTB+GKIOu2TjzUzZvstAYLo5ctmNvnyr/8lORxsxaMvNb7rVqfE79VeK1gkXMXfw5A/pzgo2KtLbHtjDDV1oN8rruIytI3E9OsQt01PtmyLR2tSI9q2d9NFbqIps1rGedtp21MxgagHe7r/8Gm/t+RTqqGVNCVEzwNuiiHNbSwlLv/3oNaYZNKV+vBzZSQwoqWd9S81lACp7LyNguh19JQp+jW2eoSnPsutnaFGlGQ3o+rv3M/t0FrGEzxL+NagPrPcoSnbG2kBYcK5pQGz6/1GajTymK60fV5tdc5d5uEUiVtb6foOxuvJokFlOOwL9nTDOE6b3ZmsJbnxYuluyrLnNbqL+zknm96rKxrl8zZTfpbvuiS6I2rQGmXi4abL8JNsvuDkX7yzTnl2xcAynccn6DblgtoIEc9wHv4kPx8yN8gQ/wZb7OJ/k5v+Vz/In/8h0e5CF+zCOx/dT+T/9nPMURfklvbH+mn2v8hUFG+Tu52EapSlk1y2ihxfqqvS1nBUHCmlnJKlfPpaya1awnxxrWso46b/Nj20BrbBtpLuOphgoWxJaPnzXedlBJPfm4zCcMdrOIerOKlNVY+SbewlvZydup9NYQ2z00mN3LLgAW0UyepbG9lghjWxhbyDa2z51r1Ma2GXgbW4B59qu1Z62z0KzJ2WKW2K8xtpevyzk2EYAx8Q622izGkTFdWWY581gubWUti1M9KfOjl7CUWm/NsS1jXmzLydFCEi3kCTLWRGDcVltpZopqbWZBmcUjrdxCnu2EOLNI2+kibhc5MJ/myLMottcC63zM1lg011ikb2KzZc9KYBurgPk0UhX/7OmsxqzB2QIW2q8+tpeHajZSwQo2sNV42MFqmyXm4/9j6r2oAHjaZdEDzBdhGADw3/P+7y7bthuybZtDtm3ONa/mPCs3283f1KzGNDan2+3Si8d+BFq66r3G/IXL1+u868LJwzof3nH6qO56oqvGvDnr+xu6cvn8/iavX7usv6V8/y5HSBqalXxR89l/kvw/SfFT0nzXjsOnjd199NgRk/ee3LHLzMMH9u2w+PCxXYetLOH6Em49eubISdsR2iAUlJmba4HQGiEhBAKEXHsDTXTdm5/3o7fe+RhZzP15t8bNaIomgdBcKORCWC2rZRNl2upuoNFC5oqkV0lNramrkk0ldbGmuupmtbWKOtL0EieFrsJWUUEaQh9RQbK/aiqE8EwtM1zLPy2+fxHCqz9lOkvCDbdQIGlpoIbQUZhLtf0QntTykZW8lSTcdoe/Mn0t5XfdR6Z5Je9Zd9baJclql6WqwxX1BJKNumuvu4SBwiEhpBJOFfVs6ou2Uk0H2v3VZVshHPoB8QRAtgAAAHjaY2BhMmOcwMDKwMDUxRTBwMDgDaEZ4xhkGJUYkEADA4M6SB7G9/P3c2U4wMCgJMr8+d98BgYWU0YdBQbG6SA5xidMB4GUAgMzAP0+DB0AeNoFwbENgDAQBDDfJwUDpKZiMSpAoozEGgzEcNgiFoWhsKnnOGdwzf1ORDc0VHpe6kMTlRWEH9AlBUgAeNpty0MAVmkAAMB5f7atL9uu9ba2vdl2l1ynzGO2bds2X7a75kuc+yCBJMgqiQhZJU20QQ1BUjmRTnk19fAkqhj9kliV2JI4kTgVUoU0IWvIHfKHQqFYqBxqhTqhU5hVsFChzIWyPXkC0gkqqGXcs/lzYuUrM0vIGfK+mJVCzddnlN5m/ARPAjyu/bjE4+Lx1nhLPAviIXH/eHU8LK4bl4tLnd15ZvuZTSJQBT86RjQyGu0V0cBoqHfbY5ZdFjrssqt2W2qZBU6YZrWpFpluhtgZZ81xRSSV1NJKL4ussskuj7zyya+AgkoqrYyyyimviqqqqa6mlRZb5aL1nqjtU3V87kvf+d4PfvSHv/ztH//6XxPNNNdCK6110FEnnXWz3D0rnLfXbAcddcgx91332A09bXPBGjejpG47Z5zxEZdcMy9KZqxetptskinmSiYhiRSSSi6lNDLLIKNMcsshp1zSCYoqpLDiijilmMoqqKiSGkpp6UPved/HPvCRT3zmW1/52jd+97Nf/OoL/2mgrnoaqe+0htpro612umiqqxIae+iBLbbaYJPNNj4FSaCJLQAAAAABAAH//wAPeNqtvAWAG8fVOL6zkna10jIKTownOtBJOh0z2Ac+ss8MMSRubMdxXG4dLgfKDG6/L1T6pym6HCwz/8vcpvg1dci635uVTne62ml/oORmR2933zya9968GZkgifDKE+THyUcIDxEkiG3heLyEisV8u24gnaIi4XgiYYRKNEUhSyJEWyZExUIjhXELgtuOVLtFFmWd3pSszDdPMipS3+VCV+vvogW3SF6tSpJ64RbRwyvyPZp2jyKTl1duUhT0gpWV6qiWD1FxAhEEQSM7Ok4Qdfi9dTjTAD9Th1N1eCMeugH+4zrc0QB/ex3uxHCQgnXlCctd5OeIFqJgSqHDlEKoXddUKhIqKYmLdMONoknJqh1dZ9cF9EVZUeTKLqnfh3ab3XvVgSDKmd1vhuxRf+X5wSvtKnruzxm0mZ+jBRdHvoBjZVGSfZUf6JIkyXrl6034e+gel/4RjiePVG5SdfQiwkJsA3IPA6U6ESCSBHEqHC9IHcU8aAxTRRfMSySRby8WOuKRSGG1c6NuGPqfJg8Vp4c2Lz3/xHe/ugU+X/30zNzczKcNnTyiG+n57qFlnmd2bNpzcGhgcKh/aKCnr58ASfWunCefTX4RjzcKFlLo6COxhehgIeFEPB4JU5Sm6joMVSr6SQqL5KWXv3Y2u/TC6b6rmjmGllxCdGv77PHOzuOzbcsxwSXSNJs6ySyfvWrxpt35SNjhNgSHr2n42p07rxv2+RyI111MNLayAmMP4LFBYw6sMeICug5rzJTD3SAHkfA2SEFTeRKz30eusf25ez7RsuvGrW99/diR0fDLX/76Kr/3vXfrDTtyY9GxZ4296lUrKyvnqxhhJNa0DZb4KFyROZIXRgrWx6kbhraxYw6HrpFkWap8APWY1wfQHL5WB8VK/QfWcAX3gD8Tu2nBfG0mjBBEHX5vHc40wM/U4VQd3oiHxnBMPVi8DNR7wK4vRb2k3qBhup9l0vsJ1CYpilT5Gg0kH6+S/E/cVH6dXbWGm8Aa2jdaA0+uGQO2BboQgRFrapFU0y7edPItW7LbXjTb/+wcS9GCwTbv6txyonzDja27muVbZfh8SJIdbOo0s/XsycWbwTbijK4LpD3oG7l21ytfq0gtT8iCKAKdTwmqTTJWeTwLPiywxiMeMbTaAR4xOASda1VNU1UN3QGt2atsV2lDJZ+nwcSpPIpUfL3wEtUwVOSv/EJdxU/cBfi5Rvx1bGsY8JugDfwG0kxt6FWtEtdiLa38GeAK1moNztTgTwGcspypw6ka/FE88jo8NIYTaOUfAP8TUATQbRSWcalULK4jjKKbFE0QA/kipi85W6aQLrIqIq39JfQLDT4VX3khZ12V3jLgijRyl6/GAYpGJaTrZihAkTWeSTTGunhFsrKVexA6KJCKImhc5W7SFMbzzSF+iVpZp+xhKw9kKh/lfQrHoXLl+6qxOqsM8iFCXptVeNSaSV6n6qaaJmRVlQHfVaZw36dIkgLvbgeKV4Di5HqKDRRBxQZ95y3VCGbJA+QMxiQqdiT7kWSXJUkFd6y6nqQFnhepCy6F1hTyjKpywoWnSavAqeqF6xQNYO2VNOdkWfTdC19RtFV5vXKjtcHoDdaWQHjQFyuqKoqCA93nUhVZkURBdlSmDZXWVPKFqu7kL5wji3gUPBbLkaMXvqRqoPfqGGacCtTi1NVwJc25dz/MPQng62ef6fYS7WADHaszEJ05cPtsdvE5mw7ePptbfM7mqSs6X3D1pis6X8hsP3sCe93ld51YvHlPfnLk+p0ve8PIdTtf+iY8sjmCaXGhmj86Q6zB763DmQb4mTqcqsMb8dB1+LeBgz/V4Ry6dt3zb6/Dnfh5zDFBWP5Ifg6gGYLYHzYZvrT/jeWlSJgnMftn3/tx7PTJmOnMPoi6ZfhUHkRb8PcLPz9zZvTy0fDLPnIPBIFso1ceIwuR8aNjr7oFj481sR3Glwnvmr7z1dEi0CirARbmha7+6eTzn3/yQVU9N7ewMHcOz4RTmnbi0MGrHlMNdGhybHyyivMpcgfYvr7BY2nr8JYa8KrqQxjzQ6r6ybn5+blP2gDzaU3X5D3HDx06cY1q/HJyfHwCRAVy7DUthId4lQMb0XkynsB+uQRGmnhGiyFPOSySy80Mip2JkZaS98FLGNBNgluyOYUjTT5fKNN6aWuqSe8YSC9KZDdKj4qU8LwxamkmJjEiXUSepaObHGqiy7XPjmDW6vZjRk/btar68fnFxfmP1yR89EDfzhYumfkQ74U59sW0r/IkyPvq0dHhUTxj28C2+kEmpeqcgaH6SIhX1ZESiUvFMMOoSgl1t+yYDrCMTdC57OGBHdv6N12+Z3d8ZE+5/1jGaacEg09u7ShMp7uHLz+0PzqyjxH9BmMYIo5aw6VsXtDUnVMt0yV/JMIYGk8yfm+wN9nayena0mRmU6EJPPoFkNQenNeZNBakWuis2TWWDMoq+s+xFyM13P5cw8xvVUUctCXlwt1VvzoPvN4M3smP8eTItZgA7DZECHRs7IqJKPayhy+77KCuKlr/i5nY5JVj6CWm837R8WPHjqMbzP7zdl8/uLJSxW3O6ZaabzhGEHX4vXU40wA/U4dTdXgjHhrgmHYOZPAeoN1lyiCB4sUGx64DBgptV1x05U80pfGKQiF7ENG0KvOKDQMNWpbJ05LBS+KFt5CHBYl3iRdeIcuAO77yhLUZx4wqbkvcRK1ElGJDh67HDOigsqzTP6Y1Q1Lpr0W+RauSqNBfD3zDpkmaav8JRAxZs39B/xKt0opCPkfzSfKFd5G7FPhceA+5V5Kb9Asvw9/I4QufUnDkigGHh4CKRG2tpWiWeCMBQEFB0dcRMSNpFufff+UkNYFXnV/xfNmh8qJGOn/1d4dFlTjN+aPgjxw6LXs4NBZAHYJHZoXKb5FbYCWvUPlyoPIJziNzPEpXvsNzWMoC0DAGNHhrlmZchISSpKKUqslPMUgVeZ35jvYdJwwrI8eTEm1AXC6jHZwX0FZ+iOLVke4oVz6Wwdo18ZvaLdWsJGVqt5kgyD6wcJ8Z8ePFEtJCdSPHeUahZuxbRdVOs+idlVOKqiroXlGjaWdlH3oL/soZPoHcFFTAWXO6X7jw0YAME2A1Zi5bPmSt5kqJas4FkvYiVKPjAZOO4sp59Aj6C1E0dYAJAJekreWtxULVJdJUjiyWTInUc4pCnid/3T6bK505ns3M7Y6V25K9kfZyZCzBqyzpZDNbE/3zSQj1KmPPDjGJkVSxz1MQoqHmjvhQ+uq+kqzSNhGY1NXmhcHK31RdV2fiRT+m36SLXAG5dWN6iceRSKzBK3X4Ew3wc3X4Y3V4I57z6+EWRx3+ZMPzP67DnwJ4TU6WPPorsfyfy8mIFIuldj+pmUG5EKI7as5UU9evDrFt5ynqDx1zLZ3XHstmQZBd7c194UJnZDzBaSxycOltyclF3nAfGWidKjZJUuVe1CUEe7O50djifGA0yBmCzcGGljNLpzWVP1iTdJHHkk6MZq7s61yTdE9vdx8K9S53WniuyHVsSmbmyvSuA7LGIE7R7S7PzNT4Ao5WU+CX3KbvzFS9RAnzsS47jVStAaDUhmRraGiv6NQUFT6Kzkp7hob2FQr753PDsbnR7EhsnhkpO3dhbUPeB9KofLdzqPfkzPTJvsHMYvfOfemF3h37QeY50MUnwTaTl1hb8WSjJJFn8mg52LetFJ0JOiiK15yeojvRldTmp9wFL0xZG+UITjEDp6a6dg2GdS8NE4i0q6I7N5LddgjmGcmpCu3BaxYYewCPDXYwUltp63AlTZqeWpMKpqqm7Mb1VcH4F6nYBveDFAaH9oBsVEVT4c8p7m3LjoBUQDTzTN/J6ZmTvUOdKIWlcuFGLKG9fHlkvVRMCkiSfJgoEMMNFGB7A0uiKexNSoYZ2YtFA+CJUhG7FLrkJy+SGaujl5fLh4fbpvJOA20Z1d8gGgwjnSDVlCGzlC4nhwPGCwXDYRd3WwpjsUDvcrllJDI7nh2JzjJdl4+NHimHhjsue112iLKrBt3qdEi0TddZm8MvoyLAdLqZjR954abxY5vjQ8nN+anl5GR+dhtR0/AfQcPp9Zz4yWeeMCgxfaK354rRtpmST5Yq70GTYrA3lx+Pbp8PDwd5g7cxXGgH03vVzNTJgVDfckkUClxxc7JloUTt2rdm6FjLeHzTO0zUvAxE2zq8Uoc/0QA/V4c/Voc34jkPcMyfBVaye8iH6muz1RIADW3J1AqoBTOYyNdTm1sUbUBUFHGrvnuHj5dsVt5h9JbY5+LM5kpaV9GNkiCIWnzvQbsFsbLCI9I20JcSREGQKi9MmRYyjCqmVMtYrg0pXiGPPc7aZKILdbO1NNpFpHComaWtvOLIbEmMTzqE/YPDBwr+8lz70D7egWf3iee2wGQey0HzKTeeTYLV5lWnJk52jfQenyhu748Ml9nd5gzfe+IkcqS3FOf2pmeLc/uwbKZANn/515V2pDHGSCZBgOKaqjfhtL19XdNxGF4rdA3P0nUf8qOu7tTSYOUfeNIgeqR/YfTvWBb9K09BteLTBEe4N9YrLKYyqoKvYddUd1OT2+P12gwNvcmsghzRDHKf13C53S7Da9INGN+G/rix/rGGo+FdbB3wBkKmdcyBVVDE49cAdOUPgKdCVurQJ0zonwH6JHmuDn0MQ4lhgP4X+ak69J/ms7/FlKzDe/4agiBXHloZIN4HHKu4RjdOYSeQbyyHKOsYlwSFtvBsqYBdUvPMjMl/U9NnEKsovKVQRt8ypZvvnU1YjLoYkDnKO9GfCPXiY2zEezF8NRv4HthAeEO1pVSrttAFQ1erK6JI3QTIr/CaLMqI/eGfeEWQdfEn5JoZnHiA4yU3/7XMT3mPLAhf+VyqqrPzKArjbLQBmBJAOJYDzMKfTUxh9OkUw9NORpTtMrM8jyomWnuxQMJkk2ULIgHfDFTIOZhhnQ34tEQ97l/UhBu/PRszAyFAWerum+YEeXdfaTyKpZUr9Yzia0uxZxTP93dhCpb5TgjcnYNrNm4f7l8Y/+u6bqo+q4CyyEbKLj2rMBGNs6o+6lb2IrMKWzQexcySdtWyJF89OoLn+Y8qMvr45RCslwq1S0MY7No9FMGXXcOR9cGv5mkrps3vqXlsnViDV+rwJxrg5+rwx+rwRjznMZywAPybAFdNDtL/jgcwmuoWka7Tl+Sni9YV2o7Sdl222y/N3FbW6tR50spanDq3RuGP6xQ+tZaBWA6CjMvEeAN9dbP7T7LNjTnA2JFysHepY/NRw9CPbRrY3QZJ5p1oVIQks304sjQXHDaTTIYLL6cWT+ku44rJf1HYzOjIbNfRTRBt2UI12u7cvxZtpyZGZ9exW80wR0k3cAK51MWtVa3RC1ZbaiDYNFsVp09DOKnaNzS0R2L1u+sJ5jkNFwM0DadPw9XUcriz8rSq/c9FKKhmcxePQs9EgaYoOvsMFFjaTNfx7WekILcyip6qyqC2Aq0HaCChIUBvVNq3sAD2DNWyylrGrX29rhcgAVk7h6tZ5XCZ32tmlXc3klD1GPvQ34imRh3gxUtRN/RagqJSp1UNuwqHuGNIkBGSFXFkUqt7irnuARIJsqSSJLV58O+qDphbwILvBd7aMeaLFpqKxcZCU73ORP01uzPhsFs4hU1MRstd8ead/b0tW8uZ2aCDtvGq09/n7+yKxncODh5lIJPHwYVyKaloU4hRuYF8djBquAHKkbSqZKJNUbvC93YMzVRjATkJ9a9BkPdGqmpElVblvOYvV82BNhcdVRop9Jr0cthptwqqMzThb+ts7d4ywIf9AXdLemyzDtp49rMKU8lwyvA4cr3TQ9l5xu2iVZUnaQ1I9SVkd3+rlki7vWl3KLE4XSmbbvZTVz0/0JWI98RUn4v3xBVjtJAejOGqGMjzMHl9feVR31EqbKyYNgY2JJSn48M4fxzWQYMvxr0XtxYVL8OwjJNNMM2z5RWcVJ7CmjyFE8nz5W474iVWtVppkNkkjPxr9KdaVNkQQAt1C11d+DzePZ0wY0m5bwZHsoSicepOJr11ALHmNtNjA/2LI383u3tTurqT7+5bWamOYiHA4x2r+XY3gVbh5Eod/kQD/JN1+GN1eCOe8xgO/7nB0v8AXNQqahep9ICskORh3kdbVVmU6fd476BlSZQs1AdosDEVvVbwiLxcOYFul3nRLVSepSrVapolAnhTIJ1GvI2dxnraPySP/XWUTRUEhXql6zZak0SdepVxC63yokRSr6O9kuShX5t+De2hZRW9TvLwvFK5Ct0mC6IE11fLnOgBEhT4oNdXjioKjv+ZlSfRL9Cf6jW1kpaokWNESjUq6EK9zpwH85jhVMR94D0cUjlBY25tuo1RBV5B3Ls/wCKV5zXHm31vZjRK9Ar/f+orokd0sh/+MOsUveIXYz8QvPD18593soQp31FTvt762P8qYkRRHxNkCzX6WWpVxv9tr8p4hbAr50Qv/5YI+nRVzseBSSznCx+U+ZWVKn7TDk7X7IMkiDr8XB3+GIYDPa3QfBz9hmh6hhobni9LnEhRDuSpPCZKkojyoBAbU/k5cockkVVdTvQ8Dc8OVjGclRuMgCCZ+17nyZeDF+m7iBeJ1Hd6/9WN1P1IwU+aLuQDHTvDTtOlBUfj45Ozc0dEVeEXhmYXZw8cwjNk+Mz2Tcd6Rnvym5o7DjAel13TBAttyGO9fUNYcEN9/YO7dle2m7u0dy2cLOcWugb3CCLVMtXRv5wzs7UB9CdyxVpdJ8Tx+gPsY5n4XU2K++BKmmvVv5IPEFmi/G9XqyC/Ok8RSUXrFhRry9ed2/2CbLNyjL+7g0Uirnio2o+Qze31uuFv3VJ2z0HagpyyyiPSOtiTEnStcqVmGBq6Fha05IH6sgN4sYDcT5KPAC/TJvU7EFxre8x/NuG6CfciZML7gffXkZ8G+BYTvs3kGsH9t6Aw6A9sZAFTX6vmbSzmYaup6UyrurcIRb20pW9hoqcr3xYIu+N6NKqmdLAgu9Pd4U6XmrwcT0o59JaOeC4ZdblVn57ylUMhhrHZJcnGMu72+NkmkQ0EmrDUDaCjB+gQCK9JCZDSUFarGZCq350eikPVNIXbVLK1Ndnc2oreEh/JwfI7htt4rpTPw/MdRYy3AHKKAF6OcGMLXUW7ESvKPO/FnSe2PP9FncfnFufmFhfm55lPfPDZ75r/6P/37LML47e+7vWveOXrXncrSAzPLZKr7vSeqklMylfLnaUqbqkWf96Cd2SuT9/OGQJl517OuVheeS6GKZIkkaV9NClohn2n3YF3CCTJ3JEYAuxYH6lV7BjpRUrPKrbBwurGuK45HT/LZyfHsltinCZSNJs4Xh4/0O4tZb6D5hT4aLJTc/61tLu1p7/J5yB5XWeCicxSb2puMftzwxycQKa0JBi9d+NsbpzOl6SoUL2iaNfpNGe3iQafWW7Jj0XnZ8ZxmX4gNxidGMluSbCGQNu55JXlkf0doe7U5Fz5KBMOMYYmkIzP4+9O9w0okqgEu1Od3Z4AgzjdcISj6blyerzd6WT3TvRub8PabYHqfo+Zt0aq2i2EqkJDjZqIQJOQ8qiAzip65eeq4eBQG6MLojGJ6ZrUe12V38FEvEaRnYaMPsnzql7pl0Es16j6r9CNlcM4j5sF6TTDXkXHRaUTri4rGk/TrE+gUXf5ZI61U6LBNS+3to3HtoylJ/y0wkqKKqNFrKXK93TPrvLw/kIXyCNq13Usj6bYcHZ0ORixOxURwT4SJqvy21S289Dw0OEukMIA0BUFrcWJ4qVP32gRgDWWqetntNDIwume+Kajw7n9MaeNEnQ2PBEb3NnCUKWtxb59xc7D45mReHwkY7bM3JuP7Xrl/vZoyG5oPGJ87oHr9u8uL2Q6Dw0OXd49lhjP5caSybFcbhzXNnpARwZIzahGw4bgA8TgSHgnr9rsaLDyRjw50KtknaYqX6Z1mncL5Imogq1T4jXuwh08TxAWc+c2AfzilWnnWsW0pOHrRmtsnOcK5nxt0s+e7E5OtAxOl4+OT1zRFRlIj2/rPjm7tG3b0uLy8mLbaHxhchI8QW65r226lRL4vYM9C9nsQk96spXhHfsn+5ZzI0PDQ4OD0KApyFZ7hod7ekZAJx1Ao2tVJ9sarcXcMIo0+DietGzQyVPZAxfVRfnQUFVZsSxWRjYznEgMM9GwXdcEBJNn4Pp9uzsXM52HB4aPdNc0hZaSazpJAnWRlafRdnQPIdTOGtQMprqyx4fkVncVPj2+qDWXoxMLuNVDujOdxW3GeuWVxbmC91nQFr1FNdnbPD+rJnpSc3O4KkQQaArdXd3TqztIHELqG2d5M+G4OiCIw4EF0WApfs4hOx2cvSMgCn5ORK0dDK26mHaatguOyr0+XiRwhgnNEtCd2OgdN8QoFTvH6hhLguywP8fnjob1nMpBOZ71jIWT3cFg5PS9MJbIsRJzXaDdEwgLgt2muBhF83VEwwOxFzF4UEREQVabYczSqh6LxUtlOA1UaGrdAs8lRt2czWnwepsn0tKSaBfhk0jkElGtRRUMoMk7GumdaAunO+KDVk1hDNXGCHwoEmoSeV4IhpqCPM/YFAOI62lLFRk7VczGi02gydDKBXQ5yHrNA0bqgtl4eiRRgBQGUaL8LlFm7HfbVFGSopwoclGpXXyjRRKKMudQnI/bRVl+nBdEvihIt3/5x5KZQ5oWcwfRtlEKDa6v0JGvj7fO830+NuqCso7Gau3eZEsqbiQkSrSzTt+XBFEU7uLFjkC8OxIfxqzrMs3wYirRnOQgarLcAz58FutmWQt2pzP9Qez1E0DLDtBIqHZ+ZG39TFGmu6t7u43T/4szS5ktJX+P5rQ4FaeSUkt9NBVub+qeiA5m4tlcLNbSYr3ywPihgizZdZmiOX5hxu+OaxNdzX3Rjmwimc4kExmQRwrkvgjy0Ot79hFs6jX28QLnBZxkpT/wsF8Q/ihKdtudNsnC6Tza6fPzAs8xkEN/iHWCNwsCN7uAGzcRI9pq/NR8WYMZNTBSWtf/9MTWYjrZMj80NN+STBe3TmTz+Wy2vT2byGWTyWwOTvely3aGKcUKPT2FWIlh7OV0qR+MPBSLhcLRz8QDgWg0EIhj2YaBmq112TZq2nRbl0yhzvq79TWx2qlIm69rMjqUmtmamYuDXGOxXM6qiHZdMcU6jcU6CWKNPOuysUPFb2eSyQzINwO5agTpaDv5IEUTrwDT8wBkBnnQFPkAQF5Zg8QBsmQ+86oaJApvbTYht9QgIWSgy823bq1BWk3MnwPIbTVIAiA7zLdur0FS8Nai+cyra5AgPLPLfOY1NUgYIFtNyGv/X1JIoJWrV/6Eushv412VIxSkVziT8ZP0HK7hWGh0Iz7WQtKItdt4jSXfga8qh8df+ZPlevLb1kR1fPCQ7zbPRMPoJGiy9sQVF33iVhKZT0TrT9xysSfMWP40cRdxlHBi21gz0FNuv9/t9vmsAZcrgP+qz95mPqvBs7g+jD21se4l6oUOXUQOkbV6Aj6Xx29X93JWVue0tKxhHJGQls0RZHVM9AcY02gc1XIRCtwbKUHXBg0MM7DnMGnCuDQidAmqGrD+C4WeGvqLUIoeWh0IJAk0k6eIoyDJO4hfg+Tgir4IVwq+E6s8kY9UVyXPqZ88oi0w2ddzxQpIRbDkcyGVZ2tjf0gU0WddPp+rMiCKH12TOMY6irmr7/GVVusueqOsXG7AKrAsjxTkMmpoz/lc6K2iIIiVgy4fWVovNQv4hHebJ/07MLXVZKuPXPX84YbAiyuDNNXAxjc4XooF3X6up5Cbjgpu0ebkE0eL5W2tciISiCsWxHPuQABTcZ8kRHoHYv5cWk+1eb0OXnc5AtHEeGug3BULlvJNrPCxOssk4VoZRueA43ittgpjYsrqARjHpdW6v1nqaNTv98tb2xKFYAxTwHK8EAslfUDjFqBRsgKNR5rxSB6f71OxkUx6qt3f1uJheVEIdHaFk2VfssXtdQhAYVOULNepAssnvgV6GCScIK2L2Oi31s+SOWIZODhHCARxaMOqF1Ft8+0t8x2tC+1t88stW9pzc3n4v21LK7wXhKh/lnwQ/zJlAZeYjKrADYNOYG3UylwGrnIl4CsOyYmSgSVQq3Zdy1mYMecNsqbJNzhHHVaWddvLjjLjZlmLY3TthoXl8I0uuwtdRXuE46JNEHgB2YQTgoemWfH4cZGl7XBDsCG4IdjE44KbtrMCvkGYGcoTZAlsfZZYwDrCtEIQqVVUGvom6zSdX+0kVrdxIqWGPs41AE0EOqV8KfJckbP6fUtOya5I+4JtrtNm74zXb1UEgbN639FkVXmBs/hcW1jRLss7va3u02bvjDdogWd4i+/tfovS//bcO2hNfhtNc4wg2J9w0Dwj8PRbZEGTb3ktbl8HDDt40fGEneYcvEC/GwNf/1ZZePy3+Pz931ceREnyUYIzfYuZFRSx2dElm6RLduufbbIm0dYwxzpVjvyFedn4Hq4UmlMWI/jVn612SZNtf7LSgCAMr6hOlrvgxxd47xcoRWxBb8B2trDOztw1o0UpMDK/v2qTh1dGkApz2AVj1Iv7ul4t4+u4Dhr/ZmeH0Rqj3YaD9kRlJeq2Ow33XUd+cNXmV98yylGMWxm68caRkRtvGFbcDGXmQCPE92o4sS+t+oQ4LrSu7gxcaXe5HLQ3IisRD+3U3fZSh9FyF0c5XMrwDWvIuMM/vGrza24xcU6hvbBaLNTmMyBMmLxhR72WYEVqO8lUpFCtSemrN86HskYohbPaVKijbVRQJb5d011Jrzfp0rV2XlKF+4xc6JepOFI5XkYo3vzL9g6Z5xTd+JW/rcna1Ob/taErHGfWkRHQU6zRs5brm9NUw/Q1LAJMSmqsRyiTwEjUpEDXXM0eT7NL000KxoKYSB5MLxXKt92ncHj0X9dG/xUenZcxkc1xhOCmiuIpIBLTcwzo6aqvphvOnUu1zu2CpgkvFWRZ2LkTt/epgqVFUDGLF5zr+CK+uoYHo6nXOVeLmmsoXiaoqmCSST6GaVOFp78hqBjPIPF7dARlCK7u62pUHMSv/JxXVf73Ci8oisArOMeoPU9RxKcIbPtPEH9FT6FY/f166URnJYlFj+D2r6LTKQhOp1h93vKXSz5v+eSG5wlu5UsIJqc5txqeT5n434nbAn4Wv/P/KmsBPgEPmoUMIE58HmdQ0P43QWA4+iOaJR8A+EMm/KE6/FGAPwjwhzEcWoATCD8PmcIDmJ4Fc8KCWSVMSmqZ+BUOTSAdImfxBP0w62mNvI+zOE2CVJ+7RlAV06OA6UET03/GGXq6hklSAy6338SEaS0Ti+gm9Bmg9YuYVmg/bPLQAfDrTPiXMBxagBMIP098HX2GkEFnOPzEO0qrsQkczzmnQc3b7XO07uTt9OAgTW+30c6X8l7+JSxtozzC9dcJXgJh7MSXa1hwxFuNc7qKi/GTPA3vUnaO1ektDDNPGdttXuG66wUPZaPZlwC2lzppbH/ov9C4WR//CqYR2nswjRhOvBWiFI99KabRDMMY8wmnRPKkW+NVJ+KRiP5LEr6pNXE6/01Bwm/uXLkZPUYeInpq628jR+JySomuSVZLPNNZzUgJRI/6eJXv3dPhK0218CqeLck5v4OmeI1zdfljPSl96yZ/2QtfrXaHbz6pKc9XhSM6PXTlaPvSYLPNczWebCcgUaRVlUN2SfK0DjcvHBRlO4IZSOseFaYjQRLNK4+SObRClIhxsG+sh2rKhFVSbDeMar6IlYOlWi2k4C4VTiSqO2U45tYqVXStUtXOMN2G1+PqZhjG7ejyT6VSmwIlh5dxOMsu2OPocjjsHqbs35xKQYmMcf8tN5XJTOVy09nslJPxMD3BmVR6JtDLuByMs9vd5HWVncjBeBxdwZl0eibY7XAzdkeXq6kJhkDbWufa2ubakHlpNSsTN5NJSzcxuSr/+MbSbH2TfZ1O9Itvt1O0qY+ioMhj1ySd+NcdfGjPWNemqKez5eDO5fLhEVYReJVruSLmsNGCwYXmypu3d/YfOrCr6+CQCIrhD0oo5rMbumhhjLC/GG1K+R2aunNT186ChT8A+oAGxSOMpnCI8fomunMl/JuPifJSm006xKvAE1/bm1+q/TbFqG9BgdGvfVn7xW28Vual6wcoS5RqrH3xw5PViI+NDt0wcWKC5ZY5WeYWWQsiuSXc3S2zAC/siQJnos42jcbbZvJO+T2cJHF3yBaLfAfuvc3pzM+0JYYCrCbSVkdkHzPw/G3wNieJvhGPILO8pCw/byCccOgKSzqajPTykChzrCy4R3xwm5PFoe1p3ceQrKwz8ejqrwBKwG95bU+Fltb4xLpr/G3x+qOiWs2jT/Gaxi8JwjKnKNyy0LpvIn84zFJ2SWeDk6mhYftZXlH4N6MkniyaICgC8kmYXPGWgZ1tYT9jqJy9yRgauI2XeFa+oAiCBrRpkL+OgGfordnXKlX1zkV/rVEnrt5RUUbV3inKsvhOs735S4wFR0XmW9o3GZUXFdL5hZtqt3FLG9rLRZ4Xd+OGRx7OI7F85fsoybOSh6/8lq/ffHkGy/B2yCIfvlj2+R1rNfu0yhpcNmafRBsRIhOkQQTwCuQZD1NQKCOK5wRJEs6JYr0XkoVP43Xjx0RJggZ6nxZkjBcRZAL1YXoWGiLvHH4PfQSjQAR+Hv9hSsaILlImLYQPx4kciV28mUoa2FnSdM3QE9exbgk573k/Y3FIKvP+97FumeTedw98FVXHPWMsKbnhrkOVHBbH+96Hv7Lvv4dRJYZ03IN3D4g08Cubq+TYRtroS9QXajTj9ud4R1YDYmrXNR6+46rCXegW6OG7LoKE8d4GcjgL43k3jma7mFxwW9m01kcHV/E/DA18RJynpIkMGSYVQqvKqliKaTHT69lMp73Mqk7S4USfrQw4HaRTZdHdQVFss9kEVaIeST5CSapAUZ/jA4JBA7YiYMtWsR2KmREhZsYnW8GGvSRJVLaFJBHdxSkssnOVQfQZzo5YpQ0QiDr9OYpah9Zm8kyAjF1gU9l/b1V0gxSwjX0CTAmaNRv745o4niuLt0oCL94Gz0DDi+Ktovxcia+ZEV59/4D0ocNECI9c84vVA4qrTmTVFQIUvcPT3ZxMi3pMpA2ZptW+mLucjOUUANh1haa13h9AcBAUD87y2ERc0RVNc0PFXuficXP23EIG0XsIqcbnur0tTSUJUaycNGl/vyjdIgsfxTRK4rdDZlZ0ExkkX2BqcLVWYyj62sGYnRpnv59S+Sb2fobTnSL1QPIBmr/Jo6D3C6y3Mq94WB7dV5niWcC2F5+fq5+9ecaDSfnaWT5Dp15SPUncUe6f0RQVn0+yiwuFzJDM2ZBqHh40zyb9c7B3fvRvtWNKmjjf3RfMfFvVCcJGdK783nKU/K5p3c1EiRgFL7mubokay8WNB/ee6V4Gnw+z0Oj66rXSsWVH81Rhdic0gayrmIOmQHLwfRruJKeKwYyr0BLIGgXE4aDNke+EKwSxyguuPjyyL38Smo7u6Fh+ZiYy2jEzWzm7Ct6f746MdZjg2Znqr6l3W05DLNpMbK/9WrJ+7rVaeDDwZe33LiV8oeuFpoZNPNPSanWnRv5+ve+tV/X0n37n/mvev791qdzTa1Xcu/LTS50H+opjDqfTFpQES5Ik/f5EObTw2oMn7tyz/ezxyec28y7ewuVecWN2NNnekRlrLr679+p3HTxw9vTA7v8+se3asdFuW0///qXJU0PFtuGgIv+SczlC4a7LR/e+cmbf+0495+6dqajTIrvYZCtyFff0dHa2L3f1DOB91T7IOl4BnGMtLq7tJJdKdHy9pnDRZrXGhot9ibVTVKYaSwCp1hWUsCkFgzYLAygwdrggxzpjQWdrIjXbMbbcNNRNnpN5TbCQeFObtKpBFV3GIUXkZXZKSz17sLw9hL4dDKTz+tRl6SIX9mutna5WJrulEC7nW92a1DHdDNvM00PR/v6I9k1X32SzJKtK+47poOsY5xadzq0dXcOtOffvLGpTW0cQShRz7c16LBtBgZaMO5HFcScLc+cxWAt7aidPV+tw9TlTPdyjimLPjra2Hb3fVfWgKJ05Jwvo6/ntXeUd7Zr69FchDlp8T/8yhG0oBXXJ8+QXQI47N+7+Vg99Yqsq1uV6kR8Zm6ei6FLV6iwYguVYexsywhKcLizuDjkoK6+w/tlEsiecyB8v9HlSIdoplfb15HeEHbQNbvqm47HuENws9nqaw3Czc//ncz17Yq28W1UyfXuibZxLUT/ldlGKypOUqrnzkXjJlffke2LN0y4Xnw6WZ9NwW1NA2aruaY/GSq4Od0d3LDXlMrhMsDSXJoVo2ZeR4jKScp5ouSkrxWRSymGrwue0EViVQiSITetnlJ9c22/OkdWlkZ8s1aJuY36+fiahN07deFmpdNkN09M3HCiVDtwwPXxqqbV16dTwSPU6t//Eif3hES9DWVnZ6Wo1hjZtGjJa3ZzmsDq9o0zpshunVl/FqDKt206NjJza2tq6FV+3tR5+7mUHrtZVSpZYkhb5LZOTS7xkpxWD1nTC2sDRBDH373lKhNcXakrtWJtrv28vaWr9H+T5t7ylQ6p6w8jk5BDrT3IRuyqzoiXFxDybuf2pVHN6/79n7lAE7Ve0wXJXr8Md3aUZgvO4W3K8KfK7cCwWBtslkWGZIh8C3voIYtCMJQ3pbX1O5OnVaS+poUv8Ov0LoswIjCDQb1BfbxcETglKkvQSG2e3c7aXypWvyPIJAEgoiaP5CQUZsoiexQq0g6v8FYmcQ5IqrwsDLPQ/dvj8T+WnYVVGY6sJUeUTsgoUx9BZNP2fnB37RBofloCzY4kEnB1ra0sm8nl0NjmUSg0n4gAfTpQKyeaOjuZkAfuFAagJvA3v0qyvCdRKAkiweDTVQ5oVAVGEioBX/6YoPkOFYRfszrwPsLEbIvSNioZjr3lQHofYp7/WTJDrnnbD6Ouft1zk5ebqBR3TVMSYcfp884Xv4y/4JDN8gfGPkz3Ed8jHL13/+SADpss4HRa3z+tyNdklcpPT4pA5MSIIXk2HirKSSmBOHibzKEf+xcRU2w1qLE095fbaJZZRBEDntHh8XjIPLzc3C4BPYcWoILgNzUOQK88n9xA3k+fw3l5jDTuyrr9suN2G7nI9qLvduuFykXtcOu4CqHYl0MrXyN1EO/kpwETMrXvX8HgMl8dD7vboGIvhJuDZU2SAUMkVrAnQex9pTkcqHjxkt4rAxiJFKwqZeSurizY7/25WZiz4rUfhrVfht1blVzIznBCtynZqkdYN0WInMw4LI7Pv5u0498BvPRveejlZIRR4q7p8oVdfxnPqRoqWFGr7dkqRaGqBcYmiiyHHWMVucdx6q8NiV9g3ivAhQFYvIyPEcyyOqpXPPYOVh4rBYDEULgSDhXAwmQwGmpvJSKAQDOUDgXwoWAikUwF/KuUPpHAVmNxE3Ef+mIiCLCC36bPk21drBYYZ3iPg26oZ9NscnMUqeiKGOxYKykbARnJOANm8KX8V4qdIjtzM866kXzJ8rojPwSCeD7T7Db8By2sHlsdR8iTxBvJOrKfh2oEJrO7n+QT+735BIE96eUh4BXjyjpUB4hShEvFLnTgJJ7Ac83RiNTOxyAnRaadElvVKnqCs2gUH47BZEWLznIs1HNHWvs/aaKssMzabVZE5gSQtFqvTMbuZslijwVgWZu9Bcg86QZ6z0sRjxB/MquZlZABZyBWAnCf+YkL2A4QECEU8fhp/PwDfn01W4IkniEcJwsQSQXMWB0CeJH5EVJ/ZhL5I/hggTyG99sxJdDt5J0CehqfMkVYGUI5QAXKBOEcQeH5YwsTNljP/e/PDEnbhr7hbu4I0ryTPE4LlQxttPnI5qEgz7Ntpm6ha0AucmkhT3HVO2Ymwtv4Gb70Wv9Vo8xG7Jtro7Yyuc4ixIAbB89dxFC1qTvzWcfIx4jWWe7HND683dqM6AfYxmmillx0eQXQ7t9mtkmbfbyEY0iE7XiBwnPAC6JDMNVWb/yfY/I//z2z+n5ey+VaLk/iG5e1EqGrzgLHB5ilqzeY/5uRIR3/G25ptVr1hm4VzOHmLozfrbcukVE8EABZW4Apd2MKbnA5k9n2ucJPDlMQgGiM+jW7GEWS4ITi+Hcc71G22Y5IgSKIoSPgNx8q3iX+Sf8K+dRyvo/pJVBW6QCL6o7SCF0PNLpRUmmlF4y32ZlflB4qHpWyCxo4l0ZORcejzOvQrVPh/Ad8+FZIAAAEAAAADmdvwBFUQXw889QADA+gAAAAA2xel1QAAAADdoa06/oL+7AT0BA8AAAAGAAIAAAAAAAB42mNgZGBg/vxvPgMDq/y/pn9NLF+AIiiAkR0Ap+YGunjajc9DsFhBFATQvjOxbdv8tm3Htu11zHVs21nFySa2bduTrqlvL051v1ejK1/QSd1Eo7zoqyii1iJZrYKn9Yz9mfmugpnZNaFrXPMTySJpzDv6TW8kwHxRY7imPpJ1MrqoJ0i2DPfkoUg15hSumZq6bhlzEDqqruavuoG4HHahbJFINFNz0FQloLwViZYqgPsqwSkvugczGBFyHu2EVDB1oCo5SSS0CmN3QQRewJuYIPOK3rH7M5/jjTkFki88twUidAqiFPdYbdAuL3oBk29J1U4Gcv9DtFeDmD05d0eE5qBRU4dy7rJooxRqpuEsHdRZJMsVntWe755AAfbbW4JRW+JRXaXAkSaQX2pvT9HkQx7UkRxkOhpTFDWjJtSQOlBzakUNqFGh12Vbg21mrN6EKD3DaoIn8MhMbc/ocgSaatj/ZRArx9CAb2wotc0nIXQ0j8QTA6mV9LZE3DGCRDbC1/pifuoX5qd8QVl75pw0me45BFdykCLMIsxZ8MVd7lUAAWcItoP3d6OW1IHKpfaqtJg6pgrK1FuTU2r3SE1X6qVXw0XvhqfaBy8VgbaqIVrp9mhnLYOScWjKd/gI3yMl0d3yx0j5gtOAmUrnaRy9oYk0myJoKG2Qy+gv/dGP+sgN9JV96K9aM7/y/xL0A88ww81HM9LMNh2MrykF/AeWTOhdAHjaYgABawZ3hmCGeIZshnKGZkBT8BQoKRQAAHRrsn1rqvFUa9u2bf+sbdu2bdu2n/2ztu3fd06edEiCmkAdoKnQQugCdAdKhx5D72ED7gYvgnfDx+HL8H04ywf5Kvja+Vb6bvvSEAJRkBBSACmD1ECaIAuQU8hztDA6CL2CPsc0LIIVwsphtbAh2HHsB54XL4n3xEfiV/EEPAd/gX8hIIIlphHXSZQUyWbkCfI7hVACZVEe1Z06Rr2gJTo/XYquSjegW9Pd6KX0Cfo1ozBdmSXMBiaByWFeMF9YiK3FNmOPs9+5stwobjv3kW/Mz+HP87f5NP4R/04wha7CeuG+kCU8E1WxtzhOTBBzxBfiF6ms1FOaJ52Vfsst5NlymuIojZWNyns1qDZQp6kpGqk11hZqx7Q/oDKoA5qCdqA76AOGgnFgOlgAVoJNYDc4As6CDPAS/NIZPaLX0vvoG/QDepaBGy2M9cZRI8Hv+Ff7j/uT/C9M2axoTjXvmh8s1SpolbQaWj2tsdZGa6910rpqvbR527Rdu57d1x5pL8v1daBV4EKwTHBaMDP4NRQJlQ/1C20LJYS+h0PhTuGl4UPhjIgaGRf5FR0e3RBzYvNjf+Ot45Pj6+K74hfjLx3eKeG0dfo7s5ytzi3ni1vQreaOdae5893l7gZ3p3vIPe1ecV94iBf0anj9vS3eWe+J9+Q/55qhAAB42mNgZGBg5GdIYmBnyGdgBfKQAQsDIwAVuwD1eNqV0DV2lFEYBuBnFKfF4T80uDs0uLu2sdHIHUXWgSwgW0FbZAHsBLnnIvGk+/Q1rPZGQa64ApOkOme7yVTnrfUu1QWXfUl10eHc+lSXbMxdT3XZwdxIqtc6mnsl1jlW5z6lOver/pbq4j/83FYrc99dELS80NFQU9eTOeygQ47KPFRXkbmtb0JDT5C5qyNoqhiO9+f09dQFHV2ZnRGnp6XrtAMOqGnEi74h+w0LxuM0CGrGVFQFE3q6Dpj4x2bXNO5LnuvpGHTzr+L7Kmr6xgzqOGK/49HBGbfdcdulWP1DmQ1j3zSUhVmzaR+PVaL/RnSS/dOxZO6UXsqua1hHQyumsz8yjNkv6Kg54I7Lbnqi8hfvmp5BYxqG3Y9ZD5r4CRgGZGwAAAB42mNgZgCD/xsYZBiwAAAqgQHPAA==) format("woff");font-weight:normal;font-style:normal;}');
    style.appendChild(textNode);
  }
  function adjustViewboxProperties(svg, panGroupSize) {
    svg.setAttribute('viewBox', "".concat(panGroupSize.x, " ").concat(panGroupSize.y, " ").concat(panGroupSize.width, " ").concat(panGroupSize.height));
    svg.setAttribute('width', "".concat(panGroupSize.width));
    svg.setAttribute('height', "".concat(panGroupSize.height));
    svg.querySelector('#svg-pan-zoom-group').setAttribute('transform', '');
    svg.querySelector('#svg-grid-group').setAttribute('stroke', '#c3d0ed');
  }
  function hasNoAnswerObjects() {
    return !Object.keys(Canvas.layers.answer.shapes).length;
  }
  function toggleSaveNoAnswersConfirm() {
    UI.saveNoAnswersConfirm.classList.toggle('open');
  }
  function toggleSaveConfirm() {
    UI.saveConfirm.classList.toggle('open');
  }
  function hasHiddenLayers() {
    if (drawingApp.isTeacher()) {
      if (Canvas.params.currentLayer === 'question') {
        return questionLayerIsHidden() || hasQuestionHiddenLayers();
      }
    }
    return answerLayerIsHidden() || questionLayerIsHidden() || hasAnswerHiddenLayers() || hasQuestionHiddenLayers();
  }
  function handleHiddenLayers() {
    if (Object.keys(Canvas.layers.question.shapes).length) {
      Object.values(Canvas.layers.question.shapes).forEach(function (shape) {
        if (shape.sidebar.svgShape.isHidden()) {
          shape.sidebar.handleToggleHide();
        }
      });
    }
    if (Object.keys(Canvas.layers.answer.shapes).length) {
      Object.values(Canvas.layers.answer.shapes).forEach(function (shape) {
        if (shape.sidebar.svgShape.isHidden()) {
          shape.sidebar.handleToggleHide();
        }
      });
    }
  }
  function closeDrawingTool() {
    rootElement.dispatchEvent(new CustomEvent('close-drawing-tool'));
  }
  function handleCloseByExit() {
    UI.closeConfirm.classList.toggle('open');
  }
  function answerLayerIsHidden() {
    return Canvas.layers.answer.params.hidden && !!Object.keys(Canvas.layers.answer.shapes).length;
  }
  function questionLayerIsHidden() {
    return Canvas.layers.question.params.hidden && !!Object.keys(Canvas.layers.question.shapes).length;
  }
  function hasQuestionHiddenLayers() {
    if (Object.keys(Canvas.layers.question.shapes).length) {
      return !!Object.values(Canvas.layers.question.shapes).filter(function (shape) {
        return shape.sidebar.svgShape.isHidden();
      }).length;
    }
    return false;
  }
  function hasAnswerHiddenLayers() {
    if (Object.keys(Canvas.layers.answer.shapes).length) {
      return !!Object.values(Canvas.layers.answer.shapes).filter(function (shape) {
        return shape.sidebar.svgShape.isHidden();
      }).length;
    }
    return false;
  }
  function handleShapeSelection(evt) {
    var shapeGroup = evt.target.closest(".shape");
    if (!shapeGroup) return;
    var layerID = shapeGroup.parentElement.id;
    var layerObject = Canvas.layers[Canvas.layerID2Key(layerID)];
    if (!layerObject.props.id.includes(layerObject.Canvas.params.currentLayer)) return;
    var selectedShape = rootElement.querySelector('.selected');
    var selectedSvgShape = evt.target.closest("g.shape");
    if (selectedShape) removeSelectState(selectedShape);
    if (selectedShape === selectedSvgShape) return;
    addSelectState(selectedSvgShape);
  }
  function removeSelectState(element) {
    element.classList.remove('selected');
    rootElement.querySelector('#shape-' + element.id).classList.remove('selected');
  }
  function addSelectState(element) {
    element.classList.add('selected');
    rootElement.querySelector('#shape-' + element.id).classList.add('selected');
  }
  function movedDuringClick(evt) {
    var _evt$touches;
    if (drawingApp.params.currentTool !== "drag") {
      return true;
    }
    var delta = 6;
    var startX = Canvas.params.cursorPositionMousedown.x;
    var startY = Canvas.params.cursorPositionMousedown.y;
    var evtClientX = evt.clientX;
    var evtClientY = evt.clientY;
    if (((_evt$touches = evt.touches) === null || _evt$touches === void 0 ? void 0 : _evt$touches.length) > 0) {
      evtClientX = evt.touches[0].clientX;
      evtClientY = evt.touches[0].clientY;
    }
    var diffX = Math.abs(evtClientX - startX);
    var diffY = Math.abs(evtClientY - startY);
    return !(diffX < delta && diffY < delta);
  }
  function setMousedownPosition(evt) {
    var _evt$touches2;
    Canvas.params.cursorPositionMousedown.x = evt.clientX;
    Canvas.params.cursorPositionMousedown.y = evt.clientY;
    if (((_evt$touches2 = evt.touches) === null || _evt$touches2 === void 0 ? void 0 : _evt$touches2.length) > 0) {
      Canvas.params.cursorPositionMousedown.x = evt.touches[0].clientX;
      Canvas.params.cursorPositionMousedown.y = evt.touches[0].clientY;
    }
  }

  /**
   * Event handler for down events of the cursor.
   * Calls either startDrag() or startDraw() based on currentType.
   * @param {Event} evt
   */
  function cursorStart(evt) {
    var _evt$touches3;
    evt.preventDefault();
    if (ShouldEditTextOnClick()) return;
    updateCursorPosition(evt);
    setMousedownPosition(evt);
    if (Canvas.params.focusedShape) Canvas.params.focusedShape = null;
    Canvas.unhighlightShapes();
    if (((_evt$touches3 = evt.touches) === null || _evt$touches3 === void 0 ? void 0 : _evt$touches3.length) === 2) {
      return startPan(evt);
    }
    if (drawingApp.params.currentTool === "drag") {
      if (evt.target.classList.contains("corner")) return startResize(evt);
      return startDrag(evt);
    }
    return startDraw(evt);
  }
  function startDrag(evt) {
    var shapeGroup = evt.target.closest(".shape");
    if (!shapeGroup) return;
    var layerID = shapeGroup.parentElement.id;
    var layerObject = Canvas.layers[Canvas.layerID2Key(layerID)];
    if (!shapeMayBeDragged(shapeGroup, layerObject)) return;
    var selectedSvgShape = layerObject.shapes[shapeGroup.id].svg;
    Canvas.params.drag = {
      enabled: true,
      selectedSvgShape: selectedSvgShape
    };
    selectedSvgShape.onDragStart(evt, Canvas.params.cursorPosition);
  }
  function startResize(evt) {
    var shapeGroup = evt.target.closest(".shape");
    if (!shapeGroup) return;
    var layerID = shapeGroup.parentElement.id;
    var layerObject = Canvas.layers[Canvas.layerID2Key(layerID)];
    if (!shapeMayBeDragged(shapeGroup, layerObject)) return;
    var selectedSvgShape = layerObject.shapes[shapeGroup.id].svg;
    if (!shapeIsResizable(selectedSvgShape)) return;
    Canvas.params.resize = {
      enabled: true,
      selectedSvgShape: selectedSvgShape
    };
    selectedSvgShape.onResizeStart(evt, getCursorPosition(evt));
  }
  function shapeIsResizable(shape) {
    return _constants_js__WEBPACK_IMPORTED_MODULE_0__.resizableSvgShapes.includes(shape.type);
  }
  function shapeMayBeDragged(shapeGroup, layerObject) {
    return shapeGroup.classList.contains("draggable") && !layerObject.params.locked && layerObject.props.id.includes(layerObject.Canvas.params.currentLayer);
  }
  function startPan() {
    Canvas.params.pan = {
      enabled: true,
      startCoordinates: Canvas.params.cursorPosition
    };
  }
  function startDraw(evt) {
    var _newShape$svg$onDrawS, _newShape$svg;
    var cursorPosition = Canvas.params.cursorPosition;
    Canvas.params.cursorPosition = cursorPosition;
    var currentTool = drawingApp.params.currentTool,
      properties = determinePropertiesForShape(currentTool),
      parent = Canvas.params.currentLayer;
    var newShape = makeNewSvgShapeWithSidebarEntry(currentTool, properties, parent);
    (_newShape$svg$onDrawS = (_newShape$svg = newShape.svg).onDrawStart) === null || _newShape$svg$onDrawS === void 0 ? void 0 : _newShape$svg$onDrawS.call(_newShape$svg, evt, cursorPosition);
    var shapeID = Canvas.params.draw.shapeCountForEachType[currentTool];
    var shapeObjectID = "".concat(currentTool, "-").concat(shapeID);
    var layerObject = Canvas.layers[Canvas.params.currentLayer];
    layerObject.shapes[shapeObjectID] = newShape;
    layerObject.unhideIfHidden();
    Canvas.params.draw.newShape = newShape;
  }
  function determinePropertiesForShape(type) {
    return {
      main: determineMainElementAttributes(type)
    };
  }
  function determineMainElementAttributes(type) {
    var cursorPosition = Canvas.params.cursorPosition;
    return _svgShape_js__WEBPACK_IMPORTED_MODULE_1__[_constants_js__WEBPACK_IMPORTED_MODULE_0__.shapeTypeWithRespectiveSvgClass[type]].getMainElementAttributes(cursorPosition, UI, drawingApp.params);
  }
  function makeNewSvgShapeWithSidebarEntry(type, props, parent, withHelperElements, withHighlightEvents) {
    var svgShape = makeNewSvgShape(type, props, Canvas.layers[parent].svg, withHelperElements, withHighlightEvents);
    var newSidebarEntry = new _sidebar_js__WEBPACK_IMPORTED_MODULE_3__.Entry(svgShape, drawingApp);
    Canvas.layers[parent].addEntry(newSidebarEntry);
    svgShape.setSidebarEntry(newSidebarEntry);
    return {
      svg: svgShape,
      sidebar: newSidebarEntry
    };
  }

  /**
   * Determines based on type which shape constructor to call and returns the created object.
   * @param {string} type Type of svgShape to be created.
   * @param {propObj} props Properties which will be appended to the main svgElement.
   * @param {?SVGElement} parent The parent to which the created svgShape will be added. Defaults to an empty SVGElement().
   * @param {boolean} withHelperElements Boolean to set whether helper elements should be created for the shape
   * @param {boolean} withHighlightEvents Boolean to set whether highlight events should be set for the shape
   * @returns A shape object of the right type
   */
  function makeNewSvgShape(type, props) {
    var parent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new SVGElement();
    var withHelperElements = arguments.length > 3 ? arguments[3] : undefined;
    var withHighlightEvents = arguments.length > 4 ? arguments[4] : undefined;
    var shapeID = ++Canvas.params.draw.shapeCountForEachType[type];
    switch (type) {
      case "rect":
        return new _svgShape_js__WEBPACK_IMPORTED_MODULE_1__.Rectangle(shapeID, props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents);
      case "circle":
        return new _svgShape_js__WEBPACK_IMPORTED_MODULE_1__.Circle(shapeID, props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents);
      case "line":
        return new _svgShape_js__WEBPACK_IMPORTED_MODULE_1__.Line(shapeID, props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents);
      case "text":
        return new _svgShape_js__WEBPACK_IMPORTED_MODULE_1__.Text(shapeID, props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents);
      case "image":
        return new _svgShape_js__WEBPACK_IMPORTED_MODULE_1__.Image(shapeID, props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents);
      case "path":
        return new _svgShape_js__WEBPACK_IMPORTED_MODULE_1__.Path(shapeID, props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents);
      case "freehand":
        return new _svgShape_js__WEBPACK_IMPORTED_MODULE_1__.Freehand(shapeID, props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents);
      default:
        console.error("makeShapeOfRightType(): type  (".concat(type, ") is not valid. No shape was created."));
        return null;
    }
  }

  /**
   * Event handler for moving of the cursor.
   * @param {Event} evt
   */
  function cursorMove(evt) {
    updateCursorPosition(evt);
    var cursorPosition = Canvas.params.cursorPosition;
    showCursorPosition(cursorPosition);
    if (Canvas.panning()) {
      processUserPan();
    } else if (Canvas.dragging()) {
      drag(evt);
    } else if (Canvas.resizing()) {
      resize(evt);
    } else if (Canvas.drawing()) {
      var _Canvas$params$draw$n, _Canvas$params$draw$n2;
      (_Canvas$params$draw$n = (_Canvas$params$draw$n2 = Canvas.params.draw.newShape.svg).onDraw) === null || _Canvas$params$draw$n === void 0 ? void 0 : _Canvas$params$draw$n.call(_Canvas$params$draw$n2, evt, cursorPosition);
    }
    Canvas.params.cursorPosition = cursorPosition;
    if (evt.type === 'touchmove') {
      Canvas.params.touchmoving = true;
    }
  }
  function updateCursorPosition(evt) {
    Canvas.params.cursorPosition = getCursorPosition(evt);
  }

  /**
   * Calculates the position of the cursor in CTM of the SVG canvas.
   * @param {Event} evt
   * @returns {Cursor} The X and Y coordinates of the cursor
   */
  function getCursorPosition(evt) {
    var _evt$touches4;
    var CTM = UI.svgPanZoomGroup.getScreenCTM();
    evt = ((_evt$touches4 = evt.touches) === null || _evt$touches4 === void 0 ? void 0 : _evt$touches4[0]) || evt;
    if (evt.type === 'touchend') return Canvas.params.cursorPosition;
    return {
      x: (evt.clientX - CTM.e) / CTM.a,
      y: (evt.clientY - CTM.f) / CTM.d
    };
  }

  /**
   * Shows provided cursor coordinates on screen.
   * @param {Cursor} position Cursor coordinates.
   */
  function showCursorPosition(position) {
    var cursorXTrunc = Math.trunc(position.x),
      cursorYTrunc = Math.trunc(position.y);
    UI.cursorPos.innerText = "X ".concat(cursorXTrunc, ", Y ").concat(cursorYTrunc * -1);
  }
  function drag(evt) {
    evt.preventDefault();
    Canvas.params.drag.selectedSvgShape.onDrag(evt, Canvas.params.cursorPosition);
  }
  function resize(evt) {
    evt.preventDefault();
    Canvas.params.resize.selectedSvgShape.onResize(evt, getCursorPosition(evt));
  }
  function processUserPan() {
    var difference = calculateDistanceCursor(Canvas.params.pan.startCoordinates, Canvas.params.cursorPosition);
    pan(difference);
  }

  /**
   * Moves the canvas the specified distance. If no distance is specified it doesn't move.
   * @param {Object.<string, number>} distance
   * @param {number} distance.dx
   * @param {number} distance.dy
   */
  function pan() {
    var distance = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
      dx: 0,
      dy: 0
    };
    var matrix = Canvas.params.domMatrix;
    var ratio = Canvas.params.zoomFactor;
    matrix.translateSelf(distance.dx * ratio, distance.dy * ratio);
    setPanZoomMatrix(matrix);
    calculateCanvasBounds();
    updateGrid();
  }

  /**
   * Moves the canvas in horizontal direction, LEFT when direction 1, RIGHT when direction -1.
   * @param {number} direction defaults to 0.
   */
  function panHorizontalOneStep() {
    var direction = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
    pan({
      dx: _constants_js__WEBPACK_IMPORTED_MODULE_0__.panParams.STEP * direction / Canvas.params.zoomFactor,
      dy: 0
    });
  }

  /**
   * Moves the canvas in vertical direction, UP when direction 1, DOWN when direction -1.
   * @param {number} direction defaults to 0.
   */
  function panVerticalOneStep() {
    var direction = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
    pan({
      dx: 0,
      dy: _constants_js__WEBPACK_IMPORTED_MODULE_0__.panParams.STEP * direction / Canvas.params.zoomFactor
    });
  }

  /**
   * Zooms the canvas to the specified level. If no level is specified, it zooms to 100%;
   * If no origin is specified, it zooms with respect to the midpoint of the viewport.
   * @param {number} level
   * @param {Object.<string, number>} origin
   * @param {number} origin.x
   * @param {number} origin.y
   */
  function zoom() {
    var level = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
    var origin = arguments.length > 1 ? arguments[1] : undefined;
    var currentFactor = Canvas.params.zoomFactor,
      factorToBeZoomed = level / currentFactor;
    if (!origin) {
      var bounds = Canvas.params.bounds;
      origin = {
        x: bounds.cx,
        y: bounds.cy
      };
    }
    var matrix = Canvas.params.domMatrix;
    matrix.scaleSelf(factorToBeZoomed, factorToBeZoomed, 1, origin.x, origin.y);
    Canvas.params.zoomFactor *= factorToBeZoomed;
    setPanZoomMatrix(matrix);
    calculateCanvasBounds();
    updateGrid();
  }

  /**
   * Zooms the canvas in by one step with respect to the midpoint of the viewport.
   */
  function zoomInOneStep() {
    zoomOneStep(-1);
  }

  /**
   * Zooms the canvas out by one step with respect to the midpoint of the viewport.
   */
  function zoomOutOneStep() {
    zoomOneStep(1);
  }

  /**
   * Zooms the canvas by one step, OUT when direction is 1, IN when direction is -1.
   * @param {number} direction defaults to 0.
   * @param {Object.<string, number>} origin
   * @param {number} origin.x
   * @param {number} origin.y
   */
  function zoomOneStep() {
    var direction = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
    var origin = arguments.length > 1 ? arguments[1] : undefined;
    var factor = Canvas.params.zoomFactor - _constants_js__WEBPACK_IMPORTED_MODULE_0__.zoomParams.STEP * direction;
    factor = checkZoomFactorBounds(factor);
    zoom(factor, origin);
    updateZoomInputValue(factor);
  }

  /**
   * Zooms the canvas by one step with the cursorPosition as origin.
   * @param {number} direction
   */
  function zoomOneStepToCursor(direction) {
    var cursorPosition = Canvas.params.cursorPosition;
    zoomOneStep(direction, cursorPosition);
  }

  /**
   * Sets the transform matrix on the svgPanZoomGroup.
   * @param {DOMMatrix} matrix
   */
  function setPanZoomMatrix(matrix) {
    UI.svgPanZoomGroup.setAttributeNS(null, "transform", matrix.toString());
  }
  function calculateDistanceCursor(oldCoords, currentCoords) {
    return {
      dx: currentCoords.x - oldCoords.x,
      dy: currentCoords.y - oldCoords.y
    };
  }
  function updateZoomInputValue() {
    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
    handleDisabledZoomButtonStates(value);
    UI.zoomLevel.value = value * 100 + "%";
  }
  function checkZoomFactorBounds(value) {
    if (value > _constants_js__WEBPACK_IMPORTED_MODULE_0__.zoomParams.MAX) value = _constants_js__WEBPACK_IMPORTED_MODULE_0__.zoomParams.MAX;
    if (value < _constants_js__WEBPACK_IMPORTED_MODULE_0__.zoomParams.MIN) value = _constants_js__WEBPACK_IMPORTED_MODULE_0__.zoomParams.MIN;
    return value;
  }
  function cursorStop(evt) {
    updateCursorPosition(evt);
    if (Canvas.drawing()) {
      stopDraw(evt);
    } else if (Canvas.dragging()) {
      stopDrag();
    } else if (Canvas.resizing()) {
      stopResize();
    } else if (Canvas.panning()) {
      stopPan();
    }
  }
  function stopDraw(evt) {
    var newShape = Canvas.params.draw.newShape;
    newShape.svg.onDrawEnd(evt, Canvas.params.cursorPosition);
    Canvas.params.draw.newShape = null;
    if (!newShape.svg.meetsMinRequirements()) {
      Canvas.deleteObject(newShape.sidebar);
      --Canvas.params.draw.shapeCountForEachType[newShape.sidebar.type];
      return;
    }
    Canvas.params.highlightedShape = newShape;
  }
  function stopDrag() {
    Canvas.params.drag.selectedSvgShape.onDragEnd();
    Canvas.params.drag = {
      enabled: false
    };
  }
  function stopResize() {
    Canvas.params.resize = {
      enabled: false
    };
  }
  function stopPan() {
    Canvas.params.pan = {
      enabled: false
    };
  }
  function processToolChange(evt) {
    var currentTool = drawingApp.params.currentTool,
      newTool = determineNewTool(evt);
    if (currentTool === newTool) return;
    drawingApp.params.currentTool = newTool;
    makeSelectedBtnActive(evt.currentTarget);
    enableSpecificPropSelectInputs();
    setCursorTypeAccordingToCurrentType();
    unselectShapeIfNecessary();
    if (!drawingApp.currentToolIs("drag")) {
      drawingApp.warnings.whenAnyToolButDragSelected.show();
    }
  }
  function manualToolChange(tool) {
    var currentTool = drawingApp.params.currentTool;
    var newTool = tool;
    if (currentTool === newTool) return;
    drawingApp.params.currentTool = newTool;
    var btnElement = rootElement.querySelector("[id*=\"".concat(newTool, "-btn\"]"));
    makeSelectedBtnActive(btnElement);
    enableSpecificPropSelectInputs();
    setCursorTypeAccordingToCurrentType();
    if (!drawingApp.currentToolIs("drag")) {
      drawingApp.warnings.whenAnyToolButDragSelected.show();
    }
  }
  function determineNewTool(evt) {
    var id = evt.currentTarget.id;
    var startOfSlice = id.indexOf("-") + 1,
      endOfSlice = id.lastIndexOf("-");
    if (endOfSlice === startOfSlice - 1 || endOfSlice === -1) {
      endOfSlice = startOfSlice - 1;
      startOfSlice = 0;
    }
    return id.slice(startOfSlice, endOfSlice);
  }
  function unselectShapeIfNecessary() {
    var selectedShape = rootElement.querySelector('.selected');
    if (shouldUnselectShape(selectedShape)) {
      var shapeDataObject = Canvas.getShapeDataObject(selectedShape);
      shapeDataObject.sidebar.unselect();
    }
  }
  function shouldUnselectShape(selectedShape) {
    return selectedShape && !drawingApp.currentToolIs("drag") && !drawingApp.toolAndShapeOfSameType(selectedShape);
  }
  function processEndmarkerTypeChange(evt) {
    drawingApp.params.endmarkerType = determineNewEndmarkerType(evt);
    makeSelectedBtnActive(evt.currentTarget);
  }
  function determineNewEndmarkerType(evt) {
    return evt.currentTarget.id;
  }
  function processUploadedImages(evt) {
    var _iterator3 = _createForOfIteratorHelper(evt.target.files),
      _step3;
    try {
      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
        var file = _step3.value;
        createImageInsideCanvas(file);
      }
    } catch (err) {
      _iterator3.e(err);
    } finally {
      _iterator3.f();
    }
    manualToolChange('drag');
    UI.imgUpload.value = null;
  }
  function fileLoadedIntoReader(evt, identifier) {
    var imageURL = evt.target.result;
    var dummyImage = new Image();
    dummyImage.src = imageURL;
    drawingApp.bindEventListeners([{
      element: dummyImage,
      events: {
        load: {
          callback: function callback(evt) {
            dummyImageLoaded(evt, identifier);
          }
        },
        error: {
          callback: function callback() {
            console.error("Something went wrong while processing this image.");
          }
        }
      }
    }]);
  }
  function dummyImageLoaded(_x8, _x9) {
    return _dummyImageLoaded.apply(this, arguments);
  }
  function _dummyImageLoaded() {
    _dummyImageLoaded = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(evt, identifier) {
      var dummyImage, scaleFactor, base65PNGString, shape, objectID;
      return _regeneratorRuntime().wrap(function _callee6$(_context6) {
        while (1) switch (_context6.prev = _context6.next) {
          case 0:
            dummyImage = evt.target;
            scaleFactor = correctImageSize(dummyImage);
            _context6.next = 4;
            return compressedImageUrl(dummyImage, scaleFactor);
          case 4:
            base65PNGString = _context6.sent;
            shape = makeNewSvgShapeWithSidebarEntry("image", {
              main: {
                href: base65PNGString,
                width: dummyImage.width * scaleFactor,
                height: dummyImage.height * scaleFactor,
                identifier: identifier
              }
            }, Canvas.params.currentLayer);
            shape.svg.moveToCenter();
            shape.svg.addHighlightEvents();
            objectID = "image-".concat(shape.svg.shapeId);
            Canvas.layers[Canvas.params.currentLayer].shapes[objectID] = shape;
          case 10:
          case "end":
            return _context6.stop();
        }
      }, _callee6);
    }));
    return _dummyImageLoaded.apply(this, arguments);
  }
  function correctImageSize(image) {
    var canvasWidth = UI.svgCanvas.clientWidth,
      canvasHeight = UI.svgCanvas.clientHeight;
    var scaleFactor = 1;
    if (image.width > canvasWidth) {
      scaleFactor = canvasWidth / image.width;
      if (image.height * scaleFactor > canvasHeight) {
        scaleFactor = canvasHeight / image.height;
      }
    } else if (image.height > canvasHeight) {
      scaleFactor = canvasHeight / image.height;
      if (image.width * scaleFactor > canvasWidth) {
        scaleFactor = canvasWidth / image.width;
      }
    }
    return scaleFactor * 0.99;
  }
  function handleImagePaste(evt) {
    var items = evt.clipboardData.items;
    for (var i = 0; i < items.length; i++) {
      if (items[i].type.indexOf("image") !== -1) {
        var file = items[i].getAsFile();
        createImageInsideCanvas(file);
      }
    }
    manualToolChange('drag');
    UI.imgUpload.value = null;
  }
  function createImageInsideCanvas(file) {
    if (!imageTypeIsAllowed(file)) return;
    UI.submitBtn.disabled = true;
    var identifier = (0,uuid__WEBPACK_IMPORTED_MODULE_5__["default"])();
    var reader = new FileReader();
    uploadImageToLivewireComponent(file, identifier);
    reader.readAsDataURL(file);
    drawingApp.bindEventListeners([{
      element: reader,
      events: {
        loadend: {
          callback: function callback(evt) {
            fileLoadedIntoReader(evt, identifier);
          }
        },
        error: {
          callback: function callback() {
            console.error("Something went wrong while loading this image.");
          }
        }
      }
    }]);
  }
  function uploadImageToLivewireComponent(file, identifier) {
    drawingApp.livewireComponent.upload("cmsPropertyBag.images.".concat(Canvas.params.currentLayer, ".").concat(identifier), file, function () {
      // Success callback.
      UI.submitBtn.disabled = false;
    }, function () {
      // Error callback.
      UI.submitBtn.disabled = false;
    }, function () {
      // Progress callback.
    });
  }
  function imageTypeIsAllowed(file) {
    if (file.size / (1024 * 1024) > 4) {
      dispatchEvent(new CustomEvent('js-localized-notify-popup', {
        detail: {
          translation_key: 'image-size-error',
          message_type: 'error'
        }
      }));
      return false;
    }
    if (!['png', 'jpeg', 'jpg'].includes(file.type.toLowerCase().split('/')[1])) {
      dispatchEvent(new CustomEvent('js-localized-notify-popup', {
        detail: {
          translation_key: 'image-type-error',
          message_type: 'error'
        }
      }));
      return false;
    }
    return true;
  }
  function updateGridButtonStates(disabled) {
    UI.gridSize.disabled = disabled;
    UI.decrGridSize.disabled = UI.gridSize.value <= UI.gridSize.min ? true : disabled;
    UI.incrGridSize.disabled = UI.gridSize.value >= UI.gridSize.max ? true : disabled;
    Canvas.layers.grid.params.hidden = disabled;
    var gridSizeContainerClassList = UI.gridSize.parentElement.classList;
    disabled ? gridSizeContainerClassList.add('disabled') : gridSizeContainerClassList.remove('disabled');
  }
  function processGridToggleChange() {
    var gridState = !UI.gridToggle.checked;
    updateGridButtonStates(gridState);
    updateGridVisibility();
  }
  function makeGrid() {
    var props = {
      group: {
        style: "display: none;"
      },
      main: {},
      origin: {
        // stroke: "var(--teacher-Primary)",
        id: "grid-origin"
      },
      size: drawingApp.isTeacher() ? UI.gridSize.value : drawingApp.params.gridSize
    };
    Canvas.layers.grid.shape = new _svgShape_js__WEBPACK_IMPORTED_MODULE_1__.Grid(0, props, UI.svgGridGroup, drawingApp, Canvas);
  }
  function drawGridBackground() {
    var props = {
      group: {},
      main: {},
      origin: {
        id: "grid-origin"
      },
      size: getAdjustedGridValue()
    };
    Canvas.layers.bgGrid = new _svgShape_js__WEBPACK_IMPORTED_MODULE_1__.Grid(0, props, UI.svgGridGroup, drawingApp, Canvas);
  }
  function getAdjustedGridValue() {
    if (grid && grid !== '0') {
      return 1 / parseInt(grid) * 14; // This calculation is based on try and change to reach the closest formula that makes grid visualization same as old drawing
    }

    return 0;
  }
  function updateGridVisibility() {
    var grid = Canvas.layers.grid;
    var shape = grid.shape;
    if (!grid.params.hidden && valueWithinBounds(UI.gridSize)) {
      shape.show();
      return;
    }
    shape.hide();
  }
  function updateGrid() {
    if (valueWithinBounds(UI.gridSize)) {
      drawingApp.params.gridSize = UI.gridSize.value;
      Canvas.layers.grid.shape.update();
      if (Canvas.layers.bgGrid) {
        Canvas.layers.bgGrid.update(getAdjustedGridValue());
      }
    }
  }
  function updateElemOpacityNumberInput() {
    UI.elemOpacityNumber.value = UI.elemOpacityRange.value;
    setSliderColor(UI.elemOpacityRange, UI.textColor.value);
  }
  function updateElemOpacityRangeInput() {
    UI.elemOpacityRange.value = UI.elemOpacityNumber.value;
    setSliderColor(UI.elemOpacityRange, UI.textColor.value);
  }
  function updateAllOpacitySliderColor() {
    rootElement.querySelectorAll('[id*="fill-color"]').forEach(function (elem) {
      updateOpacitySliderColor(elem, 'fill');
    });
    setSliderColor(UI.elemOpacityRange, UI.textColor.value);
  }
  function updateOpacitySliderColor(elem, property) {
    var propertGroup = elem.closest('.property-group');
    var shape = getShapeFromElemId(propertGroup);
    var slider = propertGroup.querySelector('input[type="range"]');
    var sliderColor = propertGroup.querySelector("#".concat(property, "-color-").concat(shape)).value;
    setSliderColor(slider, sliderColor);
  }

  /**
   * Sets the '--slider-color' property on the _slider_ to a linear-gradient
   * where the color left of the knob is determined by _leftColorHexValue_.
   * @param {HTMLElement} slider The slider to update.
   * @param {?string} leftColorHexValue The hexadecimal value for the color left of the knob.
   */
  function setSliderColor(slider) {
    var leftColorHexValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getRootCSSProperty("--all-Base");
    var ratio = calculateRatioOfValueToMax(slider);
    var leftColorRgbaValue = convertHexToRgbaColor(leftColorHexValue, slider.value);
    slider.style.setProperty("--slider-color", "linear-gradient(to right, ".concat(leftColorRgbaValue, " 0%, ").concat(leftColorRgbaValue, " ").concat(ratio, "%, var(--all-White) ").concat(ratio, "%, var(--all-White) 100%)"));
  }

  /**
   * Gets the value of the property from the CSS :root selector element
   * @param {string} property
   * @returns {string} The value of the property
   */
  function getRootCSSProperty(property) {
    return window.getComputedStyle(document.documentElement).getPropertyValue(property);
  }
  function setRootCSSProperty(property, value) {
    document.documentElement.style.setProperty(property, value);
  }

  /**
   * Calculates the ratio between the current value and the max value of the slider.
   * @param {HTMLElement} input The input of which to calculate the ratio.
   * @returns {Number} The ratio, clipped on two decimals.
   */
  function calculateRatioOfValueToMax(input) {
    return ((input.value - input.min) / (input.max - input.min) * 100).toFixed(2);
  }

  /**
   * Converts a color defined in hexadecimal and an opacity [0,100] to a color defined with rgba()
   * @param {string} color Hexadecimal string (#xxxxxx)
   * @param {number} A Number [0,100] representing the Alpha (opacity)
   * @returns 'rgba(red, blue, green, alpha)' as a string.
   */
  function convertHexToRgbaColor(color, A) {
    color = color.trim();
    var R = parseInt(color.substring(1, 3), 16),
      G = parseInt(color.substring(3, 5), 16),
      B = parseInt(color.substring(5, 7), 16);
    return "rgba(".concat(R, ", ").concat(G, ", ").concat(B, ", ").concat(parseFloat(A) / 100, ")");
  }
  function updateFillOpacityNumberInput(elem, property) {
    elem.previousElementSibling.value = elem.value;
    updateOpacitySliderColor(elem, property);
  }
  function updateFillOpacityRangeInput(elem, property) {
    elem.nextElementSibling.value = elem.value;
    updateOpacitySliderColor(elem, property);
  }
  function valueWithinBounds(inputElem) {
    var value = parseFloat(inputElem.value),
      max = parseFloat(inputElem.max),
      min = parseFloat(inputElem.min);
    if (Number.isNaN(value)) {
      return false;
    }
    if (value > max) {
      inputElem.value = inputElem.max;
    } else if (value < min) {
      inputElem.value = inputElem.min;
    }
    return true;
  }
  function setCursorTypeAccordingToCurrentType() {
    var _cursors$drawingApp$p;
    var cursors = {
      drag: {
        locked: "var(--cursor-default)",
        draggable: "var(--cursor-move-shape)",
        canvas: "var(--cursor-default)"
      },
      freehand: {
        locked: "var(--cursor-freehand)",
        draggable: "var(--cursor-freehand)",
        canvas: "var(--cursor-freehand)"
      },
      "default": {
        locked: "var(--cursor-crosshair)",
        draggable: "var(--cursor-crosshair)",
        canvas: ""
      }
    };
    setCursors((_cursors$drawingApp$p = cursors[drawingApp.params.currentTool]) !== null && _cursors$drawingApp$p !== void 0 ? _cursors$drawingApp$p : cursors["default"]);
  }
  function setCursors(cursor) {
    UI.svgCanvas.style.setProperty("--cursor-type-locked", cursor.locked);
    UI.svgCanvas.style.setProperty("--cursor-type-draggable", cursor.draggable);
    UI.svgCanvas.style.setProperty("cursor", cursor.canvas);
  }
  function enableSpecificPropSelectInputs() {
    var _iterator4 = _createForOfIteratorHelper(UI.properties.children),
      _step4;
    try {
      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
        var child = _step4.value;
        child.style.display = "none";
      }
    } catch (err) {
      _iterator4.e(err);
    } finally {
      _iterator4.f();
    }
    _constants_js__WEBPACK_IMPORTED_MODULE_0__.shapePropertiesAvailableToUser[drawingApp.params.currentTool].forEach(function (prop) {
      rootElement.querySelector("#".concat(prop)).style.display = "flex";
    });
  }
  function makeSelectedBtnActive(selectedBtn) {
    var btnGroupName = selectedBtn.getAttribute("data-button-group");
    var activeBtnsOfBtnGroup = rootElement.querySelectorAll("[data-button-group=".concat(btnGroupName, "].active"));
    for (var _i3 = 0, _arr2 = _toConsumableArray(activeBtnsOfBtnGroup); _i3 < _arr2.length; _i3++) {
      var btn = _arr2[_i3];
      btn.classList.remove("active");
    }
    selectedBtn.classList.add("active");
  }
  function getPanGroupSize() {
    var gridLayerHidden = !Canvas.layers.grid.shape.isHidden();
    var questionLayerHidden = Canvas.layers.question.isHidden();
    var answerLayerHidden = Canvas.layers.answer.isHidden();
    if (questionLayerHidden) {
      Canvas.layers.question.unhide();
    }
    if (answerLayerHidden) {
      Canvas.layers.answer.unhide();
    }
    if (gridLayerHidden) {
      Canvas.layers.grid.shape.hide();
    }
    var panGroupSize = UI.svgPanZoomGroup.getBBox();
    if (questionLayerHidden) {
      Canvas.layers.question.hide();
    }
    if (answerLayerHidden) {
      Canvas.layers.answer.hide();
    }
    if (gridLayerHidden) {
      Canvas.layers.grid.shape.show();
    }
    return handleMinPanGroupSizes(panGroupSize);
  }
  function handleMinPanGroupSizes(panGroupSize) {
    var minPanGroupWidth = 820;
    var minPanGroupHeight = 500;
    var resultWidth;
    var resultHeight;
    var resultX;
    var resultY;
    resultWidth = panGroupSize.width;
    resultX = panGroupSize.x;
    if (panGroupSize.width < minPanGroupWidth) {
      resultWidth = minPanGroupWidth;
      resultX = panGroupSize.x - (minPanGroupWidth - panGroupSize.width) / 2;
    }
    resultHeight = panGroupSize.height;
    resultY = panGroupSize.y;
    if (panGroupSize.height < minPanGroupHeight) {
      resultHeight = minPanGroupHeight;
      resultY = panGroupSize.y - (minPanGroupHeight - panGroupSize.height) / 2;
    }
    return {
      x: resultX,
      y: resultY,
      width: resultWidth,
      height: resultHeight
    };
  }
  function handleDisabledZoomButtonStates(newFactor) {
    if (newFactor === _constants_js__WEBPACK_IMPORTED_MODULE_0__.zoomParams.MAX) {
      UI.incrZoom.disabled = true;
      return;
    }
    if (newFactor === _constants_js__WEBPACK_IMPORTED_MODULE_0__.zoomParams.MIN) {
      UI.decrZoom.disabled = true;
      return;
    }
    UI.incrZoom.disabled = false;
    UI.decrZoom.disabled = false;
  }
  function getBoundsForInputElement(element) {
    var currentValue = parseFloat(element.value);
    var min = parseFloat(element.min);
    var max = parseFloat(element.max);
    return {
      currentValue: currentValue,
      min: min,
      max: max
    };
  }
  function getButtonsForElement(element) {
    var decrButton = UI["decr".concat(element.capitalize())];
    var incrButton = UI["incr".concat(element.capitalize())];
    return {
      decrButton: decrButton,
      incrButton: incrButton
    };
  }
  function getShapeFromElemId(elem) {
    var parts = elem.id.split("-");
    return parts[parts.length - 1];
  }
  function getInputsAndButtonsForProperty(propertyGroup, property, shape) {
    var input = propertyGroup.querySelector("#".concat(property, "-").concat(shape));
    var decrButton = propertyGroup.querySelector("#decr-".concat(property, "-").concat(shape));
    var incrButton = propertyGroup.querySelector("#incr-".concat(property, "-").concat(shape));
    return {
      input: input,
      decrButton: decrButton,
      incrButton: incrButton
    };
  }
  function disableButtonsWhenNecessary(UIElementString) {
    var _getButtonsForElement = getButtonsForElement(UIElementString),
      decrButton = _getButtonsForElement.decrButton,
      incrButton = _getButtonsForElement.incrButton;
    var _getBoundsForInputEle = getBoundsForInputElement(UI[UIElementString]),
      currentValue = _getBoundsForInputEle.currentValue,
      min = _getBoundsForInputEle.min,
      max = _getBoundsForInputEle.max;
    decrButton.disabled = currentValue === min;
    incrButton.disabled = currentValue === max;
  }
  function handleTextSizeButtonStates() {
    disableButtonsWhenNecessary('textSize');
  }
  function handleGridSizeButtonStates() {
    disableButtonsWhenNecessary('gridSize');
  }
  function toggleDisableButtonStates(elem, property) {
    var propertGroup = elem.closest('.property-group');
    if (!propertGroup) return;
    var shape = getShapeFromElemId(propertGroup);
    var _getInputsAndButtonsF = getInputsAndButtonsForProperty(propertGroup, property, shape),
      input = _getInputsAndButtonsF.input,
      decrButton = _getInputsAndButtonsF.decrButton,
      incrButton = _getInputsAndButtonsF.incrButton;
    var _getBoundsForInputEle2 = getBoundsForInputElement(input),
      currentValue = _getBoundsForInputEle2.currentValue,
      min = _getBoundsForInputEle2.min,
      max = _getBoundsForInputEle2.max;
    decrButton.disabled = currentValue === min;
    incrButton.disabled = currentValue === max;
  }
  function checkIfShouldeditShape(selectedShape) {
    return selectedShape && drawingApp.toolAndShapeOfSameType(selectedShape);
  }
  function editShape(functionName) {
    var selectedShape = rootElement.querySelector('.editing');
    if (!checkIfShouldeditShape(selectedShape)) return;
    var selectedSvgShapeClass = Canvas.getShapeDataObject(selectedShape).svg;
    functionName in selectedSvgShapeClass && selectedSvgShapeClass[functionName]();
  }
  function ShouldEditTextOnClick() {
    var selectedShape = rootElement.querySelector('.editing');
    if (!checkIfShouldeditShape(selectedShape)) return;
    return drawingApp.currentToolIs('text') && Canvas.params.editingTextInZone;
  }
  return {
    UI: UI,
    Canvas: Canvas,
    drawingApp: drawingApp
  };
};
function clearPreviewGrid(rootElement) {
  var gridContainer = rootElement.querySelector('#grid-preview-svg');
  if (gridContainer !== null && gridContainer.firstChild !== null) {
    gridContainer.firstChild.remove();
  }
}
window.makePreviewGrid = function (drawingApp, gridSvg) {
  var rootElement = drawingApp.params.root;
  clearPreviewGrid(rootElement);
  var props = {
    group: {
      style: ""
    },
    main: {},
    origin: {
      stroke: "var(--teacher-blueGrey)",
      id: "grid-origin"
    },
    size: gridSvg
  };
  var parent = rootElement.querySelector('#grid-preview-svg');
  return new _svgShape_js__WEBPACK_IMPORTED_MODULE_1__.Grid(0, props, parent, drawingApp, null);
};
window.calculatePreviewBounds = function (parent) {
  var matrix = new DOMMatrix();
  var height = parent.clientHeight,
    width = parent.clientWidth;
  var scale = parent.viewBox.baseVal.width / width;
  if (parent.viewBox.baseVal.width * parent.viewBox.baseVal.height > width * height) {
    scale = width * height / (parent.viewBox.baseVal.width * parent.viewBox.baseVal.height);
  }
  return {
    top: -(matrix.f + height) / scale,
    bottom: (height - matrix.f) / scale,
    height: height * 2 / scale,
    left: -(matrix.e + width) / scale,
    right: (width - matrix.e) / scale,
    width: width * 2 / scale,
    cx: -matrix.e + width / 2,
    cy: -matrix.f + height / 2
  };
};

/***/ }),

/***/ "./resources/js/drawing/htmlElement.js":
/*!*********************************************!*\
  !*** ./resources/js/drawing/htmlElement.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   htmlElement: () => (/* binding */ htmlElement)
/* harmony export */ });
/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ "./resources/js/drawing/constants.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }

var htmlElement = /*#__PURE__*/function () {
  /**
   *
   * @param {string} type
   * @param {DOMElement} parent
   * @param {propObj} attr
   */
  function htmlElement(type, parent, attr) {
    _classCallCheck(this, htmlElement);
    this.type = type;
    this.element = this.createElement(this.type);
    this.parent = parent;
    this.parent.appendChild(this.element);
    this.setAttributesOnElement(attr);
  }
  _createClass(htmlElement, [{
    key: "setAttributesOnElement",
    value: function setAttributesOnElement(attr) {
      for (var _i = 0, _Object$entries = Object.entries(attr); _i < _Object$entries.length; _i++) {
        var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),
          key = _Object$entries$_i[0],
          value = _Object$entries$_i[1];
        this.setAttributeOnElementWithValidation(key, value);
      }
    }
  }, {
    key: "setAttributeOnElementWithValidation",
    value: function setAttributeOnElementWithValidation(key, value) {
      if (this.attributeIsValid(key)) {
        this.element.setAttribute(key, value);
      } else {
        console.info("Attribute %c".concat(key, "%c is invalid for this element (type: ").concat(this.type, ") and has been ignored."), "font-style: italic", null);
      }
    }
  }, {
    key: "attributeIsValid",
    value: function attributeIsValid(key) {
      var attrKeysToLoopOver = _constants_js__WEBPACK_IMPORTED_MODULE_0__.validHtmlElementKeys.global.concat(_constants_js__WEBPACK_IMPORTED_MODULE_0__.validHtmlElementKeys[this.type]);
      return attrKeysToLoopOver.some(function (attr) {
        return attr === key;
      });
    }
  }, {
    key: "addEventListener",
    value: function addEventListener(type, cbFunction) {
      this.element.addEventListener(type, cbFunction);
    }
  }, {
    key: "focus",
    value: function focus() {
      this.element.focus();
    }
  }, {
    key: "deleteElement",
    value: function deleteElement() {
      this.element.remove();
    }
  }, {
    key: "createElement",
    value: function createElement(type) {
      return document.createElement(type);
    }
  }]);
  return htmlElement;
}();

/***/ }),

/***/ "./resources/js/drawing/sidebar.js":
/*!*****************************************!*\
  !*** ./resources/js/drawing/sidebar.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Entry: () => (/* binding */ Entry),
/* harmony export */   Layer: () => (/* binding */ Layer)
/* harmony export */ });
/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ "./resources/js/drawing/constants.js");
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }

var sidebarComponent = /*#__PURE__*/function () {
  function sidebarComponent(drawingApp, Canvas) {
    _classCallCheck(this, sidebarComponent);
    this.drawingApp = drawingApp;
    this.Canvas = Canvas;
    this.root = drawingApp.params.root;
  }
  _createClass(sidebarComponent, [{
    key: "showFirstIcon",
    value: function showFirstIcon(element) {
      element.querySelectorAll("svg")[0].style.display = "block";
      element.querySelectorAll("svg")[1].style.display = "none";
    }
  }, {
    key: "showSecondIcon",
    value: function showSecondIcon(element) {
      element.querySelectorAll("svg")[0].style.display = "none";
      element.querySelectorAll("svg")[1].style.display = "block";
    }
  }]);
  return sidebarComponent;
}();
var Entry = /*#__PURE__*/function (_sidebarComponent) {
  _inherits(Entry, _sidebarComponent);
  var _super = _createSuper(Entry);
  function Entry(shape, drawingApp, Canvas) {
    var _this;
    _classCallCheck(this, Entry);
    _this = _super.call(this, drawingApp, Canvas);
    _this.svgShape = shape;
    var entryTemplate = _this.root.querySelector("#shape-group-template");
    var templateCopy = entryTemplate.content.cloneNode(true);
    _this.entryContainer = templateCopy.querySelector(".shape-container");
    _this.entryTitle = templateCopy.querySelector(".shape-title");
    _this.btns = {
      "delete": templateCopy.querySelector(".remove-btn"),
      edit: templateCopy.querySelector(".edit-btn"),
      lock: templateCopy.querySelector(".lock-btn"),
      hide: templateCopy.querySelector(".hide-btn"),
      drag: templateCopy.querySelector(".drag-btn"),
      up: templateCopy.querySelector(".up-btn"),
      down: templateCopy.querySelector(".down-btn")
    };
    _this.type = _this.svgShape.type === "path" ? "freehand" : _this.svgShape.type;
    _this.id = "".concat(_this.type, "-").concat(_this.svgShape.shapeId);
    _this.entryContainer.id = "shape-".concat(_this.id);
    _this.entryTitle.innerText = "".concat(_this.root.querySelector('#translation-template').dataset[_this.svgShape.type], " ").concat(_this.svgShape.shapeId);
    _this.drawingApp.bindEventListeners(_this.eventListenerSettings, _assertThisInitialized(_this));
    _this.updateLockState();
    _this.updateHideState();
    _this.customizeButtonsAccordingToType();
    _this.deleteModal = _this.root.querySelector('#delete-confirm');
    return _this;
  }
  _createClass(Entry, [{
    key: "eventListenerSettings",
    get: function get() {
      var _this2 = this;
      return [{
        element: this.entryContainer,
        events: {
          "dragstart touchstart": {
            callback: function callback(evt) {
              evt.currentTarget.classList.add("dragging");
            }
          },
          "dragend touchend": {
            callback: function callback(evt) {
              _this2.updateDraggedElementPosition(evt);
            }
          },
          "mouseenter touchstart": {
            callback: function callback() {
              _this2.svgShape.highlight();
              // this.highlight();
            }
          },

          "mouseleave touchend touchcancel": {
            callback: function callback() {
              _this2.svgShape.unhighlight();
              _this2.unhighlight();
            }
          },
          "click": {
            callback: function callback(evt) {
              _this2.handleClick(evt);
            }
          }
        }
      }, {
        element: this.btns.drag,
        events: {
          "mouseenter touchstart": {
            callback: function callback(evt) {
              evt.currentTarget.closest('.shape-container').draggable = true;
            }
          },
          'mouseleave touchend': {
            callback: function callback(evt) {
              evt.currentTarget.closest('.shape-container').draggable = false;
            }
          }
        }
      }, {
        element: this.btns["delete"],
        events: {
          "click": {
            callback: function callback() {
              _this2.showConfirmDelete();
            }
          }
        }
      }, {
        element: this.btns.edit,
        events: {
          "click": {
            callback: function callback(evt) {
              _this2.handleEditShape(evt);
            }
          }
        }
      }, {
        element: this.btns.lock,
        events: {
          "click": {
            callback: function callback() {
              _this2.svgShape.toggleLock();
              _this2.updateLockState();
            }
          }
        }
      }, {
        element: this.btns.hide,
        events: {
          "click": {
            callback: function callback() {
              _this2.handleToggleHide();
            }
          }
        }
      }, {
        element: this.btns.down,
        events: {
          "click": {
            callback: function callback(evt) {
              var entry = evt.currentTarget.closest('.shape-container');
              _this2.updateClickedElementPositionDown(entry);
              _this2.reorderHighlight(entry);
            }
          }
        }
      }, {
        element: this.btns.up,
        events: {
          "click": {
            callback: function callback(evt) {
              var entry = evt.currentTarget.closest('.shape-container');
              _this2.updateClickedElementPositionUp(entry);
              _this2.reorderHighlight(entry);
            }
          }
        }
      }];
    }
  }, {
    key: "handleToggleHide",
    value: function handleToggleHide() {
      this.svgShape.toggleHide();
      this.updateHideState();
    }
  }, {
    key: "updateClickedElementPositionDown",
    value: function updateClickedElementPositionDown(entry) {
      if (entry.nextElementSibling) {
        this.insertAfter(entry, entry.nextElementSibling);
        var newLayerId = entry.closest(".layer-group").id;
        var newSvgLayer = this.root.querySelector("#svg-".concat(newLayerId));
        var shape = newSvgLayer.querySelector("#".concat(entry.id.substring(6)));
        var shapeToInsertBefore = shape.previousElementSibling;
        if (shapeToInsertBefore) {
          newSvgLayer.insertBefore(shape, shapeToInsertBefore);
          return;
        }
        newSvgLayer.appendChild(shape);
      }
    }
  }, {
    key: "updateClickedElementPositionUp",
    value: function updateClickedElementPositionUp(entry) {
      if (entry.previousElementSibling) {
        entry.parentElement.insertBefore(entry, entry.previousElementSibling);
        var newLayerId = entry.closest(".layer-group").id;
        var newSvgLayer = this.root.querySelector("#svg-".concat(newLayerId));
        var shape = newSvgLayer.querySelector("#".concat(entry.id.substring(6)));
        var shapeToInsertBefore = shape.nextElementSibling;
        if (shapeToInsertBefore) {
          this.insertAfter(shape, shapeToInsertBefore);
          return;
        }
        newSvgLayer.appendChild(shape);
      }
    }
  }, {
    key: "insertAfter",
    value: function insertAfter(newNode, existingNode) {
      existingNode.parentNode.insertBefore(newNode, existingNode.nextSibling);
    }
  }, {
    key: "updateDraggedElementPosition",
    value: function updateDraggedElementPosition(evt) {
      var _entry$nextElementSib;
      var entry = evt.currentTarget;
      entry.classList.remove("dragging");
      var newLayerId = entry.closest(".layer-group").id;
      var newSvgLayer = this.root.querySelector("#svg-".concat(newLayerId));
      var shape = newSvgLayer.querySelector("#".concat(entry.id.substring(6)));
      var shapeToInsertBefore = newSvgLayer.querySelector("#".concat((_entry$nextElementSib = entry.nextElementSibling) === null || _entry$nextElementSib === void 0 ? void 0 : _entry$nextElementSib.id.substring(6), ".shape"));
      if (shapeToInsertBefore) {
        return this.insertAfter(shape, shapeToInsertBefore);
      }
      newSvgLayer.prepend(shape);
    }
  }, {
    key: "reorderHighlight",
    value: function reorderHighlight(element) {
      element.classList.add("reorder-highlight");
      var timeout = setTimeout(function () {
        element.classList.remove('reorder-highlight');
        clearTimeout(timeout);
      }, 1000);
    }
  }, {
    key: "highlight",
    value: function highlight() {
      this.entryTitle.classList.add("highlight");
      this.entryContainer.classList.add("highlight");
    }
  }, {
    key: "unhighlight",
    value: function unhighlight() {
      this.entryTitle.classList.remove("highlight");
      this.entryContainer.classList.remove("highlight");
    }
  }, {
    key: "handleClick",
    value: function handleClick(evt) {
      var selectedEl = this.getSelectedElement();
      if (selectedEl) this.unselect(selectedEl);
      if (selectedEl === this.entryContainer) return;
      this.select();
    }
  }, {
    key: "getSelectedElement",
    value: function getSelectedElement() {
      return this.entryContainer.parentElement.querySelector('.selected');
    }
  }, {
    key: "select",
    value: function select() {
      this.entryContainer.classList.add('selected');
      this.svgShape.shapeGroup.element.classList.add('selected');
    }
  }, {
    key: "unselect",
    value: function unselect(element) {
      var _element;
      element = (_element = element) !== null && _element !== void 0 ? _element : this.getSelectedElement();
      var shapeId = element.id.substring(6);
      element.classList.remove('selected');
      element.closest('#canvas-sidebar-container').querySelector("#".concat(shapeId)).classList.remove('selected');
      this.removeAnyEditingShapes();
      document.activeElement.blur();
    }
  }, {
    key: "toggleSelect",
    value: function toggleSelect() {
      this.entryContainer.classList.toggle('selected');
      this.svgShape.shapeGroup.element.classList.toggle('selected');
    }
  }, {
    key: "updateLockState",
    value: function updateLockState() {
      if (this.svgShape.isLocked()) {
        this.showSecondIcon(this.btns.lock);
        this.btns.lock.title = this.btns.lock.getAttribute("data-title-locked");
      } else {
        this.showFirstIcon(this.btns.lock);
        this.btns.lock.title = this.btns.lock.getAttribute("data-title-unlocked");
      }
    }
  }, {
    key: "updateHideState",
    value: function updateHideState() {
      if (this.svgShape.isHidden()) {
        this.showSecondIcon(this.btns.hide);
        this.btns.hide.style.color = "#929DAF";
        this.btns.hide.title = this.btns.hide.getAttribute("data-title-hidden");
        this.entryContainer.classList.add('hide');
      } else {
        this.showFirstIcon(this.btns.hide);
        this.btns.hide.style.color = "";
        this.btns.hide.title = this.btns.hide.getAttribute("data-title-unhidden");
        this.entryContainer.classList.remove('hide');
      }
    }
  }, {
    key: "handleEditShape",
    value: function handleEditShape(evt) {
      var selectedEl = this.getSelectedElement();
      if (!selectedEl) return this.startEditingShape();
      if (selectedEl === this.entryContainer && selectedEl.classList.contains('editing')) return;
      this.unselect(selectedEl);
      this.select();
      this.startEditingShape();
      evt.stopPropagation();
    }
  }, {
    key: "startEditingShape",
    value: function startEditingShape() {
      this.removeAnyEditingShapes();
      this.entryContainer.classList.add('editing');
      this.svgShape.shapeGroup.element.classList.add('editing');
      this.showRelevantShapeMenu();
      this.setInputValuesWhenShapeInEditMode();
    }
  }, {
    key: "setInputValuesWhenShapeInEditMode",
    value: function setInputValuesWhenShapeInEditMode() {
      this.svgShape.setInputValuesOnEdit();
    }
  }, {
    key: "removeAnyEditingShapes",
    value: function removeAnyEditingShapes() {
      this.root.querySelectorAll('.editing').forEach(function (element) {
        element.classList.remove('editing');
      });
    }
  }, {
    key: "showRelevantShapeMenu",
    value: function showRelevantShapeMenu() {
      var shapeType = this.svgShape.type;
      if (shapeType === 'image') return;
      if (shapeType === 'path') {
        shapeType = 'freehand';
      }
      document.querySelector("#add-".concat(shapeType, "-btn")).click();
    }
  }, {
    key: "remove",
    value: function remove() {
      this.svgShape.remove();
      this.entryContainer.remove();
    }
  }, {
    key: "disable",
    value: function disable() {
      try {
        for (var _i = 0, _Object$values = Object.values(this.btns); _i < _Object$values.length; _i++) {
          var btn = _Object$values[_i];
          btn.disabled = true;
        }
        this.entryContainer.draggable = false;
      } catch (error) {}
    }
  }, {
    key: "enable",
    value: function enable() {
      for (var _i2 = 0, _Object$values2 = Object.values(this.btns); _i2 < _Object$values2.length; _i2++) {
        var btn = _Object$values2[_i2];
        btn.disabled = false;
      }
      this.entryContainer.draggable = true;
    }
  }, {
    key: "showConfirmDelete",
    value: function showConfirmDelete() {
      this.drawingApp.params.deleteSubject = this;
      this.deleteModal.classList.toggle('open');
    }
  }, {
    key: "customizeButtonsAccordingToType",
    value: function customizeButtonsAccordingToType() {
      if (this.type === "image") {
        var editButton = this.btns.edit;
        editButton.style.color = "grey";
        editButton.disabled = true;
      }
    }
  }]);
  return Entry;
}(sidebarComponent);
var Layer = /*#__PURE__*/function (_sidebarComponent2) {
  _inherits(Layer, _sidebarComponent2);
  var _super2 = _createSuper(Layer);
  /**
   *
   * @param {Object.<string, boolean|number|string|{}>} props
   * @param drawingApp
   * @param Canvas
   * @param {string} props.name
   * @param {string} props.id
   * @param {boolean} props.enabled
   */
  function Layer() {
    var _this3;
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var drawingApp = arguments.length > 1 ? arguments[1] : undefined;
    var Canvas = arguments.length > 2 ? arguments[2] : undefined;
    _classCallCheck(this, Layer);
    _this3 = _super2.call(this, drawingApp, Canvas);
    _this3.params = {
      hidden: false,
      locked: false
    };
    _this3.props = props;
    _this3.svg = _this3.root.querySelector("#svg-".concat(props.id));
    _this3.sidebar = _this3.makeLayerElement();
    drawingApp.bindEventListeners(_this3.eventListenerSettings, _assertThisInitialized(_this3));
    if (_this3.props.enabled) {
      _this3.enable();
    }
    _this3.shapes = {};
    return _this3;
  }
  _createClass(Layer, [{
    key: "makeLayerElement",
    value: function makeLayerElement() {
      var layerTemplate = this.root.querySelector("#layer-group-template");
      var layersContainer = this.root.querySelector("#layers-container");
      var layersHeaderContainer = this.root.querySelector("#layers-heading");
      var templateCopy = layerTemplate.content.cloneNode(true);
      var layerGroup = templateCopy.querySelector(".layer-group");
      layerGroup.id = this.props.id;
      var headerTitle = templateCopy.querySelector(".header-title");
      headerTitle.innerText = this.props.name;
      headerTitle.setAttribute("selid", "header-".concat(this.props.id));
      headerTitle.setAttribute('data-layer', this.props.id);
      headerTitle.closest('.header-container').setAttribute('data-layer', this.props.id);
      this.header = templateCopy.querySelector(".header");
      this.shapesGroup = templateCopy.querySelector(".shapes-group");
      this.btns = {
        "delete": templateCopy.querySelector(".remove-btn"),
        lock: templateCopy.querySelector(".lock-btn"),
        hide: templateCopy.querySelector(".hide-btn"),
        addLayer: templateCopy.querySelector(".add-layer-btn")
      };
      this.explainer = templateCopy.querySelector(".explainer");
      this.setCorrectExplainerText();
      if (this.shouldAddLayerHeader()) {
        layersHeaderContainer.append(this.header);
      }
      layersContainer.append(templateCopy);
      return layerGroup;
    }
  }, {
    key: "eventListenerSettings",
    get: function get() {
      var _this4 = this;
      return [{
        element: this.btns.addLayer,
        events: {
          "click": {
            callback: this.enable,
            options: {
              once: true
            }
          }
        }
      }, {
        element: this.btns.hide,
        events: {
          "click": {
            callback: function callback() {
              if (_this4.isHidden()) {
                _this4.unhide();
              } else {
                _this4.hide();
              }
            }
          }
        }
      }, {
        element: this.btns.lock,
        events: {
          "click": {
            callback: function callback() {
              if (_this4.isLocked()) {
                _this4.unlock();
              } else {
                _this4.lock();
              }
            }
          }
        }
      }, {
        element: this.btns["delete"],
        events: {
          "click": {
            callback: function callback() {
              _this4.clearSidebar();
            }
          }
        }
      }, {
        element: this.sidebar,
        events: {
          "dragover touchmove": {
            callback: function callback(evt) {
              evt.preventDefault();
              if (!_this4.props.enabled) return;
              var draggedEntry = _this4.root.querySelector(".dragging");
              if (draggedEntry == null) {
                return;
              }
              var oldLayer = draggedEntry.closest(".layer-group");
              var oldGroupKey = _this4.Canvas.layerID2Key(oldLayer.id);
              var newLayer = _this4.sidebar;
              var newGroupKey = _this4.Canvas.layerID2Key(newLayer.id);
              if (newGroupKey !== oldGroupKey) {
                var shapeID = draggedEntry.id.substring(6);
                _this4.Canvas.layers[newGroupKey].shapes[shapeID] = _this4.Canvas.layers[oldGroupKey].shapes[shapeID];
                // delete Canvas.layers[oldGroupKey].shapes[shapeID];
              }

              var entryToInsertBefore = _this4.getEntryToInsertBefore(_this4.sidebar, evt.clientY == null ? evt.touches[0].clientY : evt.clientY).entry;
              if (entryToInsertBefore == null) {
                _this4.shapesGroup.appendChild(draggedEntry);
                return;
              }
              _this4.shapesGroup.insertBefore(draggedEntry, entryToInsertBefore);
            }
          }
        }
      }];
    }
  }, {
    key: "addEntry",
    value: function addEntry(entry) {
      this.hideExplainer();
      this.shapesGroup.insertBefore(entry.entryContainer, this.getTopShape());
    }
  }, {
    key: "getTopShape",
    value: function getTopShape() {
      return this.shapesGroup.children[0];
    }
  }, {
    key: "isEmpty",
    value: function isEmpty() {
      return Object.keys(this.shapes).length === 0 && this.svg.childElementCount === 0;
    }
  }, {
    key: "enable",
    value: function enable() {
      this.convertAddLayerBtnToDummyBtn();
      this.showRegularBtns();
      this.addEventListenerOnHeader();
      this.props.enabled = true;
    }
  }, {
    key: "convertAddLayerBtnToDummyBtn",
    value: function convertAddLayerBtnToDummyBtn() {
      this.btns.addLayer.innerHTML = "";
      this.btns.addLayer.disabled = true;
      this.btns.addLayer.classList.add("btn-placeholder");
      this.btns.addLayer.classList.remove("add-layer-btn");
    }
  }, {
    key: "showRegularBtns",
    value: function showRegularBtns() {
      this.btns["delete"].style.display = "";
      this.btns.lock.style.display = "";
      this.btns.hide.style.display = "";
    }
  }, {
    key: "addEventListenerOnHeader",
    value: function addEventListenerOnHeader() {
      var _this5 = this;
      var settings = [{
        element: this.header,
        events: {
          "mousedown touchstart": {
            callback: function callback(evt) {
              var targetHeader = evt.target;
              var newCurrentLayerID = _this5.getLayerDataFromTarget(targetHeader);
              if (newCurrentLayerID) {
                newCurrentLayerID.contains('question') ? _this5.Canvas.layers.answer.hide() : _this5.Canvas.layers.answer.unhideIfHidden();
                _this5.Canvas.setCurrentLayer(_this5.Canvas.layerID2Key(newCurrentLayerID));
              }
            }
          }
        }
      }];
      this.drawingApp.bindEventListeners(settings, this);
    }
  }, {
    key: "hide",
    value: function hide() {
      this.svg.style.display = "none";
      this.sidebar.classList.add("hidden");
      this.showSecondIcon(this.btns.hide);
      this.btns.hide.title = this.btns.hide.getAttribute("data-title-hidden");
      this.params.hidden = true;
    }
  }, {
    key: "unhide",
    value: function unhide() {
      this.svg.style.display = "";
      this.sidebar.classList.remove("hidden");
      this.showFirstIcon(this.btns.hide);
      this.btns.hide.title = this.btns.hide.getAttribute("data-title-unhidden");
      this.params.hidden = false;
    }
  }, {
    key: "isHidden",
    value: function isHidden() {
      return this.params.hidden;
    }
  }, {
    key: "lock",
    value: function lock() {
      this.svg.style.setProperty("--cursor-type-locked", "default");
      this.svg.style.setProperty("--cursor-type-draggable", "default");
      this.sidebar.classList.add("locked");
      for (var _i3 = 0, _Object$values3 = Object.values(this.shapes); _i3 < _Object$values3.length; _i3++) {
        var shape = _Object$values3[_i3];
        shape.sidebar.disable();
      }
      this.showSecondIcon(this.btns.lock);
      this.btns.lock.title = this.btns.lock.getAttribute("data-title-locked");
      this.params.locked = true;
    }
  }, {
    key: "unlock",
    value: function unlock() {
      this.svg.style.removeProperty("--cursor-type-locked");
      this.svg.style.removeProperty("--cursor-type-draggable");
      this.sidebar.classList.remove("locked");
      for (var _i4 = 0, _Object$values4 = Object.values(this.shapes); _i4 < _Object$values4.length; _i4++) {
        var shape = _Object$values4[_i4];
        shape.sidebar.enable();
      }
      this.showFirstIcon(this.btns.lock);
      this.btns.lock.title = this.btns.lock.getAttribute("data-title-unlocked");
      this.params.locked = false;
    }
  }, {
    key: "isLocked",
    value: function isLocked() {
      return this.params.locked;
    }
  }, {
    key: "getEntryToInsertBefore",
    value: function getEntryToInsertBefore(container, y) {
      var draggableEntriesWithoutDraggedEntry = _toConsumableArray(container.querySelectorAll("[draggable]:not(.dragging)"));
      return draggableEntriesWithoutDraggedEntry.reduce(function (closestEntry, currentEntry) {
        var box = currentEntry.getBoundingClientRect();
        var offset = y - box.top - box.height / 2;
        if (offset < 0 && offset > closestEntry.offset) {
          return {
            offset: offset,
            entry: currentEntry
          };
        }
        return closestEntry;
      }, {
        offset: Number.NEGATIVE_INFINITY
      });
    }
  }, {
    key: "unhideIfHidden",
    value: function unhideIfHidden() {
      if (this.isHidden()) {
        this.unhide();
      }
    }
  }, {
    key: "clearSidebar",
    value: function clearSidebar() {
      var withWarning = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
      if (this.isEmpty()) return;
      if (withWarning) {
        if (!confirm("Alle vormen op deze laag (".concat(this.props.name, ") verwijderen?"))) return;
      }
      Object.values(this.shapes).forEach(function (shape) {
        try {
          shape.sidebar.remove();
        } catch (error) {
          return;
        }
      });
      this.shapes = {};
      this.svg.innerHTML = '';
      this.shapesGroup.querySelectorAll('.shape-container').forEach(function (shape) {
        return shape.remove();
      });
    }
  }, {
    key: "getLayerDataFromTarget",
    value: function getLayerDataFromTarget(element) {
      if (element.dataset.layer) return element.dataset.layer;
      if (element.querySelector('[data-layer]')) return element.querySelector('[data-layer]').dataset.layer;
      return false;
    }
  }, {
    key: "hideExplainer",
    value: function hideExplainer() {
      this.explainer.style.display = 'none';
    }
  }, {
    key: "setCorrectExplainerText",
    value: function setCorrectExplainerText() {
      if (this.drawingApp.params.isPreview) {
        this.hideExplainer();
        return;
      }
      var group = this.props.id.replace('-group', '');
      this.explainer.innerText = this.explainer.dataset["text".concat(group.capitalize())];
    }
  }, {
    key: "shouldAddLayerHeader",
    value: function shouldAddLayerHeader() {
      return !(this.props.id.contains('question') && !this.drawingApp.isTeacher());
    }
  }]);
  return Layer;
}(sidebarComponent);

/***/ }),

/***/ "./resources/js/drawing/svgElement.js":
/*!********************************************!*\
  !*** ./resources/js/drawing/svgElement.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Circle: () => (/* binding */ Circle),
/* harmony export */   Group: () => (/* binding */ Group),
/* harmony export */   Image: () => (/* binding */ Image),
/* harmony export */   Line: () => (/* binding */ Line),
/* harmony export */   Path: () => (/* binding */ Path),
/* harmony export */   Rectangle: () => (/* binding */ Rectangle),
/* harmony export */   Text: () => (/* binding */ Text),
/* harmony export */   Textbox: () => (/* binding */ Textbox)
/* harmony export */ });
/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ "./resources/js/drawing/constants.js");
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }


/**
 * @typedef RectangleCoords
 * @type {Object}
 * @property {number} x
 * @property {number} y
 * @property {number} width
 * @property {number} height
 */
/**
 * @typedef CircleCoords
 * @type {Object}
 * @property {number} cx
 * @property {number} cy
 * @property {number} r
 */
var svgElement = /*#__PURE__*/function () {
  function svgElement(type, props) {
    _classCallCheck(this, svgElement);
    this.type = type;
    this.element = this.createSvgElementOfType(type);
    this.props = props !== null && props !== void 0 ? props : {};
    this.setAllAttributesOnElement();
    this.draw = {};
    this.drag = {};
    this.resize = {};
  }

  /**
   * Creates an SVG Element of given type.
   * @param {string} type
   * @returns The SVG Element.
   */
  _createClass(svgElement, [{
    key: "createSvgElementOfType",
    value: function createSvgElementOfType(type) {
      return document.createElementNS(_constants_js__WEBPACK_IMPORTED_MODULE_0__.svgNS, type);
    }

    /**
     * Sets attribute specified by key to given value, without validation, using .setAttributeNS()
     * @param {string} key
     * @param {string|number|boolean} value
     */
  }, {
    key: "setAttribute",
    value: function setAttribute(key, value) {
      this.element.setAttributeNS(null, key, value);
    }

    /**
     * Calls getAttributeNS() on this.element to get the value of an attribute.
     * @param {string} key Key of the attribute to get.
     * @returns The return value of getAttributeNS()
     */
  }, {
    key: "getAttribute",
    value: function getAttribute(key) {
      return this.element.getAttributeNS(null, key);
    }

    /**
     * Checks if a given key-value pair may be set on the element and does so if allowed. Shows an info in the console if not allowed.
     * @param {string} key
     * @param {string|number|boolean} value
     */
  }, {
    key: "setAttributeOnElementWithValidation",
    value: function setAttributeOnElementWithValidation(key, value) {
      if (this.keyIsValid(key) && this.valueIsValid(value)) {
        this.setAttribute(key, value);
      } else {
        console.info("Attribute %c".concat(key, "%c is invalid for this element (type: ").concat(this.type, ") and has been ignored."), "font-style: italic", null);
      }
    }

    /**
     * Checks if a given key may be set on the element.
     * @param {string} key An attribute key to check.
     * @returns Boolean value indicating if the given key may be set on the element.
     */
  }, {
    key: "keyIsValid",
    value: function keyIsValid(key) {
      var attrKeysToLoopOver = _constants_js__WEBPACK_IMPORTED_MODULE_0__.validSvgElementKeys.global.concat(_constants_js__WEBPACK_IMPORTED_MODULE_0__.validSvgElementKeys[this.type]);
      return attrKeysToLoopOver.some(function (attr) {
        return attr === key;
      });
    }

    /**
     * Checks if a given value is a string, number or boolean.
     * @param {*} value
     * @returns Boolean value indicating if the value is a string,
     * number or boolean (all true) or something else (false).
     */
  }, {
    key: "valueIsValid",
    value: function valueIsValid(value) {
      return typeof value === "string" || typeof value === "number" || typeof value === "boolean";
    }

    /**
     * Loops over all attributes given and calls setAttributeOnElementWithValidation() on each.
     */
  }, {
    key: "setAllAttributesOnElement",
    value: function setAllAttributesOnElement() {
      for (var _i = 0, _Object$entries = Object.entries(this.props); _i < _Object$entries.length; _i++) {
        var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),
          key = _Object$entries$_i[0],
          value = _Object$entries$_i[1];
        this.setAttributeOnElementWithValidation(key, value);
      }
    }

    /**
     * Hides the element.
     */
  }, {
    key: "hide",
    value: function hide() {
      this.element.style.display = "none";
    }

    /**
     * Shows the element.
     */
  }, {
    key: "show",
    value: function show() {
      this.element.style.display = "";
    }

    /**
     * Calls getBBox() on this.element.
     * @returns The return value of getBBox().
     */
  }, {
    key: "getBoundingBox",
    value: function getBoundingBox() {
      return this.element.getBBox();
    }

    /**
     * Calls addEventListener() on this.element with the given arguments.
     * @param {string} type
     * @param {Function} func
     */
  }, {
    key: "addEventListener",
    value: function addEventListener(type, func) {
      this.element.addEventListener(type, func);
    }

    /**
     * Calls appendChild() on this.element with the given argument.
     * @param {Element} element
     */
  }, {
    key: "appendChild",
    value: function appendChild(element) {
      this.element.appendChild(element);
    }

    /**
     * Calls remove() on this.element and deletes this object.
     */
  }, {
    key: "remove",
    value: function remove() {
      this.element.remove();
      delete this;
    }

    /**
     * Event handler called during dragging
     * @param {Event} evt
     * @param {Cursor} cursor
     */
  }, {
    key: "onDrag",
    value: function onDrag(evt, cursor) {
      this.move(this.calculateMovedDistance(cursor, this.drag.previousCursorPosition));
      this.drag.previousCursorPosition = cursor;
    }
  }, {
    key: "move",
    value: function move() {}

    /**
     * Calculates difference between previous and current cursor position
     * @param {Cursor} currentPosition
     * @param {Cursor} previousPosition
     * @returns {{dx: number, dy: number}}
     */
  }, {
    key: "calculateMovedDistance",
    value: function calculateMovedDistance(currentPosition, previousPosition) {
      return {
        dx: currentPosition.x - previousPosition.x,
        dy: currentPosition.y - previousPosition.y
      };
    }
  }]);
  return svgElement;
}();
var Rectangle = /*#__PURE__*/function (_svgElement) {
  _inherits(Rectangle, _svgElement);
  var _super = _createSuper(Rectangle);
  function Rectangle() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
    _classCallCheck(this, Rectangle);
    return _super.call(this, "rect", props);
  }

  /**
   * Event handler called at start of drawing
   * @param {Event} evt
   * @param {Cursor} cursor
   */
  _createClass(Rectangle, [{
    key: "onDrawStart",
    value: function onDrawStart(evt, cursor) {
      this.draw.startingPosition = cursor;
    }

    /**
     * Event handler called during drawing.
     * @param {Event} evt
     * @param {Cursor} cursor
     */
  }, {
    key: "onDraw",
    value: function onDraw(evt, cursor) {
      var coords = this.calculateCoordsForDraw(cursor);
      this.updateAttributes(coords);
    }

    /**
     * Calculates values for the x, y, width and height properties of the rectangle.
     * @param {{x: number, y: number}} cursor
     * @returns {RectangleCoords}
     */
  }, {
    key: "calculateCoordsForDraw",
    value: function calculateCoordsForDraw(cursor) {
      var startingPosition = this.draw.startingPosition;
      var coords = {
        x: startingPosition.x,
        y: startingPosition.y,
        width: cursor.x - startingPosition.x,
        height: cursor.y - startingPosition.y
      };
      var replacements = {
        x: cursor.x,
        y: cursor.y,
        width: -coords.width,
        height: -coords.height
      };
      return this.correctNegativeSizes(coords, replacements);
    }
  }]);
  return Rectangle;
}(svgElement);
var Circle = /*#__PURE__*/function (_svgElement2) {
  _inherits(Circle, _svgElement2);
  var _super2 = _createSuper(Circle);
  function Circle() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
    _classCallCheck(this, Circle);
    return _super2.call(this, "circle", props);
  }

  /**
   * Event handler called during drawing.
   * @param {Event} evt
   * @param {Cursor} cursor
   */
  _createClass(Circle, [{
    key: "onDraw",
    value: function onDraw(evt, cursor) {
      this.setR(this.calculateRadius(cursor));
    }

    /**
     * Event handler called at start of dragging
     * @param {Event} evt
     * @param {Cursor} cursor
     */
  }, {
    key: "onDragStart",
    value: function onDragStart(evt, cursor) {
      this.drag.previousCursorPosition = cursor;
      this.drag.startingPosition = {
        x: this.props.cx,
        y: this.props.cy
      };
    }

    /**
     * Event handler called during resize.
     * @param {Event} evt
     * @param {Cursor} cursor
     */
  }, {
    key: "onResize",
    value: function onResize(evt, cursor) {
      // The scaling ratio is here because the corner points do not lay on the circle,
      // but on a circle with a radius of sqrt(2) bigger
      var SCALING_RATIO = Math.SQRT1_2;
      this.setR(SCALING_RATIO * this.calculateRadius(cursor));
    }

    /**
     * Calculates the radius of a circle.
     * @param {Cursor} cursor
     * @returns {number} Radius of the circle.
     */
  }, {
    key: "calculateRadius",
    value: function calculateRadius(cursor) {
      var dx = cursor.x - this.props.cx;
      var dy = cursor.y - this.props.cy;
      return Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));
    }

    /**
     * Sets the radius to the given value
     * @param {CircleCoords} coords
     */
  }, {
    key: "updateSize",
    value: function updateSize(coords) {
      this.setR(coords.r);
    }

    /**
     * Sets the R attribute on the shape and in the props.
     * @param {number} value The value to be set.
     */
  }, {
    key: "setR",
    value: function setR(value) {
      this.setRAttribute(value);
      this.setRProperty(value);
    }

    /**
     * Sets the R attribute on the shape.
     * @param {number} value The value to be given to the attribute.
     */
  }, {
    key: "setRAttribute",
    value: function setRAttribute(value) {
      this.setAttributeOnElementWithValidation("r", value);
    }

    /**
     * Sets the R attribute in the props.
     * @param {number} value The value to be given to the property.
     */
  }, {
    key: "setRProperty",
    value: function setRProperty(value) {
      this.props.r = value;
    }

    /**
     * Sets the cx and cy values to the old values plus
     * the offset specified by distance.dx and distance.dy
     * @param {{dx: number, dy: number}} distance
     */
  }, {
    key: "move",
    value: function move(distance) {
      this.setCX(parseFloat(this.props.cx) + distance.dx);
      this.setCY(parseFloat(this.props.cy) + distance.dy);
    }

    /**
     * Sets the specified position
     * @param {{x: number, y: number}} position
     */
  }, {
    key: "updatePosition",
    value: function updatePosition(position) {
      this.setCX(position.x);
      this.setCY(position.y);
    }

    /**
     * Sets the CX attribute on the shape and in the props.
     * @param {number} value The value to be set.
     */
  }, {
    key: "setCX",
    value: function setCX(value) {
      this.setCXAttribute(value);
      this.setCXProperty(value);
    }

    /**
     * Sets the CX attribute on the shape.
     * @param {number} value The value to be given to the attribute.
     */
  }, {
    key: "setCXAttribute",
    value: function setCXAttribute(value) {
      this.setAttributeOnElementWithValidation("cx", value);
    }

    /**
     * Sets the CX attribute in the props.
     * @param {number} value The value to be given to the property.
     */
  }, {
    key: "setCXProperty",
    value: function setCXProperty(value) {
      this.props.cx = value;
    }

    /**
     * Sets the CY attribute on the shape and in the props.
     * @param {number} value The value to be set.
     */
  }, {
    key: "setCY",
    value: function setCY(value) {
      this.setCYAttribute(value);
      this.setCYProperty(value);
    }

    /**
     * Sets the CY attribute on the shape.
     * @param {number} value The value to be given to the attribute.
     */
  }, {
    key: "setCYAttribute",
    value: function setCYAttribute(value) {
      this.setAttributeOnElementWithValidation("cy", value);
    }

    /**
     * Sets the CY attribute in the props.
     * @param {number} value The value to be given to the property.
     */
  }, {
    key: "setCYProperty",
    value: function setCYProperty(value) {
      this.props.cy = value;
    }
  }]);
  return Circle;
}(svgElement);
var Line = /*#__PURE__*/function (_svgElement3) {
  _inherits(Line, _svgElement3);
  var _super3 = _createSuper(Line);
  function Line() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
    _classCallCheck(this, Line);
    return _super3.call(this, "line", props);
  }

  /**
   * Event handler called during drawing.
   * @param {Event} evt
   * @param {Cursor} cursor
   */
  _createClass(Line, [{
    key: "onDraw",
    value: function onDraw(evt, cursor) {
      this.setX2(cursor.x);
      this.setY2(cursor.y);
    }

    /**
     * Event handler called at start of dragging
     * @param {Event} evt
     * @param {Cursor} cursor
     */
  }, {
    key: "onDragStart",
    value: function onDragStart(evt, cursor) {
      this.drag.previousCursorPosition = cursor;
      this.drag.startingPosition = {
        x1: this.props.x1,
        y1: this.props.y1,
        x2: this.props.x2,
        y2: this.props.y2
      };
    }

    /**
     * Sets the x and y values to the old values plus
     * the offset specified by distance.dx and distance.dy
     * @param {{dx: number, dy: number}} distance
     */
  }, {
    key: "move",
    value: function move(distance) {
      this.setX1(parseFloat(this.props.x1) + distance.dx);
      this.setY1(parseFloat(this.props.y1) + distance.dy);
      this.setX2(parseFloat(this.props.x2) + distance.dx);
      this.setY2(parseFloat(this.props.y2) + distance.dy);
    }

    /**
     * Sets the X1 attribute on the shape and in the props
     * @param value
     */
  }, {
    key: "setX1",
    value: function setX1(value) {
      this.setX1Attribute(value);
      this.setX1Property(value);
    }

    /**
     * Sets the X1 attribute on the shape.
     * @param {number} value The value to be given to the attribute.
     */
  }, {
    key: "setX1Attribute",
    value: function setX1Attribute(value) {
      this.setAttributeOnElementWithValidation("x1", value);
    }

    /**
     * Sets the X1 attribute in the props.
     * @param {number} value The value to be given to the property.
     */
  }, {
    key: "setX1Property",
    value: function setX1Property(value) {
      this.props.x1 = value;
    }

    /**
     * Sets the X2 attribute on the shape and in the props
     * @param value
     */
  }, {
    key: "setX2",
    value: function setX2(value) {
      this.setX2Attribute(value);
      this.setX2Property(value);
    }

    /**
     * Sets the X2 attribute on the shape.
     * @param {number} value The value to be given to the attribute.
     */
  }, {
    key: "setX2Attribute",
    value: function setX2Attribute(value) {
      this.setAttributeOnElementWithValidation("x2", value);
    }

    /**
     * Sets the X2 attribute in the props.
     * @param {number} value The value to be given to the property.
     */
  }, {
    key: "setX2Property",
    value: function setX2Property(value) {
      this.props.x2 = value;
    }

    /**
     * Sets the Y1 attribute on the shape and in the props
     * @param value
     */
  }, {
    key: "setY1",
    value: function setY1(value) {
      this.setY1Attribute(value);
      this.setY1Property(value);
    }

    /**
     * Sets the Y1 attribute on the shape.
     * @param {number} value The value to be given to the attribute.
     */
  }, {
    key: "setY1Attribute",
    value: function setY1Attribute(value) {
      this.setAttributeOnElementWithValidation("y1", value);
    }

    /**
     * Sets the Y1 attribute in the props.
     * @param {number} value The value to be given to the property.
     */
  }, {
    key: "setY1Property",
    value: function setY1Property(value) {
      this.props.y1 = value;
    }

    /**
     * Sets the Y2 attribute on the shape and in the props
     * @param value
     */
  }, {
    key: "setY2",
    value: function setY2(value) {
      this.setY2Attribute(value);
      this.setY2Property(value);
    }

    /**
     * Sets the Y2 attribute on the shape.
     * @param {number} value The value to be given to the attribute.
     */
  }, {
    key: "setY2Attribute",
    value: function setY2Attribute(value) {
      this.setAttributeOnElementWithValidation("y2", value);
    }

    /**
     * Sets the Y2 attribute in the props.
     * @param {number} value The value to be given to the property.
     */
  }, {
    key: "setY2Property",
    value: function setY2Property(value) {
      this.props.y2 = value;
    }
  }]);
  return Line;
}(svgElement);
var Image = /*#__PURE__*/function (_svgElement4) {
  _inherits(Image, _svgElement4);
  var _super4 = _createSuper(Image);
  function Image() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
    _classCallCheck(this, Image);
    return _super4.call(this, "image", props);
  }

  /**
   * Sets the Href attribute on the shape and in the props
   * @param value
   */
  _createClass(Image, [{
    key: "setHref",
    value: function setHref(value) {
      this.setHrefAttribute(value);
      this.setHrefProperty(value);
    }

    /**
     * Sets the Href attribute on the shape.
     * @param {string} value The value to be given to the attribute.
     */
  }, {
    key: "setHrefAttribute",
    value: function setHrefAttribute(value) {
      this.setAttributeOnElementWithValidation("href", value);
    }

    /**
     * Sets the Href attribute in the props.
     * @param {number} value The value to be given to the property.
     */
  }, {
    key: "setHrefProperty",
    value: function setHrefProperty(value) {
      this.props.href = value;
    }
  }]);
  return Image;
}(svgElement);
var Path = /*#__PURE__*/function (_svgElement5) {
  _inherits(Path, _svgElement5);
  var _super5 = _createSuper(Path);
  function Path() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
    _classCallCheck(this, Path);
    return _super5.call(this, "path", props);
  }

  /**
   * Event handler called at the start of drawing
   * @param evt
   * @param cursor
   */
  _createClass(Path, [{
    key: "onDrawStart",
    value: function onDrawStart(evt, cursor) {
      this.draw.previousPosition = cursor;
    }

    /**
     * Event handler called during drawing
     * @param evt
     * @param cursor
     */
  }, {
    key: "onDraw",
    value: function onDraw(evt, cursor) {
      var path = this.getDAttribute();
      var distance = this.calculateMovedDistance(cursor, this.draw.previousPosition);
      this.setD("".concat(path, " l ").concat(distance.dx, ",").concat(distance.dy));
      this.draw.previousPosition = cursor;
    }

    /**
     * Event handler called at the start of dragging
     * @param evt
     * @param cursor
     */
  }, {
    key: "onDragStart",
    value: function onDragStart(evt, cursor) {
      this.drag.previousCursorPosition = cursor;
    }

    /**
     * Helper function called from onDrag to move the element
     * @param {{dx: number, dy: number}} distance
     */
  }, {
    key: "move",
    value: function move(distance) {
      var dValue = this.props.d.split(" ");
      dValue[1] = this.calculateNewStartingPoint(dValue[1], distance);
      this.setD(dValue.join(" "));
    }

    /**
     * Parses oldStartingPoint, then moves it by the offset specified by distance.
     * @param {string} oldStartingPoint
     * @param {{dx: number, dy: number}} distance
     * @returns {string}
     */
  }, {
    key: "calculateNewStartingPoint",
    value: function calculateNewStartingPoint(oldStartingPoint, distance) {
      var oldCoords = oldStartingPoint.split(",").map(parseFloat);
      return [oldCoords[0] + distance.dx, oldCoords[1] + distance.dy].join(",");
    }

    /**
     * Sets the D attribute on the shape and in the props
     * @param {string} value
     */
  }, {
    key: "setD",
    value: function setD(value) {
      this.setDAttribute(value);
      this.setDProperty(value);
    }

    /**
     * Sets the D attribute on the shape.
     * @param {string} value The value to be given to the attribute.
     */
  }, {
    key: "setDAttribute",
    value: function setDAttribute(value) {
      this.setAttributeOnElementWithValidation("d", value);
    }

    /**
     * Calls this.getAttribute("d").
     * @returns the return value of this.getAttribute("d")
     */
  }, {
    key: "getDAttribute",
    value: function getDAttribute() {
      return this.getAttribute("d");
    }

    /**
     * Sets the D attribute in the props.
     * @param {string} value The value to be given to the property.
     */
  }, {
    key: "setDProperty",
    value: function setDProperty(value) {
      this.props.d = value;
    }
  }]);
  return Path;
}(svgElement);
var Text = /*#__PURE__*/function (_svgElement6) {
  _inherits(Text, _svgElement6);
  var _super6 = _createSuper(Text);
  function Text() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
    _classCallCheck(this, Text);
    return _super6.call(this, "text", props);
  }

  /**
   * Event handler called during drawing
   * @param {Event} evt
   * @param {Cursor} cursor
   */
  _createClass(Text, [{
    key: "onDraw",
    value: function onDraw(evt, cursor) {
      this.setAttributeOnElementWithValidation("x", cursor.x);
      this.setAttributeOnElementWithValidation("y", cursor.y);
    }

    /**
     * Event handler called at the start of dragging
     * @param {Event} evt
     * @param {Cursor} cursor
     */
  }, {
    key: "onDragStart",
    value: function onDragStart(evt, cursor) {
      this.drag.previousCursorPosition = cursor;
      this.drag.startingPosition = {
        x: this.props.x,
        y: this.props.y
      };
    }

    /**
     * Helper function called from onDrag to move the element
     * @param {{dx: number, dy: number}} distance
     */
  }, {
    key: "move",
    value: function move(distance) {
      this.setX(parseFloat(this.props.x) + distance.dx);
      this.setY(parseFloat(this.props.y) + distance.dy);
    }
  }, {
    key: "updatePosition",
    value: function updatePosition(coords) {
      this.setX(coords.x);
      this.setY(coords.y);
    }

    /**
     * Sets the X attribute on the shape and in the props.
     * @param {number} value
     */
  }, {
    key: "setX",
    value: function setX(value) {
      this.setXAttribute(value);
      this.setXProperty(value);
    }

    /**
     * Sets the X attribute on the shape.
     * @param {number} value The value to be given to the attribute.
     */
  }, {
    key: "setXAttribute",
    value: function setXAttribute(value) {
      this.setAttributeOnElementWithValidation("x", value);
    }

    /**
     * Sets the X attribute in the props.
     * @param {number} value The value to be given to the property.
     */
  }, {
    key: "setXProperty",
    value: function setXProperty(value) {
      this.props.x = value;
    }

    /**
     * Sets the Y attribute on the shape and in the props.
     * @param {number} value
     */
  }, {
    key: "setY",
    value: function setY(value) {
      this.setYAttribute(value);
      this.setYProperty(value);
    }

    /**
     * Sets the Y attribute on the shape.
     * @param {number} value The value to be given to the attribute.
     */
  }, {
    key: "setYAttribute",
    value: function setYAttribute(value) {
      this.setAttributeOnElementWithValidation("y", value);
    }

    /**
     * Sets the Y attribute in the props.
     * @param {number} value The value to be given to the property.
     */
  }, {
    key: "setYProperty",
    value: function setYProperty(value) {
      this.props.y = value;
    }

    /**
     * Sets the specified text to be the content of the text element.
     * @param {string} text
     */
  }, {
    key: "setTextContent",
    value: function setTextContent(text) {
      var shouldDecodeText = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
      if (shouldDecodeText) {
        text = decodeURI(text);
      }
      this.element.textContent = text;
    }

    /**
     * Sets the specified font family
     * @param {string} font
     */
  }, {
    key: "setFontFamily",
    value: function setFontFamily(font) {
      this.setAttributeOnElementWithValidation('font-family', font);
    }
  }]);
  return Text;
}(svgElement);
var Textbox = /*#__PURE__*/function (_svgElement7) {
  _inherits(Textbox, _svgElement7);
  var _super7 = _createSuper(Textbox);
  function Textbox() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
    _classCallCheck(this, Textbox);
    return _super7.call(this, "text", props);
  }
  return _createClass(Textbox);
}(svgElement);
var Group = /*#__PURE__*/function (_svgElement8) {
  _inherits(Group, _svgElement8);
  var _super8 = _createSuper(Group);
  function Group() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
    _classCallCheck(this, Group);
    return _super8.call(this, "g", props);
  }
  return _createClass(Group);
}(svgElement);
var rectangularFunctionality = {
  /**
   * Event handler called at start of dragging
   * @param {Event} evt
   * @param {Cursor} cursor
   */
  onDragStart: function onDragStart(evt, cursor) {
    this.drag.previousCursorPosition = cursor;
    this.drag.startingPosition = {
      x: this.props.x,
      y: this.props.y
    };
  },
  updateAttributes: function updateAttributes(coords) {
    this.updatePosition(coords);
    this.updateSize(coords);
  },
  /**
   * Sets the x and y values to the old values plus
   * the offset specified by distance.dx and distance.dy
   * @param {{dx: number, dy: number}} distance
   */
  move: function move(distance) {
    this.setX(parseFloat(this.props.x) + distance.dx);
    this.setY(parseFloat(this.props.y) + distance.dy);
  },
  updatePosition: function updatePosition(coords) {
    this.setX(coords.x);
    this.setY(coords.y);
  },
  updateSize: function updateSize(coords) {
    this.setWidth(coords.width);
    this.setHeight(coords.height);
  },
  /**
   * Sets the X attribute on the shape and in the props
   * @param {number} value The value to be set.
   */
  setX: function setX(value) {
    this.setXAttribute(value);
    this.setXProperty(value);
  },
  /**
   * Sets the X attribute on the shape.
   * @param {number} value The value to be given to the attribute.
   */
  setXAttribute: function setXAttribute(value) {
    this.setAttributeOnElementWithValidation("x", value);
  },
  /**
   * Sets the X attribute in the props.
   * @param {number} value The value to be given to the property.
   */
  setXProperty: function setXProperty(value) {
    this.props.x = value;
  },
  /**
   * Sets the Y attribute on the shape and in the props
   * @param {number} value The value to be set.
   */
  setY: function setY(value) {
    this.setYAttribute(value);
    this.setYProperty(value);
  },
  /**
   * Sets the Y attribute on the shape.
   * @param {number} value The value to be given to the attribute.
   */
  setYAttribute: function setYAttribute(value) {
    this.setAttributeOnElementWithValidation("y", value);
  },
  /**
   * Sets the Y attribute in the props.
   * @param {number} value The value to be given to the property.
   */
  setYProperty: function setYProperty(value) {
    this.props.y = value;
  },
  /**
   * Sets the Width attribute on the shape and in the props
   * @param value
   */
  setWidth: function setWidth(value) {
    this.setWidthAttribute(value);
    this.setWidthProperty(value);
  },
  /**
   * Sets the Width attribute on the shape.
   * @param {number} value The value to be given to the attribute.
   */
  setWidthAttribute: function setWidthAttribute(value) {
    this.setAttributeOnElementWithValidation("width", value);
  },
  /**
   * Sets the Width attribute in the props.
   * @param {number} value The value to be given to the property.
   */
  setWidthProperty: function setWidthProperty(value) {
    this.props.width = value;
  },
  /**
   * Sets the Height attribute on the shape and in the props.
   * @param value
   */
  setHeight: function setHeight(value) {
    this.setHeightAttribute(value);
    this.setHeightProperty(value);
  },
  /**
   * Sets the Height attribute on the shape.
   * @param {number} value The value to be given to the attribute.
   */
  setHeightAttribute: function setHeightAttribute(value) {
    this.setAttributeOnElementWithValidation("height", value);
  },
  /**
   * Sets the Height attribute in the props.
   * @param {number} value The value to be given to the property.
   */
  setHeightProperty: function setHeightProperty(value) {
    this.props.height = value;
  },
  /**
   * Event handler called at start of resizing
   * @param {Event} evt
   * @param {Cursor} cursor
   */
  onResizeStart: function onResizeStart(evt, cursor) {
    this.resize.startingCoords = {
      x: this.props.x,
      y: this.props.y,
      width: this.props.width,
      height: this.props.height
    };
    this.resize.selectedCorner = this.getClassOfSelectedCorner(evt.target);
  },
  /**
   * Determines the first class name of the given element that matches the format.
   * @param {Element} element
   * @returns {string}
   */
  getClassOfSelectedCorner: function getClassOfSelectedCorner(element) {
    var cornerElementClassMatcher = /(side-)[\w-]+/g;
    return element.classList.toString().match(cornerElementClassMatcher)[0];
  },
  /**
   * Event handler called during resizing
   * @param {Event} evt
   * @param {Cursor} cursor
   */
  onResize: function onResize(evt, cursor) {
    var coords = this.calculateCoordsForResize(cursor);
    this.updateAttributes(coords);
  },
  /**
   * Calculates new values for the x, y, width and height properties of the rectangle.
   * @param {{x: number, y: number}} cursor
   * @returns {RectangleCoords}
   */
  calculateCoordsForResize: function calculateCoordsForResize(cursor) {
    var startingCoords = this.resize.startingCoords;
    var coords = {
      x: startingCoords.x,
      y: startingCoords.y,
      width: cursor.x - startingCoords.x,
      height: cursor.y - startingCoords.y
    };
    var replacements = {
      x: cursor.x,
      y: cursor.y,
      width: 0,
      height: 0
    };
    switch (this.resize.selectedCorner) {
      case "side-se":
        break;
      case "side-ne":
        coords.y = cursor.y;
        coords.height = parseFloat(startingCoords.height) + (startingCoords.y - cursor.y);
        replacements.y = this.props.y;
        break;
      case "side-sw":
        coords.x = cursor.x;
        coords.width = parseFloat(startingCoords.width) + (startingCoords.x - cursor.x);
        replacements.x = this.props.x;
        break;
      case "side-nw":
        coords.x = cursor.x;
        coords.y = cursor.y;
        coords.width = parseFloat(startingCoords.width) + (startingCoords.x - cursor.x);
        coords.height = parseFloat(startingCoords.height) + (startingCoords.y - cursor.y);
        replacements.x = this.props.x;
        replacements.y = this.props.y;
        break;
      default:
        console.error("'this.resize.selectedCorner' contains an invalid value: \"".concat(this.resize.selectedCorner, "\""));
        coords.width = startingCoords.width;
        coords.height = startingCoords.height;
    }
    replacements.width = -coords.width;
    replacements.height = -coords.height;
    return this.correctNegativeSizes(coords, replacements);
  },
  /**
   * Inverts the width and height and changes x and y when the width or height
   * are negative because SVG can't handle negative width and height values.
   * @param {RectangleCoords} coords The calculated position and size of a rectangle
   * @param {RectangleCoords} replacements The values assigned when correction is needed
   * @returns {RectangleCoords}
   */
  correctNegativeSizes: function correctNegativeSizes(coords, replacements) {
    if (coords.width < 0) {
      coords.x = replacements.x;
      coords.width = replacements.width;
    }
    if (coords.height < 0) {
      coords.y = replacements.y;
      coords.height = replacements.height;
    }
    return coords;
  }
};
Object.assign(Rectangle.prototype, rectangularFunctionality);
Object.assign(Image.prototype, rectangularFunctionality);

/***/ }),

/***/ "./resources/js/drawing/svgShape.js":
/*!******************************************!*\
  !*** ./resources/js/drawing/svgShape.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Circle: () => (/* binding */ Circle),
/* harmony export */   Freehand: () => (/* binding */ Freehand),
/* harmony export */   Grid: () => (/* binding */ Grid),
/* harmony export */   Image: () => (/* binding */ Image),
/* harmony export */   Line: () => (/* binding */ Line),
/* harmony export */   Path: () => (/* binding */ Path),
/* harmony export */   Rectangle: () => (/* binding */ Rectangle),
/* harmony export */   Text: () => (/* binding */ Text)
/* harmony export */ });
/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ "./resources/js/drawing/constants.js");
/* harmony import */ var _svgElement_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./svgElement.js */ "./resources/js/drawing/svgElement.js");
/* harmony import */ var _htmlElement_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./htmlElement.js */ "./resources/js/drawing/htmlElement.js");
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }




/**
 * @typedef propObj
 * @type {Object.<string, string|number>}
 *
 */
var svgShape = /*#__PURE__*/function () {
  /**
   * @param {number} shapeId The unique identifier the shape gets.
   * @param {string} type The type of shape to be made.
   * @param {?propObj} props
   * All properties (attributes) to be assigned to the shape,
   * when omitted the properties of the shape are loaded.
   * @param {?SVGElement} parent The parent the shape should be appended to.
   * @param drawingApp
   * @param Canvas
   * @param withHelperElements
   * @param withHighlightEvents
   */
  function svgShape(shapeId, type, props, parent, drawingApp, Canvas) {
    var _this = this;
    var withHelperElements = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : true;
    var withHighlightEvents = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : true;
    _classCallCheck(this, svgShape);
    this.shapeId = shapeId;
    this.type = type;
    this.props = props !== null && props !== void 0 ? props : {
      main: {
        "class": "main"
      },
      group: {
        "class": "shape draggable",
        id: "".concat(type, "-").concat(shapeId)
      }
    };
    this.Canvas = Canvas;
    this.drawingApp = drawingApp;
    this.root = drawingApp.params.root;
    if (!this.props.main) this.props.main = {};
    if (!this.props.group) this.props.group = {};
    this.offset = parseInt(this.props.main["stroke-width"]) / 2 + 3 || 5;
    this.parent = parent;
    //construct shape group
    this.props.group["class"] = "shape draggable";
    if (this.shapeShouldBeResizable()) this.props.group["class"] += " resizable";
    this.props.group.id = "".concat(this.type, "-").concat(this.shapeId);
    this.shapeGroup = new _svgElement_js__WEBPACK_IMPORTED_MODULE_1__.Group(this.props.group);
    // construct main element
    this.props.main["class"] = "main";
    this.mainElement = this.makeMainElementOfRightType();
    //append main element to shape
    this.shapeGroup.appendChild(this.mainElement.element);
    //append shape to parent
    this.parent.appendChild(this.shapeGroup.element);
    if (withHelperElements) {
      this.borderElement = this.makeBorderElement();
      this.shapeGroup.appendChild(this.borderElement.element);
      this.cornerElements = this.makeCornerElements();
      this.cornerElements.forEach(function (cornerElement) {
        _this.shapeGroup.appendChild(cornerElement.element);
      });
      this.hideHelperElements();
    }
    this.withHighlightEvents = withHighlightEvents;
    this.UI = Canvas === null || Canvas === void 0 ? void 0 : Canvas.UI;
  }
  _createClass(svgShape, [{
    key: "makeMainElementOfRightType",
    value: function makeMainElementOfRightType() {
      try {
        var classToMake = _constants_js__WEBPACK_IMPORTED_MODULE_0__.elementClassNameForType[this.type];
        return new _svgElement_js__WEBPACK_IMPORTED_MODULE_1__[classToMake](this.props.main);
      } catch (e) {
        console.error("Type ".concat(this.type, " is not a known element type. Skipped creating element."));
      }
    }
  }, {
    key: "makeCornerElements",
    value: function makeCornerElements() {
      var bbox = this.mainElement.getBoundingBox();
      return [new _svgElement_js__WEBPACK_IMPORTED_MODULE_1__.Circle({
        "class": "corner side-nw",
        "cx": bbox.x - this.offset,
        "cy": bbox.y - this.offset,
        "r": "8px",
        "stroke": "var(--teacher-Primary)",
        "stroke-width": "2",
        "fill": "var(--all-OffWhite)"
      }), new _svgElement_js__WEBPACK_IMPORTED_MODULE_1__.Circle({
        "class": "corner side-sw",
        "cx": bbox.x - this.offset,
        "cy": bbox.y + bbox.height + this.offset,
        "r": "8px",
        "stroke": "var(--teacher-Primary)",
        "stroke-width": "2",
        "fill": "var(--all-OffWhite)"
      }), new _svgElement_js__WEBPACK_IMPORTED_MODULE_1__.Circle({
        "class": "corner side-se",
        "cx": bbox.x + bbox.width + this.offset,
        "cy": bbox.y + bbox.height + this.offset,
        "r": "8px",
        "stroke": "var(--teacher-Primary)",
        "stroke-width": "2",
        "fill": "var(--all-OffWhite)"
      }), new _svgElement_js__WEBPACK_IMPORTED_MODULE_1__.Circle({
        "class": "corner side-ne",
        "cx": bbox.x + bbox.width + this.offset,
        "cy": bbox.y - this.offset,
        "r": "8px",
        "stroke": "var(--teacher-Primary)",
        "stroke-width": "2",
        "fill": "var(--all-OffWhite)"
      })];
    }
  }, {
    key: "makeBorderElement",
    value: function makeBorderElement() {
      var bbox = this.mainElement.getBoundingBox();
      var borderColor = this.isQuestionLayer() && this.drawingApp.isTeacher() ? '--purple-mid-dark' : '--primary';
      return new _svgElement_js__WEBPACK_IMPORTED_MODULE_1__.Rectangle({
        "class": "border",
        "x": bbox.x - this.offset,
        "y": bbox.y - this.offset,
        "width": bbox.width + this.offset * 2,
        "height": bbox.height + this.offset * 2,
        "stroke": "var(".concat(borderColor, ")"),
        "stroke-width": "3",
        "stroke-dasharray": "10",
        "fill": "red",
        "fill-opacity": "0"
      });
    }
  }, {
    key: "shapeShouldBeResizable",
    value: function shapeShouldBeResizable() {
      return _constants_js__WEBPACK_IMPORTED_MODULE_0__.resizableSvgShapes.includes(this.type);
    }
  }, {
    key: "isQuestionLayer",
    value: function isQuestionLayer() {
      return this.Canvas.layerID2Key(this.parent.id) === 'question';
    }
  }, {
    key: "updateHelperElements",
    value: function updateHelperElements() {
      this.updateBorderElement();
      this.updateCornerElements();
    }
  }, {
    key: "updateCornerElements",
    value: function updateCornerElements() {
      var bbox = this.mainElement.getBoundingBox();
      this.cornerElements[0].setCXAttribute(bbox.x - this.offset);
      this.cornerElements[0].setCYAttribute(bbox.y - this.offset);
      this.cornerElements[1].setCXAttribute(bbox.x - this.offset);
      this.cornerElements[1].setCYAttribute(bbox.y + bbox.height + this.offset);
      this.cornerElements[2].setCXAttribute(bbox.x + bbox.width + this.offset);
      this.cornerElements[2].setCYAttribute(bbox.y + bbox.height + this.offset);
      this.cornerElements[3].setCXAttribute(bbox.x + bbox.width + this.offset);
      this.cornerElements[3].setCYAttribute(bbox.y - this.offset);
    }
  }, {
    key: "updateBorderElement",
    value: function updateBorderElement() {
      var bbox = this.mainElement.getBoundingBox();
      this.borderElement.setXAttribute(bbox.x - this.offset);
      this.borderElement.setYAttribute(bbox.y - this.offset);
      this.borderElement.setWidthAttribute(bbox.width + this.offset * 2);
      this.borderElement.setHeightAttribute(bbox.height + this.offset * 2);
    }
  }, {
    key: "showHelperElements",
    value: function showHelperElements() {
      this.showBorderElement();
      this.showCornerElements();
    }
  }, {
    key: "showBorderElement",
    value: function showBorderElement() {
      if (this.elementBelongsToCurrentLayer() && this.drawingApp.currentToolIs('drag')) {
        this.borderElement.setAttribute("stroke", this.borderElement.props.stroke);
        this.borderElement.setAttribute("stroke-dasharray", '4,5');
        this.borderElement.setAttribute("opacity", '.5');
      }
    }
  }, {
    key: "elementBelongsToCurrentLayer",
    value: function elementBelongsToCurrentLayer() {
      return this.parent.id.includes(this.Canvas.params.currentLayer);
    }
  }, {
    key: "showCornerElements",
    value: function showCornerElements() {
      if (this.elementBelongsToCurrentLayer() && this.drawingApp.currentToolIs('drag')) {
        this.cornerElements.forEach(function (cornerElement) {
          cornerElement.show();
        });
      }
    }
  }, {
    key: "hideHelperElements",
    value: function hideHelperElements() {
      this.hideBorderElement();
      this.hideCornerElements();
    }
  }, {
    key: "hideBorderElement",
    value: function hideBorderElement() {
      this.borderElement.setAttribute("stroke", "none");
      this.borderElement.setAttribute("opacity", '');
    }
  }, {
    key: "hideCornerElements",
    value: function hideCornerElements() {
      this.cornerElements.forEach(function (cornerElement) {
        cornerElement.hide();
      });
    }
  }, {
    key: "toggleLock",
    value: function toggleLock() {
      this.shapeGroup.element.classList.toggle("draggable");
      this.shapeGroup.element.classList.toggle("locked");
    }
  }, {
    key: "isLocked",
    value: function isLocked() {
      return !this.shapeGroup.element.classList.contains("draggable");
    }
  }, {
    key: "toggleHide",
    value: function toggleHide() {
      if (this.isHidden()) {
        this.shapeGroup.show();
      } else {
        this.shapeGroup.hide();
      }
    }
  }, {
    key: "isHidden",
    value: function isHidden() {
      return this.shapeGroup.element.style.display === "none";
    }
  }, {
    key: "remove",
    value: function remove() {
      var _this$marker;
      this.shapeGroup.remove();
      (_this$marker = this.marker) === null || _this$marker === void 0 ? void 0 : _this$marker.remove();
      if (this.parent.childElementCount === 0) this.showExplainerForLayer();
      delete this;
    }
  }, {
    key: "getSidebarEntry",
    value: function getSidebarEntry() {
      return this.sidebarEntry;
    }
  }, {
    key: "setSidebarEntry",
    value: function setSidebarEntry(entry) {
      this.sidebarEntry = entry;
    }
  }, {
    key: "cancelConstruction",
    value: function cancelConstruction() {
      this.getSidebarEntry().remove();
    }
  }, {
    key: "onDrawStart",
    value: function onDrawStart(evt, cursor) {
      var _this$mainElement$onD, _this$mainElement, _this$onDrawStartShap;
      (_this$mainElement$onD = (_this$mainElement = this.mainElement).onDrawStart) === null || _this$mainElement$onD === void 0 ? void 0 : _this$mainElement$onD.call(_this$mainElement, evt, cursor);
      (_this$onDrawStartShap = this.onDrawStartShapeSpecific) === null || _this$onDrawStartShap === void 0 ? void 0 : _this$onDrawStartShap.call(this, evt, cursor);
    }
  }, {
    key: "onDraw",
    value: function onDraw(evt, cursor) {
      var _this$mainElement$onD2, _this$mainElement2, _this$onDrawShapeSpec;
      (_this$mainElement$onD2 = (_this$mainElement2 = this.mainElement).onDraw) === null || _this$mainElement$onD2 === void 0 ? void 0 : _this$mainElement$onD2.call(_this$mainElement2, evt, cursor);
      (_this$onDrawShapeSpec = this.onDrawShapeSpecific) === null || _this$onDrawShapeSpec === void 0 ? void 0 : _this$onDrawShapeSpec.call(this, evt, cursor);
      this.updateHelperElements();
    }
  }, {
    key: "onDrawEnd",
    value: function onDrawEnd(evt, cursor) {
      var _this$onDrawEndShapeS;
      (_this$onDrawEndShapeS = this.onDrawEndShapeSpecific) === null || _this$onDrawEndShapeS === void 0 ? void 0 : _this$onDrawEndShapeS.call(this, evt, cursor);
      this.updateHelperElements();
      this.showBorderElement();
      this.addHighlightEvents();
    }
  }, {
    key: "onDragStart",
    value: function onDragStart(evt, cursor) {
      var _this$mainElement$onD3, _this$mainElement3;
      this.shapeGroup.element.classList.add("dragging");
      this.shapeGroup.element.parentElement.classList.add("child-dragging");
      (_this$mainElement$onD3 = (_this$mainElement3 = this.mainElement).onDragStart) === null || _this$mainElement$onD3 === void 0 ? void 0 : _this$mainElement$onD3.call(_this$mainElement3, evt, cursor);
    }
  }, {
    key: "onDrag",
    value: function onDrag(evt, cursor) {
      this.mainElement.onDrag(evt, cursor);
      this.updateHelperElements();
    }
  }, {
    key: "onDragEnd",
    value: function onDragEnd() {
      this.shapeGroup.element.classList.remove("dragging");
      this.shapeGroup.element.parentElement.classList.remove("child-dragging");
    }
  }, {
    key: "onResizeStart",
    value: function onResizeStart(evt, cursor) {
      this.mainElement.onResizeStart(evt, cursor);
    }
  }, {
    key: "onResize",
    value: function onResize(evt, cursor) {
      this.mainElement.onResize(evt, cursor);
      this.updateHelperElements();
    }
  }, {
    key: "addHighlightEvents",
    value: function addHighlightEvents() {
      var _this2 = this;
      if (!this.withHighlightEvents) return;
      this.updateHelperElements();
      var settings = [{
        element: this.shapeGroup,
        events: {
          "mouseenter touchstart": {
            callback: function callback() {
              _this2.highlight();
              _this2.getSidebarEntry().highlight();
            }
          },
          "mouseleave touchend": {
            callback: function callback() {
              _this2.unhighlight();
              _this2.getSidebarEntry().unhighlight();
            }
          },
          "click touchstart": {
            callback: function callback(evt) {
              if (evt.isTrusted === false) return;
              _this2.highlight();
              _this2.Canvas.setFocusedShape(_this2);
            }
          }
        }
      }];
      this.drawingApp.bindEventListeners(settings, this);
    }
  }, {
    key: "getElemBoundaries",
    value: function getElemBoundaries() {
      return this.mainElement.getBoundingBox();
    }
  }, {
    key: "highlight",
    value: function highlight() {
      this.showBorderElement();
      this.showCornerElements();
    }
  }, {
    key: "unhighlight",
    value: function unhighlight() {
      this.hideBorderElement();
      this.hideCornerElements();
    }
  }, {
    key: "showExplainerForLayer",
    value: function showExplainerForLayer() {
      this.sidebarEntry.entryContainer.parentElement.querySelector('.explainer').style.display = 'inline-block';
    }
  }, {
    key: "meetsMinRequirements",
    value: function meetsMinRequirements() {
      return true;
    }
  }]);
  return svgShape;
}();
var Rectangle = /*#__PURE__*/function (_svgShape) {
  _inherits(Rectangle, _svgShape);
  var _super = _createSuper(Rectangle);
  /**
   * @param {number} shapeId The unique identifier the shape gets.
   * @param {?propObj} props
   * All properties (attributes) to be assigned to the shape,
   * when omitted the properties of the shape are loaded.
   * @param {?SVGElement} parent The parent the shape should be appended to.
   * @param drawingApp
   * @param Canvas
   * @param withHelperElements
   * @param withHighlightEvents
   */
  function Rectangle(shapeId, props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents) {
    _classCallCheck(this, Rectangle);
    return _super.call(this, shapeId, "rect", props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents);
  }
  _createClass(Rectangle, [{
    key: "setInputValuesOnEdit",
    value: function setInputValuesOnEdit() {
      this.setFillColorOnEdit();
      this.setOpacityInputValueOnEdit();
      this.setStrokeColorOnEdit();
      this.setStrokeWidthOnEdit();
    }
  }, {
    key: "setFillColorOnEdit",
    value: function setFillColorOnEdit() {
      var fillColor = this.mainElement.getAttribute("fill");
      var input = this.UI.fillColorRect;
      input.value = fillColor;
      input.style.cssText = "background-color: ".concat(fillColor, "; color: ").concat(fillColor, ";");
    }
  }, {
    key: "setStrokeColorOnEdit",
    value: function setStrokeColorOnEdit() {
      var strokeColor = this.mainElement.getAttribute("stroke");
      var input = this.UI.strokeColorRect;
      input.value = strokeColor;
      input.style.cssText = "border-color: ".concat(strokeColor);
    }
  }, {
    key: "setOpacityInputValueOnEdit",
    value: function setOpacityInputValueOnEdit() {
      var input = this.UI.fillOpacityNumberRect;
      input.value = this.mainElement.getAttribute("fill-opacity") * 100;
      input.dispatchEvent(new Event('input'));
    }
  }, {
    key: "setStrokeWidthOnEdit",
    value: function setStrokeWidthOnEdit() {
      this.UI.strokeWidthRect.value = this.mainElement.getAttribute("stroke-width");
    }
  }, {
    key: "updateFillColor",
    value: function updateFillColor() {
      this.mainElement.setAttribute("fill", this.UI.fillColorRect.value);
    }
  }, {
    key: "updateStrokeWidth",
    value: function updateStrokeWidth() {
      this.mainElement.setAttribute("stroke-width", this.UI.strokeWidthRect.value);
    }
  }, {
    key: "updateOpacity",
    value: function updateOpacity() {
      var opacity = parseFloat(this.UI.fillOpacityNumberRect.value / 100);
      this.mainElement.setAttribute("opacity", opacity);
      this.mainElement.setAttribute("fill-opacity", opacity);
    }
  }, {
    key: "updateStrokeColor",
    value: function updateStrokeColor() {
      this.mainElement.setAttribute("stroke", this.UI.strokeColorRect.value);
    }
  }, {
    key: "meetsMinRequirements",
    value: function meetsMinRequirements() {
      var bbox = this.mainElement.getBoundingBox();
      return bbox.width >= 8 && bbox.height >= 8;
    }
  }], [{
    key: "getMainElementAttributes",
    value: function getMainElementAttributes(cursorPosition, UI) {
      return {
        "x": cursorPosition.x,
        "y": cursorPosition.y,
        "width": 0,
        "height": 0,
        "fill": UI.fillOpacityNumberRect.value === 0 ? "none" : UI.fillColorRect.value,
        "fill-opacity": parseFloat(UI.fillOpacityNumberRect.value / 100),
        "stroke": UI.strokeColorRect.value,
        "stroke-width": UI.strokeWidthRect.value,
        "opacity": parseFloat(UI.fillOpacityNumberRect.value / 100)
      };
    }
  }]);
  return Rectangle;
}(svgShape);
var Circle = /*#__PURE__*/function (_svgShape2) {
  _inherits(Circle, _svgShape2);
  var _super2 = _createSuper(Circle);
  /**
   * @param {number} shapeId The unique identifier the shape gets.
   * @param {?propObj} props
   * All properties (attributes) to be assigned to the shape,
   * when omitted the properties of the shape are loaded.
   * @param {?SVGElement} parent The parent the shape should be appended to.
   * @param drawingApp
   * @param Canvas
   * @param withHelperElements
   * @param withHighlightEvents
   */
  function Circle(shapeId, props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents) {
    _classCallCheck(this, Circle);
    return _super2.call(this, shapeId, "circle", props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents);
  }
  _createClass(Circle, [{
    key: "setInputValuesOnEdit",
    value: function setInputValuesOnEdit() {
      this.setFillColorOnEdit();
      this.setOpacityInputValueOnEdit();
      this.setStrokeColorOnEdit();
      this.setStrokeWidthOnEdit();
    }
  }, {
    key: "setFillColorOnEdit",
    value: function setFillColorOnEdit() {
      var fillColor = this.mainElement.getAttribute("fill");
      var input = this.UI.fillColorCircle;
      input.value = fillColor;
      input.style.cssText = "background-color: ".concat(fillColor, "; color: ").concat(fillColor, ";");
    }
  }, {
    key: "setStrokeColorOnEdit",
    value: function setStrokeColorOnEdit() {
      var strokeColor = this.mainElement.getAttribute("stroke");
      var input = this.UI.strokeColorCircle;
      input.value = strokeColor;
      input.style.cssText = "border-color: ".concat(strokeColor);
    }
  }, {
    key: "setOpacityInputValueOnEdit",
    value: function setOpacityInputValueOnEdit() {
      var input = this.UI.fillOpacityNumberCircle;
      input.value = this.mainElement.getAttribute("fill-opacity") * 100;
      input.dispatchEvent(new Event('input'));
    }
  }, {
    key: "setStrokeWidthOnEdit",
    value: function setStrokeWidthOnEdit() {
      this.UI.strokeWidthCircle.value = this.mainElement.getAttribute("stroke-width");
    }
  }, {
    key: "updateFillColor",
    value: function updateFillColor() {
      this.mainElement.setAttribute("fill", this.UI.fillColorCircle.value);
    }
  }, {
    key: "updateStrokeWidth",
    value: function updateStrokeWidth() {
      this.mainElement.setAttribute("stroke-width", this.UI.strokeWidthCircle.value);
    }
  }, {
    key: "updateOpacity",
    value: function updateOpacity() {
      var opacity = parseFloat(this.UI.fillOpacityNumberCircle.value / 100);
      this.mainElement.setAttribute("opacity", opacity);
      this.mainElement.setAttribute("fill-opacity", opacity);
    }
  }, {
    key: "updateStrokeColor",
    value: function updateStrokeColor() {
      this.mainElement.setAttribute("stroke", this.UI.strokeColorCircle.value);
    }
  }, {
    key: "meetsMinRequirements",
    value: function meetsMinRequirements() {
      return this.mainElement.getAttribute("r") >= 4;
    }
  }], [{
    key: "getMainElementAttributes",
    value: function getMainElementAttributes(cursorPosition, UI) {
      return {
        "cx": cursorPosition.x,
        "cy": cursorPosition.y,
        "r": 0,
        "fill": UI.fillOpacityNumberCircle.value === 0 ? "none" : UI.fillColorCircle.value,
        "fill-opacity": parseFloat(UI.fillOpacityNumberCircle.value / 100),
        "stroke": UI.strokeColorCircle.value,
        "stroke-width": UI.strokeWidthCircle.value,
        "opacity": parseFloat(UI.fillOpacityNumberCircle.value / 100)
      };
    }
  }]);
  return Circle;
}(svgShape);
var Line = /*#__PURE__*/function (_svgShape3) {
  _inherits(Line, _svgShape3);
  var _super3 = _createSuper(Line);
  /**
   * @param {number} shapeId The unique identifier the shape gets.
   * @param {?propObj} props
   * All properties (attributes) to be assigned to the shape,
   * when omitted the properties of the shape are loaded.
   * @param {?SVGElement} parent The parent the shape should be appended to.
   * @param drawingApp
   * @param Canvas
   * @param withHelperElements
   * @param withHighlightEvents
   */
  function Line(shapeId, props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents) {
    var _this3;
    _classCallCheck(this, Line);
    _this3 = _super3.call(this, shapeId, "line", props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents);
    _this3.svgCanvas = drawingApp.params.root.querySelector('#svg-canvas');
    _this3.makeOwnMarkerForThisShape();
    return _this3;
  }
  _createClass(Line, [{
    key: "editOwnMarkerForThisShape",
    value: function editOwnMarkerForThisShape() {
      this.makeOwnMarkerForThisShape(true);
    }
  }, {
    key: "makeOwnMarkerForThisShape",
    value: function makeOwnMarkerForThisShape() {
      var editing = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      var markerType = editing ? this.getCurrentActiveMarkerType() : this.getMarkerType();
      if (markerType === "no-endmarker") {
        var _this$marker2;
        (_this$marker2 = this.marker) === null || _this$marker2 === void 0 ? void 0 : _this$marker2.remove();
        this.marker = null;
        this.props.main["marker-end"] = "url(#svg-no-endmarker-line)";
        this.mainElement.setAttributeOnElementWithValidation("marker-end", "url(#svg-no-endmarker-line)");
        return;
      }
      var newMarker = this.cloneGenericMarker(markerType);
      this.svgCanvas.firstElementChild.appendChild(newMarker);
      var newMarkerId = "".concat(newMarker.id, "-line-").concat(this.shapeId);
      this.deletePreviousMarker(newMarkerId);
      newMarker.id = newMarkerId;
      this.props.main["marker-end"] = "url(#".concat(newMarkerId, ")");
      this.mainElement.setAttributeOnElementWithValidation("marker-end", "url(#".concat(newMarkerId, ")"));
      var propertyToChange = this.getPropertyToChange(markerType);
      newMarker.style[propertyToChange] = this.props.main.stroke;
      this.parent.appendChild(newMarker);
      this.marker = newMarker;
    }
  }, {
    key: "getMarkerType",
    value: function getMarkerType() {
      var type = this.props.main["marker-end"];
      return type.substring(type.indexOf("svg-") + 4, type.lastIndexOf("-line"));
    }
  }, {
    key: "getCurrentActiveMarkerType",
    value: function getCurrentActiveMarkerType() {
      return this.drawingApp.params.endmarkerType;
    }
  }, {
    key: "cloneGenericMarker",
    value: function cloneGenericMarker(type) {
      var markerToClone = this.root.querySelector("marker#svg-".concat(type));
      return markerToClone.cloneNode(true);
    }
  }, {
    key: "deletePreviousMarker",
    value: function deletePreviousMarker(newMarkerId) {
      var previousMarker = this.root.querySelectorAll("marker#".concat(newMarkerId));
      previousMarker.forEach(function (marker) {
        marker.remove();
      });
    }
  }, {
    key: "getPropertyToChange",
    value: function getPropertyToChange(type) {
      switch (type) {
        case "filled-arrow":
        case "filled-dot":
          return "fill";
        case "two-lines-arrow":
          return "stroke";
      }
    }
  }, {
    key: "updateMarkerColor",
    value: function updateMarkerColor() {
      if (!this.marker) return;
      var propertyToChange = this.getPropertyToChange(this.getMarkerType());
      this.marker.style[propertyToChange] = this.UI.penColorLine.value;
    }
  }, {
    key: "setInputValuesOnEdit",
    value: function setInputValuesOnEdit() {
      this.setLineColorOnEdit();
      this.setLineWidthOnEdit();
      this.setEndMarkerOnEdit();
    }
  }, {
    key: "setLineColorOnEdit",
    value: function setLineColorOnEdit() {
      var lineColor = this.mainElement.getAttribute("stroke");
      var input = this.UI.penColorLine;
      input.value = lineColor;
      input.style.cssText = "background-color: ".concat(lineColor, "; color: ").concat(lineColor, ";");
    }
  }, {
    key: "setLineWidthOnEdit",
    value: function setLineWidthOnEdit() {
      this.UI.penWidthLine.value = this.mainElement.getAttribute("stroke-width");
    }
  }, {
    key: "setEndMarkerOnEdit",
    value: function setEndMarkerOnEdit() {
      var _this$root$querySelec, _this$root$querySelec2;
      var markerType = this.getMarkerType();
      (_this$root$querySelec = this.root.querySelector('.endmarker-type.active')) === null || _this$root$querySelec === void 0 ? void 0 : _this$root$querySelec.classList.remove('active');
      (_this$root$querySelec2 = this.root.querySelector(".endmarker-type#".concat(markerType))) === null || _this$root$querySelec2 === void 0 ? void 0 : _this$root$querySelec2.classList.add('active');
    }
  }, {
    key: "updatePenWidth",
    value: function updatePenWidth() {
      this.mainElement.setAttribute("stroke-width", this.UI.penWidthLine.value);
    }
  }, {
    key: "updatePenColor",
    value: function updatePenColor() {
      this.mainElement.setAttribute("stroke", this.UI.penColorLine.value);
      this.updateMarkerColor();
    }
  }, {
    key: "meetsMinRequirements",
    value: function meetsMinRequirements() {
      return this.mainElement.element.getTotalLength() >= 10;
    }
  }], [{
    key: "getMainElementAttributes",
    value: function getMainElementAttributes(cursorPosition, UI, params) {
      return {
        "x1": cursorPosition.x,
        "y1": cursorPosition.y,
        "x2": cursorPosition.x,
        "y2": cursorPosition.y,
        "marker-end": "url(#svg-".concat(params.endmarkerType, "-line)"),
        "stroke": UI.penColorLine.value,
        "stroke-width": UI.penWidthLine.value
      };
    }
  }]);
  return Line;
}(svgShape);
var Text = /*#__PURE__*/function (_svgShape4) {
  _inherits(Text, _svgShape4);
  var _super4 = _createSuper(Text);
  /**
   * @param {number} shapeId The unique identifier the shape gets.
   * @param {?propObj} props
   * All properties (attributes) to be assigned to the shape,
   * when omitted the properties of the shape are loaded.
   * @param {?SVGElement} parent The parent the shape should be appended to.
   * @param drawingApp
   * @param Canvas
   * @param withHelperElements
   * @param withHighlightEvents
   */
  function Text(shapeId, props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents) {
    var _this4;
    _classCallCheck(this, Text);
    _this4 = _super4.call(this, shapeId, "text", props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents);
    _this4.mainElement.setTextContent(_this4.props.main["data-textcontent"]);
    _this4.mainElement.setFontFamily('Nunito');
    _this4.registerEditingEvents();
    return _this4;
  }
  _createClass(Text, [{
    key: "updateTextColor",
    value: function updateTextColor() {
      this.mainElement.setAttribute("fill", this.UI.textColor.value);
    }
  }, {
    key: "updateBoldText",
    value: function updateBoldText() {
      this.mainElement.element.style.fontWeight = this.drawingApp.params.boldText ? 'bold' : 'normal';
      this.updateHelperElements();
    }
  }, {
    key: "updateTextSize",
    value: function updateTextSize() {
      this.mainElement.element.style.fontSize = "".concat(this.UI.textSize.value / 16, "rem");
      this.updateHelperElements();
    }
  }, {
    key: "updateOpacity",
    value: function updateOpacity() {
      this.mainElement.setAttribute("opacity", parseFloat(this.UI.elemOpacityNumber.value / 100));
    }
  }, {
    key: "onDrawEndShapeSpecific",
    value: function onDrawEndShapeSpecific(evt, cursor) {
      var _this5 = this;
      var windowCursor = this.drawingApp.convertCanvas2DomCoordinates(cursor);
      var canvasContainer = this.root.querySelector("#svg-canvas").parentElement;
      var fontSize = parseFloat(this.mainElement.element.style.fontSize);
      var topOffset = fontSize * parseFloat(getComputedStyle(document.documentElement).fontSize);
      var textInput = new _htmlElement_js__WEBPACK_IMPORTED_MODULE_2__.htmlElement("input", canvasContainer, {
        id: "add-text-input",
        type: "text",
        placeholder: "Type here...",
        style: "width: ".concat(canvasContainer.getBoundingClientRect().right - windowCursor.x, "px;                position: absolute;                top: ").concat(windowCursor.y - topOffset, "px;                left: ").concat(windowCursor.x - 2, "px;                font-size: ").concat(fontSize, "rem;                color: ").concat(this.mainElement.getAttribute("fill"), ";                font-weight: ").concat(this.mainElement.element.style.fontWeight || "normal", ";                transform-origin: bottom left;                transform: scale(").concat(this.Canvas.params.zoomFactor, ")"),
        autocomplete: "off",
        spellcheck: "false"
      });
      textInput.focus();
      textInput.addEventListener("focusout", function () {
        var text = textInput.element.value;
        textInput.deleteElement();
        textInput.element.style.display = 'none';
        if (text.length === 0) {
          _this5.cancelConstruction();
          return;
        }
        _this5.mainElement.setTextContent(text, false);
        _this5.mainElement.setFontFamily('Nunito');
        _this5.updateBorderElement();
        _this5.updateCornerElements();
      });
    }
  }, {
    key: "registerEditingEvents",
    value: function registerEditingEvents() {
      var _this6 = this;
      var element = this.shapeGroup.element;
      ['touchenter', 'mouseenter'].forEach(function (evt) {
        return element.addEventListener(evt, function () {
          var activeTool = _this6.root.querySelector('[data-button-group=tool].active');
          var dragIsActive = activeTool.id.split('-')[0] === 'drag';
          if (element.classList.contains('editing') && !dragIsActive) {
            activateTextEditing(_this6);
          } else {
            returnTextToNormal(_this6, dragIsActive);
          }
        }, false);
      });
      ['touchleave', 'mouseleave'].forEach(function (evt) {
        return element.addEventListener(evt, function () {
          _this6.Canvas.params.editingTextInZone = false;
        }, false);
      });
      ['touchstart', 'mousedown'].forEach(function (evt) {
        return element.addEventListener(evt, function () {
          if (!element.classList.contains('editing') || !_this6.Canvas.params.editingTextInZone) return;
          handleEditTextClick(_this6);
        }, false);
      });
      function returnTextToNormal(thisClass, dragIsActive) {
        if (dragIsActive) {
          element.style.cursor = 'move';
        } else {
          element.style.cursor = 'crosshair';
        }
        thisClass.Canvas.params.editingTextInZone = false;
      }
      function activateTextEditing(thisClass) {
        element.style.cursor = 'text';
        thisClass.Canvas.params.editingTextInZone = true;
      }
      function handleEditTextClick(thisClass) {
        var textElement = thisClass.mainElement.element;
        var coordinates = thisClass.drawingApp.convertCanvas2DomCoordinates({
          x: textElement.getAttribute('x'),
          y: textElement.getAttribute('y')
        });
        var textInput = makeTextInput(thisClass, textElement, coordinates);
        textInput.element.value = textElement.textContent;
        textElement.textContent = '';
        textElement.parentElement.style.display = 'none';
        textInput.focus();
        addInputEventListeners(thisClass, textInput, textElement);
      }
      function makeTextInput(thisClass, textElement, coordinates) {
        var canvasContainer = thisClass.root.querySelector("#svg-canvas").parentElement;
        var fontSize = parseFloat(textElement.style.fontSize);
        var topOffset = fontSize * parseFloat(getComputedStyle(document.documentElement).fontSize);
        var textInput = new _htmlElement_js__WEBPACK_IMPORTED_MODULE_2__.htmlElement("input", canvasContainer, {
          id: "edit-text-input",
          type: "text",
          style: "width: ".concat(textElement.getBoundingClientRect().width, "px;                    position: absolute;                    top: ").concat(coordinates.y - topOffset, "px;                    left: ").concat(coordinates.x, "px;                    font-size: ").concat(fontSize, "rem;                    color: ").concat(textElement.getAttribute("fill"), ";                    opacity: ").concat(textElement.getAttribute("opacity"), ";                    font-weight: ").concat(textElement.style.fontWeight || "normal", ";                    transform-origin: bottom left;                    transform: scale(").concat(thisClass.Canvas.params.zoomFactor, ")"),
          autocomplete: "off",
          spellcheck: "false"
        });
        return textInput;
      }
      function addInputEventListeners(thisClass, textInput, textElement) {
        textInput.addEventListener('input', function () {
          textInput.element.style.width = "".concat(textInput.element.value.length + 1, "ch");
        }, false);
        textInput.addEventListener("focusout", function () {
          var text = textInput.element.value;
          textInput.deleteElement();
          textInput.element.style.display = 'none';
          if (text.length === 0) {
            thisClass.cancelConstruction();
            return;
          }
          textElement.textContent = text;
          thisClass.updateBorderElement();
          thisClass.updateCornerElements();
          textElement.parentElement.style = '';
        });
      }
    }
  }, {
    key: "setInputValuesOnEdit",
    value: function setInputValuesOnEdit() {
      this.setTextColorOnEdit();
      this.setTextSizeOnEdit();
      this.setBoldTextOnEdit();
      this.setOpacityInputValueOnEdit();
    }
  }, {
    key: "setTextColorOnEdit",
    value: function setTextColorOnEdit() {
      var textColor = this.mainElement.getAttribute("fill");
      var input = this.UI.textColor;
      input.value = textColor;
      input.style.cssText = "background-color: ".concat(textColor, "; color: ").concat(textColor, ";");
    }
  }, {
    key: "setTextSizeOnEdit",
    value: function setTextSizeOnEdit() {
      this.UI.textSize.value = parseFloat(this.mainElement.element.style.fontSize) * 16;
    }
  }, {
    key: "setBoldTextOnEdit",
    value: function setBoldTextOnEdit() {
      var isBold = this.mainElement.element.style.fontWeight === 'bold';
      this.drawingApp.params.boldText = this.UI.boldText.checked = isBold;
      if (isBold) {
        this.UI.boldToggleButton.classList.add('active');
      } else {
        this.UI.boldToggleButton.classList.remove('active');
      }
    }
  }, {
    key: "setOpacityInputValueOnEdit",
    value: function setOpacityInputValueOnEdit() {
      var input = this.UI.elemOpacityNumber;
      input.value = this.mainElement.getAttribute("opacity") * 100;
      input.dispatchEvent(new Event('input'));
    }
  }], [{
    key: "getMainElementAttributes",
    value: function getMainElementAttributes(cursorPosition, UI, params) {
      return {
        "x": cursorPosition.x,
        "y": cursorPosition.y,
        "fill": UI.textColor.value,
        "stroke-width": 0,
        "opacity": parseFloat(UI.elemOpacityNumber.value / 100),
        "style": "".concat(params.boldText ? "font-weight: bold;" : "", " font-size: ").concat(UI.textSize.value / 16, "rem")
      };
    }
  }]);
  return Text;
}(svgShape);
var Image = /*#__PURE__*/function (_svgShape5) {
  _inherits(Image, _svgShape5);
  var _super5 = _createSuper(Image);
  /**
   * @param {number} shapeId The unique identifier the shape gets.
   * @param {?propObj} props
   * All properties (attributes) to be assigned to the shape,
   * when omitted the properties of the shape are loaded.
   * @param {?SVGElement} parent The parent the shape should be appended to.
   * @param drawingApp
   * @param Canvas
   * @param withHelperElements
   * @param withHighlightEvents
   */
  function Image(shapeId, props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents) {
    _classCallCheck(this, Image);
    return _super5.call(this, shapeId, "image", props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents);
  }
  _createClass(Image, [{
    key: "moveToCenter",
    value: function moveToCenter() {
      var bbox = this.mainElement.getBoundingBox();
      this.mainElement.setX(-bbox.width / 2);
      this.mainElement.setY(-bbox.height / 2);
    }
  }]);
  return Image;
}(svgShape);
var Path = /*#__PURE__*/function (_svgShape6) {
  _inherits(Path, _svgShape6);
  var _super6 = _createSuper(Path);
  /**
   * @param {number} shapeId The unique identifier the shape gets.
   * @param {?propObj} props
   * All properties (attributes) to be assigned to the shape,
   * when omitted the properties of the shape are loaded.
   * @param {?SVGElement} parent The parent the shape should be appended to.
   * @param drawingApp
   * @param Canvas
   * @param withHelperElements
   * @param withHighlightEvents
   */
  function Path(shapeId, props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents) {
    _classCallCheck(this, Path);
    return _super6.call(this, shapeId, "path", props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents);
  }
  _createClass(Path, [{
    key: "updatePenWidth",
    value: function updatePenWidth() {
      this.mainElement.setAttribute("stroke-width", this.UI.penWidthFreehand.value);
    }
  }, {
    key: "updatePenColor",
    value: function updatePenColor() {
      this.mainElement.setAttribute("stroke", this.UI.penColorFreehand.value);
    }
  }, {
    key: "meetsMinRequirements",
    value: function meetsMinRequirements() {
      return this.mainElement.element.getTotalLength() >= 10;
    }
  }], [{
    key: "getMainElementAttributes",
    value: function getMainElementAttributes(cursorPosition, UI) {
      return {
        "d": "M ".concat(cursorPosition.x, ",").concat(cursorPosition.y),
        "fill": "none",
        "stroke": UI.penColorFreehand.value,
        "stroke-width": UI.penWidthFreehand.value
      };
    }
  }]);
  return Path;
}(svgShape);
var Grid = /*#__PURE__*/function (_Path) {
  _inherits(Grid, _Path);
  var _super7 = _createSuper(Grid);
  /**
   * @param {number} shapeId The unique identifier the shape gets.
   * @param {?propObj} props
   * All properties (attributes) to be assigned to the shape,
   * when omitted the properties of the shape are loaded.
   * @param {HTMLElement} parent The parent the shape should be appended to.
   * @param drawingApp
   * @param Canvas
   */
  function Grid(shapeId, props, parent, drawingApp, Canvas) {
    var _this7;
    _classCallCheck(this, Grid);
    _this7 = _super7.call(this, shapeId, props, parent, drawingApp, Canvas, false);
    _this7.origin = new _svgElement_js__WEBPACK_IMPORTED_MODULE_1__.Path(_this7.props.origin);
    _this7.setDAttributes(_this7.calculateDAttributeForGrid(_this7.props.size), _this7.calculateDAttributeForOrigin(_this7.props.size));
    _this7.shapeGroup.element.appendChild(_this7.origin.element);
    _this7.shapeGroup.element.classList.remove("draggable");
    _this7.shapeGroup.setAttribute("id", "grid");
    return _this7;
  }
  _createClass(Grid, [{
    key: "show",
    value: function show() {
      this.shapeGroup.show();
    }
  }, {
    key: "hide",
    value: function hide() {
      this.shapeGroup.hide();
    }
  }, {
    key: "setDAttributes",
    value: function setDAttributes(dGrid, dOrigin) {
      this.mainElement.setAttribute("d", dGrid);
      this.origin.setAttribute("d", dOrigin);
    }
  }, {
    key: "update",
    value: function update(gridSize) {
      var size = gridSize ? gridSize : this.drawingApp.params.gridSize;
      this.setDAttributes(this.calculateDAttributeForGrid(size), this.calculateDAttributeForOrigin(size));
    }
  }, {
    key: "calculateDAttributeForGrid",
    value: function calculateDAttributeForGrid(size) {
      var bounds = {};
      if (this.Canvas !== null) {
        bounds = this.Canvas.params.bounds;
      }
      if (Object.keys(bounds).length === 0) {
        bounds = calculatePreviewBounds(this.parent.parentElement);
      }
      var interval = size * _constants_js__WEBPACK_IMPORTED_MODULE_0__.pixelsPerCentimeter,
        lineAmount = this.calculateAmountOfGridLines(interval, bounds);
      var strOfPoints = "";
      //Verticaal
      for (var i = -lineAmount.left; i <= lineAmount.right; i++) {
        strOfPoints += "M".concat(interval * i, ",").concat(bounds.top, "v").concat(bounds.height, " ");
      }
      //Horizontaal
      for (var j = -lineAmount.top; j <= lineAmount.bottom; j++) {
        strOfPoints += "M".concat(bounds.left, ",").concat(interval * j, "h").concat(bounds.width, " ");
      }
      return strOfPoints;
    }
  }, {
    key: "calculateDAttributeForOrigin",
    value: function calculateDAttributeForOrigin(size) {
      var spokeLength = size * _constants_js__WEBPACK_IMPORTED_MODULE_0__.pixelsPerCentimeter / 2;
      return "M-".concat(spokeLength, ",", 0, "l").concat(spokeLength * 2, ",0m-").concat(spokeLength, ",-").concat(spokeLength, "l0,").concat(spokeLength * 2);
    }
  }, {
    key: "calculateAmountOfGridLines",
    value: function calculateAmountOfGridLines(interval, bounds) {
      return {
        left: Math.trunc(Math.abs(bounds.left) / interval),
        right: Math.trunc(Math.abs(bounds.right) / interval),
        top: Math.trunc(Math.abs(bounds.top) / interval),
        bottom: Math.trunc(Math.abs(bounds.bottom) / interval)
      };
    }
  }]);
  return Grid;
}(Path);
var Freehand = /*#__PURE__*/function (_Path2) {
  _inherits(Freehand, _Path2);
  var _super8 = _createSuper(Freehand);
  /**
   * @param {number} shapeId The unique identifier the shape gets.
   * @param {?propObj} props
   * All properties (attributes) to be assigned to the shape,
   * when omitted the properties of the shape are loaded.
   * @param {?SVGElement} parent The parent the shape should be appended to.
   * @param drawingApp
   * @param Canvas
   * @param withHelperElements
   * @param withHighlightEvents
   */
  function Freehand(shapeId, props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents) {
    var _this8;
    _classCallCheck(this, Freehand);
    _this8 = _super8.call(this, shapeId, props, parent, drawingApp, Canvas, withHelperElements, withHighlightEvents);
    _this8.shapeGroup.setAttribute("id", "freehand-".concat(shapeId));
    return _this8;
  }
  _createClass(Freehand, [{
    key: "setInputValuesOnEdit",
    value: function setInputValuesOnEdit() {
      this.setPathColorOnEdit();
      this.setPathWidthOnEdit();
    }
  }, {
    key: "setPathColorOnEdit",
    value: function setPathColorOnEdit() {
      var pathColor = this.mainElement.getAttribute("stroke");
      var input = this.UI.penColorFreehand;
      input.value = pathColor;
      input.style.cssText = "background-color: ".concat(pathColor, "; color: ").concat(pathColor, ";");
    }
  }, {
    key: "setPathWidthOnEdit",
    value: function setPathWidthOnEdit() {
      this.UI.penWidthFreehand.value = this.mainElement.getAttribute("stroke-width");
    }
  }]);
  return Freehand;
}(Path);

/***/ }),

/***/ "./resources/js/drawing/uiElements.js":
/*!********************************************!*\
  !*** ./resources/js/drawing/uiElements.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UIElements: () => (/* binding */ UIElements),
/* harmony export */   warningBox: () => (/* binding */ warningBox)
/* harmony export */ });
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
var UIElements = /*#__PURE__*/function () {
  function UIElements(rootElement) {
    _classCallCheck(this, UIElements);
    var _iterator = _createForOfIteratorHelper(rootElement.querySelector("#drawing-tool").parentElement.querySelectorAll('[id]:not([id=""])')),
      _step;
    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var node = _step.value;
        this[this.convertIdToCamelCase(node.id)] = node;
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
  }
  /**
   * Converts id parameter to camelCase, i.e. removes all dashes and converts the first character after every dash to upper case.
   * @example "example-btn-to-explain" becomes "exampleBtnToExplain"
   * @param {string} id The id string to be converted.
   * @returns The converted id string.
   */
  _createClass(UIElements, [{
    key: "convertIdToCamelCase",
    value: function convertIdToCamelCase(id) {
      return id.replace(/^([A-Z])|[\s-_]+(\w)/g, function (match, p1, p2, offset) {
        if (p2) return p2.toUpperCase();
        return p1.toLowerCase();
      });
    }
  }]);
  return UIElements;
}();
var warningBox = /*#__PURE__*/function () {
  /**
   * Constructs a warning box that can be shown and hides automatically after a specified amount of time.
   * @param {string} content Text to be shown in the warning to inform the user.
   * @param {number} timeDisplayed How long the warning should be displayed (in milliseconds).
   */
  function warningBox() {
    var content = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
    var timeDisplayed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;
    var rootElement = arguments.length > 2 ? arguments[2] : undefined;
    _classCallCheck(this, warningBox);
    var parent = rootElement.querySelector("div#canvas-sidebar-container");
    var template = rootElement.querySelector("template#warningbox-template");
    var templateCopy = template.content.cloneNode(true);
    this.box = templateCopy.querySelector("div.warning");
    var textWrapper = this.box.querySelector("div.warning-text");
    textWrapper.append(content);
    parent.appendChild(this.box);
    this.displayTime = timeDisplayed;
  }
  /**
   * Shows the warning box, if no time is specified the time given at initialization is used.
   * @param {number} displayTime How long the warning should be displayed (in milliseconds).
   */
  _createClass(warningBox, [{
    key: "show",
    value: function show() {
      var _this = this;
      var displayTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.displayTime;
      this.box.style.top = "var(--top-value-visible)";
      setTimeout(function () {
        _this.box.style.top = "var(--top-value-hidden)";
      }, displayTime);
    }
  }]);
  return warningBox;
}();

/***/ }),

/***/ "./resources/js/drawing/unicodeBase64Polyfill.js":
/*!*******************************************************!*\
  !*** ./resources/js/drawing/unicodeBase64Polyfill.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   decode: () => (/* binding */ decode),
/* harmony export */   encode: () => (/* binding */ encode)
/* harmony export */ });
/**
 *
 *  Base64 encode / decode
 *  Original source: http://www.webtoolkit.info/
 *  Adapted for drawing question
 **/

var _keyStr = Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");

// public method for encoding
function encode(input) {
  var output = "";
  var chr1, chr2, chr3, enc1, enc2, enc3, enc4;
  var i = 0;
  input = _utf8_encode(input);
  while (i < input.length) {
    chr1 = input.charCodeAt(i++);
    chr2 = input.charCodeAt(i++);
    chr3 = input.charCodeAt(i++);
    enc1 = chr1 >> 2;
    enc2 = (chr1 & 3) << 4 | chr2 >> 4;
    enc3 = (chr2 & 15) << 2 | chr3 >> 6;
    enc4 = chr3 & 63;
    if (isNaN(chr2)) {
      enc3 = enc4 = 64;
    } else if (isNaN(chr3)) {
      enc4 = 64;
    }
    output += _keyStr[enc1] + _keyStr[enc2] + _keyStr[enc3] + _keyStr[enc4];
  }
  return output;
}

// public method for decoding
function decode(input) {
  if (!input) return "";
  var output = "";
  var chr1, chr2, chr3;
  var enc1, enc2, enc3, enc4;
  var i = 0;
  input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");
  while (i < input.length) {
    enc1 = _keyStr.indexOf(input.charAt(i++));
    enc2 = _keyStr.indexOf(input.charAt(i++));
    enc3 = _keyStr.indexOf(input.charAt(i++));
    enc4 = _keyStr.indexOf(input.charAt(i++));
    chr1 = enc1 << 2 | enc2 >> 4;
    chr2 = (enc2 & 15) << 4 | enc3 >> 2;
    chr3 = (enc3 & 3) << 6 | enc4;
    output += String.fromCharCode(chr1);
    if (enc3 !== 64) {
      output += String.fromCharCode(chr2);
    }
    if (enc4 !== 64) {
      output += String.fromCharCode(chr3);
    }
  }
  return _utf8_decode(output);
}

// private method for UTF-8 encoding
function _utf8_encode(string) {
  string = string.replace(/\r\n/g, "\n");
  var utftext = "";
  for (var n = 0; n < string.length; n++) {
    var c = string.charCodeAt(n);
    if (c < 128) {
      utftext += String.fromCharCode(c);
    } else if (c > 127 && c < 2048) {
      utftext += String.fromCharCode(c >> 6 | 192);
      utftext += String.fromCharCode(c & 63 | 128);
    } else {
      utftext += String.fromCharCode(c >> 12 | 224);
      utftext += String.fromCharCode(c >> 6 & 63 | 128);
      utftext += String.fromCharCode(c & 63 | 128);
    }
  }
  return utftext;
}

// private method for UTF-8 decoding
function _utf8_decode(utftext) {
  var string = "";
  var i = 0;
  var c, c2, c3;
  while (i < utftext.length) {
    c = utftext.charCodeAt(i);
    if (c < 128) {
      string += String.fromCharCode(c);
      i++;
    } else if (c > 191 && c < 224) {
      c2 = utftext.charCodeAt(i + 1);
      string += String.fromCharCode((c & 31) << 6 | c2 & 63);
      i += 2;
    } else {
      c2 = utftext.charCodeAt(i + 1);
      c3 = utftext.charCodeAt(i + 2);
      string += String.fromCharCode((c & 15) << 12 | (c2 & 63) << 6 | c3 & 63);
      i += 3;
    }
  }
  return string;
}


/***/ }),

/***/ "./resources/js/flatpickr.js":
/*!***********************************!*\
  !*** ./resources/js/flatpickr.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var flatpickr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! flatpickr */ "./node_modules/flatpickr/dist/esm/index.js");
/* harmony import */ var flatpickr_dist_l10n_nl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! flatpickr/dist/l10n/nl.js */ "./node_modules/flatpickr/dist/l10n/nl.js");
/* harmony import */ var flatpickr_dist_l10n_nl_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(flatpickr_dist_l10n_nl_js__WEBPACK_IMPORTED_MODULE_1__);


document.addEventListener("alpine:init", function () {
  Alpine.data("flatpickr", function (wireModel, mode, locale, minDate, dateFormat, altFormat, enableTime) {
    return {
      wireModel: wireModel,
      mode: mode,
      locale: locale,
      minDate: minDate,
      picker: null,
      init: function init() {
        var _this = this;
        this.picker = (0,flatpickr__WEBPACK_IMPORTED_MODULE_0__["default"])(this.$refs.datepickr, {
          locale: this.locale,
          minDate: minDate !== null && minDate !== void 0 ? minDate : false,
          mode: this.mode,
          defaultDate: this.wireModel,
          // The displayed format is humanreadable, the used date is Y-m-d formatted;
          altInput: true,
          altFormat: altFormat,
          dateFormat: dateFormat,
          enableTime: enableTime,
          onChange: function onChange(date, dateString) {
            _this.wireModel = _this.value = _this.mode == "range" ? dateString.split(" t/m ") : dateString; //split t/m or to
          },

          onOpen: function onOpen() {
            var _this$$root$parentEle;
            (_this$$root$parentEle = _this.$root.parentElement.querySelector("label")) === null || _this$$root$parentEle === void 0 ? void 0 : _this$$root$parentEle.classList.add("text-primary", "bold");
          },
          onClose: function onClose() {
            var _this$$root$parentEle2;
            (_this$$root$parentEle2 = _this.$root.parentElement.querySelector("label")) === null || _this$$root$parentEle2 === void 0 ? void 0 : _this$$root$parentEle2.classList.remove("text-primary", "bold");
          }
        });
      },
      clearPicker: function clearPicker() {
        this.picker.setDate("", false);
      }
    };
  });
});

/***/ }),

/***/ "./resources/js/livewire-sortablejs.js":
/*!*********************************************!*\
  !*** ./resources/js/livewire-sortablejs.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var sortablejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sortablejs */ "./node_modules/sortablejs/modular/sortable.esm.js");
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }

window.sortable = sortablejs__WEBPACK_IMPORTED_MODULE_0__["default"];
if (typeof window.Livewire === 'undefined') {
  throw 'Livewire Sortable.js Plugin: window.Livewire is undefined. Make sure @livewireScripts is placed above this script include';
}
window.Livewire.directive('sortable', function (el, directive, component) {
  // Only fire this handler on the "root" directive.
  if (directive.modifiers.length > 0) {
    return;
  }
  el.livewire_sortable = sortablejs__WEBPACK_IMPORTED_MODULE_0__["default"].create(el, {
    draggable: '[wire\\:sortable\\.item]',
    handle: el.querySelector('[wire\\:sortable\\.handle]') ? '[wire\\:sortable\\.handle]' : null,
    sort: true,
    dataIdAttr: 'wire:sortable.item',
    group: {
      name: el.getAttribute('wire:sortable'),
      pull: false,
      put: false
    },
    forceFallback: true,
    store: {
      set: function set(sortable) {
        var items = sortable.toArray().map(function (value, index) {
          return {
            order: index + 1,
            value: value
          };
        });
        component.call(directive.method, items);
      }
    },
    onStart: function onStart(evt) {
      if (evt.target.closest('.drawer')) {
        var chosen = evt.target.closest('.drawer').querySelector('.sortable-chosen');
        var groups = evt.target.closest('.drawer').querySelectorAll('.draggable-group');
        var _iterator = _createForOfIteratorHelper(groups),
          _step;
        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var group = _step.value;
            if (chosen && group != chosen) {
              group.classList.add('sortable-nogo');
              var elms = group.querySelectorAll('.drag-item');
              var _iterator3 = _createForOfIteratorHelper(elms),
                _step3;
              try {
                for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
                  var elm = _step3.value;
                  elm.classList.add('sortable-nogo');
                }
              } catch (err) {
                _iterator3.e(err);
              } finally {
                _iterator3.f();
              }
            }
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
        var dragging = evt.target.closest('.drawer').querySelector('.sortable-drag');
        var agroups = evt.target.closest('.drawer').querySelectorAll('.draggable-group');
        var _iterator2 = _createForOfIteratorHelper(agroups),
          _step2;
        try {
          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
            var _group = _step2.value;
            if (dragging && dragging == _group) {
              _group.classList.remove('sortable-nogo');
              var _elms = _group.querySelectorAll('.drag-item');
              var _iterator4 = _createForOfIteratorHelper(_elms),
                _step4;
              try {
                for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
                  var _elm = _step4.value;
                  _elm.classList.remove('sortable-nogo');
                }
              } catch (err) {
                _iterator4.e(err);
              } finally {
                _iterator4.f();
              }
            }
          }
        } catch (err) {
          _iterator2.e(err);
        } finally {
          _iterator2.f();
        }
      }
    },
    onEnd: function onEnd(evt) {
      if (evt.target.closest('.drawer')) {
        var nogos = evt.target.closest('.drawer').querySelectorAll('.sortable-nogo');
        var _iterator5 = _createForOfIteratorHelper(nogos),
          _step5;
        try {
          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {
            var nogo = _step5.value;
            nogo.classList.remove('sortable-nogo');
          }
        } catch (err) {
          _iterator5.e(err);
        } finally {
          _iterator5.f();
        }
      }
    }
  });
});
window.Livewire.directive('sortable-group', function (el, directive, component) {
  // Only fire this handler on the "root" group directive.
  if (!directive.modifiers.includes('item-group')) {
    return;
  }
  el.livewire_sortable = sortablejs__WEBPACK_IMPORTED_MODULE_0__["default"].create(el, {
    draggable: '[wire\\:sortable-group\\.item]',
    handle: el.querySelector('[wire\\:sortable-group\\.handle]') ? '[wire\\:sortable-group\\.handle]' : null,
    sort: true,
    dataIdAttr: 'wire:sortable-group.item',
    group: {
      name: el.closest('[wire\\:sortable-group]').getAttribute('wire:sortable-group'),
      pull: true,
      put: true
    },
    forceFallback: true,
    onSort: function onSort() {
      var masterEl = el.closest('[wire\\:sortable-group]');
      var groups = Array.from(masterEl.querySelectorAll('[wire\\:sortable-group\\.item-group]')).map(function (el, index) {
        return {
          order: index + 1,
          value: el.getAttribute('wire:sortable-group.item-group'),
          items: el.livewire_sortable.toArray().map(function (value, index) {
            return {
              order: index + 1,
              value: value
            };
          })
        };
      });
      component.call(masterEl.getAttribute('wire:sortable-group'), groups);
    },
    onStart: function onStart(evt) {
      if (evt.target.closest('.drawer')) {
        var items = evt.target.closest('.drawer').querySelectorAll('.drag-item');
        var _iterator6 = _createForOfIteratorHelper(items),
          _step6;
        try {
          for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {
            var _item = _step6.value;
            _item.classList.add('sortable-nogo');
            var elms = _item.querySelectorAll('.drag-item');
            var _iterator9 = _createForOfIteratorHelper(elms),
              _step9;
            try {
              for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {
                var elm = _step9.value;
                elm.classList.add('sortable-nogo');
              }
            } catch (err) {
              _iterator9.e(err);
            } finally {
              _iterator9.f();
            }
          }
        } catch (err) {
          _iterator6.e(err);
        } finally {
          _iterator6.f();
        }
        var okItems = evt.target.closest('.draggable-group').querySelectorAll('.drag-item');
        evt.target.closest('.draggable-group').classList.remove('sortable-nogo');
        var _iterator7 = _createForOfIteratorHelper(okItems),
          _step7;
        try {
          for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {
            var _item2 = _step7.value;
            _item2.classList.remove('sortable-nogo');
          }
        } catch (err) {
          _iterator7.e(err);
        } finally {
          _iterator7.f();
        }
        if (evt.target.classList.contains('.draggable-group')) {
          var _iterator8 = _createForOfIteratorHelper(evt.target.querySelector('.drag-item')),
            _step8;
          try {
            for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {
              var item = _step8.value;
              item.classList.remove('sortable-nogo');
            }
          } catch (err) {
            _iterator8.e(err);
          } finally {
            _iterator8.f();
          }
        }
      }
    },
    onEnd: function onEnd(evt) {
      if (evt.target.closest('.drawer')) {
        var items = evt.target.closest('.drawer').querySelectorAll('.drag-item');
        var _iterator10 = _createForOfIteratorHelper(items),
          _step10;
        try {
          for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {
            var item = _step10.value;
            item.classList.remove('sortable-nogo');
          }
        } catch (err) {
          _iterator10.e(err);
        } finally {
          _iterator10.f();
        }
      }
    }
  });
});

/***/ }),

/***/ "./resources/js/navigation-bar.js":
/*!****************************************!*\
  !*** ./resources/js/navigation-bar.js ***!
  \****************************************/
/***/ (() => {

document.addEventListener('alpine:init', function () {
  Alpine.data('navigationBar', function () {
    var enableHubSpotChat = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
    return {
      hideTimeout: null,
      bottom: null,
      userMenuTimeout: null,
      supportMenuTimeout: null,
      userMenu: false,
      supportMenu: false,
      menuButtons: null,
      menuButtonsWithoutItems: null,
      activeMenuItem: null,
      init: function init() {
        var _this = this,
          _this$$refs$chat_butt;
        var navBar = this.$refs.nav_bar;
        this.bottom = this.$refs.menu_bottom;
        var tiles = this.$refs.tiles;
        var scrollLeft = this.$refs.menu_scroll_left;
        var scrollRight = this.$refs.menu_scroll_right;
        this.menuButtonsWithItems = this.bottom.querySelectorAll('.has-items');
        this.menuButtonsWithoutItems = this.bottom.querySelectorAll('div:not(.has-items)');
        if (enableHubSpotChat) this.initializeHubspot();
        if (window.HubSpotConversations) {
          this.onConversationsAPIReady();
        } else {
          window.hsConversationsOnReady = [this.onConversationsAPIReady];
        }
        if (hubspotLoaded == undefined) {
          var _hsq = window._hsq = window._hsq || [];
          _hsq.push(["identify"]);
          _hsq.push(['trackPageView']);
          var hubspotLoaded = true;
        }
        if (this.$wire.activeRoute.sub !== '') {
          var activeTileItem = navBar.querySelector('.' + this.$wire.activeRoute.sub);
          activeTileItem.classList.add('tile-active');
        }
        if (this.$wire.activeRoute.main !== '') {
          this.$nextTick(function () {
            return _this.$dispatch('tiles-hidden');
          });
          this.activeMenuItem = this.bottom.querySelector('[data-menu="' + this.$wire.activeRoute.main + '"]');
          this.activeMenuItem.classList.add('button-active');
        }
        this.resetActiveState();
        this.menuButtonsWithItems.forEach(function (element) {
          element.addEventListener('mouseover', function (event) {
            if (_this.activeMenuItem) {
              _this.activeMenuItem.classList.remove('button-active');
            }
            _this.tileItemsHide();
            _this.tilesBarShow();
            var tilesGroup = tiles.querySelector('.' + event.target.dataset.menu);
            tilesGroup.style.display = 'flex';
            _this.setPaddingForActiveTileGroupByMenuItem(event.target);
          });
        });
        this.bottom.querySelectorAll('div:not(.has-items)').forEach(function (element) {
          return element.addEventListener('mouseover', function (event) {
            _this.tilesBarHide(0, false);
            if (_this.activeMenuItem) {
              _this.activeMenuItem.classList.remove('button-active');
            }
          });
        });
        navBar.addEventListener('mouseleave', function (event) {
          _this.tilesBarHide(500);
        });
        scrollLeft.addEventListener('click', function (event) {
          _this.menuBottomScrollLeft();
        });
        scrollRight.addEventListener('click', function (event) {
          _this.menuBottomScrollRight();
        });
        this.$refs.user_button.addEventListener('click', function (event) {
          _this.userMenuShow();
        });
        this.$refs.support_button.addEventListener('click', function (event) {
          _this.supportMenuShow();
        });
        (_this$$refs$chat_butt = this.$refs.chat_button) === null || _this$$refs$chat_butt === void 0 ? void 0 : _this$$refs$chat_butt.addEventListener('click', function (event) {
          _this.openHubspotWidget();
        });
      },
      initializeHubspot: function initializeHubspot() {
        var hubspotScript = document.createElement('script');
        hubspotScript.setAttribute('src', '//js-eu1.hs-scripts.com/26318898.js');
        document.head.appendChild(hubspotScript);
      },
      openHubspotWidget: function openHubspotWidget() {
        var widget = window.HubSpotConversations.widget;
        if (widget.status().loaded) {
          widget.open();
        } else {
          widget.load({
            widgetOpen: true
          });
        }
      },
      onConversationsAPIReady: function onConversationsAPIReady() {
        window.hsConversationsSettings = {
          loadImmediately: false
        };
      },
      tileItemsHide: function tileItemsHide() {
        this.menuButtonsWithItems.forEach(function (element) {
          tiles.querySelectorAll('.tile-group').forEach(function (tilegroup) {
            tilegroup.style.display = 'none';
          });
        });
      },
      tilesBarHide: function tilesBarHide() {
        var _this2 = this;
        var timeout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
        var reset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
        this.hideTimeout = setTimeout(function () {
          _this2.tileItemsHide();
          tiles.style.setProperty('--top', '50px');
          tiles.style.paddingLeft = '0px';
          clearTimeout(_this2.hideTimeout);
          _this2.$dispatch('tiles-hidden');
          if (reset) {
            _this2.resetActiveState();
            _this2.shouldDispatchTilesEvent();
            if (_this2.shouldDispatchTilesEvent()) {
              _this2.$dispatch('tiles-shown');
            }
          }
        }, timeout);
      },
      resetActiveState: function resetActiveState() {
        if (this.$wire.activeRoute.sub !== '') {
          tiles.style.setProperty('--top', '100px');
          var activeTile = tiles.querySelector('.' + this.$wire.activeRoute.main);
          activeTile.style.display = "flex";

          //menu item
          this.setPaddingForActiveTileGroupByMenuItem(this.activeMenuItem);
        }
        if (this.activeMenuItem) {
          this.activeMenuItem.classList.add('button-active');
        }
      },
      tilesBarShow: function tilesBarShow() {
        clearTimeout(this.hideTimeout);
        tiles.style.paddingLeft = '0px';
        tiles.style.setProperty('--top', '100px');
        this.$dispatch('tiles-shown');
      },
      userMenuShow: function userMenuShow() {
        var _this3 = this;
        clearTimeout(this.userMenuTimeout);
        if (this.userMenu === false) {
          this.userMenu = true;
          this.userMenuTimeout = setTimeout(function () {
            _this3.userMenu = false;
          }, 5000);
        } else {
          this.userMenu = false;
        }
      },
      supportMenuShow: function supportMenuShow() {
        var _this4 = this;
        clearTimeout(this.supportMenuTimeout);
        if (this.supportMenu === false) {
          this.supportMenu = true;
          this.supportMenuTimeout = setTimeout(function () {
            _this4.supportMenu = false;
          }, 5000);
        } else {
          this.supportMenu = false;
        }
      },
      setPaddingForActiveTileGroupByMenuItem: function setPaddingForActiveTileGroupByMenuItem(menuItem) {
        var menuItem = menuItem;
        var tileGroup = tiles.querySelector('.' + menuItem.dataset.menu);
        var minimalPadding = this.bottom.querySelector('.menu-item:nth-child(2)').offsetLeft;
        var maximalPadding = tiles.offsetWidth - tileGroup.offsetWidth;
        var calculatedPadding = menuItem.getBoundingClientRect().right - menuItem.offsetWidth / 2 - tileGroup.offsetWidth / 2;
        if (calculatedPadding < minimalPadding) {
          return tiles.style.paddingLeft = minimalPadding + 'px';
        }
        if (calculatedPadding > maximalPadding) {
          return tiles.style.paddingLeft = maximalPadding + 'px';
        }
        tiles.style.paddingLeft = calculatedPadding + 'px';
      },
      menuBottomScrollRight: function menuBottomScrollRight() {
        this.bottom.scrollBy({
          left: 150,
          top: 0,
          behavior: 'smooth'
        });
      },
      menuBottomScrollLeft: function menuBottomScrollLeft() {
        this.bottom.scrollBy({
          left: -150,
          top: 0,
          behavior: 'smooth'
        });
      },
      shouldDispatchTilesEvent: function shouldDispatchTilesEvent() {
        var _this$activeMenuItem;
        return !Array.from(this.menuButtonsWithoutItems).map(function (item) {
          return item.dataset.menu;
        }).filter(function (n) {
          return n;
        }).includes((_this$activeMenuItem = this.activeMenuItem) === null || _this$activeMenuItem === void 0 ? void 0 : _this$activeMenuItem.dataset.menu);
      }
    };
  });
});

/***/ }),

/***/ "./resources/js/notify.js":
/*!********************************!*\
  !*** ./resources/js/notify.js ***!
  \********************************/
/***/ (() => {

Notify = {
  notify: function notify(message, initialType) {
    var title = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
    var type = initialType ? initialType : 'info';
    window.dispatchEvent(new CustomEvent('notify', {
      detail: {
        message: message,
        type: type,
        title: title
      }
    }));
  }
};

/***/ }),

/***/ "./resources/js/pdf-download.js":
/*!**************************************!*\
  !*** ./resources/js/pdf-download.js ***!
  \**************************************/
/***/ (() => {

PdfDownload = {
  waitingScreenHtml: function waitingScreenHtml(translation) {
    return "<html><head><style>" + "#animation {" + "background-image: url(/img/loading.gif);" + "}" + "</style></head>" + "<body style='background: #f5f5f5'>" + "<div style='display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh;'>" + "<div style='background-color: rgba(0,0,0,0.8); padding: 20px 20px 15px 20px; border-radius: 10px; margin-bottom: 1rem;'>" + "<div id='animation' style='width: 35px; height: 35px;'></div>" + "</div>" + "<span style='font-family: Nunito, sans-serif; font-size: 20pt;'>" + translation + "</span>" + "</div>" + "</body></html>";
  }
};

/***/ }),

/***/ "./resources/js/readspeaker_app.js":
/*!*****************************************!*\
  !*** ./resources/js/readspeaker_app.js ***!
  \*****************************************/
/***/ (() => {

handleFocusTextareaField = function handleFocusTextareaField(event, questionId) {
  if (typeof ReadspeakerTlc == "undefined") {
    return;
  }
  return ReadspeakerTlc.rsTlcEvents.handleTextareaFocusForReadspeaker(event, questionId);
};
handleBlurTextareaField = function handleBlurTextareaField() {
  if (typeof ReadspeakerTlc == "undefined") {
    return;
  }
  ReadspeakerTlc.rsTlcEvents.handleTextareaBlurForReadspeaker();
};
handleTextBoxFocusForReadspeaker = function handleTextBoxFocusForReadspeaker(focusEvent, questionId) {
  if (typeof ReadspeakerTlc == "undefined") {
    return;
  }
  ReadspeakerTlc.rsTlcEvents.handleTextBoxFocusForReadspeaker(focusEvent, questionId);
};
handleTextBoxBlurForReadspeaker = function handleTextBoxBlurForReadspeaker(event, questionId) {
  if (typeof ReadspeakerTlc == "undefined") {
    return;
  }
  ReadspeakerTlc.rsTlcEvents.handleTextBoxBlurForReadspeaker(event, questionId);
};
rsFocusSelect = function rsFocusSelect(event, selectId, questionId) {
  if (typeof ReadspeakerTlc == "undefined") {
    return;
  }
  ReadspeakerTlc.rsTlcEvents.rsFocusSelect(event, selectId, questionId);
};
rsBlurSelect = function rsBlurSelect(event, questionId) {
  if (typeof ReadspeakerTlc == "undefined") {
    return;
  }
  ReadspeakerTlc.rsTlcEvents.rsBlurSelect(event, questionId);
};
readspeakerLoadCore = function (_readspeakerLoadCore) {
  function readspeakerLoadCore() {
    return _readspeakerLoadCore.apply(this, arguments);
  }
  readspeakerLoadCore.toString = function () {
    return _readspeakerLoadCore.toString();
  };
  return readspeakerLoadCore;
}(function () {
  if (rspkr == null) {
    setTimeout(readspeakerLoadCore, '1000');
    return;
  }
  if (rspkr.getLoadedMods().length > 0) {
    return;
  }
  rspkr.loadCore();
});

/***/ }),

/***/ "./resources/js/rich-text-editor.js":
/*!******************************************!*\
  !*** ./resources/js/rich-text-editor.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ckeditor5_node_modules_ckeditor_ckeditor5_word_count_src_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ckeditor5/node_modules/@ckeditor/ckeditor5-word-count/src/utils.js */ "./resources/ckeditor5/node_modules/@ckeditor/ckeditor5-word-count/src/utils.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, ""); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, "_invoke", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: "normal", arg: fn.call(obj, arg) }; } catch (err) { return { type: "throw", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { ["next", "throw", "return"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if ("throw" !== record.type) { var result = record.arg, value = result.value; return value && "object" == _typeof(value) && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke("next", value, resolve, reject); }, function (err) { invoke("throw", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke("throw", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, "_invoke", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = "suspendedStart"; return function (method, arg) { if ("executing" === state) throw new Error("Generator is already running"); if ("completed" === state) { if ("throw" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if ("next" === context.method) context.sent = context._sent = context.arg;else if ("throw" === context.method) { if ("suspendedStart" === state) throw state = "completed", context.arg; context.dispatchException(context.arg); } else "return" === context.method && context.abrupt("return", context.arg); state = "executing"; var record = tryCatch(innerFn, self, context); if ("normal" === record.type) { if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, "throw" === methodName && delegate.iterator["return"] && (context.method = "return", context.arg = undefined, maybeInvokeDelegate(delegate, context), "throw" === context.method) || "return" !== methodName && (context.method = "throw", context.arg = new TypeError("The iterator does not provide a '" + methodName + "' method")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, "return" !== context.method && (context.method = "next", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = "normal", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: "root" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if ("function" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), exports.isGeneratorFunction = function (genFun) { var ctor = "function" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, "toString", function () { return "[object Generator]"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = "next", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if ("throw" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if ("root" === entry.tryLoc) return handle("end"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error("try statement without catch or finally"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if ("throw" === record.type) throw record.arg; return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, "catch": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if ("throw" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, "next" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }
function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

window.RichTextEditor = {
  initStudentCoLearning: function initStudentCoLearning(parameterBag) {
    var _this = this;
    return this.createStudentEditor(parameterBag, function (editor) {
      _this.setupWordCounter(editor, parameterBag);
      WebspellcheckerTlc.subscribeToProblemCounter(editor);
      WebspellcheckerTlc.lang(editor, parameterBag.lang);
      window.addEventListener("wsc-problems-count-updated-" + parameterBag.editorId, function (e) {
        var problemCountSpan = document.getElementById("problem-count-" + parameterBag.editorId);
        if (problemCountSpan) {
          problemCountSpan.textContent = e.detail.problemsCount;
        }
      });
      if (typeof ReadspeakerTlc != "undefined") {
        ReadspeakerTlc.ckeditor.addListenersForReadspeaker(editor, parameterBag.questionId, parameterBag.editorId);
        ReadspeakerTlc.ckeditor.disableContextMenuOnCkeditor();
      }
    });
  },
  initSelectionCMS: function initSelectionCMS(parameterBag) {
    var _this2 = this;
    parameterBag.pluginsToAdd = ['Selection'];
    return this.createTeacherEditor(parameterBag, function (editor) {
      WebspellcheckerTlc.lang(editor, parameterBag.lang);
      WebspellcheckerTlc.handleSpellCheckerOnOff(editor, parameterBag.isSpellCheckerEnabled);
      _this2.setReadOnly(editor);
      window.editor = editor;
    });
  },
  initCompletionCMS: function initCompletionCMS(parameterBag) {
    var _this3 = this;
    parameterBag.pluginsToAdd = ["Completion"];
    return this.createTeacherEditor(parameterBag, function (editor) {
      WebspellcheckerTlc.lang(editor, parameterBag.lang);
      WebspellcheckerTlc.handleSpellCheckerOnOff(editor, parameterBag.isSpellCheckerEnabled);
      _this3.setReadOnly(editor);
      window.editor = editor;
    });
  },
  initClassicEditorForStudentPlayer: function initClassicEditorForStudentPlayer(parameterBag) {
    var _this4 = this;
    return this.createStudentEditor(parameterBag, function (editor) {
      WebspellcheckerTlc.lang(editor, parameterBag.lang);
      editor.ui.view.element.setAttribute('spellcheck', false);
      _this4.setupWordCounter(editor, parameterBag);
      if (typeof ReadspeakerTlc != "undefined") {
        editor.editing.view.document.on('change:isFocused', function (evt, data, isFocused) {
          isFocused ? rsTlcEvents.handleCkeditorFocusForReadspeaker(editor.sourceElement.nextElementSibling, parameterBag.questionId, parameterBag.editorId) : rsTlcEvents.handleCkeditorBlurForReadspeaker(editor.sourceElement.nextElementSibling, parameterBag.questionId, parameterBag.editorId);
        });
        ReadspeakerTlc.ckeditor.addListenersForReadspeaker(editor, parameterBag.questionId, parameterBag.editorId);
        ReadspeakerTlc.ckeditor.disableContextMenuOnCkeditor();
      }
    });
  },
  initClassicEditorForStudentPreviewplayer: function initClassicEditorForStudentPreviewplayer(parameterBag) {
    var _this5 = this;
    return this.createStudentEditor(parameterBag, function (editor) {
      WebspellcheckerTlc.lang(editor, parameterBag.lang);
      _this5.setupWordCounter(editor, parameterBag);
      if (typeof ReadspeakerTlc != "undefined") {
        ReadspeakerTlc.ckeditor.replaceReadableAreaByClone(editor);
      }
      editor.isReadOnly = true;
    });
  },
  initForTeacher: function initForTeacher(parameterBag) {
    var _this6 = this;
    return this.createTeacherEditor(parameterBag, function (editor) {
      WebspellcheckerTlc.lang(editor, parameterBag.lang);
      WebspellcheckerTlc.handleSpellCheckerOnOff(editor, parameterBag.isSpellCheckerEnabled);
      _this6.setupWordCounter(editor, parameterBag);
      _this6.setReadOnly(editor);
    });
  },
  initAssessmentFeedback: function initAssessmentFeedback(parameterBag) {
    this.setAnswerFeedbackItemsToRemove(parameterBag);
    parameterBag.shouldNotGroupWhenFull = true;
    return this.createTeacherEditor(parameterBag);
  },
  initUpdateAnswerFeedbackEditor: function () {
    var _initUpdateAnswerFeedbackEditor = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(parameterBag) {
      return _regeneratorRuntime().wrap(function _callee$(_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            this.setAnswerFeedbackItemsToRemove(parameterBag);
            parameterBag.shouldNotGroupWhenFull = true;
            _context.next = 4;
            return this.createTeacherEditor(parameterBag, function (editor) {
              // this.hideWProofreaderChevron(parameterBag.allowWsc, editor);

              editor.editing.view.change(function (writer) {
                writer.setStyle('height', '150px', editor.editing.view.document.getRoot());
              });
            });
          case 4:
            return _context.abrupt("return", _context.sent);
          case 5:
          case "end":
            return _context.stop();
        }
      }, _callee, this);
    }));
    function initUpdateAnswerFeedbackEditor(_x) {
      return _initUpdateAnswerFeedbackEditor.apply(this, arguments);
    }
    return initUpdateAnswerFeedbackEditor;
  }(),
  initCreateAnswerFeedbackEditor: function initCreateAnswerFeedbackEditor(parameterBag) {
    this.setAnswerFeedbackItemsToRemove(parameterBag);
    parameterBag.shouldNotGroupWhenFull = true;
    return this.createTeacherEditor(parameterBag, function (editor) {
      window.addEventListener('answer-feedback-focus-feedback-editor', function () {
        setTimeout(function () {
          editor.focus();
        }, 100);
      });
      editor.editing.view.change(function (writer) {
        writer.setStyle('height', '150px', editor.editing.view.document.getRoot());
      });
      editor.model.document.on('change:data', function (event, data, test) {
        if (editor.getData() === '' || editor.getData() === '<p></p>') {
          Alpine.store('answerFeedback').creatingNewComment = false;
          return;
        }
        Alpine.store('answerFeedback').creatingNewComment = true;
      });
      // this.hideWProofreaderChevron(parameterBag.allowWsc, editor);
    });
  },

  initAnswerEditorWithComments: function initAnswerEditorWithComments(parameterBag) {
    var _this7 = this;
    parameterBag.enableCommentsPlugin = true;
    parameterBag.wproofreaderActionItems = ['toggle'];
    return this.createStudentEditor(parameterBag, function (editor) {
      WebspellcheckerTlc.lang(editor, parameterBag.lang);
      _this7.setupWordCounter(editor, parameterBag);
      _this7.setCommentsOnly(editor); //replaces read-only
      _this7.setAnswerFeedbackEventListeners(editor);
      _this7.setMathChemTypeReadOnly(editor);
    });
  },
  setMathChemTypeReadOnly: function setMathChemTypeReadOnly(editor) {
    try {
      editor.plugins.get('MathType').stopListening();
    } catch (e) {
      if (String(e.name).includes('CKEditorError')) {
        return;
      }
      throw e;
    }
  },
  setAnswerFeedbackEventListeners: function setAnswerFeedbackEventListeners(editor) {
    var focusIsInCommentEditor = function focusIsInCommentEditor() {
      var _window$getSelection$, _window$getSelection$2;
      return ((_window$getSelection$ = window.getSelection().focusNode) === null || _window$getSelection$ === void 0 ? void 0 : (_window$getSelection$2 = _window$getSelection$.parentElement) === null || _window$getSelection$2 === void 0 ? void 0 : _window$getSelection$2.closest('.comment-editor')) !== null;
    };
    var selectionIsNotEmpty = function selectionIsNotEmpty() {
      return window.getSelection().toString() !== '';
    };
    document.addEventListener('mouseup', function (e) {
      var _editor$plugins$get$g;
      if (!(focusIsInCommentEditor() && selectionIsNotEmpty())) {
        return;
      }
      dispatchEvent(new CustomEvent('answer-feedback-drawer-tab-update', {
        detail: {
          tab: 2
        }
      }));

      //focus the create a comment editor
      dispatchEvent(new CustomEvent('answer-feedback-focus-feedback-editor'));

      //remove the previous temporary thread if it exists
      (_editor$plugins$get$g = editor.plugins.get('CommentsRepository').getCommentThread('new-comment-thread')) === null || _editor$plugins$get$g === void 0 ? void 0 : _editor$plugins$get$g.remove();
      setTimeout(function () {
        //add a temporary thread with a specific name that can be found by JS
        editor.execute('addCommentThread', {
          threadId: 'new-comment-thread'
        });
      }, 200);
    });
    editor.plugins.get('CommentsRepository').on('addCommentThread', function (evt, data) {
      if (data.threadId === 'new-comment-thread') {
        return;
      }
      setTimeout(function () {
        window.clearSelection();
      }, 100);
    });
  },
  //only needed when webspellchecker has to be re-added to the inline-feedback comment editors
  // hideWProofreaderChevron: function (allowWsc, editor) {
  //
  //     if(!allowWsc) {
  //         return;
  //     }
  //
  //     const callback = (element) => {
  //         return element.innerHTML == 'WProofreader' && element.classList.contains('ck-tooltip__text')
  //     }
  //
  //     // const elements = Array.from(document.getElementsByTagName('span'))
  //     const elements = Array.from(editor.editing.view.getDomRoot().closest('.ck-editor').getElementsByTagName('span'))
  //
  //     elements.filter(callback).forEach((element) => {
  //         return element.parentElement.parentElement.querySelector('.ck-dropdown__arrow').style.display = 'none';
  //     });
  //
  // },
  getConfigForStudent: function getConfigForStudent(parameterBag) {
    var _parameterBag$plugins;
    (_parameterBag$plugins = parameterBag.pluginsToAdd) !== null && _parameterBag$plugins !== void 0 ? _parameterBag$plugins : parameterBag.pluginsToAdd = [];
    var config = {
      autosave: {
        waitingTime: 300,
        save: function save(editor) {
          editor.updateSourceElement();
          editor.sourceElement.dispatchEvent(new Event("input"));
        }
      },
      wordCount: {
        displayCharacters: false
      },
      wproofreader: this.getWproofreaderConfig(parameterBag.enableGrammar, parameterBag.wproofreaderActionItems),
      ui: {
        viewportOffset: {
          top: 70
        }
      }
    };
    config.removePlugins = ["Selection", "Completion", "ImageUpload", "Image", "ImageToolbar"];
    config.toolbar = {
      removeItems: ["selection", "completion", "imageUpload", "image"]
    };
    if (!parameterBag.allowWsc) {
      delete config.wproofreader;
      config.removePlugins.push("WProofreader");
      config.toolbar.removeItems.push("wproofreader");
    }
    if (!parameterBag.textFormatting) {
      config.removePlugins.push("Bold", "BlockQuote", "FontFamily", "FontSize", "FontBackgroundColor", "Heading", "Indent", "Italic", "List", "Strikethrough", "FontColor", "Subscript", "Superscript", "BlockQuote", "Table", "TableCaption", "TableCellProperties", "TableProperties", "TableToolbar", "Underline", "RemoveFormat");
      config.toolbar.removeItems.push("bold", "italic", "underline", "strikethrough", "subscript", "superscript", "bulletedList", "numberedList", "blockQuote", "outdent", "indent", "insertTable", "fontFamily", "fontBackgroundColor", "fontSize", "fontColor", "heading", "removeFormat");
    }
    if (!parameterBag.mathmlFunctions) {
      config.removePlugins.push("MathType", "ChemType", "SpecialCharactersTLC");
      config.toolbar.removeItems.push("MathType", "ChemType", "specialCharacters");
    }
    if (!parameterBag.enableCommentsPlugin) {
      config.removePlugins.push("Comments");
    } else {
      config.licenseKey = "q11N5LxlUjUp2pDthuTmPmy/+cmatL0lY7nh6aX+nhhODyekK1g8YW5CKA==";
    }
    if (parameterBag.commentThreads != undefined) {
      config.extraPlugins = [CommentsIntegration];
      config.commentsIntegration = {
        userId: parameterBag.userId,
        users: parameterBag.users,
        commentThreads: parameterBag.commentThreads
      };
    }
    return config;
  },
  getConfigForTeacher: function getConfigForTeacher(parameterBag) {
    var _parameterBag$plugins2, _parameterBag$removeI, _parameterBag$removeI2, _parameterBag$removeI3, _parameterBag$removeI4, _parameterBag$removeI5;
    (_parameterBag$plugins2 = parameterBag.pluginsToAdd) !== null && _parameterBag$plugins2 !== void 0 ? _parameterBag$plugins2 : parameterBag.pluginsToAdd = [];
    (_parameterBag$removeI = parameterBag.removeItems) !== null && _parameterBag$removeI !== void 0 ? _parameterBag$removeI : parameterBag.removeItems = {
      plugins: [],
      items: []
    };
    var config = {
      autosave: {
        waitingTime: 300,
        save: function save(editor) {
          editor.updateSourceElement();
          editor.sourceElement.dispatchEvent(new Event("input"));
        }
      },
      image: {
        upload: {
          types: ["jpeg", "png", "gif", "bmp", "webp", "tiff"]
        },
        toolbar: ["imageTextAlternative",
        // 'toggleImageCaption',
        "|", "imageStyle:inline", {
          // Grouping into one drop-down.
          name: "wrapText",
          title: "Tekstterugloop",
          items: ["imageStyle:alignLeft", "imageStyle:alignRight"],
          defaultItem: "imageStyle:alignLeft"
        }, {
          // Grouping into one drop-down.
          name: "breakText",
          title: "Tekst onderbreken",
          items: ["imageStyle:alignBlockLeft", "imageStyle:alignCenter", "imageStyle:alignBlockRight"],
          defaultItem: "imageStyle:alignBlockLeft"
        }, "imageStyle:side", "|", "resizeImage"]
      },
      simpleUpload: {
        uploadUrl: "/cms/ckeditor_upload/images",
        // Enable the XMLHttpRequest.withCredentials property.
        withCredentials: true,
        // Headers sent along with the XMLHttpRequest to the upload server.
        headers: {
          "X-CSRF-TOKEN": document.querySelector("meta[name=\"_token\"]").content
          // Authorization: 'Bearer <JSON Web Token>'
        }
      },

      wordCount: {
        displayCharacters: false,
        displayWords: true
      },
      wproofreader: this.getWproofreaderConfig()
    };
    config.removePlugins = (_parameterBag$removeI2 = (_parameterBag$removeI3 = parameterBag.removeItems) === null || _parameterBag$removeI3 === void 0 ? void 0 : _parameterBag$removeI3.plugins) !== null && _parameterBag$removeI2 !== void 0 ? _parameterBag$removeI2 : [];
    config.toolbar = {
      removeItems: (_parameterBag$removeI4 = (_parameterBag$removeI5 = parameterBag.removeItems) === null || _parameterBag$removeI5 === void 0 ? void 0 : _parameterBag$removeI5.toolbar) !== null && _parameterBag$removeI4 !== void 0 ? _parameterBag$removeI4 : []
    };
    if (parameterBag.toolbar) {
      config.toolbar.items = parameterBag.toolbar;
    }
    if (!parameterBag.enableCommentsPlugin) {
      config.removePlugins.push("Comments");
    } else {
      config.licenseKey = "q11N5LxlUjUp2pDthuTmPmy/+cmatL0lY7nh6aX+nhhODyekK1g8YW5CKA==";
    }
    if (parameterBag.commentThreads != undefined) {
      config.extraPlugins = [CommentsIntegration];
      config.commentsIntegration = {
        userId: parameterBag.userId,
        users: parameterBag.users,
        commentThreads: parameterBag.commentThreads
      };
    }
    if (!parameterBag.allowWsc) {
      delete config.wproofreader;
      config.removePlugins.push("WProofreader");
    }
    if (parameterBag.shouldNotGroupWhenFull) {
      config.toolbar.shouldNotGroupWhenFull = true;
    }
    var availablePlugins = ["Selection", "Completion"];
    var pluginsToRemove = availablePlugins.filter(function (plugin) {
      return !parameterBag.pluginsToAdd.includes(plugin);
    });
    config.removePlugins = [].concat(_toConsumableArray(config.removePlugins), _toConsumableArray(pluginsToRemove));
    config.toolbar.removeItems = [].concat(_toConsumableArray(config.toolbar.removeItems), _toConsumableArray(config.removePlugins.map(function (item) {
      return item.toLowerCase();
    })));
    return config;
  },
  sendInputEventToEditor: function sendInputEventToEditor(editorId, e) {
    var textarea = document.getElementById(editorId);
    setTimeout(function () {
      textarea.value = e.editor.getData();
    }, 300);
    textarea.dispatchEvent(new Event("input"));
  },
  /** @TODO: this method should be refactored to setReadOnlyIfApplicable  but it has a reference in readspeaker_tlc.js which i dont want to test 1 day before deployment.*/
  setReadOnly: function setReadOnly(editor) {
    if (editor.sourceElement.hasAttribute("disabled")) {
      editor.isReadOnly = true;
      var editables = editor.ui.view.editable.element.querySelectorAll("[contenteditable=true]");
      editables.forEach(function (element) {
        element.setAttribute("contenteditable", false);
      });
    }
  },
  setCommentsOnly: function setCommentsOnly(editor) {
    //disable all commands except for comments and webspellchecker
    var input = editor.commands._commands.forEach(function (command, name) {
      if (!['addCommentThread', 'undo', 'redo', 'WProofreaderToggle', 'WProofreaderSettings'].includes(name)) {
        command.forceDisabled('commentsOnly');
      }
    });

    // editor.plugins.get( 'CommentsOnly' ).isEnabled = true;
  },

  writeContentToTextarea: function writeContentToTextarea(editorId) {
    var editor = ClassicEditors[editorId];
    if (editor) {
      editor.updateSourceElement();
      // editor.sourceElement.parentElement.classList.add('rs_skip');
      editor.sourceElement.dispatchEvent(new Event("input"));
    }
  },
  setupWordCounter: function setupWordCounter(editor, parameterBag) {
    var _this8 = this;
    var wordCountPlugin = editor.plugins.get("WordCount");
    var wordCountWrapper = document.getElementById("word-count-" + parameterBag.editorId);
    if (wordCountWrapper) {
      wordCountWrapper.appendChild(wordCountPlugin.wordCountContainer);
      window.dispatchEvent(new CustomEvent("updated-word-count-plugin-container"));
    }
    this.addSelectedWordCounter(editor);
    if (!parameterBag.restrictWords || [null, 0].includes(parameterBag.maxWords)) {
      return;
    }
    editor.maxWords = parameterBag.maxWords;
    editor.maxWordOverride = parameterBag.maxWordOverride;
    this.handleInputWithMaxWords(editor);
    editor.updateMaxWords = function (value) {
      editor.maxWords = parseInt(value);
      _this8.handleInputWithMaxWords(editor);
    };
    editor.model.document.on("change:data", function (event, batch) {
      if (_this8.hasNoWordLimit(editor)) return;
      var wc = editor.plugins.get("WordCount");
      if (wc.words > editor.maxWords) {
        editor.execute('undo');
      }
      _this8.handleInputWithMaxWords(editor, event);
    });
    editor.editing.view.document.on("paste", function (event, data) {
      if (_this8.hasNoWordLimit(editor)) return;
      var wc = editor.plugins.get("WordCount");
      var maxWords = parseInt(editor.maxWords);
      if (wc.words >= maxWords) {
        //always the old number of words. never triggers when pasting at 49/50 words
        data.preventDefault();
        event.stop();
      } else {
        editor.pasted = true;
        editor.prePasteData = editor.getData();
        editor.prePasteWc = wc.words;
      }
    });
    editor.editing.view.document.on("keydown", function (event, data) {
      if (_this8.hasNoWordLimit(editor)) return;
      if (!editor.disableSpacers) return;

      /* Disable spacebar and enter inputs so new words cannot be created;*/
      if ([32, 13].includes(data.keyCode)) {
        data.preventDefault();
        event.stop();
      }
    });
  },
  handleInputWithMaxWords: function handleInputWithMaxWords(editor) {
    if (this.hasNoWordLimit(editor)) return;
    if (editor.preventUpdateLoop) {
      editor.preventUpdateLoop = false;
      return;
    }
    var input = editor.commands.get("input");
    var enterKeyCommand = editor.commands.get("enter");
    var wc = editor.plugins.get("WordCount");
    var maxWords = parseInt(editor.maxWords);
    editor.disableSpacers = wc.words >= maxWords;
    if (wc.words > maxWords) {
      input.forceDisabled("maxword-lock");
      enterKeyCommand.forceDisabled("maxword-lock");
      handlePastedData();
    } else {
      if (wc.words == maxWords) {
        enterKeyCommand.forceDisabled("maxword-lock");
      } else {
        enterKeyCommand.clearForceDisabled("maxword-lock");
      }
      input.clearForceDisabled("maxword-lock");
      editor.pasted = false;
    }
    function handlePastedData() {
      if (!editor.pasted) return;
      editor.setData(editor.prePasteData);
      editor.preventUpdateLoop = true;
      editor.pasted = false;
      setTimeout(function () {
        editor.model.change(function (writer) {
          writer.setSelection(editor.model.document.getRoot(), "end");
        });
      }, 1);
      editor.disableSpacers = editor.prePasteWc >= maxWords;
      if (editor.prePasteWc < maxWords) {
        input.clearForceDisabled('maxword-lock');
      }
    }
  },
  hasNoWordLimit: function hasNoWordLimit(editor) {
    return editor.maxWords === null || editor.maxWordOverride;
  },
  addSelectedWordCounter: function addSelectedWordCounter(editor) {
    var selection = editor.model.document.selection;
    var selectedWordCount = 0;
    var fireEventIfWordCountChanged = function fireEventIfWordCountChanged() {
      var wordCount = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
      if (selectedWordCount !== wordCount) {
        selectedWordCount = wordCount;
        dispatchEvent(new CustomEvent('selected-word-count', {
          detail: {
            wordCount: selectedWordCount,
            editorId: editor.sourceElement.id
          }
        }));
      }
    };
    selection.on('change:range', function () {
      if (selection.isCollapsed) return fireEventIfWordCountChanged(); // No selection.

      var range = selection.getFirstRange();
      var wordCount = 0;
      var _iterator = _createForOfIteratorHelper(range.getItems()),
        _step;
      try {
        for (_iterator.s(); !(_step = _iterator.n()).done;) {
          var item = _step.value;
          if (!item.is('textProxy')) continue;
          wordCount += item.data.split(' ').filter(function (word) {
            return word !== '';
          }).length;
        }
      } catch (err) {
        _iterator.e(err);
      } finally {
        _iterator.f();
      }
      fireEventIfWordCountChanged(wordCount);
    });
    editor.editing.view.document.on('blur', function () {
      fireEventIfWordCountChanged();
    });
  },
  getWproofreaderConfig: function getWproofreaderConfig() {
    var enableGrammar = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
    var actionItems = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ["addWord", "ignoreAll", "ignore", "settings", "toggle", "proofreadDialog"];
    return {
      autoSearch: false,
      autoDestroy: true,
      autocorrect: false,
      autocomplete: false,
      actionItems: actionItems,
      enableBadgeButton: true,
      serviceProtocol: "https",
      servicePort: "80",
      serviceHost: "wsc.test-correct.nl",
      servicePath: "wscservice/api",
      srcUrl: "https://wsc.test-correct.nl/wscservice/wscbundle/wscbundle.js",
      enableGrammar: enableGrammar
    };
  },
  createEditor: function createEditor(editorId, config) {
    var _arguments = arguments;
    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
      var resolveCallback, editor;
      return _regeneratorRuntime().wrap(function _callee2$(_context2) {
        while (1) switch (_context2.prev = _context2.next) {
          case 0:
            resolveCallback = _arguments.length > 2 && _arguments[2] !== undefined ? _arguments[2] : null;
            editor = ClassicEditors[editorId];
            _context2.prev = 2;
            if (!editor) {
              _context2.next = 6;
              break;
            }
            _context2.next = 6;
            return editor.destroy(true);
          case 6:
            _context2.next = 11;
            break;
          case 8:
            _context2.prev = 8;
            _context2.t0 = _context2["catch"](2);
            console.warn('An issue occurred while destroying an existing editor.');
          case 11:
            return _context2.abrupt("return", ClassicEditor.create(document.getElementById(editorId), config).then(function (editor) {
              ClassicEditors[editorId] = editor;
              if (typeof resolveCallback === "function") {
                resolveCallback(editor);
              }
              // editor.ui.view.editableElement.tabIndex = -1;
            })["catch"](function (error) {
              console.error(error);
            }));
          case 12:
          case "end":
            return _context2.stop();
        }
      }, _callee2, null, [[2, 8]]);
    }))();
  },
  createTeacherEditor: function createTeacherEditor(parameterBag) {
    var _arguments2 = arguments,
      _this9 = this;
    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
      var resolveCallback;
      return _regeneratorRuntime().wrap(function _callee3$(_context3) {
        while (1) switch (_context3.prev = _context3.next) {
          case 0:
            resolveCallback = _arguments2.length > 1 && _arguments2[1] !== undefined ? _arguments2[1] : null;
            _context3.next = 3;
            return _this9.createEditor(parameterBag.editorId, _this9.getConfigForTeacher(parameterBag), resolveCallback);
          case 3:
            return _context3.abrupt("return", _context3.sent);
          case 4:
          case "end":
            return _context3.stop();
        }
      }, _callee3);
    }))();
  },
  createStudentEditor: function createStudentEditor(parameterBag) {
    var _arguments3 = arguments,
      _this10 = this;
    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {
      var resolveCallback;
      return _regeneratorRuntime().wrap(function _callee4$(_context4) {
        while (1) switch (_context4.prev = _context4.next) {
          case 0:
            resolveCallback = _arguments3.length > 1 && _arguments3[1] !== undefined ? _arguments3[1] : null;
            _context4.next = 3;
            return _this10.createEditor(parameterBag.editorId, _this10.getConfigForStudent(parameterBag), resolveCallback);
          case 3:
            return _context4.abrupt("return", _context4.sent);
          case 4:
          case "end":
            return _context4.stop();
        }
      }, _callee4);
    }))();
  },
  setAnswerFeedbackItemsToRemove: function setAnswerFeedbackItemsToRemove(parameterBag) {
    parameterBag.removeItems = {
      plugins: ["FontFamily", "FontSize", "FontBackgroundColor", "Heading", "Indent", "FontColor", "RemoveFormat", "PasteFromOffice", "WordCount", "Completion", "Selection"],
      toolbar: ["outdent", "indent", "completion", "selection", "fontFamily", "fontBackgroundColor", "fontSize", "fontColor", "heading", "removeFormat", "specialCharacters", "insertTable", "imageUpload", 'underline', 'strikethrough', 'subscript', 'superscript', 'bulletedList', 'numberedList', 'blockQuote']
    };
    parameterBag.toolbar = ["undo", "redo", "|", "bold", "italic", 'MathType', 'ChemType', 'wproofreader'];
  },
  getPlainText: function getPlainText(editor) {
    return (0,_ckeditor5_node_modules_ckeditor_ckeditor5_word_count_src_utils_js__WEBPACK_IMPORTED_MODULE_0__.modelElementToPlainText)(editor.model.document.getRoot());
  }
};

/***/ }),

/***/ "./resources/js/smoothscroll-polyfill.js":
/*!***********************************************!*\
  !*** ./resources/js/smoothscroll-polyfill.js ***!
  \***********************************************/
/***/ ((module, exports) => {

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
!function () {
  "use strict";

  function o() {
    var o = window,
      t = document;
    if (!("scrollBehavior" in t.documentElement.style && !0 !== o.__forceSmoothScrollPolyfill__)) {
      var l,
        e = o.HTMLElement || o.Element,
        r = 468,
        i = {
          scroll: o.scroll || o.scrollTo,
          scrollBy: o.scrollBy,
          elementScroll: e.prototype.scroll || n,
          scrollIntoView: e.prototype.scrollIntoView
        },
        s = o.performance && o.performance.now ? o.performance.now.bind(o.performance) : Date.now,
        c = (l = o.navigator.userAgent, new RegExp(["MSIE ", "Trident/", "Edge/"].join("|")).test(l) ? 1 : 0);
      o.scroll = o.scrollTo = function () {
        void 0 !== arguments[0] && (!0 !== f(arguments[0]) ? h.call(o, t.body, void 0 !== arguments[0].left ? ~~arguments[0].left : o.scrollX || o.pageXOffset, void 0 !== arguments[0].top ? ~~arguments[0].top : o.scrollY || o.pageYOffset) : i.scroll.call(o, void 0 !== arguments[0].left ? arguments[0].left : "object" != _typeof(arguments[0]) ? arguments[0] : o.scrollX || o.pageXOffset, void 0 !== arguments[0].top ? arguments[0].top : void 0 !== arguments[1] ? arguments[1] : o.scrollY || o.pageYOffset));
      }, o.scrollBy = function () {
        void 0 !== arguments[0] && (f(arguments[0]) ? i.scrollBy.call(o, void 0 !== arguments[0].left ? arguments[0].left : "object" != _typeof(arguments[0]) ? arguments[0] : 0, void 0 !== arguments[0].top ? arguments[0].top : void 0 !== arguments[1] ? arguments[1] : 0) : h.call(o, t.body, ~~arguments[0].left + (o.scrollX || o.pageXOffset), ~~arguments[0].top + (o.scrollY || o.pageYOffset)));
      }, e.prototype.scroll = e.prototype.scrollTo = function () {
        if (void 0 !== arguments[0]) if (!0 !== f(arguments[0])) {
          var o = arguments[0].left,
            t = arguments[0].top;
          h.call(this, this, void 0 === o ? this.scrollLeft : ~~o, void 0 === t ? this.scrollTop : ~~t);
        } else {
          if ("number" == typeof arguments[0] && void 0 === arguments[1]) throw new SyntaxError("Value could not be converted");
          i.elementScroll.call(this, void 0 !== arguments[0].left ? ~~arguments[0].left : "object" != _typeof(arguments[0]) ? ~~arguments[0] : this.scrollLeft, void 0 !== arguments[0].top ? ~~arguments[0].top : void 0 !== arguments[1] ? ~~arguments[1] : this.scrollTop);
        }
      }, e.prototype.scrollBy = function () {
        void 0 !== arguments[0] && (!0 !== f(arguments[0]) ? this.scroll({
          left: ~~arguments[0].left + this.scrollLeft,
          top: ~~arguments[0].top + this.scrollTop,
          behavior: arguments[0].behavior
        }) : i.elementScroll.call(this, void 0 !== arguments[0].left ? ~~arguments[0].left + this.scrollLeft : ~~arguments[0] + this.scrollLeft, void 0 !== arguments[0].top ? ~~arguments[0].top + this.scrollTop : ~~arguments[1] + this.scrollTop));
      }, e.prototype.scrollIntoView = function () {
        if (!0 !== f(arguments[0])) {
          var l = function (o) {
              for (; o !== t.body && !1 === (e = p(l = o, "Y") && a(l, "Y"), r = p(l, "X") && a(l, "X"), e || r);) o = o.parentNode || o.host;
              var l, e, r;
              return o;
            }(this),
            e = l.getBoundingClientRect(),
            r = this.getBoundingClientRect();
          l !== t.body ? (h.call(this, l, l.scrollLeft + r.left - e.left, l.scrollTop + r.top - e.top), "fixed" !== o.getComputedStyle(l).position && o.scrollBy({
            left: e.left,
            top: e.top,
            behavior: "smooth"
          })) : o.scrollBy({
            left: r.left,
            top: r.top,
            behavior: "smooth"
          });
        } else i.scrollIntoView.call(this, void 0 === arguments[0] || arguments[0]);
      };
    }
    function n(o, t) {
      this.scrollLeft = o, this.scrollTop = t;
    }
    function f(o) {
      if (null === o || "object" != _typeof(o) || void 0 === o.behavior || "auto" === o.behavior || "instant" === o.behavior) return !0;
      if ("object" == _typeof(o) && "smooth" === o.behavior) return !1;
      throw new TypeError("behavior member of ScrollOptions " + o.behavior + " is not a valid value for enumeration ScrollBehavior.");
    }
    function p(o, t) {
      return "Y" === t ? o.clientHeight + c < o.scrollHeight : "X" === t ? o.clientWidth + c < o.scrollWidth : void 0;
    }
    function a(t, l) {
      var e = o.getComputedStyle(t, null)["overflow" + l];
      return "auto" === e || "scroll" === e;
    }
    function d(t) {
      var l,
        e,
        i,
        c,
        n = (s() - t.startTime) / r;
      c = n = n > 1 ? 1 : n, l = .5 * (1 - Math.cos(Math.PI * c)), e = t.startX + (t.x - t.startX) * l, i = t.startY + (t.y - t.startY) * l, t.method.call(t.scrollable, e, i), e === t.x && i === t.y || o.requestAnimationFrame(d.bind(o, t));
    }
    function h(l, e, r) {
      var c,
        f,
        p,
        a,
        h = s();
      l === t.body ? (c = o, f = o.scrollX || o.pageXOffset, p = o.scrollY || o.pageYOffset, a = i.scroll) : (c = l, f = l.scrollLeft, p = l.scrollTop, a = n), d({
        scrollable: c,
        method: a,
        startTime: h,
        startX: f,
        startY: p,
        x: e,
        y: r
      });
    }
  }
  "object" == ( false ? 0 : _typeof(exports)) && "undefined" != "object" ? module.exports = {
    polyfill: o
  } : o();
}();

/***/ }),

/***/ "./resources/js/swipe.js":
/*!*******************************!*\
  !*** ./resources/js/swipe.js ***!
  \*******************************/
/***/ (() => {

var touchstartX = 0;
var touchstartY = 0;
var touchendX = 0;
var touchendY = 0;
var disableSwipeForElements = ['.disable-swipe-navigation', '#navigation-container', '.ranking', '.classify', '.matching', '.wrs_modal_dialogContainer'];
var swipeAccuracyDefer = 100;
var gestureZone = document.getElementById('body');
gestureZone.addEventListener('touchstart', function (event) {
  touchstartX = event.changedTouches[0].screenX;
  touchstartY = event.changedTouches[0].screenY;
}, false);
gestureZone.addEventListener('touchend', function (event) {
  touchendX = event.changedTouches[0].screenX;
  touchendY = event.changedTouches[0].screenY;
}, false);
handleGesture = function handleGesture(target) {
  if (!shouldSwipeDirectionBeReturned(target)) return;
  if (diff(touchendY, touchstartY) > swipeAccuracyDefer && touchendY < touchstartY) {
    return 'down';
  }
  if (diff(touchendY, touchstartY) > swipeAccuracyDefer && touchendY > touchstartY) {
    //Swipe up
    return 'up';
  }
  if (diff(touchendX, touchstartX) > swipeAccuracyDefer && touchendX < touchstartX) {
    //Swipe left
    return 'left';
  }
  if (diff(touchendX, touchstartX) > swipeAccuracyDefer && touchendX > touchstartX) {
    //Swipe right
    return 'right';
  }
  if (touchendY === touchstartY) {
    //Tap
    return 'tab';
  }
};
function diff(a, b) {
  return Math.abs(a - b);
}
function shouldSwipeDirectionBeReturned(target) {
  var returnDirection = true;
  disableSwipeForElements.forEach(function (el) {
    if (target.closest(el) !== null) {
      returnDirection = false;
    }
  });
  return returnDirection;
}

/***/ }),

/***/ "./resources/js/webspellchecker_tlc.js":
/*!*********************************************!*\
  !*** ./resources/js/webspellchecker_tlc.js ***!
  \*********************************************/
/***/ (() => {

WebspellcheckerTlc = {
  lang: function lang(editor, language) {
    var i = 0;
    var timer = setInterval(function () {
      ++i;
      if (i === 50) clearInterval(timer);
      if (typeof WEBSPELLCHECKER != "undefined") {
        WEBSPELLCHECKER.getInstances().forEach(function (instance) {
          instance.setLang(language);
        });
        clearInterval(timer);
      }
    }, 200);
  },
  setEditorToReadOnly: function setEditorToReadOnly(editor) {
    setTimeout(function () {
      editor.ui.view.editable.element.setAttribute('contenteditable', false);
    }, 3000);
  },
  subscribeToProblemCounter: function subscribeToProblemCounter(editor) {
    var i = 0;
    var problemTimer = setInterval(function () {
      ++i;
      if (i === 50) clearInterval(problemTimer);
      if (typeof WEBSPELLCHECKER != "undefined") {
        var instance = WEBSPELLCHECKER.getInstances().pop();
        if (instance == undefined) return;
        instance.subscribe('problemCheckEnded', function (event) {
          window.dispatchEvent(new CustomEvent('wsc-problems-count-updated-' + editor.sourceElement.id, {
            detail: {
              problemsCount: instance.getProblemsCount()
            }
          }));
        });
        clearInterval(problemTimer);
      }
    }, 200);
  },
  /**
   * This function is used to handle the spellchecker on/off button and store it in user session 
   * @param {object} editor
   */
  handleSpellCheckerOnOff: function handleSpellCheckerOnOff(editor) {
    var initialStatus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
    spellChecker = editor.plugins.get('WProofreader');
    spellChecker.isEnabled = initialStatus; // set initial status
    this.captureSpellCheckerOnOff(spellChecker);
  },
  captureSpellCheckerOnOff: function captureSpellCheckerOnOff(spellChecker) {
    var _this = this;
    currentState = spellChecker.isEnabled;
    spellChecker.on('change', function () {
      if (spellChecker.isEnabled != currentState) {
        currentState = spellChecker.isEnabled;
        _this.storeIsSpellCheckerOnOffInSession(currentState);
      }
    });
  },
  storeIsSpellCheckerOnOffInSession: function storeIsSpellCheckerOnOffInSession(isSpellCheckerEnabled) {
    window.dispatchEvent(new CustomEvent('store-to-session', {
      'detail': {
        isSpellCheckerEnabled: isSpellCheckerEnabled
      }
    }));
  }
};

/***/ }),

/***/ "./vendor/wire-elements/modal/resources/js/modal.js":
/*!**********************************************************!*\
  !*** ./vendor/wire-elements/modal/resources/js/modal.js ***!
  \**********************************************************/
/***/ (() => {

window.LivewireUIModal = function () {
  return {
    show: false,
    showActiveComponent: true,
    activeComponent: false,
    componentHistory: [],
    modalWidth: null,
    getActiveComponentModalAttribute: function getActiveComponentModalAttribute(key) {
      if (this.$wire.get('components')[this.activeComponent] !== undefined) {
        return this.$wire.get('components')[this.activeComponent]['modalAttributes'][key];
      }
    },
    closeModalOnEscape: function closeModalOnEscape(trigger) {
      if (this.getActiveComponentModalAttribute('closeOnEscape') === false) {
        return;
      }
      var force = this.getActiveComponentModalAttribute('closeOnEscapeIsForceful') === true;
      this.closeModal(force);
    },
    closeModalOnClickAway: function closeModalOnClickAway(trigger) {
      if (this.getActiveComponentModalAttribute('closeOnClickAway') === false) {
        return;
      }
      this.closeModal(true);
    },
    closeModal: function closeModal() {
      var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      var skipPreviousModals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      var destroySkipped = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
      if (this.show === false) {
        return;
      }
      if (this.getActiveComponentModalAttribute('dispatchCloseEvent') === true) {
        var componentName = this.$wire.get('components')[this.activeComponent].name;
        Livewire.emit('modalClosed', componentName);
      }
      if (this.getActiveComponentModalAttribute('destroyOnClose') === true) {
        Livewire.emit('destroyComponent', this.activeComponent);
      }
      if (skipPreviousModals > 0) {
        for (var i = 0; i < skipPreviousModals; i++) {
          if (destroySkipped) {
            var _id = this.componentHistory[this.componentHistory.length - 1];
            Livewire.emit('destroyComponent', _id);
          }
          this.componentHistory.pop();
        }
      }
      var id = this.componentHistory.pop();
      if (id && force === false) {
        if (id) {
          this.setActiveModalComponent(id, true);
        } else {
          this.setShowPropertyTo(false);
        }
      } else {
        this.setShowPropertyTo(false);
      }
    },
    setActiveModalComponent: function setActiveModalComponent(id) {
      var _this = this;
      var skip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      this.setShowPropertyTo(true);
      if (this.activeComponent === id) {
        return;
      }
      if (this.activeComponent !== false && skip === false) {
        this.componentHistory.push(this.activeComponent);
      }
      var focusableTimeout = 50;
      if (this.activeComponent === false) {
        this.activeComponent = id;
        this.showActiveComponent = true;
        this.modalWidth = this.getActiveComponentModalAttribute('maxWidthClass');
      } else {
        this.showActiveComponent = false;
        focusableTimeout = 400;
        setTimeout(function () {
          _this.activeComponent = id;
          _this.showActiveComponent = true;
          _this.modalWidth = _this.getActiveComponentModalAttribute('maxWidthClass');
        }, 300);
      }
    },
    setShowPropertyTo: function setShowPropertyTo(show) {
      var _this2 = this;
      this.show = show;
      if (show) {
        document.body.classList.add('overflow-y-hidden');
      } else {
        document.body.classList.remove('overflow-y-hidden');
        setTimeout(function () {
          _this2.activeComponent = false;
          _this2.$wire.resetState();
        }, 300);
      }
    },
    init: function init() {
      var _this3 = this;
      this.modalWidth = this.getActiveComponentModalAttribute('maxWidthClass');
      Livewire.on('closeModal', function () {
        var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
        var skipPreviousModals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
        var destroySkipped = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
        _this3.closeModal(force, skipPreviousModals, destroySkipped);
      });
      Livewire.on('activeModalComponentChanged', function (id) {
        _this3.setActiveModalComponent(id);
      });
    }
  };
};

/***/ }),

/***/ "./node_modules/choices.js/public/assets/scripts/choices.js":
/*!******************************************************************!*\
  !*** ./node_modules/choices.js/public/assets/scripts/choices.js ***!
  \******************************************************************/
/***/ ((module) => {

/*! choices.js v10.2.0 | © 2022 Josh Johnson | https://github.com/jshjohnson/Choices#readme */
(function webpackUniversalModuleDefinition(root, factory) {
	if(true)
		module.exports = factory();
	else {}
})(window, function() {
return /******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ 282:
/***/ (function(__unused_webpack_module, exports, __nested_webpack_require_632__) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.clearChoices = exports.activateChoices = exports.filterChoices = exports.addChoice = void 0;
var constants_1 = __nested_webpack_require_632__(883);
var addChoice = function (_a) {
  var value = _a.value,
    label = _a.label,
    id = _a.id,
    groupId = _a.groupId,
    disabled = _a.disabled,
    elementId = _a.elementId,
    customProperties = _a.customProperties,
    placeholder = _a.placeholder,
    keyCode = _a.keyCode;
  return {
    type: constants_1.ACTION_TYPES.ADD_CHOICE,
    value: value,
    label: label,
    id: id,
    groupId: groupId,
    disabled: disabled,
    elementId: elementId,
    customProperties: customProperties,
    placeholder: placeholder,
    keyCode: keyCode
  };
};
exports.addChoice = addChoice;
var filterChoices = function (results) {
  return {
    type: constants_1.ACTION_TYPES.FILTER_CHOICES,
    results: results
  };
};
exports.filterChoices = filterChoices;
var activateChoices = function (active) {
  if (active === void 0) {
    active = true;
  }
  return {
    type: constants_1.ACTION_TYPES.ACTIVATE_CHOICES,
    active: active
  };
};
exports.activateChoices = activateChoices;
var clearChoices = function () {
  return {
    type: constants_1.ACTION_TYPES.CLEAR_CHOICES
  };
};
exports.clearChoices = clearChoices;

/***/ }),

/***/ 783:
/***/ (function(__unused_webpack_module, exports, __nested_webpack_require_2068__) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.addGroup = void 0;
var constants_1 = __nested_webpack_require_2068__(883);
var addGroup = function (_a) {
  var value = _a.value,
    id = _a.id,
    active = _a.active,
    disabled = _a.disabled;
  return {
    type: constants_1.ACTION_TYPES.ADD_GROUP,
    value: value,
    id: id,
    active: active,
    disabled: disabled
  };
};
exports.addGroup = addGroup;

/***/ }),

/***/ 464:
/***/ (function(__unused_webpack_module, exports, __nested_webpack_require_2595__) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.highlightItem = exports.removeItem = exports.addItem = void 0;
var constants_1 = __nested_webpack_require_2595__(883);
var addItem = function (_a) {
  var value = _a.value,
    label = _a.label,
    id = _a.id,
    choiceId = _a.choiceId,
    groupId = _a.groupId,
    customProperties = _a.customProperties,
    placeholder = _a.placeholder,
    keyCode = _a.keyCode;
  return {
    type: constants_1.ACTION_TYPES.ADD_ITEM,
    value: value,
    label: label,
    id: id,
    choiceId: choiceId,
    groupId: groupId,
    customProperties: customProperties,
    placeholder: placeholder,
    keyCode: keyCode
  };
};
exports.addItem = addItem;
var removeItem = function (id, choiceId) {
  return {
    type: constants_1.ACTION_TYPES.REMOVE_ITEM,
    id: id,
    choiceId: choiceId
  };
};
exports.removeItem = removeItem;
var highlightItem = function (id, highlighted) {
  return {
    type: constants_1.ACTION_TYPES.HIGHLIGHT_ITEM,
    id: id,
    highlighted: highlighted
  };
};
exports.highlightItem = highlightItem;

/***/ }),

/***/ 137:
/***/ (function(__unused_webpack_module, exports, __nested_webpack_require_3779__) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.setIsLoading = exports.resetTo = exports.clearAll = void 0;
var constants_1 = __nested_webpack_require_3779__(883);
var clearAll = function () {
  return {
    type: constants_1.ACTION_TYPES.CLEAR_ALL
  };
};
exports.clearAll = clearAll;
var resetTo = function (state) {
  return {
    type: constants_1.ACTION_TYPES.RESET_TO,
    state: state
  };
};
exports.resetTo = resetTo;
var setIsLoading = function (isLoading) {
  return {
    type: constants_1.ACTION_TYPES.SET_IS_LOADING,
    isLoading: isLoading
  };
};
exports.setIsLoading = setIsLoading;

/***/ }),

/***/ 373:
/***/ (function(__unused_webpack_module, exports, __nested_webpack_require_4494__) {



var __spreadArray = this && this.__spreadArray || function (to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var __importDefault = this && this.__importDefault || function (mod) {
  return mod && mod.__esModule ? mod : {
    "default": mod
  };
};
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var deepmerge_1 = __importDefault(__nested_webpack_require_4494__(996));
/* eslint-disable @typescript-eslint/no-explicit-any */
var fuse_js_1 = __importDefault(__nested_webpack_require_4494__(221));
var choices_1 = __nested_webpack_require_4494__(282);
var groups_1 = __nested_webpack_require_4494__(783);
var items_1 = __nested_webpack_require_4494__(464);
var misc_1 = __nested_webpack_require_4494__(137);
var components_1 = __nested_webpack_require_4494__(520);
var constants_1 = __nested_webpack_require_4494__(883);
var defaults_1 = __nested_webpack_require_4494__(789);
var utils_1 = __nested_webpack_require_4494__(799);
var reducers_1 = __nested_webpack_require_4494__(655);
var store_1 = __importDefault(__nested_webpack_require_4494__(744));
var templates_1 = __importDefault(__nested_webpack_require_4494__(686));
/** @see {@link http://browserhacks.com/#hack-acea075d0ac6954f275a70023906050c} */
var IS_IE11 = '-ms-scroll-limit' in document.documentElement.style && '-ms-ime-align' in document.documentElement.style;
var USER_DEFAULTS = {};
/**
 * Choices
 * @author Josh Johnson<josh@joshuajohnson.co.uk>
 */
var Choices = /** @class */function () {
  function Choices(element, userConfig) {
    if (element === void 0) {
      element = '[data-choice]';
    }
    if (userConfig === void 0) {
      userConfig = {};
    }
    var _this = this;
    if (userConfig.allowHTML === undefined) {
      console.warn('Deprecation warning: allowHTML will default to false in a future release. To render HTML in Choices, you will need to set it to true. Setting allowHTML will suppress this message.');
    }
    this.config = deepmerge_1.default.all([defaults_1.DEFAULT_CONFIG, Choices.defaults.options, userConfig],
    // When merging array configs, replace with a copy of the userConfig array,
    // instead of concatenating with the default array
    {
      arrayMerge: function (_, sourceArray) {
        return __spreadArray([], sourceArray, true);
      }
    });
    var invalidConfigOptions = (0, utils_1.diff)(this.config, defaults_1.DEFAULT_CONFIG);
    if (invalidConfigOptions.length) {
      console.warn('Unknown config option(s) passed', invalidConfigOptions.join(', '));
    }
    var passedElement = typeof element === 'string' ? document.querySelector(element) : element;
    if (!(passedElement instanceof HTMLInputElement || passedElement instanceof HTMLSelectElement)) {
      throw TypeError('Expected one of the following types text|select-one|select-multiple');
    }
    this._isTextElement = passedElement.type === constants_1.TEXT_TYPE;
    this._isSelectOneElement = passedElement.type === constants_1.SELECT_ONE_TYPE;
    this._isSelectMultipleElement = passedElement.type === constants_1.SELECT_MULTIPLE_TYPE;
    this._isSelectElement = this._isSelectOneElement || this._isSelectMultipleElement;
    this.config.searchEnabled = this._isSelectMultipleElement || this.config.searchEnabled;
    if (!['auto', 'always'].includes("".concat(this.config.renderSelectedChoices))) {
      this.config.renderSelectedChoices = 'auto';
    }
    if (userConfig.addItemFilter && typeof userConfig.addItemFilter !== 'function') {
      var re = userConfig.addItemFilter instanceof RegExp ? userConfig.addItemFilter : new RegExp(userConfig.addItemFilter);
      this.config.addItemFilter = re.test.bind(re);
    }
    if (this._isTextElement) {
      this.passedElement = new components_1.WrappedInput({
        element: passedElement,
        classNames: this.config.classNames,
        delimiter: this.config.delimiter
      });
    } else {
      this.passedElement = new components_1.WrappedSelect({
        element: passedElement,
        classNames: this.config.classNames,
        template: function (data) {
          return _this._templates.option(data);
        }
      });
    }
    this.initialised = false;
    this._store = new store_1.default();
    this._initialState = reducers_1.defaultState;
    this._currentState = reducers_1.defaultState;
    this._prevState = reducers_1.defaultState;
    this._currentValue = '';
    this._canSearch = !!this.config.searchEnabled;
    this._isScrollingOnIe = false;
    this._highlightPosition = 0;
    this._wasTap = true;
    this._placeholderValue = this._generatePlaceholderValue();
    this._baseId = (0, utils_1.generateId)(this.passedElement.element, 'choices-');
    /**
     * setting direction in cases where it's explicitly set on passedElement
     * or when calculated direction is different from the document
     */
    this._direction = this.passedElement.dir;
    if (!this._direction) {
      var elementDirection = window.getComputedStyle(this.passedElement.element).direction;
      var documentDirection = window.getComputedStyle(document.documentElement).direction;
      if (elementDirection !== documentDirection) {
        this._direction = elementDirection;
      }
    }
    this._idNames = {
      itemChoice: 'item-choice'
    };
    if (this._isSelectElement) {
      // Assign preset groups from passed element
      this._presetGroups = this.passedElement.optionGroups;
      // Assign preset options from passed element
      this._presetOptions = this.passedElement.options;
    }
    // Assign preset choices from passed object
    this._presetChoices = this.config.choices;
    // Assign preset items from passed object first
    this._presetItems = this.config.items;
    // Add any values passed from attribute
    if (this.passedElement.value && this._isTextElement) {
      var splitValues = this.passedElement.value.split(this.config.delimiter);
      this._presetItems = this._presetItems.concat(splitValues);
    }
    // Create array of choices from option elements
    if (this.passedElement.options) {
      this.passedElement.options.forEach(function (option) {
        _this._presetChoices.push({
          value: option.value,
          label: option.innerHTML,
          selected: !!option.selected,
          disabled: option.disabled || option.parentNode.disabled,
          placeholder: option.value === '' || option.hasAttribute('placeholder'),
          customProperties: (0, utils_1.parseCustomProperties)(option.dataset.customProperties)
        });
      });
    }
    this._render = this._render.bind(this);
    this._onFocus = this._onFocus.bind(this);
    this._onBlur = this._onBlur.bind(this);
    this._onKeyUp = this._onKeyUp.bind(this);
    this._onKeyDown = this._onKeyDown.bind(this);
    this._onClick = this._onClick.bind(this);
    this._onTouchMove = this._onTouchMove.bind(this);
    this._onTouchEnd = this._onTouchEnd.bind(this);
    this._onMouseDown = this._onMouseDown.bind(this);
    this._onMouseOver = this._onMouseOver.bind(this);
    this._onFormReset = this._onFormReset.bind(this);
    this._onSelectKey = this._onSelectKey.bind(this);
    this._onEnterKey = this._onEnterKey.bind(this);
    this._onEscapeKey = this._onEscapeKey.bind(this);
    this._onDirectionKey = this._onDirectionKey.bind(this);
    this._onDeleteKey = this._onDeleteKey.bind(this);
    // If element has already been initialised with Choices, fail silently
    if (this.passedElement.isActive) {
      if (!this.config.silent) {
        console.warn('Trying to initialise Choices on element already initialised', {
          element: element
        });
      }
      this.initialised = true;
      return;
    }
    // Let's go
    this.init();
  }
  Object.defineProperty(Choices, "defaults", {
    get: function () {
      return Object.preventExtensions({
        get options() {
          return USER_DEFAULTS;
        },
        get templates() {
          return templates_1.default;
        }
      });
    },
    enumerable: false,
    configurable: true
  });
  Choices.prototype.init = function () {
    if (this.initialised) {
      return;
    }
    this._createTemplates();
    this._createElements();
    this._createStructure();
    this._store.subscribe(this._render);
    this._render();
    this._addEventListeners();
    var shouldDisable = !this.config.addItems || this.passedElement.element.hasAttribute('disabled');
    if (shouldDisable) {
      this.disable();
    }
    this.initialised = true;
    var callbackOnInit = this.config.callbackOnInit;
    // Run callback if it is a function
    if (callbackOnInit && typeof callbackOnInit === 'function') {
      callbackOnInit.call(this);
    }
  };
  Choices.prototype.destroy = function () {
    if (!this.initialised) {
      return;
    }
    this._removeEventListeners();
    this.passedElement.reveal();
    this.containerOuter.unwrap(this.passedElement.element);
    this.clearStore();
    if (this._isSelectElement) {
      this.passedElement.options = this._presetOptions;
    }
    this._templates = templates_1.default;
    this.initialised = false;
  };
  Choices.prototype.enable = function () {
    if (this.passedElement.isDisabled) {
      this.passedElement.enable();
    }
    if (this.containerOuter.isDisabled) {
      this._addEventListeners();
      this.input.enable();
      this.containerOuter.enable();
    }
    return this;
  };
  Choices.prototype.disable = function () {
    if (!this.passedElement.isDisabled) {
      this.passedElement.disable();
    }
    if (!this.containerOuter.isDisabled) {
      this._removeEventListeners();
      this.input.disable();
      this.containerOuter.disable();
    }
    return this;
  };
  Choices.prototype.highlightItem = function (item, runEvent) {
    if (runEvent === void 0) {
      runEvent = true;
    }
    if (!item || !item.id) {
      return this;
    }
    var id = item.id,
      _a = item.groupId,
      groupId = _a === void 0 ? -1 : _a,
      _b = item.value,
      value = _b === void 0 ? '' : _b,
      _c = item.label,
      label = _c === void 0 ? '' : _c;
    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;
    this._store.dispatch((0, items_1.highlightItem)(id, true));
    if (runEvent) {
      this.passedElement.triggerEvent(constants_1.EVENTS.highlightItem, {
        id: id,
        value: value,
        label: label,
        groupValue: group && group.value ? group.value : null
      });
    }
    return this;
  };
  Choices.prototype.unhighlightItem = function (item) {
    if (!item || !item.id) {
      return this;
    }
    var id = item.id,
      _a = item.groupId,
      groupId = _a === void 0 ? -1 : _a,
      _b = item.value,
      value = _b === void 0 ? '' : _b,
      _c = item.label,
      label = _c === void 0 ? '' : _c;
    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;
    this._store.dispatch((0, items_1.highlightItem)(id, false));
    this.passedElement.triggerEvent(constants_1.EVENTS.highlightItem, {
      id: id,
      value: value,
      label: label,
      groupValue: group && group.value ? group.value : null
    });
    return this;
  };
  Choices.prototype.highlightAll = function () {
    var _this = this;
    this._store.items.forEach(function (item) {
      return _this.highlightItem(item);
    });
    return this;
  };
  Choices.prototype.unhighlightAll = function () {
    var _this = this;
    this._store.items.forEach(function (item) {
      return _this.unhighlightItem(item);
    });
    return this;
  };
  Choices.prototype.removeActiveItemsByValue = function (value) {
    var _this = this;
    this._store.activeItems.filter(function (item) {
      return item.value === value;
    }).forEach(function (item) {
      return _this._removeItem(item);
    });
    return this;
  };
  Choices.prototype.removeActiveItems = function (excludedId) {
    var _this = this;
    this._store.activeItems.filter(function (_a) {
      var id = _a.id;
      return id !== excludedId;
    }).forEach(function (item) {
      return _this._removeItem(item);
    });
    return this;
  };
  Choices.prototype.removeHighlightedItems = function (runEvent) {
    var _this = this;
    if (runEvent === void 0) {
      runEvent = false;
    }
    this._store.highlightedActiveItems.forEach(function (item) {
      _this._removeItem(item);
      // If this action was performed by the user
      // trigger the event
      if (runEvent) {
        _this._triggerChange(item.value);
      }
    });
    return this;
  };
  Choices.prototype.showDropdown = function (preventInputFocus) {
    var _this = this;
    if (this.dropdown.isActive) {
      return this;
    }
    requestAnimationFrame(function () {
      _this.dropdown.show();
      _this.containerOuter.open(_this.dropdown.distanceFromTopWindow);
      if (!preventInputFocus && _this._canSearch) {
        _this.input.focus();
      }
      _this.passedElement.triggerEvent(constants_1.EVENTS.showDropdown, {});
    });
    return this;
  };
  Choices.prototype.hideDropdown = function (preventInputBlur) {
    var _this = this;
    if (!this.dropdown.isActive) {
      return this;
    }
    requestAnimationFrame(function () {
      _this.dropdown.hide();
      _this.containerOuter.close();
      if (!preventInputBlur && _this._canSearch) {
        _this.input.removeActiveDescendant();
        _this.input.blur();
      }
      _this.passedElement.triggerEvent(constants_1.EVENTS.hideDropdown, {});
    });
    return this;
  };
  Choices.prototype.getValue = function (valueOnly) {
    if (valueOnly === void 0) {
      valueOnly = false;
    }
    var values = this._store.activeItems.reduce(function (selectedItems, item) {
      var itemValue = valueOnly ? item.value : item;
      selectedItems.push(itemValue);
      return selectedItems;
    }, []);
    return this._isSelectOneElement ? values[0] : values;
  };
  Choices.prototype.setValue = function (items) {
    var _this = this;
    if (!this.initialised) {
      return this;
    }
    items.forEach(function (value) {
      return _this._setChoiceOrItem(value);
    });
    return this;
  };
  Choices.prototype.setChoiceByValue = function (value) {
    var _this = this;
    if (!this.initialised || this._isTextElement) {
      return this;
    }
    // If only one value has been passed, convert to array
    var choiceValue = Array.isArray(value) ? value : [value];
    // Loop through each value and
    choiceValue.forEach(function (val) {
      return _this._findAndSelectChoiceByValue(val);
    });
    return this;
  };
  /**
   * Set choices of select input via an array of objects (or function that returns array of object or promise of it),
   * a value field name and a label field name.
   * This behaves the same as passing items via the choices option but can be called after initialising Choices.
   * This can also be used to add groups of choices (see example 2); Optionally pass a true `replaceChoices` value to remove any existing choices.
   * Optionally pass a `customProperties` object to add additional data to your choices (useful when searching/filtering etc).
   *
   * **Input types affected:** select-one, select-multiple
   *
   * @example
   * ```js
   * const example = new Choices(element);
   *
   * example.setChoices([
   *   {value: 'One', label: 'Label One', disabled: true},
   *   {value: 'Two', label: 'Label Two', selected: true},
   *   {value: 'Three', label: 'Label Three'},
   * ], 'value', 'label', false);
   * ```
   *
   * @example
   * ```js
   * const example = new Choices(element);
   *
   * example.setChoices(async () => {
   *   try {
   *      const items = await fetch('/items');
   *      return items.json()
   *   } catch(err) {
   *      console.error(err)
   *   }
   * });
   * ```
   *
   * @example
   * ```js
   * const example = new Choices(element);
   *
   * example.setChoices([{
   *   label: 'Group one',
   *   id: 1,
   *   disabled: false,
   *   choices: [
   *     {value: 'Child One', label: 'Child One', selected: true},
   *     {value: 'Child Two', label: 'Child Two',  disabled: true},
   *     {value: 'Child Three', label: 'Child Three'},
   *   ]
   * },
   * {
   *   label: 'Group two',
   *   id: 2,
   *   disabled: false,
   *   choices: [
   *     {value: 'Child Four', label: 'Child Four', disabled: true},
   *     {value: 'Child Five', label: 'Child Five'},
   *     {value: 'Child Six', label: 'Child Six', customProperties: {
   *       description: 'Custom description about child six',
   *       random: 'Another random custom property'
   *     }},
   *   ]
   * }], 'value', 'label', false);
   * ```
   */
  Choices.prototype.setChoices = function (choicesArrayOrFetcher, value, label, replaceChoices) {
    var _this = this;
    if (choicesArrayOrFetcher === void 0) {
      choicesArrayOrFetcher = [];
    }
    if (value === void 0) {
      value = 'value';
    }
    if (label === void 0) {
      label = 'label';
    }
    if (replaceChoices === void 0) {
      replaceChoices = false;
    }
    if (!this.initialised) {
      throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");
    }
    if (!this._isSelectElement) {
      throw new TypeError("setChoices can't be used with INPUT based Choices");
    }
    if (typeof value !== 'string' || !value) {
      throw new TypeError("value parameter must be a name of 'value' field in passed objects");
    }
    // Clear choices if needed
    if (replaceChoices) {
      this.clearChoices();
    }
    if (typeof choicesArrayOrFetcher === 'function') {
      // it's a choices fetcher function
      var fetcher_1 = choicesArrayOrFetcher(this);
      if (typeof Promise === 'function' && fetcher_1 instanceof Promise) {
        // that's a promise
        // eslint-disable-next-line no-promise-executor-return
        return new Promise(function (resolve) {
          return requestAnimationFrame(resolve);
        }).then(function () {
          return _this._handleLoadingState(true);
        }).then(function () {
          return fetcher_1;
        }).then(function (data) {
          return _this.setChoices(data, value, label, replaceChoices);
        }).catch(function (err) {
          if (!_this.config.silent) {
            console.error(err);
          }
        }).then(function () {
          return _this._handleLoadingState(false);
        }).then(function () {
          return _this;
        });
      }
      // function returned something else than promise, let's check if it's an array of choices
      if (!Array.isArray(fetcher_1)) {
        throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof fetcher_1));
      }
      // recursion with results, it's sync and choices were cleared already
      return this.setChoices(fetcher_1, value, label, false);
    }
    if (!Array.isArray(choicesArrayOrFetcher)) {
      throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");
    }
    this.containerOuter.removeLoadingState();
    this._startLoading();
    choicesArrayOrFetcher.forEach(function (groupOrChoice) {
      if (groupOrChoice.choices) {
        _this._addGroup({
          id: groupOrChoice.id ? parseInt("".concat(groupOrChoice.id), 10) : null,
          group: groupOrChoice,
          valueKey: value,
          labelKey: label
        });
      } else {
        var choice = groupOrChoice;
        _this._addChoice({
          value: choice[value],
          label: choice[label],
          isSelected: !!choice.selected,
          isDisabled: !!choice.disabled,
          placeholder: !!choice.placeholder,
          customProperties: choice.customProperties
        });
      }
    });
    this._stopLoading();
    return this;
  };
  Choices.prototype.clearChoices = function () {
    this._store.dispatch((0, choices_1.clearChoices)());
    return this;
  };
  Choices.prototype.clearStore = function () {
    this._store.dispatch((0, misc_1.clearAll)());
    return this;
  };
  Choices.prototype.clearInput = function () {
    var shouldSetInputWidth = !this._isSelectOneElement;
    this.input.clear(shouldSetInputWidth);
    if (!this._isTextElement && this._canSearch) {
      this._isSearching = false;
      this._store.dispatch((0, choices_1.activateChoices)(true));
    }
    return this;
  };
  Choices.prototype._render = function () {
    if (this._store.isLoading()) {
      return;
    }
    this._currentState = this._store.state;
    var stateChanged = this._currentState.choices !== this._prevState.choices || this._currentState.groups !== this._prevState.groups || this._currentState.items !== this._prevState.items;
    var shouldRenderChoices = this._isSelectElement;
    var shouldRenderItems = this._currentState.items !== this._prevState.items;
    if (!stateChanged) {
      return;
    }
    if (shouldRenderChoices) {
      this._renderChoices();
    }
    if (shouldRenderItems) {
      this._renderItems();
    }
    this._prevState = this._currentState;
  };
  Choices.prototype._renderChoices = function () {
    var _this = this;
    var _a = this._store,
      activeGroups = _a.activeGroups,
      activeChoices = _a.activeChoices;
    var choiceListFragment = document.createDocumentFragment();
    this.choiceList.clear();
    if (this.config.resetScrollPosition) {
      requestAnimationFrame(function () {
        return _this.choiceList.scrollToTop();
      });
    }
    // If we have grouped options
    if (activeGroups.length >= 1 && !this._isSearching) {
      // If we have a placeholder choice along with groups
      var activePlaceholders = activeChoices.filter(function (activeChoice) {
        return activeChoice.placeholder === true && activeChoice.groupId === -1;
      });
      if (activePlaceholders.length >= 1) {
        choiceListFragment = this._createChoicesFragment(activePlaceholders, choiceListFragment);
      }
      choiceListFragment = this._createGroupsFragment(activeGroups, activeChoices, choiceListFragment);
    } else if (activeChoices.length >= 1) {
      choiceListFragment = this._createChoicesFragment(activeChoices, choiceListFragment);
    }
    // If we have choices to show
    if (choiceListFragment.childNodes && choiceListFragment.childNodes.length > 0) {
      var activeItems = this._store.activeItems;
      var canAddItem = this._canAddItem(activeItems, this.input.value);
      // ...and we can select them
      if (canAddItem.response) {
        // ...append them and highlight the first choice
        this.choiceList.append(choiceListFragment);
        this._highlightChoice();
      } else {
        var notice = this._getTemplate('notice', canAddItem.notice);
        this.choiceList.append(notice);
      }
    } else {
      // Otherwise show a notice
      var dropdownItem = void 0;
      var notice = void 0;
      if (this._isSearching) {
        notice = typeof this.config.noResultsText === 'function' ? this.config.noResultsText() : this.config.noResultsText;
        dropdownItem = this._getTemplate('notice', notice, 'no-results');
      } else {
        notice = typeof this.config.noChoicesText === 'function' ? this.config.noChoicesText() : this.config.noChoicesText;
        dropdownItem = this._getTemplate('notice', notice, 'no-choices');
      }
      this.choiceList.append(dropdownItem);
    }
  };
  Choices.prototype._renderItems = function () {
    var activeItems = this._store.activeItems || [];
    this.itemList.clear();
    // Create a fragment to store our list items
    // (so we don't have to update the DOM for each item)
    var itemListFragment = this._createItemsFragment(activeItems);
    // If we have items to add, append them
    if (itemListFragment.childNodes) {
      this.itemList.append(itemListFragment);
    }
  };
  Choices.prototype._createGroupsFragment = function (groups, choices, fragment) {
    var _this = this;
    if (fragment === void 0) {
      fragment = document.createDocumentFragment();
    }
    var getGroupChoices = function (group) {
      return choices.filter(function (choice) {
        if (_this._isSelectOneElement) {
          return choice.groupId === group.id;
        }
        return choice.groupId === group.id && (_this.config.renderSelectedChoices === 'always' || !choice.selected);
      });
    };
    // If sorting is enabled, filter groups
    if (this.config.shouldSort) {
      groups.sort(this.config.sorter);
    }
    groups.forEach(function (group) {
      var groupChoices = getGroupChoices(group);
      if (groupChoices.length >= 1) {
        var dropdownGroup = _this._getTemplate('choiceGroup', group);
        fragment.appendChild(dropdownGroup);
        _this._createChoicesFragment(groupChoices, fragment, true);
      }
    });
    return fragment;
  };
  Choices.prototype._createChoicesFragment = function (choices, fragment, withinGroup) {
    var _this = this;
    if (fragment === void 0) {
      fragment = document.createDocumentFragment();
    }
    if (withinGroup === void 0) {
      withinGroup = false;
    }
    // Create a fragment to store our list items (so we don't have to update the DOM for each item)
    var _a = this.config,
      renderSelectedChoices = _a.renderSelectedChoices,
      searchResultLimit = _a.searchResultLimit,
      renderChoiceLimit = _a.renderChoiceLimit;
    var filter = this._isSearching ? utils_1.sortByScore : this.config.sorter;
    var appendChoice = function (choice) {
      var shouldRender = renderSelectedChoices === 'auto' ? _this._isSelectOneElement || !choice.selected : true;
      if (shouldRender) {
        var dropdownItem = _this._getTemplate('choice', choice, _this.config.itemSelectText);
        fragment.appendChild(dropdownItem);
      }
    };
    var rendererableChoices = choices;
    if (renderSelectedChoices === 'auto' && !this._isSelectOneElement) {
      rendererableChoices = choices.filter(function (choice) {
        return !choice.selected;
      });
    }
    // Split array into placeholders and "normal" choices
    var _b = rendererableChoices.reduce(function (acc, choice) {
        if (choice.placeholder) {
          acc.placeholderChoices.push(choice);
        } else {
          acc.normalChoices.push(choice);
        }
        return acc;
      }, {
        placeholderChoices: [],
        normalChoices: []
      }),
      placeholderChoices = _b.placeholderChoices,
      normalChoices = _b.normalChoices;
    // If sorting is enabled or the user is searching, filter choices
    if (this.config.shouldSort || this._isSearching) {
      normalChoices.sort(filter);
    }
    var choiceLimit = rendererableChoices.length;
    // Prepend placeholeder
    var sortedChoices = this._isSelectOneElement ? __spreadArray(__spreadArray([], placeholderChoices, true), normalChoices, true) : normalChoices;
    if (this._isSearching) {
      choiceLimit = searchResultLimit;
    } else if (renderChoiceLimit && renderChoiceLimit > 0 && !withinGroup) {
      choiceLimit = renderChoiceLimit;
    }
    // Add each choice to dropdown within range
    for (var i = 0; i < choiceLimit; i += 1) {
      if (sortedChoices[i]) {
        appendChoice(sortedChoices[i]);
      }
    }
    return fragment;
  };
  Choices.prototype._createItemsFragment = function (items, fragment) {
    var _this = this;
    if (fragment === void 0) {
      fragment = document.createDocumentFragment();
    }
    // Create fragment to add elements to
    var _a = this.config,
      shouldSortItems = _a.shouldSortItems,
      sorter = _a.sorter,
      removeItemButton = _a.removeItemButton;
    // If sorting is enabled, filter items
    if (shouldSortItems && !this._isSelectOneElement) {
      items.sort(sorter);
    }
    if (this._isTextElement) {
      // Update the value of the hidden input
      this.passedElement.value = items.map(function (_a) {
        var value = _a.value;
        return value;
      }).join(this.config.delimiter);
    } else {
      // Update the options of the hidden input
      this.passedElement.options = items;
    }
    var addItemToFragment = function (item) {
      // Create new list element
      var listItem = _this._getTemplate('item', item, removeItemButton);
      // Append it to list
      fragment.appendChild(listItem);
    };
    // Add each list item to list
    items.forEach(addItemToFragment);
    return fragment;
  };
  Choices.prototype._triggerChange = function (value) {
    if (value === undefined || value === null) {
      return;
    }
    this.passedElement.triggerEvent(constants_1.EVENTS.change, {
      value: value
    });
  };
  Choices.prototype._selectPlaceholderChoice = function (placeholderChoice) {
    this._addItem({
      value: placeholderChoice.value,
      label: placeholderChoice.label,
      choiceId: placeholderChoice.id,
      groupId: placeholderChoice.groupId,
      placeholder: placeholderChoice.placeholder
    });
    this._triggerChange(placeholderChoice.value);
  };
  Choices.prototype._handleButtonAction = function (activeItems, element) {
    if (!activeItems || !element || !this.config.removeItems || !this.config.removeItemButton) {
      return;
    }
    var itemId = element.parentNode && element.parentNode.dataset.id;
    var itemToRemove = itemId && activeItems.find(function (item) {
      return item.id === parseInt(itemId, 10);
    });
    if (!itemToRemove) {
      return;
    }
    // Remove item associated with button
    this._removeItem(itemToRemove);
    this._triggerChange(itemToRemove.value);
    if (this._isSelectOneElement && this._store.placeholderChoice) {
      this._selectPlaceholderChoice(this._store.placeholderChoice);
    }
  };
  Choices.prototype._handleItemAction = function (activeItems, element, hasShiftKey) {
    var _this = this;
    if (hasShiftKey === void 0) {
      hasShiftKey = false;
    }
    if (!activeItems || !element || !this.config.removeItems || this._isSelectOneElement) {
      return;
    }
    var passedId = element.dataset.id;
    // We only want to select one item with a click
    // so we deselect any items that aren't the target
    // unless shift is being pressed
    activeItems.forEach(function (item) {
      if (item.id === parseInt("".concat(passedId), 10) && !item.highlighted) {
        _this.highlightItem(item);
      } else if (!hasShiftKey && item.highlighted) {
        _this.unhighlightItem(item);
      }
    });
    // Focus input as without focus, a user cannot do anything with a
    // highlighted item
    this.input.focus();
  };
  Choices.prototype._handleChoiceAction = function (activeItems, element) {
    if (!activeItems || !element) {
      return;
    }
    // If we are clicking on an option
    var id = element.dataset.id;
    var choice = id && this._store.getChoiceById(id);
    if (!choice) {
      return;
    }
    var passedKeyCode = activeItems[0] && activeItems[0].keyCode ? activeItems[0].keyCode : undefined;
    var hasActiveDropdown = this.dropdown.isActive;
    // Update choice keyCode
    choice.keyCode = passedKeyCode;
    this.passedElement.triggerEvent(constants_1.EVENTS.choice, {
      choice: choice
    });
    if (!choice.selected && !choice.disabled) {
      var canAddItem = this._canAddItem(activeItems, choice.value);
      if (canAddItem.response) {
        this._addItem({
          value: choice.value,
          label: choice.label,
          choiceId: choice.id,
          groupId: choice.groupId,
          customProperties: choice.customProperties,
          placeholder: choice.placeholder,
          keyCode: choice.keyCode
        });
        this._triggerChange(choice.value);
      }
    }
    this.clearInput();
    // We want to close the dropdown if we are dealing with a single select box
    if (hasActiveDropdown && this._isSelectOneElement) {
      this.hideDropdown(true);
      this.containerOuter.focus();
    }
  };
  Choices.prototype._handleBackspace = function (activeItems) {
    if (!this.config.removeItems || !activeItems) {
      return;
    }
    var lastItem = activeItems[activeItems.length - 1];
    var hasHighlightedItems = activeItems.some(function (item) {
      return item.highlighted;
    });
    // If editing the last item is allowed and there are not other selected items,
    // we can edit the item value. Otherwise if we can remove items, remove all selected items
    if (this.config.editItems && !hasHighlightedItems && lastItem) {
      this.input.value = lastItem.value;
      this.input.setWidth();
      this._removeItem(lastItem);
      this._triggerChange(lastItem.value);
    } else {
      if (!hasHighlightedItems) {
        // Highlight last item if none already highlighted
        this.highlightItem(lastItem, false);
      }
      this.removeHighlightedItems(true);
    }
  };
  Choices.prototype._startLoading = function () {
    this._store.dispatch((0, misc_1.setIsLoading)(true));
  };
  Choices.prototype._stopLoading = function () {
    this._store.dispatch((0, misc_1.setIsLoading)(false));
  };
  Choices.prototype._handleLoadingState = function (setLoading) {
    if (setLoading === void 0) {
      setLoading = true;
    }
    var placeholderItem = this.itemList.getChild(".".concat(this.config.classNames.placeholder));
    if (setLoading) {
      this.disable();
      this.containerOuter.addLoadingState();
      if (this._isSelectOneElement) {
        if (!placeholderItem) {
          placeholderItem = this._getTemplate('placeholder', this.config.loadingText);
          if (placeholderItem) {
            this.itemList.append(placeholderItem);
          }
        } else {
          placeholderItem.innerHTML = this.config.loadingText;
        }
      } else {
        this.input.placeholder = this.config.loadingText;
      }
    } else {
      this.enable();
      this.containerOuter.removeLoadingState();
      if (this._isSelectOneElement) {
        if (placeholderItem) {
          placeholderItem.innerHTML = this._placeholderValue || '';
        }
      } else {
        this.input.placeholder = this._placeholderValue || '';
      }
    }
  };
  Choices.prototype._handleSearch = function (value) {
    if (!this.input.isFocussed) {
      return;
    }
    var choices = this._store.choices;
    var _a = this.config,
      searchFloor = _a.searchFloor,
      searchChoices = _a.searchChoices;
    var hasUnactiveChoices = choices.some(function (option) {
      return !option.active;
    });
    // Check that we have a value to search and the input was an alphanumeric character
    if (value !== null && typeof value !== 'undefined' && value.length >= searchFloor) {
      var resultCount = searchChoices ? this._searchChoices(value) : 0;
      // Trigger search event
      this.passedElement.triggerEvent(constants_1.EVENTS.search, {
        value: value,
        resultCount: resultCount
      });
    } else if (hasUnactiveChoices) {
      // Otherwise reset choices to active
      this._isSearching = false;
      this._store.dispatch((0, choices_1.activateChoices)(true));
    }
  };
  Choices.prototype._canAddItem = function (activeItems, value) {
    var canAddItem = true;
    var notice = typeof this.config.addItemText === 'function' ? this.config.addItemText(value) : this.config.addItemText;
    if (!this._isSelectOneElement) {
      var isDuplicateValue = (0, utils_1.existsInArray)(activeItems, value);
      if (this.config.maxItemCount > 0 && this.config.maxItemCount <= activeItems.length) {
        // If there is a max entry limit and we have reached that limit
        // don't update
        canAddItem = false;
        notice = typeof this.config.maxItemText === 'function' ? this.config.maxItemText(this.config.maxItemCount) : this.config.maxItemText;
      }
      if (!this.config.duplicateItemsAllowed && isDuplicateValue && canAddItem) {
        canAddItem = false;
        notice = typeof this.config.uniqueItemText === 'function' ? this.config.uniqueItemText(value) : this.config.uniqueItemText;
      }
      if (this._isTextElement && this.config.addItems && canAddItem && typeof this.config.addItemFilter === 'function' && !this.config.addItemFilter(value)) {
        canAddItem = false;
        notice = typeof this.config.customAddItemText === 'function' ? this.config.customAddItemText(value) : this.config.customAddItemText;
      }
    }
    return {
      response: canAddItem,
      notice: notice
    };
  };
  Choices.prototype._searchChoices = function (value) {
    var newValue = typeof value === 'string' ? value.trim() : value;
    var currentValue = typeof this._currentValue === 'string' ? this._currentValue.trim() : this._currentValue;
    if (newValue.length < 1 && newValue === "".concat(currentValue, " ")) {
      return 0;
    }
    // If new value matches the desired length and is not the same as the current value with a space
    var haystack = this._store.searchableChoices;
    var needle = newValue;
    var options = Object.assign(this.config.fuseOptions, {
      keys: __spreadArray([], this.config.searchFields, true),
      includeMatches: true
    });
    var fuse = new fuse_js_1.default(haystack, options);
    var results = fuse.search(needle); // see https://github.com/krisk/Fuse/issues/303
    this._currentValue = newValue;
    this._highlightPosition = 0;
    this._isSearching = true;
    this._store.dispatch((0, choices_1.filterChoices)(results));
    return results.length;
  };
  Choices.prototype._addEventListeners = function () {
    var documentElement = document.documentElement;
    // capture events - can cancel event processing or propagation
    documentElement.addEventListener('touchend', this._onTouchEnd, true);
    this.containerOuter.element.addEventListener('keydown', this._onKeyDown, true);
    this.containerOuter.element.addEventListener('mousedown', this._onMouseDown, true);
    // passive events - doesn't call `preventDefault` or `stopPropagation`
    documentElement.addEventListener('click', this._onClick, {
      passive: true
    });
    documentElement.addEventListener('touchmove', this._onTouchMove, {
      passive: true
    });
    this.dropdown.element.addEventListener('mouseover', this._onMouseOver, {
      passive: true
    });
    if (this._isSelectOneElement) {
      this.containerOuter.element.addEventListener('focus', this._onFocus, {
        passive: true
      });
      this.containerOuter.element.addEventListener('blur', this._onBlur, {
        passive: true
      });
    }
    this.input.element.addEventListener('keyup', this._onKeyUp, {
      passive: true
    });
    this.input.element.addEventListener('focus', this._onFocus, {
      passive: true
    });
    this.input.element.addEventListener('blur', this._onBlur, {
      passive: true
    });
    if (this.input.element.form) {
      this.input.element.form.addEventListener('reset', this._onFormReset, {
        passive: true
      });
    }
    this.input.addEventListeners();
  };
  Choices.prototype._removeEventListeners = function () {
    var documentElement = document.documentElement;
    documentElement.removeEventListener('touchend', this._onTouchEnd, true);
    this.containerOuter.element.removeEventListener('keydown', this._onKeyDown, true);
    this.containerOuter.element.removeEventListener('mousedown', this._onMouseDown, true);
    documentElement.removeEventListener('click', this._onClick);
    documentElement.removeEventListener('touchmove', this._onTouchMove);
    this.dropdown.element.removeEventListener('mouseover', this._onMouseOver);
    if (this._isSelectOneElement) {
      this.containerOuter.element.removeEventListener('focus', this._onFocus);
      this.containerOuter.element.removeEventListener('blur', this._onBlur);
    }
    this.input.element.removeEventListener('keyup', this._onKeyUp);
    this.input.element.removeEventListener('focus', this._onFocus);
    this.input.element.removeEventListener('blur', this._onBlur);
    if (this.input.element.form) {
      this.input.element.form.removeEventListener('reset', this._onFormReset);
    }
    this.input.removeEventListeners();
  };
  Choices.prototype._onKeyDown = function (event) {
    var keyCode = event.keyCode;
    var activeItems = this._store.activeItems;
    var hasFocusedInput = this.input.isFocussed;
    var hasActiveDropdown = this.dropdown.isActive;
    var hasItems = this.itemList.hasChildren();
    var keyString = String.fromCharCode(keyCode);
    // eslint-disable-next-line no-control-regex
    var wasPrintableChar = /[^\x00-\x1F]/.test(keyString);
    var BACK_KEY = constants_1.KEY_CODES.BACK_KEY,
      DELETE_KEY = constants_1.KEY_CODES.DELETE_KEY,
      ENTER_KEY = constants_1.KEY_CODES.ENTER_KEY,
      A_KEY = constants_1.KEY_CODES.A_KEY,
      ESC_KEY = constants_1.KEY_CODES.ESC_KEY,
      UP_KEY = constants_1.KEY_CODES.UP_KEY,
      DOWN_KEY = constants_1.KEY_CODES.DOWN_KEY,
      PAGE_UP_KEY = constants_1.KEY_CODES.PAGE_UP_KEY,
      PAGE_DOWN_KEY = constants_1.KEY_CODES.PAGE_DOWN_KEY;
    if (!this._isTextElement && !hasActiveDropdown && wasPrintableChar) {
      this.showDropdown();
      if (!this.input.isFocussed) {
        /*
          We update the input value with the pressed key as
          the input was not focussed at the time of key press
          therefore does not have the value of the key.
        */
        this.input.value += event.key.toLowerCase();
      }
    }
    switch (keyCode) {
      case A_KEY:
        return this._onSelectKey(event, hasItems);
      case ENTER_KEY:
        return this._onEnterKey(event, activeItems, hasActiveDropdown);
      case ESC_KEY:
        return this._onEscapeKey(hasActiveDropdown);
      case UP_KEY:
      case PAGE_UP_KEY:
      case DOWN_KEY:
      case PAGE_DOWN_KEY:
        return this._onDirectionKey(event, hasActiveDropdown);
      case DELETE_KEY:
      case BACK_KEY:
        return this._onDeleteKey(event, activeItems, hasFocusedInput);
      default:
    }
  };
  Choices.prototype._onKeyUp = function (_a) {
    var target = _a.target,
      keyCode = _a.keyCode;
    var value = this.input.value;
    var activeItems = this._store.activeItems;
    var canAddItem = this._canAddItem(activeItems, value);
    var backKey = constants_1.KEY_CODES.BACK_KEY,
      deleteKey = constants_1.KEY_CODES.DELETE_KEY;
    // We are typing into a text input and have a value, we want to show a dropdown
    // notice. Otherwise hide the dropdown
    if (this._isTextElement) {
      var canShowDropdownNotice = canAddItem.notice && value;
      if (canShowDropdownNotice) {
        var dropdownItem = this._getTemplate('notice', canAddItem.notice);
        this.dropdown.element.innerHTML = dropdownItem.outerHTML;
        this.showDropdown(true);
      } else {
        this.hideDropdown(true);
      }
    } else {
      var wasRemovalKeyCode = keyCode === backKey || keyCode === deleteKey;
      var userHasRemovedValue = wasRemovalKeyCode && target && !target.value;
      var canReactivateChoices = !this._isTextElement && this._isSearching;
      var canSearch = this._canSearch && canAddItem.response;
      if (userHasRemovedValue && canReactivateChoices) {
        this._isSearching = false;
        this._store.dispatch((0, choices_1.activateChoices)(true));
      } else if (canSearch) {
        this._handleSearch(this.input.rawValue);
      }
    }
    this._canSearch = this.config.searchEnabled;
  };
  Choices.prototype._onSelectKey = function (event, hasItems) {
    var ctrlKey = event.ctrlKey,
      metaKey = event.metaKey;
    var hasCtrlDownKeyPressed = ctrlKey || metaKey;
    // If CTRL + A or CMD + A have been pressed and there are items to select
    if (hasCtrlDownKeyPressed && hasItems) {
      this._canSearch = false;
      var shouldHightlightAll = this.config.removeItems && !this.input.value && this.input.element === document.activeElement;
      if (shouldHightlightAll) {
        this.highlightAll();
      }
    }
  };
  Choices.prototype._onEnterKey = function (event, activeItems, hasActiveDropdown) {
    var target = event.target;
    var enterKey = constants_1.KEY_CODES.ENTER_KEY;
    var targetWasButton = target && target.hasAttribute('data-button');
    if (this._isTextElement && target && target.value) {
      var value = this.input.value;
      var canAddItem = this._canAddItem(activeItems, value);
      if (canAddItem.response) {
        this.hideDropdown(true);
        this._addItem({
          value: value
        });
        this._triggerChange(value);
        this.clearInput();
      }
    }
    if (targetWasButton) {
      this._handleButtonAction(activeItems, target);
      event.preventDefault();
    }
    if (hasActiveDropdown) {
      var highlightedChoice = this.dropdown.getChild(".".concat(this.config.classNames.highlightedState));
      if (highlightedChoice) {
        // add enter keyCode value
        if (activeItems[0]) {
          activeItems[0].keyCode = enterKey; // eslint-disable-line no-param-reassign
        }

        this._handleChoiceAction(activeItems, highlightedChoice);
      }
      event.preventDefault();
    } else if (this._isSelectOneElement) {
      this.showDropdown();
      event.preventDefault();
    }
  };
  Choices.prototype._onEscapeKey = function (hasActiveDropdown) {
    if (hasActiveDropdown) {
      this.hideDropdown(true);
      this.containerOuter.focus();
    }
  };
  Choices.prototype._onDirectionKey = function (event, hasActiveDropdown) {
    var keyCode = event.keyCode,
      metaKey = event.metaKey;
    var downKey = constants_1.KEY_CODES.DOWN_KEY,
      pageUpKey = constants_1.KEY_CODES.PAGE_UP_KEY,
      pageDownKey = constants_1.KEY_CODES.PAGE_DOWN_KEY;
    // If up or down key is pressed, traverse through options
    if (hasActiveDropdown || this._isSelectOneElement) {
      this.showDropdown();
      this._canSearch = false;
      var directionInt = keyCode === downKey || keyCode === pageDownKey ? 1 : -1;
      var skipKey = metaKey || keyCode === pageDownKey || keyCode === pageUpKey;
      var selectableChoiceIdentifier = '[data-choice-selectable]';
      var nextEl = void 0;
      if (skipKey) {
        if (directionInt > 0) {
          nextEl = this.dropdown.element.querySelector("".concat(selectableChoiceIdentifier, ":last-of-type"));
        } else {
          nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);
        }
      } else {
        var currentEl = this.dropdown.element.querySelector(".".concat(this.config.classNames.highlightedState));
        if (currentEl) {
          nextEl = (0, utils_1.getAdjacentEl)(currentEl, selectableChoiceIdentifier, directionInt);
        } else {
          nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);
        }
      }
      if (nextEl) {
        // We prevent default to stop the cursor moving
        // when pressing the arrow
        if (!(0, utils_1.isScrolledIntoView)(nextEl, this.choiceList.element, directionInt)) {
          this.choiceList.scrollToChildElement(nextEl, directionInt);
        }
        this._highlightChoice(nextEl);
      }
      // Prevent default to maintain cursor position whilst
      // traversing dropdown options
      event.preventDefault();
    }
  };
  Choices.prototype._onDeleteKey = function (event, activeItems, hasFocusedInput) {
    var target = event.target;
    // If backspace or delete key is pressed and the input has no value
    if (!this._isSelectOneElement && !target.value && hasFocusedInput) {
      this._handleBackspace(activeItems);
      event.preventDefault();
    }
  };
  Choices.prototype._onTouchMove = function () {
    if (this._wasTap) {
      this._wasTap = false;
    }
  };
  Choices.prototype._onTouchEnd = function (event) {
    var target = (event || event.touches[0]).target;
    var touchWasWithinContainer = this._wasTap && this.containerOuter.element.contains(target);
    if (touchWasWithinContainer) {
      var containerWasExactTarget = target === this.containerOuter.element || target === this.containerInner.element;
      if (containerWasExactTarget) {
        if (this._isTextElement) {
          this.input.focus();
        } else if (this._isSelectMultipleElement) {
          this.showDropdown();
        }
      }
      // Prevents focus event firing
      event.stopPropagation();
    }
    this._wasTap = true;
  };
  /**
   * Handles mousedown event in capture mode for containetOuter.element
   */
  Choices.prototype._onMouseDown = function (event) {
    var target = event.target;
    if (!(target instanceof HTMLElement)) {
      return;
    }
    // If we have our mouse down on the scrollbar and are on IE11...
    if (IS_IE11 && this.choiceList.element.contains(target)) {
      // check if click was on a scrollbar area
      var firstChoice = this.choiceList.element.firstElementChild;
      var isOnScrollbar = this._direction === 'ltr' ? event.offsetX >= firstChoice.offsetWidth : event.offsetX < firstChoice.offsetLeft;
      this._isScrollingOnIe = isOnScrollbar;
    }
    if (target === this.input.element) {
      return;
    }
    var item = target.closest('[data-button],[data-item],[data-choice]');
    if (item instanceof HTMLElement) {
      var hasShiftKey = event.shiftKey;
      var activeItems = this._store.activeItems;
      var dataset = item.dataset;
      if ('button' in dataset) {
        this._handleButtonAction(activeItems, item);
      } else if ('item' in dataset) {
        this._handleItemAction(activeItems, item, hasShiftKey);
      } else if ('choice' in dataset) {
        this._handleChoiceAction(activeItems, item);
      }
    }
    event.preventDefault();
  };
  /**
   * Handles mouseover event over this.dropdown
   * @param {MouseEvent} event
   */
  Choices.prototype._onMouseOver = function (_a) {
    var target = _a.target;
    if (target instanceof HTMLElement && 'choice' in target.dataset) {
      this._highlightChoice(target);
    }
  };
  Choices.prototype._onClick = function (_a) {
    var target = _a.target;
    var clickWasWithinContainer = this.containerOuter.element.contains(target);
    if (clickWasWithinContainer) {
      if (!this.dropdown.isActive && !this.containerOuter.isDisabled) {
        if (this._isTextElement) {
          if (document.activeElement !== this.input.element) {
            this.input.focus();
          }
        } else {
          this.showDropdown();
          this.containerOuter.focus();
        }
      } else if (this._isSelectOneElement && target !== this.input.element && !this.dropdown.element.contains(target)) {
        this.hideDropdown();
      }
    } else {
      var hasHighlightedItems = this._store.highlightedActiveItems.length > 0;
      if (hasHighlightedItems) {
        this.unhighlightAll();
      }
      this.containerOuter.removeFocusState();
      this.hideDropdown(true);
    }
  };
  Choices.prototype._onFocus = function (_a) {
    var _b;
    var _this = this;
    var target = _a.target;
    var focusWasWithinContainer = target && this.containerOuter.element.contains(target);
    if (!focusWasWithinContainer) {
      return;
    }
    var focusActions = (_b = {}, _b[constants_1.TEXT_TYPE] = function () {
      if (target === _this.input.element) {
        _this.containerOuter.addFocusState();
      }
    }, _b[constants_1.SELECT_ONE_TYPE] = function () {
      _this.containerOuter.addFocusState();
      if (target === _this.input.element) {
        _this.showDropdown(true);
      }
    }, _b[constants_1.SELECT_MULTIPLE_TYPE] = function () {
      if (target === _this.input.element) {
        _this.showDropdown(true);
        // If element is a select box, the focused element is the container and the dropdown
        // isn't already open, focus and show dropdown
        _this.containerOuter.addFocusState();
      }
    }, _b);
    focusActions[this.passedElement.element.type]();
  };
  Choices.prototype._onBlur = function (_a) {
    var _b;
    var _this = this;
    var target = _a.target;
    var blurWasWithinContainer = target && this.containerOuter.element.contains(target);
    if (blurWasWithinContainer && !this._isScrollingOnIe) {
      var activeItems = this._store.activeItems;
      var hasHighlightedItems_1 = activeItems.some(function (item) {
        return item.highlighted;
      });
      var blurActions = (_b = {}, _b[constants_1.TEXT_TYPE] = function () {
        if (target === _this.input.element) {
          _this.containerOuter.removeFocusState();
          if (hasHighlightedItems_1) {
            _this.unhighlightAll();
          }
          _this.hideDropdown(true);
        }
      }, _b[constants_1.SELECT_ONE_TYPE] = function () {
        _this.containerOuter.removeFocusState();
        if (target === _this.input.element || target === _this.containerOuter.element && !_this._canSearch) {
          _this.hideDropdown(true);
        }
      }, _b[constants_1.SELECT_MULTIPLE_TYPE] = function () {
        if (target === _this.input.element) {
          _this.containerOuter.removeFocusState();
          _this.hideDropdown(true);
          if (hasHighlightedItems_1) {
            _this.unhighlightAll();
          }
        }
      }, _b);
      blurActions[this.passedElement.element.type]();
    } else {
      // On IE11, clicking the scollbar blurs our input and thus
      // closes the dropdown. To stop this, we refocus our input
      // if we know we are on IE *and* are scrolling.
      this._isScrollingOnIe = false;
      this.input.element.focus();
    }
  };
  Choices.prototype._onFormReset = function () {
    this._store.dispatch((0, misc_1.resetTo)(this._initialState));
  };
  Choices.prototype._highlightChoice = function (el) {
    var _this = this;
    if (el === void 0) {
      el = null;
    }
    var choices = Array.from(this.dropdown.element.querySelectorAll('[data-choice-selectable]'));
    if (!choices.length) {
      return;
    }
    var passedEl = el;
    var highlightedChoices = Array.from(this.dropdown.element.querySelectorAll(".".concat(this.config.classNames.highlightedState)));
    // Remove any highlighted choices
    highlightedChoices.forEach(function (choice) {
      choice.classList.remove(_this.config.classNames.highlightedState);
      choice.setAttribute('aria-selected', 'false');
    });
    if (passedEl) {
      this._highlightPosition = choices.indexOf(passedEl);
    } else {
      // Highlight choice based on last known highlight location
      if (choices.length > this._highlightPosition) {
        // If we have an option to highlight
        passedEl = choices[this._highlightPosition];
      } else {
        // Otherwise highlight the option before
        passedEl = choices[choices.length - 1];
      }
      if (!passedEl) {
        passedEl = choices[0];
      }
    }
    passedEl.classList.add(this.config.classNames.highlightedState);
    passedEl.setAttribute('aria-selected', 'true');
    this.passedElement.triggerEvent(constants_1.EVENTS.highlightChoice, {
      el: passedEl
    });
    if (this.dropdown.isActive) {
      // IE11 ignores aria-label and blocks virtual keyboard
      // if aria-activedescendant is set without a dropdown
      this.input.setActiveDescendant(passedEl.id);
      this.containerOuter.setActiveDescendant(passedEl.id);
    }
  };
  Choices.prototype._addItem = function (_a) {
    var value = _a.value,
      _b = _a.label,
      label = _b === void 0 ? null : _b,
      _c = _a.choiceId,
      choiceId = _c === void 0 ? -1 : _c,
      _d = _a.groupId,
      groupId = _d === void 0 ? -1 : _d,
      _e = _a.customProperties,
      customProperties = _e === void 0 ? {} : _e,
      _f = _a.placeholder,
      placeholder = _f === void 0 ? false : _f,
      _g = _a.keyCode,
      keyCode = _g === void 0 ? -1 : _g;
    var passedValue = typeof value === 'string' ? value.trim() : value;
    var items = this._store.items;
    var passedLabel = label || passedValue;
    var passedOptionId = choiceId || -1;
    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;
    var id = items ? items.length + 1 : 1;
    // If a prepended value has been passed, prepend it
    if (this.config.prependValue) {
      passedValue = this.config.prependValue + passedValue.toString();
    }
    // If an appended value has been passed, append it
    if (this.config.appendValue) {
      passedValue += this.config.appendValue.toString();
    }
    this._store.dispatch((0, items_1.addItem)({
      value: passedValue,
      label: passedLabel,
      id: id,
      choiceId: passedOptionId,
      groupId: groupId,
      customProperties: customProperties,
      placeholder: placeholder,
      keyCode: keyCode
    }));
    if (this._isSelectOneElement) {
      this.removeActiveItems(id);
    }
    // Trigger change event
    this.passedElement.triggerEvent(constants_1.EVENTS.addItem, {
      id: id,
      value: passedValue,
      label: passedLabel,
      customProperties: customProperties,
      groupValue: group && group.value ? group.value : null,
      keyCode: keyCode
    });
  };
  Choices.prototype._removeItem = function (item) {
    var id = item.id,
      value = item.value,
      label = item.label,
      customProperties = item.customProperties,
      choiceId = item.choiceId,
      groupId = item.groupId;
    var group = groupId && groupId >= 0 ? this._store.getGroupById(groupId) : null;
    if (!id || !choiceId) {
      return;
    }
    this._store.dispatch((0, items_1.removeItem)(id, choiceId));
    this.passedElement.triggerEvent(constants_1.EVENTS.removeItem, {
      id: id,
      value: value,
      label: label,
      customProperties: customProperties,
      groupValue: group && group.value ? group.value : null
    });
  };
  Choices.prototype._addChoice = function (_a) {
    var value = _a.value,
      _b = _a.label,
      label = _b === void 0 ? null : _b,
      _c = _a.isSelected,
      isSelected = _c === void 0 ? false : _c,
      _d = _a.isDisabled,
      isDisabled = _d === void 0 ? false : _d,
      _e = _a.groupId,
      groupId = _e === void 0 ? -1 : _e,
      _f = _a.customProperties,
      customProperties = _f === void 0 ? {} : _f,
      _g = _a.placeholder,
      placeholder = _g === void 0 ? false : _g,
      _h = _a.keyCode,
      keyCode = _h === void 0 ? -1 : _h;
    if (typeof value === 'undefined' || value === null) {
      return;
    }
    // Generate unique id
    var choices = this._store.choices;
    var choiceLabel = label || value;
    var choiceId = choices ? choices.length + 1 : 1;
    var choiceElementId = "".concat(this._baseId, "-").concat(this._idNames.itemChoice, "-").concat(choiceId);
    this._store.dispatch((0, choices_1.addChoice)({
      id: choiceId,
      groupId: groupId,
      elementId: choiceElementId,
      value: value,
      label: choiceLabel,
      disabled: isDisabled,
      customProperties: customProperties,
      placeholder: placeholder,
      keyCode: keyCode
    }));
    if (isSelected) {
      this._addItem({
        value: value,
        label: choiceLabel,
        choiceId: choiceId,
        customProperties: customProperties,
        placeholder: placeholder,
        keyCode: keyCode
      });
    }
  };
  Choices.prototype._addGroup = function (_a) {
    var _this = this;
    var group = _a.group,
      id = _a.id,
      _b = _a.valueKey,
      valueKey = _b === void 0 ? 'value' : _b,
      _c = _a.labelKey,
      labelKey = _c === void 0 ? 'label' : _c;
    var groupChoices = (0, utils_1.isType)('Object', group) ? group.choices : Array.from(group.getElementsByTagName('OPTION'));
    var groupId = id || Math.floor(new Date().valueOf() * Math.random());
    var isDisabled = group.disabled ? group.disabled : false;
    if (groupChoices) {
      this._store.dispatch((0, groups_1.addGroup)({
        value: group.label,
        id: groupId,
        active: true,
        disabled: isDisabled
      }));
      var addGroupChoices = function (choice) {
        var isOptDisabled = choice.disabled || choice.parentNode && choice.parentNode.disabled;
        _this._addChoice({
          value: choice[valueKey],
          label: (0, utils_1.isType)('Object', choice) ? choice[labelKey] : choice.innerHTML,
          isSelected: choice.selected,
          isDisabled: isOptDisabled,
          groupId: groupId,
          customProperties: choice.customProperties,
          placeholder: choice.placeholder
        });
      };
      groupChoices.forEach(addGroupChoices);
    } else {
      this._store.dispatch((0, groups_1.addGroup)({
        value: group.label,
        id: group.id,
        active: false,
        disabled: group.disabled
      }));
    }
  };
  Choices.prototype._getTemplate = function (template) {
    var _a;
    var args = [];
    for (var _i = 1; _i < arguments.length; _i++) {
      args[_i - 1] = arguments[_i];
    }
    return (_a = this._templates[template]).call.apply(_a, __spreadArray([this, this.config], args, false));
  };
  Choices.prototype._createTemplates = function () {
    var callbackOnCreateTemplates = this.config.callbackOnCreateTemplates;
    var userTemplates = {};
    if (callbackOnCreateTemplates && typeof callbackOnCreateTemplates === 'function') {
      userTemplates = callbackOnCreateTemplates.call(this, utils_1.strToEl);
    }
    this._templates = (0, deepmerge_1.default)(templates_1.default, userTemplates);
  };
  Choices.prototype._createElements = function () {
    this.containerOuter = new components_1.Container({
      element: this._getTemplate('containerOuter', this._direction, this._isSelectElement, this._isSelectOneElement, this.config.searchEnabled, this.passedElement.element.type, this.config.labelId),
      classNames: this.config.classNames,
      type: this.passedElement.element.type,
      position: this.config.position
    });
    this.containerInner = new components_1.Container({
      element: this._getTemplate('containerInner'),
      classNames: this.config.classNames,
      type: this.passedElement.element.type,
      position: this.config.position
    });
    this.input = new components_1.Input({
      element: this._getTemplate('input', this._placeholderValue),
      classNames: this.config.classNames,
      type: this.passedElement.element.type,
      preventPaste: !this.config.paste
    });
    this.choiceList = new components_1.List({
      element: this._getTemplate('choiceList', this._isSelectOneElement)
    });
    this.itemList = new components_1.List({
      element: this._getTemplate('itemList', this._isSelectOneElement)
    });
    this.dropdown = new components_1.Dropdown({
      element: this._getTemplate('dropdown'),
      classNames: this.config.classNames,
      type: this.passedElement.element.type
    });
  };
  Choices.prototype._createStructure = function () {
    // Hide original element
    this.passedElement.conceal();
    // Wrap input in container preserving DOM ordering
    this.containerInner.wrap(this.passedElement.element);
    // Wrapper inner container with outer container
    this.containerOuter.wrap(this.containerInner.element);
    if (this._isSelectOneElement) {
      this.input.placeholder = this.config.searchPlaceholderValue || '';
    } else if (this._placeholderValue) {
      this.input.placeholder = this._placeholderValue;
      this.input.setWidth();
    }
    this.containerOuter.element.appendChild(this.containerInner.element);
    this.containerOuter.element.appendChild(this.dropdown.element);
    this.containerInner.element.appendChild(this.itemList.element);
    if (!this._isTextElement) {
      this.dropdown.element.appendChild(this.choiceList.element);
    }
    if (!this._isSelectOneElement) {
      this.containerInner.element.appendChild(this.input.element);
    } else if (this.config.searchEnabled) {
      this.dropdown.element.insertBefore(this.input.element, this.dropdown.element.firstChild);
    }
    if (this._isSelectElement) {
      this._highlightPosition = 0;
      this._isSearching = false;
      this._startLoading();
      if (this._presetGroups.length) {
        this._addPredefinedGroups(this._presetGroups);
      } else {
        this._addPredefinedChoices(this._presetChoices);
      }
      this._stopLoading();
    }
    if (this._isTextElement) {
      this._addPredefinedItems(this._presetItems);
    }
  };
  Choices.prototype._addPredefinedGroups = function (groups) {
    var _this = this;
    // If we have a placeholder option
    var placeholderChoice = this.passedElement.placeholderOption;
    if (placeholderChoice && placeholderChoice.parentNode && placeholderChoice.parentNode.tagName === 'SELECT') {
      this._addChoice({
        value: placeholderChoice.value,
        label: placeholderChoice.innerHTML,
        isSelected: placeholderChoice.selected,
        isDisabled: placeholderChoice.disabled,
        placeholder: true
      });
    }
    groups.forEach(function (group) {
      return _this._addGroup({
        group: group,
        id: group.id || null
      });
    });
  };
  Choices.prototype._addPredefinedChoices = function (choices) {
    var _this = this;
    // If sorting is enabled or the user is searching, filter choices
    if (this.config.shouldSort) {
      choices.sort(this.config.sorter);
    }
    var hasSelectedChoice = choices.some(function (choice) {
      return choice.selected;
    });
    var firstEnabledChoiceIndex = choices.findIndex(function (choice) {
      return choice.disabled === undefined || !choice.disabled;
    });
    choices.forEach(function (choice, index) {
      var _a = choice.value,
        value = _a === void 0 ? '' : _a,
        label = choice.label,
        customProperties = choice.customProperties,
        placeholder = choice.placeholder;
      if (_this._isSelectElement) {
        // If the choice is actually a group
        if (choice.choices) {
          _this._addGroup({
            group: choice,
            id: choice.id || null
          });
        } else {
          /**
           * If there is a selected choice already or the choice is not the first in
           * the array, add each choice normally.
           *
           * Otherwise we pre-select the first enabled choice in the array ("select-one" only)
           */
          var shouldPreselect = _this._isSelectOneElement && !hasSelectedChoice && index === firstEnabledChoiceIndex;
          var isSelected = shouldPreselect ? true : choice.selected;
          var isDisabled = choice.disabled;
          _this._addChoice({
            value: value,
            label: label,
            isSelected: !!isSelected,
            isDisabled: !!isDisabled,
            placeholder: !!placeholder,
            customProperties: customProperties
          });
        }
      } else {
        _this._addChoice({
          value: value,
          label: label,
          isSelected: !!choice.selected,
          isDisabled: !!choice.disabled,
          placeholder: !!choice.placeholder,
          customProperties: customProperties
        });
      }
    });
  };
  Choices.prototype._addPredefinedItems = function (items) {
    var _this = this;
    items.forEach(function (item) {
      if (typeof item === 'object' && item.value) {
        _this._addItem({
          value: item.value,
          label: item.label,
          choiceId: item.id,
          customProperties: item.customProperties,
          placeholder: item.placeholder
        });
      }
      if (typeof item === 'string') {
        _this._addItem({
          value: item
        });
      }
    });
  };
  Choices.prototype._setChoiceOrItem = function (item) {
    var _this = this;
    var itemType = (0, utils_1.getType)(item).toLowerCase();
    var handleType = {
      object: function () {
        if (!item.value) {
          return;
        }
        // If we are dealing with a select input, we need to create an option first
        // that is then selected. For text inputs we can just add items normally.
        if (!_this._isTextElement) {
          _this._addChoice({
            value: item.value,
            label: item.label,
            isSelected: true,
            isDisabled: false,
            customProperties: item.customProperties,
            placeholder: item.placeholder
          });
        } else {
          _this._addItem({
            value: item.value,
            label: item.label,
            choiceId: item.id,
            customProperties: item.customProperties,
            placeholder: item.placeholder
          });
        }
      },
      string: function () {
        if (!_this._isTextElement) {
          _this._addChoice({
            value: item,
            label: item,
            isSelected: true,
            isDisabled: false
          });
        } else {
          _this._addItem({
            value: item
          });
        }
      }
    };
    handleType[itemType]();
  };
  Choices.prototype._findAndSelectChoiceByValue = function (value) {
    var _this = this;
    var choices = this._store.choices;
    // Check 'value' property exists and the choice isn't already selected
    var foundChoice = choices.find(function (choice) {
      return _this.config.valueComparer(choice.value, value);
    });
    if (foundChoice && !foundChoice.selected) {
      this._addItem({
        value: foundChoice.value,
        label: foundChoice.label,
        choiceId: foundChoice.id,
        groupId: foundChoice.groupId,
        customProperties: foundChoice.customProperties,
        placeholder: foundChoice.placeholder,
        keyCode: foundChoice.keyCode
      });
    }
  };
  Choices.prototype._generatePlaceholderValue = function () {
    if (this._isSelectElement && this.passedElement.placeholderOption) {
      var placeholderOption = this.passedElement.placeholderOption;
      return placeholderOption ? placeholderOption.text : null;
    }
    var _a = this.config,
      placeholder = _a.placeholder,
      placeholderValue = _a.placeholderValue;
    var dataset = this.passedElement.element.dataset;
    if (placeholder) {
      if (placeholderValue) {
        return placeholderValue;
      }
      if (dataset.placeholder) {
        return dataset.placeholder;
      }
    }
    return null;
  };
  return Choices;
}();
exports["default"] = Choices;

/***/ }),

/***/ 613:
/***/ (function(__unused_webpack_module, exports, __nested_webpack_require_74916__) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var utils_1 = __nested_webpack_require_74916__(799);
var constants_1 = __nested_webpack_require_74916__(883);
var Container = /** @class */function () {
  function Container(_a) {
    var element = _a.element,
      type = _a.type,
      classNames = _a.classNames,
      position = _a.position;
    this.element = element;
    this.classNames = classNames;
    this.type = type;
    this.position = position;
    this.isOpen = false;
    this.isFlipped = false;
    this.isFocussed = false;
    this.isDisabled = false;
    this.isLoading = false;
    this._onFocus = this._onFocus.bind(this);
    this._onBlur = this._onBlur.bind(this);
  }
  Container.prototype.addEventListeners = function () {
    this.element.addEventListener('focus', this._onFocus);
    this.element.addEventListener('blur', this._onBlur);
  };
  Container.prototype.removeEventListeners = function () {
    this.element.removeEventListener('focus', this._onFocus);
    this.element.removeEventListener('blur', this._onBlur);
  };
  /**
   * Determine whether container should be flipped based on passed
   * dropdown position
   */
  Container.prototype.shouldFlip = function (dropdownPos) {
    if (typeof dropdownPos !== 'number') {
      return false;
    }
    // If flip is enabled and the dropdown bottom position is
    // greater than the window height flip the dropdown.
    var shouldFlip = false;
    if (this.position === 'auto') {
      shouldFlip = !window.matchMedia("(min-height: ".concat(dropdownPos + 1, "px)")).matches;
    } else if (this.position === 'top') {
      shouldFlip = true;
    }
    return shouldFlip;
  };
  Container.prototype.setActiveDescendant = function (activeDescendantID) {
    this.element.setAttribute('aria-activedescendant', activeDescendantID);
  };
  Container.prototype.removeActiveDescendant = function () {
    this.element.removeAttribute('aria-activedescendant');
  };
  Container.prototype.open = function (dropdownPos) {
    this.element.classList.add(this.classNames.openState);
    this.element.setAttribute('aria-expanded', 'true');
    this.isOpen = true;
    if (this.shouldFlip(dropdownPos)) {
      this.element.classList.add(this.classNames.flippedState);
      this.isFlipped = true;
    }
  };
  Container.prototype.close = function () {
    this.element.classList.remove(this.classNames.openState);
    this.element.setAttribute('aria-expanded', 'false');
    this.removeActiveDescendant();
    this.isOpen = false;
    // A dropdown flips if it does not have space within the page
    if (this.isFlipped) {
      this.element.classList.remove(this.classNames.flippedState);
      this.isFlipped = false;
    }
  };
  Container.prototype.focus = function () {
    if (!this.isFocussed) {
      this.element.focus();
    }
  };
  Container.prototype.addFocusState = function () {
    this.element.classList.add(this.classNames.focusState);
  };
  Container.prototype.removeFocusState = function () {
    this.element.classList.remove(this.classNames.focusState);
  };
  Container.prototype.enable = function () {
    this.element.classList.remove(this.classNames.disabledState);
    this.element.removeAttribute('aria-disabled');
    if (this.type === constants_1.SELECT_ONE_TYPE) {
      this.element.setAttribute('tabindex', '0');
    }
    this.isDisabled = false;
  };
  Container.prototype.disable = function () {
    this.element.classList.add(this.classNames.disabledState);
    this.element.setAttribute('aria-disabled', 'true');
    if (this.type === constants_1.SELECT_ONE_TYPE) {
      this.element.setAttribute('tabindex', '-1');
    }
    this.isDisabled = true;
  };
  Container.prototype.wrap = function (element) {
    (0, utils_1.wrap)(element, this.element);
  };
  Container.prototype.unwrap = function (element) {
    if (this.element.parentNode) {
      // Move passed element outside this element
      this.element.parentNode.insertBefore(element, this.element);
      // Remove this element
      this.element.parentNode.removeChild(this.element);
    }
  };
  Container.prototype.addLoadingState = function () {
    this.element.classList.add(this.classNames.loadingState);
    this.element.setAttribute('aria-busy', 'true');
    this.isLoading = true;
  };
  Container.prototype.removeLoadingState = function () {
    this.element.classList.remove(this.classNames.loadingState);
    this.element.removeAttribute('aria-busy');
    this.isLoading = false;
  };
  Container.prototype._onFocus = function () {
    this.isFocussed = true;
  };
  Container.prototype._onBlur = function () {
    this.isFocussed = false;
  };
  return Container;
}();
exports["default"] = Container;

/***/ }),

/***/ 217:
/***/ (function(__unused_webpack_module, exports) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var Dropdown = /** @class */function () {
  function Dropdown(_a) {
    var element = _a.element,
      type = _a.type,
      classNames = _a.classNames;
    this.element = element;
    this.classNames = classNames;
    this.type = type;
    this.isActive = false;
  }
  Object.defineProperty(Dropdown.prototype, "distanceFromTopWindow", {
    /**
     * Bottom position of dropdown in viewport coordinates
     */
    get: function () {
      return this.element.getBoundingClientRect().bottom;
    },
    enumerable: false,
    configurable: true
  });
  Dropdown.prototype.getChild = function (selector) {
    return this.element.querySelector(selector);
  };
  /**
   * Show dropdown to user by adding active state class
   */
  Dropdown.prototype.show = function () {
    this.element.classList.add(this.classNames.activeState);
    this.element.setAttribute('aria-expanded', 'true');
    this.isActive = true;
    return this;
  };
  /**
   * Hide dropdown from user
   */
  Dropdown.prototype.hide = function () {
    this.element.classList.remove(this.classNames.activeState);
    this.element.setAttribute('aria-expanded', 'false');
    this.isActive = false;
    return this;
  };
  return Dropdown;
}();
exports["default"] = Dropdown;

/***/ }),

/***/ 520:
/***/ (function(__unused_webpack_module, exports, __nested_webpack_require_81090__) {



var __importDefault = this && this.__importDefault || function (mod) {
  return mod && mod.__esModule ? mod : {
    "default": mod
  };
};
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.WrappedSelect = exports.WrappedInput = exports.List = exports.Input = exports.Container = exports.Dropdown = void 0;
var dropdown_1 = __importDefault(__nested_webpack_require_81090__(217));
exports.Dropdown = dropdown_1.default;
var container_1 = __importDefault(__nested_webpack_require_81090__(613));
exports.Container = container_1.default;
var input_1 = __importDefault(__nested_webpack_require_81090__(11));
exports.Input = input_1.default;
var list_1 = __importDefault(__nested_webpack_require_81090__(624));
exports.List = list_1.default;
var wrapped_input_1 = __importDefault(__nested_webpack_require_81090__(541));
exports.WrappedInput = wrapped_input_1.default;
var wrapped_select_1 = __importDefault(__nested_webpack_require_81090__(982));
exports.WrappedSelect = wrapped_select_1.default;

/***/ }),

/***/ 11:
/***/ (function(__unused_webpack_module, exports, __nested_webpack_require_82125__) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var utils_1 = __nested_webpack_require_82125__(799);
var constants_1 = __nested_webpack_require_82125__(883);
var Input = /** @class */function () {
  function Input(_a) {
    var element = _a.element,
      type = _a.type,
      classNames = _a.classNames,
      preventPaste = _a.preventPaste;
    this.element = element;
    this.type = type;
    this.classNames = classNames;
    this.preventPaste = preventPaste;
    this.isFocussed = this.element.isEqualNode(document.activeElement);
    this.isDisabled = element.disabled;
    this._onPaste = this._onPaste.bind(this);
    this._onInput = this._onInput.bind(this);
    this._onFocus = this._onFocus.bind(this);
    this._onBlur = this._onBlur.bind(this);
  }
  Object.defineProperty(Input.prototype, "placeholder", {
    set: function (placeholder) {
      this.element.placeholder = placeholder;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(Input.prototype, "value", {
    get: function () {
      return (0, utils_1.sanitise)(this.element.value);
    },
    set: function (value) {
      this.element.value = value;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(Input.prototype, "rawValue", {
    get: function () {
      return this.element.value;
    },
    enumerable: false,
    configurable: true
  });
  Input.prototype.addEventListeners = function () {
    this.element.addEventListener('paste', this._onPaste);
    this.element.addEventListener('input', this._onInput, {
      passive: true
    });
    this.element.addEventListener('focus', this._onFocus, {
      passive: true
    });
    this.element.addEventListener('blur', this._onBlur, {
      passive: true
    });
  };
  Input.prototype.removeEventListeners = function () {
    this.element.removeEventListener('input', this._onInput);
    this.element.removeEventListener('paste', this._onPaste);
    this.element.removeEventListener('focus', this._onFocus);
    this.element.removeEventListener('blur', this._onBlur);
  };
  Input.prototype.enable = function () {
    this.element.removeAttribute('disabled');
    this.isDisabled = false;
  };
  Input.prototype.disable = function () {
    this.element.setAttribute('disabled', '');
    this.isDisabled = true;
  };
  Input.prototype.focus = function () {
    if (!this.isFocussed) {
      this.element.focus();
    }
  };
  Input.prototype.blur = function () {
    if (this.isFocussed) {
      this.element.blur();
    }
  };
  Input.prototype.clear = function (setWidth) {
    if (setWidth === void 0) {
      setWidth = true;
    }
    if (this.element.value) {
      this.element.value = '';
    }
    if (setWidth) {
      this.setWidth();
    }
    return this;
  };
  /**
   * Set the correct input width based on placeholder
   * value or input value
   */
  Input.prototype.setWidth = function () {
    // Resize input to contents or placeholder
    var _a = this.element,
      style = _a.style,
      value = _a.value,
      placeholder = _a.placeholder;
    style.minWidth = "".concat(placeholder.length + 1, "ch");
    style.width = "".concat(value.length + 1, "ch");
  };
  Input.prototype.setActiveDescendant = function (activeDescendantID) {
    this.element.setAttribute('aria-activedescendant', activeDescendantID);
  };
  Input.prototype.removeActiveDescendant = function () {
    this.element.removeAttribute('aria-activedescendant');
  };
  Input.prototype._onInput = function () {
    if (this.type !== constants_1.SELECT_ONE_TYPE) {
      this.setWidth();
    }
  };
  Input.prototype._onPaste = function (event) {
    if (this.preventPaste) {
      event.preventDefault();
    }
  };
  Input.prototype._onFocus = function () {
    this.isFocussed = true;
  };
  Input.prototype._onBlur = function () {
    this.isFocussed = false;
  };
  return Input;
}();
exports["default"] = Input;

/***/ }),

/***/ 624:
/***/ (function(__unused_webpack_module, exports, __nested_webpack_require_86127__) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var constants_1 = __nested_webpack_require_86127__(883);
var List = /** @class */function () {
  function List(_a) {
    var element = _a.element;
    this.element = element;
    this.scrollPos = this.element.scrollTop;
    this.height = this.element.offsetHeight;
  }
  List.prototype.clear = function () {
    this.element.innerHTML = '';
  };
  List.prototype.append = function (node) {
    this.element.appendChild(node);
  };
  List.prototype.getChild = function (selector) {
    return this.element.querySelector(selector);
  };
  List.prototype.hasChildren = function () {
    return this.element.hasChildNodes();
  };
  List.prototype.scrollToTop = function () {
    this.element.scrollTop = 0;
  };
  List.prototype.scrollToChildElement = function (element, direction) {
    var _this = this;
    if (!element) {
      return;
    }
    var listHeight = this.element.offsetHeight;
    // Scroll position of dropdown
    var listScrollPosition = this.element.scrollTop + listHeight;
    var elementHeight = element.offsetHeight;
    // Distance from bottom of element to top of parent
    var elementPos = element.offsetTop + elementHeight;
    // Difference between the element and scroll position
    var destination = direction > 0 ? this.element.scrollTop + elementPos - listScrollPosition : element.offsetTop;
    requestAnimationFrame(function () {
      _this._animateScroll(destination, direction);
    });
  };
  List.prototype._scrollDown = function (scrollPos, strength, destination) {
    var easing = (destination - scrollPos) / strength;
    var distance = easing > 1 ? easing : 1;
    this.element.scrollTop = scrollPos + distance;
  };
  List.prototype._scrollUp = function (scrollPos, strength, destination) {
    var easing = (scrollPos - destination) / strength;
    var distance = easing > 1 ? easing : 1;
    this.element.scrollTop = scrollPos - distance;
  };
  List.prototype._animateScroll = function (destination, direction) {
    var _this = this;
    var strength = constants_1.SCROLLING_SPEED;
    var choiceListScrollTop = this.element.scrollTop;
    var continueAnimation = false;
    if (direction > 0) {
      this._scrollDown(choiceListScrollTop, strength, destination);
      if (choiceListScrollTop < destination) {
        continueAnimation = true;
      }
    } else {
      this._scrollUp(choiceListScrollTop, strength, destination);
      if (choiceListScrollTop > destination) {
        continueAnimation = true;
      }
    }
    if (continueAnimation) {
      requestAnimationFrame(function () {
        _this._animateScroll(destination, direction);
      });
    }
  };
  return List;
}();
exports["default"] = List;

/***/ }),

/***/ 730:
/***/ (function(__unused_webpack_module, exports, __nested_webpack_require_88948__) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var utils_1 = __nested_webpack_require_88948__(799);
var WrappedElement = /** @class */function () {
  function WrappedElement(_a) {
    var element = _a.element,
      classNames = _a.classNames;
    this.element = element;
    this.classNames = classNames;
    if (!(element instanceof HTMLInputElement) && !(element instanceof HTMLSelectElement)) {
      throw new TypeError('Invalid element passed');
    }
    this.isDisabled = false;
  }
  Object.defineProperty(WrappedElement.prototype, "isActive", {
    get: function () {
      return this.element.dataset.choice === 'active';
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(WrappedElement.prototype, "dir", {
    get: function () {
      return this.element.dir;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(WrappedElement.prototype, "value", {
    get: function () {
      return this.element.value;
    },
    set: function (value) {
      // you must define setter here otherwise it will be readonly property
      this.element.value = value;
    },
    enumerable: false,
    configurable: true
  });
  WrappedElement.prototype.conceal = function () {
    // Hide passed input
    this.element.classList.add(this.classNames.input);
    this.element.hidden = true;
    // Remove element from tab index
    this.element.tabIndex = -1;
    // Backup original styles if any
    var origStyle = this.element.getAttribute('style');
    if (origStyle) {
      this.element.setAttribute('data-choice-orig-style', origStyle);
    }
    this.element.setAttribute('data-choice', 'active');
  };
  WrappedElement.prototype.reveal = function () {
    // Reinstate passed element
    this.element.classList.remove(this.classNames.input);
    this.element.hidden = false;
    this.element.removeAttribute('tabindex');
    // Recover original styles if any
    var origStyle = this.element.getAttribute('data-choice-orig-style');
    if (origStyle) {
      this.element.removeAttribute('data-choice-orig-style');
      this.element.setAttribute('style', origStyle);
    } else {
      this.element.removeAttribute('style');
    }
    this.element.removeAttribute('data-choice');
    // Re-assign values - this is weird, I know
    // @todo Figure out why we need to do this
    this.element.value = this.element.value; // eslint-disable-line no-self-assign
  };

  WrappedElement.prototype.enable = function () {
    this.element.removeAttribute('disabled');
    this.element.disabled = false;
    this.isDisabled = false;
  };
  WrappedElement.prototype.disable = function () {
    this.element.setAttribute('disabled', '');
    this.element.disabled = true;
    this.isDisabled = true;
  };
  WrappedElement.prototype.triggerEvent = function (eventType, data) {
    (0, utils_1.dispatchEvent)(this.element, eventType, data);
  };
  return WrappedElement;
}();
exports["default"] = WrappedElement;

/***/ }),

/***/ 541:
/***/ (function(__unused_webpack_module, exports, __nested_webpack_require_92021__) {



var __extends = this && this.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];
    };
    return extendStatics(d, b);
  };
  return function (d, b) {
    if (typeof b !== "function" && b !== null) throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
    extendStatics(d, b);
    function __() {
      this.constructor = d;
    }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
var __importDefault = this && this.__importDefault || function (mod) {
  return mod && mod.__esModule ? mod : {
    "default": mod
  };
};
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var wrapped_element_1 = __importDefault(__nested_webpack_require_92021__(730));
var WrappedInput = /** @class */function (_super) {
  __extends(WrappedInput, _super);
  function WrappedInput(_a) {
    var element = _a.element,
      classNames = _a.classNames,
      delimiter = _a.delimiter;
    var _this = _super.call(this, {
      element: element,
      classNames: classNames
    }) || this;
    _this.delimiter = delimiter;
    return _this;
  }
  Object.defineProperty(WrappedInput.prototype, "value", {
    get: function () {
      return this.element.value;
    },
    set: function (value) {
      this.element.setAttribute('value', value);
      this.element.value = value;
    },
    enumerable: false,
    configurable: true
  });
  return WrappedInput;
}(wrapped_element_1.default);
exports["default"] = WrappedInput;

/***/ }),

/***/ 982:
/***/ (function(__unused_webpack_module, exports, __nested_webpack_require_93875__) {



var __extends = this && this.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];
    };
    return extendStatics(d, b);
  };
  return function (d, b) {
    if (typeof b !== "function" && b !== null) throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
    extendStatics(d, b);
    function __() {
      this.constructor = d;
    }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
var __importDefault = this && this.__importDefault || function (mod) {
  return mod && mod.__esModule ? mod : {
    "default": mod
  };
};
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var wrapped_element_1 = __importDefault(__nested_webpack_require_93875__(730));
var WrappedSelect = /** @class */function (_super) {
  __extends(WrappedSelect, _super);
  function WrappedSelect(_a) {
    var element = _a.element,
      classNames = _a.classNames,
      template = _a.template;
    var _this = _super.call(this, {
      element: element,
      classNames: classNames
    }) || this;
    _this.template = template;
    return _this;
  }
  Object.defineProperty(WrappedSelect.prototype, "placeholderOption", {
    get: function () {
      return this.element.querySelector('option[value=""]') ||
      // Backward compatibility layer for the non-standard placeholder attribute supported in older versions.
      this.element.querySelector('option[placeholder]');
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(WrappedSelect.prototype, "optionGroups", {
    get: function () {
      return Array.from(this.element.getElementsByTagName('OPTGROUP'));
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(WrappedSelect.prototype, "options", {
    get: function () {
      return Array.from(this.element.options);
    },
    set: function (options) {
      var _this = this;
      var fragment = document.createDocumentFragment();
      var addOptionToFragment = function (data) {
        // Create a standard select option
        var option = _this.template(data);
        // Append it to fragment
        fragment.appendChild(option);
      };
      // Add each list item to list
      options.forEach(function (optionData) {
        return addOptionToFragment(optionData);
      });
      this.appendDocFragment(fragment);
    },
    enumerable: false,
    configurable: true
  });
  WrappedSelect.prototype.appendDocFragment = function (fragment) {
    this.element.innerHTML = '';
    this.element.appendChild(fragment);
  };
  return WrappedSelect;
}(wrapped_element_1.default);
exports["default"] = WrappedSelect;

/***/ }),

/***/ 883:
/***/ (function(__unused_webpack_module, exports) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.SCROLLING_SPEED = exports.SELECT_MULTIPLE_TYPE = exports.SELECT_ONE_TYPE = exports.TEXT_TYPE = exports.KEY_CODES = exports.ACTION_TYPES = exports.EVENTS = void 0;
exports.EVENTS = {
  showDropdown: 'showDropdown',
  hideDropdown: 'hideDropdown',
  change: 'change',
  choice: 'choice',
  search: 'search',
  addItem: 'addItem',
  removeItem: 'removeItem',
  highlightItem: 'highlightItem',
  highlightChoice: 'highlightChoice',
  unhighlightItem: 'unhighlightItem'
};
exports.ACTION_TYPES = {
  ADD_CHOICE: 'ADD_CHOICE',
  FILTER_CHOICES: 'FILTER_CHOICES',
  ACTIVATE_CHOICES: 'ACTIVATE_CHOICES',
  CLEAR_CHOICES: 'CLEAR_CHOICES',
  ADD_GROUP: 'ADD_GROUP',
  ADD_ITEM: 'ADD_ITEM',
  REMOVE_ITEM: 'REMOVE_ITEM',
  HIGHLIGHT_ITEM: 'HIGHLIGHT_ITEM',
  CLEAR_ALL: 'CLEAR_ALL',
  RESET_TO: 'RESET_TO',
  SET_IS_LOADING: 'SET_IS_LOADING'
};
exports.KEY_CODES = {
  BACK_KEY: 46,
  DELETE_KEY: 8,
  ENTER_KEY: 13,
  A_KEY: 65,
  ESC_KEY: 27,
  UP_KEY: 38,
  DOWN_KEY: 40,
  PAGE_UP_KEY: 33,
  PAGE_DOWN_KEY: 34
};
exports.TEXT_TYPE = 'text';
exports.SELECT_ONE_TYPE = 'select-one';
exports.SELECT_MULTIPLE_TYPE = 'select-multiple';
exports.SCROLLING_SPEED = 4;

/***/ }),

/***/ 789:
/***/ (function(__unused_webpack_module, exports, __nested_webpack_require_98200__) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.DEFAULT_CONFIG = exports.DEFAULT_CLASSNAMES = void 0;
var utils_1 = __nested_webpack_require_98200__(799);
exports.DEFAULT_CLASSNAMES = {
  containerOuter: 'choices',
  containerInner: 'choices__inner',
  input: 'choices__input',
  inputCloned: 'choices__input--cloned',
  list: 'choices__list',
  listItems: 'choices__list--multiple',
  listSingle: 'choices__list--single',
  listDropdown: 'choices__list--dropdown',
  item: 'choices__item',
  itemSelectable: 'choices__item--selectable',
  itemDisabled: 'choices__item--disabled',
  itemChoice: 'choices__item--choice',
  placeholder: 'choices__placeholder',
  group: 'choices__group',
  groupHeading: 'choices__heading',
  button: 'choices__button',
  activeState: 'is-active',
  focusState: 'is-focused',
  openState: 'is-open',
  disabledState: 'is-disabled',
  highlightedState: 'is-highlighted',
  selectedState: 'is-selected',
  flippedState: 'is-flipped',
  loadingState: 'is-loading',
  noResults: 'has-no-results',
  noChoices: 'has-no-choices'
};
exports.DEFAULT_CONFIG = {
  items: [],
  choices: [],
  silent: false,
  renderChoiceLimit: -1,
  maxItemCount: -1,
  addItems: true,
  addItemFilter: null,
  removeItems: true,
  removeItemButton: false,
  editItems: false,
  allowHTML: true,
  duplicateItemsAllowed: true,
  delimiter: ',',
  paste: true,
  searchEnabled: true,
  searchChoices: true,
  searchFloor: 1,
  searchResultLimit: 4,
  searchFields: ['label', 'value'],
  position: 'auto',
  resetScrollPosition: true,
  shouldSort: true,
  shouldSortItems: false,
  sorter: utils_1.sortByAlpha,
  placeholder: true,
  placeholderValue: null,
  searchPlaceholderValue: null,
  prependValue: null,
  appendValue: null,
  renderSelectedChoices: 'auto',
  loadingText: 'Loading...',
  noResultsText: 'No results found',
  noChoicesText: 'No choices to choose from',
  itemSelectText: 'Press to select',
  uniqueItemText: 'Only unique values can be added',
  customAddItemText: 'Only values matching specific conditions can be added',
  addItemText: function (value) {
    return "Press Enter to add <b>\"".concat((0, utils_1.sanitise)(value), "\"</b>");
  },
  maxItemText: function (maxItemCount) {
    return "Only ".concat(maxItemCount, " values can be added");
  },
  valueComparer: function (value1, value2) {
    return value1 === value2;
  },
  fuseOptions: {
    includeScore: true
  },
  labelId: '',
  callbackOnInit: null,
  callbackOnCreateTemplates: null,
  classNames: exports.DEFAULT_CLASSNAMES
};

/***/ }),

/***/ 18:
/***/ (function(__unused_webpack_module, exports) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));

/***/ }),

/***/ 978:
/***/ (function(__unused_webpack_module, exports) {



/* eslint-disable @typescript-eslint/no-explicit-any */
Object.defineProperty(exports, "__esModule", ({
  value: true
}));

/***/ }),

/***/ 948:
/***/ (function(__unused_webpack_module, exports) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));

/***/ }),

/***/ 359:
/***/ (function(__unused_webpack_module, exports) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));

/***/ }),

/***/ 285:
/***/ (function(__unused_webpack_module, exports) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));

/***/ }),

/***/ 533:
/***/ (function(__unused_webpack_module, exports) {



/* eslint-disable @typescript-eslint/no-explicit-any */
Object.defineProperty(exports, "__esModule", ({
  value: true
}));

/***/ }),

/***/ 187:
/***/ (function(__unused_webpack_module, exports, __nested_webpack_require_101824__) {



var __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {
  if (k2 === undefined) k2 = k;
  var desc = Object.getOwnPropertyDescriptor(m, k);
  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
    desc = {
      enumerable: true,
      get: function () {
        return m[k];
      }
    };
  }
  Object.defineProperty(o, k2, desc);
} : function (o, m, k, k2) {
  if (k2 === undefined) k2 = k;
  o[k2] = m[k];
});
var __exportStar = this && this.__exportStar || function (m, exports) {
  for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
__exportStar(__nested_webpack_require_101824__(18), exports);
__exportStar(__nested_webpack_require_101824__(978), exports);
__exportStar(__nested_webpack_require_101824__(948), exports);
__exportStar(__nested_webpack_require_101824__(359), exports);
__exportStar(__nested_webpack_require_101824__(285), exports);
__exportStar(__nested_webpack_require_101824__(533), exports);
__exportStar(__nested_webpack_require_101824__(287), exports);
__exportStar(__nested_webpack_require_101824__(132), exports);
__exportStar(__nested_webpack_require_101824__(837), exports);
__exportStar(__nested_webpack_require_101824__(598), exports);
__exportStar(__nested_webpack_require_101824__(369), exports);
__exportStar(__nested_webpack_require_101824__(37), exports);
__exportStar(__nested_webpack_require_101824__(47), exports);
__exportStar(__nested_webpack_require_101824__(923), exports);
__exportStar(__nested_webpack_require_101824__(876), exports);

/***/ }),

/***/ 287:
/***/ (function(__unused_webpack_module, exports) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));

/***/ }),

/***/ 132:
/***/ (function(__unused_webpack_module, exports) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));

/***/ }),

/***/ 837:
/***/ (function(__unused_webpack_module, exports) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));

/***/ }),

/***/ 598:
/***/ (function(__unused_webpack_module, exports) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));

/***/ }),

/***/ 37:
/***/ (function(__unused_webpack_module, exports) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));

/***/ }),

/***/ 369:
/***/ (function(__unused_webpack_module, exports) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));

/***/ }),

/***/ 47:
/***/ (function(__unused_webpack_module, exports) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));

/***/ }),

/***/ 923:
/***/ (function(__unused_webpack_module, exports) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));

/***/ }),

/***/ 876:
/***/ (function(__unused_webpack_module, exports) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));

/***/ }),

/***/ 799:
/***/ (function(__unused_webpack_module, exports) {



/* eslint-disable @typescript-eslint/no-explicit-any */
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.parseCustomProperties = exports.diff = exports.cloneObject = exports.existsInArray = exports.dispatchEvent = exports.sortByScore = exports.sortByAlpha = exports.strToEl = exports.sanitise = exports.isScrolledIntoView = exports.getAdjacentEl = exports.wrap = exports.isType = exports.getType = exports.generateId = exports.generateChars = exports.getRandomNumber = void 0;
var getRandomNumber = function (min, max) {
  return Math.floor(Math.random() * (max - min) + min);
};
exports.getRandomNumber = getRandomNumber;
var generateChars = function (length) {
  return Array.from({
    length: length
  }, function () {
    return (0, exports.getRandomNumber)(0, 36).toString(36);
  }).join('');
};
exports.generateChars = generateChars;
var generateId = function (element, prefix) {
  var id = element.id || element.name && "".concat(element.name, "-").concat((0, exports.generateChars)(2)) || (0, exports.generateChars)(4);
  id = id.replace(/(:|\.|\[|\]|,)/g, '');
  id = "".concat(prefix, "-").concat(id);
  return id;
};
exports.generateId = generateId;
var getType = function (obj) {
  return Object.prototype.toString.call(obj).slice(8, -1);
};
exports.getType = getType;
var isType = function (type, obj) {
  return obj !== undefined && obj !== null && (0, exports.getType)(obj) === type;
};
exports.isType = isType;
var wrap = function (element, wrapper) {
  if (wrapper === void 0) {
    wrapper = document.createElement('div');
  }
  if (element.parentNode) {
    if (element.nextSibling) {
      element.parentNode.insertBefore(wrapper, element.nextSibling);
    } else {
      element.parentNode.appendChild(wrapper);
    }
  }
  return wrapper.appendChild(element);
};
exports.wrap = wrap;
var getAdjacentEl = function (startEl, selector, direction) {
  if (direction === void 0) {
    direction = 1;
  }
  var prop = "".concat(direction > 0 ? 'next' : 'previous', "ElementSibling");
  var sibling = startEl[prop];
  while (sibling) {
    if (sibling.matches(selector)) {
      return sibling;
    }
    sibling = sibling[prop];
  }
  return sibling;
};
exports.getAdjacentEl = getAdjacentEl;
var isScrolledIntoView = function (element, parent, direction) {
  if (direction === void 0) {
    direction = 1;
  }
  if (!element) {
    return false;
  }
  var isVisible;
  if (direction > 0) {
    // In view from bottom
    isVisible = parent.scrollTop + parent.offsetHeight >= element.offsetTop + element.offsetHeight;
  } else {
    // In view from top
    isVisible = element.offsetTop >= parent.scrollTop;
  }
  return isVisible;
};
exports.isScrolledIntoView = isScrolledIntoView;
var sanitise = function (value) {
  if (typeof value !== 'string') {
    return value;
  }
  return value.replace(/&/g, '&amp;').replace(/>/g, '&gt;').replace(/</g, '&lt;').replace(/"/g, '&quot;');
};
exports.sanitise = sanitise;
exports.strToEl = function () {
  var tmpEl = document.createElement('div');
  return function (str) {
    var cleanedInput = str.trim();
    tmpEl.innerHTML = cleanedInput;
    var firldChild = tmpEl.children[0];
    while (tmpEl.firstChild) {
      tmpEl.removeChild(tmpEl.firstChild);
    }
    return firldChild;
  };
}();
var sortByAlpha = function (_a, _b) {
  var value = _a.value,
    _c = _a.label,
    label = _c === void 0 ? value : _c;
  var value2 = _b.value,
    _d = _b.label,
    label2 = _d === void 0 ? value2 : _d;
  return label.localeCompare(label2, [], {
    sensitivity: 'base',
    ignorePunctuation: true,
    numeric: true
  });
};
exports.sortByAlpha = sortByAlpha;
var sortByScore = function (a, b) {
  var _a = a.score,
    scoreA = _a === void 0 ? 0 : _a;
  var _b = b.score,
    scoreB = _b === void 0 ? 0 : _b;
  return scoreA - scoreB;
};
exports.sortByScore = sortByScore;
var dispatchEvent = function (element, type, customArgs) {
  if (customArgs === void 0) {
    customArgs = null;
  }
  var event = new CustomEvent(type, {
    detail: customArgs,
    bubbles: true,
    cancelable: true
  });
  return element.dispatchEvent(event);
};
exports.dispatchEvent = dispatchEvent;
var existsInArray = function (array, value, key) {
  if (key === void 0) {
    key = 'value';
  }
  return array.some(function (item) {
    if (typeof value === 'string') {
      return item[key] === value.trim();
    }
    return item[key] === value;
  });
};
exports.existsInArray = existsInArray;
var cloneObject = function (obj) {
  return JSON.parse(JSON.stringify(obj));
};
exports.cloneObject = cloneObject;
/**
 * Returns an array of keys present on the first but missing on the second object
 */
var diff = function (a, b) {
  var aKeys = Object.keys(a).sort();
  var bKeys = Object.keys(b).sort();
  return aKeys.filter(function (i) {
    return bKeys.indexOf(i) < 0;
  });
};
exports.diff = diff;
var parseCustomProperties = function (customProperties) {
  if (typeof customProperties !== 'undefined') {
    try {
      return JSON.parse(customProperties);
    } catch (e) {
      return customProperties;
    }
  }
  return {};
};
exports.parseCustomProperties = parseCustomProperties;

/***/ }),

/***/ 273:
/***/ (function(__unused_webpack_module, exports) {



var __spreadArray = this && this.__spreadArray || function (to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.defaultState = void 0;
exports.defaultState = [];
function choices(state, action) {
  if (state === void 0) {
    state = exports.defaultState;
  }
  if (action === void 0) {
    action = {};
  }
  switch (action.type) {
    case 'ADD_CHOICE':
      {
        var addChoiceAction = action;
        var choice = {
          id: addChoiceAction.id,
          elementId: addChoiceAction.elementId,
          groupId: addChoiceAction.groupId,
          value: addChoiceAction.value,
          label: addChoiceAction.label || addChoiceAction.value,
          disabled: addChoiceAction.disabled || false,
          selected: false,
          active: true,
          score: 9999,
          customProperties: addChoiceAction.customProperties,
          placeholder: addChoiceAction.placeholder || false
        };
        /*
          A disabled choice appears in the choice dropdown but cannot be selected
          A selected choice has been added to the passed input's value (added as an item)
          An active choice appears within the choice dropdown
        */
        return __spreadArray(__spreadArray([], state, true), [choice], false);
      }
    case 'ADD_ITEM':
      {
        var addItemAction_1 = action;
        // When an item is added and it has an associated choice,
        // we want to disable it so it can't be chosen again
        if (addItemAction_1.choiceId > -1) {
          return state.map(function (obj) {
            var choice = obj;
            if (choice.id === parseInt("".concat(addItemAction_1.choiceId), 10)) {
              choice.selected = true;
            }
            return choice;
          });
        }
        return state;
      }
    case 'REMOVE_ITEM':
      {
        var removeItemAction_1 = action;
        // When an item is removed and it has an associated choice,
        // we want to re-enable it so it can be chosen again
        if (removeItemAction_1.choiceId && removeItemAction_1.choiceId > -1) {
          return state.map(function (obj) {
            var choice = obj;
            if (choice.id === parseInt("".concat(removeItemAction_1.choiceId), 10)) {
              choice.selected = false;
            }
            return choice;
          });
        }
        return state;
      }
    case 'FILTER_CHOICES':
      {
        var filterChoicesAction_1 = action;
        return state.map(function (obj) {
          var choice = obj;
          // Set active state based on whether choice is
          // within filtered results
          choice.active = filterChoicesAction_1.results.some(function (_a) {
            var item = _a.item,
              score = _a.score;
            if (item.id === choice.id) {
              choice.score = score;
              return true;
            }
            return false;
          });
          return choice;
        });
      }
    case 'ACTIVATE_CHOICES':
      {
        var activateChoicesAction_1 = action;
        return state.map(function (obj) {
          var choice = obj;
          choice.active = activateChoicesAction_1.active;
          return choice;
        });
      }
    case 'CLEAR_CHOICES':
      {
        return exports.defaultState;
      }
    default:
      {
        return state;
      }
  }
}
exports["default"] = choices;

/***/ }),

/***/ 871:
/***/ (function(__unused_webpack_module, exports) {



var __spreadArray = this && this.__spreadArray || function (to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.defaultState = void 0;
exports.defaultState = [];
function groups(state, action) {
  if (state === void 0) {
    state = exports.defaultState;
  }
  if (action === void 0) {
    action = {};
  }
  switch (action.type) {
    case 'ADD_GROUP':
      {
        var addGroupAction = action;
        return __spreadArray(__spreadArray([], state, true), [{
          id: addGroupAction.id,
          value: addGroupAction.value,
          active: addGroupAction.active,
          disabled: addGroupAction.disabled
        }], false);
      }
    case 'CLEAR_CHOICES':
      {
        return [];
      }
    default:
      {
        return state;
      }
  }
}
exports["default"] = groups;

/***/ }),

/***/ 655:
/***/ (function(__unused_webpack_module, exports, __nested_webpack_require_114916__) {



var __importDefault = this && this.__importDefault || function (mod) {
  return mod && mod.__esModule ? mod : {
    "default": mod
  };
};
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.defaultState = void 0;
var redux_1 = __nested_webpack_require_114916__(791);
var items_1 = __importDefault(__nested_webpack_require_114916__(52));
var groups_1 = __importDefault(__nested_webpack_require_114916__(871));
var choices_1 = __importDefault(__nested_webpack_require_114916__(273));
var loading_1 = __importDefault(__nested_webpack_require_114916__(502));
var utils_1 = __nested_webpack_require_114916__(799);
exports.defaultState = {
  groups: [],
  items: [],
  choices: [],
  loading: false
};
var appReducer = (0, redux_1.combineReducers)({
  items: items_1.default,
  groups: groups_1.default,
  choices: choices_1.default,
  loading: loading_1.default
});
var rootReducer = function (passedState, action) {
  var state = passedState;
  // If we are clearing all items, groups and options we reassign
  // state and then pass that state to our proper reducer. This isn't
  // mutating our actual state
  // See: http://stackoverflow.com/a/35641992
  if (action.type === 'CLEAR_ALL') {
    state = exports.defaultState;
  } else if (action.type === 'RESET_TO') {
    return (0, utils_1.cloneObject)(action.state);
  }
  return appReducer(state, action);
};
exports["default"] = rootReducer;

/***/ }),

/***/ 52:
/***/ (function(__unused_webpack_module, exports) {



var __spreadArray = this && this.__spreadArray || function (to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.defaultState = void 0;
exports.defaultState = [];
function items(state, action) {
  if (state === void 0) {
    state = exports.defaultState;
  }
  if (action === void 0) {
    action = {};
  }
  switch (action.type) {
    case 'ADD_ITEM':
      {
        var addItemAction = action;
        // Add object to items array
        var newState = __spreadArray(__spreadArray([], state, true), [{
          id: addItemAction.id,
          choiceId: addItemAction.choiceId,
          groupId: addItemAction.groupId,
          value: addItemAction.value,
          label: addItemAction.label,
          active: true,
          highlighted: false,
          customProperties: addItemAction.customProperties,
          placeholder: addItemAction.placeholder || false,
          keyCode: null
        }], false);
        return newState.map(function (obj) {
          var item = obj;
          item.highlighted = false;
          return item;
        });
      }
    case 'REMOVE_ITEM':
      {
        // Set item to inactive
        return state.map(function (obj) {
          var item = obj;
          if (item.id === action.id) {
            item.active = false;
          }
          return item;
        });
      }
    case 'HIGHLIGHT_ITEM':
      {
        var highlightItemAction_1 = action;
        return state.map(function (obj) {
          var item = obj;
          if (item.id === highlightItemAction_1.id) {
            item.highlighted = highlightItemAction_1.highlighted;
          }
          return item;
        });
      }
    default:
      {
        return state;
      }
  }
}
exports["default"] = items;

/***/ }),

/***/ 502:
/***/ (function(__unused_webpack_module, exports) {



Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.defaultState = void 0;
exports.defaultState = false;
var general = function (state, action) {
  if (state === void 0) {
    state = exports.defaultState;
  }
  if (action === void 0) {
    action = {};
  }
  switch (action.type) {
    case 'SET_IS_LOADING':
      {
        return action.isLoading;
      }
    default:
      {
        return state;
      }
  }
};
exports["default"] = general;

/***/ }),

/***/ 744:
/***/ (function(__unused_webpack_module, exports, __nested_webpack_require_119022__) {



var __spreadArray = this && this.__spreadArray || function (to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var __importDefault = this && this.__importDefault || function (mod) {
  return mod && mod.__esModule ? mod : {
    "default": mod
  };
};
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
/* eslint-disable @typescript-eslint/no-explicit-any */
var redux_1 = __nested_webpack_require_119022__(791);
var index_1 = __importDefault(__nested_webpack_require_119022__(655));
var Store = /** @class */function () {
  function Store() {
    this._store = (0, redux_1.createStore)(index_1.default, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());
  }
  /**
   * Subscribe store to function call (wrapped Redux method)
   */
  Store.prototype.subscribe = function (onChange) {
    this._store.subscribe(onChange);
  };
  /**
   * Dispatch event to store (wrapped Redux method)
   */
  Store.prototype.dispatch = function (action) {
    this._store.dispatch(action);
  };
  Object.defineProperty(Store.prototype, "state", {
    /**
     * Get store object (wrapping Redux method)
     */
    get: function () {
      return this._store.getState();
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(Store.prototype, "items", {
    /**
     * Get items from store
     */
    get: function () {
      return this.state.items;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(Store.prototype, "activeItems", {
    /**
     * Get active items from store
     */
    get: function () {
      return this.items.filter(function (item) {
        return item.active === true;
      });
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(Store.prototype, "highlightedActiveItems", {
    /**
     * Get highlighted items from store
     */
    get: function () {
      return this.items.filter(function (item) {
        return item.active && item.highlighted;
      });
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(Store.prototype, "choices", {
    /**
     * Get choices from store
     */
    get: function () {
      return this.state.choices;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(Store.prototype, "activeChoices", {
    /**
     * Get active choices from store
     */
    get: function () {
      return this.choices.filter(function (choice) {
        return choice.active === true;
      });
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(Store.prototype, "selectableChoices", {
    /**
     * Get selectable choices from store
     */
    get: function () {
      return this.choices.filter(function (choice) {
        return choice.disabled !== true;
      });
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(Store.prototype, "searchableChoices", {
    /**
     * Get choices that can be searched (excluding placeholders)
     */
    get: function () {
      return this.selectableChoices.filter(function (choice) {
        return choice.placeholder !== true;
      });
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(Store.prototype, "placeholderChoice", {
    /**
     * Get placeholder choice from store
     */
    get: function () {
      return __spreadArray([], this.choices, true).reverse().find(function (choice) {
        return choice.placeholder === true;
      });
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(Store.prototype, "groups", {
    /**
     * Get groups from store
     */
    get: function () {
      return this.state.groups;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(Store.prototype, "activeGroups", {
    /**
     * Get active groups from store
     */
    get: function () {
      var _a = this,
        groups = _a.groups,
        choices = _a.choices;
      return groups.filter(function (group) {
        var isActive = group.active === true && group.disabled === false;
        var hasActiveOptions = choices.some(function (choice) {
          return choice.active === true && choice.disabled === false;
        });
        return isActive && hasActiveOptions;
      }, []);
    },
    enumerable: false,
    configurable: true
  });
  /**
   * Get loading state from store
   */
  Store.prototype.isLoading = function () {
    return this.state.loading;
  };
  /**
   * Get single choice by it's ID
   */
  Store.prototype.getChoiceById = function (id) {
    return this.activeChoices.find(function (choice) {
      return choice.id === parseInt(id, 10);
    });
  };
  /**
   * Get group by group id
   */
  Store.prototype.getGroupById = function (id) {
    return this.groups.find(function (group) {
      return group.id === id;
    });
  };
  return Store;
}();
exports["default"] = Store;

/***/ }),

/***/ 686:
/***/ (function(__unused_webpack_module, exports) {



/**
 * Helpers to create HTML elements used by Choices
 * Can be overridden by providing `callbackOnCreateTemplates` option
 */
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var templates = {
  containerOuter: function (_a, dir, isSelectElement, isSelectOneElement, searchEnabled, passedElementType, labelId) {
    var containerOuter = _a.classNames.containerOuter;
    var div = Object.assign(document.createElement('div'), {
      className: containerOuter
    });
    div.dataset.type = passedElementType;
    if (dir) {
      div.dir = dir;
    }
    if (isSelectOneElement) {
      div.tabIndex = 0;
    }
    if (isSelectElement) {
      div.setAttribute('role', searchEnabled ? 'combobox' : 'listbox');
      if (searchEnabled) {
        div.setAttribute('aria-autocomplete', 'list');
      }
    }
    div.setAttribute('aria-haspopup', 'true');
    div.setAttribute('aria-expanded', 'false');
    if (labelId) {
      div.setAttribute('aria-labelledby', labelId);
    }
    return div;
  },
  containerInner: function (_a) {
    var containerInner = _a.classNames.containerInner;
    return Object.assign(document.createElement('div'), {
      className: containerInner
    });
  },
  itemList: function (_a, isSelectOneElement) {
    var _b = _a.classNames,
      list = _b.list,
      listSingle = _b.listSingle,
      listItems = _b.listItems;
    return Object.assign(document.createElement('div'), {
      className: "".concat(list, " ").concat(isSelectOneElement ? listSingle : listItems)
    });
  },
  placeholder: function (_a, value) {
    var _b;
    var allowHTML = _a.allowHTML,
      placeholder = _a.classNames.placeholder;
    return Object.assign(document.createElement('div'), (_b = {
      className: placeholder
    }, _b[allowHTML ? 'innerHTML' : 'innerText'] = value, _b));
  },
  item: function (_a, _b, removeItemButton) {
    var _c, _d;
    var allowHTML = _a.allowHTML,
      _e = _a.classNames,
      item = _e.item,
      button = _e.button,
      highlightedState = _e.highlightedState,
      itemSelectable = _e.itemSelectable,
      placeholder = _e.placeholder;
    var id = _b.id,
      value = _b.value,
      label = _b.label,
      customProperties = _b.customProperties,
      active = _b.active,
      disabled = _b.disabled,
      highlighted = _b.highlighted,
      isPlaceholder = _b.placeholder;
    var div = Object.assign(document.createElement('div'), (_c = {
      className: item
    }, _c[allowHTML ? 'innerHTML' : 'innerText'] = label, _c));
    Object.assign(div.dataset, {
      item: '',
      id: id,
      value: value,
      customProperties: customProperties
    });
    if (active) {
      div.setAttribute('aria-selected', 'true');
    }
    if (disabled) {
      div.setAttribute('aria-disabled', 'true');
    }
    if (isPlaceholder) {
      div.classList.add(placeholder);
    }
    div.classList.add(highlighted ? highlightedState : itemSelectable);
    if (removeItemButton) {
      if (disabled) {
        div.classList.remove(itemSelectable);
      }
      div.dataset.deletable = '';
      /** @todo This MUST be localizable, not hardcoded! */
      var REMOVE_ITEM_TEXT = 'Remove item';
      var removeButton = Object.assign(document.createElement('button'), (_d = {
        type: 'button',
        className: button
      }, _d[allowHTML ? 'innerHTML' : 'innerText'] = REMOVE_ITEM_TEXT, _d));
      removeButton.setAttribute('aria-label', "".concat(REMOVE_ITEM_TEXT, ": '").concat(value, "'"));
      removeButton.dataset.button = '';
      div.appendChild(removeButton);
    }
    return div;
  },
  choiceList: function (_a, isSelectOneElement) {
    var list = _a.classNames.list;
    var div = Object.assign(document.createElement('div'), {
      className: list
    });
    if (!isSelectOneElement) {
      div.setAttribute('aria-multiselectable', 'true');
    }
    div.setAttribute('role', 'listbox');
    return div;
  },
  choiceGroup: function (_a, _b) {
    var _c;
    var allowHTML = _a.allowHTML,
      _d = _a.classNames,
      group = _d.group,
      groupHeading = _d.groupHeading,
      itemDisabled = _d.itemDisabled;
    var id = _b.id,
      value = _b.value,
      disabled = _b.disabled;
    var div = Object.assign(document.createElement('div'), {
      className: "".concat(group, " ").concat(disabled ? itemDisabled : '')
    });
    div.setAttribute('role', 'group');
    Object.assign(div.dataset, {
      group: '',
      id: id,
      value: value
    });
    if (disabled) {
      div.setAttribute('aria-disabled', 'true');
    }
    div.appendChild(Object.assign(document.createElement('div'), (_c = {
      className: groupHeading
    }, _c[allowHTML ? 'innerHTML' : 'innerText'] = value, _c)));
    return div;
  },
  choice: function (_a, _b, selectText) {
    var _c;
    var allowHTML = _a.allowHTML,
      _d = _a.classNames,
      item = _d.item,
      itemChoice = _d.itemChoice,
      itemSelectable = _d.itemSelectable,
      selectedState = _d.selectedState,
      itemDisabled = _d.itemDisabled,
      placeholder = _d.placeholder;
    var id = _b.id,
      value = _b.value,
      label = _b.label,
      groupId = _b.groupId,
      elementId = _b.elementId,
      isDisabled = _b.disabled,
      isSelected = _b.selected,
      isPlaceholder = _b.placeholder;
    var div = Object.assign(document.createElement('div'), (_c = {
      id: elementId
    }, _c[allowHTML ? 'innerHTML' : 'innerText'] = label, _c.className = "".concat(item, " ").concat(itemChoice), _c));
    if (isSelected) {
      div.classList.add(selectedState);
    }
    if (isPlaceholder) {
      div.classList.add(placeholder);
    }
    div.setAttribute('role', groupId && groupId > 0 ? 'treeitem' : 'option');
    Object.assign(div.dataset, {
      choice: '',
      id: id,
      value: value,
      selectText: selectText
    });
    if (isDisabled) {
      div.classList.add(itemDisabled);
      div.dataset.choiceDisabled = '';
      div.setAttribute('aria-disabled', 'true');
    } else {
      div.classList.add(itemSelectable);
      div.dataset.choiceSelectable = '';
    }
    return div;
  },
  input: function (_a, placeholderValue) {
    var _b = _a.classNames,
      input = _b.input,
      inputCloned = _b.inputCloned;
    var inp = Object.assign(document.createElement('input'), {
      type: 'search',
      name: 'search_terms',
      className: "".concat(input, " ").concat(inputCloned),
      autocomplete: 'off',
      autocapitalize: 'off',
      spellcheck: false
    });
    inp.setAttribute('role', 'textbox');
    inp.setAttribute('aria-autocomplete', 'list');
    inp.setAttribute('aria-label', placeholderValue);
    return inp;
  },
  dropdown: function (_a) {
    var _b = _a.classNames,
      list = _b.list,
      listDropdown = _b.listDropdown;
    var div = document.createElement('div');
    div.classList.add(list, listDropdown);
    div.setAttribute('aria-expanded', 'false');
    return div;
  },
  notice: function (_a, innerText, type) {
    var _b;
    var allowHTML = _a.allowHTML,
      _c = _a.classNames,
      item = _c.item,
      itemChoice = _c.itemChoice,
      noResults = _c.noResults,
      noChoices = _c.noChoices;
    if (type === void 0) {
      type = '';
    }
    var classes = [item, itemChoice];
    if (type === 'no-choices') {
      classes.push(noChoices);
    } else if (type === 'no-results') {
      classes.push(noResults);
    }
    return Object.assign(document.createElement('div'), (_b = {}, _b[allowHTML ? 'innerHTML' : 'innerText'] = innerText, _b.className = classes.join(' '), _b));
  },
  option: function (_a) {
    var label = _a.label,
      value = _a.value,
      customProperties = _a.customProperties,
      active = _a.active,
      disabled = _a.disabled;
    var opt = new Option(label, value, false, active);
    if (customProperties) {
      opt.dataset.customProperties = "".concat(customProperties);
    }
    opt.disabled = !!disabled;
    return opt;
  }
};
exports["default"] = templates;

/***/ }),

/***/ 996:
/***/ (function(module) {



var isMergeableObject = function isMergeableObject(value) {
	return isNonNullObject(value)
		&& !isSpecial(value)
};

function isNonNullObject(value) {
	return !!value && typeof value === 'object'
}

function isSpecial(value) {
	var stringValue = Object.prototype.toString.call(value);

	return stringValue === '[object RegExp]'
		|| stringValue === '[object Date]'
		|| isReactElement(value)
}

// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25
var canUseSymbol = typeof Symbol === 'function' && Symbol.for;
var REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;

function isReactElement(value) {
	return value.$$typeof === REACT_ELEMENT_TYPE
}

function emptyTarget(val) {
	return Array.isArray(val) ? [] : {}
}

function cloneUnlessOtherwiseSpecified(value, options) {
	return (options.clone !== false && options.isMergeableObject(value))
		? deepmerge(emptyTarget(value), value, options)
		: value
}

function defaultArrayMerge(target, source, options) {
	return target.concat(source).map(function(element) {
		return cloneUnlessOtherwiseSpecified(element, options)
	})
}

function getMergeFunction(key, options) {
	if (!options.customMerge) {
		return deepmerge
	}
	var customMerge = options.customMerge(key);
	return typeof customMerge === 'function' ? customMerge : deepmerge
}

function getEnumerableOwnPropertySymbols(target) {
	return Object.getOwnPropertySymbols
		? Object.getOwnPropertySymbols(target).filter(function(symbol) {
			return target.propertyIsEnumerable(symbol)
		})
		: []
}

function getKeys(target) {
	return Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))
}

function propertyIsOnObject(object, property) {
	try {
		return property in object
	} catch(_) {
		return false
	}
}

// Protects from prototype poisoning and unexpected merging up the prototype chain.
function propertyIsUnsafe(target, key) {
	return propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,
		&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,
			&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.
}

function mergeObject(target, source, options) {
	var destination = {};
	if (options.isMergeableObject(target)) {
		getKeys(target).forEach(function(key) {
			destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);
		});
	}
	getKeys(source).forEach(function(key) {
		if (propertyIsUnsafe(target, key)) {
			return
		}

		if (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {
			destination[key] = getMergeFunction(key, options)(target[key], source[key], options);
		} else {
			destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);
		}
	});
	return destination
}

function deepmerge(target, source, options) {
	options = options || {};
	options.arrayMerge = options.arrayMerge || defaultArrayMerge;
	options.isMergeableObject = options.isMergeableObject || isMergeableObject;
	// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()
	// implementations can use it. The caller may not replace it.
	options.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;

	var sourceIsArray = Array.isArray(source);
	var targetIsArray = Array.isArray(target);
	var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;

	if (!sourceAndTargetTypesMatch) {
		return cloneUnlessOtherwiseSpecified(source, options)
	} else if (sourceIsArray) {
		return options.arrayMerge(target, source, options)
	} else {
		return mergeObject(target, source, options)
	}
}

deepmerge.all = function deepmergeAll(array, options) {
	if (!Array.isArray(array)) {
		throw new Error('first argument should be an array')
	}

	return array.reduce(function(prev, next) {
		return deepmerge(prev, next, options)
	}, {})
};

var deepmerge_1 = deepmerge;

module.exports = deepmerge_1;


/***/ }),

/***/ 221:
/***/ (function(__unused_webpack_module, __nested_webpack_exports__, __nested_webpack_require_136441__) {

__nested_webpack_require_136441__.r(__nested_webpack_exports__);
/* harmony export */ __nested_webpack_require_136441__.d(__nested_webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ Fuse; }
/* harmony export */ });
/**
 * Fuse.js v6.6.2 - Lightweight fuzzy-search (http://fusejs.io)
 *
 * Copyright (c) 2022 Kiro Risk (http://kiro.me)
 * All Rights Reserved. Apache Software License 2.0
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 */

function isArray(value) {
  return !Array.isArray
    ? getTag(value) === '[object Array]'
    : Array.isArray(value)
}

// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js
const INFINITY = 1 / 0;
function baseToString(value) {
  // Exit early for strings to avoid a performance hit in some environments.
  if (typeof value == 'string') {
    return value
  }
  let result = value + '';
  return result == '0' && 1 / value == -INFINITY ? '-0' : result
}

function toString(value) {
  return value == null ? '' : baseToString(value)
}

function isString(value) {
  return typeof value === 'string'
}

function isNumber(value) {
  return typeof value === 'number'
}

// Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js
function isBoolean(value) {
  return (
    value === true ||
    value === false ||
    (isObjectLike(value) && getTag(value) == '[object Boolean]')
  )
}

function isObject(value) {
  return typeof value === 'object'
}

// Checks if `value` is object-like.
function isObjectLike(value) {
  return isObject(value) && value !== null
}

function isDefined(value) {
  return value !== undefined && value !== null
}

function isBlank(value) {
  return !value.trim().length
}

// Gets the `toStringTag` of `value`.
// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js
function getTag(value) {
  return value == null
    ? value === undefined
      ? '[object Undefined]'
      : '[object Null]'
    : Object.prototype.toString.call(value)
}

const EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';

const INCORRECT_INDEX_TYPE = "Incorrect 'index' type";

const LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = (key) =>
  `Invalid value for key ${key}`;

const PATTERN_LENGTH_TOO_LARGE = (max) =>
  `Pattern length exceeds max of ${max}.`;

const MISSING_KEY_PROPERTY = (name) => `Missing ${name} property in key`;

const INVALID_KEY_WEIGHT_VALUE = (key) =>
  `Property 'weight' in key '${key}' must be a positive integer`;

const hasOwn = Object.prototype.hasOwnProperty;

class KeyStore {
  constructor(keys) {
    this._keys = [];
    this._keyMap = {};

    let totalWeight = 0;

    keys.forEach((key) => {
      let obj = createKey(key);

      totalWeight += obj.weight;

      this._keys.push(obj);
      this._keyMap[obj.id] = obj;

      totalWeight += obj.weight;
    });

    // Normalize weights so that their sum is equal to 1
    this._keys.forEach((key) => {
      key.weight /= totalWeight;
    });
  }
  get(keyId) {
    return this._keyMap[keyId]
  }
  keys() {
    return this._keys
  }
  toJSON() {
    return JSON.stringify(this._keys)
  }
}

function createKey(key) {
  let path = null;
  let id = null;
  let src = null;
  let weight = 1;
  let getFn = null;

  if (isString(key) || isArray(key)) {
    src = key;
    path = createKeyPath(key);
    id = createKeyId(key);
  } else {
    if (!hasOwn.call(key, 'name')) {
      throw new Error(MISSING_KEY_PROPERTY('name'))
    }

    const name = key.name;
    src = name;

    if (hasOwn.call(key, 'weight')) {
      weight = key.weight;

      if (weight <= 0) {
        throw new Error(INVALID_KEY_WEIGHT_VALUE(name))
      }
    }

    path = createKeyPath(name);
    id = createKeyId(name);
    getFn = key.getFn;
  }

  return { path, id, weight, src, getFn }
}

function createKeyPath(key) {
  return isArray(key) ? key : key.split('.')
}

function createKeyId(key) {
  return isArray(key) ? key.join('.') : key
}

function get(obj, path) {
  let list = [];
  let arr = false;

  const deepGet = (obj, path, index) => {
    if (!isDefined(obj)) {
      return
    }
    if (!path[index]) {
      // If there's no path left, we've arrived at the object we care about.
      list.push(obj);
    } else {
      let key = path[index];

      const value = obj[key];

      if (!isDefined(value)) {
        return
      }

      // If we're at the last value in the path, and if it's a string/number/bool,
      // add it to the list
      if (
        index === path.length - 1 &&
        (isString(value) || isNumber(value) || isBoolean(value))
      ) {
        list.push(toString(value));
      } else if (isArray(value)) {
        arr = true;
        // Search each item in the array.
        for (let i = 0, len = value.length; i < len; i += 1) {
          deepGet(value[i], path, index + 1);
        }
      } else if (path.length) {
        // An object. Recurse further.
        deepGet(value, path, index + 1);
      }
    }
  };

  // Backwards compatibility (since path used to be a string)
  deepGet(obj, isString(path) ? path.split('.') : path, 0);

  return arr ? list : list[0]
}

const MatchOptions = {
  // Whether the matches should be included in the result set. When `true`, each record in the result
  // set will include the indices of the matched characters.
  // These can consequently be used for highlighting purposes.
  includeMatches: false,
  // When `true`, the matching function will continue to the end of a search pattern even if
  // a perfect match has already been located in the string.
  findAllMatches: false,
  // Minimum number of characters that must be matched before a result is considered a match
  minMatchCharLength: 1
};

const BasicOptions = {
  // When `true`, the algorithm continues searching to the end of the input even if a perfect
  // match is found before the end of the same input.
  isCaseSensitive: false,
  // When true, the matching function will continue to the end of a search pattern even if
  includeScore: false,
  // List of properties that will be searched. This also supports nested properties.
  keys: [],
  // Whether to sort the result list, by score
  shouldSort: true,
  // Default sort function: sort by ascending score, ascending index
  sortFn: (a, b) =>
    a.score === b.score ? (a.idx < b.idx ? -1 : 1) : a.score < b.score ? -1 : 1
};

const FuzzyOptions = {
  // Approximately where in the text is the pattern expected to be found?
  location: 0,
  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match
  // (of both letters and location), a threshold of '1.0' would match anything.
  threshold: 0.6,
  // Determines how close the match must be to the fuzzy location (specified above).
  // An exact letter match which is 'distance' characters away from the fuzzy location
  // would score as a complete mismatch. A distance of '0' requires the match be at
  // the exact location specified, a threshold of '1000' would require a perfect match
  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.
  distance: 100
};

const AdvancedOptions = {
  // When `true`, it enables the use of unix-like search commands
  useExtendedSearch: false,
  // The get function to use when fetching an object's properties.
  // The default will search nested paths *ie foo.bar.baz*
  getFn: get,
  // When `true`, search will ignore `location` and `distance`, so it won't matter
  // where in the string the pattern appears.
  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score
  ignoreLocation: false,
  // When `true`, the calculation for the relevance score (used for sorting) will
  // ignore the field-length norm.
  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm
  ignoreFieldNorm: false,
  // The weight to determine how much field length norm effects scoring.
  fieldNormWeight: 1
};

var Config = {
  ...BasicOptions,
  ...MatchOptions,
  ...FuzzyOptions,
  ...AdvancedOptions
};

const SPACE = /[^ ]+/g;

// Field-length norm: the shorter the field, the higher the weight.
// Set to 3 decimals to reduce index size.
function norm(weight = 1, mantissa = 3) {
  const cache = new Map();
  const m = Math.pow(10, mantissa);

  return {
    get(value) {
      const numTokens = value.match(SPACE).length;

      if (cache.has(numTokens)) {
        return cache.get(numTokens)
      }

      // Default function is 1/sqrt(x), weight makes that variable
      const norm = 1 / Math.pow(numTokens, 0.5 * weight);

      // In place of `toFixed(mantissa)`, for faster computation
      const n = parseFloat(Math.round(norm * m) / m);

      cache.set(numTokens, n);

      return n
    },
    clear() {
      cache.clear();
    }
  }
}

class FuseIndex {
  constructor({
    getFn = Config.getFn,
    fieldNormWeight = Config.fieldNormWeight
  } = {}) {
    this.norm = norm(fieldNormWeight, 3);
    this.getFn = getFn;
    this.isCreated = false;

    this.setIndexRecords();
  }
  setSources(docs = []) {
    this.docs = docs;
  }
  setIndexRecords(records = []) {
    this.records = records;
  }
  setKeys(keys = []) {
    this.keys = keys;
    this._keysMap = {};
    keys.forEach((key, idx) => {
      this._keysMap[key.id] = idx;
    });
  }
  create() {
    if (this.isCreated || !this.docs.length) {
      return
    }

    this.isCreated = true;

    // List is Array<String>
    if (isString(this.docs[0])) {
      this.docs.forEach((doc, docIndex) => {
        this._addString(doc, docIndex);
      });
    } else {
      // List is Array<Object>
      this.docs.forEach((doc, docIndex) => {
        this._addObject(doc, docIndex);
      });
    }

    this.norm.clear();
  }
  // Adds a doc to the end of the index
  add(doc) {
    const idx = this.size();

    if (isString(doc)) {
      this._addString(doc, idx);
    } else {
      this._addObject(doc, idx);
    }
  }
  // Removes the doc at the specified index of the index
  removeAt(idx) {
    this.records.splice(idx, 1);

    // Change ref index of every subsquent doc
    for (let i = idx, len = this.size(); i < len; i += 1) {
      this.records[i].i -= 1;
    }
  }
  getValueForItemAtKeyId(item, keyId) {
    return item[this._keysMap[keyId]]
  }
  size() {
    return this.records.length
  }
  _addString(doc, docIndex) {
    if (!isDefined(doc) || isBlank(doc)) {
      return
    }

    let record = {
      v: doc,
      i: docIndex,
      n: this.norm.get(doc)
    };

    this.records.push(record);
  }
  _addObject(doc, docIndex) {
    let record = { i: docIndex, $: {} };

    // Iterate over every key (i.e, path), and fetch the value at that key
    this.keys.forEach((key, keyIndex) => {
      let value = key.getFn ? key.getFn(doc) : this.getFn(doc, key.path);

      if (!isDefined(value)) {
        return
      }

      if (isArray(value)) {
        let subRecords = [];
        const stack = [{ nestedArrIndex: -1, value }];

        while (stack.length) {
          const { nestedArrIndex, value } = stack.pop();

          if (!isDefined(value)) {
            continue
          }

          if (isString(value) && !isBlank(value)) {
            let subRecord = {
              v: value,
              i: nestedArrIndex,
              n: this.norm.get(value)
            };

            subRecords.push(subRecord);
          } else if (isArray(value)) {
            value.forEach((item, k) => {
              stack.push({
                nestedArrIndex: k,
                value: item
              });
            });
          } else ;
        }
        record.$[keyIndex] = subRecords;
      } else if (isString(value) && !isBlank(value)) {
        let subRecord = {
          v: value,
          n: this.norm.get(value)
        };

        record.$[keyIndex] = subRecord;
      }
    });

    this.records.push(record);
  }
  toJSON() {
    return {
      keys: this.keys,
      records: this.records
    }
  }
}

function createIndex(
  keys,
  docs,
  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}
) {
  const myIndex = new FuseIndex({ getFn, fieldNormWeight });
  myIndex.setKeys(keys.map(createKey));
  myIndex.setSources(docs);
  myIndex.create();
  return myIndex
}

function parseIndex(
  data,
  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}
) {
  const { keys, records } = data;
  const myIndex = new FuseIndex({ getFn, fieldNormWeight });
  myIndex.setKeys(keys);
  myIndex.setIndexRecords(records);
  return myIndex
}

function computeScore$1(
  pattern,
  {
    errors = 0,
    currentLocation = 0,
    expectedLocation = 0,
    distance = Config.distance,
    ignoreLocation = Config.ignoreLocation
  } = {}
) {
  const accuracy = errors / pattern.length;

  if (ignoreLocation) {
    return accuracy
  }

  const proximity = Math.abs(expectedLocation - currentLocation);

  if (!distance) {
    // Dodge divide by zero error.
    return proximity ? 1.0 : accuracy
  }

  return accuracy + proximity / distance
}

function convertMaskToIndices(
  matchmask = [],
  minMatchCharLength = Config.minMatchCharLength
) {
  let indices = [];
  let start = -1;
  let end = -1;
  let i = 0;

  for (let len = matchmask.length; i < len; i += 1) {
    let match = matchmask[i];
    if (match && start === -1) {
      start = i;
    } else if (!match && start !== -1) {
      end = i - 1;
      if (end - start + 1 >= minMatchCharLength) {
        indices.push([start, end]);
      }
      start = -1;
    }
  }

  // (i-1 - start) + 1 => i - start
  if (matchmask[i - 1] && i - start >= minMatchCharLength) {
    indices.push([start, i - 1]);
  }

  return indices
}

// Machine word size
const MAX_BITS = 32;

function search(
  text,
  pattern,
  patternAlphabet,
  {
    location = Config.location,
    distance = Config.distance,
    threshold = Config.threshold,
    findAllMatches = Config.findAllMatches,
    minMatchCharLength = Config.minMatchCharLength,
    includeMatches = Config.includeMatches,
    ignoreLocation = Config.ignoreLocation
  } = {}
) {
  if (pattern.length > MAX_BITS) {
    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS))
  }

  const patternLen = pattern.length;
  // Set starting location at beginning text and initialize the alphabet.
  const textLen = text.length;
  // Handle the case when location > text.length
  const expectedLocation = Math.max(0, Math.min(location, textLen));
  // Highest score beyond which we give up.
  let currentThreshold = threshold;
  // Is there a nearby exact match? (speedup)
  let bestLocation = expectedLocation;

  // Performance: only computer matches when the minMatchCharLength > 1
  // OR if `includeMatches` is true.
  const computeMatches = minMatchCharLength > 1 || includeMatches;
  // A mask of the matches, used for building the indices
  const matchMask = computeMatches ? Array(textLen) : [];

  let index;

  // Get all exact matches, here for speed up
  while ((index = text.indexOf(pattern, bestLocation)) > -1) {
    let score = computeScore$1(pattern, {
      currentLocation: index,
      expectedLocation,
      distance,
      ignoreLocation
    });

    currentThreshold = Math.min(score, currentThreshold);
    bestLocation = index + patternLen;

    if (computeMatches) {
      let i = 0;
      while (i < patternLen) {
        matchMask[index + i] = 1;
        i += 1;
      }
    }
  }

  // Reset the best location
  bestLocation = -1;

  let lastBitArr = [];
  let finalScore = 1;
  let binMax = patternLen + textLen;

  const mask = 1 << (patternLen - 1);

  for (let i = 0; i < patternLen; i += 1) {
    // Scan for the best match; each iteration allows for one more error.
    // Run a binary search to determine how far from the match location we can stray
    // at this error level.
    let binMin = 0;
    let binMid = binMax;

    while (binMin < binMid) {
      const score = computeScore$1(pattern, {
        errors: i,
        currentLocation: expectedLocation + binMid,
        expectedLocation,
        distance,
        ignoreLocation
      });

      if (score <= currentThreshold) {
        binMin = binMid;
      } else {
        binMax = binMid;
      }

      binMid = Math.floor((binMax - binMin) / 2 + binMin);
    }

    // Use the result from this iteration as the maximum for the next.
    binMax = binMid;

    let start = Math.max(1, expectedLocation - binMid + 1);
    let finish = findAllMatches
      ? textLen
      : Math.min(expectedLocation + binMid, textLen) + patternLen;

    // Initialize the bit array
    let bitArr = Array(finish + 2);

    bitArr[finish + 1] = (1 << i) - 1;

    for (let j = finish; j >= start; j -= 1) {
      let currentLocation = j - 1;
      let charMatch = patternAlphabet[text.charAt(currentLocation)];

      if (computeMatches) {
        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)
        matchMask[currentLocation] = +!!charMatch;
      }

      // First pass: exact match
      bitArr[j] = ((bitArr[j + 1] << 1) | 1) & charMatch;

      // Subsequent passes: fuzzy match
      if (i) {
        bitArr[j] |=
          ((lastBitArr[j + 1] | lastBitArr[j]) << 1) | 1 | lastBitArr[j + 1];
      }

      if (bitArr[j] & mask) {
        finalScore = computeScore$1(pattern, {
          errors: i,
          currentLocation,
          expectedLocation,
          distance,
          ignoreLocation
        });

        // This match will almost certainly be better than any existing match.
        // But check anyway.
        if (finalScore <= currentThreshold) {
          // Indeed it is
          currentThreshold = finalScore;
          bestLocation = currentLocation;

          // Already passed `loc`, downhill from here on in.
          if (bestLocation <= expectedLocation) {
            break
          }

          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.
          start = Math.max(1, 2 * expectedLocation - bestLocation);
        }
      }
    }

    // No hope for a (better) match at greater error levels.
    const score = computeScore$1(pattern, {
      errors: i + 1,
      currentLocation: expectedLocation,
      expectedLocation,
      distance,
      ignoreLocation
    });

    if (score > currentThreshold) {
      break
    }

    lastBitArr = bitArr;
  }

  const result = {
    isMatch: bestLocation >= 0,
    // Count exact matches (those with a score of 0) to be "almost" exact
    score: Math.max(0.001, finalScore)
  };

  if (computeMatches) {
    const indices = convertMaskToIndices(matchMask, minMatchCharLength);
    if (!indices.length) {
      result.isMatch = false;
    } else if (includeMatches) {
      result.indices = indices;
    }
  }

  return result
}

function createPatternAlphabet(pattern) {
  let mask = {};

  for (let i = 0, len = pattern.length; i < len; i += 1) {
    const char = pattern.charAt(i);
    mask[char] = (mask[char] || 0) | (1 << (len - i - 1));
  }

  return mask
}

class BitapSearch {
  constructor(
    pattern,
    {
      location = Config.location,
      threshold = Config.threshold,
      distance = Config.distance,
      includeMatches = Config.includeMatches,
      findAllMatches = Config.findAllMatches,
      minMatchCharLength = Config.minMatchCharLength,
      isCaseSensitive = Config.isCaseSensitive,
      ignoreLocation = Config.ignoreLocation
    } = {}
  ) {
    this.options = {
      location,
      threshold,
      distance,
      includeMatches,
      findAllMatches,
      minMatchCharLength,
      isCaseSensitive,
      ignoreLocation
    };

    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();

    this.chunks = [];

    if (!this.pattern.length) {
      return
    }

    const addChunk = (pattern, startIndex) => {
      this.chunks.push({
        pattern,
        alphabet: createPatternAlphabet(pattern),
        startIndex
      });
    };

    const len = this.pattern.length;

    if (len > MAX_BITS) {
      let i = 0;
      const remainder = len % MAX_BITS;
      const end = len - remainder;

      while (i < end) {
        addChunk(this.pattern.substr(i, MAX_BITS), i);
        i += MAX_BITS;
      }

      if (remainder) {
        const startIndex = len - MAX_BITS;
        addChunk(this.pattern.substr(startIndex), startIndex);
      }
    } else {
      addChunk(this.pattern, 0);
    }
  }

  searchIn(text) {
    const { isCaseSensitive, includeMatches } = this.options;

    if (!isCaseSensitive) {
      text = text.toLowerCase();
    }

    // Exact match
    if (this.pattern === text) {
      let result = {
        isMatch: true,
        score: 0
      };

      if (includeMatches) {
        result.indices = [[0, text.length - 1]];
      }

      return result
    }

    // Otherwise, use Bitap algorithm
    const {
      location,
      distance,
      threshold,
      findAllMatches,
      minMatchCharLength,
      ignoreLocation
    } = this.options;

    let allIndices = [];
    let totalScore = 0;
    let hasMatches = false;

    this.chunks.forEach(({ pattern, alphabet, startIndex }) => {
      const { isMatch, score, indices } = search(text, pattern, alphabet, {
        location: location + startIndex,
        distance,
        threshold,
        findAllMatches,
        minMatchCharLength,
        includeMatches,
        ignoreLocation
      });

      if (isMatch) {
        hasMatches = true;
      }

      totalScore += score;

      if (isMatch && indices) {
        allIndices = [...allIndices, ...indices];
      }
    });

    let result = {
      isMatch: hasMatches,
      score: hasMatches ? totalScore / this.chunks.length : 1
    };

    if (hasMatches && includeMatches) {
      result.indices = allIndices;
    }

    return result
  }
}

class BaseMatch {
  constructor(pattern) {
    this.pattern = pattern;
  }
  static isMultiMatch(pattern) {
    return getMatch(pattern, this.multiRegex)
  }
  static isSingleMatch(pattern) {
    return getMatch(pattern, this.singleRegex)
  }
  search(/*text*/) {}
}

function getMatch(pattern, exp) {
  const matches = pattern.match(exp);
  return matches ? matches[1] : null
}

// Token: 'file

class ExactMatch extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return 'exact'
  }
  static get multiRegex() {
    return /^="(.*)"$/
  }
  static get singleRegex() {
    return /^=(.*)$/
  }
  search(text) {
    const isMatch = text === this.pattern;

    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices: [0, this.pattern.length - 1]
    }
  }
}

// Token: !fire

class InverseExactMatch extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return 'inverse-exact'
  }
  static get multiRegex() {
    return /^!"(.*)"$/
  }
  static get singleRegex() {
    return /^!(.*)$/
  }
  search(text) {
    const index = text.indexOf(this.pattern);
    const isMatch = index === -1;

    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices: [0, text.length - 1]
    }
  }
}

// Token: ^file

class PrefixExactMatch extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return 'prefix-exact'
  }
  static get multiRegex() {
    return /^\^"(.*)"$/
  }
  static get singleRegex() {
    return /^\^(.*)$/
  }
  search(text) {
    const isMatch = text.startsWith(this.pattern);

    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices: [0, this.pattern.length - 1]
    }
  }
}

// Token: !^fire

class InversePrefixExactMatch extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return 'inverse-prefix-exact'
  }
  static get multiRegex() {
    return /^!\^"(.*)"$/
  }
  static get singleRegex() {
    return /^!\^(.*)$/
  }
  search(text) {
    const isMatch = !text.startsWith(this.pattern);

    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices: [0, text.length - 1]
    }
  }
}

// Token: .file$

class SuffixExactMatch extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return 'suffix-exact'
  }
  static get multiRegex() {
    return /^"(.*)"\$$/
  }
  static get singleRegex() {
    return /^(.*)\$$/
  }
  search(text) {
    const isMatch = text.endsWith(this.pattern);

    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices: [text.length - this.pattern.length, text.length - 1]
    }
  }
}

// Token: !.file$

class InverseSuffixExactMatch extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return 'inverse-suffix-exact'
  }
  static get multiRegex() {
    return /^!"(.*)"\$$/
  }
  static get singleRegex() {
    return /^!(.*)\$$/
  }
  search(text) {
    const isMatch = !text.endsWith(this.pattern);
    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices: [0, text.length - 1]
    }
  }
}

class FuzzyMatch extends BaseMatch {
  constructor(
    pattern,
    {
      location = Config.location,
      threshold = Config.threshold,
      distance = Config.distance,
      includeMatches = Config.includeMatches,
      findAllMatches = Config.findAllMatches,
      minMatchCharLength = Config.minMatchCharLength,
      isCaseSensitive = Config.isCaseSensitive,
      ignoreLocation = Config.ignoreLocation
    } = {}
  ) {
    super(pattern);
    this._bitapSearch = new BitapSearch(pattern, {
      location,
      threshold,
      distance,
      includeMatches,
      findAllMatches,
      minMatchCharLength,
      isCaseSensitive,
      ignoreLocation
    });
  }
  static get type() {
    return 'fuzzy'
  }
  static get multiRegex() {
    return /^"(.*)"$/
  }
  static get singleRegex() {
    return /^(.*)$/
  }
  search(text) {
    return this._bitapSearch.searchIn(text)
  }
}

// Token: 'file

class IncludeMatch extends BaseMatch {
  constructor(pattern) {
    super(pattern);
  }
  static get type() {
    return 'include'
  }
  static get multiRegex() {
    return /^'"(.*)"$/
  }
  static get singleRegex() {
    return /^'(.*)$/
  }
  search(text) {
    let location = 0;
    let index;

    const indices = [];
    const patternLen = this.pattern.length;

    // Get all exact matches
    while ((index = text.indexOf(this.pattern, location)) > -1) {
      location = index + patternLen;
      indices.push([index, location - 1]);
    }

    const isMatch = !!indices.length;

    return {
      isMatch,
      score: isMatch ? 0 : 1,
      indices
    }
  }
}

// ❗Order is important. DO NOT CHANGE.
const searchers = [
  ExactMatch,
  IncludeMatch,
  PrefixExactMatch,
  InversePrefixExactMatch,
  InverseSuffixExactMatch,
  SuffixExactMatch,
  InverseExactMatch,
  FuzzyMatch
];

const searchersLen = searchers.length;

// Regex to split by spaces, but keep anything in quotes together
const SPACE_RE = / +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;
const OR_TOKEN = '|';

// Return a 2D array representation of the query, for simpler parsing.
// Example:
// "^core go$ | rb$ | py$ xy$" => [["^core", "go$"], ["rb$"], ["py$", "xy$"]]
function parseQuery(pattern, options = {}) {
  return pattern.split(OR_TOKEN).map((item) => {
    let query = item
      .trim()
      .split(SPACE_RE)
      .filter((item) => item && !!item.trim());

    let results = [];
    for (let i = 0, len = query.length; i < len; i += 1) {
      const queryItem = query[i];

      // 1. Handle multiple query match (i.e, once that are quoted, like `"hello world"`)
      let found = false;
      let idx = -1;
      while (!found && ++idx < searchersLen) {
        const searcher = searchers[idx];
        let token = searcher.isMultiMatch(queryItem);
        if (token) {
          results.push(new searcher(token, options));
          found = true;
        }
      }

      if (found) {
        continue
      }

      // 2. Handle single query matches (i.e, once that are *not* quoted)
      idx = -1;
      while (++idx < searchersLen) {
        const searcher = searchers[idx];
        let token = searcher.isSingleMatch(queryItem);
        if (token) {
          results.push(new searcher(token, options));
          break
        }
      }
    }

    return results
  })
}

// These extended matchers can return an array of matches, as opposed
// to a singl match
const MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);

/**
 * Command-like searching
 * ======================
 *
 * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,
 * search in a given text.
 *
 * Search syntax:
 *
 * | Token       | Match type                 | Description                            |
 * | ----------- | -------------------------- | -------------------------------------- |
 * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |
 * | `=scheme`   | exact-match                | Items that are `scheme`                |
 * | `'python`   | include-match              | Items that include `python`            |
 * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |
 * | `^java`     | prefix-exact-match         | Items that start with `java`           |
 * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |
 * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |
 * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |
 *
 * A single pipe character acts as an OR operator. For example, the following
 * query matches entries that start with `core` and end with either`go`, `rb`,
 * or`py`.
 *
 * ```
 * ^core go$ | rb$ | py$
 * ```
 */
class ExtendedSearch {
  constructor(
    pattern,
    {
      isCaseSensitive = Config.isCaseSensitive,
      includeMatches = Config.includeMatches,
      minMatchCharLength = Config.minMatchCharLength,
      ignoreLocation = Config.ignoreLocation,
      findAllMatches = Config.findAllMatches,
      location = Config.location,
      threshold = Config.threshold,
      distance = Config.distance
    } = {}
  ) {
    this.query = null;
    this.options = {
      isCaseSensitive,
      includeMatches,
      minMatchCharLength,
      findAllMatches,
      ignoreLocation,
      location,
      threshold,
      distance
    };

    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();
    this.query = parseQuery(this.pattern, this.options);
  }

  static condition(_, options) {
    return options.useExtendedSearch
  }

  searchIn(text) {
    const query = this.query;

    if (!query) {
      return {
        isMatch: false,
        score: 1
      }
    }

    const { includeMatches, isCaseSensitive } = this.options;

    text = isCaseSensitive ? text : text.toLowerCase();

    let numMatches = 0;
    let allIndices = [];
    let totalScore = 0;

    // ORs
    for (let i = 0, qLen = query.length; i < qLen; i += 1) {
      const searchers = query[i];

      // Reset indices
      allIndices.length = 0;
      numMatches = 0;

      // ANDs
      for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {
        const searcher = searchers[j];
        const { isMatch, indices, score } = searcher.search(text);

        if (isMatch) {
          numMatches += 1;
          totalScore += score;
          if (includeMatches) {
            const type = searcher.constructor.type;
            if (MultiMatchSet.has(type)) {
              allIndices = [...allIndices, ...indices];
            } else {
              allIndices.push(indices);
            }
          }
        } else {
          totalScore = 0;
          numMatches = 0;
          allIndices.length = 0;
          break
        }
      }

      // OR condition, so if TRUE, return
      if (numMatches) {
        let result = {
          isMatch: true,
          score: totalScore / numMatches
        };

        if (includeMatches) {
          result.indices = allIndices;
        }

        return result
      }
    }

    // Nothing was matched
    return {
      isMatch: false,
      score: 1
    }
  }
}

const registeredSearchers = [];

function register(...args) {
  registeredSearchers.push(...args);
}

function createSearcher(pattern, options) {
  for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {
    let searcherClass = registeredSearchers[i];
    if (searcherClass.condition(pattern, options)) {
      return new searcherClass(pattern, options)
    }
  }

  return new BitapSearch(pattern, options)
}

const LogicalOperator = {
  AND: '$and',
  OR: '$or'
};

const KeyType = {
  PATH: '$path',
  PATTERN: '$val'
};

const isExpression = (query) =>
  !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);

const isPath = (query) => !!query[KeyType.PATH];

const isLeaf = (query) =>
  !isArray(query) && isObject(query) && !isExpression(query);

const convertToExplicit = (query) => ({
  [LogicalOperator.AND]: Object.keys(query).map((key) => ({
    [key]: query[key]
  }))
});

// When `auto` is `true`, the parse function will infer and initialize and add
// the appropriate `Searcher` instance
function parse(query, options, { auto = true } = {}) {
  const next = (query) => {
    let keys = Object.keys(query);

    const isQueryPath = isPath(query);

    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {
      return next(convertToExplicit(query))
    }

    if (isLeaf(query)) {
      const key = isQueryPath ? query[KeyType.PATH] : keys[0];

      const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];

      if (!isString(pattern)) {
        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key))
      }

      const obj = {
        keyId: createKeyId(key),
        pattern
      };

      if (auto) {
        obj.searcher = createSearcher(pattern, options);
      }

      return obj
    }

    let node = {
      children: [],
      operator: keys[0]
    };

    keys.forEach((key) => {
      const value = query[key];

      if (isArray(value)) {
        value.forEach((item) => {
          node.children.push(next(item));
        });
      }
    });

    return node
  };

  if (!isExpression(query)) {
    query = convertToExplicit(query);
  }

  return next(query)
}

// Practical scoring function
function computeScore(
  results,
  { ignoreFieldNorm = Config.ignoreFieldNorm }
) {
  results.forEach((result) => {
    let totalScore = 1;

    result.matches.forEach(({ key, norm, score }) => {
      const weight = key ? key.weight : null;

      totalScore *= Math.pow(
        score === 0 && weight ? Number.EPSILON : score,
        (weight || 1) * (ignoreFieldNorm ? 1 : norm)
      );
    });

    result.score = totalScore;
  });
}

function transformMatches(result, data) {
  const matches = result.matches;
  data.matches = [];

  if (!isDefined(matches)) {
    return
  }

  matches.forEach((match) => {
    if (!isDefined(match.indices) || !match.indices.length) {
      return
    }

    const { indices, value } = match;

    let obj = {
      indices,
      value
    };

    if (match.key) {
      obj.key = match.key.src;
    }

    if (match.idx > -1) {
      obj.refIndex = match.idx;
    }

    data.matches.push(obj);
  });
}

function transformScore(result, data) {
  data.score = result.score;
}

function format(
  results,
  docs,
  {
    includeMatches = Config.includeMatches,
    includeScore = Config.includeScore
  } = {}
) {
  const transformers = [];

  if (includeMatches) transformers.push(transformMatches);
  if (includeScore) transformers.push(transformScore);

  return results.map((result) => {
    const { idx } = result;

    const data = {
      item: docs[idx],
      refIndex: idx
    };

    if (transformers.length) {
      transformers.forEach((transformer) => {
        transformer(result, data);
      });
    }

    return data
  })
}

class Fuse {
  constructor(docs, options = {}, index) {
    this.options = { ...Config, ...options };

    if (
      this.options.useExtendedSearch &&
      !true
    ) {}

    this._keyStore = new KeyStore(this.options.keys);

    this.setCollection(docs, index);
  }

  setCollection(docs, index) {
    this._docs = docs;

    if (index && !(index instanceof FuseIndex)) {
      throw new Error(INCORRECT_INDEX_TYPE)
    }

    this._myIndex =
      index ||
      createIndex(this.options.keys, this._docs, {
        getFn: this.options.getFn,
        fieldNormWeight: this.options.fieldNormWeight
      });
  }

  add(doc) {
    if (!isDefined(doc)) {
      return
    }

    this._docs.push(doc);
    this._myIndex.add(doc);
  }

  remove(predicate = (/* doc, idx */) => false) {
    const results = [];

    for (let i = 0, len = this._docs.length; i < len; i += 1) {
      const doc = this._docs[i];
      if (predicate(doc, i)) {
        this.removeAt(i);
        i -= 1;
        len -= 1;

        results.push(doc);
      }
    }

    return results
  }

  removeAt(idx) {
    this._docs.splice(idx, 1);
    this._myIndex.removeAt(idx);
  }

  getIndex() {
    return this._myIndex
  }

  search(query, { limit = -1 } = {}) {
    const {
      includeMatches,
      includeScore,
      shouldSort,
      sortFn,
      ignoreFieldNorm
    } = this.options;

    let results = isString(query)
      ? isString(this._docs[0])
        ? this._searchStringList(query)
        : this._searchObjectList(query)
      : this._searchLogical(query);

    computeScore(results, { ignoreFieldNorm });

    if (shouldSort) {
      results.sort(sortFn);
    }

    if (isNumber(limit) && limit > -1) {
      results = results.slice(0, limit);
    }

    return format(results, this._docs, {
      includeMatches,
      includeScore
    })
  }

  _searchStringList(query) {
    const searcher = createSearcher(query, this.options);
    const { records } = this._myIndex;
    const results = [];

    // Iterate over every string in the index
    records.forEach(({ v: text, i: idx, n: norm }) => {
      if (!isDefined(text)) {
        return
      }

      const { isMatch, score, indices } = searcher.searchIn(text);

      if (isMatch) {
        results.push({
          item: text,
          idx,
          matches: [{ score, value: text, norm, indices }]
        });
      }
    });

    return results
  }

  _searchLogical(query) {

    const expression = parse(query, this.options);

    const evaluate = (node, item, idx) => {
      if (!node.children) {
        const { keyId, searcher } = node;

        const matches = this._findMatches({
          key: this._keyStore.get(keyId),
          value: this._myIndex.getValueForItemAtKeyId(item, keyId),
          searcher
        });

        if (matches && matches.length) {
          return [
            {
              idx,
              item,
              matches
            }
          ]
        }

        return []
      }

      const res = [];
      for (let i = 0, len = node.children.length; i < len; i += 1) {
        const child = node.children[i];
        const result = evaluate(child, item, idx);
        if (result.length) {
          res.push(...result);
        } else if (node.operator === LogicalOperator.AND) {
          return []
        }
      }
      return res
    };

    const records = this._myIndex.records;
    const resultMap = {};
    const results = [];

    records.forEach(({ $: item, i: idx }) => {
      if (isDefined(item)) {
        let expResults = evaluate(expression, item, idx);

        if (expResults.length) {
          // Dedupe when adding
          if (!resultMap[idx]) {
            resultMap[idx] = { idx, item, matches: [] };
            results.push(resultMap[idx]);
          }
          expResults.forEach(({ matches }) => {
            resultMap[idx].matches.push(...matches);
          });
        }
      }
    });

    return results
  }

  _searchObjectList(query) {
    const searcher = createSearcher(query, this.options);
    const { keys, records } = this._myIndex;
    const results = [];

    // List is Array<Object>
    records.forEach(({ $: item, i: idx }) => {
      if (!isDefined(item)) {
        return
      }

      let matches = [];

      // Iterate over every key (i.e, path), and fetch the value at that key
      keys.forEach((key, keyIndex) => {
        matches.push(
          ...this._findMatches({
            key,
            value: item[keyIndex],
            searcher
          })
        );
      });

      if (matches.length) {
        results.push({
          idx,
          item,
          matches
        });
      }
    });

    return results
  }
  _findMatches({ key, value, searcher }) {
    if (!isDefined(value)) {
      return []
    }

    let matches = [];

    if (isArray(value)) {
      value.forEach(({ v: text, i: idx, n: norm }) => {
        if (!isDefined(text)) {
          return
        }

        const { isMatch, score, indices } = searcher.searchIn(text);

        if (isMatch) {
          matches.push({
            score,
            key,
            value: text,
            idx,
            norm,
            indices
          });
        }
      });
    } else {
      const { v: text, n: norm } = value;

      const { isMatch, score, indices } = searcher.searchIn(text);

      if (isMatch) {
        matches.push({ score, key, value: text, norm, indices });
      }
    }

    return matches
  }
}

Fuse.version = '6.6.2';
Fuse.createIndex = createIndex;
Fuse.parseIndex = parseIndex;
Fuse.config = Config;

{
  Fuse.parseQuery = parse;
}

{
  register(ExtendedSearch);
}




/***/ }),

/***/ 791:
/***/ (function(__unused_webpack_module, __nested_webpack_exports__, __nested_webpack_require_177999__) {

// ESM COMPAT FLAG
__nested_webpack_require_177999__.r(__nested_webpack_exports__);

// EXPORTS
__nested_webpack_require_177999__.d(__nested_webpack_exports__, {
  "__DO_NOT_USE__ActionTypes": function() { return /* binding */ ActionTypes; },
  "applyMiddleware": function() { return /* binding */ applyMiddleware; },
  "bindActionCreators": function() { return /* binding */ bindActionCreators; },
  "combineReducers": function() { return /* binding */ combineReducers; },
  "compose": function() { return /* binding */ compose; },
  "createStore": function() { return /* binding */ createStore; },
  "legacy_createStore": function() { return /* binding */ legacy_createStore; }
});

;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/typeof.js
function _typeof(obj) {
  "@babel/helpers - typeof";

  return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  }, _typeof(obj);
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/toPrimitive.js

function _toPrimitive(input, hint) {
  if (_typeof(input) !== "object" || input === null) return input;
  var prim = input[Symbol.toPrimitive];
  if (prim !== undefined) {
    var res = prim.call(input, hint || "default");
    if (_typeof(res) !== "object") return res;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (hint === "string" ? String : Number)(input);
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js


function _toPropertyKey(arg) {
  var key = _toPrimitive(arg, "string");
  return _typeof(key) === "symbol" ? key : String(key);
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js

function _defineProperty(obj, key, value) {
  key = _toPropertyKey(key);
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }
  return obj;
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js

function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);
  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    enumerableOnly && (symbols = symbols.filter(function (sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    })), keys.push.apply(keys, symbols);
  }
  return keys;
}
function _objectSpread2(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = null != arguments[i] ? arguments[i] : {};
    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {
      _defineProperty(target, key, source[key]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {
      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
    });
  }
  return target;
}
;// CONCATENATED MODULE: ./node_modules/redux/es/redux.js


/**
 * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js
 *
 * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes
 * during build.
 * @param {number} code
 */
function formatProdErrorMessage(code) {
  return "Minified Redux error #" + code + "; visit https://redux.js.org/Errors?code=" + code + " for the full message or " + 'use the non-minified dev environment for full errors. ';
}

// Inlined version of the `symbol-observable` polyfill
var $$observable = (function () {
  return typeof Symbol === 'function' && Symbol.observable || '@@observable';
})();

/**
 * These are private action types reserved by Redux.
 * For any unknown actions, you must return the current state.
 * If the current state is undefined, you must return the initial state.
 * Do not reference these action types directly in your code.
 */
var randomString = function randomString() {
  return Math.random().toString(36).substring(7).split('').join('.');
};

var ActionTypes = {
  INIT: "@@redux/INIT" + randomString(),
  REPLACE: "@@redux/REPLACE" + randomString(),
  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {
    return "@@redux/PROBE_UNKNOWN_ACTION" + randomString();
  }
};

/**
 * @param {any} obj The object to inspect.
 * @returns {boolean} True if the argument appears to be a plain object.
 */
function isPlainObject(obj) {
  if (typeof obj !== 'object' || obj === null) return false;
  var proto = obj;

  while (Object.getPrototypeOf(proto) !== null) {
    proto = Object.getPrototypeOf(proto);
  }

  return Object.getPrototypeOf(obj) === proto;
}

// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of
function miniKindOf(val) {
  if (val === void 0) return 'undefined';
  if (val === null) return 'null';
  var type = typeof val;

  switch (type) {
    case 'boolean':
    case 'string':
    case 'number':
    case 'symbol':
    case 'function':
      {
        return type;
      }
  }

  if (Array.isArray(val)) return 'array';
  if (isDate(val)) return 'date';
  if (isError(val)) return 'error';
  var constructorName = ctorName(val);

  switch (constructorName) {
    case 'Symbol':
    case 'Promise':
    case 'WeakMap':
    case 'WeakSet':
    case 'Map':
    case 'Set':
      return constructorName;
  } // other


  return type.slice(8, -1).toLowerCase().replace(/\s/g, '');
}

function ctorName(val) {
  return typeof val.constructor === 'function' ? val.constructor.name : null;
}

function isError(val) {
  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';
}

function isDate(val) {
  if (val instanceof Date) return true;
  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';
}

function kindOf(val) {
  var typeOfVal = typeof val;

  if (false) {}

  return typeOfVal;
}

/**
 * @deprecated
 *
 * **We recommend using the `configureStore` method
 * of the `@reduxjs/toolkit` package**, which replaces `createStore`.
 *
 * Redux Toolkit is our recommended approach for writing Redux logic today,
 * including store setup, reducers, data fetching, and more.
 *
 * **For more details, please read this Redux docs page:**
 * **https://redux.js.org/introduction/why-rtk-is-redux-today**
 *
 * `configureStore` from Redux Toolkit is an improved version of `createStore` that
 * simplifies setup and helps avoid common bugs.
 *
 * You should not be using the `redux` core package by itself today, except for learning purposes.
 * The `createStore` method from the core `redux` package will not be removed, but we encourage
 * all users to migrate to using Redux Toolkit for all Redux code.
 *
 * If you want to use `createStore` without this visual deprecation warning, use
 * the `legacy_createStore` import instead:
 *
 * `import { legacy_createStore as createStore} from 'redux'`
 *
 */

function createStore(reducer, preloadedState, enhancer) {
  var _ref2;

  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {
    throw new Error(  true ? formatProdErrorMessage(0) : 0);
  }

  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {
    enhancer = preloadedState;
    preloadedState = undefined;
  }

  if (typeof enhancer !== 'undefined') {
    if (typeof enhancer !== 'function') {
      throw new Error(  true ? formatProdErrorMessage(1) : 0);
    }

    return enhancer(createStore)(reducer, preloadedState);
  }

  if (typeof reducer !== 'function') {
    throw new Error(  true ? formatProdErrorMessage(2) : 0);
  }

  var currentReducer = reducer;
  var currentState = preloadedState;
  var currentListeners = [];
  var nextListeners = currentListeners;
  var isDispatching = false;
  /**
   * This makes a shallow copy of currentListeners so we can use
   * nextListeners as a temporary list while dispatching.
   *
   * This prevents any bugs around consumers calling
   * subscribe/unsubscribe in the middle of a dispatch.
   */

  function ensureCanMutateNextListeners() {
    if (nextListeners === currentListeners) {
      nextListeners = currentListeners.slice();
    }
  }
  /**
   * Reads the state tree managed by the store.
   *
   * @returns {any} The current state tree of your application.
   */


  function getState() {
    if (isDispatching) {
      throw new Error(  true ? formatProdErrorMessage(3) : 0);
    }

    return currentState;
  }
  /**
   * Adds a change listener. It will be called any time an action is dispatched,
   * and some part of the state tree may potentially have changed. You may then
   * call `getState()` to read the current state tree inside the callback.
   *
   * You may call `dispatch()` from a change listener, with the following
   * caveats:
   *
   * 1. The subscriptions are snapshotted just before every `dispatch()` call.
   * If you subscribe or unsubscribe while the listeners are being invoked, this
   * will not have any effect on the `dispatch()` that is currently in progress.
   * However, the next `dispatch()` call, whether nested or not, will use a more
   * recent snapshot of the subscription list.
   *
   * 2. The listener should not expect to see all state changes, as the state
   * might have been updated multiple times during a nested `dispatch()` before
   * the listener is called. It is, however, guaranteed that all subscribers
   * registered before the `dispatch()` started will be called with the latest
   * state by the time it exits.
   *
   * @param {Function} listener A callback to be invoked on every dispatch.
   * @returns {Function} A function to remove this change listener.
   */


  function subscribe(listener) {
    if (typeof listener !== 'function') {
      throw new Error(  true ? formatProdErrorMessage(4) : 0);
    }

    if (isDispatching) {
      throw new Error(  true ? formatProdErrorMessage(5) : 0);
    }

    var isSubscribed = true;
    ensureCanMutateNextListeners();
    nextListeners.push(listener);
    return function unsubscribe() {
      if (!isSubscribed) {
        return;
      }

      if (isDispatching) {
        throw new Error(  true ? formatProdErrorMessage(6) : 0);
      }

      isSubscribed = false;
      ensureCanMutateNextListeners();
      var index = nextListeners.indexOf(listener);
      nextListeners.splice(index, 1);
      currentListeners = null;
    };
  }
  /**
   * Dispatches an action. It is the only way to trigger a state change.
   *
   * The `reducer` function, used to create the store, will be called with the
   * current state tree and the given `action`. Its return value will
   * be considered the **next** state of the tree, and the change listeners
   * will be notified.
   *
   * The base implementation only supports plain object actions. If you want to
   * dispatch a Promise, an Observable, a thunk, or something else, you need to
   * wrap your store creating function into the corresponding middleware. For
   * example, see the documentation for the `redux-thunk` package. Even the
   * middleware will eventually dispatch plain object actions using this method.
   *
   * @param {Object} action A plain object representing “what changed”. It is
   * a good idea to keep actions serializable so you can record and replay user
   * sessions, or use the time travelling `redux-devtools`. An action must have
   * a `type` property which may not be `undefined`. It is a good idea to use
   * string constants for action types.
   *
   * @returns {Object} For convenience, the same action object you dispatched.
   *
   * Note that, if you use a custom middleware, it may wrap `dispatch()` to
   * return something else (for example, a Promise you can await).
   */


  function dispatch(action) {
    if (!isPlainObject(action)) {
      throw new Error(  true ? formatProdErrorMessage(7) : 0);
    }

    if (typeof action.type === 'undefined') {
      throw new Error(  true ? formatProdErrorMessage(8) : 0);
    }

    if (isDispatching) {
      throw new Error(  true ? formatProdErrorMessage(9) : 0);
    }

    try {
      isDispatching = true;
      currentState = currentReducer(currentState, action);
    } finally {
      isDispatching = false;
    }

    var listeners = currentListeners = nextListeners;

    for (var i = 0; i < listeners.length; i++) {
      var listener = listeners[i];
      listener();
    }

    return action;
  }
  /**
   * Replaces the reducer currently used by the store to calculate the state.
   *
   * You might need this if your app implements code splitting and you want to
   * load some of the reducers dynamically. You might also need this if you
   * implement a hot reloading mechanism for Redux.
   *
   * @param {Function} nextReducer The reducer for the store to use instead.
   * @returns {void}
   */


  function replaceReducer(nextReducer) {
    if (typeof nextReducer !== 'function') {
      throw new Error(  true ? formatProdErrorMessage(10) : 0);
    }

    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.
    // Any reducers that existed in both the new and old rootReducer
    // will receive the previous state. This effectively populates
    // the new state tree with any relevant data from the old one.

    dispatch({
      type: ActionTypes.REPLACE
    });
  }
  /**
   * Interoperability point for observable/reactive libraries.
   * @returns {observable} A minimal observable of state changes.
   * For more information, see the observable proposal:
   * https://github.com/tc39/proposal-observable
   */


  function observable() {
    var _ref;

    var outerSubscribe = subscribe;
    return _ref = {
      /**
       * The minimal observable subscription method.
       * @param {Object} observer Any object that can be used as an observer.
       * The observer object should have a `next` method.
       * @returns {subscription} An object with an `unsubscribe` method that can
       * be used to unsubscribe the observable from the store, and prevent further
       * emission of values from the observable.
       */
      subscribe: function subscribe(observer) {
        if (typeof observer !== 'object' || observer === null) {
          throw new Error(  true ? formatProdErrorMessage(11) : 0);
        }

        function observeState() {
          if (observer.next) {
            observer.next(getState());
          }
        }

        observeState();
        var unsubscribe = outerSubscribe(observeState);
        return {
          unsubscribe: unsubscribe
        };
      }
    }, _ref[$$observable] = function () {
      return this;
    }, _ref;
  } // When a store is created, an "INIT" action is dispatched so that every
  // reducer returns their initial state. This effectively populates
  // the initial state tree.


  dispatch({
    type: ActionTypes.INIT
  });
  return _ref2 = {
    dispatch: dispatch,
    subscribe: subscribe,
    getState: getState,
    replaceReducer: replaceReducer
  }, _ref2[$$observable] = observable, _ref2;
}
/**
 * Creates a Redux store that holds the state tree.
 *
 * **We recommend using `configureStore` from the
 * `@reduxjs/toolkit` package**, which replaces `createStore`:
 * **https://redux.js.org/introduction/why-rtk-is-redux-today**
 *
 * The only way to change the data in the store is to call `dispatch()` on it.
 *
 * There should only be a single store in your app. To specify how different
 * parts of the state tree respond to actions, you may combine several reducers
 * into a single reducer function by using `combineReducers`.
 *
 * @param {Function} reducer A function that returns the next state tree, given
 * the current state tree and the action to handle.
 *
 * @param {any} [preloadedState] The initial state. You may optionally specify it
 * to hydrate the state from the server in universal apps, or to restore a
 * previously serialized user session.
 * If you use `combineReducers` to produce the root reducer function, this must be
 * an object with the same shape as `combineReducers` keys.
 *
 * @param {Function} [enhancer] The store enhancer. You may optionally specify it
 * to enhance the store with third-party capabilities such as middleware,
 * time travel, persistence, etc. The only store enhancer that ships with Redux
 * is `applyMiddleware()`.
 *
 * @returns {Store} A Redux store that lets you read the state, dispatch actions
 * and subscribe to changes.
 */

var legacy_createStore = createStore;

/**
 * Prints a warning in the console if it exists.
 *
 * @param {String} message The warning message.
 * @returns {void}
 */
function warning(message) {
  /* eslint-disable no-console */
  if (typeof console !== 'undefined' && typeof console.error === 'function') {
    console.error(message);
  }
  /* eslint-enable no-console */


  try {
    // This error was thrown as a convenience so that if you enable
    // "break on all exceptions" in your console,
    // it would pause the execution at this line.
    throw new Error(message);
  } catch (e) {} // eslint-disable-line no-empty

}

function getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {
  var reducerKeys = Object.keys(reducers);
  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';

  if (reducerKeys.length === 0) {
    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';
  }

  if (!isPlainObject(inputState)) {
    return "The " + argumentName + " has unexpected type of \"" + kindOf(inputState) + "\". Expected argument to be an object with the following " + ("keys: \"" + reducerKeys.join('", "') + "\"");
  }

  var unexpectedKeys = Object.keys(inputState).filter(function (key) {
    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];
  });
  unexpectedKeys.forEach(function (key) {
    unexpectedKeyCache[key] = true;
  });
  if (action && action.type === ActionTypes.REPLACE) return;

  if (unexpectedKeys.length > 0) {
    return "Unexpected " + (unexpectedKeys.length > 1 ? 'keys' : 'key') + " " + ("\"" + unexpectedKeys.join('", "') + "\" found in " + argumentName + ". ") + "Expected to find one of the known reducer keys instead: " + ("\"" + reducerKeys.join('", "') + "\". Unexpected keys will be ignored.");
  }
}

function assertReducerShape(reducers) {
  Object.keys(reducers).forEach(function (key) {
    var reducer = reducers[key];
    var initialState = reducer(undefined, {
      type: ActionTypes.INIT
    });

    if (typeof initialState === 'undefined') {
      throw new Error(  true ? formatProdErrorMessage(12) : 0);
    }

    if (typeof reducer(undefined, {
      type: ActionTypes.PROBE_UNKNOWN_ACTION()
    }) === 'undefined') {
      throw new Error(  true ? formatProdErrorMessage(13) : 0);
    }
  });
}
/**
 * Turns an object whose values are different reducer functions, into a single
 * reducer function. It will call every child reducer, and gather their results
 * into a single state object, whose keys correspond to the keys of the passed
 * reducer functions.
 *
 * @param {Object} reducers An object whose values correspond to different
 * reducer functions that need to be combined into one. One handy way to obtain
 * it is to use ES6 `import * as reducers` syntax. The reducers may never return
 * undefined for any action. Instead, they should return their initial state
 * if the state passed to them was undefined, and the current state for any
 * unrecognized action.
 *
 * @returns {Function} A reducer function that invokes every reducer inside the
 * passed object, and builds a state object with the same shape.
 */


function combineReducers(reducers) {
  var reducerKeys = Object.keys(reducers);
  var finalReducers = {};

  for (var i = 0; i < reducerKeys.length; i++) {
    var key = reducerKeys[i];

    if (false) {}

    if (typeof reducers[key] === 'function') {
      finalReducers[key] = reducers[key];
    }
  }

  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same
  // keys multiple times.

  var unexpectedKeyCache;

  if (false) {}

  var shapeAssertionError;

  try {
    assertReducerShape(finalReducers);
  } catch (e) {
    shapeAssertionError = e;
  }

  return function combination(state, action) {
    if (state === void 0) {
      state = {};
    }

    if (shapeAssertionError) {
      throw shapeAssertionError;
    }

    if (false) { var warningMessage; }

    var hasChanged = false;
    var nextState = {};

    for (var _i = 0; _i < finalReducerKeys.length; _i++) {
      var _key = finalReducerKeys[_i];
      var reducer = finalReducers[_key];
      var previousStateForKey = state[_key];
      var nextStateForKey = reducer(previousStateForKey, action);

      if (typeof nextStateForKey === 'undefined') {
        var actionType = action && action.type;
        throw new Error(  true ? formatProdErrorMessage(14) : 0);
      }

      nextState[_key] = nextStateForKey;
      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;
    }

    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;
    return hasChanged ? nextState : state;
  };
}

function bindActionCreator(actionCreator, dispatch) {
  return function () {
    return dispatch(actionCreator.apply(this, arguments));
  };
}
/**
 * Turns an object whose values are action creators, into an object with the
 * same keys, but with every function wrapped into a `dispatch` call so they
 * may be invoked directly. This is just a convenience method, as you can call
 * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.
 *
 * For convenience, you can also pass an action creator as the first argument,
 * and get a dispatch wrapped function in return.
 *
 * @param {Function|Object} actionCreators An object whose values are action
 * creator functions. One handy way to obtain it is to use ES6 `import * as`
 * syntax. You may also pass a single function.
 *
 * @param {Function} dispatch The `dispatch` function available on your Redux
 * store.
 *
 * @returns {Function|Object} The object mimicking the original object, but with
 * every action creator wrapped into the `dispatch` call. If you passed a
 * function as `actionCreators`, the return value will also be a single
 * function.
 */


function bindActionCreators(actionCreators, dispatch) {
  if (typeof actionCreators === 'function') {
    return bindActionCreator(actionCreators, dispatch);
  }

  if (typeof actionCreators !== 'object' || actionCreators === null) {
    throw new Error(  true ? formatProdErrorMessage(16) : 0);
  }

  var boundActionCreators = {};

  for (var key in actionCreators) {
    var actionCreator = actionCreators[key];

    if (typeof actionCreator === 'function') {
      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);
    }
  }

  return boundActionCreators;
}

/**
 * Composes single-argument functions from right to left. The rightmost
 * function can take multiple arguments as it provides the signature for
 * the resulting composite function.
 *
 * @param {...Function} funcs The functions to compose.
 * @returns {Function} A function obtained by composing the argument functions
 * from right to left. For example, compose(f, g, h) is identical to doing
 * (...args) => f(g(h(...args))).
 */
function compose() {
  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {
    funcs[_key] = arguments[_key];
  }

  if (funcs.length === 0) {
    return function (arg) {
      return arg;
    };
  }

  if (funcs.length === 1) {
    return funcs[0];
  }

  return funcs.reduce(function (a, b) {
    return function () {
      return a(b.apply(void 0, arguments));
    };
  });
}

/**
 * Creates a store enhancer that applies middleware to the dispatch method
 * of the Redux store. This is handy for a variety of tasks, such as expressing
 * asynchronous actions in a concise manner, or logging every action payload.
 *
 * See `redux-thunk` package as an example of the Redux middleware.
 *
 * Because middleware is potentially asynchronous, this should be the first
 * store enhancer in the composition chain.
 *
 * Note that each middleware will be given the `dispatch` and `getState` functions
 * as named arguments.
 *
 * @param {...Function} middlewares The middleware chain to be applied.
 * @returns {Function} A store enhancer applying the middleware.
 */

function applyMiddleware() {
  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {
    middlewares[_key] = arguments[_key];
  }

  return function (createStore) {
    return function () {
      var store = createStore.apply(void 0, arguments);

      var _dispatch = function dispatch() {
        throw new Error(  true ? formatProdErrorMessage(15) : 0);
      };

      var middlewareAPI = {
        getState: store.getState,
        dispatch: function dispatch() {
          return _dispatch.apply(void 0, arguments);
        }
      };
      var chain = middlewares.map(function (middleware) {
        return middleware(middlewareAPI);
      });
      _dispatch = compose.apply(void 0, chain)(store.dispatch);
      return _objectSpread2(_objectSpread2({}, store), {}, {
        dispatch: _dispatch
      });
    };
  };
}

/*
 * This is a dummy function to check if the function name has been altered by minification.
 * If the function has been minified and NODE_ENV !== 'production', warn the user.
 */

function isCrushed() {}

if (false) {}




/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __nested_webpack_require_204296__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __nested_webpack_require_204296__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	!function() {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__nested_webpack_require_204296__.n = function(module) {
/******/ 			var getter = module && module.__esModule ?
/******/ 				function() { return module['default']; } :
/******/ 				function() { return module; };
/******/ 			__nested_webpack_require_204296__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__nested_webpack_require_204296__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__nested_webpack_require_204296__.o(definition, key) && !__nested_webpack_require_204296__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__nested_webpack_require_204296__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__nested_webpack_require_204296__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
var __nested_webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
!function() {
/* harmony import */ var _scripts_choices__WEBPACK_IMPORTED_MODULE_0__ = __nested_webpack_require_204296__(373);
/* harmony import */ var _scripts_choices__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__nested_webpack_require_204296__.n(_scripts_choices__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _scripts_interfaces__WEBPACK_IMPORTED_MODULE_1__ = __nested_webpack_require_204296__(187);
/* harmony import */ var _scripts_interfaces__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__nested_webpack_require_204296__.n(_scripts_interfaces__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _scripts_constants__WEBPACK_IMPORTED_MODULE_2__ = __nested_webpack_require_204296__(883);
/* harmony import */ var _scripts_defaults__WEBPACK_IMPORTED_MODULE_3__ = __nested_webpack_require_204296__(789);
/* harmony import */ var _scripts_templates__WEBPACK_IMPORTED_MODULE_4__ = __nested_webpack_require_204296__(686);







/* harmony default export */ __nested_webpack_exports__["default"] = ((_scripts_choices__WEBPACK_IMPORTED_MODULE_0___default()));

}();
__nested_webpack_exports__ = __nested_webpack_exports__["default"];
/******/ 	return __nested_webpack_exports__;
/******/ })()
;
});

/***/ }),

/***/ "./node_modules/filepond-plugin-file-validate-size/dist/filepond-plugin-file-validate-size.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/filepond-plugin-file-validate-size/dist/filepond-plugin-file-validate-size.js ***!
  \****************************************************************************************************/
/***/ (function(module) {

/*!
 * FilePondPluginFileValidateSize 2.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */

/* eslint-disable */

(function(global, factory) {
     true
        ? (module.exports = factory())
        : 0;
})(this, function() {
    'use strict';

    var plugin = function plugin(_ref) {
        var addFilter = _ref.addFilter,
            utils = _ref.utils;
        // get quick reference to Type utils
        var Type = utils.Type,
            replaceInString = utils.replaceInString,
            toNaturalFileSize = utils.toNaturalFileSize;

        // filtering if an item is allowed in hopper
        addFilter('ALLOW_HOPPER_ITEM', function(file, _ref2) {
            var query = _ref2.query;
            if (!query('GET_ALLOW_FILE_SIZE_VALIDATION')) {
                return true;
            }

            var sizeMax = query('GET_MAX_FILE_SIZE');
            if (sizeMax !== null && file.size > sizeMax) {
                return false;
            }

            var sizeMin = query('GET_MIN_FILE_SIZE');
            if (sizeMin !== null && file.size < sizeMin) {
                return false;
            }

            return true;
        });

        // called for each file that is loaded
        // right before it is set to the item state
        // should return a promise
        addFilter('LOAD_FILE', function(file, _ref3) {
            var query = _ref3.query;
            return new Promise(function(resolve, reject) {
                // if not allowed, all fine, exit
                if (!query('GET_ALLOW_FILE_SIZE_VALIDATION')) {
                    return resolve(file);
                }

                // check if file should be filtered
                var fileFilter = query('GET_FILE_VALIDATE_SIZE_FILTER');
                if (fileFilter && !fileFilter(file)) {
                    return resolve(file);
                }

                // reject or resolve based on file size
                var sizeMax = query('GET_MAX_FILE_SIZE');
                if (sizeMax !== null && file.size > sizeMax) {
                    reject({
                        status: {
                            main: query('GET_LABEL_MAX_FILE_SIZE_EXCEEDED'),
                            sub: replaceInString(query('GET_LABEL_MAX_FILE_SIZE'), {
                                filesize: toNaturalFileSize(
                                    sizeMax,
                                    '.',
                                    query('GET_FILE_SIZE_BASE'),
                                    query('GET_FILE_SIZE_LABELS', query)
                                ),
                            }),
                        },
                    });

                    return;
                }

                // reject or resolve based on file size
                var sizeMin = query('GET_MIN_FILE_SIZE');
                if (sizeMin !== null && file.size < sizeMin) {
                    reject({
                        status: {
                            main: query('GET_LABEL_MIN_FILE_SIZE_EXCEEDED'),
                            sub: replaceInString(query('GET_LABEL_MIN_FILE_SIZE'), {
                                filesize: toNaturalFileSize(
                                    sizeMin,
                                    '.',
                                    query('GET_FILE_SIZE_BASE'),
                                    query('GET_FILE_SIZE_LABELS', query)
                                ),
                            }),
                        },
                    });

                    return;
                }

                // returns the current option value
                var totalSizeMax = query('GET_MAX_TOTAL_FILE_SIZE');
                if (totalSizeMax !== null) {
                    // get the current total file size
                    var currentTotalSize = query('GET_ACTIVE_ITEMS').reduce(function(total, item) {
                        return total + item.fileSize;
                    }, 0);

                    // get the size of the new file
                    if (currentTotalSize > totalSizeMax) {
                        reject({
                            status: {
                                main: query('GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED'),
                                sub: replaceInString(query('GET_LABEL_MAX_TOTAL_FILE_SIZE'), {
                                    filesize: toNaturalFileSize(
                                        totalSizeMax,
                                        '.',
                                        query('GET_FILE_SIZE_BASE'),
                                        query('GET_FILE_SIZE_LABELS', query)
                                    ),
                                }),
                            },
                        });

                        return;
                    }
                }

                // file is fine, let's pass it back
                resolve(file);
            });
        });

        return {
            options: {
                // Enable or disable file type validation
                allowFileSizeValidation: [true, Type.BOOLEAN],

                // Max individual file size in bytes
                maxFileSize: [null, Type.INT],

                // Min individual file size in bytes
                minFileSize: [null, Type.INT],

                // Max total file size in bytes
                maxTotalFileSize: [null, Type.INT],

                // Filter the files that need to be validated for size
                fileValidateSizeFilter: [null, Type.FUNCTION],

                // error labels
                labelMinFileSizeExceeded: ['File is too small', Type.STRING],
                labelMinFileSize: ['Minimum file size is {filesize}', Type.STRING],

                labelMaxFileSizeExceeded: ['File is too large', Type.STRING],
                labelMaxFileSize: ['Maximum file size is {filesize}', Type.STRING],

                labelMaxTotalFileSizeExceeded: ['Maximum total size exceeded', Type.STRING],
                labelMaxTotalFileSize: ['Maximum total file size is {filesize}', Type.STRING],
            },
        };
    };

    // fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags
    var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';
    if (isBrowser) {
        document.dispatchEvent(new CustomEvent('FilePond:pluginloaded', { detail: plugin }));
    }

    return plugin;
});


/***/ }),

/***/ "./node_modules/filepond/dist/filepond.js":
/*!************************************************!*\
  !*** ./node_modules/filepond/dist/filepond.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports) {

/*!
 * FilePond 4.30.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */

/* eslint-disable */

(function(global, factory) {
     true
        ? factory(exports)
        : 0;
})(this, function(exports) {
    'use strict';

    var isNode = function isNode(value) {
        return value instanceof HTMLElement;
    };

    var createStore = function createStore(initialState) {
        var queries = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
        var actions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
        // internal state
        var state = Object.assign({}, initialState);

        // contains all actions for next frame, is clear when actions are requested
        var actionQueue = [];
        var dispatchQueue = [];

        // returns a duplicate of the current state
        var getState = function getState() {
            return Object.assign({}, state);
        };

        // returns a duplicate of the actions array and clears the actions array
        var processActionQueue = function processActionQueue() {
            // create copy of actions queue
            var queue = [].concat(actionQueue);

            // clear actions queue (we don't want no double actions)
            actionQueue.length = 0;

            return queue;
        };

        // processes actions that might block the main UI thread
        var processDispatchQueue = function processDispatchQueue() {
            // create copy of actions queue
            var queue = [].concat(dispatchQueue);

            // clear actions queue (we don't want no double actions)
            dispatchQueue.length = 0;

            // now dispatch these actions
            queue.forEach(function(_ref) {
                var type = _ref.type,
                    data = _ref.data;
                dispatch(type, data);
            });
        };

        // adds a new action, calls its handler and
        var dispatch = function dispatch(type, data, isBlocking) {
            // is blocking action (should never block if document is hidden)
            if (isBlocking && !document.hidden) {
                dispatchQueue.push({ type: type, data: data });
                return;
            }

            // if this action has a handler, handle the action
            if (actionHandlers[type]) {
                actionHandlers[type](data);
            }

            // now add action
            actionQueue.push({
                type: type,
                data: data,
            });
        };

        var query = function query(str) {
            var _queryHandles;
            for (
                var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1;
                _key < _len;
                _key++
            ) {
                args[_key - 1] = arguments[_key];
            }
            return queryHandles[str]
                ? (_queryHandles = queryHandles)[str].apply(_queryHandles, args)
                : null;
        };

        var api = {
            getState: getState,
            processActionQueue: processActionQueue,
            processDispatchQueue: processDispatchQueue,
            dispatch: dispatch,
            query: query,
        };

        var queryHandles = {};
        queries.forEach(function(query) {
            queryHandles = Object.assign({}, query(state), {}, queryHandles);
        });

        var actionHandlers = {};
        actions.forEach(function(action) {
            actionHandlers = Object.assign({}, action(dispatch, query, state), {}, actionHandlers);
        });

        return api;
    };

    var defineProperty = function defineProperty(obj, property, definition) {
        if (typeof definition === 'function') {
            obj[property] = definition;
            return;
        }
        Object.defineProperty(obj, property, Object.assign({}, definition));
    };

    var forin = function forin(obj, cb) {
        for (var key in obj) {
            if (!obj.hasOwnProperty(key)) {
                continue;
            }

            cb(key, obj[key]);
        }
    };

    var createObject = function createObject(definition) {
        var obj = {};
        forin(definition, function(property) {
            defineProperty(obj, property, definition[property]);
        });
        return obj;
    };

    var attr = function attr(node, name) {
        var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
        if (value === null) {
            return node.getAttribute(name) || node.hasAttribute(name);
        }
        node.setAttribute(name, value);
    };

    var ns = 'http://www.w3.org/2000/svg';
    var svgElements = ['svg', 'path']; // only svg elements used

    var isSVGElement = function isSVGElement(tag) {
        return svgElements.includes(tag);
    };

    var createElement = function createElement(tag, className) {
        var attributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
        if (typeof className === 'object') {
            attributes = className;
            className = null;
        }
        var element = isSVGElement(tag)
            ? document.createElementNS(ns, tag)
            : document.createElement(tag);
        if (className) {
            if (isSVGElement(tag)) {
                attr(element, 'class', className);
            } else {
                element.className = className;
            }
        }
        forin(attributes, function(name, value) {
            attr(element, name, value);
        });
        return element;
    };

    var appendChild = function appendChild(parent) {
        return function(child, index) {
            if (typeof index !== 'undefined' && parent.children[index]) {
                parent.insertBefore(child, parent.children[index]);
            } else {
                parent.appendChild(child);
            }
        };
    };

    var appendChildView = function appendChildView(parent, childViews) {
        return function(view, index) {
            if (typeof index !== 'undefined') {
                childViews.splice(index, 0, view);
            } else {
                childViews.push(view);
            }

            return view;
        };
    };

    var removeChildView = function removeChildView(parent, childViews) {
        return function(view) {
            // remove from child views
            childViews.splice(childViews.indexOf(view), 1);

            // remove the element
            if (view.element.parentNode) {
                parent.removeChild(view.element);
            }

            return view;
        };
    };

    var IS_BROWSER = (function() {
        return typeof window !== 'undefined' && typeof window.document !== 'undefined';
    })();
    var isBrowser = function isBrowser() {
        return IS_BROWSER;
    };

    var testElement = isBrowser() ? createElement('svg') : {};
    var getChildCount =
        'children' in testElement
            ? function(el) {
                  return el.children.length;
              }
            : function(el) {
                  return el.childNodes.length;
              };

    var getViewRect = function getViewRect(elementRect, childViews, offset, scale) {
        var left = offset[0] || elementRect.left;
        var top = offset[1] || elementRect.top;
        var right = left + elementRect.width;
        var bottom = top + elementRect.height * (scale[1] || 1);

        var rect = {
            // the rectangle of the element itself
            element: Object.assign({}, elementRect),

            // the rectangle of the element expanded to contain its children, does not include any margins
            inner: {
                left: elementRect.left,
                top: elementRect.top,
                right: elementRect.right,
                bottom: elementRect.bottom,
            },

            // the rectangle of the element expanded to contain its children including own margin and child margins
            // margins will be added after we've recalculated the size
            outer: {
                left: left,
                top: top,
                right: right,
                bottom: bottom,
            },
        };

        // expand rect to fit all child rectangles
        childViews
            .filter(function(childView) {
                return !childView.isRectIgnored();
            })
            .map(function(childView) {
                return childView.rect;
            })
            .forEach(function(childViewRect) {
                expandRect(rect.inner, Object.assign({}, childViewRect.inner));
                expandRect(rect.outer, Object.assign({}, childViewRect.outer));
            });

        // calculate inner width and height
        calculateRectSize(rect.inner);

        // append additional margin (top and left margins are included in top and left automatically)
        rect.outer.bottom += rect.element.marginBottom;
        rect.outer.right += rect.element.marginRight;

        // calculate outer width and height
        calculateRectSize(rect.outer);

        return rect;
    };

    var expandRect = function expandRect(parent, child) {
        // adjust for parent offset
        child.top += parent.top;
        child.right += parent.left;
        child.bottom += parent.top;
        child.left += parent.left;

        if (child.bottom > parent.bottom) {
            parent.bottom = child.bottom;
        }

        if (child.right > parent.right) {
            parent.right = child.right;
        }
    };

    var calculateRectSize = function calculateRectSize(rect) {
        rect.width = rect.right - rect.left;
        rect.height = rect.bottom - rect.top;
    };

    var isNumber = function isNumber(value) {
        return typeof value === 'number';
    };

    /**
     * Determines if position is at destination
     * @param position
     * @param destination
     * @param velocity
     * @param errorMargin
     * @returns {boolean}
     */
    var thereYet = function thereYet(position, destination, velocity) {
        var errorMargin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.001;
        return Math.abs(position - destination) < errorMargin && Math.abs(velocity) < errorMargin;
    };

    /**
     * Spring animation
     */
    var spring =
        // default options
        function spring() // method definition
        {
            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
                _ref$stiffness = _ref.stiffness,
                stiffness = _ref$stiffness === void 0 ? 0.5 : _ref$stiffness,
                _ref$damping = _ref.damping,
                damping = _ref$damping === void 0 ? 0.75 : _ref$damping,
                _ref$mass = _ref.mass,
                mass = _ref$mass === void 0 ? 10 : _ref$mass;
            var target = null;
            var position = null;
            var velocity = 0;
            var resting = false;

            // updates spring state
            var interpolate = function interpolate(ts, skipToEndState) {
                // in rest, don't animate
                if (resting) return;

                // need at least a target or position to do springy things
                if (!(isNumber(target) && isNumber(position))) {
                    resting = true;
                    velocity = 0;
                    return;
                }

                // calculate spring force
                var f = -(position - target) * stiffness;

                // update velocity by adding force based on mass
                velocity += f / mass;

                // update position by adding velocity
                position += velocity;

                // slow down based on amount of damping
                velocity *= damping;

                // we've arrived if we're near target and our velocity is near zero
                if (thereYet(position, target, velocity) || skipToEndState) {
                    position = target;
                    velocity = 0;
                    resting = true;

                    // we done
                    api.onupdate(position);
                    api.oncomplete(position);
                } else {
                    // progress update
                    api.onupdate(position);
                }
            };

            /**
             * Set new target value
             * @param value
             */
            var setTarget = function setTarget(value) {
                // if currently has no position, set target and position to this value
                if (isNumber(value) && !isNumber(position)) {
                    position = value;
                }

                // next target value will not be animated to
                if (target === null) {
                    target = value;
                    position = value;
                }

                // let start moving to target
                target = value;

                // already at target
                if (position === target || typeof target === 'undefined') {
                    // now resting as target is current position, stop moving
                    resting = true;
                    velocity = 0;

                    // done!
                    api.onupdate(position);
                    api.oncomplete(position);

                    return;
                }

                resting = false;
            };

            // need 'api' to call onupdate callback
            var api = createObject({
                interpolate: interpolate,
                target: {
                    set: setTarget,
                    get: function get() {
                        return target;
                    },
                },

                resting: {
                    get: function get() {
                        return resting;
                    },
                },

                onupdate: function onupdate(value) {},
                oncomplete: function oncomplete(value) {},
            });

            return api;
        };

    var easeLinear = function easeLinear(t) {
        return t;
    };
    var easeInOutQuad = function easeInOutQuad(t) {
        return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
    };

    var tween =
        // default values
        function tween() // method definition
        {
            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
                _ref$duration = _ref.duration,
                duration = _ref$duration === void 0 ? 500 : _ref$duration,
                _ref$easing = _ref.easing,
                easing = _ref$easing === void 0 ? easeInOutQuad : _ref$easing,
                _ref$delay = _ref.delay,
                delay = _ref$delay === void 0 ? 0 : _ref$delay;
            var start = null;
            var t;
            var p;
            var resting = true;
            var reverse = false;
            var target = null;

            var interpolate = function interpolate(ts, skipToEndState) {
                if (resting || target === null) return;

                if (start === null) {
                    start = ts;
                }

                if (ts - start < delay) return;

                t = ts - start - delay;

                if (t >= duration || skipToEndState) {
                    t = 1;
                    p = reverse ? 0 : 1;
                    api.onupdate(p * target);
                    api.oncomplete(p * target);
                    resting = true;
                } else {
                    p = t / duration;
                    api.onupdate((t >= 0 ? easing(reverse ? 1 - p : p) : 0) * target);
                }
            };

            // need 'api' to call onupdate callback
            var api = createObject({
                interpolate: interpolate,
                target: {
                    get: function get() {
                        return reverse ? 0 : target;
                    },
                    set: function set(value) {
                        // is initial value
                        if (target === null) {
                            target = value;
                            api.onupdate(value);
                            api.oncomplete(value);
                            return;
                        }

                        // want to tween to a smaller value and have a current value
                        if (value < target) {
                            target = 1;
                            reverse = true;
                        } else {
                            // not tweening to a smaller value
                            reverse = false;
                            target = value;
                        }

                        // let's go!
                        resting = false;
                        start = null;
                    },
                },

                resting: {
                    get: function get() {
                        return resting;
                    },
                },

                onupdate: function onupdate(value) {},
                oncomplete: function oncomplete(value) {},
            });

            return api;
        };

    var animator = {
        spring: spring,
        tween: tween,
    };

    /*
                       { type: 'spring', stiffness: .5, damping: .75, mass: 10 };
                       { translation: { type: 'spring', ... }, ... }
                       { translation: { x: { type: 'spring', ... } } }
                      */
    var createAnimator = function createAnimator(definition, category, property) {
        // default is single definition
        // we check if transform is set, if so, we check if property is set
        var def =
            definition[category] && typeof definition[category][property] === 'object'
                ? definition[category][property]
                : definition[category] || definition;

        var type = typeof def === 'string' ? def : def.type;
        var props = typeof def === 'object' ? Object.assign({}, def) : {};

        return animator[type] ? animator[type](props) : null;
    };

    var addGetSet = function addGetSet(keys, obj, props) {
        var overwrite = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
        obj = Array.isArray(obj) ? obj : [obj];
        obj.forEach(function(o) {
            keys.forEach(function(key) {
                var name = key;
                var getter = function getter() {
                    return props[key];
                };
                var setter = function setter(value) {
                    return (props[key] = value);
                };

                if (typeof key === 'object') {
                    name = key.key;
                    getter = key.getter || getter;
                    setter = key.setter || setter;
                }

                if (o[name] && !overwrite) {
                    return;
                }

                o[name] = {
                    get: getter,
                    set: setter,
                };
            });
        });
    };

    // add to state,
    // add getters and setters to internal and external api (if not set)
    // setup animators

    var animations = function animations(_ref) {
        var mixinConfig = _ref.mixinConfig,
            viewProps = _ref.viewProps,
            viewInternalAPI = _ref.viewInternalAPI,
            viewExternalAPI = _ref.viewExternalAPI;
        // initial properties
        var initialProps = Object.assign({}, viewProps);

        // list of all active animations
        var animations = [];

        // setup animators
        forin(mixinConfig, function(property, animation) {
            var animator = createAnimator(animation);
            if (!animator) {
                return;
            }

            // when the animator updates, update the view state value
            animator.onupdate = function(value) {
                viewProps[property] = value;
            };

            // set animator target
            animator.target = initialProps[property];

            // when value is set, set the animator target value
            var prop = {
                key: property,
                setter: function setter(value) {
                    // if already at target, we done!
                    if (animator.target === value) {
                        return;
                    }

                    animator.target = value;
                },
                getter: function getter() {
                    return viewProps[property];
                },
            };

            // add getters and setters
            addGetSet([prop], [viewInternalAPI, viewExternalAPI], viewProps, true);

            // add it to the list for easy updating from the _write method
            animations.push(animator);
        });

        // expose internal write api
        return {
            write: function write(ts) {
                var skipToEndState = document.hidden;
                var resting = true;
                animations.forEach(function(animation) {
                    if (!animation.resting) resting = false;
                    animation.interpolate(ts, skipToEndState);
                });
                return resting;
            },
            destroy: function destroy() {},
        };
    };

    var addEvent = function addEvent(element) {
        return function(type, fn) {
            element.addEventListener(type, fn);
        };
    };

    var removeEvent = function removeEvent(element) {
        return function(type, fn) {
            element.removeEventListener(type, fn);
        };
    };

    // mixin
    var listeners = function listeners(_ref) {
        var mixinConfig = _ref.mixinConfig,
            viewProps = _ref.viewProps,
            viewInternalAPI = _ref.viewInternalAPI,
            viewExternalAPI = _ref.viewExternalAPI,
            viewState = _ref.viewState,
            view = _ref.view;
        var events = [];

        var add = addEvent(view.element);
        var remove = removeEvent(view.element);

        viewExternalAPI.on = function(type, fn) {
            events.push({
                type: type,
                fn: fn,
            });

            add(type, fn);
        };

        viewExternalAPI.off = function(type, fn) {
            events.splice(
                events.findIndex(function(event) {
                    return event.type === type && event.fn === fn;
                }),
                1
            );

            remove(type, fn);
        };

        return {
            write: function write() {
                // not busy
                return true;
            },
            destroy: function destroy() {
                events.forEach(function(event) {
                    remove(event.type, event.fn);
                });
            },
        };
    };

    // add to external api and link to props

    var apis = function apis(_ref) {
        var mixinConfig = _ref.mixinConfig,
            viewProps = _ref.viewProps,
            viewExternalAPI = _ref.viewExternalAPI;
        addGetSet(mixinConfig, viewExternalAPI, viewProps);
    };

    var isDefined = function isDefined(value) {
        return value != null;
    };

    // add to state,
    // add getters and setters to internal and external api (if not set)
    // set initial state based on props in viewProps
    // apply as transforms each frame

    var defaults = {
        opacity: 1,
        scaleX: 1,
        scaleY: 1,
        translateX: 0,
        translateY: 0,
        rotateX: 0,
        rotateY: 0,
        rotateZ: 0,
        originX: 0,
        originY: 0,
    };

    var styles = function styles(_ref) {
        var mixinConfig = _ref.mixinConfig,
            viewProps = _ref.viewProps,
            viewInternalAPI = _ref.viewInternalAPI,
            viewExternalAPI = _ref.viewExternalAPI,
            view = _ref.view;
        // initial props
        var initialProps = Object.assign({}, viewProps);

        // current props
        var currentProps = {};

        // we will add those properties to the external API and link them to the viewState
        addGetSet(mixinConfig, [viewInternalAPI, viewExternalAPI], viewProps);

        // override rect on internal and external rect getter so it takes in account transforms
        var getOffset = function getOffset() {
            return [viewProps['translateX'] || 0, viewProps['translateY'] || 0];
        };

        var getScale = function getScale() {
            return [viewProps['scaleX'] || 0, viewProps['scaleY'] || 0];
        };
        var getRect = function getRect() {
            return view.rect
                ? getViewRect(view.rect, view.childViews, getOffset(), getScale())
                : null;
        };
        viewInternalAPI.rect = { get: getRect };
        viewExternalAPI.rect = { get: getRect };

        // apply view props
        mixinConfig.forEach(function(key) {
            viewProps[key] =
                typeof initialProps[key] === 'undefined' ? defaults[key] : initialProps[key];
        });

        // expose api
        return {
            write: function write() {
                // see if props have changed
                if (!propsHaveChanged(currentProps, viewProps)) {
                    return;
                }

                // moves element to correct position on screen
                applyStyles(view.element, viewProps);

                // store new transforms
                Object.assign(currentProps, Object.assign({}, viewProps));

                // no longer busy
                return true;
            },
            destroy: function destroy() {},
        };
    };

    var propsHaveChanged = function propsHaveChanged(currentProps, newProps) {
        // different amount of keys
        if (Object.keys(currentProps).length !== Object.keys(newProps).length) {
            return true;
        }

        // lets analyze the individual props
        for (var prop in newProps) {
            if (newProps[prop] !== currentProps[prop]) {
                return true;
            }
        }

        return false;
    };

    var applyStyles = function applyStyles(element, _ref2) {
        var opacity = _ref2.opacity,
            perspective = _ref2.perspective,
            translateX = _ref2.translateX,
            translateY = _ref2.translateY,
            scaleX = _ref2.scaleX,
            scaleY = _ref2.scaleY,
            rotateX = _ref2.rotateX,
            rotateY = _ref2.rotateY,
            rotateZ = _ref2.rotateZ,
            originX = _ref2.originX,
            originY = _ref2.originY,
            width = _ref2.width,
            height = _ref2.height;

        var transforms = '';
        var styles = '';

        // handle transform origin
        if (isDefined(originX) || isDefined(originY)) {
            styles += 'transform-origin: ' + (originX || 0) + 'px ' + (originY || 0) + 'px;';
        }

        // transform order is relevant
        // 0. perspective
        if (isDefined(perspective)) {
            transforms += 'perspective(' + perspective + 'px) ';
        }

        // 1. translate
        if (isDefined(translateX) || isDefined(translateY)) {
            transforms +=
                'translate3d(' + (translateX || 0) + 'px, ' + (translateY || 0) + 'px, 0) ';
        }

        // 2. scale
        if (isDefined(scaleX) || isDefined(scaleY)) {
            transforms +=
                'scale3d(' +
                (isDefined(scaleX) ? scaleX : 1) +
                ', ' +
                (isDefined(scaleY) ? scaleY : 1) +
                ', 1) ';
        }

        // 3. rotate
        if (isDefined(rotateZ)) {
            transforms += 'rotateZ(' + rotateZ + 'rad) ';
        }

        if (isDefined(rotateX)) {
            transforms += 'rotateX(' + rotateX + 'rad) ';
        }

        if (isDefined(rotateY)) {
            transforms += 'rotateY(' + rotateY + 'rad) ';
        }

        // add transforms
        if (transforms.length) {
            styles += 'transform:' + transforms + ';';
        }

        // add opacity
        if (isDefined(opacity)) {
            styles += 'opacity:' + opacity + ';';

            // if we reach zero, we make the element inaccessible
            if (opacity === 0) {
                styles += 'visibility:hidden;';
            }

            // if we're below 100% opacity this element can't be clicked
            if (opacity < 1) {
                styles += 'pointer-events:none;';
            }
        }

        // add height
        if (isDefined(height)) {
            styles += 'height:' + height + 'px;';
        }

        // add width
        if (isDefined(width)) {
            styles += 'width:' + width + 'px;';
        }

        // apply styles
        var elementCurrentStyle = element.elementCurrentStyle || '';

        // if new styles does not match current styles, lets update!
        if (styles.length !== elementCurrentStyle.length || styles !== elementCurrentStyle) {
            element.style.cssText = styles;
            // store current styles so we can compare them to new styles later on
            // _not_ getting the style value is faster
            element.elementCurrentStyle = styles;
        }
    };

    var Mixins = {
        styles: styles,
        listeners: listeners,
        animations: animations,
        apis: apis,
    };

    var updateRect = function updateRect() {
        var rect = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
        var element = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
        var style = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

        if (!element.layoutCalculated) {
            rect.paddingTop = parseInt(style.paddingTop, 10) || 0;
            rect.marginTop = parseInt(style.marginTop, 10) || 0;
            rect.marginRight = parseInt(style.marginRight, 10) || 0;
            rect.marginBottom = parseInt(style.marginBottom, 10) || 0;
            rect.marginLeft = parseInt(style.marginLeft, 10) || 0;
            element.layoutCalculated = true;
        }

        rect.left = element.offsetLeft || 0;
        rect.top = element.offsetTop || 0;
        rect.width = element.offsetWidth || 0;
        rect.height = element.offsetHeight || 0;

        rect.right = rect.left + rect.width;
        rect.bottom = rect.top + rect.height;

        rect.scrollTop = element.scrollTop;

        rect.hidden = element.offsetParent === null;

        return rect;
    };

    var createView =
        // default view definition
        function createView() {
            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
                _ref$tag = _ref.tag,
                tag = _ref$tag === void 0 ? 'div' : _ref$tag,
                _ref$name = _ref.name,
                name = _ref$name === void 0 ? null : _ref$name,
                _ref$attributes = _ref.attributes,
                attributes = _ref$attributes === void 0 ? {} : _ref$attributes,
                _ref$read = _ref.read,
                read = _ref$read === void 0 ? function() {} : _ref$read,
                _ref$write = _ref.write,
                write = _ref$write === void 0 ? function() {} : _ref$write,
                _ref$create = _ref.create,
                create = _ref$create === void 0 ? function() {} : _ref$create,
                _ref$destroy = _ref.destroy,
                destroy = _ref$destroy === void 0 ? function() {} : _ref$destroy,
                _ref$filterFrameActio = _ref.filterFrameActionsForChild,
                filterFrameActionsForChild =
                    _ref$filterFrameActio === void 0
                        ? function(child, actions) {
                              return actions;
                          }
                        : _ref$filterFrameActio,
                _ref$didCreateView = _ref.didCreateView,
                didCreateView = _ref$didCreateView === void 0 ? function() {} : _ref$didCreateView,
                _ref$didWriteView = _ref.didWriteView,
                didWriteView = _ref$didWriteView === void 0 ? function() {} : _ref$didWriteView,
                _ref$ignoreRect = _ref.ignoreRect,
                ignoreRect = _ref$ignoreRect === void 0 ? false : _ref$ignoreRect,
                _ref$ignoreRectUpdate = _ref.ignoreRectUpdate,
                ignoreRectUpdate = _ref$ignoreRectUpdate === void 0 ? false : _ref$ignoreRectUpdate,
                _ref$mixins = _ref.mixins,
                mixins = _ref$mixins === void 0 ? [] : _ref$mixins;
            return function(
                // each view requires reference to store
                store
            ) {
                var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
                // root element should not be changed
                var element = createElement(tag, 'filepond--' + name, attributes);

                // style reference should also not be changed
                var style = window.getComputedStyle(element, null);

                // element rectangle
                var rect = updateRect();
                var frameRect = null;

                // rest state
                var isResting = false;

                // pretty self explanatory
                var childViews = [];

                // loaded mixins
                var activeMixins = [];

                // references to created children
                var ref = {};

                // state used for each instance
                var state = {};

                // list of writers that will be called to update this view
                var writers = [
                    write, // default writer
                ];

                var readers = [
                    read, // default reader
                ];

                var destroyers = [
                    destroy, // default destroy
                ];

                // core view methods
                var getElement = function getElement() {
                    return element;
                };
                var getChildViews = function getChildViews() {
                    return childViews.concat();
                };
                var getReference = function getReference() {
                    return ref;
                };
                var createChildView = function createChildView(store) {
                    return function(view, props) {
                        return view(store, props);
                    };
                };
                var getRect = function getRect() {
                    if (frameRect) {
                        return frameRect;
                    }
                    frameRect = getViewRect(rect, childViews, [0, 0], [1, 1]);
                    return frameRect;
                };
                var getStyle = function getStyle() {
                    return style;
                };

                /**
                 * Read data from DOM
                 * @private
                 */
                var _read = function _read() {
                    frameRect = null;

                    // read child views
                    childViews.forEach(function(child) {
                        return child._read();
                    });

                    var shouldUpdate = !(ignoreRectUpdate && rect.width && rect.height);
                    if (shouldUpdate) {
                        updateRect(rect, element, style);
                    }

                    // readers
                    var api = { root: internalAPI, props: props, rect: rect };
                    readers.forEach(function(reader) {
                        return reader(api);
                    });
                };

                /**
                 * Write data to DOM
                 * @private
                 */
                var _write = function _write(ts, frameActions, shouldOptimize) {
                    // if no actions, we assume that the view is resting
                    var resting = frameActions.length === 0;

                    // writers
                    writers.forEach(function(writer) {
                        var writerResting = writer({
                            props: props,
                            root: internalAPI,
                            actions: frameActions,
                            timestamp: ts,
                            shouldOptimize: shouldOptimize,
                        });

                        if (writerResting === false) {
                            resting = false;
                        }
                    });

                    // run mixins
                    activeMixins.forEach(function(mixin) {
                        // if one of the mixins is still busy after write operation, we are not resting
                        var mixinResting = mixin.write(ts);
                        if (mixinResting === false) {
                            resting = false;
                        }
                    });

                    // updates child views that are currently attached to the DOM
                    childViews
                        .filter(function(child) {
                            return !!child.element.parentNode;
                        })
                        .forEach(function(child) {
                            // if a child view is not resting, we are not resting
                            var childResting = child._write(
                                ts,
                                filterFrameActionsForChild(child, frameActions),
                                shouldOptimize
                            );

                            if (!childResting) {
                                resting = false;
                            }
                        });

                    // append new elements to DOM and update those
                    childViews
                        //.filter(child => !child.element.parentNode)
                        .forEach(function(child, index) {
                            // skip
                            if (child.element.parentNode) {
                                return;
                            }

                            // append to DOM
                            internalAPI.appendChild(child.element, index);

                            // call read (need to know the size of these elements)
                            child._read();

                            // re-call write
                            child._write(
                                ts,
                                filterFrameActionsForChild(child, frameActions),
                                shouldOptimize
                            );

                            // we just added somthing to the dom, no rest
                            resting = false;
                        });

                    // update resting state
                    isResting = resting;

                    didWriteView({
                        props: props,
                        root: internalAPI,
                        actions: frameActions,
                        timestamp: ts,
                    });

                    // let parent know if we are resting
                    return resting;
                };

                var _destroy = function _destroy() {
                    activeMixins.forEach(function(mixin) {
                        return mixin.destroy();
                    });
                    destroyers.forEach(function(destroyer) {
                        destroyer({ root: internalAPI, props: props });
                    });
                    childViews.forEach(function(child) {
                        return child._destroy();
                    });
                };

                // sharedAPI
                var sharedAPIDefinition = {
                    element: {
                        get: getElement,
                    },

                    style: {
                        get: getStyle,
                    },

                    childViews: {
                        get: getChildViews,
                    },
                };

                // private API definition
                var internalAPIDefinition = Object.assign({}, sharedAPIDefinition, {
                    rect: {
                        get: getRect,
                    },

                    // access to custom children references
                    ref: {
                        get: getReference,
                    },

                    // dom modifiers
                    is: function is(needle) {
                        return name === needle;
                    },
                    appendChild: appendChild(element),
                    createChildView: createChildView(store),
                    linkView: function linkView(view) {
                        childViews.push(view);
                        return view;
                    },
                    unlinkView: function unlinkView(view) {
                        childViews.splice(childViews.indexOf(view), 1);
                    },
                    appendChildView: appendChildView(element, childViews),
                    removeChildView: removeChildView(element, childViews),
                    registerWriter: function registerWriter(writer) {
                        return writers.push(writer);
                    },
                    registerReader: function registerReader(reader) {
                        return readers.push(reader);
                    },
                    registerDestroyer: function registerDestroyer(destroyer) {
                        return destroyers.push(destroyer);
                    },
                    invalidateLayout: function invalidateLayout() {
                        return (element.layoutCalculated = false);
                    },

                    // access to data store
                    dispatch: store.dispatch,
                    query: store.query,
                });

                // public view API methods
                var externalAPIDefinition = {
                    element: {
                        get: getElement,
                    },

                    childViews: {
                        get: getChildViews,
                    },

                    rect: {
                        get: getRect,
                    },

                    resting: {
                        get: function get() {
                            return isResting;
                        },
                    },

                    isRectIgnored: function isRectIgnored() {
                        return ignoreRect;
                    },
                    _read: _read,
                    _write: _write,
                    _destroy: _destroy,
                };

                // mixin API methods
                var mixinAPIDefinition = Object.assign({}, sharedAPIDefinition, {
                    rect: {
                        get: function get() {
                            return rect;
                        },
                    },
                });

                // add mixin functionality
                Object.keys(mixins)
                    .sort(function(a, b) {
                        // move styles to the back of the mixin list (so adjustments of other mixins are applied to the props correctly)
                        if (a === 'styles') {
                            return 1;
                        } else if (b === 'styles') {
                            return -1;
                        }
                        return 0;
                    })
                    .forEach(function(key) {
                        var mixinAPI = Mixins[key]({
                            mixinConfig: mixins[key],
                            viewProps: props,
                            viewState: state,
                            viewInternalAPI: internalAPIDefinition,
                            viewExternalAPI: externalAPIDefinition,
                            view: createObject(mixinAPIDefinition),
                        });

                        if (mixinAPI) {
                            activeMixins.push(mixinAPI);
                        }
                    });

                // construct private api
                var internalAPI = createObject(internalAPIDefinition);

                // create the view
                create({
                    root: internalAPI,
                    props: props,
                });

                // append created child views to root node
                var childCount = getChildCount(element); // need to know the current child count so appending happens in correct order
                childViews.forEach(function(child, index) {
                    internalAPI.appendChild(child.element, childCount + index);
                });

                // call did create
                didCreateView(internalAPI);

                // expose public api
                return createObject(externalAPIDefinition);
            };
        };

    var createPainter = function createPainter(read, write) {
        var fps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 60;

        var name = '__framePainter';

        // set global painter
        if (window[name]) {
            window[name].readers.push(read);
            window[name].writers.push(write);
            return;
        }

        window[name] = {
            readers: [read],
            writers: [write],
        };

        var painter = window[name];

        var interval = 1000 / fps;
        var last = null;
        var id = null;
        var requestTick = null;
        var cancelTick = null;

        var setTimerType = function setTimerType() {
            if (document.hidden) {
                requestTick = function requestTick() {
                    return window.setTimeout(function() {
                        return tick(performance.now());
                    }, interval);
                };
                cancelTick = function cancelTick() {
                    return window.clearTimeout(id);
                };
            } else {
                requestTick = function requestTick() {
                    return window.requestAnimationFrame(tick);
                };
                cancelTick = function cancelTick() {
                    return window.cancelAnimationFrame(id);
                };
            }
        };

        document.addEventListener('visibilitychange', function() {
            if (cancelTick) cancelTick();
            setTimerType();
            tick(performance.now());
        });

        var tick = function tick(ts) {
            // queue next tick
            id = requestTick(tick);

            // limit fps
            if (!last) {
                last = ts;
            }

            var delta = ts - last;

            if (delta <= interval) {
                // skip frame
                return;
            }

            // align next frame
            last = ts - (delta % interval);

            // update view
            painter.readers.forEach(function(read) {
                return read();
            });
            painter.writers.forEach(function(write) {
                return write(ts);
            });
        };

        setTimerType();
        tick(performance.now());

        return {
            pause: function pause() {
                cancelTick(id);
            },
        };
    };

    var createRoute = function createRoute(routes, fn) {
        return function(_ref) {
            var root = _ref.root,
                props = _ref.props,
                _ref$actions = _ref.actions,
                actions = _ref$actions === void 0 ? [] : _ref$actions,
                timestamp = _ref.timestamp,
                shouldOptimize = _ref.shouldOptimize;
            actions
                .filter(function(action) {
                    return routes[action.type];
                })
                .forEach(function(action) {
                    return routes[action.type]({
                        root: root,
                        props: props,
                        action: action.data,
                        timestamp: timestamp,
                        shouldOptimize: shouldOptimize,
                    });
                });

            if (fn) {
                fn({
                    root: root,
                    props: props,
                    actions: actions,
                    timestamp: timestamp,
                    shouldOptimize: shouldOptimize,
                });
            }
        };
    };

    var insertBefore = function insertBefore(newNode, referenceNode) {
        return referenceNode.parentNode.insertBefore(newNode, referenceNode);
    };

    var insertAfter = function insertAfter(newNode, referenceNode) {
        return referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);
    };

    var isArray = function isArray(value) {
        return Array.isArray(value);
    };

    var isEmpty = function isEmpty(value) {
        return value == null;
    };

    var trim = function trim(str) {
        return str.trim();
    };

    var toString = function toString(value) {
        return '' + value;
    };

    var toArray = function toArray(value) {
        var splitter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ',';
        if (isEmpty(value)) {
            return [];
        }
        if (isArray(value)) {
            return value;
        }
        return toString(value)
            .split(splitter)
            .map(trim)
            .filter(function(str) {
                return str.length;
            });
    };

    var isBoolean = function isBoolean(value) {
        return typeof value === 'boolean';
    };

    var toBoolean = function toBoolean(value) {
        return isBoolean(value) ? value : value === 'true';
    };

    var isString = function isString(value) {
        return typeof value === 'string';
    };

    var toNumber = function toNumber(value) {
        return isNumber(value)
            ? value
            : isString(value)
            ? toString(value).replace(/[a-z]+/gi, '')
            : 0;
    };

    var toInt = function toInt(value) {
        return parseInt(toNumber(value), 10);
    };

    var toFloat = function toFloat(value) {
        return parseFloat(toNumber(value));
    };

    var isInt = function isInt(value) {
        return isNumber(value) && isFinite(value) && Math.floor(value) === value;
    };

    var toBytes = function toBytes(value) {
        var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;
        // is in bytes
        if (isInt(value)) {
            return value;
        }

        // is natural file size
        var naturalFileSize = toString(value).trim();

        // if is value in megabytes
        if (/MB$/i.test(naturalFileSize)) {
            naturalFileSize = naturalFileSize.replace(/MB$i/, '').trim();
            return toInt(naturalFileSize) * base * base;
        }

        // if is value in kilobytes
        if (/KB/i.test(naturalFileSize)) {
            naturalFileSize = naturalFileSize.replace(/KB$i/, '').trim();
            return toInt(naturalFileSize) * base;
        }

        return toInt(naturalFileSize);
    };

    var isFunction = function isFunction(value) {
        return typeof value === 'function';
    };

    var toFunctionReference = function toFunctionReference(string) {
        var ref = self;
        var levels = string.split('.');
        var level = null;
        while ((level = levels.shift())) {
            ref = ref[level];
            if (!ref) {
                return null;
            }
        }
        return ref;
    };

    var methods = {
        process: 'POST',
        patch: 'PATCH',
        revert: 'DELETE',
        fetch: 'GET',
        restore: 'GET',
        load: 'GET',
    };

    var createServerAPI = function createServerAPI(outline) {
        var api = {};

        api.url = isString(outline) ? outline : outline.url || '';
        api.timeout = outline.timeout ? parseInt(outline.timeout, 10) : 0;
        api.headers = outline.headers ? outline.headers : {};

        forin(methods, function(key) {
            api[key] = createAction(key, outline[key], methods[key], api.timeout, api.headers);
        });

        // remove process if no url or process on outline
        api.process = outline.process || isString(outline) || outline.url ? api.process : null;

        // special treatment for remove
        api.remove = outline.remove || null;

        // remove generic headers from api object
        delete api.headers;

        return api;
    };

    var createAction = function createAction(name, outline, method, timeout, headers) {
        // is explicitely set to null so disable
        if (outline === null) {
            return null;
        }

        // if is custom function, done! Dev handles everything.
        if (typeof outline === 'function') {
            return outline;
        }

        // build action object
        var action = {
            url: method === 'GET' || method === 'PATCH' ? '?' + name + '=' : '',
            method: method,
            headers: headers,
            withCredentials: false,
            timeout: timeout,
            onload: null,
            ondata: null,
            onerror: null,
        };

        // is a single url
        if (isString(outline)) {
            action.url = outline;
            return action;
        }

        // overwrite
        Object.assign(action, outline);

        // see if should reformat headers;
        if (isString(action.headers)) {
            var parts = action.headers.split(/:(.+)/);
            action.headers = {
                header: parts[0],
                value: parts[1],
            };
        }

        // if is bool withCredentials
        action.withCredentials = toBoolean(action.withCredentials);

        return action;
    };

    var toServerAPI = function toServerAPI(value) {
        return createServerAPI(value);
    };

    var isNull = function isNull(value) {
        return value === null;
    };

    var isObject = function isObject(value) {
        return typeof value === 'object' && value !== null;
    };

    var isAPI = function isAPI(value) {
        return (
            isObject(value) &&
            isString(value.url) &&
            isObject(value.process) &&
            isObject(value.revert) &&
            isObject(value.restore) &&
            isObject(value.fetch)
        );
    };

    var getType = function getType(value) {
        if (isArray(value)) {
            return 'array';
        }

        if (isNull(value)) {
            return 'null';
        }

        if (isInt(value)) {
            return 'int';
        }

        if (/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(value)) {
            return 'bytes';
        }

        if (isAPI(value)) {
            return 'api';
        }

        return typeof value;
    };

    var replaceSingleQuotes = function replaceSingleQuotes(str) {
        return str
            .replace(/{\s*'/g, '{"')
            .replace(/'\s*}/g, '"}')
            .replace(/'\s*:/g, '":')
            .replace(/:\s*'/g, ':"')
            .replace(/,\s*'/g, ',"')
            .replace(/'\s*,/g, '",');
    };

    var conversionTable = {
        array: toArray,
        boolean: toBoolean,
        int: function int(value) {
            return getType(value) === 'bytes' ? toBytes(value) : toInt(value);
        },
        number: toFloat,
        float: toFloat,
        bytes: toBytes,
        string: function string(value) {
            return isFunction(value) ? value : toString(value);
        },
        function: function _function(value) {
            return toFunctionReference(value);
        },
        serverapi: toServerAPI,
        object: function object(value) {
            try {
                return JSON.parse(replaceSingleQuotes(value));
            } catch (e) {
                return null;
            }
        },
    };

    var convertTo = function convertTo(value, type) {
        return conversionTable[type](value);
    };

    var getValueByType = function getValueByType(newValue, defaultValue, valueType) {
        // can always assign default value
        if (newValue === defaultValue) {
            return newValue;
        }

        // get the type of the new value
        var newValueType = getType(newValue);

        // is valid type?
        if (newValueType !== valueType) {
            // is string input, let's attempt to convert
            var convertedValue = convertTo(newValue, valueType);

            // what is the type now
            newValueType = getType(convertedValue);

            // no valid conversions found
            if (convertedValue === null) {
                throw 'Trying to assign value with incorrect type to "' +
                    option +
                    '", allowed type: "' +
                    valueType +
                    '"';
            } else {
                newValue = convertedValue;
            }
        }

        // assign new value
        return newValue;
    };

    var createOption = function createOption(defaultValue, valueType) {
        var currentValue = defaultValue;
        return {
            enumerable: true,
            get: function get() {
                return currentValue;
            },
            set: function set(newValue) {
                currentValue = getValueByType(newValue, defaultValue, valueType);
            },
        };
    };

    var createOptions = function createOptions(options) {
        var obj = {};
        forin(options, function(prop) {
            var optionDefinition = options[prop];
            obj[prop] = createOption(optionDefinition[0], optionDefinition[1]);
        });
        return createObject(obj);
    };

    var createInitialState = function createInitialState(options) {
        return {
            // model
            items: [],

            // timeout used for calling update items
            listUpdateTimeout: null,

            // timeout used for stacking metadata updates
            itemUpdateTimeout: null,

            // queue of items waiting to be processed
            processingQueue: [],

            // options
            options: createOptions(options),
        };
    };

    var fromCamels = function fromCamels(string) {
        var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '-';
        return string
            .split(/(?=[A-Z])/)
            .map(function(part) {
                return part.toLowerCase();
            })
            .join(separator);
    };

    var createOptionAPI = function createOptionAPI(store, options) {
        var obj = {};
        forin(options, function(key) {
            obj[key] = {
                get: function get() {
                    return store.getState().options[key];
                },
                set: function set(value) {
                    store.dispatch('SET_' + fromCamels(key, '_').toUpperCase(), {
                        value: value,
                    });
                },
            };
        });
        return obj;
    };

    var createOptionActions = function createOptionActions(options) {
        return function(dispatch, query, state) {
            var obj = {};
            forin(options, function(key) {
                var name = fromCamels(key, '_').toUpperCase();

                obj['SET_' + name] = function(action) {
                    try {
                        state.options[key] = action.value;
                    } catch (e) {} // nope, failed

                    // we successfully set the value of this option
                    dispatch('DID_SET_' + name, { value: state.options[key] });
                };
            });
            return obj;
        };
    };

    var createOptionQueries = function createOptionQueries(options) {
        return function(state) {
            var obj = {};
            forin(options, function(key) {
                obj['GET_' + fromCamels(key, '_').toUpperCase()] = function(action) {
                    return state.options[key];
                };
            });
            return obj;
        };
    };

    var InteractionMethod = {
        API: 1,
        DROP: 2,
        BROWSE: 3,
        PASTE: 4,
        NONE: 5,
    };

    var getUniqueId = function getUniqueId() {
        return Math.random()
            .toString(36)
            .substring(2, 11);
    };

    function _typeof(obj) {
        if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {
            _typeof = function(obj) {
                return typeof obj;
            };
        } else {
            _typeof = function(obj) {
                return obj &&
                    typeof Symbol === 'function' &&
                    obj.constructor === Symbol &&
                    obj !== Symbol.prototype
                    ? 'symbol'
                    : typeof obj;
            };
        }

        return _typeof(obj);
    }

    var REACT_ELEMENT_TYPE;

    function _jsx(type, props, key, children) {
        if (!REACT_ELEMENT_TYPE) {
            REACT_ELEMENT_TYPE =
                (typeof Symbol === 'function' && Symbol['for'] && Symbol['for']('react.element')) ||
                0xeac7;
        }

        var defaultProps = type && type.defaultProps;
        var childrenLength = arguments.length - 3;

        if (!props && childrenLength !== 0) {
            props = {
                children: void 0,
            };
        }

        if (props && defaultProps) {
            for (var propName in defaultProps) {
                if (props[propName] === void 0) {
                    props[propName] = defaultProps[propName];
                }
            }
        } else if (!props) {
            props = defaultProps || {};
        }

        if (childrenLength === 1) {
            props.children = children;
        } else if (childrenLength > 1) {
            var childArray = new Array(childrenLength);

            for (var i = 0; i < childrenLength; i++) {
                childArray[i] = arguments[i + 3];
            }

            props.children = childArray;
        }

        return {
            $$typeof: REACT_ELEMENT_TYPE,
            type: type,
            key: key === undefined ? null : '' + key,
            ref: null,
            props: props,
            _owner: null,
        };
    }

    function _asyncIterator(iterable) {
        var method;

        if (typeof Symbol !== 'undefined') {
            if (Symbol.asyncIterator) {
                method = iterable[Symbol.asyncIterator];
                if (method != null) return method.call(iterable);
            }

            if (Symbol.iterator) {
                method = iterable[Symbol.iterator];
                if (method != null) return method.call(iterable);
            }
        }

        throw new TypeError('Object is not async iterable');
    }

    function _AwaitValue(value) {
        this.wrapped = value;
    }

    function _AsyncGenerator(gen) {
        var front, back;

        function send(key, arg) {
            return new Promise(function(resolve, reject) {
                var request = {
                    key: key,
                    arg: arg,
                    resolve: resolve,
                    reject: reject,
                    next: null,
                };

                if (back) {
                    back = back.next = request;
                } else {
                    front = back = request;
                    resume(key, arg);
                }
            });
        }

        function resume(key, arg) {
            try {
                var result = gen[key](arg);
                var value = result.value;
                var wrappedAwait = value instanceof _AwaitValue;
                Promise.resolve(wrappedAwait ? value.wrapped : value).then(
                    function(arg) {
                        if (wrappedAwait) {
                            resume('next', arg);
                            return;
                        }

                        settle(result.done ? 'return' : 'normal', arg);
                    },
                    function(err) {
                        resume('throw', err);
                    }
                );
            } catch (err) {
                settle('throw', err);
            }
        }

        function settle(type, value) {
            switch (type) {
                case 'return':
                    front.resolve({
                        value: value,
                        done: true,
                    });
                    break;

                case 'throw':
                    front.reject(value);
                    break;

                default:
                    front.resolve({
                        value: value,
                        done: false,
                    });
                    break;
            }

            front = front.next;

            if (front) {
                resume(front.key, front.arg);
            } else {
                back = null;
            }
        }

        this._invoke = send;

        if (typeof gen.return !== 'function') {
            this.return = undefined;
        }
    }

    if (typeof Symbol === 'function' && Symbol.asyncIterator) {
        _AsyncGenerator.prototype[Symbol.asyncIterator] = function() {
            return this;
        };
    }

    _AsyncGenerator.prototype.next = function(arg) {
        return this._invoke('next', arg);
    };

    _AsyncGenerator.prototype.throw = function(arg) {
        return this._invoke('throw', arg);
    };

    _AsyncGenerator.prototype.return = function(arg) {
        return this._invoke('return', arg);
    };

    function _wrapAsyncGenerator(fn) {
        return function() {
            return new _AsyncGenerator(fn.apply(this, arguments));
        };
    }

    function _awaitAsyncGenerator(value) {
        return new _AwaitValue(value);
    }

    function _asyncGeneratorDelegate(inner, awaitWrap) {
        var iter = {},
            waiting = false;

        function pump(key, value) {
            waiting = true;
            value = new Promise(function(resolve) {
                resolve(inner[key](value));
            });
            return {
                done: false,
                value: awaitWrap(value),
            };
        }

        if (typeof Symbol === 'function' && Symbol.iterator) {
            iter[Symbol.iterator] = function() {
                return this;
            };
        }

        iter.next = function(value) {
            if (waiting) {
                waiting = false;
                return value;
            }

            return pump('next', value);
        };

        if (typeof inner.throw === 'function') {
            iter.throw = function(value) {
                if (waiting) {
                    waiting = false;
                    throw value;
                }

                return pump('throw', value);
            };
        }

        if (typeof inner.return === 'function') {
            iter.return = function(value) {
                return pump('return', value);
            };
        }

        return iter;
    }

    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
        try {
            var info = gen[key](arg);
            var value = info.value;
        } catch (error) {
            reject(error);
            return;
        }

        if (info.done) {
            resolve(value);
        } else {
            Promise.resolve(value).then(_next, _throw);
        }
    }

    function _asyncToGenerator(fn) {
        return function() {
            var self = this,
                args = arguments;
            return new Promise(function(resolve, reject) {
                var gen = fn.apply(self, args);

                function _next(value) {
                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'next', value);
                }

                function _throw(err) {
                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);
                }

                _next(undefined);
            });
        };
    }

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError('Cannot call a class as a function');
        }
    }

    function _defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ('value' in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
        }
    }

    function _createClass(Constructor, protoProps, staticProps) {
        if (protoProps) _defineProperties(Constructor.prototype, protoProps);
        if (staticProps) _defineProperties(Constructor, staticProps);
        return Constructor;
    }

    function _defineEnumerableProperties(obj, descs) {
        for (var key in descs) {
            var desc = descs[key];
            desc.configurable = desc.enumerable = true;
            if ('value' in desc) desc.writable = true;
            Object.defineProperty(obj, key, desc);
        }

        if (Object.getOwnPropertySymbols) {
            var objectSymbols = Object.getOwnPropertySymbols(descs);

            for (var i = 0; i < objectSymbols.length; i++) {
                var sym = objectSymbols[i];
                var desc = descs[sym];
                desc.configurable = desc.enumerable = true;
                if ('value' in desc) desc.writable = true;
                Object.defineProperty(obj, sym, desc);
            }
        }

        return obj;
    }

    function _defaults(obj, defaults) {
        var keys = Object.getOwnPropertyNames(defaults);

        for (var i = 0; i < keys.length; i++) {
            var key = keys[i];
            var value = Object.getOwnPropertyDescriptor(defaults, key);

            if (value && value.configurable && obj[key] === undefined) {
                Object.defineProperty(obj, key, value);
            }
        }

        return obj;
    }

    function _defineProperty(obj, key, value) {
        if (key in obj) {
            Object.defineProperty(obj, key, {
                value: value,
                enumerable: true,
                configurable: true,
                writable: true,
            });
        } else {
            obj[key] = value;
        }

        return obj;
    }

    function _extends() {
        _extends =
            Object.assign ||
            function(target) {
                for (var i = 1; i < arguments.length; i++) {
                    var source = arguments[i];

                    for (var key in source) {
                        if (Object.prototype.hasOwnProperty.call(source, key)) {
                            target[key] = source[key];
                        }
                    }
                }

                return target;
            };

        return _extends.apply(this, arguments);
    }

    function _objectSpread(target) {
        for (var i = 1; i < arguments.length; i++) {
            var source = arguments[i] != null ? arguments[i] : {};
            var ownKeys = Object.keys(source);

            if (typeof Object.getOwnPropertySymbols === 'function') {
                ownKeys = ownKeys.concat(
                    Object.getOwnPropertySymbols(source).filter(function(sym) {
                        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
                    })
                );
            }

            ownKeys.forEach(function(key) {
                _defineProperty(target, key, source[key]);
            });
        }

        return target;
    }

    function ownKeys(object, enumerableOnly) {
        var keys = Object.keys(object);

        if (Object.getOwnPropertySymbols) {
            var symbols = Object.getOwnPropertySymbols(object);
            if (enumerableOnly)
                symbols = symbols.filter(function(sym) {
                    return Object.getOwnPropertyDescriptor(object, sym).enumerable;
                });
            keys.push.apply(keys, symbols);
        }

        return keys;
    }

    function _objectSpread2(target) {
        for (var i = 1; i < arguments.length; i++) {
            var source = arguments[i] != null ? arguments[i] : {};

            if (i % 2) {
                ownKeys(source, true).forEach(function(key) {
                    _defineProperty(target, key, source[key]);
                });
            } else if (Object.getOwnPropertyDescriptors) {
                Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
            } else {
                ownKeys(source).forEach(function(key) {
                    Object.defineProperty(
                        target,
                        key,
                        Object.getOwnPropertyDescriptor(source, key)
                    );
                });
            }
        }

        return target;
    }

    function _inherits(subClass, superClass) {
        if (typeof superClass !== 'function' && superClass !== null) {
            throw new TypeError('Super expression must either be null or a function');
        }

        subClass.prototype = Object.create(superClass && superClass.prototype, {
            constructor: {
                value: subClass,
                writable: true,
                configurable: true,
            },
        });
        if (superClass) _setPrototypeOf(subClass, superClass);
    }

    function _inheritsLoose(subClass, superClass) {
        subClass.prototype = Object.create(superClass.prototype);
        subClass.prototype.constructor = subClass;
        subClass.__proto__ = superClass;
    }

    function _getPrototypeOf(o) {
        _getPrototypeOf = Object.setPrototypeOf
            ? Object.getPrototypeOf
            : function _getPrototypeOf(o) {
                  return o.__proto__ || Object.getPrototypeOf(o);
              };
        return _getPrototypeOf(o);
    }

    function _setPrototypeOf(o, p) {
        _setPrototypeOf =
            Object.setPrototypeOf ||
            function _setPrototypeOf(o, p) {
                o.__proto__ = p;
                return o;
            };

        return _setPrototypeOf(o, p);
    }

    function isNativeReflectConstruct() {
        if (typeof Reflect === 'undefined' || !Reflect.construct) return false;
        if (Reflect.construct.sham) return false;
        if (typeof Proxy === 'function') return true;

        try {
            Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));
            return true;
        } catch (e) {
            return false;
        }
    }

    function _construct(Parent, args, Class) {
        if (isNativeReflectConstruct()) {
            _construct = Reflect.construct;
        } else {
            _construct = function _construct(Parent, args, Class) {
                var a = [null];
                a.push.apply(a, args);
                var Constructor = Function.bind.apply(Parent, a);
                var instance = new Constructor();
                if (Class) _setPrototypeOf(instance, Class.prototype);
                return instance;
            };
        }

        return _construct.apply(null, arguments);
    }

    function _isNativeFunction(fn) {
        return Function.toString.call(fn).indexOf('[native code]') !== -1;
    }

    function _wrapNativeSuper(Class) {
        var _cache = typeof Map === 'function' ? new Map() : undefined;

        _wrapNativeSuper = function _wrapNativeSuper(Class) {
            if (Class === null || !_isNativeFunction(Class)) return Class;

            if (typeof Class !== 'function') {
                throw new TypeError('Super expression must either be null or a function');
            }

            if (typeof _cache !== 'undefined') {
                if (_cache.has(Class)) return _cache.get(Class);

                _cache.set(Class, Wrapper);
            }

            function Wrapper() {
                return _construct(Class, arguments, _getPrototypeOf(this).constructor);
            }

            Wrapper.prototype = Object.create(Class.prototype, {
                constructor: {
                    value: Wrapper,
                    enumerable: false,
                    writable: true,
                    configurable: true,
                },
            });
            return _setPrototypeOf(Wrapper, Class);
        };

        return _wrapNativeSuper(Class);
    }

    function _instanceof(left, right) {
        if (right != null && typeof Symbol !== 'undefined' && right[Symbol.hasInstance]) {
            return !!right[Symbol.hasInstance](left);
        } else {
            return left instanceof right;
        }
    }

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule
            ? obj
            : {
                  default: obj,
              };
    }

    function _interopRequireWildcard(obj) {
        if (obj && obj.__esModule) {
            return obj;
        } else {
            var newObj = {};

            if (obj != null) {
                for (var key in obj) {
                    if (Object.prototype.hasOwnProperty.call(obj, key)) {
                        var desc =
                            Object.defineProperty && Object.getOwnPropertyDescriptor
                                ? Object.getOwnPropertyDescriptor(obj, key)
                                : {};

                        if (desc.get || desc.set) {
                            Object.defineProperty(newObj, key, desc);
                        } else {
                            newObj[key] = obj[key];
                        }
                    }
                }
            }

            newObj.default = obj;
            return newObj;
        }
    }

    function _newArrowCheck(innerThis, boundThis) {
        if (innerThis !== boundThis) {
            throw new TypeError('Cannot instantiate an arrow function');
        }
    }

    function _objectDestructuringEmpty(obj) {
        if (obj == null) throw new TypeError('Cannot destructure undefined');
    }

    function _objectWithoutPropertiesLoose(source, excluded) {
        if (source == null) return {};
        var target = {};
        var sourceKeys = Object.keys(source);
        var key, i;

        for (i = 0; i < sourceKeys.length; i++) {
            key = sourceKeys[i];
            if (excluded.indexOf(key) >= 0) continue;
            target[key] = source[key];
        }

        return target;
    }

    function _objectWithoutProperties(source, excluded) {
        if (source == null) return {};

        var target = _objectWithoutPropertiesLoose(source, excluded);

        var key, i;

        if (Object.getOwnPropertySymbols) {
            var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

            for (i = 0; i < sourceSymbolKeys.length; i++) {
                key = sourceSymbolKeys[i];
                if (excluded.indexOf(key) >= 0) continue;
                if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
                target[key] = source[key];
            }
        }

        return target;
    }

    function _assertThisInitialized(self) {
        if (self === void 0) {
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }

        return self;
    }

    function _possibleConstructorReturn(self, call) {
        if (call && (typeof call === 'object' || typeof call === 'function')) {
            return call;
        }

        return _assertThisInitialized(self);
    }

    function _superPropBase(object, property) {
        while (!Object.prototype.hasOwnProperty.call(object, property)) {
            object = _getPrototypeOf(object);
            if (object === null) break;
        }

        return object;
    }

    function _get(target, property, receiver) {
        if (typeof Reflect !== 'undefined' && Reflect.get) {
            _get = Reflect.get;
        } else {
            _get = function _get(target, property, receiver) {
                var base = _superPropBase(target, property);

                if (!base) return;
                var desc = Object.getOwnPropertyDescriptor(base, property);

                if (desc.get) {
                    return desc.get.call(receiver);
                }

                return desc.value;
            };
        }

        return _get(target, property, receiver || target);
    }

    function set(target, property, value, receiver) {
        if (typeof Reflect !== 'undefined' && Reflect.set) {
            set = Reflect.set;
        } else {
            set = function set(target, property, value, receiver) {
                var base = _superPropBase(target, property);

                var desc;

                if (base) {
                    desc = Object.getOwnPropertyDescriptor(base, property);

                    if (desc.set) {
                        desc.set.call(receiver, value);
                        return true;
                    } else if (!desc.writable) {
                        return false;
                    }
                }

                desc = Object.getOwnPropertyDescriptor(receiver, property);

                if (desc) {
                    if (!desc.writable) {
                        return false;
                    }

                    desc.value = value;
                    Object.defineProperty(receiver, property, desc);
                } else {
                    _defineProperty(receiver, property, value);
                }

                return true;
            };
        }

        return set(target, property, value, receiver);
    }

    function _set(target, property, value, receiver, isStrict) {
        var s = set(target, property, value, receiver || target);

        if (!s && isStrict) {
            throw new Error('failed to set property');
        }

        return value;
    }

    function _taggedTemplateLiteral(strings, raw) {
        if (!raw) {
            raw = strings.slice(0);
        }

        return Object.freeze(
            Object.defineProperties(strings, {
                raw: {
                    value: Object.freeze(raw),
                },
            })
        );
    }

    function _taggedTemplateLiteralLoose(strings, raw) {
        if (!raw) {
            raw = strings.slice(0);
        }

        strings.raw = raw;
        return strings;
    }

    function _temporalRef(val, name) {
        if (val === _temporalUndefined) {
            throw new ReferenceError(name + ' is not defined - temporal dead zone');
        } else {
            return val;
        }
    }

    function _readOnlyError(name) {
        throw new Error('"' + name + '" is read-only');
    }

    function _classNameTDZError(name) {
        throw new Error('Class "' + name + '" cannot be referenced in computed property keys.');
    }

    var _temporalUndefined = {};

    function _slicedToArray(arr, i) {
        return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();
    }

    function _slicedToArrayLoose(arr, i) {
        return _arrayWithHoles(arr) || _iterableToArrayLimitLoose(arr, i) || _nonIterableRest();
    }

    function _toArray(arr) {
        return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest();
    }

    function _toConsumableArray(arr) {
        return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();
    }

    function _arrayWithoutHoles(arr) {
        if (Array.isArray(arr)) {
            for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];

            return arr2;
        }
    }

    function _arrayWithHoles(arr) {
        if (Array.isArray(arr)) return arr;
    }

    function _iterableToArray(iter) {
        if (
            Symbol.iterator in Object(iter) ||
            Object.prototype.toString.call(iter) === '[object Arguments]'
        )
            return Array.from(iter);
    }

    function _iterableToArrayLimit(arr, i) {
        var _arr = [];
        var _n = true;
        var _d = false;
        var _e = undefined;

        try {
            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                _arr.push(_s.value);

                if (i && _arr.length === i) break;
            }
        } catch (err) {
            _d = true;
            _e = err;
        } finally {
            try {
                if (!_n && _i['return'] != null) _i['return']();
            } finally {
                if (_d) throw _e;
            }
        }

        return _arr;
    }

    function _iterableToArrayLimitLoose(arr, i) {
        var _arr = [];

        for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done; ) {
            _arr.push(_step.value);

            if (i && _arr.length === i) break;
        }

        return _arr;
    }

    function _nonIterableSpread() {
        throw new TypeError('Invalid attempt to spread non-iterable instance');
    }

    function _nonIterableRest() {
        throw new TypeError('Invalid attempt to destructure non-iterable instance');
    }

    function _skipFirstGeneratorNext(fn) {
        return function() {
            var it = fn.apply(this, arguments);
            it.next();
            return it;
        };
    }

    function _toPrimitive(input, hint) {
        if (typeof input !== 'object' || input === null) return input;
        var prim = input[Symbol.toPrimitive];

        if (prim !== undefined) {
            var res = prim.call(input, hint || 'default');
            if (typeof res !== 'object') return res;
            throw new TypeError('@@toPrimitive must return a primitive value.');
        }

        return (hint === 'string' ? String : Number)(input);
    }

    function _toPropertyKey(arg) {
        var key = _toPrimitive(arg, 'string');

        return typeof key === 'symbol' ? key : String(key);
    }

    function _initializerWarningHelper(descriptor, context) {
        throw new Error(
            'Decorating class property failed. Please ensure that ' +
                'proposal-class-properties is enabled and set to use loose mode. ' +
                'To use proposal-class-properties in spec mode with decorators, wait for ' +
                'the next major version of decorators in stage 2.'
        );
    }

    function _initializerDefineProperty(target, property, descriptor, context) {
        if (!descriptor) return;
        Object.defineProperty(target, property, {
            enumerable: descriptor.enumerable,
            configurable: descriptor.configurable,
            writable: descriptor.writable,
            value: descriptor.initializer ? descriptor.initializer.call(context) : void 0,
        });
    }

    function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
        var desc = {};
        Object.keys(descriptor).forEach(function(key) {
            desc[key] = descriptor[key];
        });
        desc.enumerable = !!desc.enumerable;
        desc.configurable = !!desc.configurable;

        if ('value' in desc || desc.initializer) {
            desc.writable = true;
        }

        desc = decorators
            .slice()
            .reverse()
            .reduce(function(desc, decorator) {
                return decorator(target, property, desc) || desc;
            }, desc);

        if (context && desc.initializer !== void 0) {
            desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
            desc.initializer = undefined;
        }

        if (desc.initializer === void 0) {
            Object.defineProperty(target, property, desc);
            desc = null;
        }

        return desc;
    }

    var id = 0;

    function _classPrivateFieldLooseKey(name) {
        return '__private_' + id++ + '_' + name;
    }

    function _classPrivateFieldLooseBase(receiver, privateKey) {
        if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {
            throw new TypeError('attempted to use private field on non-instance');
        }

        return receiver;
    }

    function _classPrivateFieldGet(receiver, privateMap) {
        var descriptor = privateMap.get(receiver);

        if (!descriptor) {
            throw new TypeError('attempted to get private field on non-instance');
        }

        if (descriptor.get) {
            return descriptor.get.call(receiver);
        }

        return descriptor.value;
    }

    function _classPrivateFieldSet(receiver, privateMap, value) {
        var descriptor = privateMap.get(receiver);

        if (!descriptor) {
            throw new TypeError('attempted to set private field on non-instance');
        }

        if (descriptor.set) {
            descriptor.set.call(receiver, value);
        } else {
            if (!descriptor.writable) {
                throw new TypeError('attempted to set read only private field');
            }

            descriptor.value = value;
        }

        return value;
    }

    function _classPrivateFieldDestructureSet(receiver, privateMap) {
        if (!privateMap.has(receiver)) {
            throw new TypeError('attempted to set private field on non-instance');
        }

        var descriptor = privateMap.get(receiver);

        if (descriptor.set) {
            if (!('__destrObj' in descriptor)) {
                descriptor.__destrObj = {
                    set value(v) {
                        descriptor.set.call(receiver, v);
                    },
                };
            }

            return descriptor.__destrObj;
        } else {
            if (!descriptor.writable) {
                throw new TypeError('attempted to set read only private field');
            }

            return descriptor;
        }
    }

    function _classStaticPrivateFieldSpecGet(receiver, classConstructor, descriptor) {
        if (receiver !== classConstructor) {
            throw new TypeError('Private static access of wrong provenance');
        }

        return descriptor.value;
    }

    function _classStaticPrivateFieldSpecSet(receiver, classConstructor, descriptor, value) {
        if (receiver !== classConstructor) {
            throw new TypeError('Private static access of wrong provenance');
        }

        if (!descriptor.writable) {
            throw new TypeError('attempted to set read only private field');
        }

        descriptor.value = value;
        return value;
    }

    function _classStaticPrivateMethodGet(receiver, classConstructor, method) {
        if (receiver !== classConstructor) {
            throw new TypeError('Private static access of wrong provenance');
        }

        return method;
    }

    function _classStaticPrivateMethodSet() {
        throw new TypeError('attempted to set read only static private field');
    }

    function _decorate(decorators, factory, superClass, mixins) {
        var api = _getDecoratorsApi();

        if (mixins) {
            for (var i = 0; i < mixins.length; i++) {
                api = mixins[i](api);
            }
        }

        var r = factory(function initialize(O) {
            api.initializeInstanceElements(O, decorated.elements);
        }, superClass);
        var decorated = api.decorateClass(
            _coalesceClassElements(r.d.map(_createElementDescriptor)),
            decorators
        );
        api.initializeClassElements(r.F, decorated.elements);
        return api.runClassFinishers(r.F, decorated.finishers);
    }

    function _getDecoratorsApi() {
        _getDecoratorsApi = function() {
            return api;
        };

        var api = {
            elementsDefinitionOrder: [['method'], ['field']],
            initializeInstanceElements: function(O, elements) {
                ['method', 'field'].forEach(function(kind) {
                    elements.forEach(function(element) {
                        if (element.kind === kind && element.placement === 'own') {
                            this.defineClassElement(O, element);
                        }
                    }, this);
                }, this);
            },
            initializeClassElements: function(F, elements) {
                var proto = F.prototype;
                ['method', 'field'].forEach(function(kind) {
                    elements.forEach(function(element) {
                        var placement = element.placement;

                        if (
                            element.kind === kind &&
                            (placement === 'static' || placement === 'prototype')
                        ) {
                            var receiver = placement === 'static' ? F : proto;
                            this.defineClassElement(receiver, element);
                        }
                    }, this);
                }, this);
            },
            defineClassElement: function(receiver, element) {
                var descriptor = element.descriptor;

                if (element.kind === 'field') {
                    var initializer = element.initializer;
                    descriptor = {
                        enumerable: descriptor.enumerable,
                        writable: descriptor.writable,
                        configurable: descriptor.configurable,
                        value: initializer === void 0 ? void 0 : initializer.call(receiver),
                    };
                }

                Object.defineProperty(receiver, element.key, descriptor);
            },
            decorateClass: function(elements, decorators) {
                var newElements = [];
                var finishers = [];
                var placements = {
                    static: [],
                    prototype: [],
                    own: [],
                };
                elements.forEach(function(element) {
                    this.addElementPlacement(element, placements);
                }, this);
                elements.forEach(function(element) {
                    if (!_hasDecorators(element)) return newElements.push(element);
                    var elementFinishersExtras = this.decorateElement(element, placements);
                    newElements.push(elementFinishersExtras.element);
                    newElements.push.apply(newElements, elementFinishersExtras.extras);
                    finishers.push.apply(finishers, elementFinishersExtras.finishers);
                }, this);

                if (!decorators) {
                    return {
                        elements: newElements,
                        finishers: finishers,
                    };
                }

                var result = this.decorateConstructor(newElements, decorators);
                finishers.push.apply(finishers, result.finishers);
                result.finishers = finishers;
                return result;
            },
            addElementPlacement: function(element, placements, silent) {
                var keys = placements[element.placement];

                if (!silent && keys.indexOf(element.key) !== -1) {
                    throw new TypeError('Duplicated element (' + element.key + ')');
                }

                keys.push(element.key);
            },
            decorateElement: function(element, placements) {
                var extras = [];
                var finishers = [];

                for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) {
                    var keys = placements[element.placement];
                    keys.splice(keys.indexOf(element.key), 1);
                    var elementObject = this.fromElementDescriptor(element);
                    var elementFinisherExtras = this.toElementFinisherExtras(
                        (0, decorators[i])(elementObject) || elementObject
                    );
                    element = elementFinisherExtras.element;
                    this.addElementPlacement(element, placements);

                    if (elementFinisherExtras.finisher) {
                        finishers.push(elementFinisherExtras.finisher);
                    }

                    var newExtras = elementFinisherExtras.extras;

                    if (newExtras) {
                        for (var j = 0; j < newExtras.length; j++) {
                            this.addElementPlacement(newExtras[j], placements);
                        }

                        extras.push.apply(extras, newExtras);
                    }
                }

                return {
                    element: element,
                    finishers: finishers,
                    extras: extras,
                };
            },
            decorateConstructor: function(elements, decorators) {
                var finishers = [];

                for (var i = decorators.length - 1; i >= 0; i--) {
                    var obj = this.fromClassDescriptor(elements);
                    var elementsAndFinisher = this.toClassDescriptor(
                        (0, decorators[i])(obj) || obj
                    );

                    if (elementsAndFinisher.finisher !== undefined) {
                        finishers.push(elementsAndFinisher.finisher);
                    }

                    if (elementsAndFinisher.elements !== undefined) {
                        elements = elementsAndFinisher.elements;

                        for (var j = 0; j < elements.length - 1; j++) {
                            for (var k = j + 1; k < elements.length; k++) {
                                if (
                                    elements[j].key === elements[k].key &&
                                    elements[j].placement === elements[k].placement
                                ) {
                                    throw new TypeError(
                                        'Duplicated element (' + elements[j].key + ')'
                                    );
                                }
                            }
                        }
                    }
                }

                return {
                    elements: elements,
                    finishers: finishers,
                };
            },
            fromElementDescriptor: function(element) {
                var obj = {
                    kind: element.kind,
                    key: element.key,
                    placement: element.placement,
                    descriptor: element.descriptor,
                };
                var desc = {
                    value: 'Descriptor',
                    configurable: true,
                };
                Object.defineProperty(obj, Symbol.toStringTag, desc);
                if (element.kind === 'field') obj.initializer = element.initializer;
                return obj;
            },
            toElementDescriptors: function(elementObjects) {
                if (elementObjects === undefined) return;
                return _toArray(elementObjects).map(function(elementObject) {
                    var element = this.toElementDescriptor(elementObject);
                    this.disallowProperty(elementObject, 'finisher', 'An element descriptor');
                    this.disallowProperty(elementObject, 'extras', 'An element descriptor');
                    return element;
                }, this);
            },
            toElementDescriptor: function(elementObject) {
                var kind = String(elementObject.kind);

                if (kind !== 'method' && kind !== 'field') {
                    throw new TypeError(
                        'An element descriptor\'s .kind property must be either "method" or' +
                            ' "field", but a decorator created an element descriptor with' +
                            ' .kind "' +
                            kind +
                            '"'
                    );
                }

                var key = _toPropertyKey(elementObject.key);

                var placement = String(elementObject.placement);

                if (placement !== 'static' && placement !== 'prototype' && placement !== 'own') {
                    throw new TypeError(
                        'An element descriptor\'s .placement property must be one of "static",' +
                            ' "prototype" or "own", but a decorator created an element descriptor' +
                            ' with .placement "' +
                            placement +
                            '"'
                    );
                }

                var descriptor = elementObject.descriptor;
                this.disallowProperty(elementObject, 'elements', 'An element descriptor');
                var element = {
                    kind: kind,
                    key: key,
                    placement: placement,
                    descriptor: Object.assign({}, descriptor),
                };

                if (kind !== 'field') {
                    this.disallowProperty(elementObject, 'initializer', 'A method descriptor');
                } else {
                    this.disallowProperty(
                        descriptor,
                        'get',
                        'The property descriptor of a field descriptor'
                    );
                    this.disallowProperty(
                        descriptor,
                        'set',
                        'The property descriptor of a field descriptor'
                    );
                    this.disallowProperty(
                        descriptor,
                        'value',
                        'The property descriptor of a field descriptor'
                    );
                    element.initializer = elementObject.initializer;
                }

                return element;
            },
            toElementFinisherExtras: function(elementObject) {
                var element = this.toElementDescriptor(elementObject);

                var finisher = _optionalCallableProperty(elementObject, 'finisher');

                var extras = this.toElementDescriptors(elementObject.extras);
                return {
                    element: element,
                    finisher: finisher,
                    extras: extras,
                };
            },
            fromClassDescriptor: function(elements) {
                var obj = {
                    kind: 'class',
                    elements: elements.map(this.fromElementDescriptor, this),
                };
                var desc = {
                    value: 'Descriptor',
                    configurable: true,
                };
                Object.defineProperty(obj, Symbol.toStringTag, desc);
                return obj;
            },
            toClassDescriptor: function(obj) {
                var kind = String(obj.kind);

                if (kind !== 'class') {
                    throw new TypeError(
                        'A class descriptor\'s .kind property must be "class", but a decorator' +
                            ' created a class descriptor with .kind "' +
                            kind +
                            '"'
                    );
                }

                this.disallowProperty(obj, 'key', 'A class descriptor');
                this.disallowProperty(obj, 'placement', 'A class descriptor');
                this.disallowProperty(obj, 'descriptor', 'A class descriptor');
                this.disallowProperty(obj, 'initializer', 'A class descriptor');
                this.disallowProperty(obj, 'extras', 'A class descriptor');

                var finisher = _optionalCallableProperty(obj, 'finisher');

                var elements = this.toElementDescriptors(obj.elements);
                return {
                    elements: elements,
                    finisher: finisher,
                };
            },
            runClassFinishers: function(constructor, finishers) {
                for (var i = 0; i < finishers.length; i++) {
                    var newConstructor = (0, finishers[i])(constructor);

                    if (newConstructor !== undefined) {
                        if (typeof newConstructor !== 'function') {
                            throw new TypeError('Finishers must return a constructor.');
                        }

                        constructor = newConstructor;
                    }
                }

                return constructor;
            },
            disallowProperty: function(obj, name, objectType) {
                if (obj[name] !== undefined) {
                    throw new TypeError(objectType + " can't have a ." + name + ' property.');
                }
            },
        };
        return api;
    }

    function _createElementDescriptor(def) {
        var key = _toPropertyKey(def.key);

        var descriptor;

        if (def.kind === 'method') {
            descriptor = {
                value: def.value,
                writable: true,
                configurable: true,
                enumerable: false,
            };
        } else if (def.kind === 'get') {
            descriptor = {
                get: def.value,
                configurable: true,
                enumerable: false,
            };
        } else if (def.kind === 'set') {
            descriptor = {
                set: def.value,
                configurable: true,
                enumerable: false,
            };
        } else if (def.kind === 'field') {
            descriptor = {
                configurable: true,
                writable: true,
                enumerable: true,
            };
        }

        var element = {
            kind: def.kind === 'field' ? 'field' : 'method',
            key: key,
            placement: def.static ? 'static' : def.kind === 'field' ? 'own' : 'prototype',
            descriptor: descriptor,
        };
        if (def.decorators) element.decorators = def.decorators;
        if (def.kind === 'field') element.initializer = def.value;
        return element;
    }

    function _coalesceGetterSetter(element, other) {
        if (element.descriptor.get !== undefined) {
            other.descriptor.get = element.descriptor.get;
        } else {
            other.descriptor.set = element.descriptor.set;
        }
    }

    function _coalesceClassElements(elements) {
        var newElements = [];

        var isSameElement = function(other) {
            return (
                other.kind === 'method' &&
                other.key === element.key &&
                other.placement === element.placement
            );
        };

        for (var i = 0; i < elements.length; i++) {
            var element = elements[i];
            var other;

            if (element.kind === 'method' && (other = newElements.find(isSameElement))) {
                if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) {
                    if (_hasDecorators(element) || _hasDecorators(other)) {
                        throw new ReferenceError(
                            'Duplicated methods (' + element.key + ") can't be decorated."
                        );
                    }

                    other.descriptor = element.descriptor;
                } else {
                    if (_hasDecorators(element)) {
                        if (_hasDecorators(other)) {
                            throw new ReferenceError(
                                "Decorators can't be placed on different accessors with for " +
                                    'the same property (' +
                                    element.key +
                                    ').'
                            );
                        }

                        other.decorators = element.decorators;
                    }

                    _coalesceGetterSetter(element, other);
                }
            } else {
                newElements.push(element);
            }
        }

        return newElements;
    }

    function _hasDecorators(element) {
        return element.decorators && element.decorators.length;
    }

    function _isDataDescriptor(desc) {
        return desc !== undefined && !(desc.value === undefined && desc.writable === undefined);
    }

    function _optionalCallableProperty(obj, name) {
        var value = obj[name];

        if (value !== undefined && typeof value !== 'function') {
            throw new TypeError("Expected '" + name + "' to be a function");
        }

        return value;
    }

    function _classPrivateMethodGet(receiver, privateSet, fn) {
        if (!privateSet.has(receiver)) {
            throw new TypeError('attempted to get private field on non-instance');
        }

        return fn;
    }

    function _classPrivateMethodSet() {
        throw new TypeError('attempted to reassign private method');
    }

    function _wrapRegExp(re, groups) {
        _wrapRegExp = function(re, groups) {
            return new BabelRegExp(re, groups);
        };

        var _RegExp = _wrapNativeSuper(RegExp);

        var _super = RegExp.prototype;

        var _groups = new WeakMap();

        function BabelRegExp(re, groups) {
            var _this = _RegExp.call(this, re);

            _groups.set(_this, groups);

            return _this;
        }

        _inherits(BabelRegExp, _RegExp);

        BabelRegExp.prototype.exec = function(str) {
            var result = _super.exec.call(this, str);

            if (result) result.groups = buildGroups(result, this);
            return result;
        };

        BabelRegExp.prototype[Symbol.replace] = function(str, substitution) {
            if (typeof substitution === 'string') {
                var groups = _groups.get(this);

                return _super[Symbol.replace].call(
                    this,
                    str,
                    substitution.replace(/\$<([^>]+)>/g, function(_, name) {
                        return '$' + groups[name];
                    })
                );
            } else if (typeof substitution === 'function') {
                var _this = this;

                return _super[Symbol.replace].call(this, str, function() {
                    var args = [];
                    args.push.apply(args, arguments);

                    if (typeof args[args.length - 1] !== 'object') {
                        args.push(buildGroups(args, _this));
                    }

                    return substitution.apply(this, args);
                });
            } else {
                return _super[Symbol.replace].call(this, str, substitution);
            }
        };

        function buildGroups(result, re) {
            var g = _groups.get(re);

            return Object.keys(g).reduce(function(groups, name) {
                groups[name] = result[g[name]];
                return groups;
            }, Object.create(null));
        }

        return _wrapRegExp.apply(this, arguments);
    }

    var arrayRemove = function arrayRemove(arr, index) {
        return arr.splice(index, 1);
    };

    var run = function run(cb, sync) {
        if (sync) {
            cb();
        } else if (document.hidden) {
            Promise.resolve(1).then(cb);
        } else {
            setTimeout(cb, 0);
        }
    };

    var on = function on() {
        var listeners = [];
        var off = function off(event, cb) {
            arrayRemove(
                listeners,
                listeners.findIndex(function(listener) {
                    return listener.event === event && (listener.cb === cb || !cb);
                })
            );
        };
        var _fire = function fire(event, args, sync) {
            listeners
                .filter(function(listener) {
                    return listener.event === event;
                })
                .map(function(listener) {
                    return listener.cb;
                })
                .forEach(function(cb) {
                    return run(function() {
                        return cb.apply(void 0, _toConsumableArray(args));
                    }, sync);
                });
        };
        return {
            fireSync: function fireSync(event) {
                for (
                    var _len = arguments.length,
                        args = new Array(_len > 1 ? _len - 1 : 0),
                        _key = 1;
                    _key < _len;
                    _key++
                ) {
                    args[_key - 1] = arguments[_key];
                }
                _fire(event, args, true);
            },
            fire: function fire(event) {
                for (
                    var _len2 = arguments.length,
                        args = new Array(_len2 > 1 ? _len2 - 1 : 0),
                        _key2 = 1;
                    _key2 < _len2;
                    _key2++
                ) {
                    args[_key2 - 1] = arguments[_key2];
                }
                _fire(event, args, false);
            },
            on: function on(event, cb) {
                listeners.push({ event: event, cb: cb });
            },
            onOnce: function onOnce(event, _cb) {
                listeners.push({
                    event: event,
                    cb: function cb() {
                        off(event, _cb);
                        _cb.apply(void 0, arguments);
                    },
                });
            },
            off: off,
        };
    };

    var copyObjectPropertiesToObject = function copyObjectPropertiesToObject(
        src,
        target,
        excluded
    ) {
        Object.getOwnPropertyNames(src)
            .filter(function(property) {
                return !excluded.includes(property);
            })
            .forEach(function(key) {
                return Object.defineProperty(
                    target,
                    key,
                    Object.getOwnPropertyDescriptor(src, key)
                );
            });
    };

    var PRIVATE = [
        'fire',
        'process',
        'revert',
        'load',
        'on',
        'off',
        'onOnce',
        'retryLoad',
        'extend',
        'archive',
        'archived',
        'release',
        'released',
        'requestProcessing',
        'freeze',
    ];

    var createItemAPI = function createItemAPI(item) {
        var api = {};
        copyObjectPropertiesToObject(item, api, PRIVATE);
        return api;
    };

    var removeReleasedItems = function removeReleasedItems(items) {
        items.forEach(function(item, index) {
            if (item.released) {
                arrayRemove(items, index);
            }
        });
    };

    var ItemStatus = {
        INIT: 1,
        IDLE: 2,
        PROCESSING_QUEUED: 9,
        PROCESSING: 3,
        PROCESSING_COMPLETE: 5,
        PROCESSING_ERROR: 6,
        PROCESSING_REVERT_ERROR: 10,
        LOADING: 7,
        LOAD_ERROR: 8,
    };

    var FileOrigin = {
        INPUT: 1,
        LIMBO: 2,
        LOCAL: 3,
    };

    var getNonNumeric = function getNonNumeric(str) {
        return /[^0-9]+/.exec(str);
    };

    var getDecimalSeparator = function getDecimalSeparator() {
        return getNonNumeric((1.1).toLocaleString())[0];
    };

    var getThousandsSeparator = function getThousandsSeparator() {
        // Added for browsers that do not return the thousands separator (happend on native browser Android 4.4.4)
        // We check against the normal toString output and if they're the same return a comma when decimal separator is a dot
        var decimalSeparator = getDecimalSeparator();
        var thousandsStringWithSeparator = (1000.0).toLocaleString();
        var thousandsStringWithoutSeparator = (1000.0).toString();
        if (thousandsStringWithSeparator !== thousandsStringWithoutSeparator) {
            return getNonNumeric(thousandsStringWithSeparator)[0];
        }
        return decimalSeparator === '.' ? ',' : '.';
    };

    var Type = {
        BOOLEAN: 'boolean',
        INT: 'int',
        NUMBER: 'number',
        STRING: 'string',
        ARRAY: 'array',
        OBJECT: 'object',
        FUNCTION: 'function',
        ACTION: 'action',
        SERVER_API: 'serverapi',
        REGEX: 'regex',
    };

    // all registered filters
    var filters = [];

    // loops over matching filters and passes options to each filter, returning the mapped results
    var applyFilterChain = function applyFilterChain(key, value, utils) {
        return new Promise(function(resolve, reject) {
            // find matching filters for this key
            var matchingFilters = filters
                .filter(function(f) {
                    return f.key === key;
                })
                .map(function(f) {
                    return f.cb;
                });

            // resolve now
            if (matchingFilters.length === 0) {
                resolve(value);
                return;
            }

            // first filter to kick things of
            var initialFilter = matchingFilters.shift();

            // chain filters
            matchingFilters
                .reduce(
                    // loop over promises passing value to next promise
                    function(current, next) {
                        return current.then(function(value) {
                            return next(value, utils);
                        });
                    },

                    // call initial filter, will return a promise
                    initialFilter(value, utils)

                    // all executed
                )
                .then(function(value) {
                    return resolve(value);
                })
                .catch(function(error) {
                    return reject(error);
                });
        });
    };

    var applyFilters = function applyFilters(key, value, utils) {
        return filters
            .filter(function(f) {
                return f.key === key;
            })
            .map(function(f) {
                return f.cb(value, utils);
            });
    };

    // adds a new filter to the list
    var addFilter = function addFilter(key, cb) {
        return filters.push({ key: key, cb: cb });
    };

    var extendDefaultOptions = function extendDefaultOptions(additionalOptions) {
        return Object.assign(defaultOptions, additionalOptions);
    };

    var getOptions = function getOptions() {
        return Object.assign({}, defaultOptions);
    };

    var setOptions = function setOptions(opts) {
        forin(opts, function(key, value) {
            // key does not exist, so this option cannot be set
            if (!defaultOptions[key]) {
                return;
            }
            defaultOptions[key][0] = getValueByType(
                value,
                defaultOptions[key][0],
                defaultOptions[key][1]
            );
        });
    };

    // default options on app
    var defaultOptions = {
        // the id to add to the root element
        id: [null, Type.STRING],

        // input field name to use
        name: ['filepond', Type.STRING],

        // disable the field
        disabled: [false, Type.BOOLEAN],

        // classname to put on wrapper
        className: [null, Type.STRING],

        // is the field required
        required: [false, Type.BOOLEAN],

        // Allow media capture when value is set
        captureMethod: [null, Type.STRING],
        // - "camera", "microphone" or "camcorder",
        // - Does not work with multiple on apple devices
        // - If set, acceptedFileTypes must be made to match with media wildcard "image/*", "audio/*" or "video/*"

        // sync `acceptedFileTypes` property with `accept` attribute
        allowSyncAcceptAttribute: [true, Type.BOOLEAN],

        // Feature toggles
        allowDrop: [true, Type.BOOLEAN], // Allow dropping of files
        allowBrowse: [true, Type.BOOLEAN], // Allow browsing the file system
        allowPaste: [true, Type.BOOLEAN], // Allow pasting files
        allowMultiple: [false, Type.BOOLEAN], // Allow multiple files (disabled by default, as multiple attribute is also required on input to allow multiple)
        allowReplace: [true, Type.BOOLEAN], // Allow dropping a file on other file to replace it (only works when multiple is set to false)
        allowRevert: [true, Type.BOOLEAN], // Allows user to revert file upload
        allowRemove: [true, Type.BOOLEAN], // Allow user to remove a file
        allowProcess: [true, Type.BOOLEAN], // Allows user to process a file, when set to false, this removes the file upload button
        allowReorder: [false, Type.BOOLEAN], // Allow reordering of files
        allowDirectoriesOnly: [false, Type.BOOLEAN], // Allow only selecting directories with browse (no support for filtering dnd at this point)

        // Try store file if `server` not set
        storeAsFile: [false, Type.BOOLEAN],

        // Revert mode
        forceRevert: [false, Type.BOOLEAN], // Set to 'force' to require the file to be reverted before removal

        // Input requirements
        maxFiles: [null, Type.INT], // Max number of files
        checkValidity: [false, Type.BOOLEAN], // Enables custom validity messages

        // Where to put file
        itemInsertLocationFreedom: [true, Type.BOOLEAN], // Set to false to always add items to begin or end of list
        itemInsertLocation: ['before', Type.STRING], // Default index in list to add items that have been dropped at the top of the list
        itemInsertInterval: [75, Type.INT],

        // Drag 'n Drop related
        dropOnPage: [false, Type.BOOLEAN], // Allow dropping of files anywhere on page (prevents browser from opening file if dropped outside of Up)
        dropOnElement: [true, Type.BOOLEAN], // Drop needs to happen on element (set to false to also load drops outside of Up)
        dropValidation: [false, Type.BOOLEAN], // Enable or disable validating files on drop
        ignoredFiles: [['.ds_store', 'thumbs.db', 'desktop.ini'], Type.ARRAY],

        // Upload related
        instantUpload: [true, Type.BOOLEAN], // Should upload files immediately on drop
        maxParallelUploads: [2, Type.INT], // Maximum files to upload in parallel
        allowMinimumUploadDuration: [true, Type.BOOLEAN], // if true uploads take at least 750 ms, this ensures the user sees the upload progress giving trust the upload actually happened

        // Chunks
        chunkUploads: [false, Type.BOOLEAN], // Enable chunked uploads
        chunkForce: [false, Type.BOOLEAN], // Force use of chunk uploads even for files smaller than chunk size
        chunkSize: [5000000, Type.INT], // Size of chunks (5MB default)
        chunkRetryDelays: [[500, 1000, 3000], Type.ARRAY], // Amount of times to retry upload of a chunk when it fails

        // The server api end points to use for uploading (see docs)
        server: [null, Type.SERVER_API],

        // File size calculations, can set to 1024, this is only used for display, properties use file size base 1000
        fileSizeBase: [1000, Type.INT],

        // Labels and status messages
        labelFileSizeBytes: ['bytes', Type.STRING],
        labelFileSizeKilobytes: ['KB', Type.STRING],
        labelFileSizeMegabytes: ['MB', Type.STRING],
        labelFileSizeGigabytes: ['GB', Type.STRING],

        labelDecimalSeparator: [getDecimalSeparator(), Type.STRING], // Default is locale separator
        labelThousandsSeparator: [getThousandsSeparator(), Type.STRING], // Default is locale separator

        labelIdle: [
            'Drag & Drop your files or <span class="filepond--label-action">Browse</span>',
            Type.STRING,
        ],

        labelInvalidField: ['Field contains invalid files', Type.STRING],
        labelFileWaitingForSize: ['Waiting for size', Type.STRING],
        labelFileSizeNotAvailable: ['Size not available', Type.STRING],
        labelFileCountSingular: ['file in list', Type.STRING],
        labelFileCountPlural: ['files in list', Type.STRING],
        labelFileLoading: ['Loading', Type.STRING],
        labelFileAdded: ['Added', Type.STRING], // assistive only
        labelFileLoadError: ['Error during load', Type.STRING],
        labelFileRemoved: ['Removed', Type.STRING], // assistive only
        labelFileRemoveError: ['Error during remove', Type.STRING],
        labelFileProcessing: ['Uploading', Type.STRING],
        labelFileProcessingComplete: ['Upload complete', Type.STRING],
        labelFileProcessingAborted: ['Upload cancelled', Type.STRING],
        labelFileProcessingError: ['Error during upload', Type.STRING],
        labelFileProcessingRevertError: ['Error during revert', Type.STRING],

        labelTapToCancel: ['tap to cancel', Type.STRING],
        labelTapToRetry: ['tap to retry', Type.STRING],
        labelTapToUndo: ['tap to undo', Type.STRING],

        labelButtonRemoveItem: ['Remove', Type.STRING],
        labelButtonAbortItemLoad: ['Abort', Type.STRING],
        labelButtonRetryItemLoad: ['Retry', Type.STRING],
        labelButtonAbortItemProcessing: ['Cancel', Type.STRING],
        labelButtonUndoItemProcessing: ['Undo', Type.STRING],
        labelButtonRetryItemProcessing: ['Retry', Type.STRING],
        labelButtonProcessItem: ['Upload', Type.STRING],

        // make sure width and height plus viewpox are even numbers so icons are nicely centered
        iconRemove: [
            '<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',
            Type.STRING,
        ],

        iconProcess: [
            '<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',
            Type.STRING,
        ],

        iconRetry: [
            '<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',
            Type.STRING,
        ],

        iconUndo: [
            '<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',
            Type.STRING,
        ],

        iconDone: [
            '<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',
            Type.STRING,
        ],

        // event handlers
        oninit: [null, Type.FUNCTION],
        onwarning: [null, Type.FUNCTION],
        onerror: [null, Type.FUNCTION],
        onactivatefile: [null, Type.FUNCTION],
        oninitfile: [null, Type.FUNCTION],
        onaddfilestart: [null, Type.FUNCTION],
        onaddfileprogress: [null, Type.FUNCTION],
        onaddfile: [null, Type.FUNCTION],
        onprocessfilestart: [null, Type.FUNCTION],
        onprocessfileprogress: [null, Type.FUNCTION],
        onprocessfileabort: [null, Type.FUNCTION],
        onprocessfilerevert: [null, Type.FUNCTION],
        onprocessfile: [null, Type.FUNCTION],
        onprocessfiles: [null, Type.FUNCTION],
        onremovefile: [null, Type.FUNCTION],
        onpreparefile: [null, Type.FUNCTION],
        onupdatefiles: [null, Type.FUNCTION],
        onreorderfiles: [null, Type.FUNCTION],

        // hooks
        beforeDropFile: [null, Type.FUNCTION],
        beforeAddFile: [null, Type.FUNCTION],
        beforeRemoveFile: [null, Type.FUNCTION],
        beforePrepareFile: [null, Type.FUNCTION],

        // styles
        stylePanelLayout: [null, Type.STRING], // null 'integrated', 'compact', 'circle'
        stylePanelAspectRatio: [null, Type.STRING], // null or '3:2' or 1
        styleItemPanelAspectRatio: [null, Type.STRING],
        styleButtonRemoveItemPosition: ['left', Type.STRING],
        styleButtonProcessItemPosition: ['right', Type.STRING],
        styleLoadIndicatorPosition: ['right', Type.STRING],
        styleProgressIndicatorPosition: ['right', Type.STRING],
        styleButtonRemoveItemAlign: [false, Type.BOOLEAN],

        // custom initial files array
        files: [[], Type.ARRAY],

        // show support by displaying credits
        credits: [['https://pqina.nl/', 'Powered by PQINA'], Type.ARRAY],
    };

    var getItemByQuery = function getItemByQuery(items, query) {
        // just return first index
        if (isEmpty(query)) {
            return items[0] || null;
        }

        // query is index
        if (isInt(query)) {
            return items[query] || null;
        }

        // if query is item, get the id
        if (typeof query === 'object') {
            query = query.id;
        }

        // assume query is a string and return item by id
        return (
            items.find(function(item) {
                return item.id === query;
            }) || null
        );
    };

    var getNumericAspectRatioFromString = function getNumericAspectRatioFromString(aspectRatio) {
        if (isEmpty(aspectRatio)) {
            return aspectRatio;
        }
        if (/:/.test(aspectRatio)) {
            var parts = aspectRatio.split(':');
            return parts[1] / parts[0];
        }
        return parseFloat(aspectRatio);
    };

    var getActiveItems = function getActiveItems(items) {
        return items.filter(function(item) {
            return !item.archived;
        });
    };

    var Status = {
        EMPTY: 0,
        IDLE: 1, // waiting
        ERROR: 2, // a file is in error state
        BUSY: 3, // busy processing or loading
        READY: 4, // all files uploaded
    };

    var res = null;
    var canUpdateFileInput = function canUpdateFileInput() {
        if (res === null) {
            try {
                var dataTransfer = new DataTransfer();
                dataTransfer.items.add(new File(['hello world'], 'This_Works.txt'));
                var el = document.createElement('input');
                el.setAttribute('type', 'file');
                el.files = dataTransfer.files;
                res = el.files.length === 1;
            } catch (err) {
                res = false;
            }
        }
        return res;
    };

    var ITEM_ERROR = [
        ItemStatus.LOAD_ERROR,
        ItemStatus.PROCESSING_ERROR,
        ItemStatus.PROCESSING_REVERT_ERROR,
    ];

    var ITEM_BUSY = [
        ItemStatus.LOADING,
        ItemStatus.PROCESSING,
        ItemStatus.PROCESSING_QUEUED,
        ItemStatus.INIT,
    ];

    var ITEM_READY = [ItemStatus.PROCESSING_COMPLETE];

    var isItemInErrorState = function isItemInErrorState(item) {
        return ITEM_ERROR.includes(item.status);
    };
    var isItemInBusyState = function isItemInBusyState(item) {
        return ITEM_BUSY.includes(item.status);
    };
    var isItemInReadyState = function isItemInReadyState(item) {
        return ITEM_READY.includes(item.status);
    };

    var isAsync = function isAsync(state) {
        return (
            isObject(state.options.server) &&
            (isObject(state.options.server.process) || isFunction(state.options.server.process))
        );
    };

    var queries = function queries(state) {
        return {
            GET_STATUS: function GET_STATUS() {
                var items = getActiveItems(state.items);
                var EMPTY = Status.EMPTY,
                    ERROR = Status.ERROR,
                    BUSY = Status.BUSY,
                    IDLE = Status.IDLE,
                    READY = Status.READY;

                if (items.length === 0) return EMPTY;

                if (items.some(isItemInErrorState)) return ERROR;

                if (items.some(isItemInBusyState)) return BUSY;

                if (items.some(isItemInReadyState)) return READY;

                return IDLE;
            },

            GET_ITEM: function GET_ITEM(query) {
                return getItemByQuery(state.items, query);
            },

            GET_ACTIVE_ITEM: function GET_ACTIVE_ITEM(query) {
                return getItemByQuery(getActiveItems(state.items), query);
            },

            GET_ACTIVE_ITEMS: function GET_ACTIVE_ITEMS() {
                return getActiveItems(state.items);
            },

            GET_ITEMS: function GET_ITEMS() {
                return state.items;
            },

            GET_ITEM_NAME: function GET_ITEM_NAME(query) {
                var item = getItemByQuery(state.items, query);
                return item ? item.filename : null;
            },

            GET_ITEM_SIZE: function GET_ITEM_SIZE(query) {
                var item = getItemByQuery(state.items, query);
                return item ? item.fileSize : null;
            },

            GET_STYLES: function GET_STYLES() {
                return Object.keys(state.options)
                    .filter(function(key) {
                        return /^style/.test(key);
                    })
                    .map(function(option) {
                        return {
                            name: option,
                            value: state.options[option],
                        };
                    });
            },

            GET_PANEL_ASPECT_RATIO: function GET_PANEL_ASPECT_RATIO() {
                var isShapeCircle = /circle/.test(state.options.stylePanelLayout);
                var aspectRatio = isShapeCircle
                    ? 1
                    : getNumericAspectRatioFromString(state.options.stylePanelAspectRatio);
                return aspectRatio;
            },

            GET_ITEM_PANEL_ASPECT_RATIO: function GET_ITEM_PANEL_ASPECT_RATIO() {
                return state.options.styleItemPanelAspectRatio;
            },

            GET_ITEMS_BY_STATUS: function GET_ITEMS_BY_STATUS(status) {
                return getActiveItems(state.items).filter(function(item) {
                    return item.status === status;
                });
            },

            GET_TOTAL_ITEMS: function GET_TOTAL_ITEMS() {
                return getActiveItems(state.items).length;
            },

            SHOULD_UPDATE_FILE_INPUT: function SHOULD_UPDATE_FILE_INPUT() {
                return state.options.storeAsFile && canUpdateFileInput() && !isAsync(state);
            },

            IS_ASYNC: function IS_ASYNC() {
                return isAsync(state);
            },

            GET_FILE_SIZE_LABELS: function GET_FILE_SIZE_LABELS(query) {
                return {
                    labelBytes: query('GET_LABEL_FILE_SIZE_BYTES') || undefined,
                    labelKilobytes: query('GET_LABEL_FILE_SIZE_KILOBYTES') || undefined,
                    labelMegabytes: query('GET_LABEL_FILE_SIZE_MEGABYTES') || undefined,
                    labelGigabytes: query('GET_LABEL_FILE_SIZE_GIGABYTES') || undefined,
                };
            },
        };
    };

    var hasRoomForItem = function hasRoomForItem(state) {
        var count = getActiveItems(state.items).length;

        // if cannot have multiple items, to add one item it should currently not contain items
        if (!state.options.allowMultiple) {
            return count === 0;
        }

        // if allows multiple items, we check if a max item count has been set, if not, there's no limit
        var maxFileCount = state.options.maxFiles;
        if (maxFileCount === null) {
            return true;
        }

        // we check if the current count is smaller than the max count, if so, another file can still be added
        if (count < maxFileCount) {
            return true;
        }

        // no more room for another file
        return false;
    };

    var limit = function limit(value, min, max) {
        return Math.max(Math.min(max, value), min);
    };

    var arrayInsert = function arrayInsert(arr, index, item) {
        return arr.splice(index, 0, item);
    };

    var insertItem = function insertItem(items, item, index) {
        if (isEmpty(item)) {
            return null;
        }

        // if index is undefined, append
        if (typeof index === 'undefined') {
            items.push(item);
            return item;
        }

        // limit the index to the size of the items array
        index = limit(index, 0, items.length);

        // add item to array
        arrayInsert(items, index, item);

        // expose
        return item;
    };

    var isBase64DataURI = function isBase64DataURI(str) {
        return /^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(
            str
        );
    };

    var getFilenameFromURL = function getFilenameFromURL(url) {
        return url
            .split('/')
            .pop()
            .split('?')
            .shift();
    };

    var getExtensionFromFilename = function getExtensionFromFilename(name) {
        return name.split('.').pop();
    };

    var guesstimateExtension = function guesstimateExtension(type) {
        // if no extension supplied, exit here
        if (typeof type !== 'string') {
            return '';
        }

        // get subtype
        var subtype = type.split('/').pop();

        // is svg subtype
        if (/svg/.test(subtype)) {
            return 'svg';
        }

        if (/zip|compressed/.test(subtype)) {
            return 'zip';
        }

        if (/plain/.test(subtype)) {
            return 'txt';
        }

        if (/msword/.test(subtype)) {
            return 'doc';
        }

        // if is valid subtype
        if (/[a-z]+/.test(subtype)) {
            // always use jpg extension
            if (subtype === 'jpeg') {
                return 'jpg';
            }

            // return subtype
            return subtype;
        }

        return '';
    };

    var leftPad = function leftPad(value) {
        var padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
        return (padding + value).slice(-padding.length);
    };

    var getDateString = function getDateString() {
        var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();
        return (
            date.getFullYear() +
            '-' +
            leftPad(date.getMonth() + 1, '00') +
            '-' +
            leftPad(date.getDate(), '00') +
            '_' +
            leftPad(date.getHours(), '00') +
            '-' +
            leftPad(date.getMinutes(), '00') +
            '-' +
            leftPad(date.getSeconds(), '00')
        );
    };

    var getFileFromBlob = function getFileFromBlob(blob, filename) {
        var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
        var extension = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;
        var file =
            typeof type === 'string'
                ? blob.slice(0, blob.size, type)
                : blob.slice(0, blob.size, blob.type);
        file.lastModifiedDate = new Date();

        // copy relative path
        if (blob._relativePath) file._relativePath = blob._relativePath;

        // if blob has name property, use as filename if no filename supplied
        if (!isString(filename)) {
            filename = getDateString();
        }

        // if filename supplied but no extension and filename has extension
        if (filename && extension === null && getExtensionFromFilename(filename)) {
            file.name = filename;
        } else {
            extension = extension || guesstimateExtension(file.type);
            file.name = filename + (extension ? '.' + extension : '');
        }

        return file;
    };

    var getBlobBuilder = function getBlobBuilder() {
        return (window.BlobBuilder =
            window.BlobBuilder ||
            window.WebKitBlobBuilder ||
            window.MozBlobBuilder ||
            window.MSBlobBuilder);
    };

    var createBlob = function createBlob(arrayBuffer, mimeType) {
        var BB = getBlobBuilder();

        if (BB) {
            var bb = new BB();
            bb.append(arrayBuffer);
            return bb.getBlob(mimeType);
        }

        return new Blob([arrayBuffer], {
            type: mimeType,
        });
    };

    var getBlobFromByteStringWithMimeType = function getBlobFromByteStringWithMimeType(
        byteString,
        mimeType
    ) {
        var ab = new ArrayBuffer(byteString.length);
        var ia = new Uint8Array(ab);

        for (var i = 0; i < byteString.length; i++) {
            ia[i] = byteString.charCodeAt(i);
        }

        return createBlob(ab, mimeType);
    };

    var getMimeTypeFromBase64DataURI = function getMimeTypeFromBase64DataURI(dataURI) {
        return (/^data:(.+);/.exec(dataURI) || [])[1] || null;
    };

    var getBase64DataFromBase64DataURI = function getBase64DataFromBase64DataURI(dataURI) {
        // get data part of string (remove data:image/jpeg...,)
        var data = dataURI.split(',')[1];

        // remove any whitespace as that causes InvalidCharacterError in IE
        return data.replace(/\s/g, '');
    };

    var getByteStringFromBase64DataURI = function getByteStringFromBase64DataURI(dataURI) {
        return atob(getBase64DataFromBase64DataURI(dataURI));
    };

    var getBlobFromBase64DataURI = function getBlobFromBase64DataURI(dataURI) {
        var mimeType = getMimeTypeFromBase64DataURI(dataURI);
        var byteString = getByteStringFromBase64DataURI(dataURI);

        return getBlobFromByteStringWithMimeType(byteString, mimeType);
    };

    var getFileFromBase64DataURI = function getFileFromBase64DataURI(dataURI, filename, extension) {
        return getFileFromBlob(getBlobFromBase64DataURI(dataURI), filename, null, extension);
    };

    var getFileNameFromHeader = function getFileNameFromHeader(header) {
        // test if is content disposition header, if not exit
        if (!/^content-disposition:/i.test(header)) return null;

        // get filename parts
        var matches = header
            .split(/filename=|filename\*=.+''/)
            .splice(1)
            .map(function(name) {
                return name.trim().replace(/^["']|[;"']{0,2}$/g, '');
            })
            .filter(function(name) {
                return name.length;
            });

        return matches.length ? decodeURI(matches[matches.length - 1]) : null;
    };

    var getFileSizeFromHeader = function getFileSizeFromHeader(header) {
        if (/content-length:/i.test(header)) {
            var size = header.match(/[0-9]+/)[0];
            return size ? parseInt(size, 10) : null;
        }
        return null;
    };

    var getTranfserIdFromHeader = function getTranfserIdFromHeader(header) {
        if (/x-content-transfer-id:/i.test(header)) {
            var id = (header.split(':')[1] || '').trim();
            return id || null;
        }
        return null;
    };

    var getFileInfoFromHeaders = function getFileInfoFromHeaders(headers) {
        var info = {
            source: null,
            name: null,
            size: null,
        };

        var rows = headers.split('\n');
        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;
        try {
            for (
                var _iterator = rows[Symbol.iterator](), _step;
                !(_iteratorNormalCompletion = (_step = _iterator.next()).done);
                _iteratorNormalCompletion = true
            ) {
                var header = _step.value;

                var name = getFileNameFromHeader(header);
                if (name) {
                    info.name = name;
                    continue;
                }

                var size = getFileSizeFromHeader(header);
                if (size) {
                    info.size = size;
                    continue;
                }

                var source = getTranfserIdFromHeader(header);
                if (source) {
                    info.source = source;
                    continue;
                }
            }
        } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
        } finally {
            try {
                if (!_iteratorNormalCompletion && _iterator.return != null) {
                    _iterator.return();
                }
            } finally {
                if (_didIteratorError) {
                    throw _iteratorError;
                }
            }
        }

        return info;
    };

    var createFileLoader = function createFileLoader(fetchFn) {
        var state = {
            source: null,
            complete: false,
            progress: 0,
            size: null,
            timestamp: null,
            duration: 0,
            request: null,
        };

        var getProgress = function getProgress() {
            return state.progress;
        };
        var abort = function abort() {
            if (state.request && state.request.abort) {
                state.request.abort();
            }
        };

        // load source
        var load = function load() {
            // get quick reference
            var source = state.source;

            api.fire('init', source);

            // Load Files
            if (source instanceof File) {
                api.fire('load', source);
            } else if (source instanceof Blob) {
                // Load blobs, set default name to current date
                api.fire('load', getFileFromBlob(source, source.name));
            } else if (isBase64DataURI(source)) {
                // Load base 64, set default name to current date
                api.fire('load', getFileFromBase64DataURI(source));
            } else {
                // Deal as if is external URL, let's load it!
                loadURL(source);
            }
        };

        // loads a url
        var loadURL = function loadURL(url) {
            // is remote url and no fetch method supplied
            if (!fetchFn) {
                api.fire('error', {
                    type: 'error',
                    body: "Can't load URL",
                    code: 400,
                });

                return;
            }

            // set request start
            state.timestamp = Date.now();

            // load file
            state.request = fetchFn(
                url,
                function(response) {
                    // update duration
                    state.duration = Date.now() - state.timestamp;

                    // done!
                    state.complete = true;

                    // turn blob response into a file
                    if (response instanceof Blob) {
                        response = getFileFromBlob(
                            response,
                            response.name || getFilenameFromURL(url)
                        );
                    }

                    api.fire(
                        'load',
                        // if has received blob, we go with blob, if no response, we return null
                        response instanceof Blob ? response : response ? response.body : null
                    );
                },
                function(error) {
                    api.fire(
                        'error',
                        typeof error === 'string'
                            ? {
                                  type: 'error',
                                  code: 0,
                                  body: error,
                              }
                            : error
                    );
                },
                function(computable, current, total) {
                    // collected some meta data already
                    if (total) {
                        state.size = total;
                    }

                    // update duration
                    state.duration = Date.now() - state.timestamp;

                    // if we can't compute progress, we're not going to fire progress events
                    if (!computable) {
                        state.progress = null;
                        return;
                    }

                    // update progress percentage
                    state.progress = current / total;

                    // expose
                    api.fire('progress', state.progress);
                },
                function() {
                    api.fire('abort');
                },
                function(response) {
                    var fileinfo = getFileInfoFromHeaders(
                        typeof response === 'string' ? response : response.headers
                    );
                    api.fire('meta', {
                        size: state.size || fileinfo.size,
                        filename: fileinfo.name,
                        source: fileinfo.source,
                    });
                }
            );
        };

        var api = Object.assign({}, on(), {
            setSource: function setSource(source) {
                return (state.source = source);
            },
            getProgress: getProgress, // file load progress
            abort: abort, // abort file load
            load: load, // start load
        });

        return api;
    };

    var isGet = function isGet(method) {
        return /GET|HEAD/.test(method);
    };

    var sendRequest = function sendRequest(data, url, options) {
        var api = {
            onheaders: function onheaders() {},
            onprogress: function onprogress() {},
            onload: function onload() {},
            ontimeout: function ontimeout() {},
            onerror: function onerror() {},
            onabort: function onabort() {},
            abort: function abort() {
                aborted = true;
                xhr.abort();
            },
        };

        // timeout identifier, only used when timeout is defined
        var aborted = false;
        var headersReceived = false;

        // set default options
        options = Object.assign(
            {
                method: 'POST',
                headers: {},
                withCredentials: false,
            },
            options
        );

        // encode url
        url = encodeURI(url);

        // if method is GET, add any received data to url

        if (isGet(options.method) && data) {
            url =
                '' +
                url +
                encodeURIComponent(typeof data === 'string' ? data : JSON.stringify(data));
        }

        // create request
        var xhr = new XMLHttpRequest();

        // progress of load
        var process = isGet(options.method) ? xhr : xhr.upload;
        process.onprogress = function(e) {
            // no progress event when aborted ( onprogress is called once after abort() )
            if (aborted) {
                return;
            }

            api.onprogress(e.lengthComputable, e.loaded, e.total);
        };

        // tries to get header info to the app as fast as possible
        xhr.onreadystatechange = function() {
            // not interesting in these states ('unsent' and 'openend' as they don't give us any additional info)
            if (xhr.readyState < 2) {
                return;
            }

            // no server response
            if (xhr.readyState === 4 && xhr.status === 0) {
                return;
            }

            if (headersReceived) {
                return;
            }

            headersReceived = true;

            // we've probably received some useful data in response headers
            api.onheaders(xhr);
        };

        // load successful
        xhr.onload = function() {
            // is classified as valid response
            if (xhr.status >= 200 && xhr.status < 300) {
                api.onload(xhr);
            } else {
                api.onerror(xhr);
            }
        };

        // error during load
        xhr.onerror = function() {
            return api.onerror(xhr);
        };

        // request aborted
        xhr.onabort = function() {
            aborted = true;
            api.onabort();
        };

        // request timeout
        xhr.ontimeout = function() {
            return api.ontimeout(xhr);
        };

        // open up open up!
        xhr.open(options.method, url, true);

        // set timeout if defined (do it after open so IE11 plays ball)
        if (isInt(options.timeout)) {
            xhr.timeout = options.timeout;
        }

        // add headers
        Object.keys(options.headers).forEach(function(key) {
            var value = unescape(encodeURIComponent(options.headers[key]));
            xhr.setRequestHeader(key, value);
        });

        // set type of response
        if (options.responseType) {
            xhr.responseType = options.responseType;
        }

        // set credentials
        if (options.withCredentials) {
            xhr.withCredentials = true;
        }

        // let's send our data
        xhr.send(data);

        return api;
    };

    var createResponse = function createResponse(type, code, body, headers) {
        return {
            type: type,
            code: code,
            body: body,
            headers: headers,
        };
    };

    var createTimeoutResponse = function createTimeoutResponse(cb) {
        return function(xhr) {
            cb(createResponse('error', 0, 'Timeout', xhr.getAllResponseHeaders()));
        };
    };

    var hasQS = function hasQS(str) {
        return /\?/.test(str);
    };
    var buildURL = function buildURL() {
        var url = '';
        for (var _len = arguments.length, parts = new Array(_len), _key = 0; _key < _len; _key++) {
            parts[_key] = arguments[_key];
        }
        parts.forEach(function(part) {
            url += hasQS(url) && hasQS(part) ? part.replace(/\?/, '&') : part;
        });
        return url;
    };

    var createFetchFunction = function createFetchFunction() {
        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
        var action = arguments.length > 1 ? arguments[1] : undefined;
        // custom handler (should also handle file, load, error, progress and abort)
        if (typeof action === 'function') {
            return action;
        }

        // no action supplied
        if (!action || !isString(action.url)) {
            return null;
        }

        // set onload hanlder
        var onload =
            action.onload ||
            function(res) {
                return res;
            };
        var onerror =
            action.onerror ||
            function(res) {
                return null;
            };

        // internal handler
        return function(url, load, error, progress, abort, headers) {
            // do local or remote request based on if the url is external
            var request = sendRequest(
                url,
                buildURL(apiUrl, action.url),
                Object.assign({}, action, {
                    responseType: 'blob',
                })
            );

            request.onload = function(xhr) {
                // get headers
                var headers = xhr.getAllResponseHeaders();

                // get filename
                var filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);

                // create response
                load(
                    createResponse(
                        'load',
                        xhr.status,
                        action.method === 'HEAD'
                            ? null
                            : getFileFromBlob(onload(xhr.response), filename),
                        headers
                    )
                );
            };

            request.onerror = function(xhr) {
                error(
                    createResponse(
                        'error',
                        xhr.status,
                        onerror(xhr.response) || xhr.statusText,
                        xhr.getAllResponseHeaders()
                    )
                );
            };

            request.onheaders = function(xhr) {
                headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));
            };

            request.ontimeout = createTimeoutResponse(error);
            request.onprogress = progress;
            request.onabort = abort;

            // should return request
            return request;
        };
    };

    var ChunkStatus = {
        QUEUED: 0,
        COMPLETE: 1,
        PROCESSING: 2,
        ERROR: 3,
        WAITING: 4,
    };

    /*
                                                       function signature:
                                                         (file, metadata, load, error, progress, abort, transfer, options) => {
                                                           return {
                                                           abort:() => {}
                                                         }
                                                       }
                                                       */

    // apiUrl, action, name, file, metadata, load, error, progress, abort, transfer, options
    var processFileChunked = function processFileChunked(
        apiUrl,
        action,
        name,
        file,
        metadata,
        load,
        error,
        progress,
        abort,
        transfer,
        options
    ) {
        // all chunks
        var chunks = [];
        var chunkTransferId = options.chunkTransferId,
            chunkServer = options.chunkServer,
            chunkSize = options.chunkSize,
            chunkRetryDelays = options.chunkRetryDelays;

        // default state
        var state = {
            serverId: chunkTransferId,
            aborted: false,
        };

        // set onload handlers
        var ondata =
            action.ondata ||
            function(fd) {
                return fd;
            };
        var onload =
            action.onload ||
            function(xhr, method) {
                return method === 'HEAD' ? xhr.getResponseHeader('Upload-Offset') : xhr.response;
            };
        var onerror =
            action.onerror ||
            function(res) {
                return null;
            };

        // create server hook
        var requestTransferId = function requestTransferId(cb) {
            var formData = new FormData();

            // add metadata under same name
            if (isObject(metadata)) formData.append(name, JSON.stringify(metadata));

            var headers =
                typeof action.headers === 'function'
                    ? action.headers(file, metadata)
                    : Object.assign({}, action.headers, {
                          'Upload-Length': file.size,
                      });

            var requestParams = Object.assign({}, action, {
                headers: headers,
            });

            // send request object
            var request = sendRequest(
                ondata(formData),
                buildURL(apiUrl, action.url),
                requestParams
            );

            request.onload = function(xhr) {
                return cb(onload(xhr, requestParams.method));
            };

            request.onerror = function(xhr) {
                return error(
                    createResponse(
                        'error',
                        xhr.status,
                        onerror(xhr.response) || xhr.statusText,
                        xhr.getAllResponseHeaders()
                    )
                );
            };

            request.ontimeout = createTimeoutResponse(error);
        };

        var requestTransferOffset = function requestTransferOffset(cb) {
            var requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);

            var headers =
                typeof action.headers === 'function'
                    ? action.headers(state.serverId)
                    : Object.assign({}, action.headers);

            var requestParams = {
                headers: headers,
                method: 'HEAD',
            };

            var request = sendRequest(null, requestUrl, requestParams);

            request.onload = function(xhr) {
                return cb(onload(xhr, requestParams.method));
            };

            request.onerror = function(xhr) {
                return error(
                    createResponse(
                        'error',
                        xhr.status,
                        onerror(xhr.response) || xhr.statusText,
                        xhr.getAllResponseHeaders()
                    )
                );
            };

            request.ontimeout = createTimeoutResponse(error);
        };

        // create chunks
        var lastChunkIndex = Math.floor(file.size / chunkSize);
        for (var i = 0; i <= lastChunkIndex; i++) {
            var offset = i * chunkSize;
            var data = file.slice(offset, offset + chunkSize, 'application/offset+octet-stream');
            chunks[i] = {
                index: i,
                size: data.size,
                offset: offset,
                data: data,
                file: file,
                progress: 0,
                retries: _toConsumableArray(chunkRetryDelays),
                status: ChunkStatus.QUEUED,
                error: null,
                request: null,
                timeout: null,
            };
        }

        var completeProcessingChunks = function completeProcessingChunks() {
            return load(state.serverId);
        };

        var canProcessChunk = function canProcessChunk(chunk) {
            return chunk.status === ChunkStatus.QUEUED || chunk.status === ChunkStatus.ERROR;
        };

        var processChunk = function processChunk(chunk) {
            // processing is paused, wait here
            if (state.aborted) return;

            // get next chunk to process
            chunk = chunk || chunks.find(canProcessChunk);

            // no more chunks to process
            if (!chunk) {
                // all done?
                if (
                    chunks.every(function(chunk) {
                        return chunk.status === ChunkStatus.COMPLETE;
                    })
                ) {
                    completeProcessingChunks();
                }

                // no chunk to handle
                return;
            }

            // now processing this chunk
            chunk.status = ChunkStatus.PROCESSING;
            chunk.progress = null;

            // allow parsing of formdata
            var ondata =
                chunkServer.ondata ||
                function(fd) {
                    return fd;
                };
            var onerror =
                chunkServer.onerror ||
                function(res) {
                    return null;
                };

            // send request object
            var requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);

            var headers =
                typeof chunkServer.headers === 'function'
                    ? chunkServer.headers(chunk)
                    : Object.assign({}, chunkServer.headers, {
                          'Content-Type': 'application/offset+octet-stream',
                          'Upload-Offset': chunk.offset,
                          'Upload-Length': file.size,
                          'Upload-Name': file.name,
                      });

            var request = (chunk.request = sendRequest(
                ondata(chunk.data),
                requestUrl,
                Object.assign({}, chunkServer, {
                    headers: headers,
                })
            ));

            request.onload = function() {
                // done!
                chunk.status = ChunkStatus.COMPLETE;

                // remove request reference
                chunk.request = null;

                // start processing more chunks
                processChunks();
            };

            request.onprogress = function(lengthComputable, loaded, total) {
                chunk.progress = lengthComputable ? loaded : null;
                updateTotalProgress();
            };

            request.onerror = function(xhr) {
                chunk.status = ChunkStatus.ERROR;
                chunk.request = null;
                chunk.error = onerror(xhr.response) || xhr.statusText;
                if (!retryProcessChunk(chunk)) {
                    error(
                        createResponse(
                            'error',
                            xhr.status,
                            onerror(xhr.response) || xhr.statusText,
                            xhr.getAllResponseHeaders()
                        )
                    );
                }
            };

            request.ontimeout = function(xhr) {
                chunk.status = ChunkStatus.ERROR;
                chunk.request = null;
                if (!retryProcessChunk(chunk)) {
                    createTimeoutResponse(error)(xhr);
                }
            };

            request.onabort = function() {
                chunk.status = ChunkStatus.QUEUED;
                chunk.request = null;
                abort();
            };
        };

        var retryProcessChunk = function retryProcessChunk(chunk) {
            // no more retries left
            if (chunk.retries.length === 0) return false;

            // new retry
            chunk.status = ChunkStatus.WAITING;
            clearTimeout(chunk.timeout);
            chunk.timeout = setTimeout(function() {
                processChunk(chunk);
            }, chunk.retries.shift());

            // we're going to retry
            return true;
        };

        var updateTotalProgress = function updateTotalProgress() {
            // calculate total progress fraction
            var totalBytesTransfered = chunks.reduce(function(p, chunk) {
                if (p === null || chunk.progress === null) return null;
                return p + chunk.progress;
            }, 0);

            // can't compute progress
            if (totalBytesTransfered === null) return progress(false, 0, 0);

            // calculate progress values
            var totalSize = chunks.reduce(function(total, chunk) {
                return total + chunk.size;
            }, 0);

            // can update progress indicator
            progress(true, totalBytesTransfered, totalSize);
        };

        // process new chunks
        var processChunks = function processChunks() {
            var totalProcessing = chunks.filter(function(chunk) {
                return chunk.status === ChunkStatus.PROCESSING;
            }).length;
            if (totalProcessing >= 1) return;
            processChunk();
        };

        var abortChunks = function abortChunks() {
            chunks.forEach(function(chunk) {
                clearTimeout(chunk.timeout);
                if (chunk.request) {
                    chunk.request.abort();
                }
            });
        };

        // let's go!
        if (!state.serverId) {
            requestTransferId(function(serverId) {
                // stop here if aborted, might have happened in between request and callback
                if (state.aborted) return;

                // pass back to item so we can use it if something goes wrong
                transfer(serverId);

                // store internally
                state.serverId = serverId;
                processChunks();
            });
        } else {
            requestTransferOffset(function(offset) {
                // stop here if aborted, might have happened in between request and callback
                if (state.aborted) return;

                // mark chunks with lower offset as complete
                chunks
                    .filter(function(chunk) {
                        return chunk.offset < offset;
                    })
                    .forEach(function(chunk) {
                        chunk.status = ChunkStatus.COMPLETE;
                        chunk.progress = chunk.size;
                    });

                // continue processing
                processChunks();
            });
        }

        return {
            abort: function abort() {
                state.aborted = true;
                abortChunks();
            },
        };
    };

    /*
                                                               function signature:
                                                                 (file, metadata, load, error, progress, abort) => {
                                                                   return {
                                                                   abort:() => {}
                                                                 }
                                                               }
                                                               */
    var createFileProcessorFunction = function createFileProcessorFunction(
        apiUrl,
        action,
        name,
        options
    ) {
        return function(file, metadata, load, error, progress, abort, transfer) {
            // no file received
            if (!file) return;

            // if was passed a file, and we can chunk it, exit here
            var canChunkUpload = options.chunkUploads;
            var shouldChunkUpload = canChunkUpload && file.size > options.chunkSize;
            var willChunkUpload = canChunkUpload && (shouldChunkUpload || options.chunkForce);
            if (file instanceof Blob && willChunkUpload)
                return processFileChunked(
                    apiUrl,
                    action,
                    name,
                    file,
                    metadata,
                    load,
                    error,
                    progress,
                    abort,
                    transfer,
                    options
                );

            // set handlers
            var ondata =
                action.ondata ||
                function(fd) {
                    return fd;
                };
            var onload =
                action.onload ||
                function(res) {
                    return res;
                };
            var onerror =
                action.onerror ||
                function(res) {
                    return null;
                };

            var headers =
                typeof action.headers === 'function'
                    ? action.headers(file, metadata) || {}
                    : Object.assign(
                          {},

                          action.headers
                      );

            var requestParams = Object.assign({}, action, {
                headers: headers,
            });

            // create formdata object
            var formData = new FormData();

            // add metadata under same name
            if (isObject(metadata)) {
                formData.append(name, JSON.stringify(metadata));
            }

            // Turn into an array of objects so no matter what the input, we can handle it the same way
            (file instanceof Blob ? [{ name: null, file: file }] : file).forEach(function(item) {
                formData.append(
                    name,
                    item.file,
                    item.name === null ? item.file.name : '' + item.name + item.file.name
                );
            });

            // send request object
            var request = sendRequest(
                ondata(formData),
                buildURL(apiUrl, action.url),
                requestParams
            );
            request.onload = function(xhr) {
                load(
                    createResponse(
                        'load',
                        xhr.status,
                        onload(xhr.response),
                        xhr.getAllResponseHeaders()
                    )
                );
            };

            request.onerror = function(xhr) {
                error(
                    createResponse(
                        'error',
                        xhr.status,
                        onerror(xhr.response) || xhr.statusText,
                        xhr.getAllResponseHeaders()
                    )
                );
            };

            request.ontimeout = createTimeoutResponse(error);
            request.onprogress = progress;
            request.onabort = abort;

            // should return request
            return request;
        };
    };

    var createProcessorFunction = function createProcessorFunction() {
        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
        var action = arguments.length > 1 ? arguments[1] : undefined;
        var name = arguments.length > 2 ? arguments[2] : undefined;
        var options = arguments.length > 3 ? arguments[3] : undefined;

        // custom handler (should also handle file, load, error, progress and abort)
        if (typeof action === 'function')
            return function() {
                for (
                    var _len = arguments.length, params = new Array(_len), _key = 0;
                    _key < _len;
                    _key++
                ) {
                    params[_key] = arguments[_key];
                }
                return action.apply(void 0, [name].concat(params, [options]));
            };

        // no action supplied
        if (!action || !isString(action.url)) return null;

        // internal handler
        return createFileProcessorFunction(apiUrl, action, name, options);
    };

    /*
                                                      function signature:
                                                      (uniqueFileId, load, error) => { }
                                                      */
    var createRevertFunction = function createRevertFunction() {
        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
        var action = arguments.length > 1 ? arguments[1] : undefined;
        // is custom implementation
        if (typeof action === 'function') {
            return action;
        }

        // no action supplied, return stub function, interface will work, but file won't be removed
        if (!action || !isString(action.url)) {
            return function(uniqueFileId, load) {
                return load();
            };
        }

        // set onload hanlder
        var onload =
            action.onload ||
            function(res) {
                return res;
            };
        var onerror =
            action.onerror ||
            function(res) {
                return null;
            };

        // internal implementation
        return function(uniqueFileId, load, error) {
            var request = sendRequest(
                uniqueFileId,
                apiUrl + action.url,
                action // contains method, headers and withCredentials properties
            );
            request.onload = function(xhr) {
                load(
                    createResponse(
                        'load',
                        xhr.status,
                        onload(xhr.response),
                        xhr.getAllResponseHeaders()
                    )
                );
            };

            request.onerror = function(xhr) {
                error(
                    createResponse(
                        'error',
                        xhr.status,
                        onerror(xhr.response) || xhr.statusText,
                        xhr.getAllResponseHeaders()
                    )
                );
            };

            request.ontimeout = createTimeoutResponse(error);

            return request;
        };
    };

    var getRandomNumber = function getRandomNumber() {
        var min = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
        var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;
        return min + Math.random() * (max - min);
    };

    var createPerceivedPerformanceUpdater = function createPerceivedPerformanceUpdater(cb) {
        var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;
        var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
        var tickMin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 25;
        var tickMax = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 250;
        var timeout = null;
        var start = Date.now();

        var tick = function tick() {
            var runtime = Date.now() - start;
            var delay = getRandomNumber(tickMin, tickMax);

            if (runtime + delay > duration) {
                delay = runtime + delay - duration;
            }

            var progress = runtime / duration;
            if (progress >= 1 || document.hidden) {
                cb(1);
                return;
            }

            cb(progress);

            timeout = setTimeout(tick, delay);
        };

        if (duration > 0) tick();

        return {
            clear: function clear() {
                clearTimeout(timeout);
            },
        };
    };

    var createFileProcessor = function createFileProcessor(processFn, options) {
        var state = {
            complete: false,
            perceivedProgress: 0,
            perceivedPerformanceUpdater: null,
            progress: null,
            timestamp: null,
            perceivedDuration: 0,
            duration: 0,
            request: null,
            response: null,
        };
        var allowMinimumUploadDuration = options.allowMinimumUploadDuration;

        var process = function process(file, metadata) {
            var progressFn = function progressFn() {
                // we've not yet started the real download, stop here
                // the request might not go through, for instance, there might be some server trouble
                // if state.progress is null, the server does not allow computing progress and we show the spinner instead
                if (state.duration === 0 || state.progress === null) return;

                // as we're now processing, fire the progress event
                api.fire('progress', api.getProgress());
            };

            var completeFn = function completeFn() {
                state.complete = true;
                api.fire('load-perceived', state.response.body);
            };

            // let's start processing
            api.fire('start');

            // set request start
            state.timestamp = Date.now();

            // create perceived performance progress indicator
            state.perceivedPerformanceUpdater = createPerceivedPerformanceUpdater(
                function(progress) {
                    state.perceivedProgress = progress;
                    state.perceivedDuration = Date.now() - state.timestamp;

                    progressFn();

                    // if fake progress is done, and a response has been received,
                    // and we've not yet called the complete method
                    if (state.response && state.perceivedProgress === 1 && !state.complete) {
                        // we done!
                        completeFn();
                    }
                },
                // random delay as in a list of files you start noticing
                // files uploading at the exact same speed
                allowMinimumUploadDuration ? getRandomNumber(750, 1500) : 0
            );

            // remember request so we can abort it later
            state.request = processFn(
                // the file to process
                file,

                // the metadata to send along
                metadata,

                // callbacks (load, error, progress, abort, transfer)
                // load expects the body to be a server id if
                // you want to make use of revert
                function(response) {
                    // we put the response in state so we can access
                    // it outside of this method
                    state.response = isObject(response)
                        ? response
                        : {
                              type: 'load',
                              code: 200,
                              body: '' + response,
                              headers: {},
                          };

                    // update duration
                    state.duration = Date.now() - state.timestamp;

                    // force progress to 1 as we're now done
                    state.progress = 1;

                    // actual load is done let's share results
                    api.fire('load', state.response.body);

                    // we are really done
                    // if perceived progress is 1 ( wait for perceived progress to complete )
                    // or if server does not support progress ( null )
                    if (
                        !allowMinimumUploadDuration ||
                        (allowMinimumUploadDuration && state.perceivedProgress === 1)
                    ) {
                        completeFn();
                    }
                },

                // error is expected to be an object with type, code, body
                function(error) {
                    // cancel updater
                    state.perceivedPerformanceUpdater.clear();

                    // update others about this error
                    api.fire(
                        'error',
                        isObject(error)
                            ? error
                            : {
                                  type: 'error',
                                  code: 0,
                                  body: '' + error,
                              }
                    );
                },

                // actual processing progress
                function(computable, current, total) {
                    // update actual duration
                    state.duration = Date.now() - state.timestamp;

                    // update actual progress
                    state.progress = computable ? current / total : null;

                    progressFn();
                },

                // abort does not expect a value
                function() {
                    // stop updater
                    state.perceivedPerformanceUpdater.clear();

                    // fire the abort event so we can switch visuals
                    api.fire('abort', state.response ? state.response.body : null);
                },

                // register the id for this transfer
                function(transferId) {
                    api.fire('transfer', transferId);
                }
            );
        };

        var abort = function abort() {
            // no request running, can't abort
            if (!state.request) return;

            // stop updater
            state.perceivedPerformanceUpdater.clear();

            // abort actual request
            if (state.request.abort) state.request.abort();

            // if has response object, we've completed the request
            state.complete = true;
        };

        var reset = function reset() {
            abort();
            state.complete = false;
            state.perceivedProgress = 0;
            state.progress = 0;
            state.timestamp = null;
            state.perceivedDuration = 0;
            state.duration = 0;
            state.request = null;
            state.response = null;
        };

        var getProgress = allowMinimumUploadDuration
            ? function() {
                  return state.progress ? Math.min(state.progress, state.perceivedProgress) : null;
              }
            : function() {
                  return state.progress || null;
              };

        var getDuration = allowMinimumUploadDuration
            ? function() {
                  return Math.min(state.duration, state.perceivedDuration);
              }
            : function() {
                  return state.duration;
              };

        var api = Object.assign({}, on(), {
            process: process, // start processing file
            abort: abort, // abort active process request
            getProgress: getProgress,
            getDuration: getDuration,
            reset: reset,
        });

        return api;
    };

    var getFilenameWithoutExtension = function getFilenameWithoutExtension(name) {
        return name.substring(0, name.lastIndexOf('.')) || name;
    };

    var createFileStub = function createFileStub(source) {
        var data = [source.name, source.size, source.type];

        // is blob or base64, then we need to set the name
        if (source instanceof Blob || isBase64DataURI(source)) {
            data[0] = source.name || getDateString();
        } else if (isBase64DataURI(source)) {
            // if is base64 data uri we need to determine the average size and type
            data[1] = source.length;
            data[2] = getMimeTypeFromBase64DataURI(source);
        } else if (isString(source)) {
            // url
            data[0] = getFilenameFromURL(source);
            data[1] = 0;
            data[2] = 'application/octet-stream';
        }

        return {
            name: data[0],
            size: data[1],
            type: data[2],
        };
    };

    var isFile = function isFile(value) {
        return !!(value instanceof File || (value instanceof Blob && value.name));
    };

    var deepCloneObject = function deepCloneObject(src) {
        if (!isObject(src)) return src;
        var target = isArray(src) ? [] : {};
        for (var key in src) {
            if (!src.hasOwnProperty(key)) continue;
            var v = src[key];
            target[key] = v && isObject(v) ? deepCloneObject(v) : v;
        }
        return target;
    };

    var createItem = function createItem() {
        var origin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
        var serverFileReference =
            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
        var file = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
        // unique id for this item, is used to identify the item across views
        var id = getUniqueId();

        /**
         * Internal item state
         */
        var state = {
            // is archived
            archived: false,

            // if is frozen, no longer fires events
            frozen: false,

            // removed from view
            released: false,

            // original source
            source: null,

            // file model reference
            file: file,

            // id of file on server
            serverFileReference: serverFileReference,

            // id of file transfer on server
            transferId: null,

            // is aborted
            processingAborted: false,

            // current item status
            status: serverFileReference ? ItemStatus.PROCESSING_COMPLETE : ItemStatus.INIT,

            // active processes
            activeLoader: null,
            activeProcessor: null,
        };

        // callback used when abort processing is called to link back to the resolve method
        var abortProcessingRequestComplete = null;

        /**
         * Externally added item metadata
         */
        var metadata = {};

        // item data
        var setStatus = function setStatus(status) {
            return (state.status = status);
        };

        // fire event unless the item has been archived
        var fire = function fire(event) {
            if (state.released || state.frozen) return;
            for (
                var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1;
                _key < _len;
                _key++
            ) {
                params[_key - 1] = arguments[_key];
            }
            api.fire.apply(api, [event].concat(params));
        };

        // file data
        var getFileExtension = function getFileExtension() {
            return getExtensionFromFilename(state.file.name);
        };
        var getFileType = function getFileType() {
            return state.file.type;
        };
        var getFileSize = function getFileSize() {
            return state.file.size;
        };
        var getFile = function getFile() {
            return state.file;
        };

        //
        // logic to load a file
        //
        var load = function load(source, loader, onload) {
            // remember the original item source
            state.source = source;

            // source is known
            api.fireSync('init');

            // file stub is already there
            if (state.file) {
                api.fireSync('load-skip');
                return;
            }

            // set a stub file object while loading the actual data
            state.file = createFileStub(source);

            // starts loading
            loader.on('init', function() {
                fire('load-init');
            });

            // we'eve received a size indication, let's update the stub
            loader.on('meta', function(meta) {
                // set size of file stub
                state.file.size = meta.size;

                // set name of file stub
                state.file.filename = meta.filename;

                // if has received source, we done
                if (meta.source) {
                    origin = FileOrigin.LIMBO;
                    state.serverFileReference = meta.source;
                    state.status = ItemStatus.PROCESSING_COMPLETE;
                }

                // size has been updated
                fire('load-meta');
            });

            // the file is now loading we need to update the progress indicators
            loader.on('progress', function(progress) {
                setStatus(ItemStatus.LOADING);

                fire('load-progress', progress);
            });

            // an error was thrown while loading the file, we need to switch to error state
            loader.on('error', function(error) {
                setStatus(ItemStatus.LOAD_ERROR);

                fire('load-request-error', error);
            });

            // user or another process aborted the file load (cannot retry)
            loader.on('abort', function() {
                setStatus(ItemStatus.INIT);
                fire('load-abort');
            });

            // done loading
            loader.on('load', function(file) {
                // as we've now loaded the file the loader is no longer required
                state.activeLoader = null;

                // called when file has loaded succesfully
                var success = function success(result) {
                    // set (possibly) transformed file
                    state.file = isFile(result) ? result : state.file;

                    // file received
                    if (origin === FileOrigin.LIMBO && state.serverFileReference) {
                        setStatus(ItemStatus.PROCESSING_COMPLETE);
                    } else {
                        setStatus(ItemStatus.IDLE);
                    }

                    fire('load');
                };

                var error = function error(result) {
                    // set original file
                    state.file = file;
                    fire('load-meta');

                    setStatus(ItemStatus.LOAD_ERROR);
                    fire('load-file-error', result);
                };

                // if we already have a server file reference, we don't need to call the onload method
                if (state.serverFileReference) {
                    success(file);
                    return;
                }

                // no server id, let's give this file the full treatment
                onload(file, success, error);
            });

            // set loader source data
            loader.setSource(source);

            // set as active loader
            state.activeLoader = loader;

            // load the source data
            loader.load();
        };

        var retryLoad = function retryLoad() {
            if (!state.activeLoader) {
                return;
            }
            state.activeLoader.load();
        };

        var abortLoad = function abortLoad() {
            if (state.activeLoader) {
                state.activeLoader.abort();
                return;
            }
            setStatus(ItemStatus.INIT);
            fire('load-abort');
        };

        //
        // logic to process a file
        //
        var process = function process(processor, onprocess) {
            // processing was aborted
            if (state.processingAborted) {
                state.processingAborted = false;
                return;
            }

            // now processing
            setStatus(ItemStatus.PROCESSING);

            // reset abort callback
            abortProcessingRequestComplete = null;

            // if no file loaded we'll wait for the load event
            if (!(state.file instanceof Blob)) {
                api.on('load', function() {
                    process(processor, onprocess);
                });
                return;
            }

            // setup processor
            processor.on('load', function(serverFileReference) {
                // need this id to be able to revert the upload
                state.transferId = null;
                state.serverFileReference = serverFileReference;
            });

            // register transfer id
            processor.on('transfer', function(transferId) {
                // need this id to be able to revert the upload
                state.transferId = transferId;
            });

            processor.on('load-perceived', function(serverFileReference) {
                // no longer required
                state.activeProcessor = null;

                // need this id to be able to rever the upload
                state.transferId = null;
                state.serverFileReference = serverFileReference;

                setStatus(ItemStatus.PROCESSING_COMPLETE);
                fire('process-complete', serverFileReference);
            });

            processor.on('start', function() {
                fire('process-start');
            });

            processor.on('error', function(error) {
                state.activeProcessor = null;
                setStatus(ItemStatus.PROCESSING_ERROR);
                fire('process-error', error);
            });

            processor.on('abort', function(serverFileReference) {
                state.activeProcessor = null;

                // if file was uploaded but processing was cancelled during perceived processor time store file reference
                state.serverFileReference = serverFileReference;

                setStatus(ItemStatus.IDLE);
                fire('process-abort');

                // has timeout so doesn't interfere with remove action
                if (abortProcessingRequestComplete) {
                    abortProcessingRequestComplete();
                }
            });

            processor.on('progress', function(progress) {
                fire('process-progress', progress);
            });

            // when successfully transformed
            var success = function success(file) {
                // if was archived in the mean time, don't process
                if (state.archived) return;

                // process file!
                processor.process(file, Object.assign({}, metadata));
            };

            // something went wrong during transform phase
            var error = console.error;

            // start processing the file
            onprocess(state.file, success, error);

            // set as active processor
            state.activeProcessor = processor;
        };

        var requestProcessing = function requestProcessing() {
            state.processingAborted = false;
            setStatus(ItemStatus.PROCESSING_QUEUED);
        };

        var abortProcessing = function abortProcessing() {
            return new Promise(function(resolve) {
                if (!state.activeProcessor) {
                    state.processingAborted = true;

                    setStatus(ItemStatus.IDLE);
                    fire('process-abort');

                    resolve();
                    return;
                }

                abortProcessingRequestComplete = function abortProcessingRequestComplete() {
                    resolve();
                };

                state.activeProcessor.abort();
            });
        };

        //
        // logic to revert a processed file
        //
        var revert = function revert(revertFileUpload, forceRevert) {
            return new Promise(function(resolve, reject) {
                // a completed upload will have a serverFileReference, a failed chunked upload where
                // getting a serverId succeeded but >=0 chunks have been uploaded will have transferId set
                var serverTransferId =
                    state.serverFileReference !== null
                        ? state.serverFileReference
                        : state.transferId;

                // cannot revert without a server id for this process
                if (serverTransferId === null) {
                    resolve();
                    return;
                }

                // revert the upload (fire and forget)
                revertFileUpload(
                    serverTransferId,
                    function() {
                        // reset file server id and transfer id as now it's not available on the server
                        state.serverFileReference = null;
                        state.transferId = null;
                        resolve();
                    },
                    function(error) {
                        // don't set error state when reverting is optional, it will always resolve
                        if (!forceRevert) {
                            resolve();
                            return;
                        }

                        // oh no errors
                        setStatus(ItemStatus.PROCESSING_REVERT_ERROR);
                        fire('process-revert-error');
                        reject(error);
                    }
                );

                // fire event
                setStatus(ItemStatus.IDLE);
                fire('process-revert');
            });
        };

        // exposed methods
        var _setMetadata = function setMetadata(key, value, silent) {
            var keys = key.split('.');
            var root = keys[0];
            var last = keys.pop();
            var data = metadata;
            keys.forEach(function(key) {
                return (data = data[key]);
            });

            // compare old value against new value, if they're the same, we're not updating
            if (JSON.stringify(data[last]) === JSON.stringify(value)) return;

            // update value
            data[last] = value;

            // fire update
            fire('metadata-update', {
                key: root,
                value: metadata[root],
                silent: silent,
            });
        };

        var getMetadata = function getMetadata(key) {
            return deepCloneObject(key ? metadata[key] : metadata);
        };

        var api = Object.assign(
            {
                id: {
                    get: function get() {
                        return id;
                    },
                },
                origin: {
                    get: function get() {
                        return origin;
                    },
                    set: function set(value) {
                        return (origin = value);
                    },
                },
                serverId: {
                    get: function get() {
                        return state.serverFileReference;
                    },
                },
                transferId: {
                    get: function get() {
                        return state.transferId;
                    },
                },
                status: {
                    get: function get() {
                        return state.status;
                    },
                },
                filename: {
                    get: function get() {
                        return state.file.name;
                    },
                },
                filenameWithoutExtension: {
                    get: function get() {
                        return getFilenameWithoutExtension(state.file.name);
                    },
                },
                fileExtension: { get: getFileExtension },
                fileType: { get: getFileType },
                fileSize: { get: getFileSize },
                file: { get: getFile },
                relativePath: {
                    get: function get() {
                        return state.file._relativePath;
                    },
                },

                source: {
                    get: function get() {
                        return state.source;
                    },
                },

                getMetadata: getMetadata,
                setMetadata: function setMetadata(key, value, silent) {
                    if (isObject(key)) {
                        var data = key;
                        Object.keys(data).forEach(function(key) {
                            _setMetadata(key, data[key], value);
                        });
                        return key;
                    }
                    _setMetadata(key, value, silent);
                    return value;
                },

                extend: function extend(name, handler) {
                    return (itemAPI[name] = handler);
                },

                abortLoad: abortLoad,
                retryLoad: retryLoad,
                requestProcessing: requestProcessing,
                abortProcessing: abortProcessing,

                load: load,
                process: process,
                revert: revert,
            },

            on(),
            {
                freeze: function freeze() {
                    return (state.frozen = true);
                },

                release: function release() {
                    return (state.released = true);
                },
                released: {
                    get: function get() {
                        return state.released;
                    },
                },

                archive: function archive() {
                    return (state.archived = true);
                },
                archived: {
                    get: function get() {
                        return state.archived;
                    },
                },
            }
        );

        // create it here instead of returning it instantly so we can extend it later
        var itemAPI = createObject(api);

        return itemAPI;
    };

    var getItemIndexByQuery = function getItemIndexByQuery(items, query) {
        // just return first index
        if (isEmpty(query)) {
            return 0;
        }

        // invalid queries
        if (!isString(query)) {
            return -1;
        }

        // return item by id (or -1 if not found)
        return items.findIndex(function(item) {
            return item.id === query;
        });
    };

    var getItemById = function getItemById(items, itemId) {
        var index = getItemIndexByQuery(items, itemId);
        if (index < 0) {
            return;
        }
        return items[index] || null;
    };

    var fetchBlob = function fetchBlob(url, load, error, progress, abort, headers) {
        var request = sendRequest(null, url, {
            method: 'GET',
            responseType: 'blob',
        });

        request.onload = function(xhr) {
            // get headers
            var headers = xhr.getAllResponseHeaders();

            // get filename
            var filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);

            // create response
            load(
                createResponse('load', xhr.status, getFileFromBlob(xhr.response, filename), headers)
            );
        };

        request.onerror = function(xhr) {
            error(createResponse('error', xhr.status, xhr.statusText, xhr.getAllResponseHeaders()));
        };

        request.onheaders = function(xhr) {
            headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));
        };

        request.ontimeout = createTimeoutResponse(error);
        request.onprogress = progress;
        request.onabort = abort;

        // should return request
        return request;
    };

    var getDomainFromURL = function getDomainFromURL(url) {
        if (url.indexOf('//') === 0) {
            url = location.protocol + url;
        }
        return url
            .toLowerCase()
            .replace('blob:', '')
            .replace(/([a-z])?:\/\//, '$1')
            .split('/')[0];
    };

    var isExternalURL = function isExternalURL(url) {
        return (
            (url.indexOf(':') > -1 || url.indexOf('//') > -1) &&
            getDomainFromURL(location.href) !== getDomainFromURL(url)
        );
    };

    var dynamicLabel = function dynamicLabel(label) {
        return function() {
            return isFunction(label) ? label.apply(void 0, arguments) : label;
        };
    };

    var isMockItem = function isMockItem(item) {
        return !isFile(item.file);
    };

    var listUpdated = function listUpdated(dispatch, state) {
        clearTimeout(state.listUpdateTimeout);
        state.listUpdateTimeout = setTimeout(function() {
            dispatch('DID_UPDATE_ITEMS', { items: getActiveItems(state.items) });
        }, 0);
    };

    var optionalPromise = function optionalPromise(fn) {
        for (
            var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1;
            _key < _len;
            _key++
        ) {
            params[_key - 1] = arguments[_key];
        }
        return new Promise(function(resolve) {
            if (!fn) {
                return resolve(true);
            }

            var result = fn.apply(void 0, params);

            if (result == null) {
                return resolve(true);
            }

            if (typeof result === 'boolean') {
                return resolve(result);
            }

            if (typeof result.then === 'function') {
                result.then(resolve);
            }
        });
    };

    var sortItems = function sortItems(state, compare) {
        state.items.sort(function(a, b) {
            return compare(createItemAPI(a), createItemAPI(b));
        });
    };

    // returns item based on state
    var getItemByQueryFromState = function getItemByQueryFromState(state, itemHandler) {
        return function() {
            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
            var query = _ref.query,
                _ref$success = _ref.success,
                success = _ref$success === void 0 ? function() {} : _ref$success,
                _ref$failure = _ref.failure,
                failure = _ref$failure === void 0 ? function() {} : _ref$failure,
                options = _objectWithoutProperties(_ref, ['query', 'success', 'failure']);
            var item = getItemByQuery(state.items, query);
            if (!item) {
                failure({
                    error: createResponse('error', 0, 'Item not found'),
                    file: null,
                });

                return;
            }
            itemHandler(item, success, failure, options || {});
        };
    };

    var actions = function actions(dispatch, query, state) {
        return {
            /**
             * Aborts all ongoing processes
             */
            ABORT_ALL: function ABORT_ALL() {
                getActiveItems(state.items).forEach(function(item) {
                    item.freeze();
                    item.abortLoad();
                    item.abortProcessing();
                });
            },

            /**
             * Sets initial files
             */
            DID_SET_FILES: function DID_SET_FILES(_ref2) {
                var _ref2$value = _ref2.value,
                    value = _ref2$value === void 0 ? [] : _ref2$value;
                // map values to file objects
                var files = value.map(function(file) {
                    return {
                        source: file.source ? file.source : file,
                        options: file.options,
                    };
                });

                // loop over files, if file is in list, leave it be, if not, remove
                // test if items should be moved
                var activeItems = getActiveItems(state.items);

                activeItems.forEach(function(item) {
                    // if item not is in new value, remove
                    if (
                        !files.find(function(file) {
                            return file.source === item.source || file.source === item.file;
                        })
                    ) {
                        dispatch('REMOVE_ITEM', { query: item, remove: false });
                    }
                });

                // add new files
                activeItems = getActiveItems(state.items);
                files.forEach(function(file, index) {
                    // if file is already in list
                    if (
                        activeItems.find(function(item) {
                            return item.source === file.source || item.file === file.source;
                        })
                    )
                        return;

                    // not in list, add
                    dispatch(
                        'ADD_ITEM',
                        Object.assign({}, file, {
                            interactionMethod: InteractionMethod.NONE,
                            index: index,
                        })
                    );
                });
            },

            DID_UPDATE_ITEM_METADATA: function DID_UPDATE_ITEM_METADATA(_ref3) {
                var id = _ref3.id,
                    action = _ref3.action,
                    change = _ref3.change;
                // don't do anything
                if (change.silent) return;

                // if is called multiple times in close succession we combined all calls together to save resources
                clearTimeout(state.itemUpdateTimeout);
                state.itemUpdateTimeout = setTimeout(function() {
                    var item = getItemById(state.items, id);

                    // only revert and attempt to upload when we're uploading to a server
                    if (!query('IS_ASYNC')) {
                        // should we update the output data
                        applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {
                            item: item,
                            query: query,
                            action: action,
                            change: change,
                        }).then(function(shouldPrepareOutput) {
                            // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook
                            var beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');
                            if (beforePrepareFile)
                                shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);

                            if (!shouldPrepareOutput) return;

                            dispatch(
                                'REQUEST_PREPARE_OUTPUT',
                                {
                                    query: id,
                                    item: item,
                                    success: function success(file) {
                                        dispatch('DID_PREPARE_OUTPUT', { id: id, file: file });
                                    },
                                },

                                true
                            );
                        });

                        return;
                    }

                    // if is local item we need to enable upload button so change can be propagated to server
                    if (item.origin === FileOrigin.LOCAL) {
                        dispatch('DID_LOAD_ITEM', {
                            id: item.id,
                            error: null,
                            serverFileReference: item.source,
                        });
                    }

                    // for async scenarios
                    var upload = function upload() {
                        // we push this forward a bit so the interface is updated correctly
                        setTimeout(function() {
                            dispatch('REQUEST_ITEM_PROCESSING', { query: id });
                        }, 32);
                    };

                    var revert = function revert(doUpload) {
                        item.revert(
                            createRevertFunction(
                                state.options.server.url,
                                state.options.server.revert
                            ),
                            query('GET_FORCE_REVERT')
                        )
                            .then(doUpload ? upload : function() {})
                            .catch(function() {});
                    };

                    var abort = function abort(doUpload) {
                        item.abortProcessing().then(doUpload ? upload : function() {});
                    };

                    // if we should re-upload the file immediately
                    if (item.status === ItemStatus.PROCESSING_COMPLETE) {
                        return revert(state.options.instantUpload);
                    }

                    // if currently uploading, cancel upload
                    if (item.status === ItemStatus.PROCESSING) {
                        return abort(state.options.instantUpload);
                    }

                    if (state.options.instantUpload) {
                        upload();
                    }
                }, 0);
            },

            MOVE_ITEM: function MOVE_ITEM(_ref4) {
                var query = _ref4.query,
                    index = _ref4.index;
                var item = getItemByQuery(state.items, query);
                if (!item) return;
                var currentIndex = state.items.indexOf(item);
                index = limit(index, 0, state.items.length - 1);
                if (currentIndex === index) return;
                state.items.splice(index, 0, state.items.splice(currentIndex, 1)[0]);
            },

            SORT: function SORT(_ref5) {
                var compare = _ref5.compare;
                sortItems(state, compare);
                dispatch('DID_SORT_ITEMS', {
                    items: query('GET_ACTIVE_ITEMS'),
                });
            },

            ADD_ITEMS: function ADD_ITEMS(_ref6) {
                var items = _ref6.items,
                    index = _ref6.index,
                    interactionMethod = _ref6.interactionMethod,
                    _ref6$success = _ref6.success,
                    success = _ref6$success === void 0 ? function() {} : _ref6$success,
                    _ref6$failure = _ref6.failure,
                    failure = _ref6$failure === void 0 ? function() {} : _ref6$failure;
                var currentIndex = index;

                if (index === -1 || typeof index === 'undefined') {
                    var insertLocation = query('GET_ITEM_INSERT_LOCATION');
                    var totalItems = query('GET_TOTAL_ITEMS');
                    currentIndex = insertLocation === 'before' ? 0 : totalItems;
                }

                var ignoredFiles = query('GET_IGNORED_FILES');
                var isValidFile = function isValidFile(source) {
                    return isFile(source)
                        ? !ignoredFiles.includes(source.name.toLowerCase())
                        : !isEmpty(source);
                };
                var validItems = items.filter(isValidFile);

                var promises = validItems.map(function(source) {
                    return new Promise(function(resolve, reject) {
                        dispatch('ADD_ITEM', {
                            interactionMethod: interactionMethod,
                            source: source.source || source,
                            success: resolve,
                            failure: reject,
                            index: currentIndex++,
                            options: source.options || {},
                        });
                    });
                });

                Promise.all(promises)
                    .then(success)
                    .catch(failure);
            },

            /**
             * @param source
             * @param index
             * @param interactionMethod
             */
            ADD_ITEM: function ADD_ITEM(_ref7) {
                var source = _ref7.source,
                    _ref7$index = _ref7.index,
                    index = _ref7$index === void 0 ? -1 : _ref7$index,
                    interactionMethod = _ref7.interactionMethod,
                    _ref7$success = _ref7.success,
                    success = _ref7$success === void 0 ? function() {} : _ref7$success,
                    _ref7$failure = _ref7.failure,
                    failure = _ref7$failure === void 0 ? function() {} : _ref7$failure,
                    _ref7$options = _ref7.options,
                    options = _ref7$options === void 0 ? {} : _ref7$options;
                // if no source supplied
                if (isEmpty(source)) {
                    failure({
                        error: createResponse('error', 0, 'No source'),
                        file: null,
                    });

                    return;
                }

                // filter out invalid file items, used to filter dropped directory contents
                if (
                    isFile(source) &&
                    state.options.ignoredFiles.includes(source.name.toLowerCase())
                ) {
                    // fail silently
                    return;
                }

                // test if there's still room in the list of files
                if (!hasRoomForItem(state)) {
                    // if multiple allowed, we can't replace
                    // or if only a single item is allowed but we're not allowed to replace it we exit
                    if (
                        state.options.allowMultiple ||
                        (!state.options.allowMultiple && !state.options.allowReplace)
                    ) {
                        var error = createResponse('warning', 0, 'Max files');

                        dispatch('DID_THROW_MAX_FILES', {
                            source: source,
                            error: error,
                        });

                        failure({ error: error, file: null });

                        return;
                    }

                    // let's replace the item
                    // id of first item we're about to remove
                    var _item = getActiveItems(state.items)[0];

                    // if has been processed remove it from the server as well
                    if (
                        _item.status === ItemStatus.PROCESSING_COMPLETE ||
                        _item.status === ItemStatus.PROCESSING_REVERT_ERROR
                    ) {
                        var forceRevert = query('GET_FORCE_REVERT');
                        _item
                            .revert(
                                createRevertFunction(
                                    state.options.server.url,
                                    state.options.server.revert
                                ),
                                forceRevert
                            )
                            .then(function() {
                                if (!forceRevert) return;

                                // try to add now
                                dispatch('ADD_ITEM', {
                                    source: source,
                                    index: index,
                                    interactionMethod: interactionMethod,
                                    success: success,
                                    failure: failure,
                                    options: options,
                                });
                            })
                            .catch(function() {}); // no need to handle this catch state for now

                        if (forceRevert) return;
                    }

                    // remove first item as it will be replaced by this item
                    dispatch('REMOVE_ITEM', { query: _item.id });
                }

                // where did the file originate
                var origin =
                    options.type === 'local'
                        ? FileOrigin.LOCAL
                        : options.type === 'limbo'
                        ? FileOrigin.LIMBO
                        : FileOrigin.INPUT;

                // create a new blank item
                var item = createItem(
                    // where did this file come from
                    origin,

                    // an input file never has a server file reference
                    origin === FileOrigin.INPUT ? null : source,

                    // file mock data, if defined
                    options.file
                );

                // set initial meta data
                Object.keys(options.metadata || {}).forEach(function(key) {
                    item.setMetadata(key, options.metadata[key]);
                });

                // created the item, let plugins add methods
                applyFilters('DID_CREATE_ITEM', item, { query: query, dispatch: dispatch });

                // where to insert new items
                var itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');

                // adjust index if is not allowed to pick location
                if (!state.options.itemInsertLocationFreedom) {
                    index = itemInsertLocation === 'before' ? -1 : state.items.length;
                }

                // add item to list
                insertItem(state.items, item, index);

                // sort items in list
                if (isFunction(itemInsertLocation) && source) {
                    sortItems(state, itemInsertLocation);
                }

                // get a quick reference to the item id
                var id = item.id;

                // observe item events
                item.on('init', function() {
                    dispatch('DID_INIT_ITEM', { id: id });
                });

                item.on('load-init', function() {
                    dispatch('DID_START_ITEM_LOAD', { id: id });
                });

                item.on('load-meta', function() {
                    dispatch('DID_UPDATE_ITEM_META', { id: id });
                });

                item.on('load-progress', function(progress) {
                    dispatch('DID_UPDATE_ITEM_LOAD_PROGRESS', { id: id, progress: progress });
                });

                item.on('load-request-error', function(error) {
                    var mainStatus = dynamicLabel(state.options.labelFileLoadError)(error);

                    // is client error, no way to recover
                    if (error.code >= 400 && error.code < 500) {
                        dispatch('DID_THROW_ITEM_INVALID', {
                            id: id,
                            error: error,
                            status: {
                                main: mainStatus,
                                sub: error.code + ' (' + error.body + ')',
                            },
                        });

                        // reject the file so can be dealt with through API
                        failure({ error: error, file: createItemAPI(item) });
                        return;
                    }

                    // is possible server error, so might be possible to retry
                    dispatch('DID_THROW_ITEM_LOAD_ERROR', {
                        id: id,
                        error: error,
                        status: {
                            main: mainStatus,
                            sub: state.options.labelTapToRetry,
                        },
                    });
                });

                item.on('load-file-error', function(error) {
                    dispatch('DID_THROW_ITEM_INVALID', {
                        id: id,
                        error: error.status,
                        status: error.status,
                    });

                    failure({ error: error.status, file: createItemAPI(item) });
                });

                item.on('load-abort', function() {
                    dispatch('REMOVE_ITEM', { query: id });
                });

                item.on('load-skip', function() {
                    dispatch('COMPLETE_LOAD_ITEM', {
                        query: id,
                        item: item,
                        data: {
                            source: source,
                            success: success,
                        },
                    });
                });

                item.on('load', function() {
                    var handleAdd = function handleAdd(shouldAdd) {
                        // no should not add this file
                        if (!shouldAdd) {
                            dispatch('REMOVE_ITEM', {
                                query: id,
                            });

                            return;
                        }

                        // now interested in metadata updates
                        item.on('metadata-update', function(change) {
                            dispatch('DID_UPDATE_ITEM_METADATA', { id: id, change: change });
                        });

                        // let plugins decide if the output data should be prepared at this point
                        // means we'll do this and wait for idle state
                        applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {
                            item: item,
                            query: query,
                        }).then(function(shouldPrepareOutput) {
                            // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook
                            var beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');
                            if (beforePrepareFile)
                                shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);

                            var loadComplete = function loadComplete() {
                                dispatch('COMPLETE_LOAD_ITEM', {
                                    query: id,
                                    item: item,
                                    data: {
                                        source: source,
                                        success: success,
                                    },
                                });

                                listUpdated(dispatch, state);
                            };

                            // exit
                            if (shouldPrepareOutput) {
                                // wait for idle state and then run PREPARE_OUTPUT
                                dispatch(
                                    'REQUEST_PREPARE_OUTPUT',
                                    {
                                        query: id,
                                        item: item,
                                        success: function success(file) {
                                            dispatch('DID_PREPARE_OUTPUT', { id: id, file: file });
                                            loadComplete();
                                        },
                                    },

                                    true
                                );

                                return;
                            }

                            loadComplete();
                        });
                    };

                    // item loaded, allow plugins to
                    // - read data (quickly)
                    // - add metadata
                    applyFilterChain('DID_LOAD_ITEM', item, { query: query, dispatch: dispatch })
                        .then(function() {
                            optionalPromise(query('GET_BEFORE_ADD_FILE'), createItemAPI(item)).then(
                                handleAdd
                            );
                        })
                        .catch(function(e) {
                            if (!e || !e.error || !e.status) return handleAdd(false);
                            dispatch('DID_THROW_ITEM_INVALID', {
                                id: id,
                                error: e.error,
                                status: e.status,
                            });
                        });
                });

                item.on('process-start', function() {
                    dispatch('DID_START_ITEM_PROCESSING', { id: id });
                });

                item.on('process-progress', function(progress) {
                    dispatch('DID_UPDATE_ITEM_PROCESS_PROGRESS', { id: id, progress: progress });
                });

                item.on('process-error', function(error) {
                    dispatch('DID_THROW_ITEM_PROCESSING_ERROR', {
                        id: id,
                        error: error,
                        status: {
                            main: dynamicLabel(state.options.labelFileProcessingError)(error),
                            sub: state.options.labelTapToRetry,
                        },
                    });
                });

                item.on('process-revert-error', function(error) {
                    dispatch('DID_THROW_ITEM_PROCESSING_REVERT_ERROR', {
                        id: id,
                        error: error,
                        status: {
                            main: dynamicLabel(state.options.labelFileProcessingRevertError)(error),
                            sub: state.options.labelTapToRetry,
                        },
                    });
                });

                item.on('process-complete', function(serverFileReference) {
                    dispatch('DID_COMPLETE_ITEM_PROCESSING', {
                        id: id,
                        error: null,
                        serverFileReference: serverFileReference,
                    });

                    dispatch('DID_DEFINE_VALUE', { id: id, value: serverFileReference });
                });

                item.on('process-abort', function() {
                    dispatch('DID_ABORT_ITEM_PROCESSING', { id: id });
                });

                item.on('process-revert', function() {
                    dispatch('DID_REVERT_ITEM_PROCESSING', { id: id });
                    dispatch('DID_DEFINE_VALUE', { id: id, value: null });
                });

                // let view know the item has been inserted
                dispatch('DID_ADD_ITEM', {
                    id: id,
                    index: index,
                    interactionMethod: interactionMethod,
                });

                listUpdated(dispatch, state);

                // start loading the source
                var _ref8 = state.options.server || {},
                    url = _ref8.url,
                    load = _ref8.load,
                    restore = _ref8.restore,
                    fetch = _ref8.fetch;

                item.load(
                    source,

                    // this creates a function that loads the file based on the type of file (string, base64, blob, file) and location of file (local, remote, limbo)
                    createFileLoader(
                        origin === FileOrigin.INPUT
                            ? // input, if is remote, see if should use custom fetch, else use default fetchBlob
                              isString(source) && isExternalURL(source)
                                ? fetch
                                    ? createFetchFunction(url, fetch)
                                    : fetchBlob // remote url
                                : fetchBlob // try to fetch url
                            : // limbo or local
                            origin === FileOrigin.LIMBO
                            ? createFetchFunction(url, restore) // limbo
                            : createFetchFunction(url, load) // local
                    ),

                    // called when the file is loaded so it can be piped through the filters
                    function(file, success, error) {
                        // let's process the file
                        applyFilterChain('LOAD_FILE', file, { query: query })
                            .then(success)
                            .catch(error);
                    }
                );
            },

            REQUEST_PREPARE_OUTPUT: function REQUEST_PREPARE_OUTPUT(_ref9) {
                var item = _ref9.item,
                    success = _ref9.success,
                    _ref9$failure = _ref9.failure,
                    failure = _ref9$failure === void 0 ? function() {} : _ref9$failure;
                // error response if item archived
                var err = {
                    error: createResponse('error', 0, 'Item not found'),
                    file: null,
                };

                // don't handle archived items, an item could have been archived (load aborted) while waiting to be prepared
                if (item.archived) return failure(err);

                // allow plugins to alter the file data
                applyFilterChain('PREPARE_OUTPUT', item.file, { query: query, item: item }).then(
                    function(result) {
                        applyFilterChain('COMPLETE_PREPARE_OUTPUT', result, {
                            query: query,
                            item: item,
                        }).then(function(result) {
                            // don't handle archived items, an item could have been archived (load aborted) while being prepared
                            if (item.archived) return failure(err);

                            // we done!
                            success(result);
                        });
                    }
                );
            },

            COMPLETE_LOAD_ITEM: function COMPLETE_LOAD_ITEM(_ref10) {
                var item = _ref10.item,
                    data = _ref10.data;
                var success = data.success,
                    source = data.source;

                // sort items in list
                var itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');
                if (isFunction(itemInsertLocation) && source) {
                    sortItems(state, itemInsertLocation);
                }

                // let interface know the item has loaded
                dispatch('DID_LOAD_ITEM', {
                    id: item.id,
                    error: null,
                    serverFileReference: item.origin === FileOrigin.INPUT ? null : source,
                });

                // item has been successfully loaded and added to the
                // list of items so can now be safely returned for use
                success(createItemAPI(item));

                // if this is a local server file we need to show a different state
                if (item.origin === FileOrigin.LOCAL) {
                    dispatch('DID_LOAD_LOCAL_ITEM', { id: item.id });
                    return;
                }

                // if is a temp server file we prevent async upload call here (as the file is already on the server)
                if (item.origin === FileOrigin.LIMBO) {
                    dispatch('DID_COMPLETE_ITEM_PROCESSING', {
                        id: item.id,
                        error: null,
                        serverFileReference: source,
                    });

                    dispatch('DID_DEFINE_VALUE', {
                        id: item.id,
                        value: item.serverId || source,
                    });

                    return;
                }

                // id we are allowed to upload the file immediately, lets do it
                if (query('IS_ASYNC') && state.options.instantUpload) {
                    dispatch('REQUEST_ITEM_PROCESSING', { query: item.id });
                }
            },

            RETRY_ITEM_LOAD: getItemByQueryFromState(state, function(item) {
                // try loading the source one more time
                item.retryLoad();
            }),

            REQUEST_ITEM_PREPARE: getItemByQueryFromState(state, function(item, _success, failure) {
                dispatch(
                    'REQUEST_PREPARE_OUTPUT',
                    {
                        query: item.id,
                        item: item,
                        success: function success(file) {
                            dispatch('DID_PREPARE_OUTPUT', { id: item.id, file: file });
                            _success({
                                file: item,
                                output: file,
                            });
                        },
                        failure: failure,
                    },

                    true
                );
            }),

            REQUEST_ITEM_PROCESSING: getItemByQueryFromState(state, function(
                item,
                success,
                failure
            ) {
                // cannot be queued (or is already queued)
                var itemCanBeQueuedForProcessing =
                    // waiting for something
                    item.status === ItemStatus.IDLE ||
                    // processing went wrong earlier
                    item.status === ItemStatus.PROCESSING_ERROR;

                // not ready to be processed
                if (!itemCanBeQueuedForProcessing) {
                    var processNow = function processNow() {
                        return dispatch('REQUEST_ITEM_PROCESSING', {
                            query: item,
                            success: success,
                            failure: failure,
                        });
                    };

                    var process = function process() {
                        return document.hidden ? processNow() : setTimeout(processNow, 32);
                    };

                    // if already done processing or tried to revert but didn't work, try again
                    if (
                        item.status === ItemStatus.PROCESSING_COMPLETE ||
                        item.status === ItemStatus.PROCESSING_REVERT_ERROR
                    ) {
                        item.revert(
                            createRevertFunction(
                                state.options.server.url,
                                state.options.server.revert
                            ),
                            query('GET_FORCE_REVERT')
                        )
                            .then(process)
                            .catch(function() {}); // don't continue with processing if something went wrong
                    } else if (item.status === ItemStatus.PROCESSING) {
                        item.abortProcessing().then(process);
                    }

                    return;
                }

                // already queued for processing
                if (item.status === ItemStatus.PROCESSING_QUEUED) return;

                item.requestProcessing();

                dispatch('DID_REQUEST_ITEM_PROCESSING', { id: item.id });

                dispatch('PROCESS_ITEM', { query: item, success: success, failure: failure }, true);
            }),

            PROCESS_ITEM: getItemByQueryFromState(state, function(item, success, failure) {
                var maxParallelUploads = query('GET_MAX_PARALLEL_UPLOADS');
                var totalCurrentUploads = query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING)
                    .length;

                // queue and wait till queue is freed up
                if (totalCurrentUploads === maxParallelUploads) {
                    // queue for later processing
                    state.processingQueue.push({
                        id: item.id,
                        success: success,
                        failure: failure,
                    });

                    // stop it!
                    return;
                }

                // if was not queued or is already processing exit here
                if (item.status === ItemStatus.PROCESSING) return;

                var processNext = function processNext() {
                    // process queueud items
                    var queueEntry = state.processingQueue.shift();

                    // no items left
                    if (!queueEntry) return;

                    // get item reference
                    var id = queueEntry.id,
                        success = queueEntry.success,
                        failure = queueEntry.failure;
                    var itemReference = getItemByQuery(state.items, id);

                    // if item was archived while in queue, jump to next
                    if (!itemReference || itemReference.archived) {
                        processNext();
                        return;
                    }

                    // process queued item
                    dispatch(
                        'PROCESS_ITEM',
                        { query: id, success: success, failure: failure },
                        true
                    );
                };

                // we done function
                item.onOnce('process-complete', function() {
                    success(createItemAPI(item));
                    processNext();

                    // if origin is local, and we're instant uploading, trigger remove of original
                    // as revert will remove file from list
                    var server = state.options.server;
                    var instantUpload = state.options.instantUpload;
                    if (
                        instantUpload &&
                        item.origin === FileOrigin.LOCAL &&
                        isFunction(server.remove)
                    ) {
                        var noop = function noop() {};
                        item.origin = FileOrigin.LIMBO;
                        state.options.server.remove(item.source, noop, noop);
                    }

                    // All items processed? No errors?
                    var allItemsProcessed =
                        query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING_COMPLETE).length ===
                        state.items.length;
                    if (allItemsProcessed) {
                        dispatch('DID_COMPLETE_ITEM_PROCESSING_ALL');
                    }
                });

                // we error function
                item.onOnce('process-error', function(error) {
                    failure({ error: error, file: createItemAPI(item) });
                    processNext();
                });

                // start file processing
                var options = state.options;
                item.process(
                    createFileProcessor(
                        createProcessorFunction(
                            options.server.url,
                            options.server.process,
                            options.name,
                            {
                                chunkTransferId: item.transferId,
                                chunkServer: options.server.patch,
                                chunkUploads: options.chunkUploads,
                                chunkForce: options.chunkForce,
                                chunkSize: options.chunkSize,
                                chunkRetryDelays: options.chunkRetryDelays,
                            }
                        ),

                        {
                            allowMinimumUploadDuration: query('GET_ALLOW_MINIMUM_UPLOAD_DURATION'),
                        }
                    ),

                    // called when the file is about to be processed so it can be piped through the transform filters
                    function(file, success, error) {
                        // allow plugins to alter the file data
                        applyFilterChain('PREPARE_OUTPUT', file, { query: query, item: item })
                            .then(function(file) {
                                dispatch('DID_PREPARE_OUTPUT', { id: item.id, file: file });

                                success(file);
                            })
                            .catch(error);
                    }
                );
            }),

            RETRY_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {
                dispatch('REQUEST_ITEM_PROCESSING', { query: item });
            }),

            REQUEST_REMOVE_ITEM: getItemByQueryFromState(state, function(item) {
                optionalPromise(query('GET_BEFORE_REMOVE_FILE'), createItemAPI(item)).then(function(
                    shouldRemove
                ) {
                    if (!shouldRemove) {
                        return;
                    }
                    dispatch('REMOVE_ITEM', { query: item });
                });
            }),

            RELEASE_ITEM: getItemByQueryFromState(state, function(item) {
                item.release();
            }),

            REMOVE_ITEM: getItemByQueryFromState(state, function(item, success, failure, options) {
                var removeFromView = function removeFromView() {
                    // get id reference
                    var id = item.id;

                    // archive the item, this does not remove it from the list
                    getItemById(state.items, id).archive();

                    // tell the view the item has been removed
                    dispatch('DID_REMOVE_ITEM', { error: null, id: id, item: item });

                    // now the list has been modified
                    listUpdated(dispatch, state);

                    // correctly removed
                    success(createItemAPI(item));
                };

                // if this is a local file and the `server.remove` function has been configured,
                // send source there so dev can remove file from server
                var server = state.options.server;
                if (
                    item.origin === FileOrigin.LOCAL &&
                    server &&
                    isFunction(server.remove) &&
                    options.remove !== false
                ) {
                    dispatch('DID_START_ITEM_REMOVE', { id: item.id });

                    server.remove(
                        item.source,
                        function() {
                            return removeFromView();
                        },
                        function(status) {
                            dispatch('DID_THROW_ITEM_REMOVE_ERROR', {
                                id: item.id,
                                error: createResponse('error', 0, status, null),
                                status: {
                                    main: dynamicLabel(state.options.labelFileRemoveError)(status),
                                    sub: state.options.labelTapToRetry,
                                },
                            });
                        }
                    );
                } else {
                    // if is requesting revert and can revert need to call revert handler (not calling request_ because that would also trigger beforeRemoveHook)
                    if (
                        (options.revert &&
                            item.origin !== FileOrigin.LOCAL &&
                            item.serverId !== null) ||
                        // if chunked uploads are enabled and we're uploading in chunks for this specific file
                        // or if the file isn't big enough for chunked uploads but chunkForce is set then call
                        // revert before removing from the view...
                        (state.options.chunkUploads && item.file.size > state.options.chunkSize) ||
                        (state.options.chunkUploads && state.options.chunkForce)
                    ) {
                        item.revert(
                            createRevertFunction(
                                state.options.server.url,
                                state.options.server.revert
                            ),
                            query('GET_FORCE_REVERT')
                        );
                    }

                    // can now safely remove from view
                    removeFromView();
                }
            }),

            ABORT_ITEM_LOAD: getItemByQueryFromState(state, function(item) {
                item.abortLoad();
            }),

            ABORT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {
                // test if is already processed
                if (item.serverId) {
                    dispatch('REVERT_ITEM_PROCESSING', { id: item.id });
                    return;
                }

                // abort
                item.abortProcessing().then(function() {
                    var shouldRemove = state.options.instantUpload;
                    if (shouldRemove) {
                        dispatch('REMOVE_ITEM', { query: item.id });
                    }
                });
            }),

            REQUEST_REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {
                // not instant uploading, revert immediately
                if (!state.options.instantUpload) {
                    dispatch('REVERT_ITEM_PROCESSING', { query: item });
                    return;
                }

                // if we're instant uploading the file will also be removed if we revert,
                // so if a before remove file hook is defined we need to run it now
                var handleRevert = function handleRevert(shouldRevert) {
                    if (!shouldRevert) return;
                    dispatch('REVERT_ITEM_PROCESSING', { query: item });
                };

                var fn = query('GET_BEFORE_REMOVE_FILE');
                if (!fn) {
                    return handleRevert(true);
                }

                var requestRemoveResult = fn(createItemAPI(item));
                if (requestRemoveResult == null) {
                    // undefined or null
                    return handleRevert(true);
                }

                if (typeof requestRemoveResult === 'boolean') {
                    return handleRevert(requestRemoveResult);
                }

                if (typeof requestRemoveResult.then === 'function') {
                    requestRemoveResult.then(handleRevert);
                }
            }),

            REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {
                item.revert(
                    createRevertFunction(state.options.server.url, state.options.server.revert),
                    query('GET_FORCE_REVERT')
                )
                    .then(function() {
                        var shouldRemove = state.options.instantUpload || isMockItem(item);
                        if (shouldRemove) {
                            dispatch('REMOVE_ITEM', { query: item.id });
                        }
                    })
                    .catch(function() {});
            }),

            SET_OPTIONS: function SET_OPTIONS(_ref11) {
                var options = _ref11.options;
                // get all keys passed
                var optionKeys = Object.keys(options);

                // get prioritized keyed to include (remove once not in options object)
                var prioritizedOptionKeys = PrioritizedOptions.filter(function(key) {
                    return optionKeys.includes(key);
                });

                // order the keys, prioritized first, then rest
                var orderedOptionKeys = [].concat(
                    _toConsumableArray(prioritizedOptionKeys),
                    _toConsumableArray(
                        Object.keys(options).filter(function(key) {
                            return !prioritizedOptionKeys.includes(key);
                        })
                    )
                );

                // dispatch set event for each option
                orderedOptionKeys.forEach(function(key) {
                    dispatch('SET_' + fromCamels(key, '_').toUpperCase(), {
                        value: options[key],
                    });
                });
            },
        };
    };

    var PrioritizedOptions = ['server'];

    var formatFilename = function formatFilename(name) {
        return name;
    };

    var createElement$1 = function createElement(tagName) {
        return document.createElement(tagName);
    };

    var text = function text(node, value) {
        var textNode = node.childNodes[0];
        if (!textNode) {
            textNode = document.createTextNode(value);
            node.appendChild(textNode);
        } else if (value !== textNode.nodeValue) {
            textNode.nodeValue = value;
        }
    };

    var polarToCartesian = function polarToCartesian(centerX, centerY, radius, angleInDegrees) {
        var angleInRadians = (((angleInDegrees % 360) - 90) * Math.PI) / 180.0;
        return {
            x: centerX + radius * Math.cos(angleInRadians),
            y: centerY + radius * Math.sin(angleInRadians),
        };
    };

    var describeArc = function describeArc(x, y, radius, startAngle, endAngle, arcSweep) {
        var start = polarToCartesian(x, y, radius, endAngle);
        var end = polarToCartesian(x, y, radius, startAngle);
        return ['M', start.x, start.y, 'A', radius, radius, 0, arcSweep, 0, end.x, end.y].join(' ');
    };

    var percentageArc = function percentageArc(x, y, radius, from, to) {
        var arcSweep = 1;
        if (to > from && to - from <= 0.5) {
            arcSweep = 0;
        }
        if (from > to && from - to >= 0.5) {
            arcSweep = 0;
        }
        return describeArc(
            x,
            y,
            radius,
            Math.min(0.9999, from) * 360,
            Math.min(0.9999, to) * 360,
            arcSweep
        );
    };

    var create = function create(_ref) {
        var root = _ref.root,
            props = _ref.props;
        // start at 0
        props.spin = false;
        props.progress = 0;
        props.opacity = 0;

        // svg
        var svg = createElement('svg');
        root.ref.path = createElement('path', {
            'stroke-width': 2,
            'stroke-linecap': 'round',
        });

        svg.appendChild(root.ref.path);

        root.ref.svg = svg;

        root.appendChild(svg);
    };

    var write = function write(_ref2) {
        var root = _ref2.root,
            props = _ref2.props;
        if (props.opacity === 0) {
            return;
        }

        if (props.align) {
            root.element.dataset.align = props.align;
        }

        // get width of stroke
        var ringStrokeWidth = parseInt(attr(root.ref.path, 'stroke-width'), 10);

        // calculate size of ring
        var size = root.rect.element.width * 0.5;

        // ring state
        var ringFrom = 0;
        var ringTo = 0;

        // now in busy mode
        if (props.spin) {
            ringFrom = 0;
            ringTo = 0.5;
        } else {
            ringFrom = 0;
            ringTo = props.progress;
        }

        // get arc path
        var coordinates = percentageArc(size, size, size - ringStrokeWidth, ringFrom, ringTo);

        // update progress bar
        attr(root.ref.path, 'd', coordinates);

        // hide while contains 0 value
        attr(root.ref.path, 'stroke-opacity', props.spin || props.progress > 0 ? 1 : 0);
    };

    var progressIndicator = createView({
        tag: 'div',
        name: 'progress-indicator',
        ignoreRectUpdate: true,
        ignoreRect: true,
        create: create,
        write: write,
        mixins: {
            apis: ['progress', 'spin', 'align'],
            styles: ['opacity'],
            animations: {
                opacity: { type: 'tween', duration: 500 },
                progress: {
                    type: 'spring',
                    stiffness: 0.95,
                    damping: 0.65,
                    mass: 10,
                },
            },
        },
    });

    var create$1 = function create(_ref) {
        var root = _ref.root,
            props = _ref.props;
        root.element.innerHTML = (props.icon || '') + ('<span>' + props.label + '</span>');

        props.isDisabled = false;
    };

    var write$1 = function write(_ref2) {
        var root = _ref2.root,
            props = _ref2.props;
        var isDisabled = props.isDisabled;
        var shouldDisable = root.query('GET_DISABLED') || props.opacity === 0;

        if (shouldDisable && !isDisabled) {
            props.isDisabled = true;
            attr(root.element, 'disabled', 'disabled');
        } else if (!shouldDisable && isDisabled) {
            props.isDisabled = false;
            root.element.removeAttribute('disabled');
        }
    };

    var fileActionButton = createView({
        tag: 'button',
        attributes: {
            type: 'button',
        },

        ignoreRect: true,
        ignoreRectUpdate: true,
        name: 'file-action-button',
        mixins: {
            apis: ['label'],
            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],
            animations: {
                scaleX: 'spring',
                scaleY: 'spring',
                translateX: 'spring',
                translateY: 'spring',
                opacity: { type: 'tween', duration: 250 },
            },

            listeners: true,
        },

        create: create$1,
        write: write$1,
    });

    var toNaturalFileSize = function toNaturalFileSize(bytes) {
        var decimalSeparator =
            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '.';
        var base = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;
        var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
        var _options$labelBytes = options.labelBytes,
            labelBytes = _options$labelBytes === void 0 ? 'bytes' : _options$labelBytes,
            _options$labelKilobyt = options.labelKilobytes,
            labelKilobytes = _options$labelKilobyt === void 0 ? 'KB' : _options$labelKilobyt,
            _options$labelMegabyt = options.labelMegabytes,
            labelMegabytes = _options$labelMegabyt === void 0 ? 'MB' : _options$labelMegabyt,
            _options$labelGigabyt = options.labelGigabytes,
            labelGigabytes = _options$labelGigabyt === void 0 ? 'GB' : _options$labelGigabyt;

        // no negative byte sizes
        bytes = Math.round(Math.abs(bytes));

        var KB = base;
        var MB = base * base;
        var GB = base * base * base;

        // just bytes
        if (bytes < KB) {
            return bytes + ' ' + labelBytes;
        }

        // kilobytes
        if (bytes < MB) {
            return Math.floor(bytes / KB) + ' ' + labelKilobytes;
        }

        // megabytes
        if (bytes < GB) {
            return removeDecimalsWhenZero(bytes / MB, 1, decimalSeparator) + ' ' + labelMegabytes;
        }

        // gigabytes
        return removeDecimalsWhenZero(bytes / GB, 2, decimalSeparator) + ' ' + labelGigabytes;
    };

    var removeDecimalsWhenZero = function removeDecimalsWhenZero(value, decimalCount, separator) {
        return value
            .toFixed(decimalCount)
            .split('.')
            .filter(function(part) {
                return part !== '0';
            })
            .join(separator);
    };

    var create$2 = function create(_ref) {
        var root = _ref.root,
            props = _ref.props;
        // filename
        var fileName = createElement$1('span');
        fileName.className = 'filepond--file-info-main';
        // hide for screenreaders
        // the file is contained in a fieldset with legend that contains the filename
        // no need to read it twice
        attr(fileName, 'aria-hidden', 'true');
        root.appendChild(fileName);
        root.ref.fileName = fileName;

        // filesize
        var fileSize = createElement$1('span');
        fileSize.className = 'filepond--file-info-sub';
        root.appendChild(fileSize);
        root.ref.fileSize = fileSize;

        // set initial values
        text(fileSize, root.query('GET_LABEL_FILE_WAITING_FOR_SIZE'));
        text(fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));
    };

    var updateFile = function updateFile(_ref2) {
        var root = _ref2.root,
            props = _ref2.props;
        text(
            root.ref.fileSize,
            toNaturalFileSize(
                root.query('GET_ITEM_SIZE', props.id),
                '.',
                root.query('GET_FILE_SIZE_BASE'),
                root.query('GET_FILE_SIZE_LABELS', root.query)
            )
        );

        text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));
    };

    var updateFileSizeOnError = function updateFileSizeOnError(_ref3) {
        var root = _ref3.root,
            props = _ref3.props;
        // if size is available don't fallback to unknown size message
        if (isInt(root.query('GET_ITEM_SIZE', props.id))) {
            updateFile({ root: root, props: props });
            return;
        }

        text(root.ref.fileSize, root.query('GET_LABEL_FILE_SIZE_NOT_AVAILABLE'));
    };

    var fileInfo = createView({
        name: 'file-info',
        ignoreRect: true,
        ignoreRectUpdate: true,
        write: createRoute({
            DID_LOAD_ITEM: updateFile,
            DID_UPDATE_ITEM_META: updateFile,
            DID_THROW_ITEM_LOAD_ERROR: updateFileSizeOnError,
            DID_THROW_ITEM_INVALID: updateFileSizeOnError,
        }),

        didCreateView: function didCreateView(root) {
            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));
        },
        create: create$2,
        mixins: {
            styles: ['translateX', 'translateY'],
            animations: {
                translateX: 'spring',
                translateY: 'spring',
            },
        },
    });

    var toPercentage = function toPercentage(value) {
        return Math.round(value * 100);
    };

    var create$3 = function create(_ref) {
        var root = _ref.root;

        // main status
        var main = createElement$1('span');
        main.className = 'filepond--file-status-main';
        root.appendChild(main);
        root.ref.main = main;

        // sub status
        var sub = createElement$1('span');
        sub.className = 'filepond--file-status-sub';
        root.appendChild(sub);
        root.ref.sub = sub;

        didSetItemLoadProgress({ root: root, action: { progress: null } });
    };

    var didSetItemLoadProgress = function didSetItemLoadProgress(_ref2) {
        var root = _ref2.root,
            action = _ref2.action;
        var title =
            action.progress === null
                ? root.query('GET_LABEL_FILE_LOADING')
                : root.query('GET_LABEL_FILE_LOADING') + ' ' + toPercentage(action.progress) + '%';

        text(root.ref.main, title);
        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));
    };

    var didSetItemProcessProgress = function didSetItemProcessProgress(_ref3) {
        var root = _ref3.root,
            action = _ref3.action;
        var title =
            action.progress === null
                ? root.query('GET_LABEL_FILE_PROCESSING')
                : root.query('GET_LABEL_FILE_PROCESSING') +
                  ' ' +
                  toPercentage(action.progress) +
                  '%';

        text(root.ref.main, title);
        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));
    };

    var didRequestItemProcessing = function didRequestItemProcessing(_ref4) {
        var root = _ref4.root;
        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING'));
        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));
    };

    var didAbortItemProcessing = function didAbortItemProcessing(_ref5) {
        var root = _ref5.root;
        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_ABORTED'));
        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_RETRY'));
    };

    var didCompleteItemProcessing = function didCompleteItemProcessing(_ref6) {
        var root = _ref6.root;
        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_COMPLETE'));
        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_UNDO'));
    };

    var clear = function clear(_ref7) {
        var root = _ref7.root;
        text(root.ref.main, '');
        text(root.ref.sub, '');
    };

    var error = function error(_ref8) {
        var root = _ref8.root,
            action = _ref8.action;
        text(root.ref.main, action.status.main);
        text(root.ref.sub, action.status.sub);
    };

    var fileStatus = createView({
        name: 'file-status',
        ignoreRect: true,
        ignoreRectUpdate: true,
        write: createRoute({
            DID_LOAD_ITEM: clear,
            DID_REVERT_ITEM_PROCESSING: clear,
            DID_REQUEST_ITEM_PROCESSING: didRequestItemProcessing,
            DID_ABORT_ITEM_PROCESSING: didAbortItemProcessing,
            DID_COMPLETE_ITEM_PROCESSING: didCompleteItemProcessing,
            DID_UPDATE_ITEM_PROCESS_PROGRESS: didSetItemProcessProgress,
            DID_UPDATE_ITEM_LOAD_PROGRESS: didSetItemLoadProgress,
            DID_THROW_ITEM_LOAD_ERROR: error,
            DID_THROW_ITEM_INVALID: error,
            DID_THROW_ITEM_PROCESSING_ERROR: error,
            DID_THROW_ITEM_PROCESSING_REVERT_ERROR: error,
            DID_THROW_ITEM_REMOVE_ERROR: error,
        }),

        didCreateView: function didCreateView(root) {
            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));
        },
        create: create$3,
        mixins: {
            styles: ['translateX', 'translateY', 'opacity'],
            animations: {
                opacity: { type: 'tween', duration: 250 },
                translateX: 'spring',
                translateY: 'spring',
            },
        },
    });

    /**
     * Button definitions for the file view
     */

    var Buttons = {
        AbortItemLoad: {
            label: 'GET_LABEL_BUTTON_ABORT_ITEM_LOAD',
            action: 'ABORT_ITEM_LOAD',
            className: 'filepond--action-abort-item-load',
            align: 'LOAD_INDICATOR_POSITION', // right
        },
        RetryItemLoad: {
            label: 'GET_LABEL_BUTTON_RETRY_ITEM_LOAD',
            action: 'RETRY_ITEM_LOAD',
            icon: 'GET_ICON_RETRY',
            className: 'filepond--action-retry-item-load',
            align: 'BUTTON_PROCESS_ITEM_POSITION', // right
        },
        RemoveItem: {
            label: 'GET_LABEL_BUTTON_REMOVE_ITEM',
            action: 'REQUEST_REMOVE_ITEM',
            icon: 'GET_ICON_REMOVE',
            className: 'filepond--action-remove-item',
            align: 'BUTTON_REMOVE_ITEM_POSITION', // left
        },
        ProcessItem: {
            label: 'GET_LABEL_BUTTON_PROCESS_ITEM',
            action: 'REQUEST_ITEM_PROCESSING',
            icon: 'GET_ICON_PROCESS',
            className: 'filepond--action-process-item',
            align: 'BUTTON_PROCESS_ITEM_POSITION', // right
        },
        AbortItemProcessing: {
            label: 'GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING',
            action: 'ABORT_ITEM_PROCESSING',
            className: 'filepond--action-abort-item-processing',
            align: 'BUTTON_PROCESS_ITEM_POSITION', // right
        },
        RetryItemProcessing: {
            label: 'GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING',
            action: 'RETRY_ITEM_PROCESSING',
            icon: 'GET_ICON_RETRY',
            className: 'filepond--action-retry-item-processing',
            align: 'BUTTON_PROCESS_ITEM_POSITION', // right
        },
        RevertItemProcessing: {
            label: 'GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING',
            action: 'REQUEST_REVERT_ITEM_PROCESSING',
            icon: 'GET_ICON_UNDO',
            className: 'filepond--action-revert-item-processing',
            align: 'BUTTON_PROCESS_ITEM_POSITION', // right
        },
    };

    // make a list of buttons, we can then remove buttons from this list if they're disabled
    var ButtonKeys = [];
    forin(Buttons, function(key) {
        ButtonKeys.push(key);
    });

    var calculateFileInfoOffset = function calculateFileInfoOffset(root) {
        if (getRemoveIndicatorAligment(root) === 'right') return 0;
        var buttonRect = root.ref.buttonRemoveItem.rect.element;
        return buttonRect.hidden ? null : buttonRect.width + buttonRect.left;
    };

    var calculateButtonWidth = function calculateButtonWidth(root) {
        var buttonRect = root.ref.buttonAbortItemLoad.rect.element;
        return buttonRect.width;
    };

    // Force on full pixels so text stays crips
    var calculateFileVerticalCenterOffset = function calculateFileVerticalCenterOffset(root) {
        return Math.floor(root.ref.buttonRemoveItem.rect.element.height / 4);
    };
    var calculateFileHorizontalCenterOffset = function calculateFileHorizontalCenterOffset(root) {
        return Math.floor(root.ref.buttonRemoveItem.rect.element.left / 2);
    };

    var getLoadIndicatorAlignment = function getLoadIndicatorAlignment(root) {
        return root.query('GET_STYLE_LOAD_INDICATOR_POSITION');
    };
    var getProcessIndicatorAlignment = function getProcessIndicatorAlignment(root) {
        return root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION');
    };
    var getRemoveIndicatorAligment = function getRemoveIndicatorAligment(root) {
        return root.query('GET_STYLE_BUTTON_REMOVE_ITEM_POSITION');
    };

    var DefaultStyle = {
        buttonAbortItemLoad: { opacity: 0 },
        buttonRetryItemLoad: { opacity: 0 },
        buttonRemoveItem: { opacity: 0 },
        buttonProcessItem: { opacity: 0 },
        buttonAbortItemProcessing: { opacity: 0 },
        buttonRetryItemProcessing: { opacity: 0 },
        buttonRevertItemProcessing: { opacity: 0 },
        loadProgressIndicator: { opacity: 0, align: getLoadIndicatorAlignment },
        processProgressIndicator: { opacity: 0, align: getProcessIndicatorAlignment },
        processingCompleteIndicator: { opacity: 0, scaleX: 0.75, scaleY: 0.75 },
        info: { translateX: 0, translateY: 0, opacity: 0 },
        status: { translateX: 0, translateY: 0, opacity: 0 },
    };

    var IdleStyle = {
        buttonRemoveItem: { opacity: 1 },
        buttonProcessItem: { opacity: 1 },
        info: { translateX: calculateFileInfoOffset },
        status: { translateX: calculateFileInfoOffset },
    };

    var ProcessingStyle = {
        buttonAbortItemProcessing: { opacity: 1 },
        processProgressIndicator: { opacity: 1 },
        status: { opacity: 1 },
    };

    var StyleMap = {
        DID_THROW_ITEM_INVALID: {
            buttonRemoveItem: { opacity: 1 },
            info: { translateX: calculateFileInfoOffset },
            status: { translateX: calculateFileInfoOffset, opacity: 1 },
        },

        DID_START_ITEM_LOAD: {
            buttonAbortItemLoad: { opacity: 1 },
            loadProgressIndicator: { opacity: 1 },
            status: { opacity: 1 },
        },

        DID_THROW_ITEM_LOAD_ERROR: {
            buttonRetryItemLoad: { opacity: 1 },
            buttonRemoveItem: { opacity: 1 },
            info: { translateX: calculateFileInfoOffset },
            status: { opacity: 1 },
        },

        DID_START_ITEM_REMOVE: {
            processProgressIndicator: { opacity: 1, align: getRemoveIndicatorAligment },
            info: { translateX: calculateFileInfoOffset },
            status: { opacity: 0 },
        },

        DID_THROW_ITEM_REMOVE_ERROR: {
            processProgressIndicator: { opacity: 0, align: getRemoveIndicatorAligment },
            buttonRemoveItem: { opacity: 1 },
            info: { translateX: calculateFileInfoOffset },
            status: { opacity: 1, translateX: calculateFileInfoOffset },
        },

        DID_LOAD_ITEM: IdleStyle,
        DID_LOAD_LOCAL_ITEM: {
            buttonRemoveItem: { opacity: 1 },
            info: { translateX: calculateFileInfoOffset },
            status: { translateX: calculateFileInfoOffset },
        },

        DID_START_ITEM_PROCESSING: ProcessingStyle,
        DID_REQUEST_ITEM_PROCESSING: ProcessingStyle,
        DID_UPDATE_ITEM_PROCESS_PROGRESS: ProcessingStyle,
        DID_COMPLETE_ITEM_PROCESSING: {
            buttonRevertItemProcessing: { opacity: 1 },
            info: { opacity: 1 },
            status: { opacity: 1 },
        },

        DID_THROW_ITEM_PROCESSING_ERROR: {
            buttonRemoveItem: { opacity: 1 },
            buttonRetryItemProcessing: { opacity: 1 },
            status: { opacity: 1 },
            info: { translateX: calculateFileInfoOffset },
        },

        DID_THROW_ITEM_PROCESSING_REVERT_ERROR: {
            buttonRevertItemProcessing: { opacity: 1 },
            status: { opacity: 1 },
            info: { opacity: 1 },
        },

        DID_ABORT_ITEM_PROCESSING: {
            buttonRemoveItem: { opacity: 1 },
            buttonProcessItem: { opacity: 1 },
            info: { translateX: calculateFileInfoOffset },
            status: { opacity: 1 },
        },

        DID_REVERT_ITEM_PROCESSING: IdleStyle,
    };

    // complete indicator view
    var processingCompleteIndicatorView = createView({
        create: function create(_ref) {
            var root = _ref.root;
            root.element.innerHTML = root.query('GET_ICON_DONE');
        },
        name: 'processing-complete-indicator',
        ignoreRect: true,
        mixins: {
            styles: ['scaleX', 'scaleY', 'opacity'],
            animations: {
                scaleX: 'spring',
                scaleY: 'spring',
                opacity: { type: 'tween', duration: 250 },
            },
        },
    });

    /**
     * Creates the file view
     */
    var create$4 = function create(_ref2) {
        var root = _ref2.root,
            props = _ref2.props;
        // copy Buttons object
        var LocalButtons = Object.keys(Buttons).reduce(function(prev, curr) {
            prev[curr] = Object.assign({}, Buttons[curr]);
            return prev;
        }, {});
        var id = props.id;

        // allow reverting upload
        var allowRevert = root.query('GET_ALLOW_REVERT');

        // allow remove file
        var allowRemove = root.query('GET_ALLOW_REMOVE');

        // allow processing upload
        var allowProcess = root.query('GET_ALLOW_PROCESS');

        // is instant uploading, need this to determine the icon of the undo button
        var instantUpload = root.query('GET_INSTANT_UPLOAD');

        // is async set up
        var isAsync = root.query('IS_ASYNC');

        // should align remove item buttons
        var alignRemoveItemButton = root.query('GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN');

        // enabled buttons array
        var buttonFilter;
        if (isAsync) {
            if (allowProcess && !allowRevert) {
                // only remove revert button
                buttonFilter = function buttonFilter(key) {
                    return !/RevertItemProcessing/.test(key);
                };
            } else if (!allowProcess && allowRevert) {
                // only remove process button
                buttonFilter = function buttonFilter(key) {
                    return !/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(key);
                };
            } else if (!allowProcess && !allowRevert) {
                // remove all process buttons
                buttonFilter = function buttonFilter(key) {
                    return !/Process/.test(key);
                };
            }
        } else {
            // no process controls available
            buttonFilter = function buttonFilter(key) {
                return !/Process/.test(key);
            };
        }

        var enabledButtons = buttonFilter ? ButtonKeys.filter(buttonFilter) : ButtonKeys.concat();

        // update icon and label for revert button when instant uploading
        if (instantUpload && allowRevert) {
            LocalButtons['RevertItemProcessing'].label = 'GET_LABEL_BUTTON_REMOVE_ITEM';
            LocalButtons['RevertItemProcessing'].icon = 'GET_ICON_REMOVE';
        }

        // remove last button (revert) if not allowed
        if (isAsync && !allowRevert) {
            var map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];
            map.info.translateX = calculateFileHorizontalCenterOffset;
            map.info.translateY = calculateFileVerticalCenterOffset;
            map.status.translateY = calculateFileVerticalCenterOffset;
            map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };
        }

        // should align center
        if (isAsync && !allowProcess) {
            [
                'DID_START_ITEM_PROCESSING',
                'DID_REQUEST_ITEM_PROCESSING',
                'DID_UPDATE_ITEM_PROCESS_PROGRESS',
                'DID_THROW_ITEM_PROCESSING_ERROR',
            ].forEach(function(key) {
                StyleMap[key].status.translateY = calculateFileVerticalCenterOffset;
            });
            StyleMap['DID_THROW_ITEM_PROCESSING_ERROR'].status.translateX = calculateButtonWidth;
        }

        // move remove button to right
        if (alignRemoveItemButton && allowRevert) {
            LocalButtons['RevertItemProcessing'].align = 'BUTTON_REMOVE_ITEM_POSITION';
            var _map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];
            _map.info.translateX = calculateFileInfoOffset;
            _map.status.translateY = calculateFileVerticalCenterOffset;
            _map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };
        }

        // show/hide RemoveItem button
        if (!allowRemove) {
            LocalButtons['RemoveItem'].disabled = true;
        }

        // create the button views
        forin(LocalButtons, function(key, definition) {
            // create button
            var buttonView = root.createChildView(fileActionButton, {
                label: root.query(definition.label),
                icon: root.query(definition.icon),
                opacity: 0,
            });

            // should be appended?
            if (enabledButtons.includes(key)) {
                root.appendChildView(buttonView);
            }

            // toggle
            if (definition.disabled) {
                buttonView.element.setAttribute('disabled', 'disabled');
                buttonView.element.setAttribute('hidden', 'hidden');
            }

            // add position attribute
            buttonView.element.dataset.align = root.query('GET_STYLE_' + definition.align);

            // add class
            buttonView.element.classList.add(definition.className);

            // handle interactions
            buttonView.on('click', function(e) {
                e.stopPropagation();
                if (definition.disabled) return;
                root.dispatch(definition.action, { query: id });
            });

            // set reference
            root.ref['button' + key] = buttonView;
        });

        // checkmark
        root.ref.processingCompleteIndicator = root.appendChildView(
            root.createChildView(processingCompleteIndicatorView)
        );

        root.ref.processingCompleteIndicator.element.dataset.align = root.query(
            'GET_STYLE_BUTTON_PROCESS_ITEM_POSITION'
        );

        // create file info view
        root.ref.info = root.appendChildView(root.createChildView(fileInfo, { id: id }));

        // create file status view
        root.ref.status = root.appendChildView(root.createChildView(fileStatus, { id: id }));

        // add progress indicators
        var loadIndicatorView = root.appendChildView(
            root.createChildView(progressIndicator, {
                opacity: 0,
                align: root.query('GET_STYLE_LOAD_INDICATOR_POSITION'),
            })
        );

        loadIndicatorView.element.classList.add('filepond--load-indicator');
        root.ref.loadProgressIndicator = loadIndicatorView;

        var progressIndicatorView = root.appendChildView(
            root.createChildView(progressIndicator, {
                opacity: 0,
                align: root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION'),
            })
        );

        progressIndicatorView.element.classList.add('filepond--process-indicator');
        root.ref.processProgressIndicator = progressIndicatorView;

        // current active styles
        root.ref.activeStyles = [];
    };

    var write$2 = function write(_ref3) {
        var root = _ref3.root,
            actions = _ref3.actions,
            props = _ref3.props;
        // route actions
        route({ root: root, actions: actions, props: props });

        // select last state change action
        var action = actions
            .concat()
            .filter(function(action) {
                return /^DID_/.test(action.type);
            })
            .reverse()
            .find(function(action) {
                return StyleMap[action.type];
            });

        // a new action happened, let's get the matching styles
        if (action) {
            // define new active styles
            root.ref.activeStyles = [];

            var stylesToApply = StyleMap[action.type];
            forin(DefaultStyle, function(name, defaultStyles) {
                // get reference to control
                var control = root.ref[name];

                // loop over all styles for this control
                forin(defaultStyles, function(key, defaultValue) {
                    var value =
                        stylesToApply[name] && typeof stylesToApply[name][key] !== 'undefined'
                            ? stylesToApply[name][key]
                            : defaultValue;
                    root.ref.activeStyles.push({ control: control, key: key, value: value });
                });
            });
        }

        // apply active styles to element
        root.ref.activeStyles.forEach(function(_ref4) {
            var control = _ref4.control,
                key = _ref4.key,
                value = _ref4.value;
            control[key] = typeof value === 'function' ? value(root) : value;
        });
    };

    var route = createRoute({
        DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING: function DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING(
            _ref5
        ) {
            var root = _ref5.root,
                action = _ref5.action;
            root.ref.buttonAbortItemProcessing.label = action.value;
        },
        DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD: function DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD(_ref6) {
            var root = _ref6.root,
                action = _ref6.action;
            root.ref.buttonAbortItemLoad.label = action.value;
        },
        DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL: function DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL(
            _ref7
        ) {
            var root = _ref7.root,
                action = _ref7.action;
            root.ref.buttonAbortItemRemoval.label = action.value;
        },
        DID_REQUEST_ITEM_PROCESSING: function DID_REQUEST_ITEM_PROCESSING(_ref8) {
            var root = _ref8.root;
            root.ref.processProgressIndicator.spin = true;
            root.ref.processProgressIndicator.progress = 0;
        },
        DID_START_ITEM_LOAD: function DID_START_ITEM_LOAD(_ref9) {
            var root = _ref9.root;
            root.ref.loadProgressIndicator.spin = true;
            root.ref.loadProgressIndicator.progress = 0;
        },
        DID_START_ITEM_REMOVE: function DID_START_ITEM_REMOVE(_ref10) {
            var root = _ref10.root;
            root.ref.processProgressIndicator.spin = true;
            root.ref.processProgressIndicator.progress = 0;
        },
        DID_UPDATE_ITEM_LOAD_PROGRESS: function DID_UPDATE_ITEM_LOAD_PROGRESS(_ref11) {
            var root = _ref11.root,
                action = _ref11.action;
            root.ref.loadProgressIndicator.spin = false;
            root.ref.loadProgressIndicator.progress = action.progress;
        },
        DID_UPDATE_ITEM_PROCESS_PROGRESS: function DID_UPDATE_ITEM_PROCESS_PROGRESS(_ref12) {
            var root = _ref12.root,
                action = _ref12.action;
            root.ref.processProgressIndicator.spin = false;
            root.ref.processProgressIndicator.progress = action.progress;
        },
    });

    var file = createView({
        create: create$4,
        write: write$2,
        didCreateView: function didCreateView(root) {
            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));
        },
        name: 'file',
    });

    /**
     * Creates the file view
     */
    var create$5 = function create(_ref) {
        var root = _ref.root,
            props = _ref.props;

        // filename
        root.ref.fileName = createElement$1('legend');
        root.appendChild(root.ref.fileName);

        // file appended
        root.ref.file = root.appendChildView(root.createChildView(file, { id: props.id }));

        // data has moved to data.js
        root.ref.data = false;
    };

    /**
     * Data storage
     */
    var didLoadItem = function didLoadItem(_ref2) {
        var root = _ref2.root,
            props = _ref2.props;
        // updates the legend of the fieldset so screenreaders can better group buttons
        text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));
    };

    var fileWrapper = createView({
        create: create$5,
        ignoreRect: true,
        write: createRoute({
            DID_LOAD_ITEM: didLoadItem,
        }),

        didCreateView: function didCreateView(root) {
            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));
        },
        tag: 'fieldset',
        name: 'file-wrapper',
    });

    var PANEL_SPRING_PROPS = { type: 'spring', damping: 0.6, mass: 7 };

    var create$6 = function create(_ref) {
        var root = _ref.root,
            props = _ref.props;
        [
            {
                name: 'top',
            },

            {
                name: 'center',
                props: {
                    translateY: null,
                    scaleY: null,
                },

                mixins: {
                    animations: {
                        scaleY: PANEL_SPRING_PROPS,
                    },

                    styles: ['translateY', 'scaleY'],
                },
            },

            {
                name: 'bottom',
                props: {
                    translateY: null,
                },

                mixins: {
                    animations: {
                        translateY: PANEL_SPRING_PROPS,
                    },

                    styles: ['translateY'],
                },
            },
        ].forEach(function(section) {
            createSection(root, section, props.name);
        });

        root.element.classList.add('filepond--' + props.name);

        root.ref.scalable = null;
    };

    var createSection = function createSection(root, section, className) {
        var viewConstructor = createView({
            name: 'panel-' + section.name + ' filepond--' + className,
            mixins: section.mixins,
            ignoreRectUpdate: true,
        });

        var view = root.createChildView(viewConstructor, section.props);

        root.ref[section.name] = root.appendChildView(view);
    };

    var write$3 = function write(_ref2) {
        var root = _ref2.root,
            props = _ref2.props;

        // update scalable state
        if (root.ref.scalable === null || props.scalable !== root.ref.scalable) {
            root.ref.scalable = isBoolean(props.scalable) ? props.scalable : true;
            root.element.dataset.scalable = root.ref.scalable;
        }

        // no height, can't set
        if (!props.height) return;

        // get child rects
        var topRect = root.ref.top.rect.element;
        var bottomRect = root.ref.bottom.rect.element;

        // make sure height never is smaller than bottom and top seciton heights combined (will probably never happen, but who knows)
        var height = Math.max(topRect.height + bottomRect.height, props.height);

        // offset center part
        root.ref.center.translateY = topRect.height;

        // scale center part
        // use math ceil to prevent transparent lines because of rounding errors
        root.ref.center.scaleY = (height - topRect.height - bottomRect.height) / 100;

        // offset bottom part
        root.ref.bottom.translateY = height - bottomRect.height;
    };

    var panel = createView({
        name: 'panel',
        read: function read(_ref3) {
            var root = _ref3.root,
                props = _ref3.props;
            return (props.heightCurrent = root.ref.bottom.translateY);
        },
        write: write$3,
        create: create$6,
        ignoreRect: true,
        mixins: {
            apis: ['height', 'heightCurrent', 'scalable'],
        },
    });

    var createDragHelper = function createDragHelper(items) {
        var itemIds = items.map(function(item) {
            return item.id;
        });
        var prevIndex = undefined;
        return {
            setIndex: function setIndex(index) {
                prevIndex = index;
            },
            getIndex: function getIndex() {
                return prevIndex;
            },
            getItemIndex: function getItemIndex(item) {
                return itemIds.indexOf(item.id);
            },
        };
    };

    var ITEM_TRANSLATE_SPRING = {
        type: 'spring',
        stiffness: 0.75,
        damping: 0.45,
        mass: 10,
    };

    var ITEM_SCALE_SPRING = 'spring';

    var StateMap = {
        DID_START_ITEM_LOAD: 'busy',
        DID_UPDATE_ITEM_LOAD_PROGRESS: 'loading',
        DID_THROW_ITEM_INVALID: 'load-invalid',
        DID_THROW_ITEM_LOAD_ERROR: 'load-error',
        DID_LOAD_ITEM: 'idle',
        DID_THROW_ITEM_REMOVE_ERROR: 'remove-error',
        DID_START_ITEM_REMOVE: 'busy',
        DID_START_ITEM_PROCESSING: 'busy processing',
        DID_REQUEST_ITEM_PROCESSING: 'busy processing',
        DID_UPDATE_ITEM_PROCESS_PROGRESS: 'processing',
        DID_COMPLETE_ITEM_PROCESSING: 'processing-complete',
        DID_THROW_ITEM_PROCESSING_ERROR: 'processing-error',
        DID_THROW_ITEM_PROCESSING_REVERT_ERROR: 'processing-revert-error',
        DID_ABORT_ITEM_PROCESSING: 'cancelled',
        DID_REVERT_ITEM_PROCESSING: 'idle',
    };

    /**
     * Creates the file view
     */
    var create$7 = function create(_ref) {
        var root = _ref.root,
            props = _ref.props;

        // select
        root.ref.handleClick = function(e) {
            return root.dispatch('DID_ACTIVATE_ITEM', { id: props.id });
        };

        // set id
        root.element.id = 'filepond--item-' + props.id;
        root.element.addEventListener('click', root.ref.handleClick);

        // file view
        root.ref.container = root.appendChildView(
            root.createChildView(fileWrapper, { id: props.id })
        );

        // file panel
        root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'item-panel' }));

        // default start height
        root.ref.panel.height = null;

        // by default not marked for removal
        props.markedForRemoval = false;

        // if not allowed to reorder file items, exit here
        if (!root.query('GET_ALLOW_REORDER')) return;

        // set to idle so shows grab cursor
        root.element.dataset.dragState = 'idle';

        var grab = function grab(e) {
            if (!e.isPrimary) return;

            var removedActivateListener = false;

            var origin = {
                x: e.pageX,
                y: e.pageY,
            };

            props.dragOrigin = {
                x: root.translateX,
                y: root.translateY,
            };

            props.dragCenter = {
                x: e.offsetX,
                y: e.offsetY,
            };

            var dragState = createDragHelper(root.query('GET_ACTIVE_ITEMS'));

            root.dispatch('DID_GRAB_ITEM', { id: props.id, dragState: dragState });

            var drag = function drag(e) {
                if (!e.isPrimary) return;

                e.stopPropagation();
                e.preventDefault();

                props.dragOffset = {
                    x: e.pageX - origin.x,
                    y: e.pageY - origin.y,
                };

                // if dragged stop listening to clicks, will re-add when done dragging
                var dist =
                    props.dragOffset.x * props.dragOffset.x +
                    props.dragOffset.y * props.dragOffset.y;
                if (dist > 16 && !removedActivateListener) {
                    removedActivateListener = true;
                    root.element.removeEventListener('click', root.ref.handleClick);
                }

                root.dispatch('DID_DRAG_ITEM', { id: props.id, dragState: dragState });
            };

            var drop = function drop(e) {
                if (!e.isPrimary) return;

                document.removeEventListener('pointermove', drag);
                document.removeEventListener('pointerup', drop);

                props.dragOffset = {
                    x: e.pageX - origin.x,
                    y: e.pageY - origin.y,
                };

                root.dispatch('DID_DROP_ITEM', { id: props.id, dragState: dragState });

                // start listening to clicks again
                if (removedActivateListener) {
                    setTimeout(function() {
                        return root.element.addEventListener('click', root.ref.handleClick);
                    }, 0);
                }
            };

            document.addEventListener('pointermove', drag);
            document.addEventListener('pointerup', drop);
        };

        root.element.addEventListener('pointerdown', grab);
    };

    var route$1 = createRoute({
        DID_UPDATE_PANEL_HEIGHT: function DID_UPDATE_PANEL_HEIGHT(_ref2) {
            var root = _ref2.root,
                action = _ref2.action;
            root.height = action.height;
        },
    });

    var write$4 = createRoute(
        {
            DID_GRAB_ITEM: function DID_GRAB_ITEM(_ref3) {
                var root = _ref3.root,
                    props = _ref3.props;
                props.dragOrigin = {
                    x: root.translateX,
                    y: root.translateY,
                };
            },
            DID_DRAG_ITEM: function DID_DRAG_ITEM(_ref4) {
                var root = _ref4.root;
                root.element.dataset.dragState = 'drag';
            },
            DID_DROP_ITEM: function DID_DROP_ITEM(_ref5) {
                var root = _ref5.root,
                    props = _ref5.props;
                props.dragOffset = null;
                props.dragOrigin = null;
                root.element.dataset.dragState = 'drop';
            },
        },
        function(_ref6) {
            var root = _ref6.root,
                actions = _ref6.actions,
                props = _ref6.props,
                shouldOptimize = _ref6.shouldOptimize;

            if (root.element.dataset.dragState === 'drop') {
                if (root.scaleX <= 1) {
                    root.element.dataset.dragState = 'idle';
                }
            }

            // select last state change action
            var action = actions
                .concat()
                .filter(function(action) {
                    return /^DID_/.test(action.type);
                })
                .reverse()
                .find(function(action) {
                    return StateMap[action.type];
                });

            // no need to set same state twice
            if (action && action.type !== props.currentState) {
                // set current state
                props.currentState = action.type;

                // set state
                root.element.dataset.filepondItemState = StateMap[props.currentState] || '';
            }

            // route actions
            var aspectRatio =
                root.query('GET_ITEM_PANEL_ASPECT_RATIO') || root.query('GET_PANEL_ASPECT_RATIO');
            if (!aspectRatio) {
                route$1({ root: root, actions: actions, props: props });
                if (!root.height && root.ref.container.rect.element.height > 0) {
                    root.height = root.ref.container.rect.element.height;
                }
            } else if (!shouldOptimize) {
                root.height = root.rect.element.width * aspectRatio;
            }

            // sync panel height with item height
            if (shouldOptimize) {
                root.ref.panel.height = null;
            }

            root.ref.panel.height = root.height;
        }
    );

    var item = createView({
        create: create$7,
        write: write$4,
        destroy: function destroy(_ref7) {
            var root = _ref7.root,
                props = _ref7.props;
            root.element.removeEventListener('click', root.ref.handleClick);
            root.dispatch('RELEASE_ITEM', { query: props.id });
        },
        tag: 'li',
        name: 'item',
        mixins: {
            apis: [
                'id',
                'interactionMethod',
                'markedForRemoval',
                'spawnDate',
                'dragCenter',
                'dragOrigin',
                'dragOffset',
            ],
            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity', 'height'],

            animations: {
                scaleX: ITEM_SCALE_SPRING,
                scaleY: ITEM_SCALE_SPRING,
                translateX: ITEM_TRANSLATE_SPRING,
                translateY: ITEM_TRANSLATE_SPRING,
                opacity: { type: 'tween', duration: 150 },
            },
        },
    });

    var getItemsPerRow = function(horizontalSpace, itemWidth) {
        // add one pixel leeway, when using percentages for item width total items can be 1.99 per row

        return Math.max(1, Math.floor((horizontalSpace + 1) / itemWidth));
    };

    var getItemIndexByPosition = function getItemIndexByPosition(view, children, positionInView) {
        if (!positionInView) return;

        var horizontalSpace = view.rect.element.width;
        // const children = view.childViews;
        var l = children.length;
        var last = null;

        // -1, don't move items to accomodate (either add to top or bottom)
        if (l === 0 || positionInView.top < children[0].rect.element.top) return -1;

        // let's get the item width
        var item = children[0];
        var itemRect = item.rect.element;
        var itemHorizontalMargin = itemRect.marginLeft + itemRect.marginRight;
        var itemWidth = itemRect.width + itemHorizontalMargin;
        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);

        // stack
        if (itemsPerRow === 1) {
            for (var index = 0; index < l; index++) {
                var child = children[index];
                var childMid = child.rect.outer.top + child.rect.element.height * 0.5;
                if (positionInView.top < childMid) {
                    return index;
                }
            }
            return l;
        }

        // grid
        var itemVerticalMargin = itemRect.marginTop + itemRect.marginBottom;
        var itemHeight = itemRect.height + itemVerticalMargin;
        for (var _index = 0; _index < l; _index++) {
            var indexX = _index % itemsPerRow;
            var indexY = Math.floor(_index / itemsPerRow);

            var offsetX = indexX * itemWidth;
            var offsetY = indexY * itemHeight;

            var itemTop = offsetY - itemRect.marginTop;
            var itemRight = offsetX + itemWidth;
            var itemBottom = offsetY + itemHeight + itemRect.marginBottom;

            if (positionInView.top < itemBottom && positionInView.top > itemTop) {
                if (positionInView.left < itemRight) {
                    return _index;
                } else if (_index !== l - 1) {
                    last = _index;
                } else {
                    last = null;
                }
            }
        }

        if (last !== null) {
            return last;
        }

        return l;
    };

    var dropAreaDimensions = {
        height: 0,
        width: 0,
        get getHeight() {
            return this.height;
        },
        set setHeight(val) {
            if (this.height === 0 || val === 0) this.height = val;
        },
        get getWidth() {
            return this.width;
        },
        set setWidth(val) {
            if (this.width === 0 || val === 0) this.width = val;
        },
        setDimensions: function setDimensions(height, width) {
            if (this.height === 0 || height === 0) this.height = height;
            if (this.width === 0 || width === 0) this.width = width;
        },
    };

    var create$8 = function create(_ref) {
        var root = _ref.root;
        // need to set role to list as otherwise it won't be read as a list by VoiceOver
        attr(root.element, 'role', 'list');

        root.ref.lastItemSpanwDate = Date.now();
    };

    /**
     * Inserts a new item
     * @param root
     * @param action
     */
    var addItemView = function addItemView(_ref2) {
        var root = _ref2.root,
            action = _ref2.action;
        var id = action.id,
            index = action.index,
            interactionMethod = action.interactionMethod;

        root.ref.addIndex = index;

        var now = Date.now();
        var spawnDate = now;
        var opacity = 1;

        if (interactionMethod !== InteractionMethod.NONE) {
            opacity = 0;
            var cooldown = root.query('GET_ITEM_INSERT_INTERVAL');
            var dist = now - root.ref.lastItemSpanwDate;
            spawnDate = dist < cooldown ? now + (cooldown - dist) : now;
        }

        root.ref.lastItemSpanwDate = spawnDate;

        root.appendChildView(
            root.createChildView(
                // view type
                item,

                // props
                {
                    spawnDate: spawnDate,
                    id: id,
                    opacity: opacity,
                    interactionMethod: interactionMethod,
                }
            ),

            index
        );
    };

    var moveItem = function moveItem(item, x, y) {
        var vx = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
        var vy = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;
        // set to null to remove animation while dragging
        if (item.dragOffset) {
            item.translateX = null;
            item.translateY = null;
            item.translateX = item.dragOrigin.x + item.dragOffset.x;
            item.translateY = item.dragOrigin.y + item.dragOffset.y;
            item.scaleX = 1.025;
            item.scaleY = 1.025;
        } else {
            item.translateX = x;
            item.translateY = y;

            if (Date.now() > item.spawnDate) {
                // reveal element
                if (item.opacity === 0) {
                    introItemView(item, x, y, vx, vy);
                }

                // make sure is default scale every frame
                item.scaleX = 1;
                item.scaleY = 1;
                item.opacity = 1;
            }
        }
    };

    var introItemView = function introItemView(item, x, y, vx, vy) {
        if (item.interactionMethod === InteractionMethod.NONE) {
            item.translateX = null;
            item.translateX = x;
            item.translateY = null;
            item.translateY = y;
        } else if (item.interactionMethod === InteractionMethod.DROP) {
            item.translateX = null;
            item.translateX = x - vx * 20;

            item.translateY = null;
            item.translateY = y - vy * 10;

            item.scaleX = 0.8;
            item.scaleY = 0.8;
        } else if (item.interactionMethod === InteractionMethod.BROWSE) {
            item.translateY = null;
            item.translateY = y - 30;
        } else if (item.interactionMethod === InteractionMethod.API) {
            item.translateX = null;
            item.translateX = x - 30;
            item.translateY = null;
        }
    };

    /**
     * Removes an existing item
     * @param root
     * @param action
     */
    var removeItemView = function removeItemView(_ref3) {
        var root = _ref3.root,
            action = _ref3.action;
        var id = action.id;

        // get the view matching the given id
        var view = root.childViews.find(function(child) {
            return child.id === id;
        });

        // if no view found, exit
        if (!view) {
            return;
        }

        // animate view out of view
        view.scaleX = 0.9;
        view.scaleY = 0.9;
        view.opacity = 0;

        // mark for removal
        view.markedForRemoval = true;
    };

    var getItemHeight = function getItemHeight(child) {
        return (
            child.rect.element.height +
            child.rect.element.marginBottom * 0.5 +
            child.rect.element.marginTop * 0.5
        );
    };
    var getItemWidth = function getItemWidth(child) {
        return (
            child.rect.element.width +
            child.rect.element.marginLeft * 0.5 +
            child.rect.element.marginRight * 0.5
        );
    };

    var dragItem = function dragItem(_ref4) {
        var root = _ref4.root,
            action = _ref4.action;
        var id = action.id,
            dragState = action.dragState;

        // reference to item
        var item = root.query('GET_ITEM', { id: id });

        // get the view matching the given id
        var view = root.childViews.find(function(child) {
            return child.id === id;
        });

        var numItems = root.childViews.length;
        var oldIndex = dragState.getItemIndex(item);

        // if no view found, exit
        if (!view) return;

        var dragPosition = {
            x: view.dragOrigin.x + view.dragOffset.x + view.dragCenter.x,
            y: view.dragOrigin.y + view.dragOffset.y + view.dragCenter.y,
        };

        // get drag area dimensions
        var dragHeight = getItemHeight(view);
        var dragWidth = getItemWidth(view);

        // get rows and columns (There will always be at least one row and one column if a file is present)
        var cols = Math.floor(root.rect.outer.width / dragWidth);
        if (cols > numItems) cols = numItems;

        // rows are used to find when we have left the preview area bounding box
        var rows = Math.floor(numItems / cols + 1);

        dropAreaDimensions.setHeight = dragHeight * rows;
        dropAreaDimensions.setWidth = dragWidth * cols;

        // get new index of dragged item
        var location = {
            y: Math.floor(dragPosition.y / dragHeight),
            x: Math.floor(dragPosition.x / dragWidth),
            getGridIndex: function getGridIndex() {
                if (
                    dragPosition.y > dropAreaDimensions.getHeight ||
                    dragPosition.y < 0 ||
                    dragPosition.x > dropAreaDimensions.getWidth ||
                    dragPosition.x < 0
                )
                    return oldIndex;
                return this.y * cols + this.x;
            },
            getColIndex: function getColIndex() {
                var items = root.query('GET_ACTIVE_ITEMS');
                var visibleChildren = root.childViews.filter(function(child) {
                    return child.rect.element.height;
                });
                var children = items.map(function(item) {
                    return visibleChildren.find(function(childView) {
                        return childView.id === item.id;
                    });
                });

                var currentIndex = children.findIndex(function(child) {
                    return child === view;
                });
                var dragHeight = getItemHeight(view);
                var l = children.length;
                var idx = l;
                var childHeight = 0;
                var childBottom = 0;
                var childTop = 0;
                for (var i = 0; i < l; i++) {
                    childHeight = getItemHeight(children[i]);
                    childTop = childBottom;
                    childBottom = childTop + childHeight;
                    if (dragPosition.y < childBottom) {
                        if (currentIndex > i) {
                            if (dragPosition.y < childTop + dragHeight) {
                                idx = i;
                                break;
                            }
                            continue;
                        }
                        idx = i;
                        break;
                    }
                }
                return idx;
            },
        };

        // get new index
        var index = cols > 1 ? location.getGridIndex() : location.getColIndex();
        root.dispatch('MOVE_ITEM', { query: view, index: index });

        // if the index of the item changed, dispatch reorder action
        var currentIndex = dragState.getIndex();

        if (currentIndex === undefined || currentIndex !== index) {
            dragState.setIndex(index);

            if (currentIndex === undefined) return;

            root.dispatch('DID_REORDER_ITEMS', {
                items: root.query('GET_ACTIVE_ITEMS'),
                origin: oldIndex,
                target: index,
            });
        }
    };

    /**
     * Setup action routes
     */
    var route$2 = createRoute({
        DID_ADD_ITEM: addItemView,
        DID_REMOVE_ITEM: removeItemView,
        DID_DRAG_ITEM: dragItem,
    });

    /**
     * Write to view
     * @param root
     * @param actions
     * @param props
     */
    var write$5 = function write(_ref5) {
        var root = _ref5.root,
            props = _ref5.props,
            actions = _ref5.actions,
            shouldOptimize = _ref5.shouldOptimize;
        // route actions
        route$2({ root: root, props: props, actions: actions });
        var dragCoordinates = props.dragCoordinates;

        // available space on horizontal axis
        var horizontalSpace = root.rect.element.width;

        // only draw children that have dimensions
        var visibleChildren = root.childViews.filter(function(child) {
            return child.rect.element.height;
        });

        // sort based on current active items
        var children = root
            .query('GET_ACTIVE_ITEMS')
            .map(function(item) {
                return visibleChildren.find(function(child) {
                    return child.id === item.id;
                });
            })
            .filter(function(item) {
                return item;
            });

        // get index
        var dragIndex = dragCoordinates
            ? getItemIndexByPosition(root, children, dragCoordinates)
            : null;

        // add index is used to reserve the dropped/added item index till the actual item is rendered
        var addIndex = root.ref.addIndex || null;

        // add index no longer needed till possibly next draw
        root.ref.addIndex = null;

        var dragIndexOffset = 0;
        var removeIndexOffset = 0;
        var addIndexOffset = 0;

        if (children.length === 0) return;

        var childRect = children[0].rect.element;
        var itemVerticalMargin = childRect.marginTop + childRect.marginBottom;
        var itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;
        var itemWidth = childRect.width + itemHorizontalMargin;
        var itemHeight = childRect.height + itemVerticalMargin;
        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);

        // stack
        if (itemsPerRow === 1) {
            var offsetY = 0;
            var dragOffset = 0;

            children.forEach(function(child, index) {
                if (dragIndex) {
                    var dist = index - dragIndex;
                    if (dist === -2) {
                        dragOffset = -itemVerticalMargin * 0.25;
                    } else if (dist === -1) {
                        dragOffset = -itemVerticalMargin * 0.75;
                    } else if (dist === 0) {
                        dragOffset = itemVerticalMargin * 0.75;
                    } else if (dist === 1) {
                        dragOffset = itemVerticalMargin * 0.25;
                    } else {
                        dragOffset = 0;
                    }
                }

                if (shouldOptimize) {
                    child.translateX = null;
                    child.translateY = null;
                }

                if (!child.markedForRemoval) {
                    moveItem(child, 0, offsetY + dragOffset);
                }

                var itemHeight = child.rect.element.height + itemVerticalMargin;

                var visualHeight = itemHeight * (child.markedForRemoval ? child.opacity : 1);

                offsetY += visualHeight;
            });
        }
        // grid
        else {
            var prevX = 0;
            var prevY = 0;

            children.forEach(function(child, index) {
                if (index === dragIndex) {
                    dragIndexOffset = 1;
                }

                if (index === addIndex) {
                    addIndexOffset += 1;
                }

                if (child.markedForRemoval && child.opacity < 0.5) {
                    removeIndexOffset -= 1;
                }

                var visualIndex = index + addIndexOffset + dragIndexOffset + removeIndexOffset;

                var indexX = visualIndex % itemsPerRow;
                var indexY = Math.floor(visualIndex / itemsPerRow);

                var offsetX = indexX * itemWidth;
                var offsetY = indexY * itemHeight;

                var vectorX = Math.sign(offsetX - prevX);
                var vectorY = Math.sign(offsetY - prevY);

                prevX = offsetX;
                prevY = offsetY;

                if (child.markedForRemoval) return;

                if (shouldOptimize) {
                    child.translateX = null;
                    child.translateY = null;
                }

                moveItem(child, offsetX, offsetY, vectorX, vectorY);
            });
        }
    };

    /**
     * Filters actions that are meant specifically for a certain child of the list
     * @param child
     * @param actions
     */
    var filterSetItemActions = function filterSetItemActions(child, actions) {
        return actions.filter(function(action) {
            // if action has an id, filter out actions that don't have this child id
            if (action.data && action.data.id) {
                return child.id === action.data.id;
            }

            // allow all other actions
            return true;
        });
    };

    var list = createView({
        create: create$8,
        write: write$5,
        tag: 'ul',
        name: 'list',
        didWriteView: function didWriteView(_ref6) {
            var root = _ref6.root;
            root.childViews
                .filter(function(view) {
                    return view.markedForRemoval && view.opacity === 0 && view.resting;
                })
                .forEach(function(view) {
                    view._destroy();
                    root.removeChildView(view);
                });
        },
        filterFrameActionsForChild: filterSetItemActions,
        mixins: {
            apis: ['dragCoordinates'],
        },
    });

    var create$9 = function create(_ref) {
        var root = _ref.root,
            props = _ref.props;
        root.ref.list = root.appendChildView(root.createChildView(list));
        props.dragCoordinates = null;
        props.overflowing = false;
    };

    var storeDragCoordinates = function storeDragCoordinates(_ref2) {
        var root = _ref2.root,
            props = _ref2.props,
            action = _ref2.action;
        if (!root.query('GET_ITEM_INSERT_LOCATION_FREEDOM')) return;
        props.dragCoordinates = {
            left: action.position.scopeLeft - root.ref.list.rect.element.left,
            top:
                action.position.scopeTop -
                (root.rect.outer.top + root.rect.element.marginTop + root.rect.element.scrollTop),
        };
    };

    var clearDragCoordinates = function clearDragCoordinates(_ref3) {
        var props = _ref3.props;
        props.dragCoordinates = null;
    };

    var route$3 = createRoute({
        DID_DRAG: storeDragCoordinates,
        DID_END_DRAG: clearDragCoordinates,
    });

    var write$6 = function write(_ref4) {
        var root = _ref4.root,
            props = _ref4.props,
            actions = _ref4.actions;

        // route actions
        route$3({ root: root, props: props, actions: actions });

        // current drag position
        root.ref.list.dragCoordinates = props.dragCoordinates;

        // if currently overflowing but no longer received overflow
        if (props.overflowing && !props.overflow) {
            props.overflowing = false;

            // reset overflow state
            root.element.dataset.state = '';
            root.height = null;
        }

        // if is not overflowing currently but does receive overflow value
        if (props.overflow) {
            var newHeight = Math.round(props.overflow);
            if (newHeight !== root.height) {
                props.overflowing = true;
                root.element.dataset.state = 'overflow';
                root.height = newHeight;
            }
        }
    };

    var listScroller = createView({
        create: create$9,
        write: write$6,
        name: 'list-scroller',
        mixins: {
            apis: ['overflow', 'dragCoordinates'],
            styles: ['height', 'translateY'],
            animations: {
                translateY: 'spring',
            },
        },
    });

    var attrToggle = function attrToggle(element, name, state) {
        var enabledValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';
        if (state) {
            attr(element, name, enabledValue);
        } else {
            element.removeAttribute(name);
        }
    };

    var resetFileInput = function resetFileInput(input) {
        // no value, no need to reset
        if (!input || input.value === '') {
            return;
        }

        try {
            // for modern browsers
            input.value = '';
        } catch (err) {}

        // for IE10
        if (input.value) {
            // quickly append input to temp form and reset form
            var form = createElement$1('form');
            var parentNode = input.parentNode;
            var ref = input.nextSibling;
            form.appendChild(input);
            form.reset();

            // re-inject input where it originally was
            if (ref) {
                parentNode.insertBefore(input, ref);
            } else {
                parentNode.appendChild(input);
            }
        }
    };

    var create$a = function create(_ref) {
        var root = _ref.root,
            props = _ref.props;

        // set id so can be referenced from outside labels
        root.element.id = 'filepond--browser-' + props.id;

        // set name of element (is removed when a value is set)
        attr(root.element, 'name', root.query('GET_NAME'));

        // we have to link this element to the status element
        attr(root.element, 'aria-controls', 'filepond--assistant-' + props.id);

        // set label, we use labelled by as otherwise the screenreader does not read the "browse" text in the label (as it has tabindex: 0)
        attr(root.element, 'aria-labelledby', 'filepond--drop-label-' + props.id);

        // set configurable props
        setAcceptedFileTypes({
            root: root,
            action: { value: root.query('GET_ACCEPTED_FILE_TYPES') },
        });
        toggleAllowMultiple({ root: root, action: { value: root.query('GET_ALLOW_MULTIPLE') } });
        toggleDirectoryFilter({
            root: root,
            action: { value: root.query('GET_ALLOW_DIRECTORIES_ONLY') },
        });
        toggleDisabled({ root: root });
        toggleRequired({ root: root, action: { value: root.query('GET_REQUIRED') } });
        setCaptureMethod({ root: root, action: { value: root.query('GET_CAPTURE_METHOD') } });

        // handle changes to the input field
        root.ref.handleChange = function(e) {
            if (!root.element.value) {
                return;
            }

            // extract files and move value of webkitRelativePath path to _relativePath
            var files = Array.from(root.element.files).map(function(file) {
                file._relativePath = file.webkitRelativePath;
                return file;
            });

            // we add a little delay so the OS file select window can move out of the way before we add our file
            setTimeout(function() {
                // load files
                props.onload(files);

                // reset input, it's just for exposing a method to drop files, should not retain any state
                resetFileInput(root.element);
            }, 250);
        };

        root.element.addEventListener('change', root.ref.handleChange);
    };

    var setAcceptedFileTypes = function setAcceptedFileTypes(_ref2) {
        var root = _ref2.root,
            action = _ref2.action;
        if (!root.query('GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE')) return;
        attrToggle(
            root.element,
            'accept',
            !!action.value,
            action.value ? action.value.join(',') : ''
        );
    };

    var toggleAllowMultiple = function toggleAllowMultiple(_ref3) {
        var root = _ref3.root,
            action = _ref3.action;
        attrToggle(root.element, 'multiple', action.value);
    };

    var toggleDirectoryFilter = function toggleDirectoryFilter(_ref4) {
        var root = _ref4.root,
            action = _ref4.action;
        attrToggle(root.element, 'webkitdirectory', action.value);
    };

    var toggleDisabled = function toggleDisabled(_ref5) {
        var root = _ref5.root;
        var isDisabled = root.query('GET_DISABLED');
        var doesAllowBrowse = root.query('GET_ALLOW_BROWSE');
        var disableField = isDisabled || !doesAllowBrowse;
        attrToggle(root.element, 'disabled', disableField);
    };

    var toggleRequired = function toggleRequired(_ref6) {
        var root = _ref6.root,
            action = _ref6.action;
        // want to remove required, always possible
        if (!action.value) {
            attrToggle(root.element, 'required', false);
        }
        // if want to make required, only possible when zero items
        else if (root.query('GET_TOTAL_ITEMS') === 0) {
            attrToggle(root.element, 'required', true);
        }
    };

    var setCaptureMethod = function setCaptureMethod(_ref7) {
        var root = _ref7.root,
            action = _ref7.action;
        attrToggle(
            root.element,
            'capture',
            !!action.value,
            action.value === true ? '' : action.value
        );
    };

    var updateRequiredStatus = function updateRequiredStatus(_ref8) {
        var root = _ref8.root;
        var element = root.element;
        // always remove the required attribute when more than zero items
        if (root.query('GET_TOTAL_ITEMS') > 0) {
            attrToggle(element, 'required', false);
            attrToggle(element, 'name', false);
        } else {
            // add name attribute
            attrToggle(element, 'name', true, root.query('GET_NAME'));

            // remove any validation messages
            var shouldCheckValidity = root.query('GET_CHECK_VALIDITY');
            if (shouldCheckValidity) {
                element.setCustomValidity('');
            }

            // we only add required if the field has been deemed required
            if (root.query('GET_REQUIRED')) {
                attrToggle(element, 'required', true);
            }
        }
    };

    var updateFieldValidityStatus = function updateFieldValidityStatus(_ref9) {
        var root = _ref9.root;
        var shouldCheckValidity = root.query('GET_CHECK_VALIDITY');
        if (!shouldCheckValidity) return;
        root.element.setCustomValidity(root.query('GET_LABEL_INVALID_FIELD'));
    };

    var browser = createView({
        tag: 'input',
        name: 'browser',
        ignoreRect: true,
        ignoreRectUpdate: true,
        attributes: {
            type: 'file',
        },

        create: create$a,
        destroy: function destroy(_ref10) {
            var root = _ref10.root;
            root.element.removeEventListener('change', root.ref.handleChange);
        },
        write: createRoute({
            DID_LOAD_ITEM: updateRequiredStatus,
            DID_REMOVE_ITEM: updateRequiredStatus,
            DID_THROW_ITEM_INVALID: updateFieldValidityStatus,

            DID_SET_DISABLED: toggleDisabled,
            DID_SET_ALLOW_BROWSE: toggleDisabled,
            DID_SET_ALLOW_DIRECTORIES_ONLY: toggleDirectoryFilter,
            DID_SET_ALLOW_MULTIPLE: toggleAllowMultiple,
            DID_SET_ACCEPTED_FILE_TYPES: setAcceptedFileTypes,
            DID_SET_CAPTURE_METHOD: setCaptureMethod,
            DID_SET_REQUIRED: toggleRequired,
        }),
    });

    var Key = {
        ENTER: 13,
        SPACE: 32,
    };

    var create$b = function create(_ref) {
        var root = _ref.root,
            props = _ref.props;

        // create the label and link it to the file browser
        var label = createElement$1('label');
        attr(label, 'for', 'filepond--browser-' + props.id);

        // use for labeling file input (aria-labelledby on file input)
        attr(label, 'id', 'filepond--drop-label-' + props.id);

        // hide the label for screenreaders, the input element will read the contents of the label when it's focussed. If we don't set aria-hidden the screenreader will also navigate the contents of the label separately from the input.
        attr(label, 'aria-hidden', 'true');

        // handle keys
        root.ref.handleKeyDown = function(e) {
            var isActivationKey = e.keyCode === Key.ENTER || e.keyCode === Key.SPACE;
            if (!isActivationKey) return;
            // stops from triggering the element a second time
            e.preventDefault();

            // click link (will then in turn activate file input)
            root.ref.label.click();
        };

        root.ref.handleClick = function(e) {
            var isLabelClick = e.target === label || label.contains(e.target);

            // don't want to click twice
            if (isLabelClick) return;

            // click link (will then in turn activate file input)
            root.ref.label.click();
        };

        // attach events
        label.addEventListener('keydown', root.ref.handleKeyDown);
        root.element.addEventListener('click', root.ref.handleClick);

        // update
        updateLabelValue(label, props.caption);

        // add!
        root.appendChild(label);
        root.ref.label = label;
    };

    var updateLabelValue = function updateLabelValue(label, value) {
        label.innerHTML = value;
        var clickable = label.querySelector('.filepond--label-action');
        if (clickable) {
            attr(clickable, 'tabindex', '0');
        }
        return value;
    };

    var dropLabel = createView({
        name: 'drop-label',
        ignoreRect: true,
        create: create$b,
        destroy: function destroy(_ref2) {
            var root = _ref2.root;
            root.ref.label.addEventListener('keydown', root.ref.handleKeyDown);
            root.element.removeEventListener('click', root.ref.handleClick);
        },
        write: createRoute({
            DID_SET_LABEL_IDLE: function DID_SET_LABEL_IDLE(_ref3) {
                var root = _ref3.root,
                    action = _ref3.action;
                updateLabelValue(root.ref.label, action.value);
            },
        }),

        mixins: {
            styles: ['opacity', 'translateX', 'translateY'],
            animations: {
                opacity: { type: 'tween', duration: 150 },
                translateX: 'spring',
                translateY: 'spring',
            },
        },
    });

    var blob = createView({
        name: 'drip-blob',
        ignoreRect: true,
        mixins: {
            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],
            animations: {
                scaleX: 'spring',
                scaleY: 'spring',
                translateX: 'spring',
                translateY: 'spring',
                opacity: { type: 'tween', duration: 250 },
            },
        },
    });

    var addBlob = function addBlob(_ref) {
        var root = _ref.root;
        var centerX = root.rect.element.width * 0.5;
        var centerY = root.rect.element.height * 0.5;

        root.ref.blob = root.appendChildView(
            root.createChildView(blob, {
                opacity: 0,
                scaleX: 2.5,
                scaleY: 2.5,
                translateX: centerX,
                translateY: centerY,
            })
        );
    };

    var moveBlob = function moveBlob(_ref2) {
        var root = _ref2.root,
            action = _ref2.action;
        if (!root.ref.blob) {
            addBlob({ root: root });
            return;
        }

        root.ref.blob.translateX = action.position.scopeLeft;
        root.ref.blob.translateY = action.position.scopeTop;
        root.ref.blob.scaleX = 1;
        root.ref.blob.scaleY = 1;
        root.ref.blob.opacity = 1;
    };

    var hideBlob = function hideBlob(_ref3) {
        var root = _ref3.root;
        if (!root.ref.blob) {
            return;
        }
        root.ref.blob.opacity = 0;
    };

    var explodeBlob = function explodeBlob(_ref4) {
        var root = _ref4.root;
        if (!root.ref.blob) {
            return;
        }
        root.ref.blob.scaleX = 2.5;
        root.ref.blob.scaleY = 2.5;
        root.ref.blob.opacity = 0;
    };

    var write$7 = function write(_ref5) {
        var root = _ref5.root,
            props = _ref5.props,
            actions = _ref5.actions;
        route$4({ root: root, props: props, actions: actions });
        var blob = root.ref.blob;

        if (actions.length === 0 && blob && blob.opacity === 0) {
            root.removeChildView(blob);
            root.ref.blob = null;
        }
    };

    var route$4 = createRoute({
        DID_DRAG: moveBlob,
        DID_DROP: explodeBlob,
        DID_END_DRAG: hideBlob,
    });

    var drip = createView({
        ignoreRect: true,
        ignoreRectUpdate: true,
        name: 'drip',
        write: write$7,
    });

    var setInputFiles = function setInputFiles(element, files) {
        try {
            // Create a DataTransfer instance and add a newly created file
            var dataTransfer = new DataTransfer();
            files.forEach(function(file) {
                if (file instanceof File) {
                    dataTransfer.items.add(file);
                } else {
                    dataTransfer.items.add(
                        new File([file], file.name, {
                            type: file.type,
                        })
                    );
                }
            });

            // Assign the DataTransfer files list to the file input
            element.files = dataTransfer.files;
        } catch (err) {
            return false;
        }
        return true;
    };

    var create$c = function create(_ref) {
        var root = _ref.root;
        return (root.ref.fields = {});
    };

    var getField = function getField(root, id) {
        return root.ref.fields[id];
    };

    var syncFieldPositionsWithItems = function syncFieldPositionsWithItems(root) {
        root.query('GET_ACTIVE_ITEMS').forEach(function(item) {
            if (!root.ref.fields[item.id]) return;
            root.element.appendChild(root.ref.fields[item.id]);
        });
    };

    var didReorderItems = function didReorderItems(_ref2) {
        var root = _ref2.root;
        return syncFieldPositionsWithItems(root);
    };

    var didAddItem = function didAddItem(_ref3) {
        var root = _ref3.root,
            action = _ref3.action;
        var fileItem = root.query('GET_ITEM', action.id);
        var isLocalFile = fileItem.origin === FileOrigin.LOCAL;
        var shouldUseFileInput = !isLocalFile && root.query('SHOULD_UPDATE_FILE_INPUT');
        var dataContainer = createElement$1('input');
        dataContainer.type = shouldUseFileInput ? 'file' : 'hidden';
        dataContainer.name = root.query('GET_NAME');
        dataContainer.disabled = root.query('GET_DISABLED');
        root.ref.fields[action.id] = dataContainer;
        syncFieldPositionsWithItems(root);
    };

    var didLoadItem$1 = function didLoadItem(_ref4) {
        var root = _ref4.root,
            action = _ref4.action;
        var field = getField(root, action.id);
        if (!field) return;

        // store server ref in hidden input
        if (action.serverFileReference !== null) field.value = action.serverFileReference;

        // store file item in file input
        if (!root.query('SHOULD_UPDATE_FILE_INPUT')) return;

        var fileItem = root.query('GET_ITEM', action.id);
        setInputFiles(field, [fileItem.file]);
    };

    var didPrepareOutput = function didPrepareOutput(_ref5) {
        var root = _ref5.root,
            action = _ref5.action;
        // this timeout pushes the handler after 'load'
        if (!root.query('SHOULD_UPDATE_FILE_INPUT')) return;
        setTimeout(function() {
            var field = getField(root, action.id);
            if (!field) return;
            setInputFiles(field, [action.file]);
        }, 0);
    };

    var didSetDisabled = function didSetDisabled(_ref6) {
        var root = _ref6.root;
        root.element.disabled = root.query('GET_DISABLED');
    };

    var didRemoveItem = function didRemoveItem(_ref7) {
        var root = _ref7.root,
            action = _ref7.action;
        var field = getField(root, action.id);
        if (!field) return;
        if (field.parentNode) field.parentNode.removeChild(field);
        delete root.ref.fields[action.id];
    };

    // only runs for server files (so doesn't deal with file input)
    var didDefineValue = function didDefineValue(_ref8) {
        var root = _ref8.root,
            action = _ref8.action;
        var field = getField(root, action.id);
        if (!field) return;
        if (action.value === null) {
            // clear field value
            field.removeAttribute('value');
        } else {
            // set field value
            field.value = action.value;
        }
        syncFieldPositionsWithItems(root);
    };

    var write$8 = createRoute({
        DID_SET_DISABLED: didSetDisabled,
        DID_ADD_ITEM: didAddItem,
        DID_LOAD_ITEM: didLoadItem$1,
        DID_REMOVE_ITEM: didRemoveItem,
        DID_DEFINE_VALUE: didDefineValue,
        DID_PREPARE_OUTPUT: didPrepareOutput,
        DID_REORDER_ITEMS: didReorderItems,
        DID_SORT_ITEMS: didReorderItems,
    });

    var data = createView({
        tag: 'fieldset',
        name: 'data',
        create: create$c,
        write: write$8,
        ignoreRect: true,
    });

    var getRootNode = function getRootNode(element) {
        return 'getRootNode' in element ? element.getRootNode() : document;
    };

    var images = ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp', 'svg', 'tiff'];
    var text$1 = ['css', 'csv', 'html', 'txt'];
    var map = {
        zip: 'zip|compressed',
        epub: 'application/epub+zip',
    };

    var guesstimateMimeType = function guesstimateMimeType() {
        var extension = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
        extension = extension.toLowerCase();
        if (images.includes(extension)) {
            return (
                'image/' +
                (extension === 'jpg' ? 'jpeg' : extension === 'svg' ? 'svg+xml' : extension)
            );
        }
        if (text$1.includes(extension)) {
            return 'text/' + extension;
        }

        return map[extension] || '';
    };

    var requestDataTransferItems = function requestDataTransferItems(dataTransfer) {
        return new Promise(function(resolve, reject) {
            // try to get links from transfer, if found we'll exit immediately (unless a file is in the dataTransfer as well, this is because Firefox could represent the file as a URL and a file object at the same time)
            var links = getLinks(dataTransfer);
            if (links.length && !hasFiles(dataTransfer)) {
                return resolve(links);
            }
            // try to get files from the transfer
            getFiles(dataTransfer).then(resolve);
        });
    };

    /**
     * Test if datatransfer has files
     */
    var hasFiles = function hasFiles(dataTransfer) {
        if (dataTransfer.files) return dataTransfer.files.length > 0;
        return false;
    };

    /**
     * Extracts files from a DataTransfer object
     */
    var getFiles = function getFiles(dataTransfer) {
        return new Promise(function(resolve, reject) {
            // get the transfer items as promises
            var promisedFiles = (dataTransfer.items ? Array.from(dataTransfer.items) : [])
                // only keep file system items (files and directories)
                .filter(function(item) {
                    return isFileSystemItem(item);
                })

                // map each item to promise
                .map(function(item) {
                    return getFilesFromItem(item);
                });

            // if is empty, see if we can extract some info from the files property as a fallback
            if (!promisedFiles.length) {
                // TODO: test for directories (should not be allowed)
                // Use FileReader, problem is that the files property gets lost in the process
                resolve(dataTransfer.files ? Array.from(dataTransfer.files) : []);
                return;
            }

            // done!
            Promise.all(promisedFiles)
                .then(function(returnedFileGroups) {
                    // flatten groups
                    var files = [];
                    returnedFileGroups.forEach(function(group) {
                        files.push.apply(files, group);
                    });

                    // done (filter out empty files)!
                    resolve(
                        files
                            .filter(function(file) {
                                return file;
                            })
                            .map(function(file) {
                                if (!file._relativePath)
                                    file._relativePath = file.webkitRelativePath;
                                return file;
                            })
                    );
                })
                .catch(console.error);
        });
    };

    var isFileSystemItem = function isFileSystemItem(item) {
        if (isEntry(item)) {
            var entry = getAsEntry(item);
            if (entry) {
                return entry.isFile || entry.isDirectory;
            }
        }
        return item.kind === 'file';
    };

    var getFilesFromItem = function getFilesFromItem(item) {
        return new Promise(function(resolve, reject) {
            if (isDirectoryEntry(item)) {
                getFilesInDirectory(getAsEntry(item))
                    .then(resolve)
                    .catch(reject);
                return;
            }

            resolve([item.getAsFile()]);
        });
    };

    var getFilesInDirectory = function getFilesInDirectory(entry) {
        return new Promise(function(resolve, reject) {
            var files = [];

            // the total entries to read
            var dirCounter = 0;
            var fileCounter = 0;

            var resolveIfDone = function resolveIfDone() {
                if (fileCounter === 0 && dirCounter === 0) {
                    resolve(files);
                }
            };

            // the recursive function
            var readEntries = function readEntries(dirEntry) {
                dirCounter++;

                var directoryReader = dirEntry.createReader();

                // directories are returned in batches, we need to process all batches before we're done
                var readBatch = function readBatch() {
                    directoryReader.readEntries(function(entries) {
                        if (entries.length === 0) {
                            dirCounter--;
                            resolveIfDone();
                            return;
                        }

                        entries.forEach(function(entry) {
                            // recursively read more directories
                            if (entry.isDirectory) {
                                readEntries(entry);
                            } else {
                                // read as file
                                fileCounter++;

                                entry.file(function(file) {
                                    var correctedFile = correctMissingFileType(file);
                                    if (entry.fullPath)
                                        correctedFile._relativePath = entry.fullPath;
                                    files.push(correctedFile);
                                    fileCounter--;
                                    resolveIfDone();
                                });
                            }
                        });

                        // try to get next batch of files
                        readBatch();
                    }, reject);
                };

                // read first batch of files
                readBatch();
            };

            // go!
            readEntries(entry);
        });
    };

    var correctMissingFileType = function correctMissingFileType(file) {
        if (file.type.length) return file;
        var date = file.lastModifiedDate;
        var name = file.name;
        var type = guesstimateMimeType(getExtensionFromFilename(file.name));
        if (!type.length) return file;
        file = file.slice(0, file.size, type);
        file.name = name;
        file.lastModifiedDate = date;
        return file;
    };

    var isDirectoryEntry = function isDirectoryEntry(item) {
        return isEntry(item) && (getAsEntry(item) || {}).isDirectory;
    };

    var isEntry = function isEntry(item) {
        return 'webkitGetAsEntry' in item;
    };

    var getAsEntry = function getAsEntry(item) {
        return item.webkitGetAsEntry();
    };

    /**
     * Extracts links from a DataTransfer object
     */
    var getLinks = function getLinks(dataTransfer) {
        var links = [];
        try {
            // look in meta data property
            links = getLinksFromTransferMetaData(dataTransfer);
            if (links.length) {
                return links;
            }
            links = getLinksFromTransferURLData(dataTransfer);
        } catch (e) {
            // nope nope nope (probably IE trouble)
        }
        return links;
    };

    var getLinksFromTransferURLData = function getLinksFromTransferURLData(dataTransfer) {
        var data = dataTransfer.getData('url');
        if (typeof data === 'string' && data.length) {
            return [data];
        }
        return [];
    };

    var getLinksFromTransferMetaData = function getLinksFromTransferMetaData(dataTransfer) {
        var data = dataTransfer.getData('text/html');
        if (typeof data === 'string' && data.length) {
            var matches = data.match(/src\s*=\s*"(.+?)"/);
            if (matches) {
                return [matches[1]];
            }
        }
        return [];
    };

    var dragNDropObservers = [];

    var eventPosition = function eventPosition(e) {
        return {
            pageLeft: e.pageX,
            pageTop: e.pageY,
            scopeLeft: e.offsetX || e.layerX,
            scopeTop: e.offsetY || e.layerY,
        };
    };

    var createDragNDropClient = function createDragNDropClient(
        element,
        scopeToObserve,
        filterElement
    ) {
        var observer = getDragNDropObserver(scopeToObserve);

        var client = {
            element: element,
            filterElement: filterElement,
            state: null,
            ondrop: function ondrop() {},
            onenter: function onenter() {},
            ondrag: function ondrag() {},
            onexit: function onexit() {},
            onload: function onload() {},
            allowdrop: function allowdrop() {},
        };

        client.destroy = observer.addListener(client);

        return client;
    };

    var getDragNDropObserver = function getDragNDropObserver(element) {
        // see if already exists, if so, return
        var observer = dragNDropObservers.find(function(item) {
            return item.element === element;
        });
        if (observer) {
            return observer;
        }

        // create new observer, does not yet exist for this element
        var newObserver = createDragNDropObserver(element);
        dragNDropObservers.push(newObserver);
        return newObserver;
    };

    var createDragNDropObserver = function createDragNDropObserver(element) {
        var clients = [];

        var routes = {
            dragenter: dragenter,
            dragover: dragover,
            dragleave: dragleave,
            drop: drop,
        };

        var handlers = {};

        forin(routes, function(event, createHandler) {
            handlers[event] = createHandler(element, clients);
            element.addEventListener(event, handlers[event], false);
        });

        var observer = {
            element: element,
            addListener: function addListener(client) {
                // add as client
                clients.push(client);

                // return removeListener function
                return function() {
                    // remove client
                    clients.splice(clients.indexOf(client), 1);

                    // if no more clients, clean up observer
                    if (clients.length === 0) {
                        dragNDropObservers.splice(dragNDropObservers.indexOf(observer), 1);

                        forin(routes, function(event) {
                            element.removeEventListener(event, handlers[event], false);
                        });
                    }
                };
            },
        };

        return observer;
    };

    var elementFromPoint = function elementFromPoint(root, point) {
        if (!('elementFromPoint' in root)) {
            root = document;
        }
        return root.elementFromPoint(point.x, point.y);
    };

    var isEventTarget = function isEventTarget(e, target) {
        // get root
        var root = getRootNode(target);

        // get element at position
        // if root is not actual shadow DOM and does not have elementFromPoint method, use the one on document
        var elementAtPosition = elementFromPoint(root, {
            x: e.pageX - window.pageXOffset,
            y: e.pageY - window.pageYOffset,
        });

        // test if target is the element or if one of its children is
        return elementAtPosition === target || target.contains(elementAtPosition);
    };

    var initialTarget = null;

    var setDropEffect = function setDropEffect(dataTransfer, effect) {
        // is in try catch as IE11 will throw error if not
        try {
            dataTransfer.dropEffect = effect;
        } catch (e) {}
    };

    var dragenter = function dragenter(root, clients) {
        return function(e) {
            e.preventDefault();

            initialTarget = e.target;

            clients.forEach(function(client) {
                var element = client.element,
                    onenter = client.onenter;

                if (isEventTarget(e, element)) {
                    client.state = 'enter';

                    // fire enter event
                    onenter(eventPosition(e));
                }
            });
        };
    };

    var dragover = function dragover(root, clients) {
        return function(e) {
            e.preventDefault();

            var dataTransfer = e.dataTransfer;

            requestDataTransferItems(dataTransfer).then(function(items) {
                var overDropTarget = false;

                clients.some(function(client) {
                    var filterElement = client.filterElement,
                        element = client.element,
                        onenter = client.onenter,
                        onexit = client.onexit,
                        ondrag = client.ondrag,
                        allowdrop = client.allowdrop;

                    // by default we can drop
                    setDropEffect(dataTransfer, 'copy');

                    // allow transfer of these items
                    var allowsTransfer = allowdrop(items);

                    // only used when can be dropped on page
                    if (!allowsTransfer) {
                        setDropEffect(dataTransfer, 'none');
                        return;
                    }

                    // targetting this client
                    if (isEventTarget(e, element)) {
                        overDropTarget = true;

                        // had no previous state, means we are entering this client
                        if (client.state === null) {
                            client.state = 'enter';
                            onenter(eventPosition(e));
                            return;
                        }

                        // now over element (no matter if it allows the drop or not)
                        client.state = 'over';

                        // needs to allow transfer
                        if (filterElement && !allowsTransfer) {
                            setDropEffect(dataTransfer, 'none');
                            return;
                        }

                        // dragging
                        ondrag(eventPosition(e));
                    } else {
                        // should be over an element to drop
                        if (filterElement && !overDropTarget) {
                            setDropEffect(dataTransfer, 'none');
                        }

                        // might have just left this client?
                        if (client.state) {
                            client.state = null;
                            onexit(eventPosition(e));
                        }
                    }
                });
            });
        };
    };

    var drop = function drop(root, clients) {
        return function(e) {
            e.preventDefault();

            var dataTransfer = e.dataTransfer;

            requestDataTransferItems(dataTransfer).then(function(items) {
                clients.forEach(function(client) {
                    var filterElement = client.filterElement,
                        element = client.element,
                        ondrop = client.ondrop,
                        onexit = client.onexit,
                        allowdrop = client.allowdrop;

                    client.state = null;

                    // if we're filtering on element we need to be over the element to drop
                    if (filterElement && !isEventTarget(e, element)) return;

                    // no transfer for this client
                    if (!allowdrop(items)) return onexit(eventPosition(e));

                    // we can drop these items on this client
                    ondrop(eventPosition(e), items);
                });
            });
        };
    };

    var dragleave = function dragleave(root, clients) {
        return function(e) {
            if (initialTarget !== e.target) {
                return;
            }

            clients.forEach(function(client) {
                var onexit = client.onexit;

                client.state = null;

                onexit(eventPosition(e));
            });
        };
    };

    var createHopper = function createHopper(scope, validateItems, options) {
        // is now hopper scope
        scope.classList.add('filepond--hopper');

        // shortcuts
        var catchesDropsOnPage = options.catchesDropsOnPage,
            requiresDropOnElement = options.requiresDropOnElement,
            _options$filterItems = options.filterItems,
            filterItems =
                _options$filterItems === void 0
                    ? function(items) {
                          return items;
                      }
                    : _options$filterItems;

        // create a dnd client
        var client = createDragNDropClient(
            scope,
            catchesDropsOnPage ? document.documentElement : scope,
            requiresDropOnElement
        );

        // current client state
        var lastState = '';
        var currentState = '';

        // determines if a file may be dropped
        client.allowdrop = function(items) {
            // TODO: if we can, throw error to indicate the items cannot by dropped

            return validateItems(filterItems(items));
        };

        client.ondrop = function(position, items) {
            var filteredItems = filterItems(items);

            if (!validateItems(filteredItems)) {
                api.ondragend(position);
                return;
            }

            currentState = 'drag-drop';

            api.onload(filteredItems, position);
        };

        client.ondrag = function(position) {
            api.ondrag(position);
        };

        client.onenter = function(position) {
            currentState = 'drag-over';

            api.ondragstart(position);
        };

        client.onexit = function(position) {
            currentState = 'drag-exit';

            api.ondragend(position);
        };

        var api = {
            updateHopperState: function updateHopperState() {
                if (lastState !== currentState) {
                    scope.dataset.hopperState = currentState;
                    lastState = currentState;
                }
            },
            onload: function onload() {},
            ondragstart: function ondragstart() {},
            ondrag: function ondrag() {},
            ondragend: function ondragend() {},
            destroy: function destroy() {
                // destroy client
                client.destroy();
            },
        };

        return api;
    };

    var listening = false;
    var listeners$1 = [];

    var handlePaste = function handlePaste(e) {
        // if is pasting in input or textarea and the target is outside of a filepond scope, ignore
        var activeEl = document.activeElement;
        if (activeEl && /textarea|input/i.test(activeEl.nodeName)) {
            // test textarea or input is contained in filepond root
            var inScope = false;
            var element = activeEl;
            while (element !== document.body) {
                if (element.classList.contains('filepond--root')) {
                    inScope = true;
                    break;
                }
                element = element.parentNode;
            }

            if (!inScope) return;
        }

        requestDataTransferItems(e.clipboardData).then(function(files) {
            // no files received
            if (!files.length) {
                return;
            }

            // notify listeners of received files
            listeners$1.forEach(function(listener) {
                return listener(files);
            });
        });
    };

    var listen = function listen(cb) {
        // can't add twice
        if (listeners$1.includes(cb)) {
            return;
        }

        // add initial listener
        listeners$1.push(cb);

        // setup paste listener for entire page
        if (listening) {
            return;
        }

        listening = true;
        document.addEventListener('paste', handlePaste);
    };

    var unlisten = function unlisten(listener) {
        arrayRemove(listeners$1, listeners$1.indexOf(listener));

        // clean up
        if (listeners$1.length === 0) {
            document.removeEventListener('paste', handlePaste);
            listening = false;
        }
    };

    var createPaster = function createPaster() {
        var cb = function cb(files) {
            api.onload(files);
        };

        var api = {
            destroy: function destroy() {
                unlisten(cb);
            },
            onload: function onload() {},
        };

        listen(cb);

        return api;
    };

    /**
     * Creates the file view
     */
    var create$d = function create(_ref) {
        var root = _ref.root,
            props = _ref.props;
        root.element.id = 'filepond--assistant-' + props.id;
        attr(root.element, 'role', 'status');
        attr(root.element, 'aria-live', 'polite');
        attr(root.element, 'aria-relevant', 'additions');
    };

    var addFilesNotificationTimeout = null;
    var notificationClearTimeout = null;

    var filenames = [];

    var assist = function assist(root, message) {
        root.element.textContent = message;
    };

    var clear$1 = function clear(root) {
        root.element.textContent = '';
    };

    var listModified = function listModified(root, filename, label) {
        var total = root.query('GET_TOTAL_ITEMS');
        assist(
            root,
            label +
                ' ' +
                filename +
                ', ' +
                total +
                ' ' +
                (total === 1
                    ? root.query('GET_LABEL_FILE_COUNT_SINGULAR')
                    : root.query('GET_LABEL_FILE_COUNT_PLURAL'))
        );

        // clear group after set amount of time so the status is not read twice
        clearTimeout(notificationClearTimeout);
        notificationClearTimeout = setTimeout(function() {
            clear$1(root);
        }, 1500);
    };

    var isUsingFilePond = function isUsingFilePond(root) {
        return root.element.parentNode.contains(document.activeElement);
    };

    var itemAdded = function itemAdded(_ref2) {
        var root = _ref2.root,
            action = _ref2.action;
        if (!isUsingFilePond(root)) {
            return;
        }

        root.element.textContent = '';
        var item = root.query('GET_ITEM', action.id);
        filenames.push(item.filename);

        clearTimeout(addFilesNotificationTimeout);
        addFilesNotificationTimeout = setTimeout(function() {
            listModified(root, filenames.join(', '), root.query('GET_LABEL_FILE_ADDED'));

            filenames.length = 0;
        }, 750);
    };

    var itemRemoved = function itemRemoved(_ref3) {
        var root = _ref3.root,
            action = _ref3.action;
        if (!isUsingFilePond(root)) {
            return;
        }

        var item = action.item;
        listModified(root, item.filename, root.query('GET_LABEL_FILE_REMOVED'));
    };

    var itemProcessed = function itemProcessed(_ref4) {
        var root = _ref4.root,
            action = _ref4.action;
        // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file

        var item = root.query('GET_ITEM', action.id);
        var filename = item.filename;
        var label = root.query('GET_LABEL_FILE_PROCESSING_COMPLETE');

        assist(root, filename + ' ' + label);
    };

    var itemProcessedUndo = function itemProcessedUndo(_ref5) {
        var root = _ref5.root,
            action = _ref5.action;
        var item = root.query('GET_ITEM', action.id);
        var filename = item.filename;
        var label = root.query('GET_LABEL_FILE_PROCESSING_ABORTED');

        assist(root, filename + ' ' + label);
    };

    var itemError = function itemError(_ref6) {
        var root = _ref6.root,
            action = _ref6.action;
        var item = root.query('GET_ITEM', action.id);
        var filename = item.filename;

        // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file

        assist(root, action.status.main + ' ' + filename + ' ' + action.status.sub);
    };

    var assistant = createView({
        create: create$d,
        ignoreRect: true,
        ignoreRectUpdate: true,
        write: createRoute({
            DID_LOAD_ITEM: itemAdded,
            DID_REMOVE_ITEM: itemRemoved,
            DID_COMPLETE_ITEM_PROCESSING: itemProcessed,

            DID_ABORT_ITEM_PROCESSING: itemProcessedUndo,
            DID_REVERT_ITEM_PROCESSING: itemProcessedUndo,

            DID_THROW_ITEM_REMOVE_ERROR: itemError,
            DID_THROW_ITEM_LOAD_ERROR: itemError,
            DID_THROW_ITEM_INVALID: itemError,
            DID_THROW_ITEM_PROCESSING_ERROR: itemError,
        }),

        tag: 'span',
        name: 'assistant',
    });

    var toCamels = function toCamels(string) {
        var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '-';
        return string.replace(new RegExp(separator + '.', 'g'), function(sub) {
            return sub.charAt(1).toUpperCase();
        });
    };

    var debounce = function debounce(func) {
        var interval = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 16;
        var immidiateOnly =
            arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
        var last = Date.now();
        var timeout = null;

        return function() {
            for (
                var _len = arguments.length, args = new Array(_len), _key = 0;
                _key < _len;
                _key++
            ) {
                args[_key] = arguments[_key];
            }
            clearTimeout(timeout);

            var dist = Date.now() - last;

            var fn = function fn() {
                last = Date.now();
                func.apply(void 0, args);
            };

            if (dist < interval) {
                // we need to delay by the difference between interval and dist
                // for example: if distance is 10 ms and interval is 16 ms,
                // we need to wait an additional 6ms before calling the function)
                if (!immidiateOnly) {
                    timeout = setTimeout(fn, interval - dist);
                }
            } else {
                // go!
                fn();
            }
        };
    };

    var MAX_FILES_LIMIT = 1000000;

    var prevent = function prevent(e) {
        return e.preventDefault();
    };

    var create$e = function create(_ref) {
        var root = _ref.root,
            props = _ref.props;
        // Add id
        var id = root.query('GET_ID');
        if (id) {
            root.element.id = id;
        }

        // Add className
        var className = root.query('GET_CLASS_NAME');
        if (className) {
            className
                .split(' ')
                .filter(function(name) {
                    return name.length;
                })
                .forEach(function(name) {
                    root.element.classList.add(name);
                });
        }

        // Field label
        root.ref.label = root.appendChildView(
            root.createChildView(
                dropLabel,
                Object.assign({}, props, {
                    translateY: null,
                    caption: root.query('GET_LABEL_IDLE'),
                })
            )
        );

        // List of items
        root.ref.list = root.appendChildView(
            root.createChildView(listScroller, { translateY: null })
        );

        // Background panel
        root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'panel-root' }));

        // Assistant notifies assistive tech when content changes
        root.ref.assistant = root.appendChildView(
            root.createChildView(assistant, Object.assign({}, props))
        );

        // Data
        root.ref.data = root.appendChildView(root.createChildView(data, Object.assign({}, props)));

        // Measure (tests if fixed height was set)
        // DOCTYPE needs to be set for this to work
        root.ref.measure = createElement$1('div');
        root.ref.measure.style.height = '100%';
        root.element.appendChild(root.ref.measure);

        // information on the root height or fixed height status
        root.ref.bounds = null;

        // apply initial style properties
        root.query('GET_STYLES')
            .filter(function(style) {
                return !isEmpty(style.value);
            })
            .map(function(_ref2) {
                var name = _ref2.name,
                    value = _ref2.value;
                root.element.dataset[name] = value;
            });

        // determine if width changed
        root.ref.widthPrevious = null;
        root.ref.widthUpdated = debounce(function() {
            root.ref.updateHistory = [];
            root.dispatch('DID_RESIZE_ROOT');
        }, 250);

        // history of updates
        root.ref.previousAspectRatio = null;
        root.ref.updateHistory = [];

        // prevent scrolling and zooming on iOS (only if supports pointer events, for then we can enable reorder)
        var canHover = window.matchMedia('(pointer: fine) and (hover: hover)').matches;
        var hasPointerEvents = 'PointerEvent' in window;
        if (root.query('GET_ALLOW_REORDER') && hasPointerEvents && !canHover) {
            root.element.addEventListener('touchmove', prevent, { passive: false });
            root.element.addEventListener('gesturestart', prevent);
        }

        // add credits
        var credits = root.query('GET_CREDITS');
        var hasCredits = credits.length === 2;
        if (hasCredits) {
            var frag = document.createElement('a');
            frag.className = 'filepond--credits';
            frag.setAttribute('aria-hidden', 'true');
            frag.href = credits[0];
            frag.tabindex = -1;
            frag.target = '_blank';
            frag.rel = 'noopener noreferrer';
            frag.textContent = credits[1];
            root.element.appendChild(frag);
            root.ref.credits = frag;
        }
    };

    var write$9 = function write(_ref3) {
        var root = _ref3.root,
            props = _ref3.props,
            actions = _ref3.actions;
        // route actions
        route$5({ root: root, props: props, actions: actions });

        // apply style properties
        actions
            .filter(function(action) {
                return /^DID_SET_STYLE_/.test(action.type);
            })
            .filter(function(action) {
                return !isEmpty(action.data.value);
            })
            .map(function(_ref4) {
                var type = _ref4.type,
                    data = _ref4.data;
                var name = toCamels(type.substring(8).toLowerCase(), '_');
                root.element.dataset[name] = data.value;
                root.invalidateLayout();
            });

        if (root.rect.element.hidden) return;

        if (root.rect.element.width !== root.ref.widthPrevious) {
            root.ref.widthPrevious = root.rect.element.width;
            root.ref.widthUpdated();
        }

        // get box bounds, we do this only once
        var bounds = root.ref.bounds;
        if (!bounds) {
            bounds = root.ref.bounds = calculateRootBoundingBoxHeight(root);

            // destroy measure element
            root.element.removeChild(root.ref.measure);
            root.ref.measure = null;
        }

        // get quick references to various high level parts of the upload tool
        var _root$ref = root.ref,
            hopper = _root$ref.hopper,
            label = _root$ref.label,
            list = _root$ref.list,
            panel = _root$ref.panel;

        // sets correct state to hopper scope
        if (hopper) {
            hopper.updateHopperState();
        }

        // bool to indicate if we're full or not
        var aspectRatio = root.query('GET_PANEL_ASPECT_RATIO');
        var isMultiItem = root.query('GET_ALLOW_MULTIPLE');
        var totalItems = root.query('GET_TOTAL_ITEMS');
        var maxItems = isMultiItem ? root.query('GET_MAX_FILES') || MAX_FILES_LIMIT : 1;
        var atMaxCapacity = totalItems === maxItems;

        // action used to add item
        var addAction = actions.find(function(action) {
            return action.type === 'DID_ADD_ITEM';
        });

        // if reached max capacity and we've just reached it
        if (atMaxCapacity && addAction) {
            // get interaction type
            var interactionMethod = addAction.data.interactionMethod;

            // hide label
            label.opacity = 0;

            if (isMultiItem) {
                label.translateY = -40;
            } else {
                if (interactionMethod === InteractionMethod.API) {
                    label.translateX = 40;
                } else if (interactionMethod === InteractionMethod.BROWSE) {
                    label.translateY = 40;
                } else {
                    label.translateY = 30;
                }
            }
        } else if (!atMaxCapacity) {
            label.opacity = 1;
            label.translateX = 0;
            label.translateY = 0;
        }

        var listItemMargin = calculateListItemMargin(root);

        var listHeight = calculateListHeight(root);

        var labelHeight = label.rect.element.height;
        var currentLabelHeight = !isMultiItem || atMaxCapacity ? 0 : labelHeight;

        var listMarginTop = atMaxCapacity ? list.rect.element.marginTop : 0;
        var listMarginBottom = totalItems === 0 ? 0 : list.rect.element.marginBottom;

        var visualHeight =
            currentLabelHeight + listMarginTop + listHeight.visual + listMarginBottom;
        var boundsHeight =
            currentLabelHeight + listMarginTop + listHeight.bounds + listMarginBottom;

        // link list to label bottom position
        list.translateY =
            Math.max(0, currentLabelHeight - list.rect.element.marginTop) - listItemMargin.top;

        if (aspectRatio) {
            // fixed aspect ratio

            // calculate height based on width
            var width = root.rect.element.width;
            var height = width * aspectRatio;

            // clear history if aspect ratio has changed
            if (aspectRatio !== root.ref.previousAspectRatio) {
                root.ref.previousAspectRatio = aspectRatio;
                root.ref.updateHistory = [];
            }

            // remember this width
            var history = root.ref.updateHistory;
            history.push(width);

            var MAX_BOUNCES = 2;
            if (history.length > MAX_BOUNCES * 2) {
                var l = history.length;
                var bottom = l - 10;
                var bounces = 0;
                for (var i = l; i >= bottom; i--) {
                    if (history[i] === history[i - 2]) {
                        bounces++;
                    }

                    if (bounces >= MAX_BOUNCES) {
                        // dont adjust height
                        return;
                    }
                }
            }

            // fix height of panel so it adheres to aspect ratio
            panel.scalable = false;
            panel.height = height;

            // available height for list
            var listAvailableHeight =
                // the height of the panel minus the label height
                height -
                currentLabelHeight -
                // the room we leave open between the end of the list and the panel bottom
                (listMarginBottom - listItemMargin.bottom) -
                // if we're full we need to leave some room between the top of the panel and the list
                (atMaxCapacity ? listMarginTop : 0);

            if (listHeight.visual > listAvailableHeight) {
                list.overflow = listAvailableHeight;
            } else {
                list.overflow = null;
            }

            // set container bounds (so pushes siblings downwards)
            root.height = height;
        } else if (bounds.fixedHeight) {
            // fixed height

            // fix height of panel
            panel.scalable = false;

            // available height for list
            var _listAvailableHeight =
                // the height of the panel minus the label height
                bounds.fixedHeight -
                currentLabelHeight -
                // the room we leave open between the end of the list and the panel bottom
                (listMarginBottom - listItemMargin.bottom) -
                // if we're full we need to leave some room between the top of the panel and the list
                (atMaxCapacity ? listMarginTop : 0);

            // set list height
            if (listHeight.visual > _listAvailableHeight) {
                list.overflow = _listAvailableHeight;
            } else {
                list.overflow = null;
            }

            // no need to set container bounds as these are handles by CSS fixed height
        } else if (bounds.cappedHeight) {
            // max-height

            // not a fixed height panel
            var isCappedHeight = visualHeight >= bounds.cappedHeight;
            var panelHeight = Math.min(bounds.cappedHeight, visualHeight);
            panel.scalable = true;
            panel.height = isCappedHeight
                ? panelHeight
                : panelHeight - listItemMargin.top - listItemMargin.bottom;

            // available height for list
            var _listAvailableHeight2 =
                // the height of the panel minus the label height
                panelHeight -
                currentLabelHeight -
                // the room we leave open between the end of the list and the panel bottom
                (listMarginBottom - listItemMargin.bottom) -
                // if we're full we need to leave some room between the top of the panel and the list
                (atMaxCapacity ? listMarginTop : 0);

            // set list height (if is overflowing)
            if (visualHeight > bounds.cappedHeight && listHeight.visual > _listAvailableHeight2) {
                list.overflow = _listAvailableHeight2;
            } else {
                list.overflow = null;
            }

            // set container bounds (so pushes siblings downwards)
            root.height = Math.min(
                bounds.cappedHeight,
                boundsHeight - listItemMargin.top - listItemMargin.bottom
            );
        } else {
            // flexible height

            // not a fixed height panel
            var itemMargin = totalItems > 0 ? listItemMargin.top + listItemMargin.bottom : 0;
            panel.scalable = true;
            panel.height = Math.max(labelHeight, visualHeight - itemMargin);

            // set container bounds (so pushes siblings downwards)
            root.height = Math.max(labelHeight, boundsHeight - itemMargin);
        }

        // move credits to bottom
        if (root.ref.credits && panel.heightCurrent)
            root.ref.credits.style.transform = 'translateY(' + panel.heightCurrent + 'px)';
    };

    var calculateListItemMargin = function calculateListItemMargin(root) {
        var item = root.ref.list.childViews[0].childViews[0];
        return item
            ? {
                  top: item.rect.element.marginTop,
                  bottom: item.rect.element.marginBottom,
              }
            : {
                  top: 0,
                  bottom: 0,
              };
    };

    var calculateListHeight = function calculateListHeight(root) {
        var visual = 0;
        var bounds = 0;

        // get file list reference
        var scrollList = root.ref.list;
        var itemList = scrollList.childViews[0];
        var visibleChildren = itemList.childViews.filter(function(child) {
            return child.rect.element.height;
        });
        var children = root
            .query('GET_ACTIVE_ITEMS')
            .map(function(item) {
                return visibleChildren.find(function(child) {
                    return child.id === item.id;
                });
            })
            .filter(function(item) {
                return item;
            });

        // no children, done!
        if (children.length === 0) return { visual: visual, bounds: bounds };

        var horizontalSpace = itemList.rect.element.width;
        var dragIndex = getItemIndexByPosition(itemList, children, scrollList.dragCoordinates);

        var childRect = children[0].rect.element;

        var itemVerticalMargin = childRect.marginTop + childRect.marginBottom;
        var itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;

        var itemWidth = childRect.width + itemHorizontalMargin;
        var itemHeight = childRect.height + itemVerticalMargin;

        var newItem = typeof dragIndex !== 'undefined' && dragIndex >= 0 ? 1 : 0;
        var removedItem = children.find(function(child) {
            return child.markedForRemoval && child.opacity < 0.45;
        })
            ? -1
            : 0;
        var verticalItemCount = children.length + newItem + removedItem;
        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);

        // stack
        if (itemsPerRow === 1) {
            children.forEach(function(item) {
                var height = item.rect.element.height + itemVerticalMargin;
                bounds += height;
                visual += height * item.opacity;
            });
        }
        // grid
        else {
            bounds = Math.ceil(verticalItemCount / itemsPerRow) * itemHeight;
            visual = bounds;
        }

        return { visual: visual, bounds: bounds };
    };

    var calculateRootBoundingBoxHeight = function calculateRootBoundingBoxHeight(root) {
        var height = root.ref.measureHeight || null;
        var cappedHeight = parseInt(root.style.maxHeight, 10) || null;
        var fixedHeight = height === 0 ? null : height;

        return {
            cappedHeight: cappedHeight,
            fixedHeight: fixedHeight,
        };
    };

    var exceedsMaxFiles = function exceedsMaxFiles(root, items) {
        var allowReplace = root.query('GET_ALLOW_REPLACE');
        var allowMultiple = root.query('GET_ALLOW_MULTIPLE');
        var totalItems = root.query('GET_TOTAL_ITEMS');
        var maxItems = root.query('GET_MAX_FILES');

        // total amount of items being dragged
        var totalBrowseItems = items.length;

        // if does not allow multiple items and dragging more than one item
        if (!allowMultiple && totalBrowseItems > 1) {
            root.dispatch('DID_THROW_MAX_FILES', {
                source: items,
                error: createResponse('warning', 0, 'Max files'),
            });

            return true;
        }

        // limit max items to one if not allowed to drop multiple items
        maxItems = allowMultiple ? maxItems : 1;

        if (!allowMultiple && allowReplace) {
            // There is only one item, so there is room to replace or add an item
            return false;
        }

        // no more room?
        var hasMaxItems = isInt(maxItems);
        if (hasMaxItems && totalItems + totalBrowseItems > maxItems) {
            root.dispatch('DID_THROW_MAX_FILES', {
                source: items,
                error: createResponse('warning', 0, 'Max files'),
            });

            return true;
        }

        return false;
    };

    var getDragIndex = function getDragIndex(list, children, position) {
        var itemList = list.childViews[0];
        return getItemIndexByPosition(itemList, children, {
            left: position.scopeLeft - itemList.rect.element.left,
            top:
                position.scopeTop -
                (list.rect.outer.top + list.rect.element.marginTop + list.rect.element.scrollTop),
        });
    };

    /**
     * Enable or disable file drop functionality
     */
    var toggleDrop = function toggleDrop(root) {
        var isAllowed = root.query('GET_ALLOW_DROP');
        var isDisabled = root.query('GET_DISABLED');
        var enabled = isAllowed && !isDisabled;
        if (enabled && !root.ref.hopper) {
            var hopper = createHopper(
                root.element,
                function(items) {
                    // allow quick validation of dropped items
                    var beforeDropFile =
                        root.query('GET_BEFORE_DROP_FILE') ||
                        function() {
                            return true;
                        };

                    // all items should be validated by all filters as valid
                    var dropValidation = root.query('GET_DROP_VALIDATION');
                    return dropValidation
                        ? items.every(function(item) {
                              return (
                                  applyFilters('ALLOW_HOPPER_ITEM', item, {
                                      query: root.query,
                                  }).every(function(result) {
                                      return result === true;
                                  }) && beforeDropFile(item)
                              );
                          })
                        : true;
                },
                {
                    filterItems: function filterItems(items) {
                        var ignoredFiles = root.query('GET_IGNORED_FILES');
                        return items.filter(function(item) {
                            if (isFile(item)) {
                                return !ignoredFiles.includes(item.name.toLowerCase());
                            }
                            return true;
                        });
                    },
                    catchesDropsOnPage: root.query('GET_DROP_ON_PAGE'),
                    requiresDropOnElement: root.query('GET_DROP_ON_ELEMENT'),
                }
            );

            hopper.onload = function(items, position) {
                // get item children elements and sort based on list sort
                var list = root.ref.list.childViews[0];
                var visibleChildren = list.childViews.filter(function(child) {
                    return child.rect.element.height;
                });
                var children = root
                    .query('GET_ACTIVE_ITEMS')
                    .map(function(item) {
                        return visibleChildren.find(function(child) {
                            return child.id === item.id;
                        });
                    })
                    .filter(function(item) {
                        return item;
                    });

                applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(function(
                    queue
                ) {
                    // these files don't fit so stop here
                    if (exceedsMaxFiles(root, queue)) return false;

                    // go
                    root.dispatch('ADD_ITEMS', {
                        items: queue,
                        index: getDragIndex(root.ref.list, children, position),
                        interactionMethod: InteractionMethod.DROP,
                    });
                });

                root.dispatch('DID_DROP', { position: position });

                root.dispatch('DID_END_DRAG', { position: position });
            };

            hopper.ondragstart = function(position) {
                root.dispatch('DID_START_DRAG', { position: position });
            };

            hopper.ondrag = debounce(function(position) {
                root.dispatch('DID_DRAG', { position: position });
            });

            hopper.ondragend = function(position) {
                root.dispatch('DID_END_DRAG', { position: position });
            };

            root.ref.hopper = hopper;

            root.ref.drip = root.appendChildView(root.createChildView(drip));
        } else if (!enabled && root.ref.hopper) {
            root.ref.hopper.destroy();
            root.ref.hopper = null;
            root.removeChildView(root.ref.drip);
        }
    };

    /**
     * Enable or disable browse functionality
     */
    var toggleBrowse = function toggleBrowse(root, props) {
        var isAllowed = root.query('GET_ALLOW_BROWSE');
        var isDisabled = root.query('GET_DISABLED');
        var enabled = isAllowed && !isDisabled;
        if (enabled && !root.ref.browser) {
            root.ref.browser = root.appendChildView(
                root.createChildView(
                    browser,
                    Object.assign({}, props, {
                        onload: function onload(items) {
                            applyFilterChain('ADD_ITEMS', items, {
                                dispatch: root.dispatch,
                            }).then(function(queue) {
                                // these files don't fit so stop here
                                if (exceedsMaxFiles(root, queue)) return false;

                                // add items!
                                root.dispatch('ADD_ITEMS', {
                                    items: queue,
                                    index: -1,
                                    interactionMethod: InteractionMethod.BROWSE,
                                });
                            });
                        },
                    })
                ),

                0
            );
        } else if (!enabled && root.ref.browser) {
            root.removeChildView(root.ref.browser);
            root.ref.browser = null;
        }
    };

    /**
     * Enable or disable paste functionality
     */
    var togglePaste = function togglePaste(root) {
        var isAllowed = root.query('GET_ALLOW_PASTE');
        var isDisabled = root.query('GET_DISABLED');
        var enabled = isAllowed && !isDisabled;
        if (enabled && !root.ref.paster) {
            root.ref.paster = createPaster();
            root.ref.paster.onload = function(items) {
                applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(function(
                    queue
                ) {
                    // these files don't fit so stop here
                    if (exceedsMaxFiles(root, queue)) return false;

                    // add items!
                    root.dispatch('ADD_ITEMS', {
                        items: queue,
                        index: -1,
                        interactionMethod: InteractionMethod.PASTE,
                    });
                });
            };
        } else if (!enabled && root.ref.paster) {
            root.ref.paster.destroy();
            root.ref.paster = null;
        }
    };

    /**
     * Route actions
     */
    var route$5 = createRoute({
        DID_SET_ALLOW_BROWSE: function DID_SET_ALLOW_BROWSE(_ref5) {
            var root = _ref5.root,
                props = _ref5.props;
            toggleBrowse(root, props);
        },
        DID_SET_ALLOW_DROP: function DID_SET_ALLOW_DROP(_ref6) {
            var root = _ref6.root;
            toggleDrop(root);
        },
        DID_SET_ALLOW_PASTE: function DID_SET_ALLOW_PASTE(_ref7) {
            var root = _ref7.root;
            togglePaste(root);
        },
        DID_SET_DISABLED: function DID_SET_DISABLED(_ref8) {
            var root = _ref8.root,
                props = _ref8.props;
            toggleDrop(root);
            togglePaste(root);
            toggleBrowse(root, props);
            var isDisabled = root.query('GET_DISABLED');
            if (isDisabled) {
                root.element.dataset.disabled = 'disabled';
            } else {
                // delete root.element.dataset.disabled; <= this does not work on iOS 10
                root.element.removeAttribute('data-disabled');
            }
        },
    });

    var root = createView({
        name: 'root',
        read: function read(_ref9) {
            var root = _ref9.root;
            if (root.ref.measure) {
                root.ref.measureHeight = root.ref.measure.offsetHeight;
            }
        },
        create: create$e,
        write: write$9,
        destroy: function destroy(_ref10) {
            var root = _ref10.root;
            if (root.ref.paster) {
                root.ref.paster.destroy();
            }
            if (root.ref.hopper) {
                root.ref.hopper.destroy();
            }
            root.element.removeEventListener('touchmove', prevent);
            root.element.removeEventListener('gesturestart', prevent);
        },
        mixins: {
            styles: ['height'],
        },
    });

    // creates the app
    var createApp = function createApp() {
        var initialOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
        // let element
        var originalElement = null;

        // get default options
        var defaultOptions = getOptions();

        // create the data store, this will contain all our app info
        var store = createStore(
            // initial state (should be serializable)
            createInitialState(defaultOptions),

            // queries
            [queries, createOptionQueries(defaultOptions)],

            // action handlers
            [actions, createOptionActions(defaultOptions)]
        );

        // set initial options
        store.dispatch('SET_OPTIONS', { options: initialOptions });

        // kick thread if visibility changes
        var visibilityHandler = function visibilityHandler() {
            if (document.hidden) return;
            store.dispatch('KICK');
        };
        document.addEventListener('visibilitychange', visibilityHandler);

        // re-render on window resize start and finish
        var resizeDoneTimer = null;
        var isResizing = false;
        var isResizingHorizontally = false;
        var initialWindowWidth = null;
        var currentWindowWidth = null;
        var resizeHandler = function resizeHandler() {
            if (!isResizing) {
                isResizing = true;
            }
            clearTimeout(resizeDoneTimer);
            resizeDoneTimer = setTimeout(function() {
                isResizing = false;
                initialWindowWidth = null;
                currentWindowWidth = null;
                if (isResizingHorizontally) {
                    isResizingHorizontally = false;
                    store.dispatch('DID_STOP_RESIZE');
                }
            }, 500);
        };
        window.addEventListener('resize', resizeHandler);

        // render initial view
        var view = root(store, { id: getUniqueId() });

        //
        // PRIVATE API -------------------------------------------------------------------------------------
        //
        var isResting = false;
        var isHidden = false;

        var readWriteApi = {
            // necessary for update loop

            /**
             * Reads from dom (never call manually)
             * @private
             */
            _read: function _read() {
                // test if we're resizing horizontally
                // TODO: see if we can optimize this by measuring root rect
                if (isResizing) {
                    currentWindowWidth = window.innerWidth;
                    if (!initialWindowWidth) {
                        initialWindowWidth = currentWindowWidth;
                    }

                    if (!isResizingHorizontally && currentWindowWidth !== initialWindowWidth) {
                        store.dispatch('DID_START_RESIZE');
                        isResizingHorizontally = true;
                    }
                }

                if (isHidden && isResting) {
                    // test if is no longer hidden
                    isResting = view.element.offsetParent === null;
                }

                // if resting, no need to read as numbers will still all be correct
                if (isResting) return;

                // read view data
                view._read();

                // if is hidden we need to know so we exit rest mode when revealed
                isHidden = view.rect.element.hidden;
            },

            /**
             * Writes to dom (never call manually)
             * @private
             */
            _write: function _write(ts) {
                // get all actions from store
                var actions = store
                    .processActionQueue()

                    // filter out set actions (these will automatically trigger DID_SET)
                    .filter(function(action) {
                        return !/^SET_/.test(action.type);
                    });

                // if was idling and no actions stop here
                if (isResting && !actions.length) return;

                // some actions might trigger events
                routeActionsToEvents(actions);

                // update the view
                isResting = view._write(ts, actions, isResizingHorizontally);

                // will clean up all archived items
                removeReleasedItems(store.query('GET_ITEMS'));

                // now idling
                if (isResting) {
                    store.processDispatchQueue();
                }
            },
        };

        //
        // EXPOSE EVENTS -------------------------------------------------------------------------------------
        //
        var createEvent = function createEvent(name) {
            return function(data) {
                // create default event
                var event = {
                    type: name,
                };

                // no data to add
                if (!data) {
                    return event;
                }

                // copy relevant props
                if (data.hasOwnProperty('error')) {
                    event.error = data.error ? Object.assign({}, data.error) : null;
                }

                if (data.status) {
                    event.status = Object.assign({}, data.status);
                }

                if (data.file) {
                    event.output = data.file;
                }

                // only source is available, else add item if possible
                if (data.source) {
                    event.file = data.source;
                } else if (data.item || data.id) {
                    var item = data.item ? data.item : store.query('GET_ITEM', data.id);
                    event.file = item ? createItemAPI(item) : null;
                }

                // map all items in a possible items array
                if (data.items) {
                    event.items = data.items.map(createItemAPI);
                }

                // if this is a progress event add the progress amount
                if (/progress/.test(name)) {
                    event.progress = data.progress;
                }

                // copy relevant props
                if (data.hasOwnProperty('origin') && data.hasOwnProperty('target')) {
                    event.origin = data.origin;
                    event.target = data.target;
                }

                return event;
            };
        };

        var eventRoutes = {
            DID_DESTROY: createEvent('destroy'),

            DID_INIT: createEvent('init'),

            DID_THROW_MAX_FILES: createEvent('warning'),

            DID_INIT_ITEM: createEvent('initfile'),
            DID_START_ITEM_LOAD: createEvent('addfilestart'),
            DID_UPDATE_ITEM_LOAD_PROGRESS: createEvent('addfileprogress'),
            DID_LOAD_ITEM: createEvent('addfile'),

            DID_THROW_ITEM_INVALID: [createEvent('error'), createEvent('addfile')],

            DID_THROW_ITEM_LOAD_ERROR: [createEvent('error'), createEvent('addfile')],

            DID_THROW_ITEM_REMOVE_ERROR: [createEvent('error'), createEvent('removefile')],

            DID_PREPARE_OUTPUT: createEvent('preparefile'),

            DID_START_ITEM_PROCESSING: createEvent('processfilestart'),
            DID_UPDATE_ITEM_PROCESS_PROGRESS: createEvent('processfileprogress'),
            DID_ABORT_ITEM_PROCESSING: createEvent('processfileabort'),
            DID_COMPLETE_ITEM_PROCESSING: createEvent('processfile'),
            DID_COMPLETE_ITEM_PROCESSING_ALL: createEvent('processfiles'),
            DID_REVERT_ITEM_PROCESSING: createEvent('processfilerevert'),

            DID_THROW_ITEM_PROCESSING_ERROR: [createEvent('error'), createEvent('processfile')],

            DID_REMOVE_ITEM: createEvent('removefile'),

            DID_UPDATE_ITEMS: createEvent('updatefiles'),

            DID_ACTIVATE_ITEM: createEvent('activatefile'),

            DID_REORDER_ITEMS: createEvent('reorderfiles'),
        };

        var exposeEvent = function exposeEvent(event) {
            // create event object to be dispatched
            var detail = Object.assign({ pond: exports }, event);
            delete detail.type;
            view.element.dispatchEvent(
                new CustomEvent('FilePond:' + event.type, {
                    // event info
                    detail: detail,

                    // event behaviour
                    bubbles: true,
                    cancelable: true,
                    composed: true, // triggers listeners outside of shadow root
                })
            );

            // event object to params used for `on()` event handlers and callbacks `oninit()`
            var params = [];

            // if is possible error event, make it the first param
            if (event.hasOwnProperty('error')) {
                params.push(event.error);
            }

            // file is always section
            if (event.hasOwnProperty('file')) {
                params.push(event.file);
            }

            // append other props
            var filtered = ['type', 'error', 'file'];
            Object.keys(event)
                .filter(function(key) {
                    return !filtered.includes(key);
                })
                .forEach(function(key) {
                    return params.push(event[key]);
                });

            // on(type, () => { })
            exports.fire.apply(exports, [event.type].concat(params));

            // oninit = () => {}
            var handler = store.query('GET_ON' + event.type.toUpperCase());
            if (handler) {
                handler.apply(void 0, params);
            }
        };

        var routeActionsToEvents = function routeActionsToEvents(actions) {
            if (!actions.length) return;
            actions
                .filter(function(action) {
                    return eventRoutes[action.type];
                })
                .forEach(function(action) {
                    var routes = eventRoutes[action.type];
                    (Array.isArray(routes) ? routes : [routes]).forEach(function(route) {
                        // this isn't fantastic, but because of the stacking of settimeouts plugins can handle the did_load before the did_init
                        if (action.type === 'DID_INIT_ITEM') {
                            exposeEvent(route(action.data));
                        } else {
                            setTimeout(function() {
                                exposeEvent(route(action.data));
                            }, 0);
                        }
                    });
                });
        };

        //
        // PUBLIC API -------------------------------------------------------------------------------------
        //
        var setOptions = function setOptions(options) {
            return store.dispatch('SET_OPTIONS', { options: options });
        };

        var getFile = function getFile(query) {
            return store.query('GET_ACTIVE_ITEM', query);
        };

        var prepareFile = function prepareFile(query) {
            return new Promise(function(resolve, reject) {
                store.dispatch('REQUEST_ITEM_PREPARE', {
                    query: query,
                    success: function success(item) {
                        resolve(item);
                    },
                    failure: function failure(error) {
                        reject(error);
                    },
                });
            });
        };

        var addFile = function addFile(source) {
            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
            return new Promise(function(resolve, reject) {
                addFiles([{ source: source, options: options }], { index: options.index })
                    .then(function(items) {
                        return resolve(items && items[0]);
                    })
                    .catch(reject);
            });
        };

        var isFilePondFile = function isFilePondFile(obj) {
            return obj.file && obj.id;
        };

        var removeFile = function removeFile(query, options) {
            // if only passed options
            if (typeof query === 'object' && !isFilePondFile(query) && !options) {
                options = query;
                query = undefined;
            }

            // request item removal
            store.dispatch('REMOVE_ITEM', Object.assign({}, options, { query: query }));

            // see if item has been removed
            return store.query('GET_ACTIVE_ITEM', query) === null;
        };

        var addFiles = function addFiles() {
            for (
                var _len = arguments.length, args = new Array(_len), _key = 0;
                _key < _len;
                _key++
            ) {
                args[_key] = arguments[_key];
            }
            return new Promise(function(resolve, reject) {
                var sources = [];
                var options = {};

                // user passed a sources array
                if (isArray(args[0])) {
                    sources.push.apply(sources, args[0]);
                    Object.assign(options, args[1] || {});
                } else {
                    // user passed sources as arguments, last one might be options object
                    var lastArgument = args[args.length - 1];
                    if (typeof lastArgument === 'object' && !(lastArgument instanceof Blob)) {
                        Object.assign(options, args.pop());
                    }

                    // add rest to sources
                    sources.push.apply(sources, args);
                }

                store.dispatch('ADD_ITEMS', {
                    items: sources,
                    index: options.index,
                    interactionMethod: InteractionMethod.API,
                    success: resolve,
                    failure: reject,
                });
            });
        };

        var getFiles = function getFiles() {
            return store.query('GET_ACTIVE_ITEMS');
        };

        var processFile = function processFile(query) {
            return new Promise(function(resolve, reject) {
                store.dispatch('REQUEST_ITEM_PROCESSING', {
                    query: query,
                    success: function success(item) {
                        resolve(item);
                    },
                    failure: function failure(error) {
                        reject(error);
                    },
                });
            });
        };

        var prepareFiles = function prepareFiles() {
            for (
                var _len2 = arguments.length, args = new Array(_len2), _key2 = 0;
                _key2 < _len2;
                _key2++
            ) {
                args[_key2] = arguments[_key2];
            }
            var queries = Array.isArray(args[0]) ? args[0] : args;
            var items = queries.length ? queries : getFiles();
            return Promise.all(items.map(prepareFile));
        };

        var processFiles = function processFiles() {
            for (
                var _len3 = arguments.length, args = new Array(_len3), _key3 = 0;
                _key3 < _len3;
                _key3++
            ) {
                args[_key3] = arguments[_key3];
            }
            var queries = Array.isArray(args[0]) ? args[0] : args;
            if (!queries.length) {
                var files = getFiles().filter(function(item) {
                    return (
                        !(item.status === ItemStatus.IDLE && item.origin === FileOrigin.LOCAL) &&
                        item.status !== ItemStatus.PROCESSING &&
                        item.status !== ItemStatus.PROCESSING_COMPLETE &&
                        item.status !== ItemStatus.PROCESSING_REVERT_ERROR
                    );
                });

                return Promise.all(files.map(processFile));
            }
            return Promise.all(queries.map(processFile));
        };

        var removeFiles = function removeFiles() {
            for (
                var _len4 = arguments.length, args = new Array(_len4), _key4 = 0;
                _key4 < _len4;
                _key4++
            ) {
                args[_key4] = arguments[_key4];
            }

            var queries = Array.isArray(args[0]) ? args[0] : args;

            var options;
            if (typeof queries[queries.length - 1] === 'object') {
                options = queries.pop();
            } else if (Array.isArray(args[0])) {
                options = args[1];
            }

            var files = getFiles();

            if (!queries.length)
                return Promise.all(
                    files.map(function(file) {
                        return removeFile(file, options);
                    })
                );

            // when removing by index the indexes shift after each file removal so we need to convert indexes to ids
            var mappedQueries = queries
                .map(function(query) {
                    return isNumber(query) ? (files[query] ? files[query].id : null) : query;
                })
                .filter(function(query) {
                    return query;
                });

            return mappedQueries.map(function(q) {
                return removeFile(q, options);
            });
        };

        var exports = Object.assign(
            {},

            on(),
            {},

            readWriteApi,
            {},

            createOptionAPI(store, defaultOptions),
            {
                /**
                 * Override options defined in options object
                 * @param options
                 */
                setOptions: setOptions,

                /**
                 * Load the given file
                 * @param source - the source of the file (either a File, base64 data uri or url)
                 * @param options - object, { index: 0 }
                 */
                addFile: addFile,

                /**
                 * Load the given files
                 * @param sources - the sources of the files to load
                 * @param options - object, { index: 0 }
                 */
                addFiles: addFiles,

                /**
                 * Returns the file objects matching the given query
                 * @param query { string, number, null }
                 */
                getFile: getFile,

                /**
                 * Upload file with given name
                 * @param query { string, number, null  }
                 */
                processFile: processFile,

                /**
                 * Request prepare output for file with given name
                 * @param query { string, number, null  }
                 */
                prepareFile: prepareFile,

                /**
                 * Removes a file by its name
                 * @param query { string, number, null  }
                 */
                removeFile: removeFile,

                /**
                 * Moves a file to a new location in the files list
                 */
                moveFile: function moveFile(query, index) {
                    return store.dispatch('MOVE_ITEM', { query: query, index: index });
                },

                /**
                 * Returns all files (wrapped in public api)
                 */
                getFiles: getFiles,

                /**
                 * Starts uploading all files
                 */
                processFiles: processFiles,

                /**
                 * Clears all files from the files list
                 */
                removeFiles: removeFiles,

                /**
                 * Starts preparing output of all files
                 */
                prepareFiles: prepareFiles,

                /**
                 * Sort list of files
                 */
                sort: function sort(compare) {
                    return store.dispatch('SORT', { compare: compare });
                },

                /**
                 * Browse the file system for a file
                 */
                browse: function browse() {
                    // needs to be trigger directly as user action needs to be traceable (is not traceable in requestAnimationFrame)
                    var input = view.element.querySelector('input[type=file]');
                    if (input) {
                        input.click();
                    }
                },

                /**
                 * Destroys the app
                 */
                destroy: function destroy() {
                    // request destruction
                    exports.fire('destroy', view.element);

                    // stop active processes (file uploads, fetches, stuff like that)
                    // loop over items and depending on states call abort for ongoing processes
                    store.dispatch('ABORT_ALL');

                    // destroy view
                    view._destroy();

                    // stop listening to resize
                    window.removeEventListener('resize', resizeHandler);

                    // stop listening to the visiblitychange event
                    document.removeEventListener('visibilitychange', visibilityHandler);

                    // dispatch destroy
                    store.dispatch('DID_DESTROY');
                },

                /**
                 * Inserts the plugin before the target element
                 */
                insertBefore: function insertBefore$1(element) {
                    return insertBefore(view.element, element);
                },

                /**
                 * Inserts the plugin after the target element
                 */
                insertAfter: function insertAfter$1(element) {
                    return insertAfter(view.element, element);
                },

                /**
                 * Appends the plugin to the target element
                 */
                appendTo: function appendTo(element) {
                    return element.appendChild(view.element);
                },

                /**
                 * Replaces an element with the app
                 */
                replaceElement: function replaceElement(element) {
                    // insert the app before the element
                    insertBefore(view.element, element);

                    // remove the original element
                    element.parentNode.removeChild(element);

                    // remember original element
                    originalElement = element;
                },

                /**
                 * Restores the original element
                 */
                restoreElement: function restoreElement() {
                    if (!originalElement) {
                        return; // no element to restore
                    }

                    // restore original element
                    insertAfter(originalElement, view.element);

                    // remove our element
                    view.element.parentNode.removeChild(view.element);

                    // remove reference
                    originalElement = null;
                },

                /**
                 * Returns true if the app root is attached to given element
                 * @param element
                 */
                isAttachedTo: function isAttachedTo(element) {
                    return view.element === element || originalElement === element;
                },

                /**
                 * Returns the root element
                 */
                element: {
                    get: function get() {
                        return view.element;
                    },
                },

                /**
                 * Returns the current pond status
                 */
                status: {
                    get: function get() {
                        return store.query('GET_STATUS');
                    },
                },
            }
        );

        // Done!
        store.dispatch('DID_INIT');

        // create actual api object
        return createObject(exports);
    };

    var createAppObject = function createAppObject() {
        var customOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
        // default options
        var defaultOptions = {};
        forin(getOptions(), function(key, value) {
            defaultOptions[key] = value[0];
        });

        // set app options
        var app = createApp(
            Object.assign(
                {},

                defaultOptions,
                {},

                customOptions
            )
        );

        // return the plugin instance
        return app;
    };

    var lowerCaseFirstLetter = function lowerCaseFirstLetter(string) {
        return string.charAt(0).toLowerCase() + string.slice(1);
    };

    var attributeNameToPropertyName = function attributeNameToPropertyName(attributeName) {
        return toCamels(attributeName.replace(/^data-/, ''));
    };

    var mapObject = function mapObject(object, propertyMap) {
        // remove unwanted
        forin(propertyMap, function(selector, mapping) {
            forin(object, function(property, value) {
                // create regexp shortcut
                var selectorRegExp = new RegExp(selector);

                // tests if
                var matches = selectorRegExp.test(property);

                // no match, skip
                if (!matches) {
                    return;
                }

                // if there's a mapping, the original property is always removed
                delete object[property];

                // should only remove, we done!
                if (mapping === false) {
                    return;
                }

                // move value to new property
                if (isString(mapping)) {
                    object[mapping] = value;
                    return;
                }

                // move to group
                var group = mapping.group;
                if (isObject(mapping) && !object[group]) {
                    object[group] = {};
                }

                object[group][lowerCaseFirstLetter(property.replace(selectorRegExp, ''))] = value;
            });

            // do submapping
            if (mapping.mapping) {
                mapObject(object[mapping.group], mapping.mapping);
            }
        });
    };

    var getAttributesAsObject = function getAttributesAsObject(node) {
        var attributeMapping =
            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
        // turn attributes into object
        var attributes = [];
        forin(node.attributes, function(index) {
            attributes.push(node.attributes[index]);
        });

        var output = attributes
            .filter(function(attribute) {
                return attribute.name;
            })
            .reduce(function(obj, attribute) {
                var value = attr(node, attribute.name);

                obj[attributeNameToPropertyName(attribute.name)] =
                    value === attribute.name ? true : value;
                return obj;
            }, {});

        // do mapping of object properties
        mapObject(output, attributeMapping);

        return output;
    };

    var createAppAtElement = function createAppAtElement(element) {
        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

        // how attributes of the input element are mapped to the options for the plugin
        var attributeMapping = {
            // translate to other name
            '^class$': 'className',
            '^multiple$': 'allowMultiple',
            '^capture$': 'captureMethod',
            '^webkitdirectory$': 'allowDirectoriesOnly',

            // group under single property
            '^server': {
                group: 'server',
                mapping: {
                    '^process': {
                        group: 'process',
                    },

                    '^revert': {
                        group: 'revert',
                    },

                    '^fetch': {
                        group: 'fetch',
                    },

                    '^restore': {
                        group: 'restore',
                    },

                    '^load': {
                        group: 'load',
                    },
                },
            },

            // don't include in object
            '^type$': false,
            '^files$': false,
        };

        // add additional option translators
        applyFilters('SET_ATTRIBUTE_TO_OPTION_MAP', attributeMapping);

        // create final options object by setting options object and then overriding options supplied on element
        var mergedOptions = Object.assign({}, options);

        var attributeOptions = getAttributesAsObject(
            element.nodeName === 'FIELDSET' ? element.querySelector('input[type=file]') : element,
            attributeMapping
        );

        // merge with options object
        Object.keys(attributeOptions).forEach(function(key) {
            if (isObject(attributeOptions[key])) {
                if (!isObject(mergedOptions[key])) {
                    mergedOptions[key] = {};
                }
                Object.assign(mergedOptions[key], attributeOptions[key]);
            } else {
                mergedOptions[key] = attributeOptions[key];
            }
        });

        // if parent is a fieldset, get files from parent by selecting all input fields that are not file upload fields
        // these will then be automatically set to the initial files
        mergedOptions.files = (options.files || []).concat(
            Array.from(element.querySelectorAll('input:not([type=file])')).map(function(input) {
                return {
                    source: input.value,
                    options: {
                        type: input.dataset.type,
                    },
                };
            })
        );

        // build plugin
        var app = createAppObject(mergedOptions);

        // add already selected files
        if (element.files) {
            Array.from(element.files).forEach(function(file) {
                app.addFile(file);
            });
        }

        // replace the target element
        app.replaceElement(element);

        // expose
        return app;
    };

    // if an element is passed, we create the instance at that element, if not, we just create an up object
    var createApp$1 = function createApp() {
        return isNode(arguments.length <= 0 ? undefined : arguments[0])
            ? createAppAtElement.apply(void 0, arguments)
            : createAppObject.apply(void 0, arguments);
    };

    var PRIVATE_METHODS = ['fire', '_read', '_write'];

    var createAppAPI = function createAppAPI(app) {
        var api = {};

        copyObjectPropertiesToObject(app, api, PRIVATE_METHODS);

        return api;
    };

    /**
     * Replaces placeholders in given string with replacements
     * @param string - "Foo {bar}""
     * @param replacements - { "bar": 10 }
     */
    var replaceInString = function replaceInString(string, replacements) {
        return string.replace(/(?:{([a-zA-Z]+)})/g, function(match, group) {
            return replacements[group];
        });
    };

    var createWorker = function createWorker(fn) {
        var workerBlob = new Blob(['(', fn.toString(), ')()'], {
            type: 'application/javascript',
        });

        var workerURL = URL.createObjectURL(workerBlob);
        var worker = new Worker(workerURL);

        return {
            transfer: function transfer(message, cb) {},
            post: function post(message, cb, transferList) {
                var id = getUniqueId();

                worker.onmessage = function(e) {
                    if (e.data.id === id) {
                        cb(e.data.message);
                    }
                };

                worker.postMessage(
                    {
                        id: id,
                        message: message,
                    },

                    transferList
                );
            },
            terminate: function terminate() {
                worker.terminate();
                URL.revokeObjectURL(workerURL);
            },
        };
    };

    var loadImage = function loadImage(url) {
        return new Promise(function(resolve, reject) {
            var img = new Image();
            img.onload = function() {
                resolve(img);
            };
            img.onerror = function(e) {
                reject(e);
            };
            img.src = url;
        });
    };

    var renameFile = function renameFile(file, name) {
        var renamedFile = file.slice(0, file.size, file.type);
        renamedFile.lastModifiedDate = file.lastModifiedDate;
        renamedFile.name = name;
        return renamedFile;
    };

    var copyFile = function copyFile(file) {
        return renameFile(file, file.name);
    };

    // already registered plugins (can't register twice)
    var registeredPlugins = [];

    // pass utils to plugin
    var createAppPlugin = function createAppPlugin(plugin) {
        // already registered
        if (registeredPlugins.includes(plugin)) {
            return;
        }

        // remember this plugin
        registeredPlugins.push(plugin);

        // setup!
        var pluginOutline = plugin({
            addFilter: addFilter,
            utils: {
                Type: Type,
                forin: forin,
                isString: isString,
                isFile: isFile,
                toNaturalFileSize: toNaturalFileSize,
                replaceInString: replaceInString,
                getExtensionFromFilename: getExtensionFromFilename,
                getFilenameWithoutExtension: getFilenameWithoutExtension,
                guesstimateMimeType: guesstimateMimeType,
                getFileFromBlob: getFileFromBlob,
                getFilenameFromURL: getFilenameFromURL,
                createRoute: createRoute,
                createWorker: createWorker,
                createView: createView,
                createItemAPI: createItemAPI,
                loadImage: loadImage,
                copyFile: copyFile,
                renameFile: renameFile,
                createBlob: createBlob,
                applyFilterChain: applyFilterChain,
                text: text,
                getNumericAspectRatioFromString: getNumericAspectRatioFromString,
            },

            views: {
                fileActionButton: fileActionButton,
            },
        });

        // add plugin options to default options
        extendDefaultOptions(pluginOutline.options);
    };

    // feature detection used by supported() method
    var isOperaMini = function isOperaMini() {
        return Object.prototype.toString.call(window.operamini) === '[object OperaMini]';
    };
    var hasPromises = function hasPromises() {
        return 'Promise' in window;
    };
    var hasBlobSlice = function hasBlobSlice() {
        return 'slice' in Blob.prototype;
    };
    var hasCreateObjectURL = function hasCreateObjectURL() {
        return 'URL' in window && 'createObjectURL' in window.URL;
    };
    var hasVisibility = function hasVisibility() {
        return 'visibilityState' in document;
    };
    var hasTiming = function hasTiming() {
        return 'performance' in window;
    }; // iOS 8.x
    var hasCSSSupports = function hasCSSSupports() {
        return 'supports' in (window.CSS || {});
    }; // use to detect Safari 9+
    var isIE11 = function isIE11() {
        return /MSIE|Trident/.test(window.navigator.userAgent);
    };

    var supported = (function() {
        // Runs immediately and then remembers result for subsequent calls
        var isSupported =
            // Has to be a browser
            isBrowser() &&
            // Can't run on Opera Mini due to lack of everything
            !isOperaMini() &&
            // Require these APIs to feature detect a modern browser
            hasVisibility() &&
            hasPromises() &&
            hasBlobSlice() &&
            hasCreateObjectURL() &&
            hasTiming() &&
            // doesn't need CSSSupports but is a good way to detect Safari 9+ (we do want to support IE11 though)
            (hasCSSSupports() || isIE11());

        return function() {
            return isSupported;
        };
    })();

    /**
     * Plugin internal state (over all instances)
     */
    var state = {
        // active app instances, used to redraw the apps and to find the later
        apps: [],
    };

    // plugin name
    var name = 'filepond';

    /**
     * Public Plugin methods
     */
    var fn = function fn() {};
    exports.Status = {};
    exports.FileStatus = {};
    exports.FileOrigin = {};
    exports.OptionTypes = {};
    exports.create = fn;
    exports.destroy = fn;
    exports.parse = fn;
    exports.find = fn;
    exports.registerPlugin = fn;
    exports.getOptions = fn;
    exports.setOptions = fn;

    // if not supported, no API
    if (supported()) {
        // start painter and fire load event
        createPainter(
            function() {
                state.apps.forEach(function(app) {
                    return app._read();
                });
            },
            function(ts) {
                state.apps.forEach(function(app) {
                    return app._write(ts);
                });
            }
        );

        // fire loaded event so we know when FilePond is available
        var dispatch = function dispatch() {
            // let others know we have area ready
            document.dispatchEvent(
                new CustomEvent('FilePond:loaded', {
                    detail: {
                        supported: supported,
                        create: exports.create,
                        destroy: exports.destroy,
                        parse: exports.parse,
                        find: exports.find,
                        registerPlugin: exports.registerPlugin,
                        setOptions: exports.setOptions,
                    },
                })
            );

            // clean up event
            document.removeEventListener('DOMContentLoaded', dispatch);
        };

        if (document.readyState !== 'loading') {
            // move to back of execution queue, FilePond should have been exported by then
            setTimeout(function() {
                return dispatch();
            }, 0);
        } else {
            document.addEventListener('DOMContentLoaded', dispatch);
        }

        // updates the OptionTypes object based on the current options
        var updateOptionTypes = function updateOptionTypes() {
            return forin(getOptions(), function(key, value) {
                exports.OptionTypes[key] = value[1];
            });
        };

        exports.Status = Object.assign({}, Status);
        exports.FileOrigin = Object.assign({}, FileOrigin);
        exports.FileStatus = Object.assign({}, ItemStatus);

        exports.OptionTypes = {};
        updateOptionTypes();

        // create method, creates apps and adds them to the app array
        exports.create = function create() {
            var app = createApp$1.apply(void 0, arguments);
            app.on('destroy', exports.destroy);
            state.apps.push(app);
            return createAppAPI(app);
        };

        // destroys apps and removes them from the app array
        exports.destroy = function destroy(hook) {
            // returns true if the app was destroyed successfully
            var indexToRemove = state.apps.findIndex(function(app) {
                return app.isAttachedTo(hook);
            });
            if (indexToRemove >= 0) {
                // remove from apps
                var app = state.apps.splice(indexToRemove, 1)[0];

                // restore original dom element
                app.restoreElement();

                return true;
            }

            return false;
        };

        // parses the given context for plugins (does not include the context element itself)
        exports.parse = function parse(context) {
            // get all possible hooks
            var matchedHooks = Array.from(context.querySelectorAll('.' + name));

            // filter out already active hooks
            var newHooks = matchedHooks.filter(function(newHook) {
                return !state.apps.find(function(app) {
                    return app.isAttachedTo(newHook);
                });
            });

            // create new instance for each hook
            return newHooks.map(function(hook) {
                return exports.create(hook);
            });
        };

        // returns an app based on the given element hook
        exports.find = function find(hook) {
            var app = state.apps.find(function(app) {
                return app.isAttachedTo(hook);
            });
            if (!app) {
                return null;
            }
            return createAppAPI(app);
        };

        // adds a plugin extension
        exports.registerPlugin = function registerPlugin() {
            for (
                var _len = arguments.length, plugins = new Array(_len), _key = 0;
                _key < _len;
                _key++
            ) {
                plugins[_key] = arguments[_key];
            }

            // register plugins
            plugins.forEach(createAppPlugin);

            // update OptionTypes, each plugin might have extended the default options
            updateOptionTypes();
        };

        exports.getOptions = function getOptions$1() {
            var opts = {};
            forin(getOptions(), function(key, value) {
                opts[key] = value[0];
            });
            return opts;
        };

        exports.setOptions = function setOptions$1(opts) {
            if (isObject(opts)) {
                // update existing plugins
                state.apps.forEach(function(app) {
                    app.setOptions(opts);
                });

                // override defaults
                setOptions(opts);
            }

            // return new options
            return exports.getOptions();
        };
    }

    exports.supported = supported;

    Object.defineProperty(exports, '__esModule', { value: true });
});


/***/ }),

/***/ "./node_modules/flatpickr/dist/esm/index.js":
/*!**************************************************!*\
  !*** ./node_modules/flatpickr/dist/esm/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _types_options__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types/options */ "./node_modules/flatpickr/dist/esm/types/options.js");
/* harmony import */ var _l10n_default__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./l10n/default */ "./node_modules/flatpickr/dist/esm/l10n/default.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ "./node_modules/flatpickr/dist/esm/utils/index.js");
/* harmony import */ var _utils_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/dom */ "./node_modules/flatpickr/dist/esm/utils/dom.js");
/* harmony import */ var _utils_dates__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/dates */ "./node_modules/flatpickr/dist/esm/utils/dates.js");
/* harmony import */ var _utils_formatting__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/formatting */ "./node_modules/flatpickr/dist/esm/utils/formatting.js");
/* harmony import */ var _utils_polyfills__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/polyfills */ "./node_modules/flatpickr/dist/esm/utils/polyfills.js");
/* harmony import */ var _utils_polyfills__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_utils_polyfills__WEBPACK_IMPORTED_MODULE_6__);
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __spreadArrays = (undefined && undefined.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};







var DEBOUNCED_CHANGE_MS = 300;
function FlatpickrInstance(element, instanceConfig) {
    var self = {
        config: __assign(__assign({}, _types_options__WEBPACK_IMPORTED_MODULE_0__.defaults), flatpickr.defaultConfig),
        l10n: _l10n_default__WEBPACK_IMPORTED_MODULE_1__["default"],
    };
    self.parseDate = (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.createDateParser)({ config: self.config, l10n: self.l10n });
    self._handlers = [];
    self.pluginElements = [];
    self.loadedPlugins = [];
    self._bind = bind;
    self._setHoursFromDate = setHoursFromDate;
    self._positionCalendar = positionCalendar;
    self.changeMonth = changeMonth;
    self.changeYear = changeYear;
    self.clear = clear;
    self.close = close;
    self.onMouseOver = onMouseOver;
    self._createElement = _utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement;
    self.createDay = createDay;
    self.destroy = destroy;
    self.isEnabled = isEnabled;
    self.jumpToDate = jumpToDate;
    self.updateValue = updateValue;
    self.open = open;
    self.redraw = redraw;
    self.set = set;
    self.setDate = setDate;
    self.toggle = toggle;
    function setupHelperFunctions() {
        self.utils = {
            getDaysInMonth: function (month, yr) {
                if (month === void 0) { month = self.currentMonth; }
                if (yr === void 0) { yr = self.currentYear; }
                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))
                    return 29;
                return self.l10n.daysInMonth[month];
            },
        };
    }
    function init() {
        self.element = self.input = element;
        self.isOpen = false;
        parseConfig();
        setupLocale();
        setupInputs();
        setupDates();
        setupHelperFunctions();
        if (!self.isMobile)
            build();
        bindEvents();
        if (self.selectedDates.length || self.config.noCalendar) {
            if (self.config.enableTime) {
                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);
            }
            updateValue(false);
        }
        setCalendarWidth();
        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
        if (!self.isMobile && isSafari) {
            positionCalendar();
        }
        triggerEvent("onReady");
    }
    function getClosestActiveElement() {
        var _a;
        return (((_a = self.calendarContainer) === null || _a === void 0 ? void 0 : _a.getRootNode())
            .activeElement || document.activeElement);
    }
    function bindToInstance(fn) {
        return fn.bind(self);
    }
    function setCalendarWidth() {
        var config = self.config;
        if (config.weekNumbers === false && config.showMonths === 1) {
            return;
        }
        else if (config.noCalendar !== true) {
            window.requestAnimationFrame(function () {
                if (self.calendarContainer !== undefined) {
                    self.calendarContainer.style.visibility = "hidden";
                    self.calendarContainer.style.display = "block";
                }
                if (self.daysContainer !== undefined) {
                    var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;
                    self.daysContainer.style.width = daysWidth + "px";
                    self.calendarContainer.style.width =
                        daysWidth +
                            (self.weekWrapper !== undefined
                                ? self.weekWrapper.offsetWidth
                                : 0) +
                            "px";
                    self.calendarContainer.style.removeProperty("visibility");
                    self.calendarContainer.style.removeProperty("display");
                }
            });
        }
    }
    function updateTime(e) {
        if (self.selectedDates.length === 0) {
            var defaultDate = self.config.minDate === undefined ||
                (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.compareDates)(new Date(), self.config.minDate) >= 0
                ? new Date()
                : new Date(self.config.minDate.getTime());
            var defaults = (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.getDefaultHours)(self.config);
            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());
            self.selectedDates = [defaultDate];
            self.latestSelectedDateObj = defaultDate;
        }
        if (e !== undefined && e.type !== "blur") {
            timeWrapper(e);
        }
        var prevValue = self._input.value;
        setHoursFromInputs();
        updateValue();
        if (self._input.value !== prevValue) {
            self._debouncedChange();
        }
    }
    function ampm2military(hour, amPM) {
        return (hour % 12) + 12 * (0,_utils__WEBPACK_IMPORTED_MODULE_2__.int)(amPM === self.l10n.amPM[1]);
    }
    function military2ampm(hour) {
        switch (hour % 24) {
            case 0:
            case 12:
                return 12;
            default:
                return hour % 12;
        }
    }
    function setHoursFromInputs() {
        if (self.hourElement === undefined || self.minuteElement === undefined)
            return;
        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined
            ? (parseInt(self.secondElement.value, 10) || 0) % 60
            : 0;
        if (self.amPM !== undefined) {
            hours = ampm2military(hours, self.amPM.textContent);
        }
        var limitMinHours = self.config.minTime !== undefined ||
            (self.config.minDate &&
                self.minDateHasTime &&
                self.latestSelectedDateObj &&
                (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.compareDates)(self.latestSelectedDateObj, self.config.minDate, true) ===
                    0);
        var limitMaxHours = self.config.maxTime !== undefined ||
            (self.config.maxDate &&
                self.maxDateHasTime &&
                self.latestSelectedDateObj &&
                (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.compareDates)(self.latestSelectedDateObj, self.config.maxDate, true) ===
                    0);
        if (self.config.maxTime !== undefined &&
            self.config.minTime !== undefined &&
            self.config.minTime > self.config.maxTime) {
            var minBound = (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.calculateSecondsSinceMidnight)(self.config.minTime.getHours(), self.config.minTime.getMinutes(), self.config.minTime.getSeconds());
            var maxBound = (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.calculateSecondsSinceMidnight)(self.config.maxTime.getHours(), self.config.maxTime.getMinutes(), self.config.maxTime.getSeconds());
            var currentTime = (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.calculateSecondsSinceMidnight)(hours, minutes, seconds);
            if (currentTime > maxBound && currentTime < minBound) {
                var result = (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.parseSeconds)(minBound);
                hours = result[0];
                minutes = result[1];
                seconds = result[2];
            }
        }
        else {
            if (limitMaxHours) {
                var maxTime = self.config.maxTime !== undefined
                    ? self.config.maxTime
                    : self.config.maxDate;
                hours = Math.min(hours, maxTime.getHours());
                if (hours === maxTime.getHours())
                    minutes = Math.min(minutes, maxTime.getMinutes());
                if (minutes === maxTime.getMinutes())
                    seconds = Math.min(seconds, maxTime.getSeconds());
            }
            if (limitMinHours) {
                var minTime = self.config.minTime !== undefined
                    ? self.config.minTime
                    : self.config.minDate;
                hours = Math.max(hours, minTime.getHours());
                if (hours === minTime.getHours() && minutes < minTime.getMinutes())
                    minutes = minTime.getMinutes();
                if (minutes === minTime.getMinutes())
                    seconds = Math.max(seconds, minTime.getSeconds());
            }
        }
        setHours(hours, minutes, seconds);
    }
    function setHoursFromDate(dateObj) {
        var date = dateObj || self.latestSelectedDateObj;
        if (date && date instanceof Date) {
            setHours(date.getHours(), date.getMinutes(), date.getSeconds());
        }
    }
    function setHours(hours, minutes, seconds) {
        if (self.latestSelectedDateObj !== undefined) {
            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);
        }
        if (!self.hourElement || !self.minuteElement || self.isMobile)
            return;
        self.hourElement.value = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.pad)(!self.config.time_24hr
            ? ((12 + hours) % 12) + 12 * (0,_utils__WEBPACK_IMPORTED_MODULE_2__.int)(hours % 12 === 0)
            : hours);
        self.minuteElement.value = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.pad)(minutes);
        if (self.amPM !== undefined)
            self.amPM.textContent = self.l10n.amPM[(0,_utils__WEBPACK_IMPORTED_MODULE_2__.int)(hours >= 12)];
        if (self.secondElement !== undefined)
            self.secondElement.value = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.pad)(seconds);
    }
    function onYearInput(event) {
        var eventTarget = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.getEventTarget)(event);
        var year = parseInt(eventTarget.value) + (event.delta || 0);
        if (year / 1000 > 1 ||
            (event.key === "Enter" && !/[^\d]/.test(year.toString()))) {
            changeYear(year);
        }
    }
    function bind(element, event, handler, options) {
        if (event instanceof Array)
            return event.forEach(function (ev) { return bind(element, ev, handler, options); });
        if (element instanceof Array)
            return element.forEach(function (el) { return bind(el, event, handler, options); });
        element.addEventListener(event, handler, options);
        self._handlers.push({
            remove: function () { return element.removeEventListener(event, handler, options); },
        });
    }
    function triggerChange() {
        triggerEvent("onChange");
    }
    function bindEvents() {
        if (self.config.wrap) {
            ["open", "close", "toggle", "clear"].forEach(function (evt) {
                Array.prototype.forEach.call(self.element.querySelectorAll("[data-" + evt + "]"), function (el) {
                    return bind(el, "click", self[evt]);
                });
            });
        }
        if (self.isMobile) {
            setupMobile();
            return;
        }
        var debouncedResize = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.debounce)(onResize, 50);
        self._debouncedChange = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.debounce)(triggerChange, DEBOUNCED_CHANGE_MS);
        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))
            bind(self.daysContainer, "mouseover", function (e) {
                if (self.config.mode === "range")
                    onMouseOver((0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.getEventTarget)(e));
            });
        bind(self._input, "keydown", onKeyDown);
        if (self.calendarContainer !== undefined) {
            bind(self.calendarContainer, "keydown", onKeyDown);
        }
        if (!self.config.inline && !self.config.static)
            bind(window, "resize", debouncedResize);
        if (window.ontouchstart !== undefined)
            bind(window.document, "touchstart", documentClick);
        else
            bind(window.document, "mousedown", documentClick);
        bind(window.document, "focus", documentClick, { capture: true });
        if (self.config.clickOpens === true) {
            bind(self._input, "focus", self.open);
            bind(self._input, "click", self.open);
        }
        if (self.daysContainer !== undefined) {
            bind(self.monthNav, "click", onMonthNavClick);
            bind(self.monthNav, ["keyup", "increment"], onYearInput);
            bind(self.daysContainer, "click", selectDate);
        }
        if (self.timeContainer !== undefined &&
            self.minuteElement !== undefined &&
            self.hourElement !== undefined) {
            var selText = function (e) {
                return (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.getEventTarget)(e).select();
            };
            bind(self.timeContainer, ["increment"], updateTime);
            bind(self.timeContainer, "blur", updateTime, { capture: true });
            bind(self.timeContainer, "click", timeIncrement);
            bind([self.hourElement, self.minuteElement], ["focus", "click"], selText);
            if (self.secondElement !== undefined)
                bind(self.secondElement, "focus", function () { return self.secondElement && self.secondElement.select(); });
            if (self.amPM !== undefined) {
                bind(self.amPM, "click", function (e) {
                    updateTime(e);
                });
            }
        }
        if (self.config.allowInput) {
            bind(self._input, "blur", onBlur);
        }
    }
    function jumpToDate(jumpDate, triggerChange) {
        var jumpTo = jumpDate !== undefined
            ? self.parseDate(jumpDate)
            : self.latestSelectedDateObj ||
                (self.config.minDate && self.config.minDate > self.now
                    ? self.config.minDate
                    : self.config.maxDate && self.config.maxDate < self.now
                        ? self.config.maxDate
                        : self.now);
        var oldYear = self.currentYear;
        var oldMonth = self.currentMonth;
        try {
            if (jumpTo !== undefined) {
                self.currentYear = jumpTo.getFullYear();
                self.currentMonth = jumpTo.getMonth();
            }
        }
        catch (e) {
            e.message = "Invalid date supplied: " + jumpTo;
            self.config.errorHandler(e);
        }
        if (triggerChange && self.currentYear !== oldYear) {
            triggerEvent("onYearChange");
            buildMonthSwitch();
        }
        if (triggerChange &&
            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {
            triggerEvent("onMonthChange");
        }
        self.redraw();
    }
    function timeIncrement(e) {
        var eventTarget = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.getEventTarget)(e);
        if (~eventTarget.className.indexOf("arrow"))
            incrementNumInput(e, eventTarget.classList.contains("arrowUp") ? 1 : -1);
    }
    function incrementNumInput(e, delta, inputElem) {
        var target = e && (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.getEventTarget)(e);
        var input = inputElem ||
            (target && target.parentNode && target.parentNode.firstChild);
        var event = createEvent("increment");
        event.delta = delta;
        input && input.dispatchEvent(event);
    }
    function build() {
        var fragment = window.document.createDocumentFragment();
        self.calendarContainer = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("div", "flatpickr-calendar");
        self.calendarContainer.tabIndex = -1;
        if (!self.config.noCalendar) {
            fragment.appendChild(buildMonthNav());
            self.innerContainer = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("div", "flatpickr-innerContainer");
            if (self.config.weekNumbers) {
                var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;
                self.innerContainer.appendChild(weekWrapper);
                self.weekNumbers = weekNumbers;
                self.weekWrapper = weekWrapper;
            }
            self.rContainer = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("div", "flatpickr-rContainer");
            self.rContainer.appendChild(buildWeekdays());
            if (!self.daysContainer) {
                self.daysContainer = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("div", "flatpickr-days");
                self.daysContainer.tabIndex = -1;
            }
            buildDays();
            self.rContainer.appendChild(self.daysContainer);
            self.innerContainer.appendChild(self.rContainer);
            fragment.appendChild(self.innerContainer);
        }
        if (self.config.enableTime) {
            fragment.appendChild(buildTime());
        }
        (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(self.calendarContainer, "rangeMode", self.config.mode === "range");
        (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(self.calendarContainer, "animate", self.config.animate === true);
        (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(self.calendarContainer, "multiMonth", self.config.showMonths > 1);
        self.calendarContainer.appendChild(fragment);
        var customAppend = self.config.appendTo !== undefined &&
            self.config.appendTo.nodeType !== undefined;
        if (self.config.inline || self.config.static) {
            self.calendarContainer.classList.add(self.config.inline ? "inline" : "static");
            if (self.config.inline) {
                if (!customAppend && self.element.parentNode)
                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);
                else if (self.config.appendTo !== undefined)
                    self.config.appendTo.appendChild(self.calendarContainer);
            }
            if (self.config.static) {
                var wrapper = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("div", "flatpickr-wrapper");
                if (self.element.parentNode)
                    self.element.parentNode.insertBefore(wrapper, self.element);
                wrapper.appendChild(self.element);
                if (self.altInput)
                    wrapper.appendChild(self.altInput);
                wrapper.appendChild(self.calendarContainer);
            }
        }
        if (!self.config.static && !self.config.inline)
            (self.config.appendTo !== undefined
                ? self.config.appendTo
                : window.document.body).appendChild(self.calendarContainer);
    }
    function createDay(className, date, _dayNumber, i) {
        var dateIsEnabled = isEnabled(date, true), dayElement = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("span", className, date.getDate().toString());
        dayElement.dateObj = date;
        dayElement.$i = i;
        dayElement.setAttribute("aria-label", self.formatDate(date, self.config.ariaDateFormat));
        if (className.indexOf("hidden") === -1 &&
            (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.compareDates)(date, self.now) === 0) {
            self.todayDateElem = dayElement;
            dayElement.classList.add("today");
            dayElement.setAttribute("aria-current", "date");
        }
        if (dateIsEnabled) {
            dayElement.tabIndex = -1;
            if (isDateSelected(date)) {
                dayElement.classList.add("selected");
                self.selectedDateElem = dayElement;
                if (self.config.mode === "range") {
                    (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(dayElement, "startRange", self.selectedDates[0] &&
                        (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.compareDates)(date, self.selectedDates[0], true) === 0);
                    (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(dayElement, "endRange", self.selectedDates[1] &&
                        (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.compareDates)(date, self.selectedDates[1], true) === 0);
                    if (className === "nextMonthDay")
                        dayElement.classList.add("inRange");
                }
            }
        }
        else {
            dayElement.classList.add("flatpickr-disabled");
        }
        if (self.config.mode === "range") {
            if (isDateInRange(date) && !isDateSelected(date))
                dayElement.classList.add("inRange");
        }
        if (self.weekNumbers &&
            self.config.showMonths === 1 &&
            className !== "prevMonthDay" &&
            i % 7 === 6) {
            self.weekNumbers.insertAdjacentHTML("beforeend", "<span class='flatpickr-day'>" + self.config.getWeek(date) + "</span>");
        }
        triggerEvent("onDayCreate", dayElement);
        return dayElement;
    }
    function focusOnDayElem(targetNode) {
        targetNode.focus();
        if (self.config.mode === "range")
            onMouseOver(targetNode);
    }
    function getFirstAvailableDay(delta) {
        var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;
        var endMonth = delta > 0 ? self.config.showMonths : -1;
        for (var m = startMonth; m != endMonth; m += delta) {
            var month = self.daysContainer.children[m];
            var startIndex = delta > 0 ? 0 : month.children.length - 1;
            var endIndex = delta > 0 ? month.children.length : -1;
            for (var i = startIndex; i != endIndex; i += delta) {
                var c = month.children[i];
                if (c.className.indexOf("hidden") === -1 && isEnabled(c.dateObj))
                    return c;
            }
        }
        return undefined;
    }
    function getNextAvailableDay(current, delta) {
        var givenMonth = current.className.indexOf("Month") === -1
            ? current.dateObj.getMonth()
            : self.currentMonth;
        var endMonth = delta > 0 ? self.config.showMonths : -1;
        var loopDelta = delta > 0 ? 1 : -1;
        for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {
            var month = self.daysContainer.children[m];
            var startIndex = givenMonth - self.currentMonth === m
                ? current.$i + delta
                : delta < 0
                    ? month.children.length - 1
                    : 0;
            var numMonthDays = month.children.length;
            for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {
                var c = month.children[i];
                if (c.className.indexOf("hidden") === -1 &&
                    isEnabled(c.dateObj) &&
                    Math.abs(current.$i - i) >= Math.abs(delta))
                    return focusOnDayElem(c);
            }
        }
        self.changeMonth(loopDelta);
        focusOnDay(getFirstAvailableDay(loopDelta), 0);
        return undefined;
    }
    function focusOnDay(current, offset) {
        var activeElement = getClosestActiveElement();
        var dayFocused = isInView(activeElement || document.body);
        var startElem = current !== undefined
            ? current
            : dayFocused
                ? activeElement
                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)
                    ? self.selectedDateElem
                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)
                        ? self.todayDateElem
                        : getFirstAvailableDay(offset > 0 ? 1 : -1);
        if (startElem === undefined) {
            self._input.focus();
        }
        else if (!dayFocused) {
            focusOnDayElem(startElem);
        }
        else {
            getNextAvailableDay(startElem, offset);
        }
    }
    function buildMonthDays(year, month) {
        var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;
        var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);
        var daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? "prevMonthDay hidden" : "prevMonthDay", nextMonthDayClass = isMultiMonth ? "nextMonthDay hidden" : "nextMonthDay";
        var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;
        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {
            days.appendChild(createDay("flatpickr-day " + prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));
        }
        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {
            days.appendChild(createDay("flatpickr-day", new Date(year, month, dayNumber), dayNumber, dayIndex));
        }
        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&
            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {
            days.appendChild(createDay("flatpickr-day " + nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));
        }
        var dayContainer = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("div", "dayContainer");
        dayContainer.appendChild(days);
        return dayContainer;
    }
    function buildDays() {
        if (self.daysContainer === undefined) {
            return;
        }
        (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.clearNode)(self.daysContainer);
        if (self.weekNumbers)
            (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.clearNode)(self.weekNumbers);
        var frag = document.createDocumentFragment();
        for (var i = 0; i < self.config.showMonths; i++) {
            var d = new Date(self.currentYear, self.currentMonth, 1);
            d.setMonth(self.currentMonth + i);
            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));
        }
        self.daysContainer.appendChild(frag);
        self.days = self.daysContainer.firstChild;
        if (self.config.mode === "range" && self.selectedDates.length === 1) {
            onMouseOver();
        }
    }
    function buildMonthSwitch() {
        if (self.config.showMonths > 1 ||
            self.config.monthSelectorType !== "dropdown")
            return;
        var shouldBuildMonth = function (month) {
            if (self.config.minDate !== undefined &&
                self.currentYear === self.config.minDate.getFullYear() &&
                month < self.config.minDate.getMonth()) {
                return false;
            }
            return !(self.config.maxDate !== undefined &&
                self.currentYear === self.config.maxDate.getFullYear() &&
                month > self.config.maxDate.getMonth());
        };
        self.monthsDropdownContainer.tabIndex = -1;
        self.monthsDropdownContainer.innerHTML = "";
        for (var i = 0; i < 12; i++) {
            if (!shouldBuildMonth(i))
                continue;
            var month = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("option", "flatpickr-monthDropdown-month");
            month.value = new Date(self.currentYear, i).getMonth().toString();
            month.textContent = (0,_utils_formatting__WEBPACK_IMPORTED_MODULE_5__.monthToStr)(i, self.config.shorthandCurrentMonth, self.l10n);
            month.tabIndex = -1;
            if (self.currentMonth === i) {
                month.selected = true;
            }
            self.monthsDropdownContainer.appendChild(month);
        }
    }
    function buildMonth() {
        var container = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("div", "flatpickr-month");
        var monthNavFragment = window.document.createDocumentFragment();
        var monthElement;
        if (self.config.showMonths > 1 ||
            self.config.monthSelectorType === "static") {
            monthElement = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("span", "cur-month");
        }
        else {
            self.monthsDropdownContainer = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("select", "flatpickr-monthDropdown-months");
            self.monthsDropdownContainer.setAttribute("aria-label", self.l10n.monthAriaLabel);
            bind(self.monthsDropdownContainer, "change", function (e) {
                var target = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.getEventTarget)(e);
                var selectedMonth = parseInt(target.value, 10);
                self.changeMonth(selectedMonth - self.currentMonth);
                triggerEvent("onMonthChange");
            });
            buildMonthSwitch();
            monthElement = self.monthsDropdownContainer;
        }
        var yearInput = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createNumberInput)("cur-year", { tabindex: "-1" });
        var yearElement = yearInput.getElementsByTagName("input")[0];
        yearElement.setAttribute("aria-label", self.l10n.yearAriaLabel);
        if (self.config.minDate) {
            yearElement.setAttribute("min", self.config.minDate.getFullYear().toString());
        }
        if (self.config.maxDate) {
            yearElement.setAttribute("max", self.config.maxDate.getFullYear().toString());
            yearElement.disabled =
                !!self.config.minDate &&
                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();
        }
        var currentMonth = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("div", "flatpickr-current-month");
        currentMonth.appendChild(monthElement);
        currentMonth.appendChild(yearInput);
        monthNavFragment.appendChild(currentMonth);
        container.appendChild(monthNavFragment);
        return {
            container: container,
            yearElement: yearElement,
            monthElement: monthElement,
        };
    }
    function buildMonths() {
        (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.clearNode)(self.monthNav);
        self.monthNav.appendChild(self.prevMonthNav);
        if (self.config.showMonths) {
            self.yearElements = [];
            self.monthElements = [];
        }
        for (var m = self.config.showMonths; m--;) {
            var month = buildMonth();
            self.yearElements.push(month.yearElement);
            self.monthElements.push(month.monthElement);
            self.monthNav.appendChild(month.container);
        }
        self.monthNav.appendChild(self.nextMonthNav);
    }
    function buildMonthNav() {
        self.monthNav = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("div", "flatpickr-months");
        self.yearElements = [];
        self.monthElements = [];
        self.prevMonthNav = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("span", "flatpickr-prev-month");
        self.prevMonthNav.innerHTML = self.config.prevArrow;
        self.nextMonthNav = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("span", "flatpickr-next-month");
        self.nextMonthNav.innerHTML = self.config.nextArrow;
        buildMonths();
        Object.defineProperty(self, "_hidePrevMonthArrow", {
            get: function () { return self.__hidePrevMonthArrow; },
            set: function (bool) {
                if (self.__hidePrevMonthArrow !== bool) {
                    (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(self.prevMonthNav, "flatpickr-disabled", bool);
                    self.__hidePrevMonthArrow = bool;
                }
            },
        });
        Object.defineProperty(self, "_hideNextMonthArrow", {
            get: function () { return self.__hideNextMonthArrow; },
            set: function (bool) {
                if (self.__hideNextMonthArrow !== bool) {
                    (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(self.nextMonthNav, "flatpickr-disabled", bool);
                    self.__hideNextMonthArrow = bool;
                }
            },
        });
        self.currentYearElement = self.yearElements[0];
        updateNavigationCurrentMonth();
        return self.monthNav;
    }
    function buildTime() {
        self.calendarContainer.classList.add("hasTime");
        if (self.config.noCalendar)
            self.calendarContainer.classList.add("noCalendar");
        var defaults = (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.getDefaultHours)(self.config);
        self.timeContainer = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("div", "flatpickr-time");
        self.timeContainer.tabIndex = -1;
        var separator = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("span", "flatpickr-time-separator", ":");
        var hourInput = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createNumberInput)("flatpickr-hour", {
            "aria-label": self.l10n.hourAriaLabel,
        });
        self.hourElement = hourInput.getElementsByTagName("input")[0];
        var minuteInput = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createNumberInput)("flatpickr-minute", {
            "aria-label": self.l10n.minuteAriaLabel,
        });
        self.minuteElement = minuteInput.getElementsByTagName("input")[0];
        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;
        self.hourElement.value = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.pad)(self.latestSelectedDateObj
            ? self.latestSelectedDateObj.getHours()
            : self.config.time_24hr
                ? defaults.hours
                : military2ampm(defaults.hours));
        self.minuteElement.value = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.pad)(self.latestSelectedDateObj
            ? self.latestSelectedDateObj.getMinutes()
            : defaults.minutes);
        self.hourElement.setAttribute("step", self.config.hourIncrement.toString());
        self.minuteElement.setAttribute("step", self.config.minuteIncrement.toString());
        self.hourElement.setAttribute("min", self.config.time_24hr ? "0" : "1");
        self.hourElement.setAttribute("max", self.config.time_24hr ? "23" : "12");
        self.hourElement.setAttribute("maxlength", "2");
        self.minuteElement.setAttribute("min", "0");
        self.minuteElement.setAttribute("max", "59");
        self.minuteElement.setAttribute("maxlength", "2");
        self.timeContainer.appendChild(hourInput);
        self.timeContainer.appendChild(separator);
        self.timeContainer.appendChild(minuteInput);
        if (self.config.time_24hr)
            self.timeContainer.classList.add("time24hr");
        if (self.config.enableSeconds) {
            self.timeContainer.classList.add("hasSeconds");
            var secondInput = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createNumberInput)("flatpickr-second");
            self.secondElement = secondInput.getElementsByTagName("input")[0];
            self.secondElement.value = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.pad)(self.latestSelectedDateObj
                ? self.latestSelectedDateObj.getSeconds()
                : defaults.seconds);
            self.secondElement.setAttribute("step", self.minuteElement.getAttribute("step"));
            self.secondElement.setAttribute("min", "0");
            self.secondElement.setAttribute("max", "59");
            self.secondElement.setAttribute("maxlength", "2");
            self.timeContainer.appendChild((0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("span", "flatpickr-time-separator", ":"));
            self.timeContainer.appendChild(secondInput);
        }
        if (!self.config.time_24hr) {
            self.amPM = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("span", "flatpickr-am-pm", self.l10n.amPM[(0,_utils__WEBPACK_IMPORTED_MODULE_2__.int)((self.latestSelectedDateObj
                ? self.hourElement.value
                : self.config.defaultHour) > 11)]);
            self.amPM.title = self.l10n.toggleTitle;
            self.amPM.tabIndex = -1;
            self.timeContainer.appendChild(self.amPM);
        }
        return self.timeContainer;
    }
    function buildWeekdays() {
        if (!self.weekdayContainer)
            self.weekdayContainer = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("div", "flatpickr-weekdays");
        else
            (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.clearNode)(self.weekdayContainer);
        for (var i = self.config.showMonths; i--;) {
            var container = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("div", "flatpickr-weekdaycontainer");
            self.weekdayContainer.appendChild(container);
        }
        updateWeekdays();
        return self.weekdayContainer;
    }
    function updateWeekdays() {
        if (!self.weekdayContainer) {
            return;
        }
        var firstDayOfWeek = self.l10n.firstDayOfWeek;
        var weekdays = __spreadArrays(self.l10n.weekdays.shorthand);
        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {
            weekdays = __spreadArrays(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));
        }
        for (var i = self.config.showMonths; i--;) {
            self.weekdayContainer.children[i].innerHTML = "\n      <span class='flatpickr-weekday'>\n        " + weekdays.join("</span><span class='flatpickr-weekday'>") + "\n      </span>\n      ";
        }
    }
    function buildWeeks() {
        self.calendarContainer.classList.add("hasWeeks");
        var weekWrapper = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("div", "flatpickr-weekwrapper");
        weekWrapper.appendChild((0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("span", "flatpickr-weekday", self.l10n.weekAbbreviation));
        var weekNumbers = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("div", "flatpickr-weeks");
        weekWrapper.appendChild(weekNumbers);
        return {
            weekWrapper: weekWrapper,
            weekNumbers: weekNumbers,
        };
    }
    function changeMonth(value, isOffset) {
        if (isOffset === void 0) { isOffset = true; }
        var delta = isOffset ? value : value - self.currentMonth;
        if ((delta < 0 && self._hidePrevMonthArrow === true) ||
            (delta > 0 && self._hideNextMonthArrow === true))
            return;
        self.currentMonth += delta;
        if (self.currentMonth < 0 || self.currentMonth > 11) {
            self.currentYear += self.currentMonth > 11 ? 1 : -1;
            self.currentMonth = (self.currentMonth + 12) % 12;
            triggerEvent("onYearChange");
            buildMonthSwitch();
        }
        buildDays();
        triggerEvent("onMonthChange");
        updateNavigationCurrentMonth();
    }
    function clear(triggerChangeEvent, toInitial) {
        if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }
        if (toInitial === void 0) { toInitial = true; }
        self.input.value = "";
        if (self.altInput !== undefined)
            self.altInput.value = "";
        if (self.mobileInput !== undefined)
            self.mobileInput.value = "";
        self.selectedDates = [];
        self.latestSelectedDateObj = undefined;
        if (toInitial === true) {
            self.currentYear = self._initialDate.getFullYear();
            self.currentMonth = self._initialDate.getMonth();
        }
        if (self.config.enableTime === true) {
            var _a = (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.getDefaultHours)(self.config), hours = _a.hours, minutes = _a.minutes, seconds = _a.seconds;
            setHours(hours, minutes, seconds);
        }
        self.redraw();
        if (triggerChangeEvent)
            triggerEvent("onChange");
    }
    function close() {
        self.isOpen = false;
        if (!self.isMobile) {
            if (self.calendarContainer !== undefined) {
                self.calendarContainer.classList.remove("open");
            }
            if (self._input !== undefined) {
                self._input.classList.remove("active");
            }
        }
        triggerEvent("onClose");
    }
    function destroy() {
        if (self.config !== undefined)
            triggerEvent("onDestroy");
        for (var i = self._handlers.length; i--;) {
            self._handlers[i].remove();
        }
        self._handlers = [];
        if (self.mobileInput) {
            if (self.mobileInput.parentNode)
                self.mobileInput.parentNode.removeChild(self.mobileInput);
            self.mobileInput = undefined;
        }
        else if (self.calendarContainer && self.calendarContainer.parentNode) {
            if (self.config.static && self.calendarContainer.parentNode) {
                var wrapper = self.calendarContainer.parentNode;
                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);
                if (wrapper.parentNode) {
                    while (wrapper.firstChild)
                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);
                    wrapper.parentNode.removeChild(wrapper);
                }
            }
            else
                self.calendarContainer.parentNode.removeChild(self.calendarContainer);
        }
        if (self.altInput) {
            self.input.type = "text";
            if (self.altInput.parentNode)
                self.altInput.parentNode.removeChild(self.altInput);
            delete self.altInput;
        }
        if (self.input) {
            self.input.type = self.input._type;
            self.input.classList.remove("flatpickr-input");
            self.input.removeAttribute("readonly");
        }
        [
            "_showTimeInput",
            "latestSelectedDateObj",
            "_hideNextMonthArrow",
            "_hidePrevMonthArrow",
            "__hideNextMonthArrow",
            "__hidePrevMonthArrow",
            "isMobile",
            "isOpen",
            "selectedDateElem",
            "minDateHasTime",
            "maxDateHasTime",
            "days",
            "daysContainer",
            "_input",
            "_positionElement",
            "innerContainer",
            "rContainer",
            "monthNav",
            "todayDateElem",
            "calendarContainer",
            "weekdayContainer",
            "prevMonthNav",
            "nextMonthNav",
            "monthsDropdownContainer",
            "currentMonthElement",
            "currentYearElement",
            "navigationCurrentMonth",
            "selectedDateElem",
            "config",
        ].forEach(function (k) {
            try {
                delete self[k];
            }
            catch (_) { }
        });
    }
    function isCalendarElem(elem) {
        return self.calendarContainer.contains(elem);
    }
    function documentClick(e) {
        if (self.isOpen && !self.config.inline) {
            var eventTarget_1 = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.getEventTarget)(e);
            var isCalendarElement = isCalendarElem(eventTarget_1);
            var isInput = eventTarget_1 === self.input ||
                eventTarget_1 === self.altInput ||
                self.element.contains(eventTarget_1) ||
                (e.path &&
                    e.path.indexOf &&
                    (~e.path.indexOf(self.input) ||
                        ~e.path.indexOf(self.altInput)));
            var lostFocus = !isInput &&
                !isCalendarElement &&
                !isCalendarElem(e.relatedTarget);
            var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {
                return elem.contains(eventTarget_1);
            });
            if (lostFocus && isIgnored) {
                if (self.config.allowInput) {
                    self.setDate(self._input.value, false, self.config.altInput
                        ? self.config.altFormat
                        : self.config.dateFormat);
                }
                if (self.timeContainer !== undefined &&
                    self.minuteElement !== undefined &&
                    self.hourElement !== undefined &&
                    self.input.value !== "" &&
                    self.input.value !== undefined) {
                    updateTime();
                }
                self.close();
                if (self.config &&
                    self.config.mode === "range" &&
                    self.selectedDates.length === 1)
                    self.clear(false);
            }
        }
    }
    function changeYear(newYear) {
        if (!newYear ||
            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||
            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))
            return;
        var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;
        self.currentYear = newYearNum || self.currentYear;
        if (self.config.maxDate &&
            self.currentYear === self.config.maxDate.getFullYear()) {
            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);
        }
        else if (self.config.minDate &&
            self.currentYear === self.config.minDate.getFullYear()) {
            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);
        }
        if (isNewYear) {
            self.redraw();
            triggerEvent("onYearChange");
            buildMonthSwitch();
        }
    }
    function isEnabled(date, timeless) {
        var _a;
        if (timeless === void 0) { timeless = true; }
        var dateToCheck = self.parseDate(date, undefined, timeless);
        if ((self.config.minDate &&
            dateToCheck &&
            (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.compareDates)(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||
            (self.config.maxDate &&
                dateToCheck &&
                (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.compareDates)(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))
            return false;
        if (!self.config.enable && self.config.disable.length === 0)
            return true;
        if (dateToCheck === undefined)
            return false;
        var bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;
        for (var i = 0, d = void 0; i < array.length; i++) {
            d = array[i];
            if (typeof d === "function" &&
                d(dateToCheck))
                return bool;
            else if (d instanceof Date &&
                dateToCheck !== undefined &&
                d.getTime() === dateToCheck.getTime())
                return bool;
            else if (typeof d === "string") {
                var parsed = self.parseDate(d, undefined, true);
                return parsed && parsed.getTime() === dateToCheck.getTime()
                    ? bool
                    : !bool;
            }
            else if (typeof d === "object" &&
                dateToCheck !== undefined &&
                d.from &&
                d.to &&
                dateToCheck.getTime() >= d.from.getTime() &&
                dateToCheck.getTime() <= d.to.getTime())
                return bool;
        }
        return !bool;
    }
    function isInView(elem) {
        if (self.daysContainer !== undefined)
            return (elem.className.indexOf("hidden") === -1 &&
                elem.className.indexOf("flatpickr-disabled") === -1 &&
                self.daysContainer.contains(elem));
        return false;
    }
    function onBlur(e) {
        var isInput = e.target === self._input;
        var valueChanged = self._input.value.trimEnd() !== getDateStr();
        if (isInput &&
            valueChanged &&
            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {
            self.setDate(self._input.value, true, e.target === self.altInput
                ? self.config.altFormat
                : self.config.dateFormat);
        }
    }
    function onKeyDown(e) {
        var eventTarget = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.getEventTarget)(e);
        var isInput = self.config.wrap
            ? element.contains(eventTarget)
            : eventTarget === self._input;
        var allowInput = self.config.allowInput;
        var allowKeydown = self.isOpen && (!allowInput || !isInput);
        var allowInlineKeydown = self.config.inline && isInput && !allowInput;
        if (e.keyCode === 13 && isInput) {
            if (allowInput) {
                self.setDate(self._input.value, true, eventTarget === self.altInput
                    ? self.config.altFormat
                    : self.config.dateFormat);
                self.close();
                return eventTarget.blur();
            }
            else {
                self.open();
            }
        }
        else if (isCalendarElem(eventTarget) ||
            allowKeydown ||
            allowInlineKeydown) {
            var isTimeObj = !!self.timeContainer &&
                self.timeContainer.contains(eventTarget);
            switch (e.keyCode) {
                case 13:
                    if (isTimeObj) {
                        e.preventDefault();
                        updateTime();
                        focusAndClose();
                    }
                    else
                        selectDate(e);
                    break;
                case 27:
                    e.preventDefault();
                    focusAndClose();
                    break;
                case 8:
                case 46:
                    if (isInput && !self.config.allowInput) {
                        e.preventDefault();
                        self.clear();
                    }
                    break;
                case 37:
                case 39:
                    if (!isTimeObj && !isInput) {
                        e.preventDefault();
                        var activeElement = getClosestActiveElement();
                        if (self.daysContainer !== undefined &&
                            (allowInput === false ||
                                (activeElement && isInView(activeElement)))) {
                            var delta_1 = e.keyCode === 39 ? 1 : -1;
                            if (!e.ctrlKey)
                                focusOnDay(undefined, delta_1);
                            else {
                                e.stopPropagation();
                                changeMonth(delta_1);
                                focusOnDay(getFirstAvailableDay(1), 0);
                            }
                        }
                    }
                    else if (self.hourElement)
                        self.hourElement.focus();
                    break;
                case 38:
                case 40:
                    e.preventDefault();
                    var delta = e.keyCode === 40 ? 1 : -1;
                    if ((self.daysContainer &&
                        eventTarget.$i !== undefined) ||
                        eventTarget === self.input ||
                        eventTarget === self.altInput) {
                        if (e.ctrlKey) {
                            e.stopPropagation();
                            changeYear(self.currentYear - delta);
                            focusOnDay(getFirstAvailableDay(1), 0);
                        }
                        else if (!isTimeObj)
                            focusOnDay(undefined, delta * 7);
                    }
                    else if (eventTarget === self.currentYearElement) {
                        changeYear(self.currentYear - delta);
                    }
                    else if (self.config.enableTime) {
                        if (!isTimeObj && self.hourElement)
                            self.hourElement.focus();
                        updateTime(e);
                        self._debouncedChange();
                    }
                    break;
                case 9:
                    if (isTimeObj) {
                        var elems = [
                            self.hourElement,
                            self.minuteElement,
                            self.secondElement,
                            self.amPM,
                        ]
                            .concat(self.pluginElements)
                            .filter(function (x) { return x; });
                        var i = elems.indexOf(eventTarget);
                        if (i !== -1) {
                            var target = elems[i + (e.shiftKey ? -1 : 1)];
                            e.preventDefault();
                            (target || self._input).focus();
                        }
                    }
                    else if (!self.config.noCalendar &&
                        self.daysContainer &&
                        self.daysContainer.contains(eventTarget) &&
                        e.shiftKey) {
                        e.preventDefault();
                        self._input.focus();
                    }
                    break;
                default:
                    break;
            }
        }
        if (self.amPM !== undefined && eventTarget === self.amPM) {
            switch (e.key) {
                case self.l10n.amPM[0].charAt(0):
                case self.l10n.amPM[0].charAt(0).toLowerCase():
                    self.amPM.textContent = self.l10n.amPM[0];
                    setHoursFromInputs();
                    updateValue();
                    break;
                case self.l10n.amPM[1].charAt(0):
                case self.l10n.amPM[1].charAt(0).toLowerCase():
                    self.amPM.textContent = self.l10n.amPM[1];
                    setHoursFromInputs();
                    updateValue();
                    break;
            }
        }
        if (isInput || isCalendarElem(eventTarget)) {
            triggerEvent("onKeyDown", e);
        }
    }
    function onMouseOver(elem, cellClass) {
        if (cellClass === void 0) { cellClass = "flatpickr-day"; }
        if (self.selectedDates.length !== 1 ||
            (elem &&
                (!elem.classList.contains(cellClass) ||
                    elem.classList.contains("flatpickr-disabled"))))
            return;
        var hoverDate = elem
            ? elem.dateObj.getTime()
            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());
        var containsDisabled = false;
        var minRange = 0, maxRange = 0;
        for (var t = rangeStartDate; t < rangeEndDate; t += _utils_dates__WEBPACK_IMPORTED_MODULE_4__.duration.DAY) {
            if (!isEnabled(new Date(t), true)) {
                containsDisabled =
                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);
                if (t < initialDate && (!minRange || t > minRange))
                    minRange = t;
                else if (t > initialDate && (!maxRange || t < maxRange))
                    maxRange = t;
            }
        }
        var hoverableCells = Array.from(self.rContainer.querySelectorAll("*:nth-child(-n+" + self.config.showMonths + ") > ." + cellClass));
        hoverableCells.forEach(function (dayElem) {
            var date = dayElem.dateObj;
            var timestamp = date.getTime();
            var outOfRange = (minRange > 0 && timestamp < minRange) ||
                (maxRange > 0 && timestamp > maxRange);
            if (outOfRange) {
                dayElem.classList.add("notAllowed");
                ["inRange", "startRange", "endRange"].forEach(function (c) {
                    dayElem.classList.remove(c);
                });
                return;
            }
            else if (containsDisabled && !outOfRange)
                return;
            ["startRange", "inRange", "endRange", "notAllowed"].forEach(function (c) {
                dayElem.classList.remove(c);
            });
            if (elem !== undefined) {
                elem.classList.add(hoverDate <= self.selectedDates[0].getTime()
                    ? "startRange"
                    : "endRange");
                if (initialDate < hoverDate && timestamp === initialDate)
                    dayElem.classList.add("startRange");
                else if (initialDate > hoverDate && timestamp === initialDate)
                    dayElem.classList.add("endRange");
                if (timestamp >= minRange &&
                    (maxRange === 0 || timestamp <= maxRange) &&
                    (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.isBetween)(timestamp, initialDate, hoverDate))
                    dayElem.classList.add("inRange");
            }
        });
    }
    function onResize() {
        if (self.isOpen && !self.config.static && !self.config.inline)
            positionCalendar();
    }
    function open(e, positionElement) {
        if (positionElement === void 0) { positionElement = self._positionElement; }
        if (self.isMobile === true) {
            if (e) {
                e.preventDefault();
                var eventTarget = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.getEventTarget)(e);
                if (eventTarget) {
                    eventTarget.blur();
                }
            }
            if (self.mobileInput !== undefined) {
                self.mobileInput.focus();
                self.mobileInput.click();
            }
            triggerEvent("onOpen");
            return;
        }
        else if (self._input.disabled || self.config.inline) {
            return;
        }
        var wasOpen = self.isOpen;
        self.isOpen = true;
        if (!wasOpen) {
            self.calendarContainer.classList.add("open");
            self._input.classList.add("active");
            triggerEvent("onOpen");
            positionCalendar(positionElement);
        }
        if (self.config.enableTime === true && self.config.noCalendar === true) {
            if (self.config.allowInput === false &&
                (e === undefined ||
                    !self.timeContainer.contains(e.relatedTarget))) {
                setTimeout(function () { return self.hourElement.select(); }, 50);
            }
        }
    }
    function minMaxDateSetter(type) {
        return function (date) {
            var dateObj = (self.config["_" + type + "Date"] = self.parseDate(date, self.config.dateFormat));
            var inverseDateObj = self.config["_" + (type === "min" ? "max" : "min") + "Date"];
            if (dateObj !== undefined) {
                self[type === "min" ? "minDateHasTime" : "maxDateHasTime"] =
                    dateObj.getHours() > 0 ||
                        dateObj.getMinutes() > 0 ||
                        dateObj.getSeconds() > 0;
            }
            if (self.selectedDates) {
                self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });
                if (!self.selectedDates.length && type === "min")
                    setHoursFromDate(dateObj);
                updateValue();
            }
            if (self.daysContainer) {
                redraw();
                if (dateObj !== undefined)
                    self.currentYearElement[type] = dateObj.getFullYear().toString();
                else
                    self.currentYearElement.removeAttribute(type);
                self.currentYearElement.disabled =
                    !!inverseDateObj &&
                        dateObj !== undefined &&
                        inverseDateObj.getFullYear() === dateObj.getFullYear();
            }
        };
    }
    function parseConfig() {
        var boolOpts = [
            "wrap",
            "weekNumbers",
            "allowInput",
            "allowInvalidPreload",
            "clickOpens",
            "time_24hr",
            "enableTime",
            "noCalendar",
            "altInput",
            "shorthandCurrentMonth",
            "inline",
            "static",
            "enableSeconds",
            "disableMobile",
        ];
        var userConfig = __assign(__assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);
        var formats = {};
        self.config.parseDate = userConfig.parseDate;
        self.config.formatDate = userConfig.formatDate;
        Object.defineProperty(self.config, "enable", {
            get: function () { return self.config._enable; },
            set: function (dates) {
                self.config._enable = parseDateRules(dates);
            },
        });
        Object.defineProperty(self.config, "disable", {
            get: function () { return self.config._disable; },
            set: function (dates) {
                self.config._disable = parseDateRules(dates);
            },
        });
        var timeMode = userConfig.mode === "time";
        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {
            var defaultDateFormat = flatpickr.defaultConfig.dateFormat || _types_options__WEBPACK_IMPORTED_MODULE_0__.defaults.dateFormat;
            formats.dateFormat =
                userConfig.noCalendar || timeMode
                    ? "H:i" + (userConfig.enableSeconds ? ":S" : "")
                    : defaultDateFormat + " H:i" + (userConfig.enableSeconds ? ":S" : "");
        }
        if (userConfig.altInput &&
            (userConfig.enableTime || timeMode) &&
            !userConfig.altFormat) {
            var defaultAltFormat = flatpickr.defaultConfig.altFormat || _types_options__WEBPACK_IMPORTED_MODULE_0__.defaults.altFormat;
            formats.altFormat =
                userConfig.noCalendar || timeMode
                    ? "h:i" + (userConfig.enableSeconds ? ":S K" : " K")
                    : defaultAltFormat + (" h:i" + (userConfig.enableSeconds ? ":S" : "") + " K");
        }
        Object.defineProperty(self.config, "minDate", {
            get: function () { return self.config._minDate; },
            set: minMaxDateSetter("min"),
        });
        Object.defineProperty(self.config, "maxDate", {
            get: function () { return self.config._maxDate; },
            set: minMaxDateSetter("max"),
        });
        var minMaxTimeSetter = function (type) { return function (val) {
            self.config[type === "min" ? "_minTime" : "_maxTime"] = self.parseDate(val, "H:i:S");
        }; };
        Object.defineProperty(self.config, "minTime", {
            get: function () { return self.config._minTime; },
            set: minMaxTimeSetter("min"),
        });
        Object.defineProperty(self.config, "maxTime", {
            get: function () { return self.config._maxTime; },
            set: minMaxTimeSetter("max"),
        });
        if (userConfig.mode === "time") {
            self.config.noCalendar = true;
            self.config.enableTime = true;
        }
        Object.assign(self.config, formats, userConfig);
        for (var i = 0; i < boolOpts.length; i++)
            self.config[boolOpts[i]] =
                self.config[boolOpts[i]] === true ||
                    self.config[boolOpts[i]] === "true";
        _types_options__WEBPACK_IMPORTED_MODULE_0__.HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {
            self.config[hook] = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.arrayify)(self.config[hook] || []).map(bindToInstance);
        });
        self.isMobile =
            !self.config.disableMobile &&
                !self.config.inline &&
                self.config.mode === "single" &&
                !self.config.disable.length &&
                !self.config.enable &&
                !self.config.weekNumbers &&
                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        for (var i = 0; i < self.config.plugins.length; i++) {
            var pluginConf = self.config.plugins[i](self) || {};
            for (var key in pluginConf) {
                if (_types_options__WEBPACK_IMPORTED_MODULE_0__.HOOKS.indexOf(key) > -1) {
                    self.config[key] = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.arrayify)(pluginConf[key])
                        .map(bindToInstance)
                        .concat(self.config[key]);
                }
                else if (typeof userConfig[key] === "undefined")
                    self.config[key] = pluginConf[key];
            }
        }
        if (!userConfig.altInputClass) {
            self.config.altInputClass =
                getInputElem().className + " " + self.config.altInputClass;
        }
        triggerEvent("onParseConfig");
    }
    function getInputElem() {
        return self.config.wrap
            ? element.querySelector("[data-input]")
            : element;
    }
    function setupLocale() {
        if (typeof self.config.locale !== "object" &&
            typeof flatpickr.l10ns[self.config.locale] === "undefined")
            self.config.errorHandler(new Error("flatpickr: invalid locale " + self.config.locale));
        self.l10n = __assign(__assign({}, flatpickr.l10ns.default), (typeof self.config.locale === "object"
            ? self.config.locale
            : self.config.locale !== "default"
                ? flatpickr.l10ns[self.config.locale]
                : undefined));
        _utils_formatting__WEBPACK_IMPORTED_MODULE_5__.tokenRegex.D = "(" + self.l10n.weekdays.shorthand.join("|") + ")";
        _utils_formatting__WEBPACK_IMPORTED_MODULE_5__.tokenRegex.l = "(" + self.l10n.weekdays.longhand.join("|") + ")";
        _utils_formatting__WEBPACK_IMPORTED_MODULE_5__.tokenRegex.M = "(" + self.l10n.months.shorthand.join("|") + ")";
        _utils_formatting__WEBPACK_IMPORTED_MODULE_5__.tokenRegex.F = "(" + self.l10n.months.longhand.join("|") + ")";
        _utils_formatting__WEBPACK_IMPORTED_MODULE_5__.tokenRegex.K = "(" + self.l10n.amPM[0] + "|" + self.l10n.amPM[1] + "|" + self.l10n.amPM[0].toLowerCase() + "|" + self.l10n.amPM[1].toLowerCase() + ")";
        var userConfig = __assign(__assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));
        if (userConfig.time_24hr === undefined &&
            flatpickr.defaultConfig.time_24hr === undefined) {
            self.config.time_24hr = self.l10n.time_24hr;
        }
        self.formatDate = (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.createDateFormatter)(self);
        self.parseDate = (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.createDateParser)({ config: self.config, l10n: self.l10n });
    }
    function positionCalendar(customPositionElement) {
        if (typeof self.config.position === "function") {
            return void self.config.position(self, customPositionElement);
        }
        if (self.calendarContainer === undefined)
            return;
        triggerEvent("onPreCalendarPosition");
        var positionElement = customPositionElement || self._positionElement;
        var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(" "), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === "above" ||
            (configPosVertical !== "below" &&
                distanceFromBottom < calendarHeight &&
                inputBounds.top > calendarHeight);
        var top = window.pageYOffset +
            inputBounds.top +
            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);
        (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(self.calendarContainer, "arrowTop", !showOnTop);
        (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(self.calendarContainer, "arrowBottom", showOnTop);
        if (self.config.inline)
            return;
        var left = window.pageXOffset + inputBounds.left;
        var isCenter = false;
        var isRight = false;
        if (configPosHorizontal === "center") {
            left -= (calendarWidth - inputBounds.width) / 2;
            isCenter = true;
        }
        else if (configPosHorizontal === "right") {
            left -= calendarWidth - inputBounds.width;
            isRight = true;
        }
        (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(self.calendarContainer, "arrowLeft", !isCenter && !isRight);
        (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(self.calendarContainer, "arrowCenter", isCenter);
        (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(self.calendarContainer, "arrowRight", isRight);
        var right = window.document.body.offsetWidth -
            (window.pageXOffset + inputBounds.right);
        var rightMost = left + calendarWidth > window.document.body.offsetWidth;
        var centerMost = right + calendarWidth > window.document.body.offsetWidth;
        (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(self.calendarContainer, "rightMost", rightMost);
        if (self.config.static)
            return;
        self.calendarContainer.style.top = top + "px";
        if (!rightMost) {
            self.calendarContainer.style.left = left + "px";
            self.calendarContainer.style.right = "auto";
        }
        else if (!centerMost) {
            self.calendarContainer.style.left = "auto";
            self.calendarContainer.style.right = right + "px";
        }
        else {
            var doc = getDocumentStyleSheet();
            if (doc === undefined)
                return;
            var bodyWidth = window.document.body.offsetWidth;
            var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);
            var centerBefore = ".flatpickr-calendar.centerMost:before";
            var centerAfter = ".flatpickr-calendar.centerMost:after";
            var centerIndex = doc.cssRules.length;
            var centerStyle = "{left:" + inputBounds.left + "px;right:auto;}";
            (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(self.calendarContainer, "rightMost", false);
            (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(self.calendarContainer, "centerMost", true);
            doc.insertRule(centerBefore + "," + centerAfter + centerStyle, centerIndex);
            self.calendarContainer.style.left = centerLeft + "px";
            self.calendarContainer.style.right = "auto";
        }
    }
    function getDocumentStyleSheet() {
        var editableSheet = null;
        for (var i = 0; i < document.styleSheets.length; i++) {
            var sheet = document.styleSheets[i];
            if (!sheet.cssRules)
                continue;
            try {
                sheet.cssRules;
            }
            catch (err) {
                continue;
            }
            editableSheet = sheet;
            break;
        }
        return editableSheet != null ? editableSheet : createStyleSheet();
    }
    function createStyleSheet() {
        var style = document.createElement("style");
        document.head.appendChild(style);
        return style.sheet;
    }
    function redraw() {
        if (self.config.noCalendar || self.isMobile)
            return;
        buildMonthSwitch();
        updateNavigationCurrentMonth();
        buildDays();
    }
    function focusAndClose() {
        self._input.focus();
        if (window.navigator.userAgent.indexOf("MSIE") !== -1 ||
            navigator.msMaxTouchPoints !== undefined) {
            setTimeout(self.close, 0);
        }
        else {
            self.close();
        }
    }
    function selectDate(e) {
        e.preventDefault();
        e.stopPropagation();
        var isSelectable = function (day) {
            return day.classList &&
                day.classList.contains("flatpickr-day") &&
                !day.classList.contains("flatpickr-disabled") &&
                !day.classList.contains("notAllowed");
        };
        var t = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.findParent)((0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.getEventTarget)(e), isSelectable);
        if (t === undefined)
            return;
        var target = t;
        var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));
        var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||
            selectedDate.getMonth() >
                self.currentMonth + self.config.showMonths - 1) &&
            self.config.mode !== "range";
        self.selectedDateElem = target;
        if (self.config.mode === "single")
            self.selectedDates = [selectedDate];
        else if (self.config.mode === "multiple") {
            var selectedIndex = isDateSelected(selectedDate);
            if (selectedIndex)
                self.selectedDates.splice(parseInt(selectedIndex), 1);
            else
                self.selectedDates.push(selectedDate);
        }
        else if (self.config.mode === "range") {
            if (self.selectedDates.length === 2) {
                self.clear(false, false);
            }
            self.latestSelectedDateObj = selectedDate;
            self.selectedDates.push(selectedDate);
            if ((0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.compareDates)(selectedDate, self.selectedDates[0], true) !== 0)
                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });
        }
        setHoursFromInputs();
        if (shouldChangeMonth) {
            var isNewYear = self.currentYear !== selectedDate.getFullYear();
            self.currentYear = selectedDate.getFullYear();
            self.currentMonth = selectedDate.getMonth();
            if (isNewYear) {
                triggerEvent("onYearChange");
                buildMonthSwitch();
            }
            triggerEvent("onMonthChange");
        }
        updateNavigationCurrentMonth();
        buildDays();
        updateValue();
        if (!shouldChangeMonth &&
            self.config.mode !== "range" &&
            self.config.showMonths === 1)
            focusOnDayElem(target);
        else if (self.selectedDateElem !== undefined &&
            self.hourElement === undefined) {
            self.selectedDateElem && self.selectedDateElem.focus();
        }
        if (self.hourElement !== undefined)
            self.hourElement !== undefined && self.hourElement.focus();
        if (self.config.closeOnSelect) {
            var single = self.config.mode === "single" && !self.config.enableTime;
            var range = self.config.mode === "range" &&
                self.selectedDates.length === 2 &&
                !self.config.enableTime;
            if (single || range) {
                focusAndClose();
            }
        }
        triggerChange();
    }
    var CALLBACKS = {
        locale: [setupLocale, updateWeekdays],
        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],
        minDate: [jumpToDate],
        maxDate: [jumpToDate],
        positionElement: [updatePositionElement],
        clickOpens: [
            function () {
                if (self.config.clickOpens === true) {
                    bind(self._input, "focus", self.open);
                    bind(self._input, "click", self.open);
                }
                else {
                    self._input.removeEventListener("focus", self.open);
                    self._input.removeEventListener("click", self.open);
                }
            },
        ],
    };
    function set(option, value) {
        if (option !== null && typeof option === "object") {
            Object.assign(self.config, option);
            for (var key in option) {
                if (CALLBACKS[key] !== undefined)
                    CALLBACKS[key].forEach(function (x) { return x(); });
            }
        }
        else {
            self.config[option] = value;
            if (CALLBACKS[option] !== undefined)
                CALLBACKS[option].forEach(function (x) { return x(); });
            else if (_types_options__WEBPACK_IMPORTED_MODULE_0__.HOOKS.indexOf(option) > -1)
                self.config[option] = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.arrayify)(value);
        }
        self.redraw();
        updateValue(true);
    }
    function setSelectedDate(inputDate, format) {
        var dates = [];
        if (inputDate instanceof Array)
            dates = inputDate.map(function (d) { return self.parseDate(d, format); });
        else if (inputDate instanceof Date || typeof inputDate === "number")
            dates = [self.parseDate(inputDate, format)];
        else if (typeof inputDate === "string") {
            switch (self.config.mode) {
                case "single":
                case "time":
                    dates = [self.parseDate(inputDate, format)];
                    break;
                case "multiple":
                    dates = inputDate
                        .split(self.config.conjunction)
                        .map(function (date) { return self.parseDate(date, format); });
                    break;
                case "range":
                    dates = inputDate
                        .split(self.l10n.rangeSeparator)
                        .map(function (date) { return self.parseDate(date, format); });
                    break;
                default:
                    break;
            }
        }
        else
            self.config.errorHandler(new Error("Invalid date supplied: " + JSON.stringify(inputDate)));
        self.selectedDates = (self.config.allowInvalidPreload
            ? dates
            : dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); }));
        if (self.config.mode === "range")
            self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });
    }
    function setDate(date, triggerChange, format) {
        if (triggerChange === void 0) { triggerChange = false; }
        if (format === void 0) { format = self.config.dateFormat; }
        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))
            return self.clear(triggerChange);
        setSelectedDate(date, format);
        self.latestSelectedDateObj =
            self.selectedDates[self.selectedDates.length - 1];
        self.redraw();
        jumpToDate(undefined, triggerChange);
        setHoursFromDate();
        if (self.selectedDates.length === 0) {
            self.clear(false);
        }
        updateValue(triggerChange);
        if (triggerChange)
            triggerEvent("onChange");
    }
    function parseDateRules(arr) {
        return arr
            .slice()
            .map(function (rule) {
            if (typeof rule === "string" ||
                typeof rule === "number" ||
                rule instanceof Date) {
                return self.parseDate(rule, undefined, true);
            }
            else if (rule &&
                typeof rule === "object" &&
                rule.from &&
                rule.to)
                return {
                    from: self.parseDate(rule.from, undefined),
                    to: self.parseDate(rule.to, undefined),
                };
            return rule;
        })
            .filter(function (x) { return x; });
    }
    function setupDates() {
        self.selectedDates = [];
        self.now = self.parseDate(self.config.now) || new Date();
        var preloadedDate = self.config.defaultDate ||
            ((self.input.nodeName === "INPUT" ||
                self.input.nodeName === "TEXTAREA") &&
                self.input.placeholder &&
                self.input.value === self.input.placeholder
                ? null
                : self.input.value);
        if (preloadedDate)
            setSelectedDate(preloadedDate, self.config.dateFormat);
        self._initialDate =
            self.selectedDates.length > 0
                ? self.selectedDates[0]
                : self.config.minDate &&
                    self.config.minDate.getTime() > self.now.getTime()
                    ? self.config.minDate
                    : self.config.maxDate &&
                        self.config.maxDate.getTime() < self.now.getTime()
                        ? self.config.maxDate
                        : self.now;
        self.currentYear = self._initialDate.getFullYear();
        self.currentMonth = self._initialDate.getMonth();
        if (self.selectedDates.length > 0)
            self.latestSelectedDateObj = self.selectedDates[0];
        if (self.config.minTime !== undefined)
            self.config.minTime = self.parseDate(self.config.minTime, "H:i");
        if (self.config.maxTime !== undefined)
            self.config.maxTime = self.parseDate(self.config.maxTime, "H:i");
        self.minDateHasTime =
            !!self.config.minDate &&
                (self.config.minDate.getHours() > 0 ||
                    self.config.minDate.getMinutes() > 0 ||
                    self.config.minDate.getSeconds() > 0);
        self.maxDateHasTime =
            !!self.config.maxDate &&
                (self.config.maxDate.getHours() > 0 ||
                    self.config.maxDate.getMinutes() > 0 ||
                    self.config.maxDate.getSeconds() > 0);
    }
    function setupInputs() {
        self.input = getInputElem();
        if (!self.input) {
            self.config.errorHandler(new Error("Invalid input element specified"));
            return;
        }
        self.input._type = self.input.type;
        self.input.type = "text";
        self.input.classList.add("flatpickr-input");
        self._input = self.input;
        if (self.config.altInput) {
            self.altInput = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)(self.input.nodeName, self.config.altInputClass);
            self._input = self.altInput;
            self.altInput.placeholder = self.input.placeholder;
            self.altInput.disabled = self.input.disabled;
            self.altInput.required = self.input.required;
            self.altInput.tabIndex = self.input.tabIndex;
            self.altInput.type = "text";
            self.input.setAttribute("type", "hidden");
            if (!self.config.static && self.input.parentNode)
                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);
        }
        if (!self.config.allowInput)
            self._input.setAttribute("readonly", "readonly");
        updatePositionElement();
    }
    function updatePositionElement() {
        self._positionElement = self.config.positionElement || self._input;
    }
    function setupMobile() {
        var inputType = self.config.enableTime
            ? self.config.noCalendar
                ? "time"
                : "datetime-local"
            : "date";
        self.mobileInput = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.createElement)("input", self.input.className + " flatpickr-mobile");
        self.mobileInput.tabIndex = 1;
        self.mobileInput.type = inputType;
        self.mobileInput.disabled = self.input.disabled;
        self.mobileInput.required = self.input.required;
        self.mobileInput.placeholder = self.input.placeholder;
        self.mobileFormatStr =
            inputType === "datetime-local"
                ? "Y-m-d\\TH:i:S"
                : inputType === "date"
                    ? "Y-m-d"
                    : "H:i:S";
        if (self.selectedDates.length > 0) {
            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);
        }
        if (self.config.minDate)
            self.mobileInput.min = self.formatDate(self.config.minDate, "Y-m-d");
        if (self.config.maxDate)
            self.mobileInput.max = self.formatDate(self.config.maxDate, "Y-m-d");
        if (self.input.getAttribute("step"))
            self.mobileInput.step = String(self.input.getAttribute("step"));
        self.input.type = "hidden";
        if (self.altInput !== undefined)
            self.altInput.type = "hidden";
        try {
            if (self.input.parentNode)
                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);
        }
        catch (_a) { }
        bind(self.mobileInput, "change", function (e) {
            self.setDate((0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.getEventTarget)(e).value, false, self.mobileFormatStr);
            triggerEvent("onChange");
            triggerEvent("onClose");
        });
    }
    function toggle(e) {
        if (self.isOpen === true)
            return self.close();
        self.open(e);
    }
    function triggerEvent(event, data) {
        if (self.config === undefined)
            return;
        var hooks = self.config[event];
        if (hooks !== undefined && hooks.length > 0) {
            for (var i = 0; hooks[i] && i < hooks.length; i++)
                hooks[i](self.selectedDates, self.input.value, self, data);
        }
        if (event === "onChange") {
            self.input.dispatchEvent(createEvent("change"));
            self.input.dispatchEvent(createEvent("input"));
        }
    }
    function createEvent(name) {
        var e = document.createEvent("Event");
        e.initEvent(name, true, true);
        return e;
    }
    function isDateSelected(date) {
        for (var i = 0; i < self.selectedDates.length; i++) {
            var selectedDate = self.selectedDates[i];
            if (selectedDate instanceof Date &&
                (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.compareDates)(selectedDate, date) === 0)
                return "" + i;
        }
        return false;
    }
    function isDateInRange(date) {
        if (self.config.mode !== "range" || self.selectedDates.length < 2)
            return false;
        return ((0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.compareDates)(date, self.selectedDates[0]) >= 0 &&
            (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.compareDates)(date, self.selectedDates[1]) <= 0);
    }
    function updateNavigationCurrentMonth() {
        if (self.config.noCalendar || self.isMobile || !self.monthNav)
            return;
        self.yearElements.forEach(function (yearElement, i) {
            var d = new Date(self.currentYear, self.currentMonth, 1);
            d.setMonth(self.currentMonth + i);
            if (self.config.showMonths > 1 ||
                self.config.monthSelectorType === "static") {
                self.monthElements[i].textContent =
                    (0,_utils_formatting__WEBPACK_IMPORTED_MODULE_5__.monthToStr)(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + " ";
            }
            else {
                self.monthsDropdownContainer.value = d.getMonth().toString();
            }
            yearElement.value = d.getFullYear().toString();
        });
        self._hidePrevMonthArrow =
            self.config.minDate !== undefined &&
                (self.currentYear === self.config.minDate.getFullYear()
                    ? self.currentMonth <= self.config.minDate.getMonth()
                    : self.currentYear < self.config.minDate.getFullYear());
        self._hideNextMonthArrow =
            self.config.maxDate !== undefined &&
                (self.currentYear === self.config.maxDate.getFullYear()
                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()
                    : self.currentYear > self.config.maxDate.getFullYear());
    }
    function getDateStr(specificFormat) {
        var format = specificFormat ||
            (self.config.altInput ? self.config.altFormat : self.config.dateFormat);
        return self.selectedDates
            .map(function (dObj) { return self.formatDate(dObj, format); })
            .filter(function (d, i, arr) {
            return self.config.mode !== "range" ||
                self.config.enableTime ||
                arr.indexOf(d) === i;
        })
            .join(self.config.mode !== "range"
            ? self.config.conjunction
            : self.l10n.rangeSeparator);
    }
    function updateValue(triggerChange) {
        if (triggerChange === void 0) { triggerChange = true; }
        if (self.mobileInput !== undefined && self.mobileFormatStr) {
            self.mobileInput.value =
                self.latestSelectedDateObj !== undefined
                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)
                    : "";
        }
        self.input.value = getDateStr(self.config.dateFormat);
        if (self.altInput !== undefined) {
            self.altInput.value = getDateStr(self.config.altFormat);
        }
        if (triggerChange !== false)
            triggerEvent("onValueUpdate");
    }
    function onMonthNavClick(e) {
        var eventTarget = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.getEventTarget)(e);
        var isPrevMonth = self.prevMonthNav.contains(eventTarget);
        var isNextMonth = self.nextMonthNav.contains(eventTarget);
        if (isPrevMonth || isNextMonth) {
            changeMonth(isPrevMonth ? -1 : 1);
        }
        else if (self.yearElements.indexOf(eventTarget) >= 0) {
            eventTarget.select();
        }
        else if (eventTarget.classList.contains("arrowUp")) {
            self.changeYear(self.currentYear + 1);
        }
        else if (eventTarget.classList.contains("arrowDown")) {
            self.changeYear(self.currentYear - 1);
        }
    }
    function timeWrapper(e) {
        e.preventDefault();
        var isKeyDown = e.type === "keydown", eventTarget = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.getEventTarget)(e), input = eventTarget;
        if (self.amPM !== undefined && eventTarget === self.amPM) {
            self.amPM.textContent =
                self.l10n.amPM[(0,_utils__WEBPACK_IMPORTED_MODULE_2__.int)(self.amPM.textContent === self.l10n.amPM[0])];
        }
        var min = parseFloat(input.getAttribute("min")), max = parseFloat(input.getAttribute("max")), step = parseFloat(input.getAttribute("step")), curValue = parseInt(input.value, 10), delta = e.delta ||
            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);
        var newValue = curValue + step * delta;
        if (typeof input.value !== "undefined" && input.value.length === 2) {
            var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;
            if (newValue < min) {
                newValue =
                    max +
                        newValue +
                        (0,_utils__WEBPACK_IMPORTED_MODULE_2__.int)(!isHourElem) +
                        ((0,_utils__WEBPACK_IMPORTED_MODULE_2__.int)(isHourElem) && (0,_utils__WEBPACK_IMPORTED_MODULE_2__.int)(!self.amPM));
                if (isMinuteElem)
                    incrementNumInput(undefined, -1, self.hourElement);
            }
            else if (newValue > max) {
                newValue =
                    input === self.hourElement ? newValue - max - (0,_utils__WEBPACK_IMPORTED_MODULE_2__.int)(!self.amPM) : min;
                if (isMinuteElem)
                    incrementNumInput(undefined, 1, self.hourElement);
            }
            if (self.amPM &&
                isHourElem &&
                (step === 1
                    ? newValue + curValue === 23
                    : Math.abs(newValue - curValue) > step)) {
                self.amPM.textContent =
                    self.l10n.amPM[(0,_utils__WEBPACK_IMPORTED_MODULE_2__.int)(self.amPM.textContent === self.l10n.amPM[0])];
            }
            input.value = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.pad)(newValue);
        }
    }
    init();
    return self;
}
function _flatpickr(nodeList, config) {
    var nodes = Array.prototype.slice
        .call(nodeList)
        .filter(function (x) { return x instanceof HTMLElement; });
    var instances = [];
    for (var i = 0; i < nodes.length; i++) {
        var node = nodes[i];
        try {
            if (node.getAttribute("data-fp-omit") !== null)
                continue;
            if (node._flatpickr !== undefined) {
                node._flatpickr.destroy();
                node._flatpickr = undefined;
            }
            node._flatpickr = FlatpickrInstance(node, config || {});
            instances.push(node._flatpickr);
        }
        catch (e) {
            console.error(e);
        }
    }
    return instances.length === 1 ? instances[0] : instances;
}
if (typeof HTMLElement !== "undefined" &&
    typeof HTMLCollection !== "undefined" &&
    typeof NodeList !== "undefined") {
    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {
        return _flatpickr(this, config);
    };
    HTMLElement.prototype.flatpickr = function (config) {
        return _flatpickr([this], config);
    };
}
var flatpickr = function (selector, config) {
    if (typeof selector === "string") {
        return _flatpickr(window.document.querySelectorAll(selector), config);
    }
    else if (selector instanceof Node) {
        return _flatpickr([selector], config);
    }
    else {
        return _flatpickr(selector, config);
    }
};
flatpickr.defaultConfig = {};
flatpickr.l10ns = {
    en: __assign({}, _l10n_default__WEBPACK_IMPORTED_MODULE_1__["default"]),
    default: __assign({}, _l10n_default__WEBPACK_IMPORTED_MODULE_1__["default"]),
};
flatpickr.localize = function (l10n) {
    flatpickr.l10ns.default = __assign(__assign({}, flatpickr.l10ns.default), l10n);
};
flatpickr.setDefaults = function (config) {
    flatpickr.defaultConfig = __assign(__assign({}, flatpickr.defaultConfig), config);
};
flatpickr.parseDate = (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.createDateParser)({});
flatpickr.formatDate = (0,_utils_dates__WEBPACK_IMPORTED_MODULE_4__.createDateFormatter)({});
flatpickr.compareDates = _utils_dates__WEBPACK_IMPORTED_MODULE_4__.compareDates;
if (typeof jQuery !== "undefined" && typeof jQuery.fn !== "undefined") {
    jQuery.fn.flatpickr = function (config) {
        return _flatpickr(this, config);
    };
}
Date.prototype.fp_incr = function (days) {
    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === "string" ? parseInt(days, 10) : days));
};
if (typeof window !== "undefined") {
    window.flatpickr = flatpickr;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (flatpickr);


/***/ }),

/***/ "./node_modules/flatpickr/dist/esm/l10n/default.js":
/*!*********************************************************!*\
  !*** ./node_modules/flatpickr/dist/esm/l10n/default.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   english: () => (/* binding */ english)
/* harmony export */ });
var english = {
    weekdays: {
        shorthand: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
        longhand: [
            "Sunday",
            "Monday",
            "Tuesday",
            "Wednesday",
            "Thursday",
            "Friday",
            "Saturday",
        ],
    },
    months: {
        shorthand: [
            "Jan",
            "Feb",
            "Mar",
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Oct",
            "Nov",
            "Dec",
        ],
        longhand: [
            "January",
            "February",
            "March",
            "April",
            "May",
            "June",
            "July",
            "August",
            "September",
            "October",
            "November",
            "December",
        ],
    },
    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
    firstDayOfWeek: 0,
    ordinal: function (nth) {
        var s = nth % 100;
        if (s > 3 && s < 21)
            return "th";
        switch (s % 10) {
            case 1:
                return "st";
            case 2:
                return "nd";
            case 3:
                return "rd";
            default:
                return "th";
        }
    },
    rangeSeparator: " to ",
    weekAbbreviation: "Wk",
    scrollTitle: "Scroll to increment",
    toggleTitle: "Click to toggle",
    amPM: ["AM", "PM"],
    yearAriaLabel: "Year",
    monthAriaLabel: "Month",
    hourAriaLabel: "Hour",
    minuteAriaLabel: "Minute",
    time_24hr: false,
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (english);


/***/ }),

/***/ "./node_modules/flatpickr/dist/esm/types/options.js":
/*!**********************************************************!*\
  !*** ./node_modules/flatpickr/dist/esm/types/options.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HOOKS: () => (/* binding */ HOOKS),
/* harmony export */   defaults: () => (/* binding */ defaults)
/* harmony export */ });
var HOOKS = [
    "onChange",
    "onClose",
    "onDayCreate",
    "onDestroy",
    "onKeyDown",
    "onMonthChange",
    "onOpen",
    "onParseConfig",
    "onReady",
    "onValueUpdate",
    "onYearChange",
    "onPreCalendarPosition",
];
var defaults = {
    _disable: [],
    allowInput: false,
    allowInvalidPreload: false,
    altFormat: "F j, Y",
    altInput: false,
    altInputClass: "form-control input",
    animate: typeof window === "object" &&
        window.navigator.userAgent.indexOf("MSIE") === -1,
    ariaDateFormat: "F j, Y",
    autoFillDefaultTime: true,
    clickOpens: true,
    closeOnSelect: true,
    conjunction: ", ",
    dateFormat: "Y-m-d",
    defaultHour: 12,
    defaultMinute: 0,
    defaultSeconds: 0,
    disable: [],
    disableMobile: false,
    enableSeconds: false,
    enableTime: false,
    errorHandler: function (err) {
        return typeof console !== "undefined" && console.warn(err);
    },
    getWeek: function (givenDate) {
        var date = new Date(givenDate.getTime());
        date.setHours(0, 0, 0, 0);
        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));
        var week1 = new Date(date.getFullYear(), 0, 4);
        return (1 +
            Math.round(((date.getTime() - week1.getTime()) / 86400000 -
                3 +
                ((week1.getDay() + 6) % 7)) /
                7));
    },
    hourIncrement: 1,
    ignoredFocusElements: [],
    inline: false,
    locale: "default",
    minuteIncrement: 5,
    mode: "single",
    monthSelectorType: "dropdown",
    nextArrow: "<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",
    noCalendar: false,
    now: new Date(),
    onChange: [],
    onClose: [],
    onDayCreate: [],
    onDestroy: [],
    onKeyDown: [],
    onMonthChange: [],
    onOpen: [],
    onParseConfig: [],
    onReady: [],
    onValueUpdate: [],
    onYearChange: [],
    onPreCalendarPosition: [],
    plugins: [],
    position: "auto",
    positionElement: undefined,
    prevArrow: "<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",
    shorthandCurrentMonth: false,
    showMonths: 1,
    static: false,
    time_24hr: false,
    weekNumbers: false,
    wrap: false,
};


/***/ }),

/***/ "./node_modules/flatpickr/dist/esm/utils/dates.js":
/*!********************************************************!*\
  !*** ./node_modules/flatpickr/dist/esm/utils/dates.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   calculateSecondsSinceMidnight: () => (/* binding */ calculateSecondsSinceMidnight),
/* harmony export */   compareDates: () => (/* binding */ compareDates),
/* harmony export */   compareTimes: () => (/* binding */ compareTimes),
/* harmony export */   createDateFormatter: () => (/* binding */ createDateFormatter),
/* harmony export */   createDateParser: () => (/* binding */ createDateParser),
/* harmony export */   duration: () => (/* binding */ duration),
/* harmony export */   getDefaultHours: () => (/* binding */ getDefaultHours),
/* harmony export */   isBetween: () => (/* binding */ isBetween),
/* harmony export */   parseSeconds: () => (/* binding */ parseSeconds)
/* harmony export */ });
/* harmony import */ var _formatting__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./formatting */ "./node_modules/flatpickr/dist/esm/utils/formatting.js");
/* harmony import */ var _types_options__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types/options */ "./node_modules/flatpickr/dist/esm/types/options.js");
/* harmony import */ var _l10n_default__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../l10n/default */ "./node_modules/flatpickr/dist/esm/l10n/default.js");



var createDateFormatter = function (_a) {
    var _b = _a.config, config = _b === void 0 ? _types_options__WEBPACK_IMPORTED_MODULE_1__.defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? _l10n_default__WEBPACK_IMPORTED_MODULE_2__.english : _c, _d = _a.isMobile, isMobile = _d === void 0 ? false : _d;
    return function (dateObj, frmt, overrideLocale) {
        var locale = overrideLocale || l10n;
        if (config.formatDate !== undefined && !isMobile) {
            return config.formatDate(dateObj, frmt, locale);
        }
        return frmt
            .split("")
            .map(function (c, i, arr) {
            return _formatting__WEBPACK_IMPORTED_MODULE_0__.formats[c] && arr[i - 1] !== "\\"
                ? _formatting__WEBPACK_IMPORTED_MODULE_0__.formats[c](dateObj, locale, config)
                : c !== "\\"
                    ? c
                    : "";
        })
            .join("");
    };
};
var createDateParser = function (_a) {
    var _b = _a.config, config = _b === void 0 ? _types_options__WEBPACK_IMPORTED_MODULE_1__.defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? _l10n_default__WEBPACK_IMPORTED_MODULE_2__.english : _c;
    return function (date, givenFormat, timeless, customLocale) {
        if (date !== 0 && !date)
            return undefined;
        var locale = customLocale || l10n;
        var parsedDate;
        var dateOrig = date;
        if (date instanceof Date)
            parsedDate = new Date(date.getTime());
        else if (typeof date !== "string" &&
            date.toFixed !== undefined)
            parsedDate = new Date(date);
        else if (typeof date === "string") {
            var format = givenFormat || (config || _types_options__WEBPACK_IMPORTED_MODULE_1__.defaults).dateFormat;
            var datestr = String(date).trim();
            if (datestr === "today") {
                parsedDate = new Date();
                timeless = true;
            }
            else if (config && config.parseDate) {
                parsedDate = config.parseDate(date, format);
            }
            else if (/Z$/.test(datestr) ||
                /GMT$/.test(datestr)) {
                parsedDate = new Date(date);
            }
            else {
                var matched = void 0, ops = [];
                for (var i = 0, matchIndex = 0, regexStr = ""; i < format.length; i++) {
                    var token = format[i];
                    var isBackSlash = token === "\\";
                    var escaped = format[i - 1] === "\\" || isBackSlash;
                    if (_formatting__WEBPACK_IMPORTED_MODULE_0__.tokenRegex[token] && !escaped) {
                        regexStr += _formatting__WEBPACK_IMPORTED_MODULE_0__.tokenRegex[token];
                        var match = new RegExp(regexStr).exec(date);
                        if (match && (matched = true)) {
                            ops[token !== "Y" ? "push" : "unshift"]({
                                fn: _formatting__WEBPACK_IMPORTED_MODULE_0__.revFormat[token],
                                val: match[++matchIndex],
                            });
                        }
                    }
                    else if (!isBackSlash)
                        regexStr += ".";
                }
                parsedDate =
                    !config || !config.noCalendar
                        ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)
                        : new Date(new Date().setHours(0, 0, 0, 0));
                ops.forEach(function (_a) {
                    var fn = _a.fn, val = _a.val;
                    return (parsedDate = fn(parsedDate, val, locale) || parsedDate);
                });
                parsedDate = matched ? parsedDate : undefined;
            }
        }
        if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {
            config.errorHandler(new Error("Invalid date provided: " + dateOrig));
            return undefined;
        }
        if (timeless === true)
            parsedDate.setHours(0, 0, 0, 0);
        return parsedDate;
    };
};
function compareDates(date1, date2, timeless) {
    if (timeless === void 0) { timeless = true; }
    if (timeless !== false) {
        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -
            new Date(date2.getTime()).setHours(0, 0, 0, 0));
    }
    return date1.getTime() - date2.getTime();
}
function compareTimes(date1, date2) {
    return (3600 * (date1.getHours() - date2.getHours()) +
        60 * (date1.getMinutes() - date2.getMinutes()) +
        date1.getSeconds() -
        date2.getSeconds());
}
var isBetween = function (ts, ts1, ts2) {
    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);
};
var calculateSecondsSinceMidnight = function (hours, minutes, seconds) {
    return hours * 3600 + minutes * 60 + seconds;
};
var parseSeconds = function (secondsSinceMidnight) {
    var hours = Math.floor(secondsSinceMidnight / 3600), minutes = (secondsSinceMidnight - hours * 3600) / 60;
    return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];
};
var duration = {
    DAY: 86400000,
};
function getDefaultHours(config) {
    var hours = config.defaultHour;
    var minutes = config.defaultMinute;
    var seconds = config.defaultSeconds;
    if (config.minDate !== undefined) {
        var minHour = config.minDate.getHours();
        var minMinutes = config.minDate.getMinutes();
        var minSeconds = config.minDate.getSeconds();
        if (hours < minHour) {
            hours = minHour;
        }
        if (hours === minHour && minutes < minMinutes) {
            minutes = minMinutes;
        }
        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)
            seconds = config.minDate.getSeconds();
    }
    if (config.maxDate !== undefined) {
        var maxHr = config.maxDate.getHours();
        var maxMinutes = config.maxDate.getMinutes();
        hours = Math.min(hours, maxHr);
        if (hours === maxHr)
            minutes = Math.min(maxMinutes, minutes);
        if (hours === maxHr && minutes === maxMinutes)
            seconds = config.maxDate.getSeconds();
    }
    return { hours: hours, minutes: minutes, seconds: seconds };
}


/***/ }),

/***/ "./node_modules/flatpickr/dist/esm/utils/dom.js":
/*!******************************************************!*\
  !*** ./node_modules/flatpickr/dist/esm/utils/dom.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clearNode: () => (/* binding */ clearNode),
/* harmony export */   createElement: () => (/* binding */ createElement),
/* harmony export */   createNumberInput: () => (/* binding */ createNumberInput),
/* harmony export */   findParent: () => (/* binding */ findParent),
/* harmony export */   getEventTarget: () => (/* binding */ getEventTarget),
/* harmony export */   toggleClass: () => (/* binding */ toggleClass)
/* harmony export */ });
function toggleClass(elem, className, bool) {
    if (bool === true)
        return elem.classList.add(className);
    elem.classList.remove(className);
}
function createElement(tag, className, content) {
    var e = window.document.createElement(tag);
    className = className || "";
    content = content || "";
    e.className = className;
    if (content !== undefined)
        e.textContent = content;
    return e;
}
function clearNode(node) {
    while (node.firstChild)
        node.removeChild(node.firstChild);
}
function findParent(node, condition) {
    if (condition(node))
        return node;
    else if (node.parentNode)
        return findParent(node.parentNode, condition);
    return undefined;
}
function createNumberInput(inputClassName, opts) {
    var wrapper = createElement("div", "numInputWrapper"), numInput = createElement("input", "numInput " + inputClassName), arrowUp = createElement("span", "arrowUp"), arrowDown = createElement("span", "arrowDown");
    if (navigator.userAgent.indexOf("MSIE 9.0") === -1) {
        numInput.type = "number";
    }
    else {
        numInput.type = "text";
        numInput.pattern = "\\d*";
    }
    if (opts !== undefined)
        for (var key in opts)
            numInput.setAttribute(key, opts[key]);
    wrapper.appendChild(numInput);
    wrapper.appendChild(arrowUp);
    wrapper.appendChild(arrowDown);
    return wrapper;
}
function getEventTarget(event) {
    try {
        if (typeof event.composedPath === "function") {
            var path = event.composedPath();
            return path[0];
        }
        return event.target;
    }
    catch (error) {
        return event.target;
    }
}


/***/ }),

/***/ "./node_modules/flatpickr/dist/esm/utils/formatting.js":
/*!*************************************************************!*\
  !*** ./node_modules/flatpickr/dist/esm/utils/formatting.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   formats: () => (/* binding */ formats),
/* harmony export */   monthToStr: () => (/* binding */ monthToStr),
/* harmony export */   revFormat: () => (/* binding */ revFormat),
/* harmony export */   tokenRegex: () => (/* binding */ tokenRegex)
/* harmony export */ });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./node_modules/flatpickr/dist/esm/utils/index.js");

var doNothing = function () { return undefined; };
var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? "shorthand" : "longhand"][monthNumber]; };
var revFormat = {
    D: doNothing,
    F: function (dateObj, monthName, locale) {
        dateObj.setMonth(locale.months.longhand.indexOf(monthName));
    },
    G: function (dateObj, hour) {
        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));
    },
    H: function (dateObj, hour) {
        dateObj.setHours(parseFloat(hour));
    },
    J: function (dateObj, day) {
        dateObj.setDate(parseFloat(day));
    },
    K: function (dateObj, amPM, locale) {
        dateObj.setHours((dateObj.getHours() % 12) +
            12 * (0,_utils__WEBPACK_IMPORTED_MODULE_0__.int)(new RegExp(locale.amPM[1], "i").test(amPM)));
    },
    M: function (dateObj, shortMonth, locale) {
        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));
    },
    S: function (dateObj, seconds) {
        dateObj.setSeconds(parseFloat(seconds));
    },
    U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },
    W: function (dateObj, weekNum, locale) {
        var weekNumber = parseInt(weekNum);
        var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);
        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);
        return date;
    },
    Y: function (dateObj, year) {
        dateObj.setFullYear(parseFloat(year));
    },
    Z: function (_, ISODate) { return new Date(ISODate); },
    d: function (dateObj, day) {
        dateObj.setDate(parseFloat(day));
    },
    h: function (dateObj, hour) {
        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));
    },
    i: function (dateObj, minutes) {
        dateObj.setMinutes(parseFloat(minutes));
    },
    j: function (dateObj, day) {
        dateObj.setDate(parseFloat(day));
    },
    l: doNothing,
    m: function (dateObj, month) {
        dateObj.setMonth(parseFloat(month) - 1);
    },
    n: function (dateObj, month) {
        dateObj.setMonth(parseFloat(month) - 1);
    },
    s: function (dateObj, seconds) {
        dateObj.setSeconds(parseFloat(seconds));
    },
    u: function (_, unixMillSeconds) {
        return new Date(parseFloat(unixMillSeconds));
    },
    w: doNothing,
    y: function (dateObj, year) {
        dateObj.setFullYear(2000 + parseFloat(year));
    },
};
var tokenRegex = {
    D: "",
    F: "",
    G: "(\\d\\d|\\d)",
    H: "(\\d\\d|\\d)",
    J: "(\\d\\d|\\d)\\w+",
    K: "",
    M: "",
    S: "(\\d\\d|\\d)",
    U: "(.+)",
    W: "(\\d\\d|\\d)",
    Y: "(\\d{4})",
    Z: "(.+)",
    d: "(\\d\\d|\\d)",
    h: "(\\d\\d|\\d)",
    i: "(\\d\\d|\\d)",
    j: "(\\d\\d|\\d)",
    l: "",
    m: "(\\d\\d|\\d)",
    n: "(\\d\\d|\\d)",
    s: "(\\d\\d|\\d)",
    u: "(.+)",
    w: "(\\d\\d|\\d)",
    y: "(\\d{2})",
};
var formats = {
    Z: function (date) { return date.toISOString(); },
    D: function (date, locale, options) {
        return locale.weekdays.shorthand[formats.w(date, locale, options)];
    },
    F: function (date, locale, options) {
        return monthToStr(formats.n(date, locale, options) - 1, false, locale);
    },
    G: function (date, locale, options) {
        return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.pad)(formats.h(date, locale, options));
    },
    H: function (date) { return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.pad)(date.getHours()); },
    J: function (date, locale) {
        return locale.ordinal !== undefined
            ? date.getDate() + locale.ordinal(date.getDate())
            : date.getDate();
    },
    K: function (date, locale) { return locale.amPM[(0,_utils__WEBPACK_IMPORTED_MODULE_0__.int)(date.getHours() > 11)]; },
    M: function (date, locale) {
        return monthToStr(date.getMonth(), true, locale);
    },
    S: function (date) { return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.pad)(date.getSeconds()); },
    U: function (date) { return date.getTime() / 1000; },
    W: function (date, _, options) {
        return options.getWeek(date);
    },
    Y: function (date) { return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.pad)(date.getFullYear(), 4); },
    d: function (date) { return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.pad)(date.getDate()); },
    h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },
    i: function (date) { return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.pad)(date.getMinutes()); },
    j: function (date) { return date.getDate(); },
    l: function (date, locale) {
        return locale.weekdays.longhand[date.getDay()];
    },
    m: function (date) { return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.pad)(date.getMonth() + 1); },
    n: function (date) { return date.getMonth() + 1; },
    s: function (date) { return date.getSeconds(); },
    u: function (date) { return date.getTime(); },
    w: function (date) { return date.getDay(); },
    y: function (date) { return String(date.getFullYear()).substring(2); },
};


/***/ }),

/***/ "./node_modules/flatpickr/dist/esm/utils/index.js":
/*!********************************************************!*\
  !*** ./node_modules/flatpickr/dist/esm/utils/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arrayify: () => (/* binding */ arrayify),
/* harmony export */   debounce: () => (/* binding */ debounce),
/* harmony export */   int: () => (/* binding */ int),
/* harmony export */   pad: () => (/* binding */ pad)
/* harmony export */ });
var pad = function (number, length) {
    if (length === void 0) { length = 2; }
    return ("000" + number).slice(length * -1);
};
var int = function (bool) { return (bool === true ? 1 : 0); };
function debounce(fn, wait) {
    var t;
    return function () {
        var _this = this;
        var args = arguments;
        clearTimeout(t);
        t = setTimeout(function () { return fn.apply(_this, args); }, wait);
    };
}
var arrayify = function (obj) {
    return obj instanceof Array ? obj : [obj];
};


/***/ }),

/***/ "./node_modules/flatpickr/dist/esm/utils/polyfills.js":
/*!************************************************************!*\
  !*** ./node_modules/flatpickr/dist/esm/utils/polyfills.js ***!
  \************************************************************/
/***/ (() => {

"use strict";

if (typeof Object.assign !== "function") {
    Object.assign = function (target) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        if (!target) {
            throw TypeError("Cannot convert undefined or null to object");
        }
        var _loop_1 = function (source) {
            if (source) {
                Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });
            }
        };
        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {
            var source = args_1[_a];
            _loop_1(source);
        }
        return target;
    };
}


/***/ }),

/***/ "./node_modules/flatpickr/dist/l10n/nl.js":
/*!************************************************!*\
  !*** ./node_modules/flatpickr/dist/l10n/nl.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports) {

(function (global, factory) {
   true ? factory(exports) :
  0;
}(this, (function (exports) { 'use strict';

  var fp = typeof window !== "undefined" && window.flatpickr !== undefined
      ? window.flatpickr
      : {
          l10ns: {},
      };
  var Dutch = {
      weekdays: {
          shorthand: ["zo", "ma", "di", "wo", "do", "vr", "za"],
          longhand: [
              "zondag",
              "maandag",
              "dinsdag",
              "woensdag",
              "donderdag",
              "vrijdag",
              "zaterdag",
          ],
      },
      months: {
          shorthand: [
              "jan",
              "feb",
              "mrt",
              "apr",
              "mei",
              "jun",
              "jul",
              "aug",
              "sept",
              "okt",
              "nov",
              "dec",
          ],
          longhand: [
              "januari",
              "februari",
              "maart",
              "april",
              "mei",
              "juni",
              "juli",
              "augustus",
              "september",
              "oktober",
              "november",
              "december",
          ],
      },
      firstDayOfWeek: 1,
      weekAbbreviation: "wk",
      rangeSeparator: " t/m ",
      scrollTitle: "Scroll voor volgende / vorige",
      toggleTitle: "Klik om te wisselen",
      time_24hr: true,
      ordinal: function (nth) {
          if (nth === 1 || nth === 8 || nth >= 20)
              return "ste";
          return "de";
      },
  };
  fp.l10ns.nl = Dutch;
  var nl = fp.l10ns;

  exports.Dutch = Dutch;
  exports.default = nl;

  Object.defineProperty(exports, '__esModule', { value: true });

})));


/***/ }),

/***/ "./node_modules/jquery/dist/jquery.js":
/*!********************************************!*\
  !*** ./node_modules/jquery/dist/jquery.js ***!
  \********************************************/
/***/ (function(module, exports) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */

(function( global, factory ) {

	if (  true && typeof module.exports === "object" ) {
		// For CommonJS and CommonJS-like environments where a proper `window`
		// is present, execute the factory and get jQuery.
		// For environments that do not have a `window` with a `document`
		// (such as Node.js), expose a factory as module.exports.
		// This accentuates the need for the creation of a real `window`.
		// e.g. var jQuery = require("jquery")(window);
		// See ticket #14549 for more info.
		module.exports = global.document ?
			factory( global, true ) :
			function( w ) {
				if ( !w.document ) {
					throw new Error( "jQuery requires a window with a document" );
				}
				return factory( w );
			};
	} else {
		factory( global );
	}

// Pass this if window is not defined yet
}(typeof window !== "undefined" ? window : this, function( window, noGlobal ) {

// Support: Firefox 18+
// Can't be in strict mode, several libs including ASP.NET trace
// the stack via arguments.caller.callee and Firefox dies if
// you try to trace through "use strict" call chains. (#13335)
//"use strict";
var arr = [];

var document = window.document;

var slice = arr.slice;

var concat = arr.concat;

var push = arr.push;

var indexOf = arr.indexOf;

var class2type = {};

var toString = class2type.toString;

var hasOwn = class2type.hasOwnProperty;

var support = {};



var
	version = "2.2.4",

	// Define a local copy of jQuery
	jQuery = function( selector, context ) {

		// The jQuery object is actually just the init constructor 'enhanced'
		// Need init if jQuery is called (just allow error to be thrown if not included)
		return new jQuery.fn.init( selector, context );
	},

	// Support: Android<4.1
	// Make sure we trim BOM and NBSP
	rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,

	// Matches dashed string for camelizing
	rmsPrefix = /^-ms-/,
	rdashAlpha = /-([\da-z])/gi,

	// Used by jQuery.camelCase as callback to replace()
	fcamelCase = function( all, letter ) {
		return letter.toUpperCase();
	};

jQuery.fn = jQuery.prototype = {

	// The current version of jQuery being used
	jquery: version,

	constructor: jQuery,

	// Start with an empty selector
	selector: "",

	// The default length of a jQuery object is 0
	length: 0,

	toArray: function() {
		return slice.call( this );
	},

	// Get the Nth element in the matched element set OR
	// Get the whole matched element set as a clean array
	get: function( num ) {
		return num != null ?

			// Return just the one element from the set
			( num < 0 ? this[ num + this.length ] : this[ num ] ) :

			// Return all the elements in a clean array
			slice.call( this );
	},

	// Take an array of elements and push it onto the stack
	// (returning the new matched element set)
	pushStack: function( elems ) {

		// Build a new jQuery matched element set
		var ret = jQuery.merge( this.constructor(), elems );

		// Add the old object onto the stack (as a reference)
		ret.prevObject = this;
		ret.context = this.context;

		// Return the newly-formed element set
		return ret;
	},

	// Execute a callback for every element in the matched set.
	each: function( callback ) {
		return jQuery.each( this, callback );
	},

	map: function( callback ) {
		return this.pushStack( jQuery.map( this, function( elem, i ) {
			return callback.call( elem, i, elem );
		} ) );
	},

	slice: function() {
		return this.pushStack( slice.apply( this, arguments ) );
	},

	first: function() {
		return this.eq( 0 );
	},

	last: function() {
		return this.eq( -1 );
	},

	eq: function( i ) {
		var len = this.length,
			j = +i + ( i < 0 ? len : 0 );
		return this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );
	},

	end: function() {
		return this.prevObject || this.constructor();
	},

	// For internal use only.
	// Behaves like an Array's method, not like a jQuery method.
	push: push,
	sort: arr.sort,
	splice: arr.splice
};

jQuery.extend = jQuery.fn.extend = function() {
	var options, name, src, copy, copyIsArray, clone,
		target = arguments[ 0 ] || {},
		i = 1,
		length = arguments.length,
		deep = false;

	// Handle a deep copy situation
	if ( typeof target === "boolean" ) {
		deep = target;

		// Skip the boolean and the target
		target = arguments[ i ] || {};
		i++;
	}

	// Handle case when target is a string or something (possible in deep copy)
	if ( typeof target !== "object" && !jQuery.isFunction( target ) ) {
		target = {};
	}

	// Extend jQuery itself if only one argument is passed
	if ( i === length ) {
		target = this;
		i--;
	}

	for ( ; i < length; i++ ) {

		// Only deal with non-null/undefined values
		if ( ( options = arguments[ i ] ) != null ) {

			// Extend the base object
			for ( name in options ) {
				src = target[ name ];
				copy = options[ name ];

				// Prevent never-ending loop
				if ( target === copy ) {
					continue;
				}

				// Recurse if we're merging plain objects or arrays
				if ( deep && copy && ( jQuery.isPlainObject( copy ) ||
					( copyIsArray = jQuery.isArray( copy ) ) ) ) {

					if ( copyIsArray ) {
						copyIsArray = false;
						clone = src && jQuery.isArray( src ) ? src : [];

					} else {
						clone = src && jQuery.isPlainObject( src ) ? src : {};
					}

					// Never move original objects, clone them
					target[ name ] = jQuery.extend( deep, clone, copy );

				// Don't bring in undefined values
				} else if ( copy !== undefined ) {
					target[ name ] = copy;
				}
			}
		}
	}

	// Return the modified object
	return target;
};

jQuery.extend( {

	// Unique for each copy of jQuery on the page
	expando: "jQuery" + ( version + Math.random() ).replace( /\D/g, "" ),

	// Assume jQuery is ready without the ready module
	isReady: true,

	error: function( msg ) {
		throw new Error( msg );
	},

	noop: function() {},

	isFunction: function( obj ) {
		return jQuery.type( obj ) === "function";
	},

	isArray: Array.isArray,

	isWindow: function( obj ) {
		return obj != null && obj === obj.window;
	},

	isNumeric: function( obj ) {

		// parseFloat NaNs numeric-cast false positives (null|true|false|"")
		// ...but misinterprets leading-number strings, particularly hex literals ("0x...")
		// subtraction forces infinities to NaN
		// adding 1 corrects loss of precision from parseFloat (#15100)
		var realStringObj = obj && obj.toString();
		return !jQuery.isArray( obj ) && ( realStringObj - parseFloat( realStringObj ) + 1 ) >= 0;
	},

	isPlainObject: function( obj ) {
		var key;

		// Not plain objects:
		// - Any object or value whose internal [[Class]] property is not "[object Object]"
		// - DOM nodes
		// - window
		if ( jQuery.type( obj ) !== "object" || obj.nodeType || jQuery.isWindow( obj ) ) {
			return false;
		}

		// Not own constructor property must be Object
		if ( obj.constructor &&
				!hasOwn.call( obj, "constructor" ) &&
				!hasOwn.call( obj.constructor.prototype || {}, "isPrototypeOf" ) ) {
			return false;
		}

		// Own properties are enumerated firstly, so to speed up,
		// if last one is own, then all properties are own
		for ( key in obj ) {}

		return key === undefined || hasOwn.call( obj, key );
	},

	isEmptyObject: function( obj ) {
		var name;
		for ( name in obj ) {
			return false;
		}
		return true;
	},

	type: function( obj ) {
		if ( obj == null ) {
			return obj + "";
		}

		// Support: Android<4.0, iOS<6 (functionish RegExp)
		return typeof obj === "object" || typeof obj === "function" ?
			class2type[ toString.call( obj ) ] || "object" :
			typeof obj;
	},

	// Evaluates a script in a global context
	globalEval: function( code ) {
		var script,
			indirect = eval;

		code = jQuery.trim( code );

		if ( code ) {

			// If the code includes a valid, prologue position
			// strict mode pragma, execute code by injecting a
			// script tag into the document.
			if ( code.indexOf( "use strict" ) === 1 ) {
				script = document.createElement( "script" );
				script.text = code;
				document.head.appendChild( script ).parentNode.removeChild( script );
			} else {

				// Otherwise, avoid the DOM node creation, insertion
				// and removal by using an indirect global eval

				indirect( code );
			}
		}
	},

	// Convert dashed to camelCase; used by the css and data modules
	// Support: IE9-11+
	// Microsoft forgot to hump their vendor prefix (#9572)
	camelCase: function( string ) {
		return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
	},

	nodeName: function( elem, name ) {
		return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();
	},

	each: function( obj, callback ) {
		var length, i = 0;

		if ( isArrayLike( obj ) ) {
			length = obj.length;
			for ( ; i < length; i++ ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		} else {
			for ( i in obj ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		}

		return obj;
	},

	// Support: Android<4.1
	trim: function( text ) {
		return text == null ?
			"" :
			( text + "" ).replace( rtrim, "" );
	},

	// results is for internal usage only
	makeArray: function( arr, results ) {
		var ret = results || [];

		if ( arr != null ) {
			if ( isArrayLike( Object( arr ) ) ) {
				jQuery.merge( ret,
					typeof arr === "string" ?
					[ arr ] : arr
				);
			} else {
				push.call( ret, arr );
			}
		}

		return ret;
	},

	inArray: function( elem, arr, i ) {
		return arr == null ? -1 : indexOf.call( arr, elem, i );
	},

	merge: function( first, second ) {
		var len = +second.length,
			j = 0,
			i = first.length;

		for ( ; j < len; j++ ) {
			first[ i++ ] = second[ j ];
		}

		first.length = i;

		return first;
	},

	grep: function( elems, callback, invert ) {
		var callbackInverse,
			matches = [],
			i = 0,
			length = elems.length,
			callbackExpect = !invert;

		// Go through the array, only saving the items
		// that pass the validator function
		for ( ; i < length; i++ ) {
			callbackInverse = !callback( elems[ i ], i );
			if ( callbackInverse !== callbackExpect ) {
				matches.push( elems[ i ] );
			}
		}

		return matches;
	},

	// arg is for internal usage only
	map: function( elems, callback, arg ) {
		var length, value,
			i = 0,
			ret = [];

		// Go through the array, translating each of the items to their new values
		if ( isArrayLike( elems ) ) {
			length = elems.length;
			for ( ; i < length; i++ ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}

		// Go through every key on the object,
		} else {
			for ( i in elems ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}
		}

		// Flatten any nested arrays
		return concat.apply( [], ret );
	},

	// A global GUID counter for objects
	guid: 1,

	// Bind a function to a context, optionally partially applying any
	// arguments.
	proxy: function( fn, context ) {
		var tmp, args, proxy;

		if ( typeof context === "string" ) {
			tmp = fn[ context ];
			context = fn;
			fn = tmp;
		}

		// Quick check to determine if target is callable, in the spec
		// this throws a TypeError, but we will just return undefined.
		if ( !jQuery.isFunction( fn ) ) {
			return undefined;
		}

		// Simulated bind
		args = slice.call( arguments, 2 );
		proxy = function() {
			return fn.apply( context || this, args.concat( slice.call( arguments ) ) );
		};

		// Set the guid of unique handler to the same of original handler, so it can be removed
		proxy.guid = fn.guid = fn.guid || jQuery.guid++;

		return proxy;
	},

	now: Date.now,

	// jQuery.support is not used in Core but other projects attach their
	// properties to it so it needs to exist.
	support: support
} );

// JSHint would error on this code due to the Symbol not being defined in ES5.
// Defining this global in .jshintrc would create a danger of using the global
// unguarded in another place, it seems safer to just disable JSHint for these
// three lines.
/* jshint ignore: start */
if ( typeof Symbol === "function" ) {
	jQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];
}
/* jshint ignore: end */

// Populate the class2type map
jQuery.each( "Boolean Number String Function Array Date RegExp Object Error Symbol".split( " " ),
function( i, name ) {
	class2type[ "[object " + name + "]" ] = name.toLowerCase();
} );

function isArrayLike( obj ) {

	// Support: iOS 8.2 (not reproducible in simulator)
	// `in` check used to prevent JIT error (gh-2145)
	// hasOwn isn't used here due to false negatives
	// regarding Nodelist length in IE
	var length = !!obj && "length" in obj && obj.length,
		type = jQuery.type( obj );

	if ( type === "function" || jQuery.isWindow( obj ) ) {
		return false;
	}

	return type === "array" || length === 0 ||
		typeof length === "number" && length > 0 && ( length - 1 ) in obj;
}
var Sizzle =
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
(function( window ) {

var i,
	support,
	Expr,
	getText,
	isXML,
	tokenize,
	compile,
	select,
	outermostContext,
	sortInput,
	hasDuplicate,

	// Local document vars
	setDocument,
	document,
	docElem,
	documentIsHTML,
	rbuggyQSA,
	rbuggyMatches,
	matches,
	contains,

	// Instance-specific data
	expando = "sizzle" + 1 * new Date(),
	preferredDoc = window.document,
	dirruns = 0,
	done = 0,
	classCache = createCache(),
	tokenCache = createCache(),
	compilerCache = createCache(),
	sortOrder = function( a, b ) {
		if ( a === b ) {
			hasDuplicate = true;
		}
		return 0;
	},

	// General-purpose constants
	MAX_NEGATIVE = 1 << 31,

	// Instance methods
	hasOwn = ({}).hasOwnProperty,
	arr = [],
	pop = arr.pop,
	push_native = arr.push,
	push = arr.push,
	slice = arr.slice,
	// Use a stripped-down indexOf as it's faster than native
	// http://jsperf.com/thor-indexof-vs-for/5
	indexOf = function( list, elem ) {
		var i = 0,
			len = list.length;
		for ( ; i < len; i++ ) {
			if ( list[i] === elem ) {
				return i;
			}
		}
		return -1;
	},

	booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",

	// Regular expressions

	// http://www.w3.org/TR/css3-selectors/#whitespace
	whitespace = "[\\x20\\t\\r\\n\\f]",

	// http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier
	identifier = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",

	// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors
	attributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace +
		// Operator (capture 2)
		"*([*^$|!~]?=)" + whitespace +
		// "Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]"
		"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" + whitespace +
		"*\\]",

	pseudos = ":(" + identifier + ")(?:\\((" +
		// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:
		// 1. quoted (capture 3; capture 4 or capture 5)
		"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +
		// 2. simple (capture 6)
		"((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +
		// 3. anything else (capture 2)
		".*" +
		")\\)|)",

	// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
	rwhitespace = new RegExp( whitespace + "+", "g" ),
	rtrim = new RegExp( "^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g" ),

	rcomma = new RegExp( "^" + whitespace + "*," + whitespace + "*" ),
	rcombinators = new RegExp( "^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*" ),

	rattributeQuotes = new RegExp( "=" + whitespace + "*([^\\]'\"]*?)" + whitespace + "*\\]", "g" ),

	rpseudo = new RegExp( pseudos ),
	ridentifier = new RegExp( "^" + identifier + "$" ),

	matchExpr = {
		"ID": new RegExp( "^#(" + identifier + ")" ),
		"CLASS": new RegExp( "^\\.(" + identifier + ")" ),
		"TAG": new RegExp( "^(" + identifier + "|[*])" ),
		"ATTR": new RegExp( "^" + attributes ),
		"PSEUDO": new RegExp( "^" + pseudos ),
		"CHILD": new RegExp( "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace +
			"*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace +
			"*(\\d+)|))" + whitespace + "*\\)|)", "i" ),
		"bool": new RegExp( "^(?:" + booleans + ")$", "i" ),
		// For use in libraries implementing .is()
		// We use this for POS matching in `select`
		"needsContext": new RegExp( "^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
			whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i" )
	},

	rinputs = /^(?:input|select|textarea|button)$/i,
	rheader = /^h\d$/i,

	rnative = /^[^{]+\{\s*\[native \w/,

	// Easily-parseable/retrievable ID or TAG or CLASS selectors
	rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,

	rsibling = /[+~]/,
	rescape = /'|\\/g,

	// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters
	runescape = new RegExp( "\\\\([\\da-f]{1,6}" + whitespace + "?|(" + whitespace + ")|.)", "ig" ),
	funescape = function( _, escaped, escapedWhitespace ) {
		var high = "0x" + escaped - 0x10000;
		// NaN means non-codepoint
		// Support: Firefox<24
		// Workaround erroneous numeric interpretation of +"0x"
		return high !== high || escapedWhitespace ?
			escaped :
			high < 0 ?
				// BMP codepoint
				String.fromCharCode( high + 0x10000 ) :
				// Supplemental Plane codepoint (surrogate pair)
				String.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );
	},

	// Used for iframes
	// See setDocument()
	// Removing the function wrapper causes a "Permission Denied"
	// error in IE
	unloadHandler = function() {
		setDocument();
	};

// Optimize for push.apply( _, NodeList )
try {
	push.apply(
		(arr = slice.call( preferredDoc.childNodes )),
		preferredDoc.childNodes
	);
	// Support: Android<4.0
	// Detect silently failing push.apply
	arr[ preferredDoc.childNodes.length ].nodeType;
} catch ( e ) {
	push = { apply: arr.length ?

		// Leverage slice if possible
		function( target, els ) {
			push_native.apply( target, slice.call(els) );
		} :

		// Support: IE<9
		// Otherwise append directly
		function( target, els ) {
			var j = target.length,
				i = 0;
			// Can't trust NodeList.length
			while ( (target[j++] = els[i++]) ) {}
			target.length = j - 1;
		}
	};
}

function Sizzle( selector, context, results, seed ) {
	var m, i, elem, nid, nidselect, match, groups, newSelector,
		newContext = context && context.ownerDocument,

		// nodeType defaults to 9, since context defaults to document
		nodeType = context ? context.nodeType : 9;

	results = results || [];

	// Return early from calls with invalid selector or context
	if ( typeof selector !== "string" || !selector ||
		nodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {

		return results;
	}

	// Try to shortcut find operations (as opposed to filters) in HTML documents
	if ( !seed ) {

		if ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {
			setDocument( context );
		}
		context = context || document;

		if ( documentIsHTML ) {

			// If the selector is sufficiently simple, try using a "get*By*" DOM method
			// (excepting DocumentFragment context, where the methods don't exist)
			if ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {

				// ID selector
				if ( (m = match[1]) ) {

					// Document context
					if ( nodeType === 9 ) {
						if ( (elem = context.getElementById( m )) ) {

							// Support: IE, Opera, Webkit
							// TODO: identify versions
							// getElementById can match elements by name instead of ID
							if ( elem.id === m ) {
								results.push( elem );
								return results;
							}
						} else {
							return results;
						}

					// Element context
					} else {

						// Support: IE, Opera, Webkit
						// TODO: identify versions
						// getElementById can match elements by name instead of ID
						if ( newContext && (elem = newContext.getElementById( m )) &&
							contains( context, elem ) &&
							elem.id === m ) {

							results.push( elem );
							return results;
						}
					}

				// Type selector
				} else if ( match[2] ) {
					push.apply( results, context.getElementsByTagName( selector ) );
					return results;

				// Class selector
				} else if ( (m = match[3]) && support.getElementsByClassName &&
					context.getElementsByClassName ) {

					push.apply( results, context.getElementsByClassName( m ) );
					return results;
				}
			}

			// Take advantage of querySelectorAll
			if ( support.qsa &&
				!compilerCache[ selector + " " ] &&
				(!rbuggyQSA || !rbuggyQSA.test( selector )) ) {

				if ( nodeType !== 1 ) {
					newContext = context;
					newSelector = selector;

				// qSA looks outside Element context, which is not what we want
				// Thanks to Andrew Dupont for this workaround technique
				// Support: IE <=8
				// Exclude object elements
				} else if ( context.nodeName.toLowerCase() !== "object" ) {

					// Capture the context ID, setting it first if necessary
					if ( (nid = context.getAttribute( "id" )) ) {
						nid = nid.replace( rescape, "\\$&" );
					} else {
						context.setAttribute( "id", (nid = expando) );
					}

					// Prefix every selector in the list
					groups = tokenize( selector );
					i = groups.length;
					nidselect = ridentifier.test( nid ) ? "#" + nid : "[id='" + nid + "']";
					while ( i-- ) {
						groups[i] = nidselect + " " + toSelector( groups[i] );
					}
					newSelector = groups.join( "," );

					// Expand context for sibling selectors
					newContext = rsibling.test( selector ) && testContext( context.parentNode ) ||
						context;
				}

				if ( newSelector ) {
					try {
						push.apply( results,
							newContext.querySelectorAll( newSelector )
						);
						return results;
					} catch ( qsaError ) {
					} finally {
						if ( nid === expando ) {
							context.removeAttribute( "id" );
						}
					}
				}
			}
		}
	}

	// All others
	return select( selector.replace( rtrim, "$1" ), context, results, seed );
}

/**
 * Create key-value caches of limited size
 * @returns {function(string, object)} Returns the Object data after storing it on itself with
 *	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
 *	deleting the oldest entry
 */
function createCache() {
	var keys = [];

	function cache( key, value ) {
		// Use (key + " ") to avoid collision with native prototype properties (see Issue #157)
		if ( keys.push( key + " " ) > Expr.cacheLength ) {
			// Only keep the most recent entries
			delete cache[ keys.shift() ];
		}
		return (cache[ key + " " ] = value);
	}
	return cache;
}

/**
 * Mark a function for special use by Sizzle
 * @param {Function} fn The function to mark
 */
function markFunction( fn ) {
	fn[ expando ] = true;
	return fn;
}

/**
 * Support testing using an element
 * @param {Function} fn Passed the created div and expects a boolean result
 */
function assert( fn ) {
	var div = document.createElement("div");

	try {
		return !!fn( div );
	} catch (e) {
		return false;
	} finally {
		// Remove from its parent by default
		if ( div.parentNode ) {
			div.parentNode.removeChild( div );
		}
		// release memory in IE
		div = null;
	}
}

/**
 * Adds the same handler for all of the specified attrs
 * @param {String} attrs Pipe-separated list of attributes
 * @param {Function} handler The method that will be applied
 */
function addHandle( attrs, handler ) {
	var arr = attrs.split("|"),
		i = arr.length;

	while ( i-- ) {
		Expr.attrHandle[ arr[i] ] = handler;
	}
}

/**
 * Checks document order of two siblings
 * @param {Element} a
 * @param {Element} b
 * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b
 */
function siblingCheck( a, b ) {
	var cur = b && a,
		diff = cur && a.nodeType === 1 && b.nodeType === 1 &&
			( ~b.sourceIndex || MAX_NEGATIVE ) -
			( ~a.sourceIndex || MAX_NEGATIVE );

	// Use IE sourceIndex if available on both nodes
	if ( diff ) {
		return diff;
	}

	// Check if b follows a
	if ( cur ) {
		while ( (cur = cur.nextSibling) ) {
			if ( cur === b ) {
				return -1;
			}
		}
	}

	return a ? 1 : -1;
}

/**
 * Returns a function to use in pseudos for input types
 * @param {String} type
 */
function createInputPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return name === "input" && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for buttons
 * @param {String} type
 */
function createButtonPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return (name === "input" || name === "button") && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for positionals
 * @param {Function} fn
 */
function createPositionalPseudo( fn ) {
	return markFunction(function( argument ) {
		argument = +argument;
		return markFunction(function( seed, matches ) {
			var j,
				matchIndexes = fn( [], seed.length, argument ),
				i = matchIndexes.length;

			// Match elements found at the specified indexes
			while ( i-- ) {
				if ( seed[ (j = matchIndexes[i]) ] ) {
					seed[j] = !(matches[j] = seed[j]);
				}
			}
		});
	});
}

/**
 * Checks a node for validity as a Sizzle context
 * @param {Element|Object=} context
 * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value
 */
function testContext( context ) {
	return context && typeof context.getElementsByTagName !== "undefined" && context;
}

// Expose support vars for convenience
support = Sizzle.support = {};

/**
 * Detects XML nodes
 * @param {Element|Object} elem An element or a document
 * @returns {Boolean} True iff elem is a non-HTML XML node
 */
isXML = Sizzle.isXML = function( elem ) {
	// documentElement is verified for cases where it doesn't yet exist
	// (such as loading iframes in IE - #4833)
	var documentElement = elem && (elem.ownerDocument || elem).documentElement;
	return documentElement ? documentElement.nodeName !== "HTML" : false;
};

/**
 * Sets document-related variables once based on the current document
 * @param {Element|Object} [doc] An element or document object to use to set the document
 * @returns {Object} Returns the current document
 */
setDocument = Sizzle.setDocument = function( node ) {
	var hasCompare, parent,
		doc = node ? node.ownerDocument || node : preferredDoc;

	// Return early if doc is invalid or already selected
	if ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {
		return document;
	}

	// Update global variables
	document = doc;
	docElem = document.documentElement;
	documentIsHTML = !isXML( document );

	// Support: IE 9-11, Edge
	// Accessing iframe documents after unload throws "permission denied" errors (jQuery #13936)
	if ( (parent = document.defaultView) && parent.top !== parent ) {
		// Support: IE 11
		if ( parent.addEventListener ) {
			parent.addEventListener( "unload", unloadHandler, false );

		// Support: IE 9 - 10 only
		} else if ( parent.attachEvent ) {
			parent.attachEvent( "onunload", unloadHandler );
		}
	}

	/* Attributes
	---------------------------------------------------------------------- */

	// Support: IE<8
	// Verify that getAttribute really returns attributes and not properties
	// (excepting IE8 booleans)
	support.attributes = assert(function( div ) {
		div.className = "i";
		return !div.getAttribute("className");
	});

	/* getElement(s)By*
	---------------------------------------------------------------------- */

	// Check if getElementsByTagName("*") returns only elements
	support.getElementsByTagName = assert(function( div ) {
		div.appendChild( document.createComment("") );
		return !div.getElementsByTagName("*").length;
	});

	// Support: IE<9
	support.getElementsByClassName = rnative.test( document.getElementsByClassName );

	// Support: IE<10
	// Check if getElementById returns elements by name
	// The broken getElementById methods don't pick up programatically-set names,
	// so use a roundabout getElementsByName test
	support.getById = assert(function( div ) {
		docElem.appendChild( div ).id = expando;
		return !document.getElementsByName || !document.getElementsByName( expando ).length;
	});

	// ID find and filter
	if ( support.getById ) {
		Expr.find["ID"] = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var m = context.getElementById( id );
				return m ? [ m ] : [];
			}
		};
		Expr.filter["ID"] = function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				return elem.getAttribute("id") === attrId;
			};
		};
	} else {
		// Support: IE6/7
		// getElementById is not reliable as a find shortcut
		delete Expr.find["ID"];

		Expr.filter["ID"] =  function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				var node = typeof elem.getAttributeNode !== "undefined" &&
					elem.getAttributeNode("id");
				return node && node.value === attrId;
			};
		};
	}

	// Tag
	Expr.find["TAG"] = support.getElementsByTagName ?
		function( tag, context ) {
			if ( typeof context.getElementsByTagName !== "undefined" ) {
				return context.getElementsByTagName( tag );

			// DocumentFragment nodes don't have gEBTN
			} else if ( support.qsa ) {
				return context.querySelectorAll( tag );
			}
		} :

		function( tag, context ) {
			var elem,
				tmp = [],
				i = 0,
				// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too
				results = context.getElementsByTagName( tag );

			// Filter out possible comments
			if ( tag === "*" ) {
				while ( (elem = results[i++]) ) {
					if ( elem.nodeType === 1 ) {
						tmp.push( elem );
					}
				}

				return tmp;
			}
			return results;
		};

	// Class
	Expr.find["CLASS"] = support.getElementsByClassName && function( className, context ) {
		if ( typeof context.getElementsByClassName !== "undefined" && documentIsHTML ) {
			return context.getElementsByClassName( className );
		}
	};

	/* QSA/matchesSelector
	---------------------------------------------------------------------- */

	// QSA and matchesSelector support

	// matchesSelector(:active) reports false when true (IE9/Opera 11.5)
	rbuggyMatches = [];

	// qSa(:focus) reports false when true (Chrome 21)
	// We allow this because of a bug in IE8/9 that throws an error
	// whenever `document.activeElement` is accessed on an iframe
	// So, we allow :focus to pass through QSA all the time to avoid the IE error
	// See http://bugs.jquery.com/ticket/13378
	rbuggyQSA = [];

	if ( (support.qsa = rnative.test( document.querySelectorAll )) ) {
		// Build QSA regex
		// Regex strategy adopted from Diego Perini
		assert(function( div ) {
			// Select is set to empty string on purpose
			// This is to test IE's treatment of not explicitly
			// setting a boolean content attribute,
			// since its presence should be enough
			// http://bugs.jquery.com/ticket/12359
			docElem.appendChild( div ).innerHTML = "<a id='" + expando + "'></a>" +
				"<select id='" + expando + "-\r\\' msallowcapture=''>" +
				"<option selected=''></option></select>";

			// Support: IE8, Opera 11-12.16
			// Nothing should be selected when empty strings follow ^= or $= or *=
			// The test attribute must be unknown in Opera but "safe" for WinRT
			// http://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section
			if ( div.querySelectorAll("[msallowcapture^='']").length ) {
				rbuggyQSA.push( "[*^$]=" + whitespace + "*(?:''|\"\")" );
			}

			// Support: IE8
			// Boolean attributes and "value" are not treated correctly
			if ( !div.querySelectorAll("[selected]").length ) {
				rbuggyQSA.push( "\\[" + whitespace + "*(?:value|" + booleans + ")" );
			}

			// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+
			if ( !div.querySelectorAll( "[id~=" + expando + "-]" ).length ) {
				rbuggyQSA.push("~=");
			}

			// Webkit/Opera - :checked should return selected option elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			// IE8 throws error here and will not see later tests
			if ( !div.querySelectorAll(":checked").length ) {
				rbuggyQSA.push(":checked");
			}

			// Support: Safari 8+, iOS 8+
			// https://bugs.webkit.org/show_bug.cgi?id=136851
			// In-page `selector#id sibing-combinator selector` fails
			if ( !div.querySelectorAll( "a#" + expando + "+*" ).length ) {
				rbuggyQSA.push(".#.+[+~]");
			}
		});

		assert(function( div ) {
			// Support: Windows 8 Native Apps
			// The type and name attributes are restricted during .innerHTML assignment
			var input = document.createElement("input");
			input.setAttribute( "type", "hidden" );
			div.appendChild( input ).setAttribute( "name", "D" );

			// Support: IE8
			// Enforce case-sensitivity of name attribute
			if ( div.querySelectorAll("[name=d]").length ) {
				rbuggyQSA.push( "name" + whitespace + "*[*^$|!~]?=" );
			}

			// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)
			// IE8 throws error here and will not see later tests
			if ( !div.querySelectorAll(":enabled").length ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Opera 10-11 does not throw on post-comma invalid pseudos
			div.querySelectorAll("*,:x");
			rbuggyQSA.push(",.*:");
		});
	}

	if ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||
		docElem.webkitMatchesSelector ||
		docElem.mozMatchesSelector ||
		docElem.oMatchesSelector ||
		docElem.msMatchesSelector) )) ) {

		assert(function( div ) {
			// Check to see if it's possible to do matchesSelector
			// on a disconnected node (IE 9)
			support.disconnectedMatch = matches.call( div, "div" );

			// This should fail with an exception
			// Gecko does not error, returns false instead
			matches.call( div, "[s!='']:x" );
			rbuggyMatches.push( "!=", pseudos );
		});
	}

	rbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join("|") );
	rbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join("|") );

	/* Contains
	---------------------------------------------------------------------- */
	hasCompare = rnative.test( docElem.compareDocumentPosition );

	// Element contains another
	// Purposefully self-exclusive
	// As in, an element does not contain itself
	contains = hasCompare || rnative.test( docElem.contains ) ?
		function( a, b ) {
			var adown = a.nodeType === 9 ? a.documentElement : a,
				bup = b && b.parentNode;
			return a === bup || !!( bup && bup.nodeType === 1 && (
				adown.contains ?
					adown.contains( bup ) :
					a.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16
			));
		} :
		function( a, b ) {
			if ( b ) {
				while ( (b = b.parentNode) ) {
					if ( b === a ) {
						return true;
					}
				}
			}
			return false;
		};

	/* Sorting
	---------------------------------------------------------------------- */

	// Document order sorting
	sortOrder = hasCompare ?
	function( a, b ) {

		// Flag for duplicate removal
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		// Sort on method existence if only one input has compareDocumentPosition
		var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
		if ( compare ) {
			return compare;
		}

		// Calculate position if both inputs belong to the same document
		compare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?
			a.compareDocumentPosition( b ) :

			// Otherwise we know they are disconnected
			1;

		// Disconnected nodes
		if ( compare & 1 ||
			(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {

			// Choose the first element that is related to our preferred document
			if ( a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {
				return -1;
			}
			if ( b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {
				return 1;
			}

			// Maintain original order
			return sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;
		}

		return compare & 4 ? -1 : 1;
	} :
	function( a, b ) {
		// Exit early if the nodes are identical
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		var cur,
			i = 0,
			aup = a.parentNode,
			bup = b.parentNode,
			ap = [ a ],
			bp = [ b ];

		// Parentless nodes are either documents or disconnected
		if ( !aup || !bup ) {
			return a === document ? -1 :
				b === document ? 1 :
				aup ? -1 :
				bup ? 1 :
				sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;

		// If the nodes are siblings, we can do a quick check
		} else if ( aup === bup ) {
			return siblingCheck( a, b );
		}

		// Otherwise we need full lists of their ancestors for comparison
		cur = a;
		while ( (cur = cur.parentNode) ) {
			ap.unshift( cur );
		}
		cur = b;
		while ( (cur = cur.parentNode) ) {
			bp.unshift( cur );
		}

		// Walk down the tree looking for a discrepancy
		while ( ap[i] === bp[i] ) {
			i++;
		}

		return i ?
			// Do a sibling check if the nodes have a common ancestor
			siblingCheck( ap[i], bp[i] ) :

			// Otherwise nodes in our document sort first
			ap[i] === preferredDoc ? -1 :
			bp[i] === preferredDoc ? 1 :
			0;
	};

	return document;
};

Sizzle.matches = function( expr, elements ) {
	return Sizzle( expr, null, null, elements );
};

Sizzle.matchesSelector = function( elem, expr ) {
	// Set document vars if needed
	if ( ( elem.ownerDocument || elem ) !== document ) {
		setDocument( elem );
	}

	// Make sure that attribute selectors are quoted
	expr = expr.replace( rattributeQuotes, "='$1']" );

	if ( support.matchesSelector && documentIsHTML &&
		!compilerCache[ expr + " " ] &&
		( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&
		( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {

		try {
			var ret = matches.call( elem, expr );

			// IE 9's matchesSelector returns false on disconnected nodes
			if ( ret || support.disconnectedMatch ||
					// As well, disconnected nodes are said to be in a document
					// fragment in IE 9
					elem.document && elem.document.nodeType !== 11 ) {
				return ret;
			}
		} catch (e) {}
	}

	return Sizzle( expr, document, null, [ elem ] ).length > 0;
};

Sizzle.contains = function( context, elem ) {
	// Set document vars if needed
	if ( ( context.ownerDocument || context ) !== document ) {
		setDocument( context );
	}
	return contains( context, elem );
};

Sizzle.attr = function( elem, name ) {
	// Set document vars if needed
	if ( ( elem.ownerDocument || elem ) !== document ) {
		setDocument( elem );
	}

	var fn = Expr.attrHandle[ name.toLowerCase() ],
		// Don't get fooled by Object.prototype properties (jQuery #13807)
		val = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?
			fn( elem, name, !documentIsHTML ) :
			undefined;

	return val !== undefined ?
		val :
		support.attributes || !documentIsHTML ?
			elem.getAttribute( name ) :
			(val = elem.getAttributeNode(name)) && val.specified ?
				val.value :
				null;
};

Sizzle.error = function( msg ) {
	throw new Error( "Syntax error, unrecognized expression: " + msg );
};

/**
 * Document sorting and removing duplicates
 * @param {ArrayLike} results
 */
Sizzle.uniqueSort = function( results ) {
	var elem,
		duplicates = [],
		j = 0,
		i = 0;

	// Unless we *know* we can detect duplicates, assume their presence
	hasDuplicate = !support.detectDuplicates;
	sortInput = !support.sortStable && results.slice( 0 );
	results.sort( sortOrder );

	if ( hasDuplicate ) {
		while ( (elem = results[i++]) ) {
			if ( elem === results[ i ] ) {
				j = duplicates.push( i );
			}
		}
		while ( j-- ) {
			results.splice( duplicates[ j ], 1 );
		}
	}

	// Clear input after sorting to release objects
	// See https://github.com/jquery/sizzle/pull/225
	sortInput = null;

	return results;
};

/**
 * Utility function for retrieving the text value of an array of DOM nodes
 * @param {Array|Element} elem
 */
getText = Sizzle.getText = function( elem ) {
	var node,
		ret = "",
		i = 0,
		nodeType = elem.nodeType;

	if ( !nodeType ) {
		// If no nodeType, this is expected to be an array
		while ( (node = elem[i++]) ) {
			// Do not traverse comment nodes
			ret += getText( node );
		}
	} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {
		// Use textContent for elements
		// innerText usage removed for consistency of new lines (jQuery #11153)
		if ( typeof elem.textContent === "string" ) {
			return elem.textContent;
		} else {
			// Traverse its children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				ret += getText( elem );
			}
		}
	} else if ( nodeType === 3 || nodeType === 4 ) {
		return elem.nodeValue;
	}
	// Do not include comment or processing instruction nodes

	return ret;
};

Expr = Sizzle.selectors = {

	// Can be adjusted by the user
	cacheLength: 50,

	createPseudo: markFunction,

	match: matchExpr,

	attrHandle: {},

	find: {},

	relative: {
		">": { dir: "parentNode", first: true },
		" ": { dir: "parentNode" },
		"+": { dir: "previousSibling", first: true },
		"~": { dir: "previousSibling" }
	},

	preFilter: {
		"ATTR": function( match ) {
			match[1] = match[1].replace( runescape, funescape );

			// Move the given value to match[3] whether quoted or unquoted
			match[3] = ( match[3] || match[4] || match[5] || "" ).replace( runescape, funescape );

			if ( match[2] === "~=" ) {
				match[3] = " " + match[3] + " ";
			}

			return match.slice( 0, 4 );
		},

		"CHILD": function( match ) {
			/* matches from matchExpr["CHILD"]
				1 type (only|nth|...)
				2 what (child|of-type)
				3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
				4 xn-component of xn+y argument ([+-]?\d*n|)
				5 sign of xn-component
				6 x of xn-component
				7 sign of y-component
				8 y of y-component
			*/
			match[1] = match[1].toLowerCase();

			if ( match[1].slice( 0, 3 ) === "nth" ) {
				// nth-* requires argument
				if ( !match[3] ) {
					Sizzle.error( match[0] );
				}

				// numeric x and y parameters for Expr.filter.CHILD
				// remember that false/true cast respectively to 0/1
				match[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === "even" || match[3] === "odd" ) );
				match[5] = +( ( match[7] + match[8] ) || match[3] === "odd" );

			// other types prohibit arguments
			} else if ( match[3] ) {
				Sizzle.error( match[0] );
			}

			return match;
		},

		"PSEUDO": function( match ) {
			var excess,
				unquoted = !match[6] && match[2];

			if ( matchExpr["CHILD"].test( match[0] ) ) {
				return null;
			}

			// Accept quoted arguments as-is
			if ( match[3] ) {
				match[2] = match[4] || match[5] || "";

			// Strip excess characters from unquoted arguments
			} else if ( unquoted && rpseudo.test( unquoted ) &&
				// Get excess from tokenize (recursively)
				(excess = tokenize( unquoted, true )) &&
				// advance to the next closing parenthesis
				(excess = unquoted.indexOf( ")", unquoted.length - excess ) - unquoted.length) ) {

				// excess is a negative index
				match[0] = match[0].slice( 0, excess );
				match[2] = unquoted.slice( 0, excess );
			}

			// Return only captures needed by the pseudo filter method (type and argument)
			return match.slice( 0, 3 );
		}
	},

	filter: {

		"TAG": function( nodeNameSelector ) {
			var nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();
			return nodeNameSelector === "*" ?
				function() { return true; } :
				function( elem ) {
					return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
				};
		},

		"CLASS": function( className ) {
			var pattern = classCache[ className + " " ];

			return pattern ||
				(pattern = new RegExp( "(^|" + whitespace + ")" + className + "(" + whitespace + "|$)" )) &&
				classCache( className, function( elem ) {
					return pattern.test( typeof elem.className === "string" && elem.className || typeof elem.getAttribute !== "undefined" && elem.getAttribute("class") || "" );
				});
		},

		"ATTR": function( name, operator, check ) {
			return function( elem ) {
				var result = Sizzle.attr( elem, name );

				if ( result == null ) {
					return operator === "!=";
				}
				if ( !operator ) {
					return true;
				}

				result += "";

				return operator === "=" ? result === check :
					operator === "!=" ? result !== check :
					operator === "^=" ? check && result.indexOf( check ) === 0 :
					operator === "*=" ? check && result.indexOf( check ) > -1 :
					operator === "$=" ? check && result.slice( -check.length ) === check :
					operator === "~=" ? ( " " + result.replace( rwhitespace, " " ) + " " ).indexOf( check ) > -1 :
					operator === "|=" ? result === check || result.slice( 0, check.length + 1 ) === check + "-" :
					false;
			};
		},

		"CHILD": function( type, what, argument, first, last ) {
			var simple = type.slice( 0, 3 ) !== "nth",
				forward = type.slice( -4 ) !== "last",
				ofType = what === "of-type";

			return first === 1 && last === 0 ?

				// Shortcut for :nth-*(n)
				function( elem ) {
					return !!elem.parentNode;
				} :

				function( elem, context, xml ) {
					var cache, uniqueCache, outerCache, node, nodeIndex, start,
						dir = simple !== forward ? "nextSibling" : "previousSibling",
						parent = elem.parentNode,
						name = ofType && elem.nodeName.toLowerCase(),
						useCache = !xml && !ofType,
						diff = false;

					if ( parent ) {

						// :(first|last|only)-(child|of-type)
						if ( simple ) {
							while ( dir ) {
								node = elem;
								while ( (node = node[ dir ]) ) {
									if ( ofType ?
										node.nodeName.toLowerCase() === name :
										node.nodeType === 1 ) {

										return false;
									}
								}
								// Reverse direction for :only-* (if we haven't yet done so)
								start = dir = type === "only" && !start && "nextSibling";
							}
							return true;
						}

						start = [ forward ? parent.firstChild : parent.lastChild ];

						// non-xml :nth-child(...) stores cache data on `parent`
						if ( forward && useCache ) {

							// Seek `elem` from a previously-cached index

							// ...in a gzip-friendly way
							node = parent;
							outerCache = node[ expando ] || (node[ expando ] = {});

							// Support: IE <9 only
							// Defend against cloned attroperties (jQuery gh-1709)
							uniqueCache = outerCache[ node.uniqueID ] ||
								(outerCache[ node.uniqueID ] = {});

							cache = uniqueCache[ type ] || [];
							nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
							diff = nodeIndex && cache[ 2 ];
							node = nodeIndex && parent.childNodes[ nodeIndex ];

							while ( (node = ++nodeIndex && node && node[ dir ] ||

								// Fallback to seeking `elem` from the start
								(diff = nodeIndex = 0) || start.pop()) ) {

								// When found, cache indexes on `parent` and break
								if ( node.nodeType === 1 && ++diff && node === elem ) {
									uniqueCache[ type ] = [ dirruns, nodeIndex, diff ];
									break;
								}
							}

						} else {
							// Use previously-cached element index if available
							if ( useCache ) {
								// ...in a gzip-friendly way
								node = elem;
								outerCache = node[ expando ] || (node[ expando ] = {});

								// Support: IE <9 only
								// Defend against cloned attroperties (jQuery gh-1709)
								uniqueCache = outerCache[ node.uniqueID ] ||
									(outerCache[ node.uniqueID ] = {});

								cache = uniqueCache[ type ] || [];
								nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
								diff = nodeIndex;
							}

							// xml :nth-child(...)
							// or :nth-last-child(...) or :nth(-last)?-of-type(...)
							if ( diff === false ) {
								// Use the same loop as above to seek `elem` from the start
								while ( (node = ++nodeIndex && node && node[ dir ] ||
									(diff = nodeIndex = 0) || start.pop()) ) {

									if ( ( ofType ?
										node.nodeName.toLowerCase() === name :
										node.nodeType === 1 ) &&
										++diff ) {

										// Cache the index of each encountered element
										if ( useCache ) {
											outerCache = node[ expando ] || (node[ expando ] = {});

											// Support: IE <9 only
											// Defend against cloned attroperties (jQuery gh-1709)
											uniqueCache = outerCache[ node.uniqueID ] ||
												(outerCache[ node.uniqueID ] = {});

											uniqueCache[ type ] = [ dirruns, diff ];
										}

										if ( node === elem ) {
											break;
										}
									}
								}
							}
						}

						// Incorporate the offset, then check against cycle size
						diff -= last;
						return diff === first || ( diff % first === 0 && diff / first >= 0 );
					}
				};
		},

		"PSEUDO": function( pseudo, argument ) {
			// pseudo-class names are case-insensitive
			// http://www.w3.org/TR/selectors/#pseudo-classes
			// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
			// Remember that setFilters inherits from pseudos
			var args,
				fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||
					Sizzle.error( "unsupported pseudo: " + pseudo );

			// The user may use createPseudo to indicate that
			// arguments are needed to create the filter function
			// just as Sizzle does
			if ( fn[ expando ] ) {
				return fn( argument );
			}

			// But maintain support for old signatures
			if ( fn.length > 1 ) {
				args = [ pseudo, pseudo, "", argument ];
				return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?
					markFunction(function( seed, matches ) {
						var idx,
							matched = fn( seed, argument ),
							i = matched.length;
						while ( i-- ) {
							idx = indexOf( seed, matched[i] );
							seed[ idx ] = !( matches[ idx ] = matched[i] );
						}
					}) :
					function( elem ) {
						return fn( elem, 0, args );
					};
			}

			return fn;
		}
	},

	pseudos: {
		// Potentially complex pseudos
		"not": markFunction(function( selector ) {
			// Trim the selector passed to compile
			// to avoid treating leading and trailing
			// spaces as combinators
			var input = [],
				results = [],
				matcher = compile( selector.replace( rtrim, "$1" ) );

			return matcher[ expando ] ?
				markFunction(function( seed, matches, context, xml ) {
					var elem,
						unmatched = matcher( seed, null, xml, [] ),
						i = seed.length;

					// Match elements unmatched by `matcher`
					while ( i-- ) {
						if ( (elem = unmatched[i]) ) {
							seed[i] = !(matches[i] = elem);
						}
					}
				}) :
				function( elem, context, xml ) {
					input[0] = elem;
					matcher( input, null, xml, results );
					// Don't keep the element (issue #299)
					input[0] = null;
					return !results.pop();
				};
		}),

		"has": markFunction(function( selector ) {
			return function( elem ) {
				return Sizzle( selector, elem ).length > 0;
			};
		}),

		"contains": markFunction(function( text ) {
			text = text.replace( runescape, funescape );
			return function( elem ) {
				return ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;
			};
		}),

		// "Whether an element is represented by a :lang() selector
		// is based solely on the element's language value
		// being equal to the identifier C,
		// or beginning with the identifier C immediately followed by "-".
		// The matching of C against the element's language value is performed case-insensitively.
		// The identifier C does not have to be a valid language name."
		// http://www.w3.org/TR/selectors/#lang-pseudo
		"lang": markFunction( function( lang ) {
			// lang value must be a valid identifier
			if ( !ridentifier.test(lang || "") ) {
				Sizzle.error( "unsupported lang: " + lang );
			}
			lang = lang.replace( runescape, funescape ).toLowerCase();
			return function( elem ) {
				var elemLang;
				do {
					if ( (elemLang = documentIsHTML ?
						elem.lang :
						elem.getAttribute("xml:lang") || elem.getAttribute("lang")) ) {

						elemLang = elemLang.toLowerCase();
						return elemLang === lang || elemLang.indexOf( lang + "-" ) === 0;
					}
				} while ( (elem = elem.parentNode) && elem.nodeType === 1 );
				return false;
			};
		}),

		// Miscellaneous
		"target": function( elem ) {
			var hash = window.location && window.location.hash;
			return hash && hash.slice( 1 ) === elem.id;
		},

		"root": function( elem ) {
			return elem === docElem;
		},

		"focus": function( elem ) {
			return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);
		},

		// Boolean properties
		"enabled": function( elem ) {
			return elem.disabled === false;
		},

		"disabled": function( elem ) {
			return elem.disabled === true;
		},

		"checked": function( elem ) {
			// In CSS3, :checked should return both checked and selected elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			var nodeName = elem.nodeName.toLowerCase();
			return (nodeName === "input" && !!elem.checked) || (nodeName === "option" && !!elem.selected);
		},

		"selected": function( elem ) {
			// Accessing this property makes selected-by-default
			// options in Safari work properly
			if ( elem.parentNode ) {
				elem.parentNode.selectedIndex;
			}

			return elem.selected === true;
		},

		// Contents
		"empty": function( elem ) {
			// http://www.w3.org/TR/selectors/#empty-pseudo
			// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),
			//   but not by others (comment: 8; processing instruction: 7; etc.)
			// nodeType < 6 works because attributes (2) do not appear as children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				if ( elem.nodeType < 6 ) {
					return false;
				}
			}
			return true;
		},

		"parent": function( elem ) {
			return !Expr.pseudos["empty"]( elem );
		},

		// Element/input types
		"header": function( elem ) {
			return rheader.test( elem.nodeName );
		},

		"input": function( elem ) {
			return rinputs.test( elem.nodeName );
		},

		"button": function( elem ) {
			var name = elem.nodeName.toLowerCase();
			return name === "input" && elem.type === "button" || name === "button";
		},

		"text": function( elem ) {
			var attr;
			return elem.nodeName.toLowerCase() === "input" &&
				elem.type === "text" &&

				// Support: IE<8
				// New HTML5 attribute values (e.g., "search") appear with elem.type === "text"
				( (attr = elem.getAttribute("type")) == null || attr.toLowerCase() === "text" );
		},

		// Position-in-collection
		"first": createPositionalPseudo(function() {
			return [ 0 ];
		}),

		"last": createPositionalPseudo(function( matchIndexes, length ) {
			return [ length - 1 ];
		}),

		"eq": createPositionalPseudo(function( matchIndexes, length, argument ) {
			return [ argument < 0 ? argument + length : argument ];
		}),

		"even": createPositionalPseudo(function( matchIndexes, length ) {
			var i = 0;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"odd": createPositionalPseudo(function( matchIndexes, length ) {
			var i = 1;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"lt": createPositionalPseudo(function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; --i >= 0; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"gt": createPositionalPseudo(function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; ++i < length; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		})
	}
};

Expr.pseudos["nth"] = Expr.pseudos["eq"];

// Add button/input type pseudos
for ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {
	Expr.pseudos[ i ] = createInputPseudo( i );
}
for ( i in { submit: true, reset: true } ) {
	Expr.pseudos[ i ] = createButtonPseudo( i );
}

// Easy API for creating new setFilters
function setFilters() {}
setFilters.prototype = Expr.filters = Expr.pseudos;
Expr.setFilters = new setFilters();

tokenize = Sizzle.tokenize = function( selector, parseOnly ) {
	var matched, match, tokens, type,
		soFar, groups, preFilters,
		cached = tokenCache[ selector + " " ];

	if ( cached ) {
		return parseOnly ? 0 : cached.slice( 0 );
	}

	soFar = selector;
	groups = [];
	preFilters = Expr.preFilter;

	while ( soFar ) {

		// Comma and first run
		if ( !matched || (match = rcomma.exec( soFar )) ) {
			if ( match ) {
				// Don't consume trailing commas as valid
				soFar = soFar.slice( match[0].length ) || soFar;
			}
			groups.push( (tokens = []) );
		}

		matched = false;

		// Combinators
		if ( (match = rcombinators.exec( soFar )) ) {
			matched = match.shift();
			tokens.push({
				value: matched,
				// Cast descendant combinators to space
				type: match[0].replace( rtrim, " " )
			});
			soFar = soFar.slice( matched.length );
		}

		// Filters
		for ( type in Expr.filter ) {
			if ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||
				(match = preFilters[ type ]( match ))) ) {
				matched = match.shift();
				tokens.push({
					value: matched,
					type: type,
					matches: match
				});
				soFar = soFar.slice( matched.length );
			}
		}

		if ( !matched ) {
			break;
		}
	}

	// Return the length of the invalid excess
	// if we're just parsing
	// Otherwise, throw an error or return tokens
	return parseOnly ?
		soFar.length :
		soFar ?
			Sizzle.error( selector ) :
			// Cache the tokens
			tokenCache( selector, groups ).slice( 0 );
};

function toSelector( tokens ) {
	var i = 0,
		len = tokens.length,
		selector = "";
	for ( ; i < len; i++ ) {
		selector += tokens[i].value;
	}
	return selector;
}

function addCombinator( matcher, combinator, base ) {
	var dir = combinator.dir,
		checkNonElements = base && dir === "parentNode",
		doneName = done++;

	return combinator.first ?
		// Check against closest ancestor/preceding element
		function( elem, context, xml ) {
			while ( (elem = elem[ dir ]) ) {
				if ( elem.nodeType === 1 || checkNonElements ) {
					return matcher( elem, context, xml );
				}
			}
		} :

		// Check against all ancestor/preceding elements
		function( elem, context, xml ) {
			var oldCache, uniqueCache, outerCache,
				newCache = [ dirruns, doneName ];

			// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching
			if ( xml ) {
				while ( (elem = elem[ dir ]) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						if ( matcher( elem, context, xml ) ) {
							return true;
						}
					}
				}
			} else {
				while ( (elem = elem[ dir ]) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						outerCache = elem[ expando ] || (elem[ expando ] = {});

						// Support: IE <9 only
						// Defend against cloned attroperties (jQuery gh-1709)
						uniqueCache = outerCache[ elem.uniqueID ] || (outerCache[ elem.uniqueID ] = {});

						if ( (oldCache = uniqueCache[ dir ]) &&
							oldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {

							// Assign to newCache so results back-propagate to previous elements
							return (newCache[ 2 ] = oldCache[ 2 ]);
						} else {
							// Reuse newcache so results back-propagate to previous elements
							uniqueCache[ dir ] = newCache;

							// A match means we're done; a fail means we have to keep checking
							if ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {
								return true;
							}
						}
					}
				}
			}
		};
}

function elementMatcher( matchers ) {
	return matchers.length > 1 ?
		function( elem, context, xml ) {
			var i = matchers.length;
			while ( i-- ) {
				if ( !matchers[i]( elem, context, xml ) ) {
					return false;
				}
			}
			return true;
		} :
		matchers[0];
}

function multipleContexts( selector, contexts, results ) {
	var i = 0,
		len = contexts.length;
	for ( ; i < len; i++ ) {
		Sizzle( selector, contexts[i], results );
	}
	return results;
}

function condense( unmatched, map, filter, context, xml ) {
	var elem,
		newUnmatched = [],
		i = 0,
		len = unmatched.length,
		mapped = map != null;

	for ( ; i < len; i++ ) {
		if ( (elem = unmatched[i]) ) {
			if ( !filter || filter( elem, context, xml ) ) {
				newUnmatched.push( elem );
				if ( mapped ) {
					map.push( i );
				}
			}
		}
	}

	return newUnmatched;
}

function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {
	if ( postFilter && !postFilter[ expando ] ) {
		postFilter = setMatcher( postFilter );
	}
	if ( postFinder && !postFinder[ expando ] ) {
		postFinder = setMatcher( postFinder, postSelector );
	}
	return markFunction(function( seed, results, context, xml ) {
		var temp, i, elem,
			preMap = [],
			postMap = [],
			preexisting = results.length,

			// Get initial elements from seed or context
			elems = seed || multipleContexts( selector || "*", context.nodeType ? [ context ] : context, [] ),

			// Prefilter to get matcher input, preserving a map for seed-results synchronization
			matcherIn = preFilter && ( seed || !selector ) ?
				condense( elems, preMap, preFilter, context, xml ) :
				elems,

			matcherOut = matcher ?
				// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,
				postFinder || ( seed ? preFilter : preexisting || postFilter ) ?

					// ...intermediate processing is necessary
					[] :

					// ...otherwise use results directly
					results :
				matcherIn;

		// Find primary matches
		if ( matcher ) {
			matcher( matcherIn, matcherOut, context, xml );
		}

		// Apply postFilter
		if ( postFilter ) {
			temp = condense( matcherOut, postMap );
			postFilter( temp, [], context, xml );

			// Un-match failing elements by moving them back to matcherIn
			i = temp.length;
			while ( i-- ) {
				if ( (elem = temp[i]) ) {
					matcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);
				}
			}
		}

		if ( seed ) {
			if ( postFinder || preFilter ) {
				if ( postFinder ) {
					// Get the final matcherOut by condensing this intermediate into postFinder contexts
					temp = [];
					i = matcherOut.length;
					while ( i-- ) {
						if ( (elem = matcherOut[i]) ) {
							// Restore matcherIn since elem is not yet a final match
							temp.push( (matcherIn[i] = elem) );
						}
					}
					postFinder( null, (matcherOut = []), temp, xml );
				}

				// Move matched elements from seed to results to keep them synchronized
				i = matcherOut.length;
				while ( i-- ) {
					if ( (elem = matcherOut[i]) &&
						(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {

						seed[temp] = !(results[temp] = elem);
					}
				}
			}

		// Add elements to results, through postFinder if defined
		} else {
			matcherOut = condense(
				matcherOut === results ?
					matcherOut.splice( preexisting, matcherOut.length ) :
					matcherOut
			);
			if ( postFinder ) {
				postFinder( null, results, matcherOut, xml );
			} else {
				push.apply( results, matcherOut );
			}
		}
	});
}

function matcherFromTokens( tokens ) {
	var checkContext, matcher, j,
		len = tokens.length,
		leadingRelative = Expr.relative[ tokens[0].type ],
		implicitRelative = leadingRelative || Expr.relative[" "],
		i = leadingRelative ? 1 : 0,

		// The foundational matcher ensures that elements are reachable from top-level context(s)
		matchContext = addCombinator( function( elem ) {
			return elem === checkContext;
		}, implicitRelative, true ),
		matchAnyContext = addCombinator( function( elem ) {
			return indexOf( checkContext, elem ) > -1;
		}, implicitRelative, true ),
		matchers = [ function( elem, context, xml ) {
			var ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (
				(checkContext = context).nodeType ?
					matchContext( elem, context, xml ) :
					matchAnyContext( elem, context, xml ) );
			// Avoid hanging onto element (issue #299)
			checkContext = null;
			return ret;
		} ];

	for ( ; i < len; i++ ) {
		if ( (matcher = Expr.relative[ tokens[i].type ]) ) {
			matchers = [ addCombinator(elementMatcher( matchers ), matcher) ];
		} else {
			matcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );

			// Return special upon seeing a positional matcher
			if ( matcher[ expando ] ) {
				// Find the next relative operator (if any) for proper handling
				j = ++i;
				for ( ; j < len; j++ ) {
					if ( Expr.relative[ tokens[j].type ] ) {
						break;
					}
				}
				return setMatcher(
					i > 1 && elementMatcher( matchers ),
					i > 1 && toSelector(
						// If the preceding token was a descendant combinator, insert an implicit any-element `*`
						tokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === " " ? "*" : "" })
					).replace( rtrim, "$1" ),
					matcher,
					i < j && matcherFromTokens( tokens.slice( i, j ) ),
					j < len && matcherFromTokens( (tokens = tokens.slice( j )) ),
					j < len && toSelector( tokens )
				);
			}
			matchers.push( matcher );
		}
	}

	return elementMatcher( matchers );
}

function matcherFromGroupMatchers( elementMatchers, setMatchers ) {
	var bySet = setMatchers.length > 0,
		byElement = elementMatchers.length > 0,
		superMatcher = function( seed, context, xml, results, outermost ) {
			var elem, j, matcher,
				matchedCount = 0,
				i = "0",
				unmatched = seed && [],
				setMatched = [],
				contextBackup = outermostContext,
				// We must always have either seed elements or outermost context
				elems = seed || byElement && Expr.find["TAG"]( "*", outermost ),
				// Use integer dirruns iff this is the outermost matcher
				dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),
				len = elems.length;

			if ( outermost ) {
				outermostContext = context === document || context || outermost;
			}

			// Add elements passing elementMatchers directly to results
			// Support: IE<9, Safari
			// Tolerate NodeList properties (IE: "length"; Safari: <number>) matching elements by id
			for ( ; i !== len && (elem = elems[i]) != null; i++ ) {
				if ( byElement && elem ) {
					j = 0;
					if ( !context && elem.ownerDocument !== document ) {
						setDocument( elem );
						xml = !documentIsHTML;
					}
					while ( (matcher = elementMatchers[j++]) ) {
						if ( matcher( elem, context || document, xml) ) {
							results.push( elem );
							break;
						}
					}
					if ( outermost ) {
						dirruns = dirrunsUnique;
					}
				}

				// Track unmatched elements for set filters
				if ( bySet ) {
					// They will have gone through all possible matchers
					if ( (elem = !matcher && elem) ) {
						matchedCount--;
					}

					// Lengthen the array for every element, matched or not
					if ( seed ) {
						unmatched.push( elem );
					}
				}
			}

			// `i` is now the count of elements visited above, and adding it to `matchedCount`
			// makes the latter nonnegative.
			matchedCount += i;

			// Apply set filters to unmatched elements
			// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`
			// equals `i`), unless we didn't visit _any_ elements in the above loop because we have
			// no element matchers and no seed.
			// Incrementing an initially-string "0" `i` allows `i` to remain a string only in that
			// case, which will result in a "00" `matchedCount` that differs from `i` but is also
			// numerically zero.
			if ( bySet && i !== matchedCount ) {
				j = 0;
				while ( (matcher = setMatchers[j++]) ) {
					matcher( unmatched, setMatched, context, xml );
				}

				if ( seed ) {
					// Reintegrate element matches to eliminate the need for sorting
					if ( matchedCount > 0 ) {
						while ( i-- ) {
							if ( !(unmatched[i] || setMatched[i]) ) {
								setMatched[i] = pop.call( results );
							}
						}
					}

					// Discard index placeholder values to get only actual matches
					setMatched = condense( setMatched );
				}

				// Add matches to results
				push.apply( results, setMatched );

				// Seedless set matches succeeding multiple successful matchers stipulate sorting
				if ( outermost && !seed && setMatched.length > 0 &&
					( matchedCount + setMatchers.length ) > 1 ) {

					Sizzle.uniqueSort( results );
				}
			}

			// Override manipulation of globals by nested matchers
			if ( outermost ) {
				dirruns = dirrunsUnique;
				outermostContext = contextBackup;
			}

			return unmatched;
		};

	return bySet ?
		markFunction( superMatcher ) :
		superMatcher;
}

compile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {
	var i,
		setMatchers = [],
		elementMatchers = [],
		cached = compilerCache[ selector + " " ];

	if ( !cached ) {
		// Generate a function of recursive functions that can be used to check each element
		if ( !match ) {
			match = tokenize( selector );
		}
		i = match.length;
		while ( i-- ) {
			cached = matcherFromTokens( match[i] );
			if ( cached[ expando ] ) {
				setMatchers.push( cached );
			} else {
				elementMatchers.push( cached );
			}
		}

		// Cache the compiled function
		cached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );

		// Save selector and tokenization
		cached.selector = selector;
	}
	return cached;
};

/**
 * A low-level selection function that works with Sizzle's compiled
 *  selector functions
 * @param {String|Function} selector A selector or a pre-compiled
 *  selector function built with Sizzle.compile
 * @param {Element} context
 * @param {Array} [results]
 * @param {Array} [seed] A set of elements to match against
 */
select = Sizzle.select = function( selector, context, results, seed ) {
	var i, tokens, token, type, find,
		compiled = typeof selector === "function" && selector,
		match = !seed && tokenize( (selector = compiled.selector || selector) );

	results = results || [];

	// Try to minimize operations if there is only one selector in the list and no seed
	// (the latter of which guarantees us context)
	if ( match.length === 1 ) {

		// Reduce context if the leading compound selector is an ID
		tokens = match[0] = match[0].slice( 0 );
		if ( tokens.length > 2 && (token = tokens[0]).type === "ID" &&
				support.getById && context.nodeType === 9 && documentIsHTML &&
				Expr.relative[ tokens[1].type ] ) {

			context = ( Expr.find["ID"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];
			if ( !context ) {
				return results;

			// Precompiled matchers will still verify ancestry, so step up a level
			} else if ( compiled ) {
				context = context.parentNode;
			}

			selector = selector.slice( tokens.shift().value.length );
		}

		// Fetch a seed set for right-to-left matching
		i = matchExpr["needsContext"].test( selector ) ? 0 : tokens.length;
		while ( i-- ) {
			token = tokens[i];

			// Abort if we hit a combinator
			if ( Expr.relative[ (type = token.type) ] ) {
				break;
			}
			if ( (find = Expr.find[ type ]) ) {
				// Search, expanding context for leading sibling combinators
				if ( (seed = find(
					token.matches[0].replace( runescape, funescape ),
					rsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context
				)) ) {

					// If seed is empty or no tokens remain, we can return early
					tokens.splice( i, 1 );
					selector = seed.length && toSelector( tokens );
					if ( !selector ) {
						push.apply( results, seed );
						return results;
					}

					break;
				}
			}
		}
	}

	// Compile and execute a filtering function if one is not provided
	// Provide `match` to avoid retokenization if we modified the selector above
	( compiled || compile( selector, match ) )(
		seed,
		context,
		!documentIsHTML,
		results,
		!context || rsibling.test( selector ) && testContext( context.parentNode ) || context
	);
	return results;
};

// One-time assignments

// Sort stability
support.sortStable = expando.split("").sort( sortOrder ).join("") === expando;

// Support: Chrome 14-35+
// Always assume duplicates if they aren't passed to the comparison function
support.detectDuplicates = !!hasDuplicate;

// Initialize against the default document
setDocument();

// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)
// Detached nodes confoundingly follow *each other*
support.sortDetached = assert(function( div1 ) {
	// Should return 1, but returns 4 (following)
	return div1.compareDocumentPosition( document.createElement("div") ) & 1;
});

// Support: IE<8
// Prevent attribute/property "interpolation"
// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx
if ( !assert(function( div ) {
	div.innerHTML = "<a href='#'></a>";
	return div.firstChild.getAttribute("href") === "#" ;
}) ) {
	addHandle( "type|href|height|width", function( elem, name, isXML ) {
		if ( !isXML ) {
			return elem.getAttribute( name, name.toLowerCase() === "type" ? 1 : 2 );
		}
	});
}

// Support: IE<9
// Use defaultValue in place of getAttribute("value")
if ( !support.attributes || !assert(function( div ) {
	div.innerHTML = "<input/>";
	div.firstChild.setAttribute( "value", "" );
	return div.firstChild.getAttribute( "value" ) === "";
}) ) {
	addHandle( "value", function( elem, name, isXML ) {
		if ( !isXML && elem.nodeName.toLowerCase() === "input" ) {
			return elem.defaultValue;
		}
	});
}

// Support: IE<9
// Use getAttributeNode to fetch booleans when getAttribute lies
if ( !assert(function( div ) {
	return div.getAttribute("disabled") == null;
}) ) {
	addHandle( booleans, function( elem, name, isXML ) {
		var val;
		if ( !isXML ) {
			return elem[ name ] === true ? name.toLowerCase() :
					(val = elem.getAttributeNode( name )) && val.specified ?
					val.value :
				null;
		}
	});
}

return Sizzle;

})( window );



jQuery.find = Sizzle;
jQuery.expr = Sizzle.selectors;
jQuery.expr[ ":" ] = jQuery.expr.pseudos;
jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;
jQuery.text = Sizzle.getText;
jQuery.isXMLDoc = Sizzle.isXML;
jQuery.contains = Sizzle.contains;



var dir = function( elem, dir, until ) {
	var matched = [],
		truncate = until !== undefined;

	while ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {
		if ( elem.nodeType === 1 ) {
			if ( truncate && jQuery( elem ).is( until ) ) {
				break;
			}
			matched.push( elem );
		}
	}
	return matched;
};


var siblings = function( n, elem ) {
	var matched = [];

	for ( ; n; n = n.nextSibling ) {
		if ( n.nodeType === 1 && n !== elem ) {
			matched.push( n );
		}
	}

	return matched;
};


var rneedsContext = jQuery.expr.match.needsContext;

var rsingleTag = ( /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/ );



var risSimple = /^.[^:#\[\.,]*$/;

// Implement the identical functionality for filter and not
function winnow( elements, qualifier, not ) {
	if ( jQuery.isFunction( qualifier ) ) {
		return jQuery.grep( elements, function( elem, i ) {
			/* jshint -W018 */
			return !!qualifier.call( elem, i, elem ) !== not;
		} );

	}

	if ( qualifier.nodeType ) {
		return jQuery.grep( elements, function( elem ) {
			return ( elem === qualifier ) !== not;
		} );

	}

	if ( typeof qualifier === "string" ) {
		if ( risSimple.test( qualifier ) ) {
			return jQuery.filter( qualifier, elements, not );
		}

		qualifier = jQuery.filter( qualifier, elements );
	}

	return jQuery.grep( elements, function( elem ) {
		return ( indexOf.call( qualifier, elem ) > -1 ) !== not;
	} );
}

jQuery.filter = function( expr, elems, not ) {
	var elem = elems[ 0 ];

	if ( not ) {
		expr = ":not(" + expr + ")";
	}

	return elems.length === 1 && elem.nodeType === 1 ?
		jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [] :
		jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {
			return elem.nodeType === 1;
		} ) );
};

jQuery.fn.extend( {
	find: function( selector ) {
		var i,
			len = this.length,
			ret = [],
			self = this;

		if ( typeof selector !== "string" ) {
			return this.pushStack( jQuery( selector ).filter( function() {
				for ( i = 0; i < len; i++ ) {
					if ( jQuery.contains( self[ i ], this ) ) {
						return true;
					}
				}
			} ) );
		}

		for ( i = 0; i < len; i++ ) {
			jQuery.find( selector, self[ i ], ret );
		}

		// Needed because $( selector, context ) becomes $( context ).find( selector )
		ret = this.pushStack( len > 1 ? jQuery.unique( ret ) : ret );
		ret.selector = this.selector ? this.selector + " " + selector : selector;
		return ret;
	},
	filter: function( selector ) {
		return this.pushStack( winnow( this, selector || [], false ) );
	},
	not: function( selector ) {
		return this.pushStack( winnow( this, selector || [], true ) );
	},
	is: function( selector ) {
		return !!winnow(
			this,

			// If this is a positional/relative selector, check membership in the returned set
			// so $("p:first").is("p:last") won't return true for a doc with two "p".
			typeof selector === "string" && rneedsContext.test( selector ) ?
				jQuery( selector ) :
				selector || [],
			false
		).length;
	}
} );


// Initialize a jQuery object


// A central reference to the root jQuery(document)
var rootjQuery,

	// A simple way to check for HTML strings
	// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
	// Strict HTML recognition (#11290: must start with <)
	rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,

	init = jQuery.fn.init = function( selector, context, root ) {
		var match, elem;

		// HANDLE: $(""), $(null), $(undefined), $(false)
		if ( !selector ) {
			return this;
		}

		// Method init() accepts an alternate rootjQuery
		// so migrate can support jQuery.sub (gh-2101)
		root = root || rootjQuery;

		// Handle HTML strings
		if ( typeof selector === "string" ) {
			if ( selector[ 0 ] === "<" &&
				selector[ selector.length - 1 ] === ">" &&
				selector.length >= 3 ) {

				// Assume that strings that start and end with <> are HTML and skip the regex check
				match = [ null, selector, null ];

			} else {
				match = rquickExpr.exec( selector );
			}

			// Match html or make sure no context is specified for #id
			if ( match && ( match[ 1 ] || !context ) ) {

				// HANDLE: $(html) -> $(array)
				if ( match[ 1 ] ) {
					context = context instanceof jQuery ? context[ 0 ] : context;

					// Option to run scripts is true for back-compat
					// Intentionally let the error be thrown if parseHTML is not present
					jQuery.merge( this, jQuery.parseHTML(
						match[ 1 ],
						context && context.nodeType ? context.ownerDocument || context : document,
						true
					) );

					// HANDLE: $(html, props)
					if ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {
						for ( match in context ) {

							// Properties of context are called as methods if possible
							if ( jQuery.isFunction( this[ match ] ) ) {
								this[ match ]( context[ match ] );

							// ...and otherwise set as attributes
							} else {
								this.attr( match, context[ match ] );
							}
						}
					}

					return this;

				// HANDLE: $(#id)
				} else {
					elem = document.getElementById( match[ 2 ] );

					// Support: Blackberry 4.6
					// gEBID returns nodes no longer in the document (#6963)
					if ( elem && elem.parentNode ) {

						// Inject the element directly into the jQuery object
						this.length = 1;
						this[ 0 ] = elem;
					}

					this.context = document;
					this.selector = selector;
					return this;
				}

			// HANDLE: $(expr, $(...))
			} else if ( !context || context.jquery ) {
				return ( context || root ).find( selector );

			// HANDLE: $(expr, context)
			// (which is just equivalent to: $(context).find(expr)
			} else {
				return this.constructor( context ).find( selector );
			}

		// HANDLE: $(DOMElement)
		} else if ( selector.nodeType ) {
			this.context = this[ 0 ] = selector;
			this.length = 1;
			return this;

		// HANDLE: $(function)
		// Shortcut for document ready
		} else if ( jQuery.isFunction( selector ) ) {
			return root.ready !== undefined ?
				root.ready( selector ) :

				// Execute immediately if ready is not present
				selector( jQuery );
		}

		if ( selector.selector !== undefined ) {
			this.selector = selector.selector;
			this.context = selector.context;
		}

		return jQuery.makeArray( selector, this );
	};

// Give the init function the jQuery prototype for later instantiation
init.prototype = jQuery.fn;

// Initialize central reference
rootjQuery = jQuery( document );


var rparentsprev = /^(?:parents|prev(?:Until|All))/,

	// Methods guaranteed to produce a unique set when starting from a unique set
	guaranteedUnique = {
		children: true,
		contents: true,
		next: true,
		prev: true
	};

jQuery.fn.extend( {
	has: function( target ) {
		var targets = jQuery( target, this ),
			l = targets.length;

		return this.filter( function() {
			var i = 0;
			for ( ; i < l; i++ ) {
				if ( jQuery.contains( this, targets[ i ] ) ) {
					return true;
				}
			}
		} );
	},

	closest: function( selectors, context ) {
		var cur,
			i = 0,
			l = this.length,
			matched = [],
			pos = rneedsContext.test( selectors ) || typeof selectors !== "string" ?
				jQuery( selectors, context || this.context ) :
				0;

		for ( ; i < l; i++ ) {
			for ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {

				// Always skip document fragments
				if ( cur.nodeType < 11 && ( pos ?
					pos.index( cur ) > -1 :

					// Don't pass non-elements to Sizzle
					cur.nodeType === 1 &&
						jQuery.find.matchesSelector( cur, selectors ) ) ) {

					matched.push( cur );
					break;
				}
			}
		}

		return this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );
	},

	// Determine the position of an element within the set
	index: function( elem ) {

		// No argument, return index in parent
		if ( !elem ) {
			return ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;
		}

		// Index in selector
		if ( typeof elem === "string" ) {
			return indexOf.call( jQuery( elem ), this[ 0 ] );
		}

		// Locate the position of the desired element
		return indexOf.call( this,

			// If it receives a jQuery object, the first element is used
			elem.jquery ? elem[ 0 ] : elem
		);
	},

	add: function( selector, context ) {
		return this.pushStack(
			jQuery.uniqueSort(
				jQuery.merge( this.get(), jQuery( selector, context ) )
			)
		);
	},

	addBack: function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	}
} );

function sibling( cur, dir ) {
	while ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}
	return cur;
}

jQuery.each( {
	parent: function( elem ) {
		var parent = elem.parentNode;
		return parent && parent.nodeType !== 11 ? parent : null;
	},
	parents: function( elem ) {
		return dir( elem, "parentNode" );
	},
	parentsUntil: function( elem, i, until ) {
		return dir( elem, "parentNode", until );
	},
	next: function( elem ) {
		return sibling( elem, "nextSibling" );
	},
	prev: function( elem ) {
		return sibling( elem, "previousSibling" );
	},
	nextAll: function( elem ) {
		return dir( elem, "nextSibling" );
	},
	prevAll: function( elem ) {
		return dir( elem, "previousSibling" );
	},
	nextUntil: function( elem, i, until ) {
		return dir( elem, "nextSibling", until );
	},
	prevUntil: function( elem, i, until ) {
		return dir( elem, "previousSibling", until );
	},
	siblings: function( elem ) {
		return siblings( ( elem.parentNode || {} ).firstChild, elem );
	},
	children: function( elem ) {
		return siblings( elem.firstChild );
	},
	contents: function( elem ) {
		return elem.contentDocument || jQuery.merge( [], elem.childNodes );
	}
}, function( name, fn ) {
	jQuery.fn[ name ] = function( until, selector ) {
		var matched = jQuery.map( this, fn, until );

		if ( name.slice( -5 ) !== "Until" ) {
			selector = until;
		}

		if ( selector && typeof selector === "string" ) {
			matched = jQuery.filter( selector, matched );
		}

		if ( this.length > 1 ) {

			// Remove duplicates
			if ( !guaranteedUnique[ name ] ) {
				jQuery.uniqueSort( matched );
			}

			// Reverse order for parents* and prev-derivatives
			if ( rparentsprev.test( name ) ) {
				matched.reverse();
			}
		}

		return this.pushStack( matched );
	};
} );
var rnotwhite = ( /\S+/g );



// Convert String-formatted options into Object-formatted ones
function createOptions( options ) {
	var object = {};
	jQuery.each( options.match( rnotwhite ) || [], function( _, flag ) {
		object[ flag ] = true;
	} );
	return object;
}

/*
 * Create a callback list using the following parameters:
 *
 *	options: an optional list of space-separated options that will change how
 *			the callback list behaves or a more traditional option object
 *
 * By default a callback list will act like an event callback list and can be
 * "fired" multiple times.
 *
 * Possible options:
 *
 *	once:			will ensure the callback list can only be fired once (like a Deferred)
 *
 *	memory:			will keep track of previous values and will call any callback added
 *					after the list has been fired right away with the latest "memorized"
 *					values (like a Deferred)
 *
 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
 *
 *	stopOnFalse:	interrupt callings when a callback returns false
 *
 */
jQuery.Callbacks = function( options ) {

	// Convert options from String-formatted to Object-formatted if needed
	// (we check in cache first)
	options = typeof options === "string" ?
		createOptions( options ) :
		jQuery.extend( {}, options );

	var // Flag to know if list is currently firing
		firing,

		// Last fire value for non-forgettable lists
		memory,

		// Flag to know if list was already fired
		fired,

		// Flag to prevent firing
		locked,

		// Actual callback list
		list = [],

		// Queue of execution data for repeatable lists
		queue = [],

		// Index of currently firing callback (modified by add/remove as needed)
		firingIndex = -1,

		// Fire callbacks
		fire = function() {

			// Enforce single-firing
			locked = options.once;

			// Execute callbacks for all pending executions,
			// respecting firingIndex overrides and runtime changes
			fired = firing = true;
			for ( ; queue.length; firingIndex = -1 ) {
				memory = queue.shift();
				while ( ++firingIndex < list.length ) {

					// Run callback and check for early termination
					if ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&
						options.stopOnFalse ) {

						// Jump to end and forget the data so .add doesn't re-fire
						firingIndex = list.length;
						memory = false;
					}
				}
			}

			// Forget the data if we're done with it
			if ( !options.memory ) {
				memory = false;
			}

			firing = false;

			// Clean up if we're done firing for good
			if ( locked ) {

				// Keep an empty list if we have data for future add calls
				if ( memory ) {
					list = [];

				// Otherwise, this object is spent
				} else {
					list = "";
				}
			}
		},

		// Actual Callbacks object
		self = {

			// Add a callback or a collection of callbacks to the list
			add: function() {
				if ( list ) {

					// If we have memory from a past run, we should fire after adding
					if ( memory && !firing ) {
						firingIndex = list.length - 1;
						queue.push( memory );
					}

					( function add( args ) {
						jQuery.each( args, function( _, arg ) {
							if ( jQuery.isFunction( arg ) ) {
								if ( !options.unique || !self.has( arg ) ) {
									list.push( arg );
								}
							} else if ( arg && arg.length && jQuery.type( arg ) !== "string" ) {

								// Inspect recursively
								add( arg );
							}
						} );
					} )( arguments );

					if ( memory && !firing ) {
						fire();
					}
				}
				return this;
			},

			// Remove a callback from the list
			remove: function() {
				jQuery.each( arguments, function( _, arg ) {
					var index;
					while ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {
						list.splice( index, 1 );

						// Handle firing indexes
						if ( index <= firingIndex ) {
							firingIndex--;
						}
					}
				} );
				return this;
			},

			// Check if a given callback is in the list.
			// If no argument is given, return whether or not list has callbacks attached.
			has: function( fn ) {
				return fn ?
					jQuery.inArray( fn, list ) > -1 :
					list.length > 0;
			},

			// Remove all callbacks from the list
			empty: function() {
				if ( list ) {
					list = [];
				}
				return this;
			},

			// Disable .fire and .add
			// Abort any current/pending executions
			// Clear all callbacks and values
			disable: function() {
				locked = queue = [];
				list = memory = "";
				return this;
			},
			disabled: function() {
				return !list;
			},

			// Disable .fire
			// Also disable .add unless we have memory (since it would have no effect)
			// Abort any pending executions
			lock: function() {
				locked = queue = [];
				if ( !memory ) {
					list = memory = "";
				}
				return this;
			},
			locked: function() {
				return !!locked;
			},

			// Call all callbacks with the given context and arguments
			fireWith: function( context, args ) {
				if ( !locked ) {
					args = args || [];
					args = [ context, args.slice ? args.slice() : args ];
					queue.push( args );
					if ( !firing ) {
						fire();
					}
				}
				return this;
			},

			// Call all the callbacks with the given arguments
			fire: function() {
				self.fireWith( this, arguments );
				return this;
			},

			// To know if the callbacks have already been called at least once
			fired: function() {
				return !!fired;
			}
		};

	return self;
};


jQuery.extend( {

	Deferred: function( func ) {
		var tuples = [

				// action, add listener, listener list, final state
				[ "resolve", "done", jQuery.Callbacks( "once memory" ), "resolved" ],
				[ "reject", "fail", jQuery.Callbacks( "once memory" ), "rejected" ],
				[ "notify", "progress", jQuery.Callbacks( "memory" ) ]
			],
			state = "pending",
			promise = {
				state: function() {
					return state;
				},
				always: function() {
					deferred.done( arguments ).fail( arguments );
					return this;
				},
				then: function( /* fnDone, fnFail, fnProgress */ ) {
					var fns = arguments;
					return jQuery.Deferred( function( newDefer ) {
						jQuery.each( tuples, function( i, tuple ) {
							var fn = jQuery.isFunction( fns[ i ] ) && fns[ i ];

							// deferred[ done | fail | progress ] for forwarding actions to newDefer
							deferred[ tuple[ 1 ] ]( function() {
								var returned = fn && fn.apply( this, arguments );
								if ( returned && jQuery.isFunction( returned.promise ) ) {
									returned.promise()
										.progress( newDefer.notify )
										.done( newDefer.resolve )
										.fail( newDefer.reject );
								} else {
									newDefer[ tuple[ 0 ] + "With" ](
										this === promise ? newDefer.promise() : this,
										fn ? [ returned ] : arguments
									);
								}
							} );
						} );
						fns = null;
					} ).promise();
				},

				// Get a promise for this deferred
				// If obj is provided, the promise aspect is added to the object
				promise: function( obj ) {
					return obj != null ? jQuery.extend( obj, promise ) : promise;
				}
			},
			deferred = {};

		// Keep pipe for back-compat
		promise.pipe = promise.then;

		// Add list-specific methods
		jQuery.each( tuples, function( i, tuple ) {
			var list = tuple[ 2 ],
				stateString = tuple[ 3 ];

			// promise[ done | fail | progress ] = list.add
			promise[ tuple[ 1 ] ] = list.add;

			// Handle state
			if ( stateString ) {
				list.add( function() {

					// state = [ resolved | rejected ]
					state = stateString;

				// [ reject_list | resolve_list ].disable; progress_list.lock
				}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );
			}

			// deferred[ resolve | reject | notify ]
			deferred[ tuple[ 0 ] ] = function() {
				deferred[ tuple[ 0 ] + "With" ]( this === deferred ? promise : this, arguments );
				return this;
			};
			deferred[ tuple[ 0 ] + "With" ] = list.fireWith;
		} );

		// Make the deferred a promise
		promise.promise( deferred );

		// Call given func if any
		if ( func ) {
			func.call( deferred, deferred );
		}

		// All done!
		return deferred;
	},

	// Deferred helper
	when: function( subordinate /* , ..., subordinateN */ ) {
		var i = 0,
			resolveValues = slice.call( arguments ),
			length = resolveValues.length,

			// the count of uncompleted subordinates
			remaining = length !== 1 ||
				( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,

			// the master Deferred.
			// If resolveValues consist of only a single Deferred, just use that.
			deferred = remaining === 1 ? subordinate : jQuery.Deferred(),

			// Update function for both resolve and progress values
			updateFunc = function( i, contexts, values ) {
				return function( value ) {
					contexts[ i ] = this;
					values[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;
					if ( values === progressValues ) {
						deferred.notifyWith( contexts, values );
					} else if ( !( --remaining ) ) {
						deferred.resolveWith( contexts, values );
					}
				};
			},

			progressValues, progressContexts, resolveContexts;

		// Add listeners to Deferred subordinates; treat others as resolved
		if ( length > 1 ) {
			progressValues = new Array( length );
			progressContexts = new Array( length );
			resolveContexts = new Array( length );
			for ( ; i < length; i++ ) {
				if ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {
					resolveValues[ i ].promise()
						.progress( updateFunc( i, progressContexts, progressValues ) )
						.done( updateFunc( i, resolveContexts, resolveValues ) )
						.fail( deferred.reject );
				} else {
					--remaining;
				}
			}
		}

		// If we're not waiting on anything, resolve the master
		if ( !remaining ) {
			deferred.resolveWith( resolveContexts, resolveValues );
		}

		return deferred.promise();
	}
} );


// The deferred used on DOM ready
var readyList;

jQuery.fn.ready = function( fn ) {

	// Add the callback
	jQuery.ready.promise().done( fn );

	return this;
};

jQuery.extend( {

	// Is the DOM ready to be used? Set to true once it occurs.
	isReady: false,

	// A counter to track how many items to wait for before
	// the ready event fires. See #6781
	readyWait: 1,

	// Hold (or release) the ready event
	holdReady: function( hold ) {
		if ( hold ) {
			jQuery.readyWait++;
		} else {
			jQuery.ready( true );
		}
	},

	// Handle when the DOM is ready
	ready: function( wait ) {

		// Abort if there are pending holds or we're already ready
		if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {
			return;
		}

		// Remember that the DOM is ready
		jQuery.isReady = true;

		// If a normal DOM Ready event fired, decrement, and wait if need be
		if ( wait !== true && --jQuery.readyWait > 0 ) {
			return;
		}

		// If there are functions bound, to execute
		readyList.resolveWith( document, [ jQuery ] );

		// Trigger any bound ready events
		if ( jQuery.fn.triggerHandler ) {
			jQuery( document ).triggerHandler( "ready" );
			jQuery( document ).off( "ready" );
		}
	}
} );

/**
 * The ready event handler and self cleanup method
 */
function completed() {
	document.removeEventListener( "DOMContentLoaded", completed );
	window.removeEventListener( "load", completed );
	jQuery.ready();
}

jQuery.ready.promise = function( obj ) {
	if ( !readyList ) {

		readyList = jQuery.Deferred();

		// Catch cases where $(document).ready() is called
		// after the browser event has already occurred.
		// Support: IE9-10 only
		// Older IE sometimes signals "interactive" too soon
		if ( document.readyState === "complete" ||
			( document.readyState !== "loading" && !document.documentElement.doScroll ) ) {

			// Handle it asynchronously to allow scripts the opportunity to delay ready
			window.setTimeout( jQuery.ready );

		} else {

			// Use the handy event callback
			document.addEventListener( "DOMContentLoaded", completed );

			// A fallback to window.onload, that will always work
			window.addEventListener( "load", completed );
		}
	}
	return readyList.promise( obj );
};

// Kick off the DOM ready check even if the user does not
jQuery.ready.promise();




// Multifunctional method to get and set values of a collection
// The value/s can optionally be executed if it's a function
var access = function( elems, fn, key, value, chainable, emptyGet, raw ) {
	var i = 0,
		len = elems.length,
		bulk = key == null;

	// Sets many values
	if ( jQuery.type( key ) === "object" ) {
		chainable = true;
		for ( i in key ) {
			access( elems, fn, i, key[ i ], true, emptyGet, raw );
		}

	// Sets one value
	} else if ( value !== undefined ) {
		chainable = true;

		if ( !jQuery.isFunction( value ) ) {
			raw = true;
		}

		if ( bulk ) {

			// Bulk operations run against the entire set
			if ( raw ) {
				fn.call( elems, value );
				fn = null;

			// ...except when executing function values
			} else {
				bulk = fn;
				fn = function( elem, key, value ) {
					return bulk.call( jQuery( elem ), value );
				};
			}
		}

		if ( fn ) {
			for ( ; i < len; i++ ) {
				fn(
					elems[ i ], key, raw ?
					value :
					value.call( elems[ i ], i, fn( elems[ i ], key ) )
				);
			}
		}
	}

	return chainable ?
		elems :

		// Gets
		bulk ?
			fn.call( elems ) :
			len ? fn( elems[ 0 ], key ) : emptyGet;
};
var acceptData = function( owner ) {

	// Accepts only:
	//  - Node
	//    - Node.ELEMENT_NODE
	//    - Node.DOCUMENT_NODE
	//  - Object
	//    - Any
	/* jshint -W018 */
	return owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );
};




function Data() {
	this.expando = jQuery.expando + Data.uid++;
}

Data.uid = 1;

Data.prototype = {

	register: function( owner, initial ) {
		var value = initial || {};

		// If it is a node unlikely to be stringify-ed or looped over
		// use plain assignment
		if ( owner.nodeType ) {
			owner[ this.expando ] = value;

		// Otherwise secure it in a non-enumerable, non-writable property
		// configurability must be true to allow the property to be
		// deleted with the delete operator
		} else {
			Object.defineProperty( owner, this.expando, {
				value: value,
				writable: true,
				configurable: true
			} );
		}
		return owner[ this.expando ];
	},
	cache: function( owner ) {

		// We can accept data for non-element nodes in modern browsers,
		// but we should not, see #8335.
		// Always return an empty object.
		if ( !acceptData( owner ) ) {
			return {};
		}

		// Check if the owner object already has a cache
		var value = owner[ this.expando ];

		// If not, create one
		if ( !value ) {
			value = {};

			// We can accept data for non-element nodes in modern browsers,
			// but we should not, see #8335.
			// Always return an empty object.
			if ( acceptData( owner ) ) {

				// If it is a node unlikely to be stringify-ed or looped over
				// use plain assignment
				if ( owner.nodeType ) {
					owner[ this.expando ] = value;

				// Otherwise secure it in a non-enumerable property
				// configurable must be true to allow the property to be
				// deleted when data is removed
				} else {
					Object.defineProperty( owner, this.expando, {
						value: value,
						configurable: true
					} );
				}
			}
		}

		return value;
	},
	set: function( owner, data, value ) {
		var prop,
			cache = this.cache( owner );

		// Handle: [ owner, key, value ] args
		if ( typeof data === "string" ) {
			cache[ data ] = value;

		// Handle: [ owner, { properties } ] args
		} else {

			// Copy the properties one-by-one to the cache object
			for ( prop in data ) {
				cache[ prop ] = data[ prop ];
			}
		}
		return cache;
	},
	get: function( owner, key ) {
		return key === undefined ?
			this.cache( owner ) :
			owner[ this.expando ] && owner[ this.expando ][ key ];
	},
	access: function( owner, key, value ) {
		var stored;

		// In cases where either:
		//
		//   1. No key was specified
		//   2. A string key was specified, but no value provided
		//
		// Take the "read" path and allow the get method to determine
		// which value to return, respectively either:
		//
		//   1. The entire cache object
		//   2. The data stored at the key
		//
		if ( key === undefined ||
				( ( key && typeof key === "string" ) && value === undefined ) ) {

			stored = this.get( owner, key );

			return stored !== undefined ?
				stored : this.get( owner, jQuery.camelCase( key ) );
		}

		// When the key is not a string, or both a key and value
		// are specified, set or extend (existing objects) with either:
		//
		//   1. An object of properties
		//   2. A key and value
		//
		this.set( owner, key, value );

		// Since the "set" path can have two possible entry points
		// return the expected data based on which path was taken[*]
		return value !== undefined ? value : key;
	},
	remove: function( owner, key ) {
		var i, name, camel,
			cache = owner[ this.expando ];

		if ( cache === undefined ) {
			return;
		}

		if ( key === undefined ) {
			this.register( owner );

		} else {

			// Support array or space separated string of keys
			if ( jQuery.isArray( key ) ) {

				// If "name" is an array of keys...
				// When data is initially created, via ("key", "val") signature,
				// keys will be converted to camelCase.
				// Since there is no way to tell _how_ a key was added, remove
				// both plain key and camelCase key. #12786
				// This will only penalize the array argument path.
				name = key.concat( key.map( jQuery.camelCase ) );
			} else {
				camel = jQuery.camelCase( key );

				// Try the string as a key before any manipulation
				if ( key in cache ) {
					name = [ key, camel ];
				} else {

					// If a key with the spaces exists, use it.
					// Otherwise, create an array by matching non-whitespace
					name = camel;
					name = name in cache ?
						[ name ] : ( name.match( rnotwhite ) || [] );
				}
			}

			i = name.length;

			while ( i-- ) {
				delete cache[ name[ i ] ];
			}
		}

		// Remove the expando if there's no more data
		if ( key === undefined || jQuery.isEmptyObject( cache ) ) {

			// Support: Chrome <= 35-45+
			// Webkit & Blink performance suffers when deleting properties
			// from DOM nodes, so set to undefined instead
			// https://code.google.com/p/chromium/issues/detail?id=378607
			if ( owner.nodeType ) {
				owner[ this.expando ] = undefined;
			} else {
				delete owner[ this.expando ];
			}
		}
	},
	hasData: function( owner ) {
		var cache = owner[ this.expando ];
		return cache !== undefined && !jQuery.isEmptyObject( cache );
	}
};
var dataPriv = new Data();

var dataUser = new Data();



//	Implementation Summary
//
//	1. Enforce API surface and semantic compatibility with 1.9.x branch
//	2. Improve the module's maintainability by reducing the storage
//		paths to a single mechanism.
//	3. Use the same single mechanism to support "private" and "user" data.
//	4. _Never_ expose "private" data to user code (TODO: Drop _data, _removeData)
//	5. Avoid exposing implementation details on user objects (eg. expando properties)
//	6. Provide a clear path for implementation upgrade to WeakMap in 2014

var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
	rmultiDash = /[A-Z]/g;

function dataAttr( elem, key, data ) {
	var name;

	// If nothing was found internally, try to fetch any
	// data from the HTML5 data-* attribute
	if ( data === undefined && elem.nodeType === 1 ) {
		name = "data-" + key.replace( rmultiDash, "-$&" ).toLowerCase();
		data = elem.getAttribute( name );

		if ( typeof data === "string" ) {
			try {
				data = data === "true" ? true :
					data === "false" ? false :
					data === "null" ? null :

					// Only convert to a number if it doesn't change the string
					+data + "" === data ? +data :
					rbrace.test( data ) ? jQuery.parseJSON( data ) :
					data;
			} catch ( e ) {}

			// Make sure we set the data so it isn't changed later
			dataUser.set( elem, key, data );
		} else {
			data = undefined;
		}
	}
	return data;
}

jQuery.extend( {
	hasData: function( elem ) {
		return dataUser.hasData( elem ) || dataPriv.hasData( elem );
	},

	data: function( elem, name, data ) {
		return dataUser.access( elem, name, data );
	},

	removeData: function( elem, name ) {
		dataUser.remove( elem, name );
	},

	// TODO: Now that all calls to _data and _removeData have been replaced
	// with direct calls to dataPriv methods, these can be deprecated.
	_data: function( elem, name, data ) {
		return dataPriv.access( elem, name, data );
	},

	_removeData: function( elem, name ) {
		dataPriv.remove( elem, name );
	}
} );

jQuery.fn.extend( {
	data: function( key, value ) {
		var i, name, data,
			elem = this[ 0 ],
			attrs = elem && elem.attributes;

		// Gets all values
		if ( key === undefined ) {
			if ( this.length ) {
				data = dataUser.get( elem );

				if ( elem.nodeType === 1 && !dataPriv.get( elem, "hasDataAttrs" ) ) {
					i = attrs.length;
					while ( i-- ) {

						// Support: IE11+
						// The attrs elements can be null (#14894)
						if ( attrs[ i ] ) {
							name = attrs[ i ].name;
							if ( name.indexOf( "data-" ) === 0 ) {
								name = jQuery.camelCase( name.slice( 5 ) );
								dataAttr( elem, name, data[ name ] );
							}
						}
					}
					dataPriv.set( elem, "hasDataAttrs", true );
				}
			}

			return data;
		}

		// Sets multiple values
		if ( typeof key === "object" ) {
			return this.each( function() {
				dataUser.set( this, key );
			} );
		}

		return access( this, function( value ) {
			var data, camelKey;

			// The calling jQuery object (element matches) is not empty
			// (and therefore has an element appears at this[ 0 ]) and the
			// `value` parameter was not undefined. An empty jQuery object
			// will result in `undefined` for elem = this[ 0 ] which will
			// throw an exception if an attempt to read a data cache is made.
			if ( elem && value === undefined ) {

				// Attempt to get data from the cache
				// with the key as-is
				data = dataUser.get( elem, key ) ||

					// Try to find dashed key if it exists (gh-2779)
					// This is for 2.2.x only
					dataUser.get( elem, key.replace( rmultiDash, "-$&" ).toLowerCase() );

				if ( data !== undefined ) {
					return data;
				}

				camelKey = jQuery.camelCase( key );

				// Attempt to get data from the cache
				// with the key camelized
				data = dataUser.get( elem, camelKey );
				if ( data !== undefined ) {
					return data;
				}

				// Attempt to "discover" the data in
				// HTML5 custom data-* attrs
				data = dataAttr( elem, camelKey, undefined );
				if ( data !== undefined ) {
					return data;
				}

				// We tried really hard, but the data doesn't exist.
				return;
			}

			// Set the data...
			camelKey = jQuery.camelCase( key );
			this.each( function() {

				// First, attempt to store a copy or reference of any
				// data that might've been store with a camelCased key.
				var data = dataUser.get( this, camelKey );

				// For HTML5 data-* attribute interop, we have to
				// store property names with dashes in a camelCase form.
				// This might not apply to all properties...*
				dataUser.set( this, camelKey, value );

				// *... In the case of properties that might _actually_
				// have dashes, we need to also store a copy of that
				// unchanged property.
				if ( key.indexOf( "-" ) > -1 && data !== undefined ) {
					dataUser.set( this, key, value );
				}
			} );
		}, null, value, arguments.length > 1, null, true );
	},

	removeData: function( key ) {
		return this.each( function() {
			dataUser.remove( this, key );
		} );
	}
} );


jQuery.extend( {
	queue: function( elem, type, data ) {
		var queue;

		if ( elem ) {
			type = ( type || "fx" ) + "queue";
			queue = dataPriv.get( elem, type );

			// Speed up dequeue by getting out quickly if this is just a lookup
			if ( data ) {
				if ( !queue || jQuery.isArray( data ) ) {
					queue = dataPriv.access( elem, type, jQuery.makeArray( data ) );
				} else {
					queue.push( data );
				}
			}
			return queue || [];
		}
	},

	dequeue: function( elem, type ) {
		type = type || "fx";

		var queue = jQuery.queue( elem, type ),
			startLength = queue.length,
			fn = queue.shift(),
			hooks = jQuery._queueHooks( elem, type ),
			next = function() {
				jQuery.dequeue( elem, type );
			};

		// If the fx queue is dequeued, always remove the progress sentinel
		if ( fn === "inprogress" ) {
			fn = queue.shift();
			startLength--;
		}

		if ( fn ) {

			// Add a progress sentinel to prevent the fx queue from being
			// automatically dequeued
			if ( type === "fx" ) {
				queue.unshift( "inprogress" );
			}

			// Clear up the last queue stop function
			delete hooks.stop;
			fn.call( elem, next, hooks );
		}

		if ( !startLength && hooks ) {
			hooks.empty.fire();
		}
	},

	// Not public - generate a queueHooks object, or return the current one
	_queueHooks: function( elem, type ) {
		var key = type + "queueHooks";
		return dataPriv.get( elem, key ) || dataPriv.access( elem, key, {
			empty: jQuery.Callbacks( "once memory" ).add( function() {
				dataPriv.remove( elem, [ type + "queue", key ] );
			} )
		} );
	}
} );

jQuery.fn.extend( {
	queue: function( type, data ) {
		var setter = 2;

		if ( typeof type !== "string" ) {
			data = type;
			type = "fx";
			setter--;
		}

		if ( arguments.length < setter ) {
			return jQuery.queue( this[ 0 ], type );
		}

		return data === undefined ?
			this :
			this.each( function() {
				var queue = jQuery.queue( this, type, data );

				// Ensure a hooks for this queue
				jQuery._queueHooks( this, type );

				if ( type === "fx" && queue[ 0 ] !== "inprogress" ) {
					jQuery.dequeue( this, type );
				}
			} );
	},
	dequeue: function( type ) {
		return this.each( function() {
			jQuery.dequeue( this, type );
		} );
	},
	clearQueue: function( type ) {
		return this.queue( type || "fx", [] );
	},

	// Get a promise resolved when queues of a certain type
	// are emptied (fx is the type by default)
	promise: function( type, obj ) {
		var tmp,
			count = 1,
			defer = jQuery.Deferred(),
			elements = this,
			i = this.length,
			resolve = function() {
				if ( !( --count ) ) {
					defer.resolveWith( elements, [ elements ] );
				}
			};

		if ( typeof type !== "string" ) {
			obj = type;
			type = undefined;
		}
		type = type || "fx";

		while ( i-- ) {
			tmp = dataPriv.get( elements[ i ], type + "queueHooks" );
			if ( tmp && tmp.empty ) {
				count++;
				tmp.empty.add( resolve );
			}
		}
		resolve();
		return defer.promise( obj );
	}
} );
var pnum = ( /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/ ).source;

var rcssNum = new RegExp( "^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i" );


var cssExpand = [ "Top", "Right", "Bottom", "Left" ];

var isHidden = function( elem, el ) {

		// isHidden might be called from jQuery#filter function;
		// in that case, element will be second argument
		elem = el || elem;
		return jQuery.css( elem, "display" ) === "none" ||
			!jQuery.contains( elem.ownerDocument, elem );
	};



function adjustCSS( elem, prop, valueParts, tween ) {
	var adjusted,
		scale = 1,
		maxIterations = 20,
		currentValue = tween ?
			function() { return tween.cur(); } :
			function() { return jQuery.css( elem, prop, "" ); },
		initial = currentValue(),
		unit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? "" : "px" ),

		// Starting value computation is required for potential unit mismatches
		initialInUnit = ( jQuery.cssNumber[ prop ] || unit !== "px" && +initial ) &&
			rcssNum.exec( jQuery.css( elem, prop ) );

	if ( initialInUnit && initialInUnit[ 3 ] !== unit ) {

		// Trust units reported by jQuery.css
		unit = unit || initialInUnit[ 3 ];

		// Make sure we update the tween properties later on
		valueParts = valueParts || [];

		// Iteratively approximate from a nonzero starting point
		initialInUnit = +initial || 1;

		do {

			// If previous iteration zeroed out, double until we get *something*.
			// Use string for doubling so we don't accidentally see scale as unchanged below
			scale = scale || ".5";

			// Adjust and apply
			initialInUnit = initialInUnit / scale;
			jQuery.style( elem, prop, initialInUnit + unit );

		// Update scale, tolerating zero or NaN from tween.cur()
		// Break the loop if scale is unchanged or perfect, or if we've just had enough.
		} while (
			scale !== ( scale = currentValue() / initial ) && scale !== 1 && --maxIterations
		);
	}

	if ( valueParts ) {
		initialInUnit = +initialInUnit || +initial || 0;

		// Apply relative offset (+=/-=) if specified
		adjusted = valueParts[ 1 ] ?
			initialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :
			+valueParts[ 2 ];
		if ( tween ) {
			tween.unit = unit;
			tween.start = initialInUnit;
			tween.end = adjusted;
		}
	}
	return adjusted;
}
var rcheckableType = ( /^(?:checkbox|radio)$/i );

var rtagName = ( /<([\w:-]+)/ );

var rscriptType = ( /^$|\/(?:java|ecma)script/i );



// We have to close these tags to support XHTML (#13200)
var wrapMap = {

	// Support: IE9
	option: [ 1, "<select multiple='multiple'>", "</select>" ],

	// XHTML parsers do not magically insert elements in the
	// same way that tag soup parsers do. So we cannot shorten
	// this by omitting <tbody> or other required elements.
	thead: [ 1, "<table>", "</table>" ],
	col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
	tr: [ 2, "<table><tbody>", "</tbody></table>" ],
	td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],

	_default: [ 0, "", "" ]
};

// Support: IE9
wrapMap.optgroup = wrapMap.option;

wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
wrapMap.th = wrapMap.td;


function getAll( context, tag ) {

	// Support: IE9-11+
	// Use typeof to avoid zero-argument method invocation on host objects (#15151)
	var ret = typeof context.getElementsByTagName !== "undefined" ?
			context.getElementsByTagName( tag || "*" ) :
			typeof context.querySelectorAll !== "undefined" ?
				context.querySelectorAll( tag || "*" ) :
			[];

	return tag === undefined || tag && jQuery.nodeName( context, tag ) ?
		jQuery.merge( [ context ], ret ) :
		ret;
}


// Mark scripts as having already been evaluated
function setGlobalEval( elems, refElements ) {
	var i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		dataPriv.set(
			elems[ i ],
			"globalEval",
			!refElements || dataPriv.get( refElements[ i ], "globalEval" )
		);
	}
}


var rhtml = /<|&#?\w+;/;

function buildFragment( elems, context, scripts, selection, ignored ) {
	var elem, tmp, tag, wrap, contains, j,
		fragment = context.createDocumentFragment(),
		nodes = [],
		i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		elem = elems[ i ];

		if ( elem || elem === 0 ) {

			// Add nodes directly
			if ( jQuery.type( elem ) === "object" ) {

				// Support: Android<4.1, PhantomJS<2
				// push.apply(_, arraylike) throws on ancient WebKit
				jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );

			// Convert non-html into a text node
			} else if ( !rhtml.test( elem ) ) {
				nodes.push( context.createTextNode( elem ) );

			// Convert html into DOM nodes
			} else {
				tmp = tmp || fragment.appendChild( context.createElement( "div" ) );

				// Deserialize a standard representation
				tag = ( rtagName.exec( elem ) || [ "", "" ] )[ 1 ].toLowerCase();
				wrap = wrapMap[ tag ] || wrapMap._default;
				tmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];

				// Descend through wrappers to the right content
				j = wrap[ 0 ];
				while ( j-- ) {
					tmp = tmp.lastChild;
				}

				// Support: Android<4.1, PhantomJS<2
				// push.apply(_, arraylike) throws on ancient WebKit
				jQuery.merge( nodes, tmp.childNodes );

				// Remember the top-level container
				tmp = fragment.firstChild;

				// Ensure the created nodes are orphaned (#12392)
				tmp.textContent = "";
			}
		}
	}

	// Remove wrapper from fragment
	fragment.textContent = "";

	i = 0;
	while ( ( elem = nodes[ i++ ] ) ) {

		// Skip elements already in the context collection (trac-4087)
		if ( selection && jQuery.inArray( elem, selection ) > -1 ) {
			if ( ignored ) {
				ignored.push( elem );
			}
			continue;
		}

		contains = jQuery.contains( elem.ownerDocument, elem );

		// Append to fragment
		tmp = getAll( fragment.appendChild( elem ), "script" );

		// Preserve script evaluation history
		if ( contains ) {
			setGlobalEval( tmp );
		}

		// Capture executables
		if ( scripts ) {
			j = 0;
			while ( ( elem = tmp[ j++ ] ) ) {
				if ( rscriptType.test( elem.type || "" ) ) {
					scripts.push( elem );
				}
			}
		}
	}

	return fragment;
}


( function() {
	var fragment = document.createDocumentFragment(),
		div = fragment.appendChild( document.createElement( "div" ) ),
		input = document.createElement( "input" );

	// Support: Android 4.0-4.3, Safari<=5.1
	// Check state lost if the name is set (#11217)
	// Support: Windows Web Apps (WWA)
	// `name` and `type` must use .setAttribute for WWA (#14901)
	input.setAttribute( "type", "radio" );
	input.setAttribute( "checked", "checked" );
	input.setAttribute( "name", "t" );

	div.appendChild( input );

	// Support: Safari<=5.1, Android<4.2
	// Older WebKit doesn't clone checked state correctly in fragments
	support.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;

	// Support: IE<=11+
	// Make sure textarea (and checkbox) defaultValue is properly cloned
	div.innerHTML = "<textarea>x</textarea>";
	support.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;
} )();


var
	rkeyEvent = /^key/,
	rmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
	rtypenamespace = /^([^.]*)(?:\.(.+)|)/;

function returnTrue() {
	return true;
}

function returnFalse() {
	return false;
}

// Support: IE9
// See #13393 for more info
function safeActiveElement() {
	try {
		return document.activeElement;
	} catch ( err ) { }
}

function on( elem, types, selector, data, fn, one ) {
	var origFn, type;

	// Types can be a map of types/handlers
	if ( typeof types === "object" ) {

		// ( types-Object, selector, data )
		if ( typeof selector !== "string" ) {

			// ( types-Object, data )
			data = data || selector;
			selector = undefined;
		}
		for ( type in types ) {
			on( elem, type, selector, data, types[ type ], one );
		}
		return elem;
	}

	if ( data == null && fn == null ) {

		// ( types, fn )
		fn = selector;
		data = selector = undefined;
	} else if ( fn == null ) {
		if ( typeof selector === "string" ) {

			// ( types, selector, fn )
			fn = data;
			data = undefined;
		} else {

			// ( types, data, fn )
			fn = data;
			data = selector;
			selector = undefined;
		}
	}
	if ( fn === false ) {
		fn = returnFalse;
	} else if ( !fn ) {
		return elem;
	}

	if ( one === 1 ) {
		origFn = fn;
		fn = function( event ) {

			// Can use an empty set, since event contains the info
			jQuery().off( event );
			return origFn.apply( this, arguments );
		};

		// Use same guid so caller can remove using origFn
		fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
	}
	return elem.each( function() {
		jQuery.event.add( this, types, fn, data, selector );
	} );
}

/*
 * Helper functions for managing events -- not part of the public interface.
 * Props to Dean Edwards' addEvent library for many of the ideas.
 */
jQuery.event = {

	global: {},

	add: function( elem, types, handler, data, selector ) {

		var handleObjIn, eventHandle, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.get( elem );

		// Don't attach events to noData or text/comment nodes (but allow plain objects)
		if ( !elemData ) {
			return;
		}

		// Caller can pass in an object of custom data in lieu of the handler
		if ( handler.handler ) {
			handleObjIn = handler;
			handler = handleObjIn.handler;
			selector = handleObjIn.selector;
		}

		// Make sure that the handler has a unique ID, used to find/remove it later
		if ( !handler.guid ) {
			handler.guid = jQuery.guid++;
		}

		// Init the element's event structure and main handler, if this is the first
		if ( !( events = elemData.events ) ) {
			events = elemData.events = {};
		}
		if ( !( eventHandle = elemData.handle ) ) {
			eventHandle = elemData.handle = function( e ) {

				// Discard the second event of a jQuery.event.trigger() and
				// when an event is called after a page has unloaded
				return typeof jQuery !== "undefined" && jQuery.event.triggered !== e.type ?
					jQuery.event.dispatch.apply( elem, arguments ) : undefined;
			};
		}

		// Handle multiple events separated by a space
		types = ( types || "" ).match( rnotwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// There *must* be a type, no attaching namespace-only handlers
			if ( !type ) {
				continue;
			}

			// If event changes its type, use the special event handlers for the changed type
			special = jQuery.event.special[ type ] || {};

			// If selector defined, determine special event api type, otherwise given type
			type = ( selector ? special.delegateType : special.bindType ) || type;

			// Update special based on newly reset type
			special = jQuery.event.special[ type ] || {};

			// handleObj is passed to all event handlers
			handleObj = jQuery.extend( {
				type: type,
				origType: origType,
				data: data,
				handler: handler,
				guid: handler.guid,
				selector: selector,
				needsContext: selector && jQuery.expr.match.needsContext.test( selector ),
				namespace: namespaces.join( "." )
			}, handleObjIn );

			// Init the event handler queue if we're the first
			if ( !( handlers = events[ type ] ) ) {
				handlers = events[ type ] = [];
				handlers.delegateCount = 0;

				// Only use addEventListener if the special events handler returns false
				if ( !special.setup ||
					special.setup.call( elem, data, namespaces, eventHandle ) === false ) {

					if ( elem.addEventListener ) {
						elem.addEventListener( type, eventHandle );
					}
				}
			}

			if ( special.add ) {
				special.add.call( elem, handleObj );

				if ( !handleObj.handler.guid ) {
					handleObj.handler.guid = handler.guid;
				}
			}

			// Add to the element's handler list, delegates in front
			if ( selector ) {
				handlers.splice( handlers.delegateCount++, 0, handleObj );
			} else {
				handlers.push( handleObj );
			}

			// Keep track of which events have ever been used, for event optimization
			jQuery.event.global[ type ] = true;
		}

	},

	// Detach an event or set of events from an element
	remove: function( elem, types, handler, selector, mappedTypes ) {

		var j, origCount, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.hasData( elem ) && dataPriv.get( elem );

		if ( !elemData || !( events = elemData.events ) ) {
			return;
		}

		// Once for each type.namespace in types; type may be omitted
		types = ( types || "" ).match( rnotwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// Unbind all events (on this namespace, if provided) for the element
			if ( !type ) {
				for ( type in events ) {
					jQuery.event.remove( elem, type + types[ t ], handler, selector, true );
				}
				continue;
			}

			special = jQuery.event.special[ type ] || {};
			type = ( selector ? special.delegateType : special.bindType ) || type;
			handlers = events[ type ] || [];
			tmp = tmp[ 2 ] &&
				new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" );

			// Remove matching events
			origCount = j = handlers.length;
			while ( j-- ) {
				handleObj = handlers[ j ];

				if ( ( mappedTypes || origType === handleObj.origType ) &&
					( !handler || handler.guid === handleObj.guid ) &&
					( !tmp || tmp.test( handleObj.namespace ) ) &&
					( !selector || selector === handleObj.selector ||
						selector === "**" && handleObj.selector ) ) {
					handlers.splice( j, 1 );

					if ( handleObj.selector ) {
						handlers.delegateCount--;
					}
					if ( special.remove ) {
						special.remove.call( elem, handleObj );
					}
				}
			}

			// Remove generic event handler if we removed something and no more handlers exist
			// (avoids potential for endless recursion during removal of special event handlers)
			if ( origCount && !handlers.length ) {
				if ( !special.teardown ||
					special.teardown.call( elem, namespaces, elemData.handle ) === false ) {

					jQuery.removeEvent( elem, type, elemData.handle );
				}

				delete events[ type ];
			}
		}

		// Remove data and the expando if it's no longer used
		if ( jQuery.isEmptyObject( events ) ) {
			dataPriv.remove( elem, "handle events" );
		}
	},

	dispatch: function( event ) {

		// Make a writable jQuery.Event from the native event object
		event = jQuery.event.fix( event );

		var i, j, ret, matched, handleObj,
			handlerQueue = [],
			args = slice.call( arguments ),
			handlers = ( dataPriv.get( this, "events" ) || {} )[ event.type ] || [],
			special = jQuery.event.special[ event.type ] || {};

		// Use the fix-ed jQuery.Event rather than the (read-only) native event
		args[ 0 ] = event;
		event.delegateTarget = this;

		// Call the preDispatch hook for the mapped type, and let it bail if desired
		if ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {
			return;
		}

		// Determine handlers
		handlerQueue = jQuery.event.handlers.call( this, event, handlers );

		// Run delegates first; they may want to stop propagation beneath us
		i = 0;
		while ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {
			event.currentTarget = matched.elem;

			j = 0;
			while ( ( handleObj = matched.handlers[ j++ ] ) &&
				!event.isImmediatePropagationStopped() ) {

				// Triggered event must either 1) have no namespace, or 2) have namespace(s)
				// a subset or equal to those in the bound event (both can have no namespace).
				if ( !event.rnamespace || event.rnamespace.test( handleObj.namespace ) ) {

					event.handleObj = handleObj;
					event.data = handleObj.data;

					ret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||
						handleObj.handler ).apply( matched.elem, args );

					if ( ret !== undefined ) {
						if ( ( event.result = ret ) === false ) {
							event.preventDefault();
							event.stopPropagation();
						}
					}
				}
			}
		}

		// Call the postDispatch hook for the mapped type
		if ( special.postDispatch ) {
			special.postDispatch.call( this, event );
		}

		return event.result;
	},

	handlers: function( event, handlers ) {
		var i, matches, sel, handleObj,
			handlerQueue = [],
			delegateCount = handlers.delegateCount,
			cur = event.target;

		// Support (at least): Chrome, IE9
		// Find delegate handlers
		// Black-hole SVG <use> instance trees (#13180)
		//
		// Support: Firefox<=42+
		// Avoid non-left-click in FF but don't block IE radio events (#3861, gh-2343)
		if ( delegateCount && cur.nodeType &&
			( event.type !== "click" || isNaN( event.button ) || event.button < 1 ) ) {

			for ( ; cur !== this; cur = cur.parentNode || this ) {

				// Don't check non-elements (#13208)
				// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)
				if ( cur.nodeType === 1 && ( cur.disabled !== true || event.type !== "click" ) ) {
					matches = [];
					for ( i = 0; i < delegateCount; i++ ) {
						handleObj = handlers[ i ];

						// Don't conflict with Object.prototype properties (#13203)
						sel = handleObj.selector + " ";

						if ( matches[ sel ] === undefined ) {
							matches[ sel ] = handleObj.needsContext ?
								jQuery( sel, this ).index( cur ) > -1 :
								jQuery.find( sel, this, null, [ cur ] ).length;
						}
						if ( matches[ sel ] ) {
							matches.push( handleObj );
						}
					}
					if ( matches.length ) {
						handlerQueue.push( { elem: cur, handlers: matches } );
					}
				}
			}
		}

		// Add the remaining (directly-bound) handlers
		if ( delegateCount < handlers.length ) {
			handlerQueue.push( { elem: this, handlers: handlers.slice( delegateCount ) } );
		}

		return handlerQueue;
	},

	// Includes some event props shared by KeyEvent and MouseEvent
	props: ( "altKey bubbles cancelable ctrlKey currentTarget detail eventPhase " +
		"metaKey relatedTarget shiftKey target timeStamp view which" ).split( " " ),

	fixHooks: {},

	keyHooks: {
		props: "char charCode key keyCode".split( " " ),
		filter: function( event, original ) {

			// Add which for key events
			if ( event.which == null ) {
				event.which = original.charCode != null ? original.charCode : original.keyCode;
			}

			return event;
		}
	},

	mouseHooks: {
		props: ( "button buttons clientX clientY offsetX offsetY pageX pageY " +
			"screenX screenY toElement" ).split( " " ),
		filter: function( event, original ) {
			var eventDoc, doc, body,
				button = original.button;

			// Calculate pageX/Y if missing and clientX/Y available
			if ( event.pageX == null && original.clientX != null ) {
				eventDoc = event.target.ownerDocument || document;
				doc = eventDoc.documentElement;
				body = eventDoc.body;

				event.pageX = original.clientX +
					( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) -
					( doc && doc.clientLeft || body && body.clientLeft || 0 );
				event.pageY = original.clientY +
					( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) -
					( doc && doc.clientTop  || body && body.clientTop  || 0 );
			}

			// Add which for click: 1 === left; 2 === middle; 3 === right
			// Note: button is not normalized, so don't use it
			if ( !event.which && button !== undefined ) {
				event.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );
			}

			return event;
		}
	},

	fix: function( event ) {
		if ( event[ jQuery.expando ] ) {
			return event;
		}

		// Create a writable copy of the event object and normalize some properties
		var i, prop, copy,
			type = event.type,
			originalEvent = event,
			fixHook = this.fixHooks[ type ];

		if ( !fixHook ) {
			this.fixHooks[ type ] = fixHook =
				rmouseEvent.test( type ) ? this.mouseHooks :
				rkeyEvent.test( type ) ? this.keyHooks :
				{};
		}
		copy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;

		event = new jQuery.Event( originalEvent );

		i = copy.length;
		while ( i-- ) {
			prop = copy[ i ];
			event[ prop ] = originalEvent[ prop ];
		}

		// Support: Cordova 2.5 (WebKit) (#13255)
		// All events should have a target; Cordova deviceready doesn't
		if ( !event.target ) {
			event.target = document;
		}

		// Support: Safari 6.0+, Chrome<28
		// Target should not be a text node (#504, #13143)
		if ( event.target.nodeType === 3 ) {
			event.target = event.target.parentNode;
		}

		return fixHook.filter ? fixHook.filter( event, originalEvent ) : event;
	},

	special: {
		load: {

			// Prevent triggered image.load events from bubbling to window.load
			noBubble: true
		},
		focus: {

			// Fire native event if possible so blur/focus sequence is correct
			trigger: function() {
				if ( this !== safeActiveElement() && this.focus ) {
					this.focus();
					return false;
				}
			},
			delegateType: "focusin"
		},
		blur: {
			trigger: function() {
				if ( this === safeActiveElement() && this.blur ) {
					this.blur();
					return false;
				}
			},
			delegateType: "focusout"
		},
		click: {

			// For checkbox, fire native event so checked state will be right
			trigger: function() {
				if ( this.type === "checkbox" && this.click && jQuery.nodeName( this, "input" ) ) {
					this.click();
					return false;
				}
			},

			// For cross-browser consistency, don't fire native .click() on links
			_default: function( event ) {
				return jQuery.nodeName( event.target, "a" );
			}
		},

		beforeunload: {
			postDispatch: function( event ) {

				// Support: Firefox 20+
				// Firefox doesn't alert if the returnValue field is not set.
				if ( event.result !== undefined && event.originalEvent ) {
					event.originalEvent.returnValue = event.result;
				}
			}
		}
	}
};

jQuery.removeEvent = function( elem, type, handle ) {

	// This "if" is needed for plain objects
	if ( elem.removeEventListener ) {
		elem.removeEventListener( type, handle );
	}
};

jQuery.Event = function( src, props ) {

	// Allow instantiation without the 'new' keyword
	if ( !( this instanceof jQuery.Event ) ) {
		return new jQuery.Event( src, props );
	}

	// Event object
	if ( src && src.type ) {
		this.originalEvent = src;
		this.type = src.type;

		// Events bubbling up the document may have been marked as prevented
		// by a handler lower down the tree; reflect the correct value.
		this.isDefaultPrevented = src.defaultPrevented ||
				src.defaultPrevented === undefined &&

				// Support: Android<4.0
				src.returnValue === false ?
			returnTrue :
			returnFalse;

	// Event type
	} else {
		this.type = src;
	}

	// Put explicitly provided properties onto the event object
	if ( props ) {
		jQuery.extend( this, props );
	}

	// Create a timestamp if incoming event doesn't have one
	this.timeStamp = src && src.timeStamp || jQuery.now();

	// Mark it as fixed
	this[ jQuery.expando ] = true;
};

// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
jQuery.Event.prototype = {
	constructor: jQuery.Event,
	isDefaultPrevented: returnFalse,
	isPropagationStopped: returnFalse,
	isImmediatePropagationStopped: returnFalse,
	isSimulated: false,

	preventDefault: function() {
		var e = this.originalEvent;

		this.isDefaultPrevented = returnTrue;

		if ( e && !this.isSimulated ) {
			e.preventDefault();
		}
	},
	stopPropagation: function() {
		var e = this.originalEvent;

		this.isPropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopPropagation();
		}
	},
	stopImmediatePropagation: function() {
		var e = this.originalEvent;

		this.isImmediatePropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopImmediatePropagation();
		}

		this.stopPropagation();
	}
};

// Create mouseenter/leave events using mouseover/out and event-time checks
// so that event delegation works in jQuery.
// Do the same for pointerenter/pointerleave and pointerover/pointerout
//
// Support: Safari 7 only
// Safari sends mouseenter too often; see:
// https://code.google.com/p/chromium/issues/detail?id=470258
// for the description of the bug (it existed in older Chrome versions as well).
jQuery.each( {
	mouseenter: "mouseover",
	mouseleave: "mouseout",
	pointerenter: "pointerover",
	pointerleave: "pointerout"
}, function( orig, fix ) {
	jQuery.event.special[ orig ] = {
		delegateType: fix,
		bindType: fix,

		handle: function( event ) {
			var ret,
				target = this,
				related = event.relatedTarget,
				handleObj = event.handleObj;

			// For mouseenter/leave call the handler if related is outside the target.
			// NB: No relatedTarget if the mouse left/entered the browser window
			if ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {
				event.type = handleObj.origType;
				ret = handleObj.handler.apply( this, arguments );
				event.type = fix;
			}
			return ret;
		}
	};
} );

jQuery.fn.extend( {
	on: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn );
	},
	one: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn, 1 );
	},
	off: function( types, selector, fn ) {
		var handleObj, type;
		if ( types && types.preventDefault && types.handleObj ) {

			// ( event )  dispatched jQuery.Event
			handleObj = types.handleObj;
			jQuery( types.delegateTarget ).off(
				handleObj.namespace ?
					handleObj.origType + "." + handleObj.namespace :
					handleObj.origType,
				handleObj.selector,
				handleObj.handler
			);
			return this;
		}
		if ( typeof types === "object" ) {

			// ( types-object [, selector] )
			for ( type in types ) {
				this.off( type, selector, types[ type ] );
			}
			return this;
		}
		if ( selector === false || typeof selector === "function" ) {

			// ( types [, fn] )
			fn = selector;
			selector = undefined;
		}
		if ( fn === false ) {
			fn = returnFalse;
		}
		return this.each( function() {
			jQuery.event.remove( this, types, fn, selector );
		} );
	}
} );


var
	rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,

	// Support: IE 10-11, Edge 10240+
	// In IE/Edge using regex groups here causes severe slowdowns.
	// See https://connect.microsoft.com/IE/feedback/details/1736512/
	rnoInnerhtml = /<script|<style|<link/i,

	// checked="checked" or checked
	rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
	rscriptTypeMasked = /^true\/(.*)/,
	rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;

// Manipulating tables requires a tbody
function manipulationTarget( elem, content ) {
	return jQuery.nodeName( elem, "table" ) &&
		jQuery.nodeName( content.nodeType !== 11 ? content : content.firstChild, "tr" ) ?

		elem.getElementsByTagName( "tbody" )[ 0 ] ||
			elem.appendChild( elem.ownerDocument.createElement( "tbody" ) ) :
		elem;
}

// Replace/restore the type attribute of script elements for safe DOM manipulation
function disableScript( elem ) {
	elem.type = ( elem.getAttribute( "type" ) !== null ) + "/" + elem.type;
	return elem;
}
function restoreScript( elem ) {
	var match = rscriptTypeMasked.exec( elem.type );

	if ( match ) {
		elem.type = match[ 1 ];
	} else {
		elem.removeAttribute( "type" );
	}

	return elem;
}

function cloneCopyEvent( src, dest ) {
	var i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;

	if ( dest.nodeType !== 1 ) {
		return;
	}

	// 1. Copy private data: events, handlers, etc.
	if ( dataPriv.hasData( src ) ) {
		pdataOld = dataPriv.access( src );
		pdataCur = dataPriv.set( dest, pdataOld );
		events = pdataOld.events;

		if ( events ) {
			delete pdataCur.handle;
			pdataCur.events = {};

			for ( type in events ) {
				for ( i = 0, l = events[ type ].length; i < l; i++ ) {
					jQuery.event.add( dest, type, events[ type ][ i ] );
				}
			}
		}
	}

	// 2. Copy user data
	if ( dataUser.hasData( src ) ) {
		udataOld = dataUser.access( src );
		udataCur = jQuery.extend( {}, udataOld );

		dataUser.set( dest, udataCur );
	}
}

// Fix IE bugs, see support tests
function fixInput( src, dest ) {
	var nodeName = dest.nodeName.toLowerCase();

	// Fails to persist the checked state of a cloned checkbox or radio button.
	if ( nodeName === "input" && rcheckableType.test( src.type ) ) {
		dest.checked = src.checked;

	// Fails to return the selected option to the default selected state when cloning options
	} else if ( nodeName === "input" || nodeName === "textarea" ) {
		dest.defaultValue = src.defaultValue;
	}
}

function domManip( collection, args, callback, ignored ) {

	// Flatten any nested arrays
	args = concat.apply( [], args );

	var fragment, first, scripts, hasScripts, node, doc,
		i = 0,
		l = collection.length,
		iNoClone = l - 1,
		value = args[ 0 ],
		isFunction = jQuery.isFunction( value );

	// We can't cloneNode fragments that contain checked, in WebKit
	if ( isFunction ||
			( l > 1 && typeof value === "string" &&
				!support.checkClone && rchecked.test( value ) ) ) {
		return collection.each( function( index ) {
			var self = collection.eq( index );
			if ( isFunction ) {
				args[ 0 ] = value.call( this, index, self.html() );
			}
			domManip( self, args, callback, ignored );
		} );
	}

	if ( l ) {
		fragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );
		first = fragment.firstChild;

		if ( fragment.childNodes.length === 1 ) {
			fragment = first;
		}

		// Require either new content or an interest in ignored elements to invoke the callback
		if ( first || ignored ) {
			scripts = jQuery.map( getAll( fragment, "script" ), disableScript );
			hasScripts = scripts.length;

			// Use the original fragment for the last item
			// instead of the first because it can end up
			// being emptied incorrectly in certain situations (#8070).
			for ( ; i < l; i++ ) {
				node = fragment;

				if ( i !== iNoClone ) {
					node = jQuery.clone( node, true, true );

					// Keep references to cloned scripts for later restoration
					if ( hasScripts ) {

						// Support: Android<4.1, PhantomJS<2
						// push.apply(_, arraylike) throws on ancient WebKit
						jQuery.merge( scripts, getAll( node, "script" ) );
					}
				}

				callback.call( collection[ i ], node, i );
			}

			if ( hasScripts ) {
				doc = scripts[ scripts.length - 1 ].ownerDocument;

				// Reenable scripts
				jQuery.map( scripts, restoreScript );

				// Evaluate executable scripts on first document insertion
				for ( i = 0; i < hasScripts; i++ ) {
					node = scripts[ i ];
					if ( rscriptType.test( node.type || "" ) &&
						!dataPriv.access( node, "globalEval" ) &&
						jQuery.contains( doc, node ) ) {

						if ( node.src ) {

							// Optional AJAX dependency, but won't run scripts if not present
							if ( jQuery._evalUrl ) {
								jQuery._evalUrl( node.src );
							}
						} else {
							jQuery.globalEval( node.textContent.replace( rcleanScript, "" ) );
						}
					}
				}
			}
		}
	}

	return collection;
}

function remove( elem, selector, keepData ) {
	var node,
		nodes = selector ? jQuery.filter( selector, elem ) : elem,
		i = 0;

	for ( ; ( node = nodes[ i ] ) != null; i++ ) {
		if ( !keepData && node.nodeType === 1 ) {
			jQuery.cleanData( getAll( node ) );
		}

		if ( node.parentNode ) {
			if ( keepData && jQuery.contains( node.ownerDocument, node ) ) {
				setGlobalEval( getAll( node, "script" ) );
			}
			node.parentNode.removeChild( node );
		}
	}

	return elem;
}

jQuery.extend( {
	htmlPrefilter: function( html ) {
		return html.replace( rxhtmlTag, "<$1></$2>" );
	},

	clone: function( elem, dataAndEvents, deepDataAndEvents ) {
		var i, l, srcElements, destElements,
			clone = elem.cloneNode( true ),
			inPage = jQuery.contains( elem.ownerDocument, elem );

		// Fix IE cloning issues
		if ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&
				!jQuery.isXMLDoc( elem ) ) {

			// We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2
			destElements = getAll( clone );
			srcElements = getAll( elem );

			for ( i = 0, l = srcElements.length; i < l; i++ ) {
				fixInput( srcElements[ i ], destElements[ i ] );
			}
		}

		// Copy the events from the original to the clone
		if ( dataAndEvents ) {
			if ( deepDataAndEvents ) {
				srcElements = srcElements || getAll( elem );
				destElements = destElements || getAll( clone );

				for ( i = 0, l = srcElements.length; i < l; i++ ) {
					cloneCopyEvent( srcElements[ i ], destElements[ i ] );
				}
			} else {
				cloneCopyEvent( elem, clone );
			}
		}

		// Preserve script evaluation history
		destElements = getAll( clone, "script" );
		if ( destElements.length > 0 ) {
			setGlobalEval( destElements, !inPage && getAll( elem, "script" ) );
		}

		// Return the cloned set
		return clone;
	},

	cleanData: function( elems ) {
		var data, elem, type,
			special = jQuery.event.special,
			i = 0;

		for ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {
			if ( acceptData( elem ) ) {
				if ( ( data = elem[ dataPriv.expando ] ) ) {
					if ( data.events ) {
						for ( type in data.events ) {
							if ( special[ type ] ) {
								jQuery.event.remove( elem, type );

							// This is a shortcut to avoid jQuery.event.remove's overhead
							} else {
								jQuery.removeEvent( elem, type, data.handle );
							}
						}
					}

					// Support: Chrome <= 35-45+
					// Assign undefined instead of using delete, see Data#remove
					elem[ dataPriv.expando ] = undefined;
				}
				if ( elem[ dataUser.expando ] ) {

					// Support: Chrome <= 35-45+
					// Assign undefined instead of using delete, see Data#remove
					elem[ dataUser.expando ] = undefined;
				}
			}
		}
	}
} );

jQuery.fn.extend( {

	// Keep domManip exposed until 3.0 (gh-2225)
	domManip: domManip,

	detach: function( selector ) {
		return remove( this, selector, true );
	},

	remove: function( selector ) {
		return remove( this, selector );
	},

	text: function( value ) {
		return access( this, function( value ) {
			return value === undefined ?
				jQuery.text( this ) :
				this.empty().each( function() {
					if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
						this.textContent = value;
					}
				} );
		}, null, value, arguments.length );
	},

	append: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.appendChild( elem );
			}
		} );
	},

	prepend: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.insertBefore( elem, target.firstChild );
			}
		} );
	},

	before: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this );
			}
		} );
	},

	after: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this.nextSibling );
			}
		} );
	},

	empty: function() {
		var elem,
			i = 0;

		for ( ; ( elem = this[ i ] ) != null; i++ ) {
			if ( elem.nodeType === 1 ) {

				// Prevent memory leaks
				jQuery.cleanData( getAll( elem, false ) );

				// Remove any remaining nodes
				elem.textContent = "";
			}
		}

		return this;
	},

	clone: function( dataAndEvents, deepDataAndEvents ) {
		dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
		deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

		return this.map( function() {
			return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
		} );
	},

	html: function( value ) {
		return access( this, function( value ) {
			var elem = this[ 0 ] || {},
				i = 0,
				l = this.length;

			if ( value === undefined && elem.nodeType === 1 ) {
				return elem.innerHTML;
			}

			// See if we can take a shortcut and just use innerHTML
			if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
				!wrapMap[ ( rtagName.exec( value ) || [ "", "" ] )[ 1 ].toLowerCase() ] ) {

				value = jQuery.htmlPrefilter( value );

				try {
					for ( ; i < l; i++ ) {
						elem = this[ i ] || {};

						// Remove element nodes and prevent memory leaks
						if ( elem.nodeType === 1 ) {
							jQuery.cleanData( getAll( elem, false ) );
							elem.innerHTML = value;
						}
					}

					elem = 0;

				// If using innerHTML throws an exception, use the fallback method
				} catch ( e ) {}
			}

			if ( elem ) {
				this.empty().append( value );
			}
		}, null, value, arguments.length );
	},

	replaceWith: function() {
		var ignored = [];

		// Make the changes, replacing each non-ignored context element with the new content
		return domManip( this, arguments, function( elem ) {
			var parent = this.parentNode;

			if ( jQuery.inArray( this, ignored ) < 0 ) {
				jQuery.cleanData( getAll( this ) );
				if ( parent ) {
					parent.replaceChild( elem, this );
				}
			}

		// Force callback invocation
		}, ignored );
	}
} );

jQuery.each( {
	appendTo: "append",
	prependTo: "prepend",
	insertBefore: "before",
	insertAfter: "after",
	replaceAll: "replaceWith"
}, function( name, original ) {
	jQuery.fn[ name ] = function( selector ) {
		var elems,
			ret = [],
			insert = jQuery( selector ),
			last = insert.length - 1,
			i = 0;

		for ( ; i <= last; i++ ) {
			elems = i === last ? this : this.clone( true );
			jQuery( insert[ i ] )[ original ]( elems );

			// Support: QtWebKit
			// .get() because push.apply(_, arraylike) throws
			push.apply( ret, elems.get() );
		}

		return this.pushStack( ret );
	};
} );


var iframe,
	elemdisplay = {

		// Support: Firefox
		// We have to pre-define these values for FF (#10227)
		HTML: "block",
		BODY: "block"
	};

/**
 * Retrieve the actual display of a element
 * @param {String} name nodeName of the element
 * @param {Object} doc Document object
 */

// Called only from within defaultDisplay
function actualDisplay( name, doc ) {
	var elem = jQuery( doc.createElement( name ) ).appendTo( doc.body ),

		display = jQuery.css( elem[ 0 ], "display" );

	// We don't have any data stored on the element,
	// so use "detach" method as fast way to get rid of the element
	elem.detach();

	return display;
}

/**
 * Try to determine the default display value of an element
 * @param {String} nodeName
 */
function defaultDisplay( nodeName ) {
	var doc = document,
		display = elemdisplay[ nodeName ];

	if ( !display ) {
		display = actualDisplay( nodeName, doc );

		// If the simple way fails, read from inside an iframe
		if ( display === "none" || !display ) {

			// Use the already-created iframe if possible
			iframe = ( iframe || jQuery( "<iframe frameborder='0' width='0' height='0'/>" ) )
				.appendTo( doc.documentElement );

			// Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse
			doc = iframe[ 0 ].contentDocument;

			// Support: IE
			doc.write();
			doc.close();

			display = actualDisplay( nodeName, doc );
			iframe.detach();
		}

		// Store the correct default display
		elemdisplay[ nodeName ] = display;
	}

	return display;
}
var rmargin = ( /^margin/ );

var rnumnonpx = new RegExp( "^(" + pnum + ")(?!px)[a-z%]+$", "i" );

var getStyles = function( elem ) {

		// Support: IE<=11+, Firefox<=30+ (#15098, #14150)
		// IE throws on elements created in popups
		// FF meanwhile throws on frame elements through "defaultView.getComputedStyle"
		var view = elem.ownerDocument.defaultView;

		if ( !view || !view.opener ) {
			view = window;
		}

		return view.getComputedStyle( elem );
	};

var swap = function( elem, options, callback, args ) {
	var ret, name,
		old = {};

	// Remember the old values, and insert the new ones
	for ( name in options ) {
		old[ name ] = elem.style[ name ];
		elem.style[ name ] = options[ name ];
	}

	ret = callback.apply( elem, args || [] );

	// Revert the old values
	for ( name in options ) {
		elem.style[ name ] = old[ name ];
	}

	return ret;
};


var documentElement = document.documentElement;



( function() {
	var pixelPositionVal, boxSizingReliableVal, pixelMarginRightVal, reliableMarginLeftVal,
		container = document.createElement( "div" ),
		div = document.createElement( "div" );

	// Finish early in limited (non-browser) environments
	if ( !div.style ) {
		return;
	}

	// Support: IE9-11+
	// Style of cloned element affects source element cloned (#8908)
	div.style.backgroundClip = "content-box";
	div.cloneNode( true ).style.backgroundClip = "";
	support.clearCloneStyle = div.style.backgroundClip === "content-box";

	container.style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;" +
		"padding:0;margin-top:1px;position:absolute";
	container.appendChild( div );

	// Executing both pixelPosition & boxSizingReliable tests require only one layout
	// so they're executed at the same time to save the second computation.
	function computeStyleTests() {
		div.style.cssText =

			// Support: Firefox<29, Android 2.3
			// Vendor-prefix box-sizing
			"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;" +
			"position:relative;display:block;" +
			"margin:auto;border:1px;padding:1px;" +
			"top:1%;width:50%";
		div.innerHTML = "";
		documentElement.appendChild( container );

		var divStyle = window.getComputedStyle( div );
		pixelPositionVal = divStyle.top !== "1%";
		reliableMarginLeftVal = divStyle.marginLeft === "2px";
		boxSizingReliableVal = divStyle.width === "4px";

		// Support: Android 4.0 - 4.3 only
		// Some styles come back with percentage values, even though they shouldn't
		div.style.marginRight = "50%";
		pixelMarginRightVal = divStyle.marginRight === "4px";

		documentElement.removeChild( container );
	}

	jQuery.extend( support, {
		pixelPosition: function() {

			// This test is executed only once but we still do memoizing
			// since we can use the boxSizingReliable pre-computing.
			// No need to check if the test was already performed, though.
			computeStyleTests();
			return pixelPositionVal;
		},
		boxSizingReliable: function() {
			if ( boxSizingReliableVal == null ) {
				computeStyleTests();
			}
			return boxSizingReliableVal;
		},
		pixelMarginRight: function() {

			// Support: Android 4.0-4.3
			// We're checking for boxSizingReliableVal here instead of pixelMarginRightVal
			// since that compresses better and they're computed together anyway.
			if ( boxSizingReliableVal == null ) {
				computeStyleTests();
			}
			return pixelMarginRightVal;
		},
		reliableMarginLeft: function() {

			// Support: IE <=8 only, Android 4.0 - 4.3 only, Firefox <=3 - 37
			if ( boxSizingReliableVal == null ) {
				computeStyleTests();
			}
			return reliableMarginLeftVal;
		},
		reliableMarginRight: function() {

			// Support: Android 2.3
			// Check if div with explicit width and no margin-right incorrectly
			// gets computed margin-right based on width of container. (#3333)
			// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
			// This support function is only executed once so no memoizing is needed.
			var ret,
				marginDiv = div.appendChild( document.createElement( "div" ) );

			// Reset CSS: box-sizing; display; margin; border; padding
			marginDiv.style.cssText = div.style.cssText =

				// Support: Android 2.3
				// Vendor-prefix box-sizing
				"-webkit-box-sizing:content-box;box-sizing:content-box;" +
				"display:block;margin:0;border:0;padding:0";
			marginDiv.style.marginRight = marginDiv.style.width = "0";
			div.style.width = "1px";
			documentElement.appendChild( container );

			ret = !parseFloat( window.getComputedStyle( marginDiv ).marginRight );

			documentElement.removeChild( container );
			div.removeChild( marginDiv );

			return ret;
		}
	} );
} )();


function curCSS( elem, name, computed ) {
	var width, minWidth, maxWidth, ret,
		style = elem.style;

	computed = computed || getStyles( elem );
	ret = computed ? computed.getPropertyValue( name ) || computed[ name ] : undefined;

	// Support: Opera 12.1x only
	// Fall back to style even without computed
	// computed is undefined for elems on document fragments
	if ( ( ret === "" || ret === undefined ) && !jQuery.contains( elem.ownerDocument, elem ) ) {
		ret = jQuery.style( elem, name );
	}

	// Support: IE9
	// getPropertyValue is only needed for .css('filter') (#12537)
	if ( computed ) {

		// A tribute to the "awesome hack by Dean Edwards"
		// Android Browser returns percentage for some values,
		// but width seems to be reliably pixels.
		// This is against the CSSOM draft spec:
		// http://dev.w3.org/csswg/cssom/#resolved-values
		if ( !support.pixelMarginRight() && rnumnonpx.test( ret ) && rmargin.test( name ) ) {

			// Remember the original values
			width = style.width;
			minWidth = style.minWidth;
			maxWidth = style.maxWidth;

			// Put in the new values to get a computed value out
			style.minWidth = style.maxWidth = style.width = ret;
			ret = computed.width;

			// Revert the changed values
			style.width = width;
			style.minWidth = minWidth;
			style.maxWidth = maxWidth;
		}
	}

	return ret !== undefined ?

		// Support: IE9-11+
		// IE returns zIndex value as an integer.
		ret + "" :
		ret;
}


function addGetHookIf( conditionFn, hookFn ) {

	// Define the hook, we'll check on the first run if it's really needed.
	return {
		get: function() {
			if ( conditionFn() ) {

				// Hook not needed (or it's not possible to use it due
				// to missing dependency), remove it.
				delete this.get;
				return;
			}

			// Hook needed; redefine it so that the support test is not executed again.
			return ( this.get = hookFn ).apply( this, arguments );
		}
	};
}


var

	// Swappable if display is none or starts with table
	// except "table", "table-cell", or "table-caption"
	// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
	rdisplayswap = /^(none|table(?!-c[ea]).+)/,

	cssShow = { position: "absolute", visibility: "hidden", display: "block" },
	cssNormalTransform = {
		letterSpacing: "0",
		fontWeight: "400"
	},

	cssPrefixes = [ "Webkit", "O", "Moz", "ms" ],
	emptyStyle = document.createElement( "div" ).style;

// Return a css property mapped to a potentially vendor prefixed property
function vendorPropName( name ) {

	// Shortcut for names that are not vendor prefixed
	if ( name in emptyStyle ) {
		return name;
	}

	// Check for vendor prefixed names
	var capName = name[ 0 ].toUpperCase() + name.slice( 1 ),
		i = cssPrefixes.length;

	while ( i-- ) {
		name = cssPrefixes[ i ] + capName;
		if ( name in emptyStyle ) {
			return name;
		}
	}
}

function setPositiveNumber( elem, value, subtract ) {

	// Any relative (+/-) values have already been
	// normalized at this point
	var matches = rcssNum.exec( value );
	return matches ?

		// Guard against undefined "subtract", e.g., when used as in cssHooks
		Math.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || "px" ) :
		value;
}

function augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {
	var i = extra === ( isBorderBox ? "border" : "content" ) ?

		// If we already have the right measurement, avoid augmentation
		4 :

		// Otherwise initialize for horizontal or vertical properties
		name === "width" ? 1 : 0,

		val = 0;

	for ( ; i < 4; i += 2 ) {

		// Both box models exclude margin, so add it if we want it
		if ( extra === "margin" ) {
			val += jQuery.css( elem, extra + cssExpand[ i ], true, styles );
		}

		if ( isBorderBox ) {

			// border-box includes padding, so remove it if we want content
			if ( extra === "content" ) {
				val -= jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );
			}

			// At this point, extra isn't border nor margin, so remove border
			if ( extra !== "margin" ) {
				val -= jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		} else {

			// At this point, extra isn't content, so add padding
			val += jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );

			// At this point, extra isn't content nor padding, so add border
			if ( extra !== "padding" ) {
				val += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		}
	}

	return val;
}

function getWidthOrHeight( elem, name, extra ) {

	// Start with offset property, which is equivalent to the border-box value
	var valueIsBorderBox = true,
		val = name === "width" ? elem.offsetWidth : elem.offsetHeight,
		styles = getStyles( elem ),
		isBorderBox = jQuery.css( elem, "boxSizing", false, styles ) === "border-box";

	// Some non-html elements return undefined for offsetWidth, so check for null/undefined
	// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285
	// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668
	if ( val <= 0 || val == null ) {

		// Fall back to computed then uncomputed css if necessary
		val = curCSS( elem, name, styles );
		if ( val < 0 || val == null ) {
			val = elem.style[ name ];
		}

		// Computed unit is not pixels. Stop here and return.
		if ( rnumnonpx.test( val ) ) {
			return val;
		}

		// Check for style in case a browser which returns unreliable values
		// for getComputedStyle silently falls back to the reliable elem.style
		valueIsBorderBox = isBorderBox &&
			( support.boxSizingReliable() || val === elem.style[ name ] );

		// Normalize "", auto, and prepare for extra
		val = parseFloat( val ) || 0;
	}

	// Use the active box-sizing model to add/subtract irrelevant styles
	return ( val +
		augmentWidthOrHeight(
			elem,
			name,
			extra || ( isBorderBox ? "border" : "content" ),
			valueIsBorderBox,
			styles
		)
	) + "px";
}

function showHide( elements, show ) {
	var display, elem, hidden,
		values = [],
		index = 0,
		length = elements.length;

	for ( ; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}

		values[ index ] = dataPriv.get( elem, "olddisplay" );
		display = elem.style.display;
		if ( show ) {

			// Reset the inline display of this element to learn if it is
			// being hidden by cascaded rules or not
			if ( !values[ index ] && display === "none" ) {
				elem.style.display = "";
			}

			// Set elements which have been overridden with display: none
			// in a stylesheet to whatever the default browser style is
			// for such an element
			if ( elem.style.display === "" && isHidden( elem ) ) {
				values[ index ] = dataPriv.access(
					elem,
					"olddisplay",
					defaultDisplay( elem.nodeName )
				);
			}
		} else {
			hidden = isHidden( elem );

			if ( display !== "none" || !hidden ) {
				dataPriv.set(
					elem,
					"olddisplay",
					hidden ? display : jQuery.css( elem, "display" )
				);
			}
		}
	}

	// Set the display of most of the elements in a second loop
	// to avoid the constant reflow
	for ( index = 0; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}
		if ( !show || elem.style.display === "none" || elem.style.display === "" ) {
			elem.style.display = show ? values[ index ] || "" : "none";
		}
	}

	return elements;
}

jQuery.extend( {

	// Add in style property hooks for overriding the default
	// behavior of getting and setting a style property
	cssHooks: {
		opacity: {
			get: function( elem, computed ) {
				if ( computed ) {

					// We should always get a number back from opacity
					var ret = curCSS( elem, "opacity" );
					return ret === "" ? "1" : ret;
				}
			}
		}
	},

	// Don't automatically add "px" to these possibly-unitless properties
	cssNumber: {
		"animationIterationCount": true,
		"columnCount": true,
		"fillOpacity": true,
		"flexGrow": true,
		"flexShrink": true,
		"fontWeight": true,
		"lineHeight": true,
		"opacity": true,
		"order": true,
		"orphans": true,
		"widows": true,
		"zIndex": true,
		"zoom": true
	},

	// Add in properties whose names you wish to fix before
	// setting or getting the value
	cssProps: {
		"float": "cssFloat"
	},

	// Get and set the style property on a DOM Node
	style: function( elem, name, value, extra ) {

		// Don't set styles on text and comment nodes
		if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
			return;
		}

		// Make sure that we're working with the right name
		var ret, type, hooks,
			origName = jQuery.camelCase( name ),
			style = elem.style;

		name = jQuery.cssProps[ origName ] ||
			( jQuery.cssProps[ origName ] = vendorPropName( origName ) || origName );

		// Gets hook for the prefixed version, then unprefixed version
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// Check if we're setting a value
		if ( value !== undefined ) {
			type = typeof value;

			// Convert "+=" or "-=" to relative numbers (#7345)
			if ( type === "string" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {
				value = adjustCSS( elem, name, ret );

				// Fixes bug #9237
				type = "number";
			}

			// Make sure that null and NaN values aren't set (#7116)
			if ( value == null || value !== value ) {
				return;
			}

			// If a number was passed in, add the unit (except for certain CSS properties)
			if ( type === "number" ) {
				value += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? "" : "px" );
			}

			// Support: IE9-11+
			// background-* props affect original clone's values
			if ( !support.clearCloneStyle && value === "" && name.indexOf( "background" ) === 0 ) {
				style[ name ] = "inherit";
			}

			// If a hook was provided, use that value, otherwise just set the specified value
			if ( !hooks || !( "set" in hooks ) ||
				( value = hooks.set( elem, value, extra ) ) !== undefined ) {

				style[ name ] = value;
			}

		} else {

			// If a hook was provided get the non-computed value from there
			if ( hooks && "get" in hooks &&
				( ret = hooks.get( elem, false, extra ) ) !== undefined ) {

				return ret;
			}

			// Otherwise just get the value from the style object
			return style[ name ];
		}
	},

	css: function( elem, name, extra, styles ) {
		var val, num, hooks,
			origName = jQuery.camelCase( name );

		// Make sure that we're working with the right name
		name = jQuery.cssProps[ origName ] ||
			( jQuery.cssProps[ origName ] = vendorPropName( origName ) || origName );

		// Try prefixed name followed by the unprefixed name
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// If a hook was provided get the computed value from there
		if ( hooks && "get" in hooks ) {
			val = hooks.get( elem, true, extra );
		}

		// Otherwise, if a way to get the computed value exists, use that
		if ( val === undefined ) {
			val = curCSS( elem, name, styles );
		}

		// Convert "normal" to computed value
		if ( val === "normal" && name in cssNormalTransform ) {
			val = cssNormalTransform[ name ];
		}

		// Make numeric if forced or a qualifier was provided and val looks numeric
		if ( extra === "" || extra ) {
			num = parseFloat( val );
			return extra === true || isFinite( num ) ? num || 0 : val;
		}
		return val;
	}
} );

jQuery.each( [ "height", "width" ], function( i, name ) {
	jQuery.cssHooks[ name ] = {
		get: function( elem, computed, extra ) {
			if ( computed ) {

				// Certain elements can have dimension info if we invisibly show them
				// but it must have a current display style that would benefit
				return rdisplayswap.test( jQuery.css( elem, "display" ) ) &&
					elem.offsetWidth === 0 ?
						swap( elem, cssShow, function() {
							return getWidthOrHeight( elem, name, extra );
						} ) :
						getWidthOrHeight( elem, name, extra );
			}
		},

		set: function( elem, value, extra ) {
			var matches,
				styles = extra && getStyles( elem ),
				subtract = extra && augmentWidthOrHeight(
					elem,
					name,
					extra,
					jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
					styles
				);

			// Convert to pixels if value adjustment is needed
			if ( subtract && ( matches = rcssNum.exec( value ) ) &&
				( matches[ 3 ] || "px" ) !== "px" ) {

				elem.style[ name ] = value;
				value = jQuery.css( elem, name );
			}

			return setPositiveNumber( elem, value, subtract );
		}
	};
} );

jQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,
	function( elem, computed ) {
		if ( computed ) {
			return ( parseFloat( curCSS( elem, "marginLeft" ) ) ||
				elem.getBoundingClientRect().left -
					swap( elem, { marginLeft: 0 }, function() {
						return elem.getBoundingClientRect().left;
					} )
				) + "px";
		}
	}
);

// Support: Android 2.3
jQuery.cssHooks.marginRight = addGetHookIf( support.reliableMarginRight,
	function( elem, computed ) {
		if ( computed ) {
			return swap( elem, { "display": "inline-block" },
				curCSS, [ elem, "marginRight" ] );
		}
	}
);

// These hooks are used by animate to expand properties
jQuery.each( {
	margin: "",
	padding: "",
	border: "Width"
}, function( prefix, suffix ) {
	jQuery.cssHooks[ prefix + suffix ] = {
		expand: function( value ) {
			var i = 0,
				expanded = {},

				// Assumes a single number if not a string
				parts = typeof value === "string" ? value.split( " " ) : [ value ];

			for ( ; i < 4; i++ ) {
				expanded[ prefix + cssExpand[ i ] + suffix ] =
					parts[ i ] || parts[ i - 2 ] || parts[ 0 ];
			}

			return expanded;
		}
	};

	if ( !rmargin.test( prefix ) ) {
		jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;
	}
} );

jQuery.fn.extend( {
	css: function( name, value ) {
		return access( this, function( elem, name, value ) {
			var styles, len,
				map = {},
				i = 0;

			if ( jQuery.isArray( name ) ) {
				styles = getStyles( elem );
				len = name.length;

				for ( ; i < len; i++ ) {
					map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );
				}

				return map;
			}

			return value !== undefined ?
				jQuery.style( elem, name, value ) :
				jQuery.css( elem, name );
		}, name, value, arguments.length > 1 );
	},
	show: function() {
		return showHide( this, true );
	},
	hide: function() {
		return showHide( this );
	},
	toggle: function( state ) {
		if ( typeof state === "boolean" ) {
			return state ? this.show() : this.hide();
		}

		return this.each( function() {
			if ( isHidden( this ) ) {
				jQuery( this ).show();
			} else {
				jQuery( this ).hide();
			}
		} );
	}
} );


function Tween( elem, options, prop, end, easing ) {
	return new Tween.prototype.init( elem, options, prop, end, easing );
}
jQuery.Tween = Tween;

Tween.prototype = {
	constructor: Tween,
	init: function( elem, options, prop, end, easing, unit ) {
		this.elem = elem;
		this.prop = prop;
		this.easing = easing || jQuery.easing._default;
		this.options = options;
		this.start = this.now = this.cur();
		this.end = end;
		this.unit = unit || ( jQuery.cssNumber[ prop ] ? "" : "px" );
	},
	cur: function() {
		var hooks = Tween.propHooks[ this.prop ];

		return hooks && hooks.get ?
			hooks.get( this ) :
			Tween.propHooks._default.get( this );
	},
	run: function( percent ) {
		var eased,
			hooks = Tween.propHooks[ this.prop ];

		if ( this.options.duration ) {
			this.pos = eased = jQuery.easing[ this.easing ](
				percent, this.options.duration * percent, 0, 1, this.options.duration
			);
		} else {
			this.pos = eased = percent;
		}
		this.now = ( this.end - this.start ) * eased + this.start;

		if ( this.options.step ) {
			this.options.step.call( this.elem, this.now, this );
		}

		if ( hooks && hooks.set ) {
			hooks.set( this );
		} else {
			Tween.propHooks._default.set( this );
		}
		return this;
	}
};

Tween.prototype.init.prototype = Tween.prototype;

Tween.propHooks = {
	_default: {
		get: function( tween ) {
			var result;

			// Use a property on the element directly when it is not a DOM element,
			// or when there is no matching style property that exists.
			if ( tween.elem.nodeType !== 1 ||
				tween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {
				return tween.elem[ tween.prop ];
			}

			// Passing an empty string as a 3rd parameter to .css will automatically
			// attempt a parseFloat and fallback to a string if the parse fails.
			// Simple values such as "10px" are parsed to Float;
			// complex values such as "rotate(1rad)" are returned as-is.
			result = jQuery.css( tween.elem, tween.prop, "" );

			// Empty strings, null, undefined and "auto" are converted to 0.
			return !result || result === "auto" ? 0 : result;
		},
		set: function( tween ) {

			// Use step hook for back compat.
			// Use cssHook if its there.
			// Use .style if available and use plain properties where available.
			if ( jQuery.fx.step[ tween.prop ] ) {
				jQuery.fx.step[ tween.prop ]( tween );
			} else if ( tween.elem.nodeType === 1 &&
				( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null ||
					jQuery.cssHooks[ tween.prop ] ) ) {
				jQuery.style( tween.elem, tween.prop, tween.now + tween.unit );
			} else {
				tween.elem[ tween.prop ] = tween.now;
			}
		}
	}
};

// Support: IE9
// Panic based approach to setting things on disconnected nodes
Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
	set: function( tween ) {
		if ( tween.elem.nodeType && tween.elem.parentNode ) {
			tween.elem[ tween.prop ] = tween.now;
		}
	}
};

jQuery.easing = {
	linear: function( p ) {
		return p;
	},
	swing: function( p ) {
		return 0.5 - Math.cos( p * Math.PI ) / 2;
	},
	_default: "swing"
};

jQuery.fx = Tween.prototype.init;

// Back Compat <1.8 extension point
jQuery.fx.step = {};




var
	fxNow, timerId,
	rfxtypes = /^(?:toggle|show|hide)$/,
	rrun = /queueHooks$/;

// Animations created synchronously will run synchronously
function createFxNow() {
	window.setTimeout( function() {
		fxNow = undefined;
	} );
	return ( fxNow = jQuery.now() );
}

// Generate parameters to create a standard animation
function genFx( type, includeWidth ) {
	var which,
		i = 0,
		attrs = { height: type };

	// If we include width, step value is 1 to do all cssExpand values,
	// otherwise step value is 2 to skip over Left and Right
	includeWidth = includeWidth ? 1 : 0;
	for ( ; i < 4 ; i += 2 - includeWidth ) {
		which = cssExpand[ i ];
		attrs[ "margin" + which ] = attrs[ "padding" + which ] = type;
	}

	if ( includeWidth ) {
		attrs.opacity = attrs.width = type;
	}

	return attrs;
}

function createTween( value, prop, animation ) {
	var tween,
		collection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ "*" ] ),
		index = 0,
		length = collection.length;
	for ( ; index < length; index++ ) {
		if ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {

			// We're done with this property
			return tween;
		}
	}
}

function defaultPrefilter( elem, props, opts ) {
	/* jshint validthis: true */
	var prop, value, toggle, tween, hooks, oldfire, display, checkDisplay,
		anim = this,
		orig = {},
		style = elem.style,
		hidden = elem.nodeType && isHidden( elem ),
		dataShow = dataPriv.get( elem, "fxshow" );

	// Handle queue: false promises
	if ( !opts.queue ) {
		hooks = jQuery._queueHooks( elem, "fx" );
		if ( hooks.unqueued == null ) {
			hooks.unqueued = 0;
			oldfire = hooks.empty.fire;
			hooks.empty.fire = function() {
				if ( !hooks.unqueued ) {
					oldfire();
				}
			};
		}
		hooks.unqueued++;

		anim.always( function() {

			// Ensure the complete handler is called before this completes
			anim.always( function() {
				hooks.unqueued--;
				if ( !jQuery.queue( elem, "fx" ).length ) {
					hooks.empty.fire();
				}
			} );
		} );
	}

	// Height/width overflow pass
	if ( elem.nodeType === 1 && ( "height" in props || "width" in props ) ) {

		// Make sure that nothing sneaks out
		// Record all 3 overflow attributes because IE9-10 do not
		// change the overflow attribute when overflowX and
		// overflowY are set to the same value
		opts.overflow = [ style.overflow, style.overflowX, style.overflowY ];

		// Set display property to inline-block for height/width
		// animations on inline elements that are having width/height animated
		display = jQuery.css( elem, "display" );

		// Test default display if display is currently "none"
		checkDisplay = display === "none" ?
			dataPriv.get( elem, "olddisplay" ) || defaultDisplay( elem.nodeName ) : display;

		if ( checkDisplay === "inline" && jQuery.css( elem, "float" ) === "none" ) {
			style.display = "inline-block";
		}
	}

	if ( opts.overflow ) {
		style.overflow = "hidden";
		anim.always( function() {
			style.overflow = opts.overflow[ 0 ];
			style.overflowX = opts.overflow[ 1 ];
			style.overflowY = opts.overflow[ 2 ];
		} );
	}

	// show/hide pass
	for ( prop in props ) {
		value = props[ prop ];
		if ( rfxtypes.exec( value ) ) {
			delete props[ prop ];
			toggle = toggle || value === "toggle";
			if ( value === ( hidden ? "hide" : "show" ) ) {

				// If there is dataShow left over from a stopped hide or show
				// and we are going to proceed with show, we should pretend to be hidden
				if ( value === "show" && dataShow && dataShow[ prop ] !== undefined ) {
					hidden = true;
				} else {
					continue;
				}
			}
			orig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );

		// Any non-fx value stops us from restoring the original display value
		} else {
			display = undefined;
		}
	}

	if ( !jQuery.isEmptyObject( orig ) ) {
		if ( dataShow ) {
			if ( "hidden" in dataShow ) {
				hidden = dataShow.hidden;
			}
		} else {
			dataShow = dataPriv.access( elem, "fxshow", {} );
		}

		// Store state if its toggle - enables .stop().toggle() to "reverse"
		if ( toggle ) {
			dataShow.hidden = !hidden;
		}
		if ( hidden ) {
			jQuery( elem ).show();
		} else {
			anim.done( function() {
				jQuery( elem ).hide();
			} );
		}
		anim.done( function() {
			var prop;

			dataPriv.remove( elem, "fxshow" );
			for ( prop in orig ) {
				jQuery.style( elem, prop, orig[ prop ] );
			}
		} );
		for ( prop in orig ) {
			tween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );

			if ( !( prop in dataShow ) ) {
				dataShow[ prop ] = tween.start;
				if ( hidden ) {
					tween.end = tween.start;
					tween.start = prop === "width" || prop === "height" ? 1 : 0;
				}
			}
		}

	// If this is a noop like .hide().hide(), restore an overwritten display value
	} else if ( ( display === "none" ? defaultDisplay( elem.nodeName ) : display ) === "inline" ) {
		style.display = display;
	}
}

function propFilter( props, specialEasing ) {
	var index, name, easing, value, hooks;

	// camelCase, specialEasing and expand cssHook pass
	for ( index in props ) {
		name = jQuery.camelCase( index );
		easing = specialEasing[ name ];
		value = props[ index ];
		if ( jQuery.isArray( value ) ) {
			easing = value[ 1 ];
			value = props[ index ] = value[ 0 ];
		}

		if ( index !== name ) {
			props[ name ] = value;
			delete props[ index ];
		}

		hooks = jQuery.cssHooks[ name ];
		if ( hooks && "expand" in hooks ) {
			value = hooks.expand( value );
			delete props[ name ];

			// Not quite $.extend, this won't overwrite existing keys.
			// Reusing 'index' because we have the correct "name"
			for ( index in value ) {
				if ( !( index in props ) ) {
					props[ index ] = value[ index ];
					specialEasing[ index ] = easing;
				}
			}
		} else {
			specialEasing[ name ] = easing;
		}
	}
}

function Animation( elem, properties, options ) {
	var result,
		stopped,
		index = 0,
		length = Animation.prefilters.length,
		deferred = jQuery.Deferred().always( function() {

			// Don't match elem in the :animated selector
			delete tick.elem;
		} ),
		tick = function() {
			if ( stopped ) {
				return false;
			}
			var currentTime = fxNow || createFxNow(),
				remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),

				// Support: Android 2.3
				// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)
				temp = remaining / animation.duration || 0,
				percent = 1 - temp,
				index = 0,
				length = animation.tweens.length;

			for ( ; index < length ; index++ ) {
				animation.tweens[ index ].run( percent );
			}

			deferred.notifyWith( elem, [ animation, percent, remaining ] );

			if ( percent < 1 && length ) {
				return remaining;
			} else {
				deferred.resolveWith( elem, [ animation ] );
				return false;
			}
		},
		animation = deferred.promise( {
			elem: elem,
			props: jQuery.extend( {}, properties ),
			opts: jQuery.extend( true, {
				specialEasing: {},
				easing: jQuery.easing._default
			}, options ),
			originalProperties: properties,
			originalOptions: options,
			startTime: fxNow || createFxNow(),
			duration: options.duration,
			tweens: [],
			createTween: function( prop, end ) {
				var tween = jQuery.Tween( elem, animation.opts, prop, end,
						animation.opts.specialEasing[ prop ] || animation.opts.easing );
				animation.tweens.push( tween );
				return tween;
			},
			stop: function( gotoEnd ) {
				var index = 0,

					// If we are going to the end, we want to run all the tweens
					// otherwise we skip this part
					length = gotoEnd ? animation.tweens.length : 0;
				if ( stopped ) {
					return this;
				}
				stopped = true;
				for ( ; index < length ; index++ ) {
					animation.tweens[ index ].run( 1 );
				}

				// Resolve when we played the last frame; otherwise, reject
				if ( gotoEnd ) {
					deferred.notifyWith( elem, [ animation, 1, 0 ] );
					deferred.resolveWith( elem, [ animation, gotoEnd ] );
				} else {
					deferred.rejectWith( elem, [ animation, gotoEnd ] );
				}
				return this;
			}
		} ),
		props = animation.props;

	propFilter( props, animation.opts.specialEasing );

	for ( ; index < length ; index++ ) {
		result = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );
		if ( result ) {
			if ( jQuery.isFunction( result.stop ) ) {
				jQuery._queueHooks( animation.elem, animation.opts.queue ).stop =
					jQuery.proxy( result.stop, result );
			}
			return result;
		}
	}

	jQuery.map( props, createTween, animation );

	if ( jQuery.isFunction( animation.opts.start ) ) {
		animation.opts.start.call( elem, animation );
	}

	jQuery.fx.timer(
		jQuery.extend( tick, {
			elem: elem,
			anim: animation,
			queue: animation.opts.queue
		} )
	);

	// attach callbacks from options
	return animation.progress( animation.opts.progress )
		.done( animation.opts.done, animation.opts.complete )
		.fail( animation.opts.fail )
		.always( animation.opts.always );
}

jQuery.Animation = jQuery.extend( Animation, {
	tweeners: {
		"*": [ function( prop, value ) {
			var tween = this.createTween( prop, value );
			adjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );
			return tween;
		} ]
	},

	tweener: function( props, callback ) {
		if ( jQuery.isFunction( props ) ) {
			callback = props;
			props = [ "*" ];
		} else {
			props = props.match( rnotwhite );
		}

		var prop,
			index = 0,
			length = props.length;

		for ( ; index < length ; index++ ) {
			prop = props[ index ];
			Animation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];
			Animation.tweeners[ prop ].unshift( callback );
		}
	},

	prefilters: [ defaultPrefilter ],

	prefilter: function( callback, prepend ) {
		if ( prepend ) {
			Animation.prefilters.unshift( callback );
		} else {
			Animation.prefilters.push( callback );
		}
	}
} );

jQuery.speed = function( speed, easing, fn ) {
	var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {
		complete: fn || !fn && easing ||
			jQuery.isFunction( speed ) && speed,
		duration: speed,
		easing: fn && easing || easing && !jQuery.isFunction( easing ) && easing
	};

	opt.duration = jQuery.fx.off ? 0 : typeof opt.duration === "number" ?
		opt.duration : opt.duration in jQuery.fx.speeds ?
			jQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;

	// Normalize opt.queue - true/undefined/null -> "fx"
	if ( opt.queue == null || opt.queue === true ) {
		opt.queue = "fx";
	}

	// Queueing
	opt.old = opt.complete;

	opt.complete = function() {
		if ( jQuery.isFunction( opt.old ) ) {
			opt.old.call( this );
		}

		if ( opt.queue ) {
			jQuery.dequeue( this, opt.queue );
		}
	};

	return opt;
};

jQuery.fn.extend( {
	fadeTo: function( speed, to, easing, callback ) {

		// Show any hidden elements after setting opacity to 0
		return this.filter( isHidden ).css( "opacity", 0 ).show()

			// Animate to the value specified
			.end().animate( { opacity: to }, speed, easing, callback );
	},
	animate: function( prop, speed, easing, callback ) {
		var empty = jQuery.isEmptyObject( prop ),
			optall = jQuery.speed( speed, easing, callback ),
			doAnimation = function() {

				// Operate on a copy of prop so per-property easing won't be lost
				var anim = Animation( this, jQuery.extend( {}, prop ), optall );

				// Empty animations, or finishing resolves immediately
				if ( empty || dataPriv.get( this, "finish" ) ) {
					anim.stop( true );
				}
			};
			doAnimation.finish = doAnimation;

		return empty || optall.queue === false ?
			this.each( doAnimation ) :
			this.queue( optall.queue, doAnimation );
	},
	stop: function( type, clearQueue, gotoEnd ) {
		var stopQueue = function( hooks ) {
			var stop = hooks.stop;
			delete hooks.stop;
			stop( gotoEnd );
		};

		if ( typeof type !== "string" ) {
			gotoEnd = clearQueue;
			clearQueue = type;
			type = undefined;
		}
		if ( clearQueue && type !== false ) {
			this.queue( type || "fx", [] );
		}

		return this.each( function() {
			var dequeue = true,
				index = type != null && type + "queueHooks",
				timers = jQuery.timers,
				data = dataPriv.get( this );

			if ( index ) {
				if ( data[ index ] && data[ index ].stop ) {
					stopQueue( data[ index ] );
				}
			} else {
				for ( index in data ) {
					if ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {
						stopQueue( data[ index ] );
					}
				}
			}

			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this &&
					( type == null || timers[ index ].queue === type ) ) {

					timers[ index ].anim.stop( gotoEnd );
					dequeue = false;
					timers.splice( index, 1 );
				}
			}

			// Start the next in the queue if the last step wasn't forced.
			// Timers currently will call their complete callbacks, which
			// will dequeue but only if they were gotoEnd.
			if ( dequeue || !gotoEnd ) {
				jQuery.dequeue( this, type );
			}
		} );
	},
	finish: function( type ) {
		if ( type !== false ) {
			type = type || "fx";
		}
		return this.each( function() {
			var index,
				data = dataPriv.get( this ),
				queue = data[ type + "queue" ],
				hooks = data[ type + "queueHooks" ],
				timers = jQuery.timers,
				length = queue ? queue.length : 0;

			// Enable finishing flag on private data
			data.finish = true;

			// Empty the queue first
			jQuery.queue( this, type, [] );

			if ( hooks && hooks.stop ) {
				hooks.stop.call( this, true );
			}

			// Look for any active animations, and finish them
			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this && timers[ index ].queue === type ) {
					timers[ index ].anim.stop( true );
					timers.splice( index, 1 );
				}
			}

			// Look for any animations in the old queue and finish them
			for ( index = 0; index < length; index++ ) {
				if ( queue[ index ] && queue[ index ].finish ) {
					queue[ index ].finish.call( this );
				}
			}

			// Turn off finishing flag
			delete data.finish;
		} );
	}
} );

jQuery.each( [ "toggle", "show", "hide" ], function( i, name ) {
	var cssFn = jQuery.fn[ name ];
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return speed == null || typeof speed === "boolean" ?
			cssFn.apply( this, arguments ) :
			this.animate( genFx( name, true ), speed, easing, callback );
	};
} );

// Generate shortcuts for custom animations
jQuery.each( {
	slideDown: genFx( "show" ),
	slideUp: genFx( "hide" ),
	slideToggle: genFx( "toggle" ),
	fadeIn: { opacity: "show" },
	fadeOut: { opacity: "hide" },
	fadeToggle: { opacity: "toggle" }
}, function( name, props ) {
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return this.animate( props, speed, easing, callback );
	};
} );

jQuery.timers = [];
jQuery.fx.tick = function() {
	var timer,
		i = 0,
		timers = jQuery.timers;

	fxNow = jQuery.now();

	for ( ; i < timers.length; i++ ) {
		timer = timers[ i ];

		// Checks the timer has not already been removed
		if ( !timer() && timers[ i ] === timer ) {
			timers.splice( i--, 1 );
		}
	}

	if ( !timers.length ) {
		jQuery.fx.stop();
	}
	fxNow = undefined;
};

jQuery.fx.timer = function( timer ) {
	jQuery.timers.push( timer );
	if ( timer() ) {
		jQuery.fx.start();
	} else {
		jQuery.timers.pop();
	}
};

jQuery.fx.interval = 13;
jQuery.fx.start = function() {
	if ( !timerId ) {
		timerId = window.setInterval( jQuery.fx.tick, jQuery.fx.interval );
	}
};

jQuery.fx.stop = function() {
	window.clearInterval( timerId );

	timerId = null;
};

jQuery.fx.speeds = {
	slow: 600,
	fast: 200,

	// Default speed
	_default: 400
};


// Based off of the plugin by Clint Helfers, with permission.
// http://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/
jQuery.fn.delay = function( time, type ) {
	time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;
	type = type || "fx";

	return this.queue( type, function( next, hooks ) {
		var timeout = window.setTimeout( next, time );
		hooks.stop = function() {
			window.clearTimeout( timeout );
		};
	} );
};


( function() {
	var input = document.createElement( "input" ),
		select = document.createElement( "select" ),
		opt = select.appendChild( document.createElement( "option" ) );

	input.type = "checkbox";

	// Support: iOS<=5.1, Android<=4.2+
	// Default value for a checkbox should be "on"
	support.checkOn = input.value !== "";

	// Support: IE<=11+
	// Must access selectedIndex to make default options select
	support.optSelected = opt.selected;

	// Support: Android<=2.3
	// Options inside disabled selects are incorrectly marked as disabled
	select.disabled = true;
	support.optDisabled = !opt.disabled;

	// Support: IE<=11+
	// An input loses its value after becoming a radio
	input = document.createElement( "input" );
	input.value = "t";
	input.type = "radio";
	support.radioValue = input.value === "t";
} )();


var boolHook,
	attrHandle = jQuery.expr.attrHandle;

jQuery.fn.extend( {
	attr: function( name, value ) {
		return access( this, jQuery.attr, name, value, arguments.length > 1 );
	},

	removeAttr: function( name ) {
		return this.each( function() {
			jQuery.removeAttr( this, name );
		} );
	}
} );

jQuery.extend( {
	attr: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		// Don't get/set attributes on text, comment and attribute nodes
		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		// Fallback to prop when attributes are not supported
		if ( typeof elem.getAttribute === "undefined" ) {
			return jQuery.prop( elem, name, value );
		}

		// All attributes are lowercase
		// Grab necessary hook if one is defined
		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {
			name = name.toLowerCase();
			hooks = jQuery.attrHooks[ name ] ||
				( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );
		}

		if ( value !== undefined ) {
			if ( value === null ) {
				jQuery.removeAttr( elem, name );
				return;
			}

			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			elem.setAttribute( name, value + "" );
			return value;
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		ret = jQuery.find.attr( elem, name );

		// Non-existent attributes return null, we normalize to undefined
		return ret == null ? undefined : ret;
	},

	attrHooks: {
		type: {
			set: function( elem, value ) {
				if ( !support.radioValue && value === "radio" &&
					jQuery.nodeName( elem, "input" ) ) {
					var val = elem.value;
					elem.setAttribute( "type", value );
					if ( val ) {
						elem.value = val;
					}
					return value;
				}
			}
		}
	},

	removeAttr: function( elem, value ) {
		var name, propName,
			i = 0,
			attrNames = value && value.match( rnotwhite );

		if ( attrNames && elem.nodeType === 1 ) {
			while ( ( name = attrNames[ i++ ] ) ) {
				propName = jQuery.propFix[ name ] || name;

				// Boolean attributes get special treatment (#10870)
				if ( jQuery.expr.match.bool.test( name ) ) {

					// Set corresponding property to false
					elem[ propName ] = false;
				}

				elem.removeAttribute( name );
			}
		}
	}
} );

// Hooks for boolean attributes
boolHook = {
	set: function( elem, value, name ) {
		if ( value === false ) {

			// Remove boolean attributes when set to false
			jQuery.removeAttr( elem, name );
		} else {
			elem.setAttribute( name, name );
		}
		return name;
	}
};
jQuery.each( jQuery.expr.match.bool.source.match( /\w+/g ), function( i, name ) {
	var getter = attrHandle[ name ] || jQuery.find.attr;

	attrHandle[ name ] = function( elem, name, isXML ) {
		var ret, handle;
		if ( !isXML ) {

			// Avoid an infinite loop by temporarily removing this function from the getter
			handle = attrHandle[ name ];
			attrHandle[ name ] = ret;
			ret = getter( elem, name, isXML ) != null ?
				name.toLowerCase() :
				null;
			attrHandle[ name ] = handle;
		}
		return ret;
	};
} );




var rfocusable = /^(?:input|select|textarea|button)$/i,
	rclickable = /^(?:a|area)$/i;

jQuery.fn.extend( {
	prop: function( name, value ) {
		return access( this, jQuery.prop, name, value, arguments.length > 1 );
	},

	removeProp: function( name ) {
		return this.each( function() {
			delete this[ jQuery.propFix[ name ] || name ];
		} );
	}
} );

jQuery.extend( {
	prop: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		// Don't get/set properties on text, comment and attribute nodes
		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {

			// Fix name and attach hooks
			name = jQuery.propFix[ name ] || name;
			hooks = jQuery.propHooks[ name ];
		}

		if ( value !== undefined ) {
			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			return ( elem[ name ] = value );
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		return elem[ name ];
	},

	propHooks: {
		tabIndex: {
			get: function( elem ) {

				// elem.tabIndex doesn't always return the
				// correct value when it hasn't been explicitly set
				// http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/
				// Use proper attribute retrieval(#12072)
				var tabindex = jQuery.find.attr( elem, "tabindex" );

				return tabindex ?
					parseInt( tabindex, 10 ) :
					rfocusable.test( elem.nodeName ) ||
						rclickable.test( elem.nodeName ) && elem.href ?
							0 :
							-1;
			}
		}
	},

	propFix: {
		"for": "htmlFor",
		"class": "className"
	}
} );

// Support: IE <=11 only
// Accessing the selectedIndex property
// forces the browser to respect setting selected
// on the option
// The getter ensures a default option is selected
// when in an optgroup
if ( !support.optSelected ) {
	jQuery.propHooks.selected = {
		get: function( elem ) {
			var parent = elem.parentNode;
			if ( parent && parent.parentNode ) {
				parent.parentNode.selectedIndex;
			}
			return null;
		},
		set: function( elem ) {
			var parent = elem.parentNode;
			if ( parent ) {
				parent.selectedIndex;

				if ( parent.parentNode ) {
					parent.parentNode.selectedIndex;
				}
			}
		}
	};
}

jQuery.each( [
	"tabIndex",
	"readOnly",
	"maxLength",
	"cellSpacing",
	"cellPadding",
	"rowSpan",
	"colSpan",
	"useMap",
	"frameBorder",
	"contentEditable"
], function() {
	jQuery.propFix[ this.toLowerCase() ] = this;
} );




var rclass = /[\t\r\n\f]/g;

function getClass( elem ) {
	return elem.getAttribute && elem.getAttribute( "class" ) || "";
}

jQuery.fn.extend( {
	addClass: function( value ) {
		var classes, elem, cur, curValue, clazz, j, finalValue,
			i = 0;

		if ( jQuery.isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).addClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		if ( typeof value === "string" && value ) {
			classes = value.match( rnotwhite ) || [];

			while ( ( elem = this[ i++ ] ) ) {
				curValue = getClass( elem );
				cur = elem.nodeType === 1 &&
					( " " + curValue + " " ).replace( rclass, " " );

				if ( cur ) {
					j = 0;
					while ( ( clazz = classes[ j++ ] ) ) {
						if ( cur.indexOf( " " + clazz + " " ) < 0 ) {
							cur += clazz + " ";
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = jQuery.trim( cur );
					if ( curValue !== finalValue ) {
						elem.setAttribute( "class", finalValue );
					}
				}
			}
		}

		return this;
	},

	removeClass: function( value ) {
		var classes, elem, cur, curValue, clazz, j, finalValue,
			i = 0;

		if ( jQuery.isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		if ( !arguments.length ) {
			return this.attr( "class", "" );
		}

		if ( typeof value === "string" && value ) {
			classes = value.match( rnotwhite ) || [];

			while ( ( elem = this[ i++ ] ) ) {
				curValue = getClass( elem );

				// This expression is here for better compressibility (see addClass)
				cur = elem.nodeType === 1 &&
					( " " + curValue + " " ).replace( rclass, " " );

				if ( cur ) {
					j = 0;
					while ( ( clazz = classes[ j++ ] ) ) {

						// Remove *all* instances
						while ( cur.indexOf( " " + clazz + " " ) > -1 ) {
							cur = cur.replace( " " + clazz + " ", " " );
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = jQuery.trim( cur );
					if ( curValue !== finalValue ) {
						elem.setAttribute( "class", finalValue );
					}
				}
			}
		}

		return this;
	},

	toggleClass: function( value, stateVal ) {
		var type = typeof value;

		if ( typeof stateVal === "boolean" && type === "string" ) {
			return stateVal ? this.addClass( value ) : this.removeClass( value );
		}

		if ( jQuery.isFunction( value ) ) {
			return this.each( function( i ) {
				jQuery( this ).toggleClass(
					value.call( this, i, getClass( this ), stateVal ),
					stateVal
				);
			} );
		}

		return this.each( function() {
			var className, i, self, classNames;

			if ( type === "string" ) {

				// Toggle individual class names
				i = 0;
				self = jQuery( this );
				classNames = value.match( rnotwhite ) || [];

				while ( ( className = classNames[ i++ ] ) ) {

					// Check each className given, space separated list
					if ( self.hasClass( className ) ) {
						self.removeClass( className );
					} else {
						self.addClass( className );
					}
				}

			// Toggle whole class name
			} else if ( value === undefined || type === "boolean" ) {
				className = getClass( this );
				if ( className ) {

					// Store className if set
					dataPriv.set( this, "__className__", className );
				}

				// If the element has a class name or if we're passed `false`,
				// then remove the whole classname (if there was one, the above saved it).
				// Otherwise bring back whatever was previously saved (if anything),
				// falling back to the empty string if nothing was stored.
				if ( this.setAttribute ) {
					this.setAttribute( "class",
						className || value === false ?
						"" :
						dataPriv.get( this, "__className__" ) || ""
					);
				}
			}
		} );
	},

	hasClass: function( selector ) {
		var className, elem,
			i = 0;

		className = " " + selector + " ";
		while ( ( elem = this[ i++ ] ) ) {
			if ( elem.nodeType === 1 &&
				( " " + getClass( elem ) + " " ).replace( rclass, " " )
					.indexOf( className ) > -1
			) {
				return true;
			}
		}

		return false;
	}
} );




var rreturn = /\r/g,
	rspaces = /[\x20\t\r\n\f]+/g;

jQuery.fn.extend( {
	val: function( value ) {
		var hooks, ret, isFunction,
			elem = this[ 0 ];

		if ( !arguments.length ) {
			if ( elem ) {
				hooks = jQuery.valHooks[ elem.type ] ||
					jQuery.valHooks[ elem.nodeName.toLowerCase() ];

				if ( hooks &&
					"get" in hooks &&
					( ret = hooks.get( elem, "value" ) ) !== undefined
				) {
					return ret;
				}

				ret = elem.value;

				return typeof ret === "string" ?

					// Handle most common string cases
					ret.replace( rreturn, "" ) :

					// Handle cases where value is null/undef or number
					ret == null ? "" : ret;
			}

			return;
		}

		isFunction = jQuery.isFunction( value );

		return this.each( function( i ) {
			var val;

			if ( this.nodeType !== 1 ) {
				return;
			}

			if ( isFunction ) {
				val = value.call( this, i, jQuery( this ).val() );
			} else {
				val = value;
			}

			// Treat null/undefined as ""; convert numbers to string
			if ( val == null ) {
				val = "";

			} else if ( typeof val === "number" ) {
				val += "";

			} else if ( jQuery.isArray( val ) ) {
				val = jQuery.map( val, function( value ) {
					return value == null ? "" : value + "";
				} );
			}

			hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];

			// If set returns undefined, fall back to normal setting
			if ( !hooks || !( "set" in hooks ) || hooks.set( this, val, "value" ) === undefined ) {
				this.value = val;
			}
		} );
	}
} );

jQuery.extend( {
	valHooks: {
		option: {
			get: function( elem ) {

				var val = jQuery.find.attr( elem, "value" );
				return val != null ?
					val :

					// Support: IE10-11+
					// option.text throws exceptions (#14686, #14858)
					// Strip and collapse whitespace
					// https://html.spec.whatwg.org/#strip-and-collapse-whitespace
					jQuery.trim( jQuery.text( elem ) ).replace( rspaces, " " );
			}
		},
		select: {
			get: function( elem ) {
				var value, option,
					options = elem.options,
					index = elem.selectedIndex,
					one = elem.type === "select-one" || index < 0,
					values = one ? null : [],
					max = one ? index + 1 : options.length,
					i = index < 0 ?
						max :
						one ? index : 0;

				// Loop through all the selected options
				for ( ; i < max; i++ ) {
					option = options[ i ];

					// IE8-9 doesn't update selected after form reset (#2551)
					if ( ( option.selected || i === index ) &&

							// Don't return options that are disabled or in a disabled optgroup
							( support.optDisabled ?
								!option.disabled : option.getAttribute( "disabled" ) === null ) &&
							( !option.parentNode.disabled ||
								!jQuery.nodeName( option.parentNode, "optgroup" ) ) ) {

						// Get the specific value for the option
						value = jQuery( option ).val();

						// We don't need an array for one selects
						if ( one ) {
							return value;
						}

						// Multi-Selects return an array
						values.push( value );
					}
				}

				return values;
			},

			set: function( elem, value ) {
				var optionSet, option,
					options = elem.options,
					values = jQuery.makeArray( value ),
					i = options.length;

				while ( i-- ) {
					option = options[ i ];
					if ( option.selected =
						jQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1
					) {
						optionSet = true;
					}
				}

				// Force browsers to behave consistently when non-matching value is set
				if ( !optionSet ) {
					elem.selectedIndex = -1;
				}
				return values;
			}
		}
	}
} );

// Radios and checkboxes getter/setter
jQuery.each( [ "radio", "checkbox" ], function() {
	jQuery.valHooks[ this ] = {
		set: function( elem, value ) {
			if ( jQuery.isArray( value ) ) {
				return ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );
			}
		}
	};
	if ( !support.checkOn ) {
		jQuery.valHooks[ this ].get = function( elem ) {
			return elem.getAttribute( "value" ) === null ? "on" : elem.value;
		};
	}
} );




// Return jQuery for attributes-only inclusion


var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/;

jQuery.extend( jQuery.event, {

	trigger: function( event, data, elem, onlyHandlers ) {

		var i, cur, tmp, bubbleType, ontype, handle, special,
			eventPath = [ elem || document ],
			type = hasOwn.call( event, "type" ) ? event.type : event,
			namespaces = hasOwn.call( event, "namespace" ) ? event.namespace.split( "." ) : [];

		cur = tmp = elem = elem || document;

		// Don't do events on text and comment nodes
		if ( elem.nodeType === 3 || elem.nodeType === 8 ) {
			return;
		}

		// focus/blur morphs to focusin/out; ensure we're not firing them right now
		if ( rfocusMorph.test( type + jQuery.event.triggered ) ) {
			return;
		}

		if ( type.indexOf( "." ) > -1 ) {

			// Namespaced trigger; create a regexp to match event type in handle()
			namespaces = type.split( "." );
			type = namespaces.shift();
			namespaces.sort();
		}
		ontype = type.indexOf( ":" ) < 0 && "on" + type;

		// Caller can pass in a jQuery.Event object, Object, or just an event type string
		event = event[ jQuery.expando ] ?
			event :
			new jQuery.Event( type, typeof event === "object" && event );

		// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)
		event.isTrigger = onlyHandlers ? 2 : 3;
		event.namespace = namespaces.join( "." );
		event.rnamespace = event.namespace ?
			new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" ) :
			null;

		// Clean up the event in case it is being reused
		event.result = undefined;
		if ( !event.target ) {
			event.target = elem;
		}

		// Clone any incoming data and prepend the event, creating the handler arg list
		data = data == null ?
			[ event ] :
			jQuery.makeArray( data, [ event ] );

		// Allow special events to draw outside the lines
		special = jQuery.event.special[ type ] || {};
		if ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {
			return;
		}

		// Determine event propagation path in advance, per W3C events spec (#9951)
		// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
		if ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {

			bubbleType = special.delegateType || type;
			if ( !rfocusMorph.test( bubbleType + type ) ) {
				cur = cur.parentNode;
			}
			for ( ; cur; cur = cur.parentNode ) {
				eventPath.push( cur );
				tmp = cur;
			}

			// Only add window if we got to document (e.g., not plain obj or detached DOM)
			if ( tmp === ( elem.ownerDocument || document ) ) {
				eventPath.push( tmp.defaultView || tmp.parentWindow || window );
			}
		}

		// Fire handlers on the event path
		i = 0;
		while ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {

			event.type = i > 1 ?
				bubbleType :
				special.bindType || type;

			// jQuery handler
			handle = ( dataPriv.get( cur, "events" ) || {} )[ event.type ] &&
				dataPriv.get( cur, "handle" );
			if ( handle ) {
				handle.apply( cur, data );
			}

			// Native handler
			handle = ontype && cur[ ontype ];
			if ( handle && handle.apply && acceptData( cur ) ) {
				event.result = handle.apply( cur, data );
				if ( event.result === false ) {
					event.preventDefault();
				}
			}
		}
		event.type = type;

		// If nobody prevented the default action, do it now
		if ( !onlyHandlers && !event.isDefaultPrevented() ) {

			if ( ( !special._default ||
				special._default.apply( eventPath.pop(), data ) === false ) &&
				acceptData( elem ) ) {

				// Call a native DOM method on the target with the same name name as the event.
				// Don't do default actions on window, that's where global variables be (#6170)
				if ( ontype && jQuery.isFunction( elem[ type ] ) && !jQuery.isWindow( elem ) ) {

					// Don't re-trigger an onFOO event when we call its FOO() method
					tmp = elem[ ontype ];

					if ( tmp ) {
						elem[ ontype ] = null;
					}

					// Prevent re-triggering of the same event, since we already bubbled it above
					jQuery.event.triggered = type;
					elem[ type ]();
					jQuery.event.triggered = undefined;

					if ( tmp ) {
						elem[ ontype ] = tmp;
					}
				}
			}
		}

		return event.result;
	},

	// Piggyback on a donor event to simulate a different one
	// Used only for `focus(in | out)` events
	simulate: function( type, elem, event ) {
		var e = jQuery.extend(
			new jQuery.Event(),
			event,
			{
				type: type,
				isSimulated: true
			}
		);

		jQuery.event.trigger( e, null, elem );
	}

} );

jQuery.fn.extend( {

	trigger: function( type, data ) {
		return this.each( function() {
			jQuery.event.trigger( type, data, this );
		} );
	},
	triggerHandler: function( type, data ) {
		var elem = this[ 0 ];
		if ( elem ) {
			return jQuery.event.trigger( type, data, elem, true );
		}
	}
} );


jQuery.each( ( "blur focus focusin focusout load resize scroll unload click dblclick " +
	"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
	"change select submit keydown keypress keyup error contextmenu" ).split( " " ),
	function( i, name ) {

	// Handle event binding
	jQuery.fn[ name ] = function( data, fn ) {
		return arguments.length > 0 ?
			this.on( name, null, data, fn ) :
			this.trigger( name );
	};
} );

jQuery.fn.extend( {
	hover: function( fnOver, fnOut ) {
		return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );
	}
} );




support.focusin = "onfocusin" in window;


// Support: Firefox
// Firefox doesn't have focus(in | out) events
// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787
//
// Support: Chrome, Safari
// focus(in | out) events fire after focus & blur events,
// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order
// Related ticket - https://code.google.com/p/chromium/issues/detail?id=449857
if ( !support.focusin ) {
	jQuery.each( { focus: "focusin", blur: "focusout" }, function( orig, fix ) {

		// Attach a single capturing handler on the document while someone wants focusin/focusout
		var handler = function( event ) {
			jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );
		};

		jQuery.event.special[ fix ] = {
			setup: function() {
				var doc = this.ownerDocument || this,
					attaches = dataPriv.access( doc, fix );

				if ( !attaches ) {
					doc.addEventListener( orig, handler, true );
				}
				dataPriv.access( doc, fix, ( attaches || 0 ) + 1 );
			},
			teardown: function() {
				var doc = this.ownerDocument || this,
					attaches = dataPriv.access( doc, fix ) - 1;

				if ( !attaches ) {
					doc.removeEventListener( orig, handler, true );
					dataPriv.remove( doc, fix );

				} else {
					dataPriv.access( doc, fix, attaches );
				}
			}
		};
	} );
}
var location = window.location;

var nonce = jQuery.now();

var rquery = ( /\?/ );



// Support: Android 2.3
// Workaround failure to string-cast null input
jQuery.parseJSON = function( data ) {
	return JSON.parse( data + "" );
};


// Cross-browser xml parsing
jQuery.parseXML = function( data ) {
	var xml;
	if ( !data || typeof data !== "string" ) {
		return null;
	}

	// Support: IE9
	try {
		xml = ( new window.DOMParser() ).parseFromString( data, "text/xml" );
	} catch ( e ) {
		xml = undefined;
	}

	if ( !xml || xml.getElementsByTagName( "parsererror" ).length ) {
		jQuery.error( "Invalid XML: " + data );
	}
	return xml;
};


var
	rhash = /#.*$/,
	rts = /([?&])_=[^&]*/,
	rheaders = /^(.*?):[ \t]*([^\r\n]*)$/mg,

	// #7653, #8125, #8152: local protocol detection
	rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
	rnoContent = /^(?:GET|HEAD)$/,
	rprotocol = /^\/\//,

	/* Prefilters
	 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
	 * 2) These are called:
	 *    - BEFORE asking for a transport
	 *    - AFTER param serialization (s.data is a string if s.processData is true)
	 * 3) key is the dataType
	 * 4) the catchall symbol "*" can be used
	 * 5) execution will start with transport dataType and THEN continue down to "*" if needed
	 */
	prefilters = {},

	/* Transports bindings
	 * 1) key is the dataType
	 * 2) the catchall symbol "*" can be used
	 * 3) selection will start with transport dataType and THEN go to "*" if needed
	 */
	transports = {},

	// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
	allTypes = "*/".concat( "*" ),

	// Anchor tag for parsing the document origin
	originAnchor = document.createElement( "a" );
	originAnchor.href = location.href;

// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
function addToPrefiltersOrTransports( structure ) {

	// dataTypeExpression is optional and defaults to "*"
	return function( dataTypeExpression, func ) {

		if ( typeof dataTypeExpression !== "string" ) {
			func = dataTypeExpression;
			dataTypeExpression = "*";
		}

		var dataType,
			i = 0,
			dataTypes = dataTypeExpression.toLowerCase().match( rnotwhite ) || [];

		if ( jQuery.isFunction( func ) ) {

			// For each dataType in the dataTypeExpression
			while ( ( dataType = dataTypes[ i++ ] ) ) {

				// Prepend if requested
				if ( dataType[ 0 ] === "+" ) {
					dataType = dataType.slice( 1 ) || "*";
					( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );

				// Otherwise append
				} else {
					( structure[ dataType ] = structure[ dataType ] || [] ).push( func );
				}
			}
		}
	};
}

// Base inspection function for prefilters and transports
function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {

	var inspected = {},
		seekingTransport = ( structure === transports );

	function inspect( dataType ) {
		var selected;
		inspected[ dataType ] = true;
		jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {
			var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );
			if ( typeof dataTypeOrTransport === "string" &&
				!seekingTransport && !inspected[ dataTypeOrTransport ] ) {

				options.dataTypes.unshift( dataTypeOrTransport );
				inspect( dataTypeOrTransport );
				return false;
			} else if ( seekingTransport ) {
				return !( selected = dataTypeOrTransport );
			}
		} );
		return selected;
	}

	return inspect( options.dataTypes[ 0 ] ) || !inspected[ "*" ] && inspect( "*" );
}

// A special extend for ajax options
// that takes "flat" options (not to be deep extended)
// Fixes #9887
function ajaxExtend( target, src ) {
	var key, deep,
		flatOptions = jQuery.ajaxSettings.flatOptions || {};

	for ( key in src ) {
		if ( src[ key ] !== undefined ) {
			( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];
		}
	}
	if ( deep ) {
		jQuery.extend( true, target, deep );
	}

	return target;
}

/* Handles responses to an ajax request:
 * - finds the right dataType (mediates between content-type and expected dataType)
 * - returns the corresponding response
 */
function ajaxHandleResponses( s, jqXHR, responses ) {

	var ct, type, finalDataType, firstDataType,
		contents = s.contents,
		dataTypes = s.dataTypes;

	// Remove auto dataType and get content-type in the process
	while ( dataTypes[ 0 ] === "*" ) {
		dataTypes.shift();
		if ( ct === undefined ) {
			ct = s.mimeType || jqXHR.getResponseHeader( "Content-Type" );
		}
	}

	// Check if we're dealing with a known content-type
	if ( ct ) {
		for ( type in contents ) {
			if ( contents[ type ] && contents[ type ].test( ct ) ) {
				dataTypes.unshift( type );
				break;
			}
		}
	}

	// Check to see if we have a response for the expected dataType
	if ( dataTypes[ 0 ] in responses ) {
		finalDataType = dataTypes[ 0 ];
	} else {

		// Try convertible dataTypes
		for ( type in responses ) {
			if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[ 0 ] ] ) {
				finalDataType = type;
				break;
			}
			if ( !firstDataType ) {
				firstDataType = type;
			}
		}

		// Or just use first one
		finalDataType = finalDataType || firstDataType;
	}

	// If we found a dataType
	// We add the dataType to the list if needed
	// and return the corresponding response
	if ( finalDataType ) {
		if ( finalDataType !== dataTypes[ 0 ] ) {
			dataTypes.unshift( finalDataType );
		}
		return responses[ finalDataType ];
	}
}

/* Chain conversions given the request and the original response
 * Also sets the responseXXX fields on the jqXHR instance
 */
function ajaxConvert( s, response, jqXHR, isSuccess ) {
	var conv2, current, conv, tmp, prev,
		converters = {},

		// Work with a copy of dataTypes in case we need to modify it for conversion
		dataTypes = s.dataTypes.slice();

	// Create converters map with lowercased keys
	if ( dataTypes[ 1 ] ) {
		for ( conv in s.converters ) {
			converters[ conv.toLowerCase() ] = s.converters[ conv ];
		}
	}

	current = dataTypes.shift();

	// Convert to each sequential dataType
	while ( current ) {

		if ( s.responseFields[ current ] ) {
			jqXHR[ s.responseFields[ current ] ] = response;
		}

		// Apply the dataFilter if provided
		if ( !prev && isSuccess && s.dataFilter ) {
			response = s.dataFilter( response, s.dataType );
		}

		prev = current;
		current = dataTypes.shift();

		if ( current ) {

		// There's only work to do if current dataType is non-auto
			if ( current === "*" ) {

				current = prev;

			// Convert response if prev dataType is non-auto and differs from current
			} else if ( prev !== "*" && prev !== current ) {

				// Seek a direct converter
				conv = converters[ prev + " " + current ] || converters[ "* " + current ];

				// If none found, seek a pair
				if ( !conv ) {
					for ( conv2 in converters ) {

						// If conv2 outputs current
						tmp = conv2.split( " " );
						if ( tmp[ 1 ] === current ) {

							// If prev can be converted to accepted input
							conv = converters[ prev + " " + tmp[ 0 ] ] ||
								converters[ "* " + tmp[ 0 ] ];
							if ( conv ) {

								// Condense equivalence converters
								if ( conv === true ) {
									conv = converters[ conv2 ];

								// Otherwise, insert the intermediate dataType
								} else if ( converters[ conv2 ] !== true ) {
									current = tmp[ 0 ];
									dataTypes.unshift( tmp[ 1 ] );
								}
								break;
							}
						}
					}
				}

				// Apply converter (if not an equivalence)
				if ( conv !== true ) {

					// Unless errors are allowed to bubble, catch and return them
					if ( conv && s.throws ) {
						response = conv( response );
					} else {
						try {
							response = conv( response );
						} catch ( e ) {
							return {
								state: "parsererror",
								error: conv ? e : "No conversion from " + prev + " to " + current
							};
						}
					}
				}
			}
		}
	}

	return { state: "success", data: response };
}

jQuery.extend( {

	// Counter for holding the number of active queries
	active: 0,

	// Last-Modified header cache for next request
	lastModified: {},
	etag: {},

	ajaxSettings: {
		url: location.href,
		type: "GET",
		isLocal: rlocalProtocol.test( location.protocol ),
		global: true,
		processData: true,
		async: true,
		contentType: "application/x-www-form-urlencoded; charset=UTF-8",
		/*
		timeout: 0,
		data: null,
		dataType: null,
		username: null,
		password: null,
		cache: null,
		throws: false,
		traditional: false,
		headers: {},
		*/

		accepts: {
			"*": allTypes,
			text: "text/plain",
			html: "text/html",
			xml: "application/xml, text/xml",
			json: "application/json, text/javascript"
		},

		contents: {
			xml: /\bxml\b/,
			html: /\bhtml/,
			json: /\bjson\b/
		},

		responseFields: {
			xml: "responseXML",
			text: "responseText",
			json: "responseJSON"
		},

		// Data converters
		// Keys separate source (or catchall "*") and destination types with a single space
		converters: {

			// Convert anything to text
			"* text": String,

			// Text to html (true = no transformation)
			"text html": true,

			// Evaluate text as a json expression
			"text json": jQuery.parseJSON,

			// Parse text as xml
			"text xml": jQuery.parseXML
		},

		// For options that shouldn't be deep extended:
		// you can add your own custom options here if
		// and when you create one that shouldn't be
		// deep extended (see ajaxExtend)
		flatOptions: {
			url: true,
			context: true
		}
	},

	// Creates a full fledged settings object into target
	// with both ajaxSettings and settings fields.
	// If target is omitted, writes into ajaxSettings.
	ajaxSetup: function( target, settings ) {
		return settings ?

			// Building a settings object
			ajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :

			// Extending ajaxSettings
			ajaxExtend( jQuery.ajaxSettings, target );
	},

	ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),
	ajaxTransport: addToPrefiltersOrTransports( transports ),

	// Main method
	ajax: function( url, options ) {

		// If url is an object, simulate pre-1.5 signature
		if ( typeof url === "object" ) {
			options = url;
			url = undefined;
		}

		// Force options to be an object
		options = options || {};

		var transport,

			// URL without anti-cache param
			cacheURL,

			// Response headers
			responseHeadersString,
			responseHeaders,

			// timeout handle
			timeoutTimer,

			// Url cleanup var
			urlAnchor,

			// To know if global events are to be dispatched
			fireGlobals,

			// Loop variable
			i,

			// Create the final options object
			s = jQuery.ajaxSetup( {}, options ),

			// Callbacks context
			callbackContext = s.context || s,

			// Context for global events is callbackContext if it is a DOM node or jQuery collection
			globalEventContext = s.context &&
				( callbackContext.nodeType || callbackContext.jquery ) ?
					jQuery( callbackContext ) :
					jQuery.event,

			// Deferreds
			deferred = jQuery.Deferred(),
			completeDeferred = jQuery.Callbacks( "once memory" ),

			// Status-dependent callbacks
			statusCode = s.statusCode || {},

			// Headers (they are sent all at once)
			requestHeaders = {},
			requestHeadersNames = {},

			// The jqXHR state
			state = 0,

			// Default abort message
			strAbort = "canceled",

			// Fake xhr
			jqXHR = {
				readyState: 0,

				// Builds headers hashtable if needed
				getResponseHeader: function( key ) {
					var match;
					if ( state === 2 ) {
						if ( !responseHeaders ) {
							responseHeaders = {};
							while ( ( match = rheaders.exec( responseHeadersString ) ) ) {
								responseHeaders[ match[ 1 ].toLowerCase() ] = match[ 2 ];
							}
						}
						match = responseHeaders[ key.toLowerCase() ];
					}
					return match == null ? null : match;
				},

				// Raw string
				getAllResponseHeaders: function() {
					return state === 2 ? responseHeadersString : null;
				},

				// Caches the header
				setRequestHeader: function( name, value ) {
					var lname = name.toLowerCase();
					if ( !state ) {
						name = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;
						requestHeaders[ name ] = value;
					}
					return this;
				},

				// Overrides response content-type header
				overrideMimeType: function( type ) {
					if ( !state ) {
						s.mimeType = type;
					}
					return this;
				},

				// Status-dependent callbacks
				statusCode: function( map ) {
					var code;
					if ( map ) {
						if ( state < 2 ) {
							for ( code in map ) {

								// Lazy-add the new callback in a way that preserves old ones
								statusCode[ code ] = [ statusCode[ code ], map[ code ] ];
							}
						} else {

							// Execute the appropriate callbacks
							jqXHR.always( map[ jqXHR.status ] );
						}
					}
					return this;
				},

				// Cancel the request
				abort: function( statusText ) {
					var finalText = statusText || strAbort;
					if ( transport ) {
						transport.abort( finalText );
					}
					done( 0, finalText );
					return this;
				}
			};

		// Attach deferreds
		deferred.promise( jqXHR ).complete = completeDeferred.add;
		jqXHR.success = jqXHR.done;
		jqXHR.error = jqXHR.fail;

		// Remove hash character (#7531: and string promotion)
		// Add protocol if not provided (prefilters might expect it)
		// Handle falsy url in the settings object (#10093: consistency with old signature)
		// We also use the url parameter if available
		s.url = ( ( url || s.url || location.href ) + "" ).replace( rhash, "" )
			.replace( rprotocol, location.protocol + "//" );

		// Alias method option to type as per ticket #12004
		s.type = options.method || options.type || s.method || s.type;

		// Extract dataTypes list
		s.dataTypes = jQuery.trim( s.dataType || "*" ).toLowerCase().match( rnotwhite ) || [ "" ];

		// A cross-domain request is in order when the origin doesn't match the current origin.
		if ( s.crossDomain == null ) {
			urlAnchor = document.createElement( "a" );

			// Support: IE8-11+
			// IE throws exception if url is malformed, e.g. http://example.com:80x/
			try {
				urlAnchor.href = s.url;

				// Support: IE8-11+
				// Anchor's host property isn't correctly set when s.url is relative
				urlAnchor.href = urlAnchor.href;
				s.crossDomain = originAnchor.protocol + "//" + originAnchor.host !==
					urlAnchor.protocol + "//" + urlAnchor.host;
			} catch ( e ) {

				// If there is an error parsing the URL, assume it is crossDomain,
				// it can be rejected by the transport if it is invalid
				s.crossDomain = true;
			}
		}

		// Convert data if not already a string
		if ( s.data && s.processData && typeof s.data !== "string" ) {
			s.data = jQuery.param( s.data, s.traditional );
		}

		// Apply prefilters
		inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );

		// If request was aborted inside a prefilter, stop there
		if ( state === 2 ) {
			return jqXHR;
		}

		// We can fire global events as of now if asked to
		// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)
		fireGlobals = jQuery.event && s.global;

		// Watch for a new set of requests
		if ( fireGlobals && jQuery.active++ === 0 ) {
			jQuery.event.trigger( "ajaxStart" );
		}

		// Uppercase the type
		s.type = s.type.toUpperCase();

		// Determine if request has content
		s.hasContent = !rnoContent.test( s.type );

		// Save the URL in case we're toying with the If-Modified-Since
		// and/or If-None-Match header later on
		cacheURL = s.url;

		// More options handling for requests with no content
		if ( !s.hasContent ) {

			// If data is available, append data to url
			if ( s.data ) {
				cacheURL = ( s.url += ( rquery.test( cacheURL ) ? "&" : "?" ) + s.data );

				// #9682: remove data so that it's not used in an eventual retry
				delete s.data;
			}

			// Add anti-cache in url if needed
			if ( s.cache === false ) {
				s.url = rts.test( cacheURL ) ?

					// If there is already a '_' parameter, set its value
					cacheURL.replace( rts, "$1_=" + nonce++ ) :

					// Otherwise add one to the end
					cacheURL + ( rquery.test( cacheURL ) ? "&" : "?" ) + "_=" + nonce++;
			}
		}

		// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
		if ( s.ifModified ) {
			if ( jQuery.lastModified[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ cacheURL ] );
			}
			if ( jQuery.etag[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ cacheURL ] );
			}
		}

		// Set the correct header, if data is being sent
		if ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {
			jqXHR.setRequestHeader( "Content-Type", s.contentType );
		}

		// Set the Accepts header for the server, depending on the dataType
		jqXHR.setRequestHeader(
			"Accept",
			s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?
				s.accepts[ s.dataTypes[ 0 ] ] +
					( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :
				s.accepts[ "*" ]
		);

		// Check for headers option
		for ( i in s.headers ) {
			jqXHR.setRequestHeader( i, s.headers[ i ] );
		}

		// Allow custom headers/mimetypes and early abort
		if ( s.beforeSend &&
			( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {

			// Abort if not done already and return
			return jqXHR.abort();
		}

		// Aborting is no longer a cancellation
		strAbort = "abort";

		// Install callbacks on deferreds
		for ( i in { success: 1, error: 1, complete: 1 } ) {
			jqXHR[ i ]( s[ i ] );
		}

		// Get transport
		transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );

		// If no transport, we auto-abort
		if ( !transport ) {
			done( -1, "No Transport" );
		} else {
			jqXHR.readyState = 1;

			// Send global event
			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );
			}

			// If request was aborted inside ajaxSend, stop there
			if ( state === 2 ) {
				return jqXHR;
			}

			// Timeout
			if ( s.async && s.timeout > 0 ) {
				timeoutTimer = window.setTimeout( function() {
					jqXHR.abort( "timeout" );
				}, s.timeout );
			}

			try {
				state = 1;
				transport.send( requestHeaders, done );
			} catch ( e ) {

				// Propagate exception as error if not done
				if ( state < 2 ) {
					done( -1, e );

				// Simply rethrow otherwise
				} else {
					throw e;
				}
			}
		}

		// Callback for when everything is done
		function done( status, nativeStatusText, responses, headers ) {
			var isSuccess, success, error, response, modified,
				statusText = nativeStatusText;

			// Called once
			if ( state === 2 ) {
				return;
			}

			// State is "done" now
			state = 2;

			// Clear timeout if it exists
			if ( timeoutTimer ) {
				window.clearTimeout( timeoutTimer );
			}

			// Dereference transport for early garbage collection
			// (no matter how long the jqXHR object will be used)
			transport = undefined;

			// Cache response headers
			responseHeadersString = headers || "";

			// Set readyState
			jqXHR.readyState = status > 0 ? 4 : 0;

			// Determine if successful
			isSuccess = status >= 200 && status < 300 || status === 304;

			// Get response data
			if ( responses ) {
				response = ajaxHandleResponses( s, jqXHR, responses );
			}

			// Convert no matter what (that way responseXXX fields are always set)
			response = ajaxConvert( s, response, jqXHR, isSuccess );

			// If successful, handle type chaining
			if ( isSuccess ) {

				// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
				if ( s.ifModified ) {
					modified = jqXHR.getResponseHeader( "Last-Modified" );
					if ( modified ) {
						jQuery.lastModified[ cacheURL ] = modified;
					}
					modified = jqXHR.getResponseHeader( "etag" );
					if ( modified ) {
						jQuery.etag[ cacheURL ] = modified;
					}
				}

				// if no content
				if ( status === 204 || s.type === "HEAD" ) {
					statusText = "nocontent";

				// if not modified
				} else if ( status === 304 ) {
					statusText = "notmodified";

				// If we have data, let's convert it
				} else {
					statusText = response.state;
					success = response.data;
					error = response.error;
					isSuccess = !error;
				}
			} else {

				// Extract error from statusText and normalize for non-aborts
				error = statusText;
				if ( status || !statusText ) {
					statusText = "error";
					if ( status < 0 ) {
						status = 0;
					}
				}
			}

			// Set data for the fake xhr object
			jqXHR.status = status;
			jqXHR.statusText = ( nativeStatusText || statusText ) + "";

			// Success/Error
			if ( isSuccess ) {
				deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );
			} else {
				deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );
			}

			// Status-dependent callbacks
			jqXHR.statusCode( statusCode );
			statusCode = undefined;

			if ( fireGlobals ) {
				globalEventContext.trigger( isSuccess ? "ajaxSuccess" : "ajaxError",
					[ jqXHR, s, isSuccess ? success : error ] );
			}

			// Complete
			completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );

			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );

				// Handle the global AJAX counter
				if ( !( --jQuery.active ) ) {
					jQuery.event.trigger( "ajaxStop" );
				}
			}
		}

		return jqXHR;
	},

	getJSON: function( url, data, callback ) {
		return jQuery.get( url, data, callback, "json" );
	},

	getScript: function( url, callback ) {
		return jQuery.get( url, undefined, callback, "script" );
	}
} );

jQuery.each( [ "get", "post" ], function( i, method ) {
	jQuery[ method ] = function( url, data, callback, type ) {

		// Shift arguments if data argument was omitted
		if ( jQuery.isFunction( data ) ) {
			type = type || callback;
			callback = data;
			data = undefined;
		}

		// The url can be an options object (which then must have .url)
		return jQuery.ajax( jQuery.extend( {
			url: url,
			type: method,
			dataType: type,
			data: data,
			success: callback
		}, jQuery.isPlainObject( url ) && url ) );
	};
} );


jQuery._evalUrl = function( url ) {
	return jQuery.ajax( {
		url: url,

		// Make this explicit, since user can override this through ajaxSetup (#11264)
		type: "GET",
		dataType: "script",
		async: false,
		global: false,
		"throws": true
	} );
};


jQuery.fn.extend( {
	wrapAll: function( html ) {
		var wrap;

		if ( jQuery.isFunction( html ) ) {
			return this.each( function( i ) {
				jQuery( this ).wrapAll( html.call( this, i ) );
			} );
		}

		if ( this[ 0 ] ) {

			// The elements to wrap the target around
			wrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );

			if ( this[ 0 ].parentNode ) {
				wrap.insertBefore( this[ 0 ] );
			}

			wrap.map( function() {
				var elem = this;

				while ( elem.firstElementChild ) {
					elem = elem.firstElementChild;
				}

				return elem;
			} ).append( this );
		}

		return this;
	},

	wrapInner: function( html ) {
		if ( jQuery.isFunction( html ) ) {
			return this.each( function( i ) {
				jQuery( this ).wrapInner( html.call( this, i ) );
			} );
		}

		return this.each( function() {
			var self = jQuery( this ),
				contents = self.contents();

			if ( contents.length ) {
				contents.wrapAll( html );

			} else {
				self.append( html );
			}
		} );
	},

	wrap: function( html ) {
		var isFunction = jQuery.isFunction( html );

		return this.each( function( i ) {
			jQuery( this ).wrapAll( isFunction ? html.call( this, i ) : html );
		} );
	},

	unwrap: function() {
		return this.parent().each( function() {
			if ( !jQuery.nodeName( this, "body" ) ) {
				jQuery( this ).replaceWith( this.childNodes );
			}
		} ).end();
	}
} );


jQuery.expr.filters.hidden = function( elem ) {
	return !jQuery.expr.filters.visible( elem );
};
jQuery.expr.filters.visible = function( elem ) {

	// Support: Opera <= 12.12
	// Opera reports offsetWidths and offsetHeights less than zero on some elements
	// Use OR instead of AND as the element is not visible if either is true
	// See tickets #10406 and #13132
	return elem.offsetWidth > 0 || elem.offsetHeight > 0 || elem.getClientRects().length > 0;
};




var r20 = /%20/g,
	rbracket = /\[\]$/,
	rCRLF = /\r?\n/g,
	rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
	rsubmittable = /^(?:input|select|textarea|keygen)/i;

function buildParams( prefix, obj, traditional, add ) {
	var name;

	if ( jQuery.isArray( obj ) ) {

		// Serialize array item.
		jQuery.each( obj, function( i, v ) {
			if ( traditional || rbracket.test( prefix ) ) {

				// Treat each array item as a scalar.
				add( prefix, v );

			} else {

				// Item is non-scalar (array or object), encode its numeric index.
				buildParams(
					prefix + "[" + ( typeof v === "object" && v != null ? i : "" ) + "]",
					v,
					traditional,
					add
				);
			}
		} );

	} else if ( !traditional && jQuery.type( obj ) === "object" ) {

		// Serialize object item.
		for ( name in obj ) {
			buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
		}

	} else {

		// Serialize scalar item.
		add( prefix, obj );
	}
}

// Serialize an array of form elements or a set of
// key/values into a query string
jQuery.param = function( a, traditional ) {
	var prefix,
		s = [],
		add = function( key, value ) {

			// If value is a function, invoke it and return its value
			value = jQuery.isFunction( value ) ? value() : ( value == null ? "" : value );
			s[ s.length ] = encodeURIComponent( key ) + "=" + encodeURIComponent( value );
		};

	// Set traditional to true for jQuery <= 1.3.2 behavior.
	if ( traditional === undefined ) {
		traditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;
	}

	// If an array was passed in, assume that it is an array of form elements.
	if ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {

		// Serialize the form elements
		jQuery.each( a, function() {
			add( this.name, this.value );
		} );

	} else {

		// If traditional, encode the "old" way (the way 1.3.2 or older
		// did it), otherwise encode params recursively.
		for ( prefix in a ) {
			buildParams( prefix, a[ prefix ], traditional, add );
		}
	}

	// Return the resulting serialization
	return s.join( "&" ).replace( r20, "+" );
};

jQuery.fn.extend( {
	serialize: function() {
		return jQuery.param( this.serializeArray() );
	},
	serializeArray: function() {
		return this.map( function() {

			// Can add propHook for "elements" to filter or add form elements
			var elements = jQuery.prop( this, "elements" );
			return elements ? jQuery.makeArray( elements ) : this;
		} )
		.filter( function() {
			var type = this.type;

			// Use .is( ":disabled" ) so that fieldset[disabled] works
			return this.name && !jQuery( this ).is( ":disabled" ) &&
				rsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&
				( this.checked || !rcheckableType.test( type ) );
		} )
		.map( function( i, elem ) {
			var val = jQuery( this ).val();

			return val == null ?
				null :
				jQuery.isArray( val ) ?
					jQuery.map( val, function( val ) {
						return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
					} ) :
					{ name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
		} ).get();
	}
} );


jQuery.ajaxSettings.xhr = function() {
	try {
		return new window.XMLHttpRequest();
	} catch ( e ) {}
};

var xhrSuccessStatus = {

		// File protocol always yields status code 0, assume 200
		0: 200,

		// Support: IE9
		// #1450: sometimes IE returns 1223 when it should be 204
		1223: 204
	},
	xhrSupported = jQuery.ajaxSettings.xhr();

support.cors = !!xhrSupported && ( "withCredentials" in xhrSupported );
support.ajax = xhrSupported = !!xhrSupported;

jQuery.ajaxTransport( function( options ) {
	var callback, errorCallback;

	// Cross domain only allowed if supported through XMLHttpRequest
	if ( support.cors || xhrSupported && !options.crossDomain ) {
		return {
			send: function( headers, complete ) {
				var i,
					xhr = options.xhr();

				xhr.open(
					options.type,
					options.url,
					options.async,
					options.username,
					options.password
				);

				// Apply custom fields if provided
				if ( options.xhrFields ) {
					for ( i in options.xhrFields ) {
						xhr[ i ] = options.xhrFields[ i ];
					}
				}

				// Override mime type if needed
				if ( options.mimeType && xhr.overrideMimeType ) {
					xhr.overrideMimeType( options.mimeType );
				}

				// X-Requested-With header
				// For cross-domain requests, seeing as conditions for a preflight are
				// akin to a jigsaw puzzle, we simply never set it to be sure.
				// (it can always be set on a per-request basis or even using ajaxSetup)
				// For same-domain requests, won't change header if already provided.
				if ( !options.crossDomain && !headers[ "X-Requested-With" ] ) {
					headers[ "X-Requested-With" ] = "XMLHttpRequest";
				}

				// Set headers
				for ( i in headers ) {
					xhr.setRequestHeader( i, headers[ i ] );
				}

				// Callback
				callback = function( type ) {
					return function() {
						if ( callback ) {
							callback = errorCallback = xhr.onload =
								xhr.onerror = xhr.onabort = xhr.onreadystatechange = null;

							if ( type === "abort" ) {
								xhr.abort();
							} else if ( type === "error" ) {

								// Support: IE9
								// On a manual native abort, IE9 throws
								// errors on any property access that is not readyState
								if ( typeof xhr.status !== "number" ) {
									complete( 0, "error" );
								} else {
									complete(

										// File: protocol always yields status 0; see #8605, #14207
										xhr.status,
										xhr.statusText
									);
								}
							} else {
								complete(
									xhrSuccessStatus[ xhr.status ] || xhr.status,
									xhr.statusText,

									// Support: IE9 only
									// IE9 has no XHR2 but throws on binary (trac-11426)
									// For XHR2 non-text, let the caller handle it (gh-2498)
									( xhr.responseType || "text" ) !== "text"  ||
									typeof xhr.responseText !== "string" ?
										{ binary: xhr.response } :
										{ text: xhr.responseText },
									xhr.getAllResponseHeaders()
								);
							}
						}
					};
				};

				// Listen to events
				xhr.onload = callback();
				errorCallback = xhr.onerror = callback( "error" );

				// Support: IE9
				// Use onreadystatechange to replace onabort
				// to handle uncaught aborts
				if ( xhr.onabort !== undefined ) {
					xhr.onabort = errorCallback;
				} else {
					xhr.onreadystatechange = function() {

						// Check readyState before timeout as it changes
						if ( xhr.readyState === 4 ) {

							// Allow onerror to be called first,
							// but that will not handle a native abort
							// Also, save errorCallback to a variable
							// as xhr.onerror cannot be accessed
							window.setTimeout( function() {
								if ( callback ) {
									errorCallback();
								}
							} );
						}
					};
				}

				// Create the abort callback
				callback = callback( "abort" );

				try {

					// Do send the request (this may raise an exception)
					xhr.send( options.hasContent && options.data || null );
				} catch ( e ) {

					// #14683: Only rethrow if this hasn't been notified as an error yet
					if ( callback ) {
						throw e;
					}
				}
			},

			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
} );




// Install script dataType
jQuery.ajaxSetup( {
	accepts: {
		script: "text/javascript, application/javascript, " +
			"application/ecmascript, application/x-ecmascript"
	},
	contents: {
		script: /\b(?:java|ecma)script\b/
	},
	converters: {
		"text script": function( text ) {
			jQuery.globalEval( text );
			return text;
		}
	}
} );

// Handle cache's special case and crossDomain
jQuery.ajaxPrefilter( "script", function( s ) {
	if ( s.cache === undefined ) {
		s.cache = false;
	}
	if ( s.crossDomain ) {
		s.type = "GET";
	}
} );

// Bind script tag hack transport
jQuery.ajaxTransport( "script", function( s ) {

	// This transport only deals with cross domain requests
	if ( s.crossDomain ) {
		var script, callback;
		return {
			send: function( _, complete ) {
				script = jQuery( "<script>" ).prop( {
					charset: s.scriptCharset,
					src: s.url
				} ).on(
					"load error",
					callback = function( evt ) {
						script.remove();
						callback = null;
						if ( evt ) {
							complete( evt.type === "error" ? 404 : 200, evt.type );
						}
					}
				);

				// Use native DOM manipulation to avoid our domManip AJAX trickery
				document.head.appendChild( script[ 0 ] );
			},
			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
} );




var oldCallbacks = [],
	rjsonp = /(=)\?(?=&|$)|\?\?/;

// Default jsonp settings
jQuery.ajaxSetup( {
	jsonp: "callback",
	jsonpCallback: function() {
		var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( nonce++ ) );
		this[ callback ] = true;
		return callback;
	}
} );

// Detect, normalize options and install callbacks for jsonp requests
jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {

	var callbackName, overwritten, responseContainer,
		jsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?
			"url" :
			typeof s.data === "string" &&
				( s.contentType || "" )
					.indexOf( "application/x-www-form-urlencoded" ) === 0 &&
				rjsonp.test( s.data ) && "data"
		);

	// Handle iff the expected data type is "jsonp" or we have a parameter to set
	if ( jsonProp || s.dataTypes[ 0 ] === "jsonp" ) {

		// Get callback name, remembering preexisting value associated with it
		callbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?
			s.jsonpCallback() :
			s.jsonpCallback;

		// Insert callback into url or form data
		if ( jsonProp ) {
			s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, "$1" + callbackName );
		} else if ( s.jsonp !== false ) {
			s.url += ( rquery.test( s.url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName;
		}

		// Use data converter to retrieve json after script execution
		s.converters[ "script json" ] = function() {
			if ( !responseContainer ) {
				jQuery.error( callbackName + " was not called" );
			}
			return responseContainer[ 0 ];
		};

		// Force json dataType
		s.dataTypes[ 0 ] = "json";

		// Install callback
		overwritten = window[ callbackName ];
		window[ callbackName ] = function() {
			responseContainer = arguments;
		};

		// Clean-up function (fires after converters)
		jqXHR.always( function() {

			// If previous value didn't exist - remove it
			if ( overwritten === undefined ) {
				jQuery( window ).removeProp( callbackName );

			// Otherwise restore preexisting value
			} else {
				window[ callbackName ] = overwritten;
			}

			// Save back as free
			if ( s[ callbackName ] ) {

				// Make sure that re-using the options doesn't screw things around
				s.jsonpCallback = originalSettings.jsonpCallback;

				// Save the callback name for future use
				oldCallbacks.push( callbackName );
			}

			// Call if it was a function and we have a response
			if ( responseContainer && jQuery.isFunction( overwritten ) ) {
				overwritten( responseContainer[ 0 ] );
			}

			responseContainer = overwritten = undefined;
		} );

		// Delegate to script
		return "script";
	}
} );




// Argument "data" should be string of html
// context (optional): If specified, the fragment will be created in this context,
// defaults to document
// keepScripts (optional): If true, will include scripts passed in the html string
jQuery.parseHTML = function( data, context, keepScripts ) {
	if ( !data || typeof data !== "string" ) {
		return null;
	}
	if ( typeof context === "boolean" ) {
		keepScripts = context;
		context = false;
	}
	context = context || document;

	var parsed = rsingleTag.exec( data ),
		scripts = !keepScripts && [];

	// Single tag
	if ( parsed ) {
		return [ context.createElement( parsed[ 1 ] ) ];
	}

	parsed = buildFragment( [ data ], context, scripts );

	if ( scripts && scripts.length ) {
		jQuery( scripts ).remove();
	}

	return jQuery.merge( [], parsed.childNodes );
};


// Keep a copy of the old load method
var _load = jQuery.fn.load;

/**
 * Load a url into a page
 */
jQuery.fn.load = function( url, params, callback ) {
	if ( typeof url !== "string" && _load ) {
		return _load.apply( this, arguments );
	}

	var selector, type, response,
		self = this,
		off = url.indexOf( " " );

	if ( off > -1 ) {
		selector = jQuery.trim( url.slice( off ) );
		url = url.slice( 0, off );
	}

	// If it's a function
	if ( jQuery.isFunction( params ) ) {

		// We assume that it's the callback
		callback = params;
		params = undefined;

	// Otherwise, build a param string
	} else if ( params && typeof params === "object" ) {
		type = "POST";
	}

	// If we have elements to modify, make the request
	if ( self.length > 0 ) {
		jQuery.ajax( {
			url: url,

			// If "type" variable is undefined, then "GET" method will be used.
			// Make value of this field explicit since
			// user can override it through ajaxSetup method
			type: type || "GET",
			dataType: "html",
			data: params
		} ).done( function( responseText ) {

			// Save response for use in complete callback
			response = arguments;

			self.html( selector ?

				// If a selector was specified, locate the right elements in a dummy div
				// Exclude scripts to avoid IE 'Permission Denied' errors
				jQuery( "<div>" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :

				// Otherwise use the full result
				responseText );

		// If the request succeeds, this function gets "data", "status", "jqXHR"
		// but they are ignored because response was set above.
		// If it fails, this function gets "jqXHR", "status", "error"
		} ).always( callback && function( jqXHR, status ) {
			self.each( function() {
				callback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );
			} );
		} );
	}

	return this;
};




// Attach a bunch of functions for handling common AJAX events
jQuery.each( [
	"ajaxStart",
	"ajaxStop",
	"ajaxComplete",
	"ajaxError",
	"ajaxSuccess",
	"ajaxSend"
], function( i, type ) {
	jQuery.fn[ type ] = function( fn ) {
		return this.on( type, fn );
	};
} );




jQuery.expr.filters.animated = function( elem ) {
	return jQuery.grep( jQuery.timers, function( fn ) {
		return elem === fn.elem;
	} ).length;
};




/**
 * Gets a window from an element
 */
function getWindow( elem ) {
	return jQuery.isWindow( elem ) ? elem : elem.nodeType === 9 && elem.defaultView;
}

jQuery.offset = {
	setOffset: function( elem, options, i ) {
		var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,
			position = jQuery.css( elem, "position" ),
			curElem = jQuery( elem ),
			props = {};

		// Set position first, in-case top/left are set even on static elem
		if ( position === "static" ) {
			elem.style.position = "relative";
		}

		curOffset = curElem.offset();
		curCSSTop = jQuery.css( elem, "top" );
		curCSSLeft = jQuery.css( elem, "left" );
		calculatePosition = ( position === "absolute" || position === "fixed" ) &&
			( curCSSTop + curCSSLeft ).indexOf( "auto" ) > -1;

		// Need to be able to calculate position if either
		// top or left is auto and position is either absolute or fixed
		if ( calculatePosition ) {
			curPosition = curElem.position();
			curTop = curPosition.top;
			curLeft = curPosition.left;

		} else {
			curTop = parseFloat( curCSSTop ) || 0;
			curLeft = parseFloat( curCSSLeft ) || 0;
		}

		if ( jQuery.isFunction( options ) ) {

			// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)
			options = options.call( elem, i, jQuery.extend( {}, curOffset ) );
		}

		if ( options.top != null ) {
			props.top = ( options.top - curOffset.top ) + curTop;
		}
		if ( options.left != null ) {
			props.left = ( options.left - curOffset.left ) + curLeft;
		}

		if ( "using" in options ) {
			options.using.call( elem, props );

		} else {
			curElem.css( props );
		}
	}
};

jQuery.fn.extend( {
	offset: function( options ) {
		if ( arguments.length ) {
			return options === undefined ?
				this :
				this.each( function( i ) {
					jQuery.offset.setOffset( this, options, i );
				} );
		}

		var docElem, win,
			elem = this[ 0 ],
			box = { top: 0, left: 0 },
			doc = elem && elem.ownerDocument;

		if ( !doc ) {
			return;
		}

		docElem = doc.documentElement;

		// Make sure it's not a disconnected DOM node
		if ( !jQuery.contains( docElem, elem ) ) {
			return box;
		}

		box = elem.getBoundingClientRect();
		win = getWindow( doc );
		return {
			top: box.top + win.pageYOffset - docElem.clientTop,
			left: box.left + win.pageXOffset - docElem.clientLeft
		};
	},

	position: function() {
		if ( !this[ 0 ] ) {
			return;
		}

		var offsetParent, offset,
			elem = this[ 0 ],
			parentOffset = { top: 0, left: 0 };

		// Fixed elements are offset from window (parentOffset = {top:0, left: 0},
		// because it is its only offset parent
		if ( jQuery.css( elem, "position" ) === "fixed" ) {

			// Assume getBoundingClientRect is there when computed position is fixed
			offset = elem.getBoundingClientRect();

		} else {

			// Get *real* offsetParent
			offsetParent = this.offsetParent();

			// Get correct offsets
			offset = this.offset();
			if ( !jQuery.nodeName( offsetParent[ 0 ], "html" ) ) {
				parentOffset = offsetParent.offset();
			}

			// Add offsetParent borders
			parentOffset.top += jQuery.css( offsetParent[ 0 ], "borderTopWidth", true );
			parentOffset.left += jQuery.css( offsetParent[ 0 ], "borderLeftWidth", true );
		}

		// Subtract parent offsets and element margins
		return {
			top: offset.top - parentOffset.top - jQuery.css( elem, "marginTop", true ),
			left: offset.left - parentOffset.left - jQuery.css( elem, "marginLeft", true )
		};
	},

	// This method will return documentElement in the following cases:
	// 1) For the element inside the iframe without offsetParent, this method will return
	//    documentElement of the parent window
	// 2) For the hidden or detached element
	// 3) For body or html element, i.e. in case of the html node - it will return itself
	//
	// but those exceptions were never presented as a real life use-cases
	// and might be considered as more preferable results.
	//
	// This logic, however, is not guaranteed and can change at any point in the future
	offsetParent: function() {
		return this.map( function() {
			var offsetParent = this.offsetParent;

			while ( offsetParent && jQuery.css( offsetParent, "position" ) === "static" ) {
				offsetParent = offsetParent.offsetParent;
			}

			return offsetParent || documentElement;
		} );
	}
} );

// Create scrollLeft and scrollTop methods
jQuery.each( { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function( method, prop ) {
	var top = "pageYOffset" === prop;

	jQuery.fn[ method ] = function( val ) {
		return access( this, function( elem, method, val ) {
			var win = getWindow( elem );

			if ( val === undefined ) {
				return win ? win[ prop ] : elem[ method ];
			}

			if ( win ) {
				win.scrollTo(
					!top ? val : win.pageXOffset,
					top ? val : win.pageYOffset
				);

			} else {
				elem[ method ] = val;
			}
		}, method, val, arguments.length );
	};
} );

// Support: Safari<7-8+, Chrome<37-44+
// Add the top/left cssHooks using jQuery.fn.position
// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
// Blink bug: https://code.google.com/p/chromium/issues/detail?id=229280
// getComputedStyle returns percent when specified for top/left/bottom/right;
// rather than make the css module depend on the offset module, just check for it here
jQuery.each( [ "top", "left" ], function( i, prop ) {
	jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,
		function( elem, computed ) {
			if ( computed ) {
				computed = curCSS( elem, prop );

				// If curCSS returns percentage, fallback to offset
				return rnumnonpx.test( computed ) ?
					jQuery( elem ).position()[ prop ] + "px" :
					computed;
			}
		}
	);
} );


// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods
jQuery.each( { Height: "height", Width: "width" }, function( name, type ) {
	jQuery.each( { padding: "inner" + name, content: type, "": "outer" + name },
		function( defaultExtra, funcName ) {

		// Margin is only for outerHeight, outerWidth
		jQuery.fn[ funcName ] = function( margin, value ) {
			var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),
				extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );

			return access( this, function( elem, type, value ) {
				var doc;

				if ( jQuery.isWindow( elem ) ) {

					// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there
					// isn't a whole lot we can do. See pull request at this URL for discussion:
					// https://github.com/jquery/jquery/pull/764
					return elem.document.documentElement[ "client" + name ];
				}

				// Get document width or height
				if ( elem.nodeType === 9 ) {
					doc = elem.documentElement;

					// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],
					// whichever is greatest
					return Math.max(
						elem.body[ "scroll" + name ], doc[ "scroll" + name ],
						elem.body[ "offset" + name ], doc[ "offset" + name ],
						doc[ "client" + name ]
					);
				}

				return value === undefined ?

					// Get width or height on the element, requesting but not forcing parseFloat
					jQuery.css( elem, type, extra ) :

					// Set width or height on the element
					jQuery.style( elem, type, value, extra );
			}, type, chainable ? margin : undefined, chainable, null );
		};
	} );
} );


jQuery.fn.extend( {

	bind: function( types, data, fn ) {
		return this.on( types, null, data, fn );
	},
	unbind: function( types, fn ) {
		return this.off( types, null, fn );
	},

	delegate: function( selector, types, data, fn ) {
		return this.on( types, selector, data, fn );
	},
	undelegate: function( selector, types, fn ) {

		// ( namespace ) or ( selector, types [, fn] )
		return arguments.length === 1 ?
			this.off( selector, "**" ) :
			this.off( types, selector || "**", fn );
	},
	size: function() {
		return this.length;
	}
} );

jQuery.fn.andSelf = jQuery.fn.addBack;




// Register as a named AMD module, since jQuery can be concatenated with other
// files that may use define, but not via a proper concatenation script that
// understands anonymous AMD modules. A named AMD is safest and most robust
// way to register. Lowercase jquery is used because AMD module names are
// derived from file names, and jQuery is normally delivered in a lowercase
// file name. Do this after creating the global so that if an AMD module wants
// to call noConflict to hide this version of jQuery, it will work.

// Note that for maximum portability, libraries that are not jQuery should
// declare themselves as anonymous modules, and avoid setting a global if an
// AMD loader is present. jQuery is a special case. For more information, see
// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon

if ( true ) {
	!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function() {
		return jQuery;
	}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}



var

	// Map over jQuery in case of overwrite
	_jQuery = window.jQuery,

	// Map over the $ in case of overwrite
	_$ = window.$;

jQuery.noConflict = function( deep ) {
	if ( window.$ === jQuery ) {
		window.$ = _$;
	}

	if ( deep && window.jQuery === jQuery ) {
		window.jQuery = _jQuery;
	}

	return jQuery;
};

// Expose jQuery and $ identifiers, even in AMD
// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)
// and CommonJS for browser emulators (#13566)
if ( !noGlobal ) {
	window.jQuery = window.$ = jQuery;
}

return jQuery;
}));


/***/ }),

/***/ "./node_modules/laravel-echo/dist/echo.js":
/*!************************************************!*\
  !*** ./node_modules/laravel-echo/dist/echo.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Channel: () => (/* binding */ Channel),
/* harmony export */   "default": () => (/* binding */ Echo)
/* harmony export */ });
function _typeof(obj) {
  "@babel/helpers - typeof";

  return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  }, _typeof(obj);
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  Object.defineProperty(Constructor, "prototype", {
    writable: false
  });
  return Constructor;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  Object.defineProperty(subClass, "prototype", {
    writable: false
  });
  if (superClass) _setPrototypeOf(subClass, superClass);
}

function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}

function _isNativeReflectConstruct() {
  if (typeof Reflect === "undefined" || !Reflect.construct) return false;
  if (Reflect.construct.sham) return false;
  if (typeof Proxy === "function") return true;

  try {
    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
    return true;
  } catch (e) {
    return false;
  }
}

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

function _possibleConstructorReturn(self, call) {
  if (call && (typeof call === "object" || typeof call === "function")) {
    return call;
  } else if (call !== void 0) {
    throw new TypeError("Derived constructors may only return object or undefined");
  }

  return _assertThisInitialized(self);
}

function _createSuper(Derived) {
  var hasNativeReflectConstruct = _isNativeReflectConstruct();

  return function _createSuperInternal() {
    var Super = _getPrototypeOf(Derived),
        result;

    if (hasNativeReflectConstruct) {
      var NewTarget = _getPrototypeOf(this).constructor;

      result = Reflect.construct(Super, arguments, NewTarget);
    } else {
      result = Super.apply(this, arguments);
    }

    return _possibleConstructorReturn(this, result);
  };
}

/**
 * This class represents a basic channel.
 */
var Channel = /*#__PURE__*/function () {
  function Channel() {
    _classCallCheck(this, Channel);
  }

  _createClass(Channel, [{
    key: "listenForWhisper",
    value:
    /**
     * Listen for a whisper event on the channel instance.
     */
    function listenForWhisper(event, callback) {
      return this.listen('.client-' + event, callback);
    }
    /**
     * Listen for an event on the channel instance.
     */

  }, {
    key: "notification",
    value: function notification(callback) {
      return this.listen('.Illuminate\\Notifications\\Events\\BroadcastNotificationCreated', callback);
    }
    /**
     * Stop listening for a whisper event on the channel instance.
     */

  }, {
    key: "stopListeningForWhisper",
    value: function stopListeningForWhisper(event, callback) {
      return this.stopListening('.client-' + event, callback);
    }
  }]);

  return Channel;
}();

/**
 * Event name formatter
 */
var EventFormatter = /*#__PURE__*/function () {
  /**
   * Create a new class instance.
   */
  function EventFormatter(namespace) {
    _classCallCheck(this, EventFormatter);

    this.setNamespace(namespace);
  }
  /**
   * Format the given event name.
   */


  _createClass(EventFormatter, [{
    key: "format",
    value: function format(event) {
      if (event.charAt(0) === '.' || event.charAt(0) === '\\') {
        return event.substr(1);
      } else if (this.namespace) {
        event = this.namespace + '.' + event;
      }

      return event.replace(/\./g, '\\');
    }
    /**
     * Set the event namespace.
     */

  }, {
    key: "setNamespace",
    value: function setNamespace(value) {
      this.namespace = value;
    }
  }]);

  return EventFormatter;
}();

/**
 * This class represents a Pusher channel.
 */

var PusherChannel = /*#__PURE__*/function (_Channel) {
  _inherits(PusherChannel, _Channel);

  var _super = _createSuper(PusherChannel);

  /**
   * Create a new class instance.
   */
  function PusherChannel(pusher, name, options) {
    var _this;

    _classCallCheck(this, PusherChannel);

    _this = _super.call(this);
    _this.name = name;
    _this.pusher = pusher;
    _this.options = options;
    _this.eventFormatter = new EventFormatter(_this.options.namespace);

    _this.subscribe();

    return _this;
  }
  /**
   * Subscribe to a Pusher channel.
   */


  _createClass(PusherChannel, [{
    key: "subscribe",
    value: function subscribe() {
      this.subscription = this.pusher.subscribe(this.name);
    }
    /**
     * Unsubscribe from a Pusher channel.
     */

  }, {
    key: "unsubscribe",
    value: function unsubscribe() {
      this.pusher.unsubscribe(this.name);
    }
    /**
     * Listen for an event on the channel instance.
     */

  }, {
    key: "listen",
    value: function listen(event, callback) {
      this.on(this.eventFormatter.format(event), callback);
      return this;
    }
    /**
     * Listen for all events on the channel instance.
     */

  }, {
    key: "listenToAll",
    value: function listenToAll(callback) {
      var _this2 = this;

      this.subscription.bind_global(function (event, data) {
        if (event.startsWith('pusher:')) {
          return;
        }

        var namespace = _this2.options.namespace.replace(/\./g, '\\');

        var formattedEvent = event.startsWith(namespace) ? event.substring(namespace.length + 1) : '.' + event;
        callback(formattedEvent, data);
      });
      return this;
    }
    /**
     * Stop listening for an event on the channel instance.
     */

  }, {
    key: "stopListening",
    value: function stopListening(event, callback) {
      if (callback) {
        this.subscription.unbind(this.eventFormatter.format(event), callback);
      } else {
        this.subscription.unbind(this.eventFormatter.format(event));
      }

      return this;
    }
    /**
     * Stop listening for all events on the channel instance.
     */

  }, {
    key: "stopListeningToAll",
    value: function stopListeningToAll(callback) {
      if (callback) {
        this.subscription.unbind_global(callback);
      } else {
        this.subscription.unbind_global();
      }

      return this;
    }
    /**
     * Register a callback to be called anytime a subscription succeeds.
     */

  }, {
    key: "subscribed",
    value: function subscribed(callback) {
      this.on('pusher:subscription_succeeded', function () {
        callback();
      });
      return this;
    }
    /**
     * Register a callback to be called anytime a subscription error occurs.
     */

  }, {
    key: "error",
    value: function error(callback) {
      this.on('pusher:subscription_error', function (status) {
        callback(status);
      });
      return this;
    }
    /**
     * Bind a channel to an event.
     */

  }, {
    key: "on",
    value: function on(event, callback) {
      this.subscription.bind(event, callback);
      return this;
    }
  }]);

  return PusherChannel;
}(Channel);

/**
 * This class represents a Pusher private channel.
 */

var PusherPrivateChannel = /*#__PURE__*/function (_PusherChannel) {
  _inherits(PusherPrivateChannel, _PusherChannel);

  var _super = _createSuper(PusherPrivateChannel);

  function PusherPrivateChannel() {
    _classCallCheck(this, PusherPrivateChannel);

    return _super.apply(this, arguments);
  }

  _createClass(PusherPrivateChannel, [{
    key: "whisper",
    value:
    /**
     * Send a whisper event to other clients in the channel.
     */
    function whisper(eventName, data) {
      this.pusher.channels.channels[this.name].trigger("client-".concat(eventName), data);
      return this;
    }
  }]);

  return PusherPrivateChannel;
}(PusherChannel);

/**
 * This class represents a Pusher private channel.
 */

var PusherEncryptedPrivateChannel = /*#__PURE__*/function (_PusherChannel) {
  _inherits(PusherEncryptedPrivateChannel, _PusherChannel);

  var _super = _createSuper(PusherEncryptedPrivateChannel);

  function PusherEncryptedPrivateChannel() {
    _classCallCheck(this, PusherEncryptedPrivateChannel);

    return _super.apply(this, arguments);
  }

  _createClass(PusherEncryptedPrivateChannel, [{
    key: "whisper",
    value:
    /**
     * Send a whisper event to other clients in the channel.
     */
    function whisper(eventName, data) {
      this.pusher.channels.channels[this.name].trigger("client-".concat(eventName), data);
      return this;
    }
  }]);

  return PusherEncryptedPrivateChannel;
}(PusherChannel);

/**
 * This class represents a Pusher presence channel.
 */

var PusherPresenceChannel = /*#__PURE__*/function (_PusherChannel) {
  _inherits(PusherPresenceChannel, _PusherChannel);

  var _super = _createSuper(PusherPresenceChannel);

  function PusherPresenceChannel() {
    _classCallCheck(this, PusherPresenceChannel);

    return _super.apply(this, arguments);
  }

  _createClass(PusherPresenceChannel, [{
    key: "here",
    value:
    /**
     * Register a callback to be called anytime the member list changes.
     */
    function here(callback) {
      this.on('pusher:subscription_succeeded', function (data) {
        callback(Object.keys(data.members).map(function (k) {
          return data.members[k];
        }));
      });
      return this;
    }
    /**
     * Listen for someone joining the channel.
     */

  }, {
    key: "joining",
    value: function joining(callback) {
      this.on('pusher:member_added', function (member) {
        callback(member.info);
      });
      return this;
    }
    /**
     * Send a whisper event to other clients in the channel.
     */

  }, {
    key: "whisper",
    value: function whisper(eventName, data) {
      this.pusher.channels.channels[this.name].trigger("client-".concat(eventName), data);
      return this;
    }
    /**
     * Listen for someone leaving the channel.
     */

  }, {
    key: "leaving",
    value: function leaving(callback) {
      this.on('pusher:member_removed', function (member) {
        callback(member.info);
      });
      return this;
    }
  }]);

  return PusherPresenceChannel;
}(PusherChannel);

/**
 * This class represents a Socket.io channel.
 */

var SocketIoChannel = /*#__PURE__*/function (_Channel) {
  _inherits(SocketIoChannel, _Channel);

  var _super = _createSuper(SocketIoChannel);

  /**
   * Create a new class instance.
   */
  function SocketIoChannel(socket, name, options) {
    var _this;

    _classCallCheck(this, SocketIoChannel);

    _this = _super.call(this);
    /**
     * The event callbacks applied to the socket.
     */

    _this.events = {};
    /**
     * User supplied callbacks for events on this channel.
     */

    _this.listeners = {};
    _this.name = name;
    _this.socket = socket;
    _this.options = options;
    _this.eventFormatter = new EventFormatter(_this.options.namespace);

    _this.subscribe();

    return _this;
  }
  /**
   * Subscribe to a Socket.io channel.
   */


  _createClass(SocketIoChannel, [{
    key: "subscribe",
    value: function subscribe() {
      this.socket.emit('subscribe', {
        channel: this.name,
        auth: this.options.auth || {}
      });
    }
    /**
     * Unsubscribe from channel and ubind event callbacks.
     */

  }, {
    key: "unsubscribe",
    value: function unsubscribe() {
      this.unbind();
      this.socket.emit('unsubscribe', {
        channel: this.name,
        auth: this.options.auth || {}
      });
    }
    /**
     * Listen for an event on the channel instance.
     */

  }, {
    key: "listen",
    value: function listen(event, callback) {
      this.on(this.eventFormatter.format(event), callback);
      return this;
    }
    /**
     * Stop listening for an event on the channel instance.
     */

  }, {
    key: "stopListening",
    value: function stopListening(event, callback) {
      this.unbindEvent(this.eventFormatter.format(event), callback);
      return this;
    }
    /**
     * Register a callback to be called anytime a subscription succeeds.
     */

  }, {
    key: "subscribed",
    value: function subscribed(callback) {
      this.on('connect', function (socket) {
        callback(socket);
      });
      return this;
    }
    /**
     * Register a callback to be called anytime an error occurs.
     */

  }, {
    key: "error",
    value: function error(callback) {
      return this;
    }
    /**
     * Bind the channel's socket to an event and store the callback.
     */

  }, {
    key: "on",
    value: function on(event, callback) {
      var _this2 = this;

      this.listeners[event] = this.listeners[event] || [];

      if (!this.events[event]) {
        this.events[event] = function (channel, data) {
          if (_this2.name === channel && _this2.listeners[event]) {
            _this2.listeners[event].forEach(function (cb) {
              return cb(data);
            });
          }
        };

        this.socket.on(event, this.events[event]);
      }

      this.listeners[event].push(callback);
      return this;
    }
    /**
     * Unbind the channel's socket from all stored event callbacks.
     */

  }, {
    key: "unbind",
    value: function unbind() {
      var _this3 = this;

      Object.keys(this.events).forEach(function (event) {
        _this3.unbindEvent(event);
      });
    }
    /**
     * Unbind the listeners for the given event.
     */

  }, {
    key: "unbindEvent",
    value: function unbindEvent(event, callback) {
      this.listeners[event] = this.listeners[event] || [];

      if (callback) {
        this.listeners[event] = this.listeners[event].filter(function (cb) {
          return cb !== callback;
        });
      }

      if (!callback || this.listeners[event].length === 0) {
        if (this.events[event]) {
          this.socket.removeListener(event, this.events[event]);
          delete this.events[event];
        }

        delete this.listeners[event];
      }
    }
  }]);

  return SocketIoChannel;
}(Channel);

/**
 * This class represents a Socket.io private channel.
 */

var SocketIoPrivateChannel = /*#__PURE__*/function (_SocketIoChannel) {
  _inherits(SocketIoPrivateChannel, _SocketIoChannel);

  var _super = _createSuper(SocketIoPrivateChannel);

  function SocketIoPrivateChannel() {
    _classCallCheck(this, SocketIoPrivateChannel);

    return _super.apply(this, arguments);
  }

  _createClass(SocketIoPrivateChannel, [{
    key: "whisper",
    value:
    /**
     * Send a whisper event to other clients in the channel.
     */
    function whisper(eventName, data) {
      this.socket.emit('client event', {
        channel: this.name,
        event: "client-".concat(eventName),
        data: data
      });
      return this;
    }
  }]);

  return SocketIoPrivateChannel;
}(SocketIoChannel);

/**
 * This class represents a Socket.io presence channel.
 */

var SocketIoPresenceChannel = /*#__PURE__*/function (_SocketIoPrivateChann) {
  _inherits(SocketIoPresenceChannel, _SocketIoPrivateChann);

  var _super = _createSuper(SocketIoPresenceChannel);

  function SocketIoPresenceChannel() {
    _classCallCheck(this, SocketIoPresenceChannel);

    return _super.apply(this, arguments);
  }

  _createClass(SocketIoPresenceChannel, [{
    key: "here",
    value:
    /**
     * Register a callback to be called anytime the member list changes.
     */
    function here(callback) {
      this.on('presence:subscribed', function (members) {
        callback(members.map(function (m) {
          return m.user_info;
        }));
      });
      return this;
    }
    /**
     * Listen for someone joining the channel.
     */

  }, {
    key: "joining",
    value: function joining(callback) {
      this.on('presence:joining', function (member) {
        return callback(member.user_info);
      });
      return this;
    }
    /**
     * Send a whisper event to other clients in the channel.
     */

  }, {
    key: "whisper",
    value: function whisper(eventName, data) {
      this.socket.emit('client event', {
        channel: this.name,
        event: "client-".concat(eventName),
        data: data
      });
      return this;
    }
    /**
     * Listen for someone leaving the channel.
     */

  }, {
    key: "leaving",
    value: function leaving(callback) {
      this.on('presence:leaving', function (member) {
        return callback(member.user_info);
      });
      return this;
    }
  }]);

  return SocketIoPresenceChannel;
}(SocketIoPrivateChannel);

/**
 * This class represents a null channel.
 */

var NullChannel = /*#__PURE__*/function (_Channel) {
  _inherits(NullChannel, _Channel);

  var _super = _createSuper(NullChannel);

  function NullChannel() {
    _classCallCheck(this, NullChannel);

    return _super.apply(this, arguments);
  }

  _createClass(NullChannel, [{
    key: "subscribe",
    value:
    /**
     * Subscribe to a channel.
     */
    function subscribe() {//
    }
    /**
     * Unsubscribe from a channel.
     */

  }, {
    key: "unsubscribe",
    value: function unsubscribe() {//
    }
    /**
     * Listen for an event on the channel instance.
     */

  }, {
    key: "listen",
    value: function listen(event, callback) {
      return this;
    }
    /**
     * Listen for all events on the channel instance.
     */

  }, {
    key: "listenToAll",
    value: function listenToAll(callback) {
      return this;
    }
    /**
     * Stop listening for an event on the channel instance.
     */

  }, {
    key: "stopListening",
    value: function stopListening(event, callback) {
      return this;
    }
    /**
     * Register a callback to be called anytime a subscription succeeds.
     */

  }, {
    key: "subscribed",
    value: function subscribed(callback) {
      return this;
    }
    /**
     * Register a callback to be called anytime an error occurs.
     */

  }, {
    key: "error",
    value: function error(callback) {
      return this;
    }
    /**
     * Bind a channel to an event.
     */

  }, {
    key: "on",
    value: function on(event, callback) {
      return this;
    }
  }]);

  return NullChannel;
}(Channel);

/**
 * This class represents a null private channel.
 */

var NullPrivateChannel = /*#__PURE__*/function (_NullChannel) {
  _inherits(NullPrivateChannel, _NullChannel);

  var _super = _createSuper(NullPrivateChannel);

  function NullPrivateChannel() {
    _classCallCheck(this, NullPrivateChannel);

    return _super.apply(this, arguments);
  }

  _createClass(NullPrivateChannel, [{
    key: "whisper",
    value:
    /**
     * Send a whisper event to other clients in the channel.
     */
    function whisper(eventName, data) {
      return this;
    }
  }]);

  return NullPrivateChannel;
}(NullChannel);

/**
 * This class represents a null presence channel.
 */

var NullPresenceChannel = /*#__PURE__*/function (_NullChannel) {
  _inherits(NullPresenceChannel, _NullChannel);

  var _super = _createSuper(NullPresenceChannel);

  function NullPresenceChannel() {
    _classCallCheck(this, NullPresenceChannel);

    return _super.apply(this, arguments);
  }

  _createClass(NullPresenceChannel, [{
    key: "here",
    value:
    /**
     * Register a callback to be called anytime the member list changes.
     */
    function here(callback) {
      return this;
    }
    /**
     * Listen for someone joining the channel.
     */

  }, {
    key: "joining",
    value: function joining(callback) {
      return this;
    }
    /**
     * Send a whisper event to other clients in the channel.
     */

  }, {
    key: "whisper",
    value: function whisper(eventName, data) {
      return this;
    }
    /**
     * Listen for someone leaving the channel.
     */

  }, {
    key: "leaving",
    value: function leaving(callback) {
      return this;
    }
  }]);

  return NullPresenceChannel;
}(NullChannel);

var Connector = /*#__PURE__*/function () {
  /**
   * Create a new class instance.
   */
  function Connector(options) {
    _classCallCheck(this, Connector);

    /**
     * Default connector options.
     */
    this._defaultOptions = {
      auth: {
        headers: {}
      },
      authEndpoint: '/broadcasting/auth',
      userAuthentication: {
        endpoint: '/broadcasting/user-auth',
        headers: {}
      },
      broadcaster: 'pusher',
      csrfToken: null,
      bearerToken: null,
      host: null,
      key: null,
      namespace: 'App.Events'
    };
    this.setOptions(options);
    this.connect();
  }
  /**
   * Merge the custom options with the defaults.
   */


  _createClass(Connector, [{
    key: "setOptions",
    value: function setOptions(options) {
      this.options = _extends(this._defaultOptions, options);
      var token = this.csrfToken();

      if (token) {
        this.options.auth.headers['X-CSRF-TOKEN'] = token;
        this.options.userAuthentication.headers['X-CSRF-TOKEN'] = token;
      }

      token = this.options.bearerToken;

      if (token) {
        this.options.auth.headers['Authorization'] = 'Bearer ' + token;
        this.options.userAuthentication.headers['Authorization'] = 'Bearer ' + token;
      }

      return options;
    }
    /**
     * Extract the CSRF token from the page.
     */

  }, {
    key: "csrfToken",
    value: function csrfToken() {
      var selector;

      if (typeof window !== 'undefined' && window['Laravel'] && window['Laravel'].csrfToken) {
        return window['Laravel'].csrfToken;
      } else if (this.options.csrfToken) {
        return this.options.csrfToken;
      } else if (typeof document !== 'undefined' && typeof document.querySelector === 'function' && (selector = document.querySelector('meta[name="csrf-token"]'))) {
        return selector.getAttribute('content');
      }

      return null;
    }
  }]);

  return Connector;
}();

/**
 * This class creates a connector to Pusher.
 */

var PusherConnector = /*#__PURE__*/function (_Connector) {
  _inherits(PusherConnector, _Connector);

  var _super = _createSuper(PusherConnector);

  function PusherConnector() {
    var _this;

    _classCallCheck(this, PusherConnector);

    _this = _super.apply(this, arguments);
    /**
     * All of the subscribed channel names.
     */

    _this.channels = {};
    return _this;
  }
  /**
   * Create a fresh Pusher connection.
   */


  _createClass(PusherConnector, [{
    key: "connect",
    value: function connect() {
      if (typeof this.options.client !== 'undefined') {
        this.pusher = this.options.client;
      } else if (this.options.Pusher) {
        this.pusher = new this.options.Pusher(this.options.key, this.options);
      } else {
        this.pusher = new Pusher(this.options.key, this.options);
      }
    }
    /**
     * Sign in the user via Pusher user authentication (https://pusher.com/docs/channels/using_channels/user-authentication/).
     */

  }, {
    key: "signin",
    value: function signin() {
      this.pusher.signin();
    }
    /**
     * Listen for an event on a channel instance.
     */

  }, {
    key: "listen",
    value: function listen(name, event, callback) {
      return this.channel(name).listen(event, callback);
    }
    /**
     * Get a channel instance by name.
     */

  }, {
    key: "channel",
    value: function channel(name) {
      if (!this.channels[name]) {
        this.channels[name] = new PusherChannel(this.pusher, name, this.options);
      }

      return this.channels[name];
    }
    /**
     * Get a private channel instance by name.
     */

  }, {
    key: "privateChannel",
    value: function privateChannel(name) {
      if (!this.channels['private-' + name]) {
        this.channels['private-' + name] = new PusherPrivateChannel(this.pusher, 'private-' + name, this.options);
      }

      return this.channels['private-' + name];
    }
    /**
     * Get a private encrypted channel instance by name.
     */

  }, {
    key: "encryptedPrivateChannel",
    value: function encryptedPrivateChannel(name) {
      if (!this.channels['private-encrypted-' + name]) {
        this.channels['private-encrypted-' + name] = new PusherEncryptedPrivateChannel(this.pusher, 'private-encrypted-' + name, this.options);
      }

      return this.channels['private-encrypted-' + name];
    }
    /**
     * Get a presence channel instance by name.
     */

  }, {
    key: "presenceChannel",
    value: function presenceChannel(name) {
      if (!this.channels['presence-' + name]) {
        this.channels['presence-' + name] = new PusherPresenceChannel(this.pusher, 'presence-' + name, this.options);
      }

      return this.channels['presence-' + name];
    }
    /**
     * Leave the given channel, as well as its private and presence variants.
     */

  }, {
    key: "leave",
    value: function leave(name) {
      var _this2 = this;

      var channels = [name, 'private-' + name, 'private-encrypted-' + name, 'presence-' + name];
      channels.forEach(function (name, index) {
        _this2.leaveChannel(name);
      });
    }
    /**
     * Leave the given channel.
     */

  }, {
    key: "leaveChannel",
    value: function leaveChannel(name) {
      if (this.channels[name]) {
        this.channels[name].unsubscribe();
        delete this.channels[name];
      }
    }
    /**
     * Get the socket ID for the connection.
     */

  }, {
    key: "socketId",
    value: function socketId() {
      return this.pusher.connection.socket_id;
    }
    /**
     * Disconnect Pusher connection.
     */

  }, {
    key: "disconnect",
    value: function disconnect() {
      this.pusher.disconnect();
    }
  }]);

  return PusherConnector;
}(Connector);

/**
 * This class creates a connnector to a Socket.io server.
 */

var SocketIoConnector = /*#__PURE__*/function (_Connector) {
  _inherits(SocketIoConnector, _Connector);

  var _super = _createSuper(SocketIoConnector);

  function SocketIoConnector() {
    var _this;

    _classCallCheck(this, SocketIoConnector);

    _this = _super.apply(this, arguments);
    /**
     * All of the subscribed channel names.
     */

    _this.channels = {};
    return _this;
  }
  /**
   * Create a fresh Socket.io connection.
   */


  _createClass(SocketIoConnector, [{
    key: "connect",
    value: function connect() {
      var _this2 = this;

      var io = this.getSocketIO();
      this.socket = io(this.options.host, this.options);
      this.socket.on('reconnect', function () {
        Object.values(_this2.channels).forEach(function (channel) {
          channel.subscribe();
        });
      });
      return this.socket;
    }
    /**
     * Get socket.io module from global scope or options.
     */

  }, {
    key: "getSocketIO",
    value: function getSocketIO() {
      if (typeof this.options.client !== 'undefined') {
        return this.options.client;
      }

      if (typeof io !== 'undefined') {
        return io;
      }

      throw new Error('Socket.io client not found. Should be globally available or passed via options.client');
    }
    /**
     * Listen for an event on a channel instance.
     */

  }, {
    key: "listen",
    value: function listen(name, event, callback) {
      return this.channel(name).listen(event, callback);
    }
    /**
     * Get a channel instance by name.
     */

  }, {
    key: "channel",
    value: function channel(name) {
      if (!this.channels[name]) {
        this.channels[name] = new SocketIoChannel(this.socket, name, this.options);
      }

      return this.channels[name];
    }
    /**
     * Get a private channel instance by name.
     */

  }, {
    key: "privateChannel",
    value: function privateChannel(name) {
      if (!this.channels['private-' + name]) {
        this.channels['private-' + name] = new SocketIoPrivateChannel(this.socket, 'private-' + name, this.options);
      }

      return this.channels['private-' + name];
    }
    /**
     * Get a presence channel instance by name.
     */

  }, {
    key: "presenceChannel",
    value: function presenceChannel(name) {
      if (!this.channels['presence-' + name]) {
        this.channels['presence-' + name] = new SocketIoPresenceChannel(this.socket, 'presence-' + name, this.options);
      }

      return this.channels['presence-' + name];
    }
    /**
     * Leave the given channel, as well as its private and presence variants.
     */

  }, {
    key: "leave",
    value: function leave(name) {
      var _this3 = this;

      var channels = [name, 'private-' + name, 'presence-' + name];
      channels.forEach(function (name) {
        _this3.leaveChannel(name);
      });
    }
    /**
     * Leave the given channel.
     */

  }, {
    key: "leaveChannel",
    value: function leaveChannel(name) {
      if (this.channels[name]) {
        this.channels[name].unsubscribe();
        delete this.channels[name];
      }
    }
    /**
     * Get the socket ID for the connection.
     */

  }, {
    key: "socketId",
    value: function socketId() {
      return this.socket.id;
    }
    /**
     * Disconnect Socketio connection.
     */

  }, {
    key: "disconnect",
    value: function disconnect() {
      this.socket.disconnect();
    }
  }]);

  return SocketIoConnector;
}(Connector);

/**
 * This class creates a null connector.
 */

var NullConnector = /*#__PURE__*/function (_Connector) {
  _inherits(NullConnector, _Connector);

  var _super = _createSuper(NullConnector);

  function NullConnector() {
    var _this;

    _classCallCheck(this, NullConnector);

    _this = _super.apply(this, arguments);
    /**
     * All of the subscribed channel names.
     */

    _this.channels = {};
    return _this;
  }
  /**
   * Create a fresh connection.
   */


  _createClass(NullConnector, [{
    key: "connect",
    value: function connect() {//
    }
    /**
     * Listen for an event on a channel instance.
     */

  }, {
    key: "listen",
    value: function listen(name, event, callback) {
      return new NullChannel();
    }
    /**
     * Get a channel instance by name.
     */

  }, {
    key: "channel",
    value: function channel(name) {
      return new NullChannel();
    }
    /**
     * Get a private channel instance by name.
     */

  }, {
    key: "privateChannel",
    value: function privateChannel(name) {
      return new NullPrivateChannel();
    }
    /**
     * Get a private encrypted channel instance by name.
     */

  }, {
    key: "encryptedPrivateChannel",
    value: function encryptedPrivateChannel(name) {
      return new NullPrivateChannel();
    }
    /**
     * Get a presence channel instance by name.
     */

  }, {
    key: "presenceChannel",
    value: function presenceChannel(name) {
      return new NullPresenceChannel();
    }
    /**
     * Leave the given channel, as well as its private and presence variants.
     */

  }, {
    key: "leave",
    value: function leave(name) {//
    }
    /**
     * Leave the given channel.
     */

  }, {
    key: "leaveChannel",
    value: function leaveChannel(name) {//
    }
    /**
     * Get the socket ID for the connection.
     */

  }, {
    key: "socketId",
    value: function socketId() {
      return 'fake-socket-id';
    }
    /**
     * Disconnect the connection.
     */

  }, {
    key: "disconnect",
    value: function disconnect() {//
    }
  }]);

  return NullConnector;
}(Connector);

/**
 * This class is the primary API for interacting with broadcasting.
 */

var Echo = /*#__PURE__*/function () {
  /**
   * Create a new class instance.
   */
  function Echo(options) {
    _classCallCheck(this, Echo);

    this.options = options;
    this.connect();

    if (!this.options.withoutInterceptors) {
      this.registerInterceptors();
    }
  }
  /**
   * Get a channel instance by name.
   */


  _createClass(Echo, [{
    key: "channel",
    value: function channel(_channel) {
      return this.connector.channel(_channel);
    }
    /**
     * Create a new connection.
     */

  }, {
    key: "connect",
    value: function connect() {
      if (this.options.broadcaster == 'pusher') {
        this.connector = new PusherConnector(this.options);
      } else if (this.options.broadcaster == 'socket.io') {
        this.connector = new SocketIoConnector(this.options);
      } else if (this.options.broadcaster == 'null') {
        this.connector = new NullConnector(this.options);
      } else if (typeof this.options.broadcaster == 'function') {
        this.connector = new this.options.broadcaster(this.options);
      }
    }
    /**
     * Disconnect from the Echo server.
     */

  }, {
    key: "disconnect",
    value: function disconnect() {
      this.connector.disconnect();
    }
    /**
     * Get a presence channel instance by name.
     */

  }, {
    key: "join",
    value: function join(channel) {
      return this.connector.presenceChannel(channel);
    }
    /**
     * Leave the given channel, as well as its private and presence variants.
     */

  }, {
    key: "leave",
    value: function leave(channel) {
      this.connector.leave(channel);
    }
    /**
     * Leave the given channel.
     */

  }, {
    key: "leaveChannel",
    value: function leaveChannel(channel) {
      this.connector.leaveChannel(channel);
    }
    /**
     * Leave all channels.
     */

  }, {
    key: "leaveAllChannels",
    value: function leaveAllChannels() {
      for (var channel in this.connector.channels) {
        this.leaveChannel(channel);
      }
    }
    /**
     * Listen for an event on a channel instance.
     */

  }, {
    key: "listen",
    value: function listen(channel, event, callback) {
      return this.connector.listen(channel, event, callback);
    }
    /**
     * Get a private channel instance by name.
     */

  }, {
    key: "private",
    value: function _private(channel) {
      return this.connector.privateChannel(channel);
    }
    /**
     * Get a private encrypted channel instance by name.
     */

  }, {
    key: "encryptedPrivate",
    value: function encryptedPrivate(channel) {
      return this.connector.encryptedPrivateChannel(channel);
    }
    /**
     * Get the Socket ID for the connection.
     */

  }, {
    key: "socketId",
    value: function socketId() {
      return this.connector.socketId();
    }
    /**
     * Register 3rd party request interceptiors. These are used to automatically
     * send a connections socket id to a Laravel app with a X-Socket-Id header.
     */

  }, {
    key: "registerInterceptors",
    value: function registerInterceptors() {
      if (typeof Vue === 'function' && Vue.http) {
        this.registerVueRequestInterceptor();
      }

      if (typeof axios === 'function') {
        this.registerAxiosRequestInterceptor();
      }

      if (typeof jQuery === 'function') {
        this.registerjQueryAjaxSetup();
      }

      if ((typeof Turbo === "undefined" ? "undefined" : _typeof(Turbo)) === 'object') {
        this.registerTurboRequestInterceptor();
      }
    }
    /**
     * Register a Vue HTTP interceptor to add the X-Socket-ID header.
     */

  }, {
    key: "registerVueRequestInterceptor",
    value: function registerVueRequestInterceptor() {
      var _this = this;

      Vue.http.interceptors.push(function (request, next) {
        if (_this.socketId()) {
          request.headers.set('X-Socket-ID', _this.socketId());
        }

        next();
      });
    }
    /**
     * Register an Axios HTTP interceptor to add the X-Socket-ID header.
     */

  }, {
    key: "registerAxiosRequestInterceptor",
    value: function registerAxiosRequestInterceptor() {
      var _this2 = this;

      axios.interceptors.request.use(function (config) {
        if (_this2.socketId()) {
          config.headers['X-Socket-Id'] = _this2.socketId();
        }

        return config;
      });
    }
    /**
     * Register jQuery AjaxPrefilter to add the X-Socket-ID header.
     */

  }, {
    key: "registerjQueryAjaxSetup",
    value: function registerjQueryAjaxSetup() {
      var _this3 = this;

      if (typeof jQuery.ajax != 'undefined') {
        jQuery.ajaxPrefilter(function (options, originalOptions, xhr) {
          if (_this3.socketId()) {
            xhr.setRequestHeader('X-Socket-Id', _this3.socketId());
          }
        });
      }
    }
    /**
     * Register the Turbo Request interceptor to add the X-Socket-ID header.
     */

  }, {
    key: "registerTurboRequestInterceptor",
    value: function registerTurboRequestInterceptor() {
      var _this4 = this;

      document.addEventListener('turbo:before-fetch-request', function (event) {
        event.detail.fetchOptions.headers['X-Socket-Id'] = _this4.socketId();
      });
    }
  }]);

  return Echo;
}();




/***/ }),

/***/ "./node_modules/lodash/lodash.js":
/*!***************************************!*\
  !*** ./node_modules/lodash/lodash.js ***!
  \***************************************/
/***/ (function(module, exports, __webpack_require__) {

/* module decorator */ module = __webpack_require__.nmd(module);
var __WEBPACK_AMD_DEFINE_RESULT__;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
;(function() {

  /** Used as a safe reference for `undefined` in pre-ES5 environments. */
  var undefined;

  /** Used as the semantic version number. */
  var VERSION = '4.17.21';

  /** Used as the size to enable large array optimizations. */
  var LARGE_ARRAY_SIZE = 200;

  /** Error message constants. */
  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',
      FUNC_ERROR_TEXT = 'Expected a function',
      INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';

  /** Used to stand-in for `undefined` hash values. */
  var HASH_UNDEFINED = '__lodash_hash_undefined__';

  /** Used as the maximum memoize cache size. */
  var MAX_MEMOIZE_SIZE = 500;

  /** Used as the internal argument placeholder. */
  var PLACEHOLDER = '__lodash_placeholder__';

  /** Used to compose bitmasks for cloning. */
  var CLONE_DEEP_FLAG = 1,
      CLONE_FLAT_FLAG = 2,
      CLONE_SYMBOLS_FLAG = 4;

  /** Used to compose bitmasks for value comparisons. */
  var COMPARE_PARTIAL_FLAG = 1,
      COMPARE_UNORDERED_FLAG = 2;

  /** Used to compose bitmasks for function metadata. */
  var WRAP_BIND_FLAG = 1,
      WRAP_BIND_KEY_FLAG = 2,
      WRAP_CURRY_BOUND_FLAG = 4,
      WRAP_CURRY_FLAG = 8,
      WRAP_CURRY_RIGHT_FLAG = 16,
      WRAP_PARTIAL_FLAG = 32,
      WRAP_PARTIAL_RIGHT_FLAG = 64,
      WRAP_ARY_FLAG = 128,
      WRAP_REARG_FLAG = 256,
      WRAP_FLIP_FLAG = 512;

  /** Used as default options for `_.truncate`. */
  var DEFAULT_TRUNC_LENGTH = 30,
      DEFAULT_TRUNC_OMISSION = '...';

  /** Used to detect hot functions by number of calls within a span of milliseconds. */
  var HOT_COUNT = 800,
      HOT_SPAN = 16;

  /** Used to indicate the type of lazy iteratees. */
  var LAZY_FILTER_FLAG = 1,
      LAZY_MAP_FLAG = 2,
      LAZY_WHILE_FLAG = 3;

  /** Used as references for various `Number` constants. */
  var INFINITY = 1 / 0,
      MAX_SAFE_INTEGER = 9007199254740991,
      MAX_INTEGER = 1.7976931348623157e+308,
      NAN = 0 / 0;

  /** Used as references for the maximum length and index of an array. */
  var MAX_ARRAY_LENGTH = 4294967295,
      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,
      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;

  /** Used to associate wrap methods with their bit flags. */
  var wrapFlags = [
    ['ary', WRAP_ARY_FLAG],
    ['bind', WRAP_BIND_FLAG],
    ['bindKey', WRAP_BIND_KEY_FLAG],
    ['curry', WRAP_CURRY_FLAG],
    ['curryRight', WRAP_CURRY_RIGHT_FLAG],
    ['flip', WRAP_FLIP_FLAG],
    ['partial', WRAP_PARTIAL_FLAG],
    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],
    ['rearg', WRAP_REARG_FLAG]
  ];

  /** `Object#toString` result references. */
  var argsTag = '[object Arguments]',
      arrayTag = '[object Array]',
      asyncTag = '[object AsyncFunction]',
      boolTag = '[object Boolean]',
      dateTag = '[object Date]',
      domExcTag = '[object DOMException]',
      errorTag = '[object Error]',
      funcTag = '[object Function]',
      genTag = '[object GeneratorFunction]',
      mapTag = '[object Map]',
      numberTag = '[object Number]',
      nullTag = '[object Null]',
      objectTag = '[object Object]',
      promiseTag = '[object Promise]',
      proxyTag = '[object Proxy]',
      regexpTag = '[object RegExp]',
      setTag = '[object Set]',
      stringTag = '[object String]',
      symbolTag = '[object Symbol]',
      undefinedTag = '[object Undefined]',
      weakMapTag = '[object WeakMap]',
      weakSetTag = '[object WeakSet]';

  var arrayBufferTag = '[object ArrayBuffer]',
      dataViewTag = '[object DataView]',
      float32Tag = '[object Float32Array]',
      float64Tag = '[object Float64Array]',
      int8Tag = '[object Int8Array]',
      int16Tag = '[object Int16Array]',
      int32Tag = '[object Int32Array]',
      uint8Tag = '[object Uint8Array]',
      uint8ClampedTag = '[object Uint8ClampedArray]',
      uint16Tag = '[object Uint16Array]',
      uint32Tag = '[object Uint32Array]';

  /** Used to match empty string literals in compiled template source. */
  var reEmptyStringLeading = /\b__p \+= '';/g,
      reEmptyStringMiddle = /\b(__p \+=) '' \+/g,
      reEmptyStringTrailing = /(__e\(.*?\)|\b__t\)) \+\n'';/g;

  /** Used to match HTML entities and HTML characters. */
  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,
      reUnescapedHtml = /[&<>"']/g,
      reHasEscapedHtml = RegExp(reEscapedHtml.source),
      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);

  /** Used to match template delimiters. */
  var reEscape = /<%-([\s\S]+?)%>/g,
      reEvaluate = /<%([\s\S]+?)%>/g,
      reInterpolate = /<%=([\s\S]+?)%>/g;

  /** Used to match property names within property paths. */
  var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
      reIsPlainProp = /^\w*$/,
      rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;

  /**
   * Used to match `RegExp`
   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
   */
  var reRegExpChar = /[\\^$.*+?()[\]{}|]/g,
      reHasRegExpChar = RegExp(reRegExpChar.source);

  /** Used to match leading whitespace. */
  var reTrimStart = /^\s+/;

  /** Used to match a single whitespace character. */
  var reWhitespace = /\s/;

  /** Used to match wrap detail comments. */
  var reWrapComment = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,
      reWrapDetails = /\{\n\/\* \[wrapped with (.+)\] \*/,
      reSplitDetails = /,? & /;

  /** Used to match words composed of alphanumeric characters. */
  var reAsciiWord = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;

  /**
   * Used to validate the `validate` option in `_.template` variable.
   *
   * Forbids characters which could potentially change the meaning of the function argument definition:
   * - "()," (modification of function parameters)
   * - "=" (default value)
   * - "[]{}" (destructuring of function parameters)
   * - "/" (beginning of a comment)
   * - whitespace
   */
  var reForbiddenIdentifierChars = /[()=,{}\[\]\/\s]/;

  /** Used to match backslashes in property paths. */
  var reEscapeChar = /\\(\\)?/g;

  /**
   * Used to match
   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).
   */
  var reEsTemplate = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;

  /** Used to match `RegExp` flags from their coerced string values. */
  var reFlags = /\w*$/;

  /** Used to detect bad signed hexadecimal string values. */
  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

  /** Used to detect binary string values. */
  var reIsBinary = /^0b[01]+$/i;

  /** Used to detect host constructors (Safari). */
  var reIsHostCtor = /^\[object .+?Constructor\]$/;

  /** Used to detect octal string values. */
  var reIsOctal = /^0o[0-7]+$/i;

  /** Used to detect unsigned integer values. */
  var reIsUint = /^(?:0|[1-9]\d*)$/;

  /** Used to match Latin Unicode letters (excluding mathematical operators). */
  var reLatin = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;

  /** Used to ensure capturing order of template delimiters. */
  var reNoMatch = /($^)/;

  /** Used to match unescaped characters in compiled string literals. */
  var reUnescapedString = /['\n\r\u2028\u2029\\]/g;

  /** Used to compose unicode character classes. */
  var rsAstralRange = '\\ud800-\\udfff',
      rsComboMarksRange = '\\u0300-\\u036f',
      reComboHalfMarksRange = '\\ufe20-\\ufe2f',
      rsComboSymbolsRange = '\\u20d0-\\u20ff',
      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,
      rsDingbatRange = '\\u2700-\\u27bf',
      rsLowerRange = 'a-z\\xdf-\\xf6\\xf8-\\xff',
      rsMathOpRange = '\\xac\\xb1\\xd7\\xf7',
      rsNonCharRange = '\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf',
      rsPunctuationRange = '\\u2000-\\u206f',
      rsSpaceRange = ' \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000',
      rsUpperRange = 'A-Z\\xc0-\\xd6\\xd8-\\xde',
      rsVarRange = '\\ufe0e\\ufe0f',
      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;

  /** Used to compose unicode capture groups. */
  var rsApos = "['\u2019]",
      rsAstral = '[' + rsAstralRange + ']',
      rsBreak = '[' + rsBreakRange + ']',
      rsCombo = '[' + rsComboRange + ']',
      rsDigits = '\\d+',
      rsDingbat = '[' + rsDingbatRange + ']',
      rsLower = '[' + rsLowerRange + ']',
      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',
      rsFitz = '\\ud83c[\\udffb-\\udfff]',
      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',
      rsNonAstral = '[^' + rsAstralRange + ']',
      rsRegional = '(?:\\ud83c[\\udde6-\\uddff]){2}',
      rsSurrPair = '[\\ud800-\\udbff][\\udc00-\\udfff]',
      rsUpper = '[' + rsUpperRange + ']',
      rsZWJ = '\\u200d';

  /** Used to compose unicode regexes. */
  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',
      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',
      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',
      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',
      reOptMod = rsModifier + '?',
      rsOptVar = '[' + rsVarRange + ']?',
      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',
      rsOrdLower = '\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])',
      rsOrdUpper = '\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])',
      rsSeq = rsOptVar + reOptMod + rsOptJoin,
      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,
      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';

  /** Used to match apostrophes. */
  var reApos = RegExp(rsApos, 'g');

  /**
   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and
   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).
   */
  var reComboMark = RegExp(rsCombo, 'g');

  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */
  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');

  /** Used to match complex or compound words. */
  var reUnicodeWord = RegExp([
    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',
    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',
    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,
    rsUpper + '+' + rsOptContrUpper,
    rsOrdUpper,
    rsOrdLower,
    rsDigits,
    rsEmoji
  ].join('|'), 'g');

  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */
  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');

  /** Used to detect strings that need a more robust regexp to match words. */
  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;

  /** Used to assign default `context` object properties. */
  var contextProps = [
    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',
    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',
    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',
    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',
    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'
  ];

  /** Used to make template sourceURLs easier to identify. */
  var templateCounter = -1;

  /** Used to identify `toStringTag` values of typed arrays. */
  var typedArrayTags = {};
  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =
  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =
  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =
  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =
  typedArrayTags[uint32Tag] = true;
  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =
  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =
  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =
  typedArrayTags[errorTag] = typedArrayTags[funcTag] =
  typedArrayTags[mapTag] = typedArrayTags[numberTag] =
  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =
  typedArrayTags[setTag] = typedArrayTags[stringTag] =
  typedArrayTags[weakMapTag] = false;

  /** Used to identify `toStringTag` values supported by `_.clone`. */
  var cloneableTags = {};
  cloneableTags[argsTag] = cloneableTags[arrayTag] =
  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =
  cloneableTags[boolTag] = cloneableTags[dateTag] =
  cloneableTags[float32Tag] = cloneableTags[float64Tag] =
  cloneableTags[int8Tag] = cloneableTags[int16Tag] =
  cloneableTags[int32Tag] = cloneableTags[mapTag] =
  cloneableTags[numberTag] = cloneableTags[objectTag] =
  cloneableTags[regexpTag] = cloneableTags[setTag] =
  cloneableTags[stringTag] = cloneableTags[symbolTag] =
  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =
  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;
  cloneableTags[errorTag] = cloneableTags[funcTag] =
  cloneableTags[weakMapTag] = false;

  /** Used to map Latin Unicode letters to basic Latin letters. */
  var deburredLetters = {
    // Latin-1 Supplement block.
    '\xc0': 'A',  '\xc1': 'A', '\xc2': 'A', '\xc3': 'A', '\xc4': 'A', '\xc5': 'A',
    '\xe0': 'a',  '\xe1': 'a', '\xe2': 'a', '\xe3': 'a', '\xe4': 'a', '\xe5': 'a',
    '\xc7': 'C',  '\xe7': 'c',
    '\xd0': 'D',  '\xf0': 'd',
    '\xc8': 'E',  '\xc9': 'E', '\xca': 'E', '\xcb': 'E',
    '\xe8': 'e',  '\xe9': 'e', '\xea': 'e', '\xeb': 'e',
    '\xcc': 'I',  '\xcd': 'I', '\xce': 'I', '\xcf': 'I',
    '\xec': 'i',  '\xed': 'i', '\xee': 'i', '\xef': 'i',
    '\xd1': 'N',  '\xf1': 'n',
    '\xd2': 'O',  '\xd3': 'O', '\xd4': 'O', '\xd5': 'O', '\xd6': 'O', '\xd8': 'O',
    '\xf2': 'o',  '\xf3': 'o', '\xf4': 'o', '\xf5': 'o', '\xf6': 'o', '\xf8': 'o',
    '\xd9': 'U',  '\xda': 'U', '\xdb': 'U', '\xdc': 'U',
    '\xf9': 'u',  '\xfa': 'u', '\xfb': 'u', '\xfc': 'u',
    '\xdd': 'Y',  '\xfd': 'y', '\xff': 'y',
    '\xc6': 'Ae', '\xe6': 'ae',
    '\xde': 'Th', '\xfe': 'th',
    '\xdf': 'ss',
    // Latin Extended-A block.
    '\u0100': 'A',  '\u0102': 'A', '\u0104': 'A',
    '\u0101': 'a',  '\u0103': 'a', '\u0105': 'a',
    '\u0106': 'C',  '\u0108': 'C', '\u010a': 'C', '\u010c': 'C',
    '\u0107': 'c',  '\u0109': 'c', '\u010b': 'c', '\u010d': 'c',
    '\u010e': 'D',  '\u0110': 'D', '\u010f': 'd', '\u0111': 'd',
    '\u0112': 'E',  '\u0114': 'E', '\u0116': 'E', '\u0118': 'E', '\u011a': 'E',
    '\u0113': 'e',  '\u0115': 'e', '\u0117': 'e', '\u0119': 'e', '\u011b': 'e',
    '\u011c': 'G',  '\u011e': 'G', '\u0120': 'G', '\u0122': 'G',
    '\u011d': 'g',  '\u011f': 'g', '\u0121': 'g', '\u0123': 'g',
    '\u0124': 'H',  '\u0126': 'H', '\u0125': 'h', '\u0127': 'h',
    '\u0128': 'I',  '\u012a': 'I', '\u012c': 'I', '\u012e': 'I', '\u0130': 'I',
    '\u0129': 'i',  '\u012b': 'i', '\u012d': 'i', '\u012f': 'i', '\u0131': 'i',
    '\u0134': 'J',  '\u0135': 'j',
    '\u0136': 'K',  '\u0137': 'k', '\u0138': 'k',
    '\u0139': 'L',  '\u013b': 'L', '\u013d': 'L', '\u013f': 'L', '\u0141': 'L',
    '\u013a': 'l',  '\u013c': 'l', '\u013e': 'l', '\u0140': 'l', '\u0142': 'l',
    '\u0143': 'N',  '\u0145': 'N', '\u0147': 'N', '\u014a': 'N',
    '\u0144': 'n',  '\u0146': 'n', '\u0148': 'n', '\u014b': 'n',
    '\u014c': 'O',  '\u014e': 'O', '\u0150': 'O',
    '\u014d': 'o',  '\u014f': 'o', '\u0151': 'o',
    '\u0154': 'R',  '\u0156': 'R', '\u0158': 'R',
    '\u0155': 'r',  '\u0157': 'r', '\u0159': 'r',
    '\u015a': 'S',  '\u015c': 'S', '\u015e': 'S', '\u0160': 'S',
    '\u015b': 's',  '\u015d': 's', '\u015f': 's', '\u0161': 's',
    '\u0162': 'T',  '\u0164': 'T', '\u0166': 'T',
    '\u0163': 't',  '\u0165': 't', '\u0167': 't',
    '\u0168': 'U',  '\u016a': 'U', '\u016c': 'U', '\u016e': 'U', '\u0170': 'U', '\u0172': 'U',
    '\u0169': 'u',  '\u016b': 'u', '\u016d': 'u', '\u016f': 'u', '\u0171': 'u', '\u0173': 'u',
    '\u0174': 'W',  '\u0175': 'w',
    '\u0176': 'Y',  '\u0177': 'y', '\u0178': 'Y',
    '\u0179': 'Z',  '\u017b': 'Z', '\u017d': 'Z',
    '\u017a': 'z',  '\u017c': 'z', '\u017e': 'z',
    '\u0132': 'IJ', '\u0133': 'ij',
    '\u0152': 'Oe', '\u0153': 'oe',
    '\u0149': "'n", '\u017f': 's'
  };

  /** Used to map characters to HTML entities. */
  var htmlEscapes = {
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    "'": '&#39;'
  };

  /** Used to map HTML entities to characters. */
  var htmlUnescapes = {
    '&amp;': '&',
    '&lt;': '<',
    '&gt;': '>',
    '&quot;': '"',
    '&#39;': "'"
  };

  /** Used to escape characters for inclusion in compiled string literals. */
  var stringEscapes = {
    '\\': '\\',
    "'": "'",
    '\n': 'n',
    '\r': 'r',
    '\u2028': 'u2028',
    '\u2029': 'u2029'
  };

  /** Built-in method references without a dependency on `root`. */
  var freeParseFloat = parseFloat,
      freeParseInt = parseInt;

  /** Detect free variable `global` from Node.js. */
  var freeGlobal = typeof __webpack_require__.g == 'object' && __webpack_require__.g && __webpack_require__.g.Object === Object && __webpack_require__.g;

  /** Detect free variable `self`. */
  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

  /** Used as a reference to the global object. */
  var root = freeGlobal || freeSelf || Function('return this')();

  /** Detect free variable `exports`. */
  var freeExports =  true && exports && !exports.nodeType && exports;

  /** Detect free variable `module`. */
  var freeModule = freeExports && "object" == 'object' && module && !module.nodeType && module;

  /** Detect the popular CommonJS extension `module.exports`. */
  var moduleExports = freeModule && freeModule.exports === freeExports;

  /** Detect free variable `process` from Node.js. */
  var freeProcess = moduleExports && freeGlobal.process;

  /** Used to access faster Node.js helpers. */
  var nodeUtil = (function() {
    try {
      // Use `util.types` for Node.js 10+.
      var types = freeModule && freeModule.require && freeModule.require('util').types;

      if (types) {
        return types;
      }

      // Legacy `process.binding('util')` for Node.js < 10.
      return freeProcess && freeProcess.binding && freeProcess.binding('util');
    } catch (e) {}
  }());

  /* Node.js helper references. */
  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,
      nodeIsDate = nodeUtil && nodeUtil.isDate,
      nodeIsMap = nodeUtil && nodeUtil.isMap,
      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,
      nodeIsSet = nodeUtil && nodeUtil.isSet,
      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;

  /*--------------------------------------------------------------------------*/

  /**
   * A faster alternative to `Function#apply`, this function invokes `func`
   * with the `this` binding of `thisArg` and the arguments of `args`.
   *
   * @private
   * @param {Function} func The function to invoke.
   * @param {*} thisArg The `this` binding of `func`.
   * @param {Array} args The arguments to invoke `func` with.
   * @returns {*} Returns the result of `func`.
   */
  function apply(func, thisArg, args) {
    switch (args.length) {
      case 0: return func.call(thisArg);
      case 1: return func.call(thisArg, args[0]);
      case 2: return func.call(thisArg, args[0], args[1]);
      case 3: return func.call(thisArg, args[0], args[1], args[2]);
    }
    return func.apply(thisArg, args);
  }

  /**
   * A specialized version of `baseAggregator` for arrays.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} setter The function to set `accumulator` values.
   * @param {Function} iteratee The iteratee to transform keys.
   * @param {Object} accumulator The initial aggregated object.
   * @returns {Function} Returns `accumulator`.
   */
  function arrayAggregator(array, setter, iteratee, accumulator) {
    var index = -1,
        length = array == null ? 0 : array.length;

    while (++index < length) {
      var value = array[index];
      setter(accumulator, value, iteratee(value), array);
    }
    return accumulator;
  }

  /**
   * A specialized version of `_.forEach` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {Array} Returns `array`.
   */
  function arrayEach(array, iteratee) {
    var index = -1,
        length = array == null ? 0 : array.length;

    while (++index < length) {
      if (iteratee(array[index], index, array) === false) {
        break;
      }
    }
    return array;
  }

  /**
   * A specialized version of `_.forEachRight` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {Array} Returns `array`.
   */
  function arrayEachRight(array, iteratee) {
    var length = array == null ? 0 : array.length;

    while (length--) {
      if (iteratee(array[length], length, array) === false) {
        break;
      }
    }
    return array;
  }

  /**
   * A specialized version of `_.every` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} predicate The function invoked per iteration.
   * @returns {boolean} Returns `true` if all elements pass the predicate check,
   *  else `false`.
   */
  function arrayEvery(array, predicate) {
    var index = -1,
        length = array == null ? 0 : array.length;

    while (++index < length) {
      if (!predicate(array[index], index, array)) {
        return false;
      }
    }
    return true;
  }

  /**
   * A specialized version of `_.filter` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} predicate The function invoked per iteration.
   * @returns {Array} Returns the new filtered array.
   */
  function arrayFilter(array, predicate) {
    var index = -1,
        length = array == null ? 0 : array.length,
        resIndex = 0,
        result = [];

    while (++index < length) {
      var value = array[index];
      if (predicate(value, index, array)) {
        result[resIndex++] = value;
      }
    }
    return result;
  }

  /**
   * A specialized version of `_.includes` for arrays without support for
   * specifying an index to search from.
   *
   * @private
   * @param {Array} [array] The array to inspect.
   * @param {*} target The value to search for.
   * @returns {boolean} Returns `true` if `target` is found, else `false`.
   */
  function arrayIncludes(array, value) {
    var length = array == null ? 0 : array.length;
    return !!length && baseIndexOf(array, value, 0) > -1;
  }

  /**
   * This function is like `arrayIncludes` except that it accepts a comparator.
   *
   * @private
   * @param {Array} [array] The array to inspect.
   * @param {*} target The value to search for.
   * @param {Function} comparator The comparator invoked per element.
   * @returns {boolean} Returns `true` if `target` is found, else `false`.
   */
  function arrayIncludesWith(array, value, comparator) {
    var index = -1,
        length = array == null ? 0 : array.length;

    while (++index < length) {
      if (comparator(value, array[index])) {
        return true;
      }
    }
    return false;
  }

  /**
   * A specialized version of `_.map` for arrays without support for iteratee
   * shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {Array} Returns the new mapped array.
   */
  function arrayMap(array, iteratee) {
    var index = -1,
        length = array == null ? 0 : array.length,
        result = Array(length);

    while (++index < length) {
      result[index] = iteratee(array[index], index, array);
    }
    return result;
  }

  /**
   * Appends the elements of `values` to `array`.
   *
   * @private
   * @param {Array} array The array to modify.
   * @param {Array} values The values to append.
   * @returns {Array} Returns `array`.
   */
  function arrayPush(array, values) {
    var index = -1,
        length = values.length,
        offset = array.length;

    while (++index < length) {
      array[offset + index] = values[index];
    }
    return array;
  }

  /**
   * A specialized version of `_.reduce` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @param {*} [accumulator] The initial value.
   * @param {boolean} [initAccum] Specify using the first element of `array` as
   *  the initial value.
   * @returns {*} Returns the accumulated value.
   */
  function arrayReduce(array, iteratee, accumulator, initAccum) {
    var index = -1,
        length = array == null ? 0 : array.length;

    if (initAccum && length) {
      accumulator = array[++index];
    }
    while (++index < length) {
      accumulator = iteratee(accumulator, array[index], index, array);
    }
    return accumulator;
  }

  /**
   * A specialized version of `_.reduceRight` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @param {*} [accumulator] The initial value.
   * @param {boolean} [initAccum] Specify using the last element of `array` as
   *  the initial value.
   * @returns {*} Returns the accumulated value.
   */
  function arrayReduceRight(array, iteratee, accumulator, initAccum) {
    var length = array == null ? 0 : array.length;
    if (initAccum && length) {
      accumulator = array[--length];
    }
    while (length--) {
      accumulator = iteratee(accumulator, array[length], length, array);
    }
    return accumulator;
  }

  /**
   * A specialized version of `_.some` for arrays without support for iteratee
   * shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} predicate The function invoked per iteration.
   * @returns {boolean} Returns `true` if any element passes the predicate check,
   *  else `false`.
   */
  function arraySome(array, predicate) {
    var index = -1,
        length = array == null ? 0 : array.length;

    while (++index < length) {
      if (predicate(array[index], index, array)) {
        return true;
      }
    }
    return false;
  }

  /**
   * Gets the size of an ASCII `string`.
   *
   * @private
   * @param {string} string The string inspect.
   * @returns {number} Returns the string size.
   */
  var asciiSize = baseProperty('length');

  /**
   * Converts an ASCII `string` to an array.
   *
   * @private
   * @param {string} string The string to convert.
   * @returns {Array} Returns the converted array.
   */
  function asciiToArray(string) {
    return string.split('');
  }

  /**
   * Splits an ASCII `string` into an array of its words.
   *
   * @private
   * @param {string} The string to inspect.
   * @returns {Array} Returns the words of `string`.
   */
  function asciiWords(string) {
    return string.match(reAsciiWord) || [];
  }

  /**
   * The base implementation of methods like `_.findKey` and `_.findLastKey`,
   * without support for iteratee shorthands, which iterates over `collection`
   * using `eachFunc`.
   *
   * @private
   * @param {Array|Object} collection The collection to inspect.
   * @param {Function} predicate The function invoked per iteration.
   * @param {Function} eachFunc The function to iterate over `collection`.
   * @returns {*} Returns the found element or its key, else `undefined`.
   */
  function baseFindKey(collection, predicate, eachFunc) {
    var result;
    eachFunc(collection, function(value, key, collection) {
      if (predicate(value, key, collection)) {
        result = key;
        return false;
      }
    });
    return result;
  }

  /**
   * The base implementation of `_.findIndex` and `_.findLastIndex` without
   * support for iteratee shorthands.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {Function} predicate The function invoked per iteration.
   * @param {number} fromIndex The index to search from.
   * @param {boolean} [fromRight] Specify iterating from right to left.
   * @returns {number} Returns the index of the matched value, else `-1`.
   */
  function baseFindIndex(array, predicate, fromIndex, fromRight) {
    var length = array.length,
        index = fromIndex + (fromRight ? 1 : -1);

    while ((fromRight ? index-- : ++index < length)) {
      if (predicate(array[index], index, array)) {
        return index;
      }
    }
    return -1;
  }

  /**
   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {*} value The value to search for.
   * @param {number} fromIndex The index to search from.
   * @returns {number} Returns the index of the matched value, else `-1`.
   */
  function baseIndexOf(array, value, fromIndex) {
    return value === value
      ? strictIndexOf(array, value, fromIndex)
      : baseFindIndex(array, baseIsNaN, fromIndex);
  }

  /**
   * This function is like `baseIndexOf` except that it accepts a comparator.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {*} value The value to search for.
   * @param {number} fromIndex The index to search from.
   * @param {Function} comparator The comparator invoked per element.
   * @returns {number} Returns the index of the matched value, else `-1`.
   */
  function baseIndexOfWith(array, value, fromIndex, comparator) {
    var index = fromIndex - 1,
        length = array.length;

    while (++index < length) {
      if (comparator(array[index], value)) {
        return index;
      }
    }
    return -1;
  }

  /**
   * The base implementation of `_.isNaN` without support for number objects.
   *
   * @private
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.
   */
  function baseIsNaN(value) {
    return value !== value;
  }

  /**
   * The base implementation of `_.mean` and `_.meanBy` without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} array The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {number} Returns the mean.
   */
  function baseMean(array, iteratee) {
    var length = array == null ? 0 : array.length;
    return length ? (baseSum(array, iteratee) / length) : NAN;
  }

  /**
   * The base implementation of `_.property` without support for deep paths.
   *
   * @private
   * @param {string} key The key of the property to get.
   * @returns {Function} Returns the new accessor function.
   */
  function baseProperty(key) {
    return function(object) {
      return object == null ? undefined : object[key];
    };
  }

  /**
   * The base implementation of `_.propertyOf` without support for deep paths.
   *
   * @private
   * @param {Object} object The object to query.
   * @returns {Function} Returns the new accessor function.
   */
  function basePropertyOf(object) {
    return function(key) {
      return object == null ? undefined : object[key];
    };
  }

  /**
   * The base implementation of `_.reduce` and `_.reduceRight`, without support
   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.
   *
   * @private
   * @param {Array|Object} collection The collection to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @param {*} accumulator The initial value.
   * @param {boolean} initAccum Specify using the first or last element of
   *  `collection` as the initial value.
   * @param {Function} eachFunc The function to iterate over `collection`.
   * @returns {*} Returns the accumulated value.
   */
  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {
    eachFunc(collection, function(value, index, collection) {
      accumulator = initAccum
        ? (initAccum = false, value)
        : iteratee(accumulator, value, index, collection);
    });
    return accumulator;
  }

  /**
   * The base implementation of `_.sortBy` which uses `comparer` to define the
   * sort order of `array` and replaces criteria objects with their corresponding
   * values.
   *
   * @private
   * @param {Array} array The array to sort.
   * @param {Function} comparer The function to define sort order.
   * @returns {Array} Returns `array`.
   */
  function baseSortBy(array, comparer) {
    var length = array.length;

    array.sort(comparer);
    while (length--) {
      array[length] = array[length].value;
    }
    return array;
  }

  /**
   * The base implementation of `_.sum` and `_.sumBy` without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} array The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {number} Returns the sum.
   */
  function baseSum(array, iteratee) {
    var result,
        index = -1,
        length = array.length;

    while (++index < length) {
      var current = iteratee(array[index]);
      if (current !== undefined) {
        result = result === undefined ? current : (result + current);
      }
    }
    return result;
  }

  /**
   * The base implementation of `_.times` without support for iteratee shorthands
   * or max array length checks.
   *
   * @private
   * @param {number} n The number of times to invoke `iteratee`.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {Array} Returns the array of results.
   */
  function baseTimes(n, iteratee) {
    var index = -1,
        result = Array(n);

    while (++index < n) {
      result[index] = iteratee(index);
    }
    return result;
  }

  /**
   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array
   * of key-value pairs for `object` corresponding to the property names of `props`.
   *
   * @private
   * @param {Object} object The object to query.
   * @param {Array} props The property names to get values for.
   * @returns {Object} Returns the key-value pairs.
   */
  function baseToPairs(object, props) {
    return arrayMap(props, function(key) {
      return [key, object[key]];
    });
  }

  /**
   * The base implementation of `_.trim`.
   *
   * @private
   * @param {string} string The string to trim.
   * @returns {string} Returns the trimmed string.
   */
  function baseTrim(string) {
    return string
      ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')
      : string;
  }

  /**
   * The base implementation of `_.unary` without support for storing metadata.
   *
   * @private
   * @param {Function} func The function to cap arguments for.
   * @returns {Function} Returns the new capped function.
   */
  function baseUnary(func) {
    return function(value) {
      return func(value);
    };
  }

  /**
   * The base implementation of `_.values` and `_.valuesIn` which creates an
   * array of `object` property values corresponding to the property names
   * of `props`.
   *
   * @private
   * @param {Object} object The object to query.
   * @param {Array} props The property names to get values for.
   * @returns {Object} Returns the array of property values.
   */
  function baseValues(object, props) {
    return arrayMap(props, function(key) {
      return object[key];
    });
  }

  /**
   * Checks if a `cache` value for `key` exists.
   *
   * @private
   * @param {Object} cache The cache to query.
   * @param {string} key The key of the entry to check.
   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
   */
  function cacheHas(cache, key) {
    return cache.has(key);
  }

  /**
   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol
   * that is not found in the character symbols.
   *
   * @private
   * @param {Array} strSymbols The string symbols to inspect.
   * @param {Array} chrSymbols The character symbols to find.
   * @returns {number} Returns the index of the first unmatched string symbol.
   */
  function charsStartIndex(strSymbols, chrSymbols) {
    var index = -1,
        length = strSymbols.length;

    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}
    return index;
  }

  /**
   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol
   * that is not found in the character symbols.
   *
   * @private
   * @param {Array} strSymbols The string symbols to inspect.
   * @param {Array} chrSymbols The character symbols to find.
   * @returns {number} Returns the index of the last unmatched string symbol.
   */
  function charsEndIndex(strSymbols, chrSymbols) {
    var index = strSymbols.length;

    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}
    return index;
  }

  /**
   * Gets the number of `placeholder` occurrences in `array`.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {*} placeholder The placeholder to search for.
   * @returns {number} Returns the placeholder count.
   */
  function countHolders(array, placeholder) {
    var length = array.length,
        result = 0;

    while (length--) {
      if (array[length] === placeholder) {
        ++result;
      }
    }
    return result;
  }

  /**
   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A
   * letters to basic Latin letters.
   *
   * @private
   * @param {string} letter The matched letter to deburr.
   * @returns {string} Returns the deburred letter.
   */
  var deburrLetter = basePropertyOf(deburredLetters);

  /**
   * Used by `_.escape` to convert characters to HTML entities.
   *
   * @private
   * @param {string} chr The matched character to escape.
   * @returns {string} Returns the escaped character.
   */
  var escapeHtmlChar = basePropertyOf(htmlEscapes);

  /**
   * Used by `_.template` to escape characters for inclusion in compiled string literals.
   *
   * @private
   * @param {string} chr The matched character to escape.
   * @returns {string} Returns the escaped character.
   */
  function escapeStringChar(chr) {
    return '\\' + stringEscapes[chr];
  }

  /**
   * Gets the value at `key` of `object`.
   *
   * @private
   * @param {Object} [object] The object to query.
   * @param {string} key The key of the property to get.
   * @returns {*} Returns the property value.
   */
  function getValue(object, key) {
    return object == null ? undefined : object[key];
  }

  /**
   * Checks if `string` contains Unicode symbols.
   *
   * @private
   * @param {string} string The string to inspect.
   * @returns {boolean} Returns `true` if a symbol is found, else `false`.
   */
  function hasUnicode(string) {
    return reHasUnicode.test(string);
  }

  /**
   * Checks if `string` contains a word composed of Unicode symbols.
   *
   * @private
   * @param {string} string The string to inspect.
   * @returns {boolean} Returns `true` if a word is found, else `false`.
   */
  function hasUnicodeWord(string) {
    return reHasUnicodeWord.test(string);
  }

  /**
   * Converts `iterator` to an array.
   *
   * @private
   * @param {Object} iterator The iterator to convert.
   * @returns {Array} Returns the converted array.
   */
  function iteratorToArray(iterator) {
    var data,
        result = [];

    while (!(data = iterator.next()).done) {
      result.push(data.value);
    }
    return result;
  }

  /**
   * Converts `map` to its key-value pairs.
   *
   * @private
   * @param {Object} map The map to convert.
   * @returns {Array} Returns the key-value pairs.
   */
  function mapToArray(map) {
    var index = -1,
        result = Array(map.size);

    map.forEach(function(value, key) {
      result[++index] = [key, value];
    });
    return result;
  }

  /**
   * Creates a unary function that invokes `func` with its argument transformed.
   *
   * @private
   * @param {Function} func The function to wrap.
   * @param {Function} transform The argument transform.
   * @returns {Function} Returns the new function.
   */
  function overArg(func, transform) {
    return function(arg) {
      return func(transform(arg));
    };
  }

  /**
   * Replaces all `placeholder` elements in `array` with an internal placeholder
   * and returns an array of their indexes.
   *
   * @private
   * @param {Array} array The array to modify.
   * @param {*} placeholder The placeholder to replace.
   * @returns {Array} Returns the new array of placeholder indexes.
   */
  function replaceHolders(array, placeholder) {
    var index = -1,
        length = array.length,
        resIndex = 0,
        result = [];

    while (++index < length) {
      var value = array[index];
      if (value === placeholder || value === PLACEHOLDER) {
        array[index] = PLACEHOLDER;
        result[resIndex++] = index;
      }
    }
    return result;
  }

  /**
   * Converts `set` to an array of its values.
   *
   * @private
   * @param {Object} set The set to convert.
   * @returns {Array} Returns the values.
   */
  function setToArray(set) {
    var index = -1,
        result = Array(set.size);

    set.forEach(function(value) {
      result[++index] = value;
    });
    return result;
  }

  /**
   * Converts `set` to its value-value pairs.
   *
   * @private
   * @param {Object} set The set to convert.
   * @returns {Array} Returns the value-value pairs.
   */
  function setToPairs(set) {
    var index = -1,
        result = Array(set.size);

    set.forEach(function(value) {
      result[++index] = [value, value];
    });
    return result;
  }

  /**
   * A specialized version of `_.indexOf` which performs strict equality
   * comparisons of values, i.e. `===`.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {*} value The value to search for.
   * @param {number} fromIndex The index to search from.
   * @returns {number} Returns the index of the matched value, else `-1`.
   */
  function strictIndexOf(array, value, fromIndex) {
    var index = fromIndex - 1,
        length = array.length;

    while (++index < length) {
      if (array[index] === value) {
        return index;
      }
    }
    return -1;
  }

  /**
   * A specialized version of `_.lastIndexOf` which performs strict equality
   * comparisons of values, i.e. `===`.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {*} value The value to search for.
   * @param {number} fromIndex The index to search from.
   * @returns {number} Returns the index of the matched value, else `-1`.
   */
  function strictLastIndexOf(array, value, fromIndex) {
    var index = fromIndex + 1;
    while (index--) {
      if (array[index] === value) {
        return index;
      }
    }
    return index;
  }

  /**
   * Gets the number of symbols in `string`.
   *
   * @private
   * @param {string} string The string to inspect.
   * @returns {number} Returns the string size.
   */
  function stringSize(string) {
    return hasUnicode(string)
      ? unicodeSize(string)
      : asciiSize(string);
  }

  /**
   * Converts `string` to an array.
   *
   * @private
   * @param {string} string The string to convert.
   * @returns {Array} Returns the converted array.
   */
  function stringToArray(string) {
    return hasUnicode(string)
      ? unicodeToArray(string)
      : asciiToArray(string);
  }

  /**
   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace
   * character of `string`.
   *
   * @private
   * @param {string} string The string to inspect.
   * @returns {number} Returns the index of the last non-whitespace character.
   */
  function trimmedEndIndex(string) {
    var index = string.length;

    while (index-- && reWhitespace.test(string.charAt(index))) {}
    return index;
  }

  /**
   * Used by `_.unescape` to convert HTML entities to characters.
   *
   * @private
   * @param {string} chr The matched character to unescape.
   * @returns {string} Returns the unescaped character.
   */
  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);

  /**
   * Gets the size of a Unicode `string`.
   *
   * @private
   * @param {string} string The string inspect.
   * @returns {number} Returns the string size.
   */
  function unicodeSize(string) {
    var result = reUnicode.lastIndex = 0;
    while (reUnicode.test(string)) {
      ++result;
    }
    return result;
  }

  /**
   * Converts a Unicode `string` to an array.
   *
   * @private
   * @param {string} string The string to convert.
   * @returns {Array} Returns the converted array.
   */
  function unicodeToArray(string) {
    return string.match(reUnicode) || [];
  }

  /**
   * Splits a Unicode `string` into an array of its words.
   *
   * @private
   * @param {string} The string to inspect.
   * @returns {Array} Returns the words of `string`.
   */
  function unicodeWords(string) {
    return string.match(reUnicodeWord) || [];
  }

  /*--------------------------------------------------------------------------*/

  /**
   * Create a new pristine `lodash` function using the `context` object.
   *
   * @static
   * @memberOf _
   * @since 1.1.0
   * @category Util
   * @param {Object} [context=root] The context object.
   * @returns {Function} Returns a new `lodash` function.
   * @example
   *
   * _.mixin({ 'foo': _.constant('foo') });
   *
   * var lodash = _.runInContext();
   * lodash.mixin({ 'bar': lodash.constant('bar') });
   *
   * _.isFunction(_.foo);
   * // => true
   * _.isFunction(_.bar);
   * // => false
   *
   * lodash.isFunction(lodash.foo);
   * // => false
   * lodash.isFunction(lodash.bar);
   * // => true
   *
   * // Create a suped-up `defer` in Node.js.
   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;
   */
  var runInContext = (function runInContext(context) {
    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));

    /** Built-in constructor references. */
    var Array = context.Array,
        Date = context.Date,
        Error = context.Error,
        Function = context.Function,
        Math = context.Math,
        Object = context.Object,
        RegExp = context.RegExp,
        String = context.String,
        TypeError = context.TypeError;

    /** Used for built-in method references. */
    var arrayProto = Array.prototype,
        funcProto = Function.prototype,
        objectProto = Object.prototype;

    /** Used to detect overreaching core-js shims. */
    var coreJsData = context['__core-js_shared__'];

    /** Used to resolve the decompiled source of functions. */
    var funcToString = funcProto.toString;

    /** Used to check objects for own properties. */
    var hasOwnProperty = objectProto.hasOwnProperty;

    /** Used to generate unique IDs. */
    var idCounter = 0;

    /** Used to detect methods masquerading as native. */
    var maskSrcKey = (function() {
      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
      return uid ? ('Symbol(src)_1.' + uid) : '';
    }());

    /**
     * Used to resolve the
     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
     * of values.
     */
    var nativeObjectToString = objectProto.toString;

    /** Used to infer the `Object` constructor. */
    var objectCtorString = funcToString.call(Object);

    /** Used to restore the original `_` reference in `_.noConflict`. */
    var oldDash = root._;

    /** Used to detect if a method is native. */
    var reIsNative = RegExp('^' +
      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
      .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
    );

    /** Built-in value references. */
    var Buffer = moduleExports ? context.Buffer : undefined,
        Symbol = context.Symbol,
        Uint8Array = context.Uint8Array,
        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,
        getPrototype = overArg(Object.getPrototypeOf, Object),
        objectCreate = Object.create,
        propertyIsEnumerable = objectProto.propertyIsEnumerable,
        splice = arrayProto.splice,
        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,
        symIterator = Symbol ? Symbol.iterator : undefined,
        symToStringTag = Symbol ? Symbol.toStringTag : undefined;

    var defineProperty = (function() {
      try {
        var func = getNative(Object, 'defineProperty');
        func({}, '', {});
        return func;
      } catch (e) {}
    }());

    /** Mocked built-ins. */
    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,
        ctxNow = Date && Date.now !== root.Date.now && Date.now,
        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;

    /* Built-in method references for those with the same name as other `lodash` methods. */
    var nativeCeil = Math.ceil,
        nativeFloor = Math.floor,
        nativeGetSymbols = Object.getOwnPropertySymbols,
        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,
        nativeIsFinite = context.isFinite,
        nativeJoin = arrayProto.join,
        nativeKeys = overArg(Object.keys, Object),
        nativeMax = Math.max,
        nativeMin = Math.min,
        nativeNow = Date.now,
        nativeParseInt = context.parseInt,
        nativeRandom = Math.random,
        nativeReverse = arrayProto.reverse;

    /* Built-in method references that are verified to be native. */
    var DataView = getNative(context, 'DataView'),
        Map = getNative(context, 'Map'),
        Promise = getNative(context, 'Promise'),
        Set = getNative(context, 'Set'),
        WeakMap = getNative(context, 'WeakMap'),
        nativeCreate = getNative(Object, 'create');

    /** Used to store function metadata. */
    var metaMap = WeakMap && new WeakMap;

    /** Used to lookup unminified function names. */
    var realNames = {};

    /** Used to detect maps, sets, and weakmaps. */
    var dataViewCtorString = toSource(DataView),
        mapCtorString = toSource(Map),
        promiseCtorString = toSource(Promise),
        setCtorString = toSource(Set),
        weakMapCtorString = toSource(WeakMap);

    /** Used to convert symbols to primitives and strings. */
    var symbolProto = Symbol ? Symbol.prototype : undefined,
        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,
        symbolToString = symbolProto ? symbolProto.toString : undefined;

    /*------------------------------------------------------------------------*/

    /**
     * Creates a `lodash` object which wraps `value` to enable implicit method
     * chain sequences. Methods that operate on and return arrays, collections,
     * and functions can be chained together. Methods that retrieve a single value
     * or may return a primitive value will automatically end the chain sequence
     * and return the unwrapped value. Otherwise, the value must be unwrapped
     * with `_#value`.
     *
     * Explicit chain sequences, which must be unwrapped with `_#value`, may be
     * enabled using `_.chain`.
     *
     * The execution of chained methods is lazy, that is, it's deferred until
     * `_#value` is implicitly or explicitly called.
     *
     * Lazy evaluation allows several methods to support shortcut fusion.
     * Shortcut fusion is an optimization to merge iteratee calls; this avoids
     * the creation of intermediate arrays and can greatly reduce the number of
     * iteratee executions. Sections of a chain sequence qualify for shortcut
     * fusion if the section is applied to an array and iteratees accept only
     * one argument. The heuristic for whether a section qualifies for shortcut
     * fusion is subject to change.
     *
     * Chaining is supported in custom builds as long as the `_#value` method is
     * directly or indirectly included in the build.
     *
     * In addition to lodash methods, wrappers have `Array` and `String` methods.
     *
     * The wrapper `Array` methods are:
     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`
     *
     * The wrapper `String` methods are:
     * `replace` and `split`
     *
     * The wrapper methods that support shortcut fusion are:
     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,
     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,
     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`
     *
     * The chainable wrapper methods are:
     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,
     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,
     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,
     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,
     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,
     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,
     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,
     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,
     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,
     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,
     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,
     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,
     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,
     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,
     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,
     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,
     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,
     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,
     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,
     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,
     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,
     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,
     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,
     * `zipObject`, `zipObjectDeep`, and `zipWith`
     *
     * The wrapper methods that are **not** chainable by default are:
     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,
     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,
     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,
     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,
     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,
     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,
     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,
     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,
     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,
     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,
     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,
     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,
     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,
     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,
     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,
     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,
     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,
     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,
     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,
     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,
     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,
     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,
     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,
     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,
     * `upperFirst`, `value`, and `words`
     *
     * @name _
     * @constructor
     * @category Seq
     * @param {*} value The value to wrap in a `lodash` instance.
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * function square(n) {
     *   return n * n;
     * }
     *
     * var wrapped = _([1, 2, 3]);
     *
     * // Returns an unwrapped value.
     * wrapped.reduce(_.add);
     * // => 6
     *
     * // Returns a wrapped value.
     * var squares = wrapped.map(square);
     *
     * _.isArray(squares);
     * // => false
     *
     * _.isArray(squares.value());
     * // => true
     */
    function lodash(value) {
      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {
        if (value instanceof LodashWrapper) {
          return value;
        }
        if (hasOwnProperty.call(value, '__wrapped__')) {
          return wrapperClone(value);
        }
      }
      return new LodashWrapper(value);
    }

    /**
     * The base implementation of `_.create` without support for assigning
     * properties to the created object.
     *
     * @private
     * @param {Object} proto The object to inherit from.
     * @returns {Object} Returns the new object.
     */
    var baseCreate = (function() {
      function object() {}
      return function(proto) {
        if (!isObject(proto)) {
          return {};
        }
        if (objectCreate) {
          return objectCreate(proto);
        }
        object.prototype = proto;
        var result = new object;
        object.prototype = undefined;
        return result;
      };
    }());

    /**
     * The function whose prototype chain sequence wrappers inherit from.
     *
     * @private
     */
    function baseLodash() {
      // No operation performed.
    }

    /**
     * The base constructor for creating `lodash` wrapper objects.
     *
     * @private
     * @param {*} value The value to wrap.
     * @param {boolean} [chainAll] Enable explicit method chain sequences.
     */
    function LodashWrapper(value, chainAll) {
      this.__wrapped__ = value;
      this.__actions__ = [];
      this.__chain__ = !!chainAll;
      this.__index__ = 0;
      this.__values__ = undefined;
    }

    /**
     * By default, the template delimiters used by lodash are like those in
     * embedded Ruby (ERB) as well as ES2015 template strings. Change the
     * following template settings to use alternative delimiters.
     *
     * @static
     * @memberOf _
     * @type {Object}
     */
    lodash.templateSettings = {

      /**
       * Used to detect `data` property values to be HTML-escaped.
       *
       * @memberOf _.templateSettings
       * @type {RegExp}
       */
      'escape': reEscape,

      /**
       * Used to detect code to be evaluated.
       *
       * @memberOf _.templateSettings
       * @type {RegExp}
       */
      'evaluate': reEvaluate,

      /**
       * Used to detect `data` property values to inject.
       *
       * @memberOf _.templateSettings
       * @type {RegExp}
       */
      'interpolate': reInterpolate,

      /**
       * Used to reference the data object in the template text.
       *
       * @memberOf _.templateSettings
       * @type {string}
       */
      'variable': '',

      /**
       * Used to import variables into the compiled template.
       *
       * @memberOf _.templateSettings
       * @type {Object}
       */
      'imports': {

        /**
         * A reference to the `lodash` function.
         *
         * @memberOf _.templateSettings.imports
         * @type {Function}
         */
        '_': lodash
      }
    };

    // Ensure wrappers are instances of `baseLodash`.
    lodash.prototype = baseLodash.prototype;
    lodash.prototype.constructor = lodash;

    LodashWrapper.prototype = baseCreate(baseLodash.prototype);
    LodashWrapper.prototype.constructor = LodashWrapper;

    /*------------------------------------------------------------------------*/

    /**
     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.
     *
     * @private
     * @constructor
     * @param {*} value The value to wrap.
     */
    function LazyWrapper(value) {
      this.__wrapped__ = value;
      this.__actions__ = [];
      this.__dir__ = 1;
      this.__filtered__ = false;
      this.__iteratees__ = [];
      this.__takeCount__ = MAX_ARRAY_LENGTH;
      this.__views__ = [];
    }

    /**
     * Creates a clone of the lazy wrapper object.
     *
     * @private
     * @name clone
     * @memberOf LazyWrapper
     * @returns {Object} Returns the cloned `LazyWrapper` object.
     */
    function lazyClone() {
      var result = new LazyWrapper(this.__wrapped__);
      result.__actions__ = copyArray(this.__actions__);
      result.__dir__ = this.__dir__;
      result.__filtered__ = this.__filtered__;
      result.__iteratees__ = copyArray(this.__iteratees__);
      result.__takeCount__ = this.__takeCount__;
      result.__views__ = copyArray(this.__views__);
      return result;
    }

    /**
     * Reverses the direction of lazy iteration.
     *
     * @private
     * @name reverse
     * @memberOf LazyWrapper
     * @returns {Object} Returns the new reversed `LazyWrapper` object.
     */
    function lazyReverse() {
      if (this.__filtered__) {
        var result = new LazyWrapper(this);
        result.__dir__ = -1;
        result.__filtered__ = true;
      } else {
        result = this.clone();
        result.__dir__ *= -1;
      }
      return result;
    }

    /**
     * Extracts the unwrapped value from its lazy wrapper.
     *
     * @private
     * @name value
     * @memberOf LazyWrapper
     * @returns {*} Returns the unwrapped value.
     */
    function lazyValue() {
      var array = this.__wrapped__.value(),
          dir = this.__dir__,
          isArr = isArray(array),
          isRight = dir < 0,
          arrLength = isArr ? array.length : 0,
          view = getView(0, arrLength, this.__views__),
          start = view.start,
          end = view.end,
          length = end - start,
          index = isRight ? end : (start - 1),
          iteratees = this.__iteratees__,
          iterLength = iteratees.length,
          resIndex = 0,
          takeCount = nativeMin(length, this.__takeCount__);

      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {
        return baseWrapperValue(array, this.__actions__);
      }
      var result = [];

      outer:
      while (length-- && resIndex < takeCount) {
        index += dir;

        var iterIndex = -1,
            value = array[index];

        while (++iterIndex < iterLength) {
          var data = iteratees[iterIndex],
              iteratee = data.iteratee,
              type = data.type,
              computed = iteratee(value);

          if (type == LAZY_MAP_FLAG) {
            value = computed;
          } else if (!computed) {
            if (type == LAZY_FILTER_FLAG) {
              continue outer;
            } else {
              break outer;
            }
          }
        }
        result[resIndex++] = value;
      }
      return result;
    }

    // Ensure `LazyWrapper` is an instance of `baseLodash`.
    LazyWrapper.prototype = baseCreate(baseLodash.prototype);
    LazyWrapper.prototype.constructor = LazyWrapper;

    /*------------------------------------------------------------------------*/

    /**
     * Creates a hash object.
     *
     * @private
     * @constructor
     * @param {Array} [entries] The key-value pairs to cache.
     */
    function Hash(entries) {
      var index = -1,
          length = entries == null ? 0 : entries.length;

      this.clear();
      while (++index < length) {
        var entry = entries[index];
        this.set(entry[0], entry[1]);
      }
    }

    /**
     * Removes all key-value entries from the hash.
     *
     * @private
     * @name clear
     * @memberOf Hash
     */
    function hashClear() {
      this.__data__ = nativeCreate ? nativeCreate(null) : {};
      this.size = 0;
    }

    /**
     * Removes `key` and its value from the hash.
     *
     * @private
     * @name delete
     * @memberOf Hash
     * @param {Object} hash The hash to modify.
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */
    function hashDelete(key) {
      var result = this.has(key) && delete this.__data__[key];
      this.size -= result ? 1 : 0;
      return result;
    }

    /**
     * Gets the hash value for `key`.
     *
     * @private
     * @name get
     * @memberOf Hash
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */
    function hashGet(key) {
      var data = this.__data__;
      if (nativeCreate) {
        var result = data[key];
        return result === HASH_UNDEFINED ? undefined : result;
      }
      return hasOwnProperty.call(data, key) ? data[key] : undefined;
    }

    /**
     * Checks if a hash value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf Hash
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */
    function hashHas(key) {
      var data = this.__data__;
      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);
    }

    /**
     * Sets the hash `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf Hash
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the hash instance.
     */
    function hashSet(key, value) {
      var data = this.__data__;
      this.size += this.has(key) ? 0 : 1;
      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
      return this;
    }

    // Add methods to `Hash`.
    Hash.prototype.clear = hashClear;
    Hash.prototype['delete'] = hashDelete;
    Hash.prototype.get = hashGet;
    Hash.prototype.has = hashHas;
    Hash.prototype.set = hashSet;

    /*------------------------------------------------------------------------*/

    /**
     * Creates an list cache object.
     *
     * @private
     * @constructor
     * @param {Array} [entries] The key-value pairs to cache.
     */
    function ListCache(entries) {
      var index = -1,
          length = entries == null ? 0 : entries.length;

      this.clear();
      while (++index < length) {
        var entry = entries[index];
        this.set(entry[0], entry[1]);
      }
    }

    /**
     * Removes all key-value entries from the list cache.
     *
     * @private
     * @name clear
     * @memberOf ListCache
     */
    function listCacheClear() {
      this.__data__ = [];
      this.size = 0;
    }

    /**
     * Removes `key` and its value from the list cache.
     *
     * @private
     * @name delete
     * @memberOf ListCache
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */
    function listCacheDelete(key) {
      var data = this.__data__,
          index = assocIndexOf(data, key);

      if (index < 0) {
        return false;
      }
      var lastIndex = data.length - 1;
      if (index == lastIndex) {
        data.pop();
      } else {
        splice.call(data, index, 1);
      }
      --this.size;
      return true;
    }

    /**
     * Gets the list cache value for `key`.
     *
     * @private
     * @name get
     * @memberOf ListCache
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */
    function listCacheGet(key) {
      var data = this.__data__,
          index = assocIndexOf(data, key);

      return index < 0 ? undefined : data[index][1];
    }

    /**
     * Checks if a list cache value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf ListCache
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */
    function listCacheHas(key) {
      return assocIndexOf(this.__data__, key) > -1;
    }

    /**
     * Sets the list cache `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf ListCache
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the list cache instance.
     */
    function listCacheSet(key, value) {
      var data = this.__data__,
          index = assocIndexOf(data, key);

      if (index < 0) {
        ++this.size;
        data.push([key, value]);
      } else {
        data[index][1] = value;
      }
      return this;
    }

    // Add methods to `ListCache`.
    ListCache.prototype.clear = listCacheClear;
    ListCache.prototype['delete'] = listCacheDelete;
    ListCache.prototype.get = listCacheGet;
    ListCache.prototype.has = listCacheHas;
    ListCache.prototype.set = listCacheSet;

    /*------------------------------------------------------------------------*/

    /**
     * Creates a map cache object to store key-value pairs.
     *
     * @private
     * @constructor
     * @param {Array} [entries] The key-value pairs to cache.
     */
    function MapCache(entries) {
      var index = -1,
          length = entries == null ? 0 : entries.length;

      this.clear();
      while (++index < length) {
        var entry = entries[index];
        this.set(entry[0], entry[1]);
      }
    }

    /**
     * Removes all key-value entries from the map.
     *
     * @private
     * @name clear
     * @memberOf MapCache
     */
    function mapCacheClear() {
      this.size = 0;
      this.__data__ = {
        'hash': new Hash,
        'map': new (Map || ListCache),
        'string': new Hash
      };
    }

    /**
     * Removes `key` and its value from the map.
     *
     * @private
     * @name delete
     * @memberOf MapCache
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */
    function mapCacheDelete(key) {
      var result = getMapData(this, key)['delete'](key);
      this.size -= result ? 1 : 0;
      return result;
    }

    /**
     * Gets the map value for `key`.
     *
     * @private
     * @name get
     * @memberOf MapCache
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */
    function mapCacheGet(key) {
      return getMapData(this, key).get(key);
    }

    /**
     * Checks if a map value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf MapCache
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */
    function mapCacheHas(key) {
      return getMapData(this, key).has(key);
    }

    /**
     * Sets the map `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf MapCache
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the map cache instance.
     */
    function mapCacheSet(key, value) {
      var data = getMapData(this, key),
          size = data.size;

      data.set(key, value);
      this.size += data.size == size ? 0 : 1;
      return this;
    }

    // Add methods to `MapCache`.
    MapCache.prototype.clear = mapCacheClear;
    MapCache.prototype['delete'] = mapCacheDelete;
    MapCache.prototype.get = mapCacheGet;
    MapCache.prototype.has = mapCacheHas;
    MapCache.prototype.set = mapCacheSet;

    /*------------------------------------------------------------------------*/

    /**
     *
     * Creates an array cache object to store unique values.
     *
     * @private
     * @constructor
     * @param {Array} [values] The values to cache.
     */
    function SetCache(values) {
      var index = -1,
          length = values == null ? 0 : values.length;

      this.__data__ = new MapCache;
      while (++index < length) {
        this.add(values[index]);
      }
    }

    /**
     * Adds `value` to the array cache.
     *
     * @private
     * @name add
     * @memberOf SetCache
     * @alias push
     * @param {*} value The value to cache.
     * @returns {Object} Returns the cache instance.
     */
    function setCacheAdd(value) {
      this.__data__.set(value, HASH_UNDEFINED);
      return this;
    }

    /**
     * Checks if `value` is in the array cache.
     *
     * @private
     * @name has
     * @memberOf SetCache
     * @param {*} value The value to search for.
     * @returns {number} Returns `true` if `value` is found, else `false`.
     */
    function setCacheHas(value) {
      return this.__data__.has(value);
    }

    // Add methods to `SetCache`.
    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
    SetCache.prototype.has = setCacheHas;

    /*------------------------------------------------------------------------*/

    /**
     * Creates a stack cache object to store key-value pairs.
     *
     * @private
     * @constructor
     * @param {Array} [entries] The key-value pairs to cache.
     */
    function Stack(entries) {
      var data = this.__data__ = new ListCache(entries);
      this.size = data.size;
    }

    /**
     * Removes all key-value entries from the stack.
     *
     * @private
     * @name clear
     * @memberOf Stack
     */
    function stackClear() {
      this.__data__ = new ListCache;
      this.size = 0;
    }

    /**
     * Removes `key` and its value from the stack.
     *
     * @private
     * @name delete
     * @memberOf Stack
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */
    function stackDelete(key) {
      var data = this.__data__,
          result = data['delete'](key);

      this.size = data.size;
      return result;
    }

    /**
     * Gets the stack value for `key`.
     *
     * @private
     * @name get
     * @memberOf Stack
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */
    function stackGet(key) {
      return this.__data__.get(key);
    }

    /**
     * Checks if a stack value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf Stack
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */
    function stackHas(key) {
      return this.__data__.has(key);
    }

    /**
     * Sets the stack `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf Stack
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the stack cache instance.
     */
    function stackSet(key, value) {
      var data = this.__data__;
      if (data instanceof ListCache) {
        var pairs = data.__data__;
        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {
          pairs.push([key, value]);
          this.size = ++data.size;
          return this;
        }
        data = this.__data__ = new MapCache(pairs);
      }
      data.set(key, value);
      this.size = data.size;
      return this;
    }

    // Add methods to `Stack`.
    Stack.prototype.clear = stackClear;
    Stack.prototype['delete'] = stackDelete;
    Stack.prototype.get = stackGet;
    Stack.prototype.has = stackHas;
    Stack.prototype.set = stackSet;

    /*------------------------------------------------------------------------*/

    /**
     * Creates an array of the enumerable property names of the array-like `value`.
     *
     * @private
     * @param {*} value The value to query.
     * @param {boolean} inherited Specify returning inherited property names.
     * @returns {Array} Returns the array of property names.
     */
    function arrayLikeKeys(value, inherited) {
      var isArr = isArray(value),
          isArg = !isArr && isArguments(value),
          isBuff = !isArr && !isArg && isBuffer(value),
          isType = !isArr && !isArg && !isBuff && isTypedArray(value),
          skipIndexes = isArr || isArg || isBuff || isType,
          result = skipIndexes ? baseTimes(value.length, String) : [],
          length = result.length;

      for (var key in value) {
        if ((inherited || hasOwnProperty.call(value, key)) &&
            !(skipIndexes && (
               // Safari 9 has enumerable `arguments.length` in strict mode.
               key == 'length' ||
               // Node.js 0.10 has enumerable non-index properties on buffers.
               (isBuff && (key == 'offset' || key == 'parent')) ||
               // PhantomJS 2 has enumerable non-index properties on typed arrays.
               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||
               // Skip index properties.
               isIndex(key, length)
            ))) {
          result.push(key);
        }
      }
      return result;
    }

    /**
     * A specialized version of `_.sample` for arrays.
     *
     * @private
     * @param {Array} array The array to sample.
     * @returns {*} Returns the random element.
     */
    function arraySample(array) {
      var length = array.length;
      return length ? array[baseRandom(0, length - 1)] : undefined;
    }

    /**
     * A specialized version of `_.sampleSize` for arrays.
     *
     * @private
     * @param {Array} array The array to sample.
     * @param {number} n The number of elements to sample.
     * @returns {Array} Returns the random elements.
     */
    function arraySampleSize(array, n) {
      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));
    }

    /**
     * A specialized version of `_.shuffle` for arrays.
     *
     * @private
     * @param {Array} array The array to shuffle.
     * @returns {Array} Returns the new shuffled array.
     */
    function arrayShuffle(array) {
      return shuffleSelf(copyArray(array));
    }

    /**
     * This function is like `assignValue` except that it doesn't assign
     * `undefined` values.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {string} key The key of the property to assign.
     * @param {*} value The value to assign.
     */
    function assignMergeValue(object, key, value) {
      if ((value !== undefined && !eq(object[key], value)) ||
          (value === undefined && !(key in object))) {
        baseAssignValue(object, key, value);
      }
    }

    /**
     * Assigns `value` to `key` of `object` if the existing value is not equivalent
     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {string} key The key of the property to assign.
     * @param {*} value The value to assign.
     */
    function assignValue(object, key, value) {
      var objValue = object[key];
      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||
          (value === undefined && !(key in object))) {
        baseAssignValue(object, key, value);
      }
    }

    /**
     * Gets the index at which the `key` is found in `array` of key-value pairs.
     *
     * @private
     * @param {Array} array The array to inspect.
     * @param {*} key The key to search for.
     * @returns {number} Returns the index of the matched value, else `-1`.
     */
    function assocIndexOf(array, key) {
      var length = array.length;
      while (length--) {
        if (eq(array[length][0], key)) {
          return length;
        }
      }
      return -1;
    }

    /**
     * Aggregates elements of `collection` on `accumulator` with keys transformed
     * by `iteratee` and values set by `setter`.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} setter The function to set `accumulator` values.
     * @param {Function} iteratee The iteratee to transform keys.
     * @param {Object} accumulator The initial aggregated object.
     * @returns {Function} Returns `accumulator`.
     */
    function baseAggregator(collection, setter, iteratee, accumulator) {
      baseEach(collection, function(value, key, collection) {
        setter(accumulator, value, iteratee(value), collection);
      });
      return accumulator;
    }

    /**
     * The base implementation of `_.assign` without support for multiple sources
     * or `customizer` functions.
     *
     * @private
     * @param {Object} object The destination object.
     * @param {Object} source The source object.
     * @returns {Object} Returns `object`.
     */
    function baseAssign(object, source) {
      return object && copyObject(source, keys(source), object);
    }

    /**
     * The base implementation of `_.assignIn` without support for multiple sources
     * or `customizer` functions.
     *
     * @private
     * @param {Object} object The destination object.
     * @param {Object} source The source object.
     * @returns {Object} Returns `object`.
     */
    function baseAssignIn(object, source) {
      return object && copyObject(source, keysIn(source), object);
    }

    /**
     * The base implementation of `assignValue` and `assignMergeValue` without
     * value checks.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {string} key The key of the property to assign.
     * @param {*} value The value to assign.
     */
    function baseAssignValue(object, key, value) {
      if (key == '__proto__' && defineProperty) {
        defineProperty(object, key, {
          'configurable': true,
          'enumerable': true,
          'value': value,
          'writable': true
        });
      } else {
        object[key] = value;
      }
    }

    /**
     * The base implementation of `_.at` without support for individual paths.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {string[]} paths The property paths to pick.
     * @returns {Array} Returns the picked elements.
     */
    function baseAt(object, paths) {
      var index = -1,
          length = paths.length,
          result = Array(length),
          skip = object == null;

      while (++index < length) {
        result[index] = skip ? undefined : get(object, paths[index]);
      }
      return result;
    }

    /**
     * The base implementation of `_.clamp` which doesn't coerce arguments.
     *
     * @private
     * @param {number} number The number to clamp.
     * @param {number} [lower] The lower bound.
     * @param {number} upper The upper bound.
     * @returns {number} Returns the clamped number.
     */
    function baseClamp(number, lower, upper) {
      if (number === number) {
        if (upper !== undefined) {
          number = number <= upper ? number : upper;
        }
        if (lower !== undefined) {
          number = number >= lower ? number : lower;
        }
      }
      return number;
    }

    /**
     * The base implementation of `_.clone` and `_.cloneDeep` which tracks
     * traversed objects.
     *
     * @private
     * @param {*} value The value to clone.
     * @param {boolean} bitmask The bitmask flags.
     *  1 - Deep clone
     *  2 - Flatten inherited properties
     *  4 - Clone symbols
     * @param {Function} [customizer] The function to customize cloning.
     * @param {string} [key] The key of `value`.
     * @param {Object} [object] The parent object of `value`.
     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.
     * @returns {*} Returns the cloned value.
     */
    function baseClone(value, bitmask, customizer, key, object, stack) {
      var result,
          isDeep = bitmask & CLONE_DEEP_FLAG,
          isFlat = bitmask & CLONE_FLAT_FLAG,
          isFull = bitmask & CLONE_SYMBOLS_FLAG;

      if (customizer) {
        result = object ? customizer(value, key, object, stack) : customizer(value);
      }
      if (result !== undefined) {
        return result;
      }
      if (!isObject(value)) {
        return value;
      }
      var isArr = isArray(value);
      if (isArr) {
        result = initCloneArray(value);
        if (!isDeep) {
          return copyArray(value, result);
        }
      } else {
        var tag = getTag(value),
            isFunc = tag == funcTag || tag == genTag;

        if (isBuffer(value)) {
          return cloneBuffer(value, isDeep);
        }
        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {
          result = (isFlat || isFunc) ? {} : initCloneObject(value);
          if (!isDeep) {
            return isFlat
              ? copySymbolsIn(value, baseAssignIn(result, value))
              : copySymbols(value, baseAssign(result, value));
          }
        } else {
          if (!cloneableTags[tag]) {
            return object ? value : {};
          }
          result = initCloneByTag(value, tag, isDeep);
        }
      }
      // Check for circular references and return its corresponding clone.
      stack || (stack = new Stack);
      var stacked = stack.get(value);
      if (stacked) {
        return stacked;
      }
      stack.set(value, result);

      if (isSet(value)) {
        value.forEach(function(subValue) {
          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));
        });
      } else if (isMap(value)) {
        value.forEach(function(subValue, key) {
          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));
        });
      }

      var keysFunc = isFull
        ? (isFlat ? getAllKeysIn : getAllKeys)
        : (isFlat ? keysIn : keys);

      var props = isArr ? undefined : keysFunc(value);
      arrayEach(props || value, function(subValue, key) {
        if (props) {
          key = subValue;
          subValue = value[key];
        }
        // Recursively populate clone (susceptible to call stack limits).
        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));
      });
      return result;
    }

    /**
     * The base implementation of `_.conforms` which doesn't clone `source`.
     *
     * @private
     * @param {Object} source The object of property predicates to conform to.
     * @returns {Function} Returns the new spec function.
     */
    function baseConforms(source) {
      var props = keys(source);
      return function(object) {
        return baseConformsTo(object, source, props);
      };
    }

    /**
     * The base implementation of `_.conformsTo` which accepts `props` to check.
     *
     * @private
     * @param {Object} object The object to inspect.
     * @param {Object} source The object of property predicates to conform to.
     * @returns {boolean} Returns `true` if `object` conforms, else `false`.
     */
    function baseConformsTo(object, source, props) {
      var length = props.length;
      if (object == null) {
        return !length;
      }
      object = Object(object);
      while (length--) {
        var key = props[length],
            predicate = source[key],
            value = object[key];

        if ((value === undefined && !(key in object)) || !predicate(value)) {
          return false;
        }
      }
      return true;
    }

    /**
     * The base implementation of `_.delay` and `_.defer` which accepts `args`
     * to provide to `func`.
     *
     * @private
     * @param {Function} func The function to delay.
     * @param {number} wait The number of milliseconds to delay invocation.
     * @param {Array} args The arguments to provide to `func`.
     * @returns {number|Object} Returns the timer id or timeout object.
     */
    function baseDelay(func, wait, args) {
      if (typeof func != 'function') {
        throw new TypeError(FUNC_ERROR_TEXT);
      }
      return setTimeout(function() { func.apply(undefined, args); }, wait);
    }

    /**
     * The base implementation of methods like `_.difference` without support
     * for excluding multiple arrays or iteratee shorthands.
     *
     * @private
     * @param {Array} array The array to inspect.
     * @param {Array} values The values to exclude.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of filtered values.
     */
    function baseDifference(array, values, iteratee, comparator) {
      var index = -1,
          includes = arrayIncludes,
          isCommon = true,
          length = array.length,
          result = [],
          valuesLength = values.length;

      if (!length) {
        return result;
      }
      if (iteratee) {
        values = arrayMap(values, baseUnary(iteratee));
      }
      if (comparator) {
        includes = arrayIncludesWith;
        isCommon = false;
      }
      else if (values.length >= LARGE_ARRAY_SIZE) {
        includes = cacheHas;
        isCommon = false;
        values = new SetCache(values);
      }
      outer:
      while (++index < length) {
        var value = array[index],
            computed = iteratee == null ? value : iteratee(value);

        value = (comparator || value !== 0) ? value : 0;
        if (isCommon && computed === computed) {
          var valuesIndex = valuesLength;
          while (valuesIndex--) {
            if (values[valuesIndex] === computed) {
              continue outer;
            }
          }
          result.push(value);
        }
        else if (!includes(values, computed, comparator)) {
          result.push(value);
        }
      }
      return result;
    }

    /**
     * The base implementation of `_.forEach` without support for iteratee shorthands.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Array|Object} Returns `collection`.
     */
    var baseEach = createBaseEach(baseForOwn);

    /**
     * The base implementation of `_.forEachRight` without support for iteratee shorthands.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Array|Object} Returns `collection`.
     */
    var baseEachRight = createBaseEach(baseForOwnRight, true);

    /**
     * The base implementation of `_.every` without support for iteratee shorthands.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} predicate The function invoked per iteration.
     * @returns {boolean} Returns `true` if all elements pass the predicate check,
     *  else `false`
     */
    function baseEvery(collection, predicate) {
      var result = true;
      baseEach(collection, function(value, index, collection) {
        result = !!predicate(value, index, collection);
        return result;
      });
      return result;
    }

    /**
     * The base implementation of methods like `_.max` and `_.min` which accepts a
     * `comparator` to determine the extremum value.
     *
     * @private
     * @param {Array} array The array to iterate over.
     * @param {Function} iteratee The iteratee invoked per iteration.
     * @param {Function} comparator The comparator used to compare values.
     * @returns {*} Returns the extremum value.
     */
    function baseExtremum(array, iteratee, comparator) {
      var index = -1,
          length = array.length;

      while (++index < length) {
        var value = array[index],
            current = iteratee(value);

        if (current != null && (computed === undefined
              ? (current === current && !isSymbol(current))
              : comparator(current, computed)
            )) {
          var computed = current,
              result = value;
        }
      }
      return result;
    }

    /**
     * The base implementation of `_.fill` without an iteratee call guard.
     *
     * @private
     * @param {Array} array The array to fill.
     * @param {*} value The value to fill `array` with.
     * @param {number} [start=0] The start position.
     * @param {number} [end=array.length] The end position.
     * @returns {Array} Returns `array`.
     */
    function baseFill(array, value, start, end) {
      var length = array.length;

      start = toInteger(start);
      if (start < 0) {
        start = -start > length ? 0 : (length + start);
      }
      end = (end === undefined || end > length) ? length : toInteger(end);
      if (end < 0) {
        end += length;
      }
      end = start > end ? 0 : toLength(end);
      while (start < end) {
        array[start++] = value;
      }
      return array;
    }

    /**
     * The base implementation of `_.filter` without support for iteratee shorthands.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} predicate The function invoked per iteration.
     * @returns {Array} Returns the new filtered array.
     */
    function baseFilter(collection, predicate) {
      var result = [];
      baseEach(collection, function(value, index, collection) {
        if (predicate(value, index, collection)) {
          result.push(value);
        }
      });
      return result;
    }

    /**
     * The base implementation of `_.flatten` with support for restricting flattening.
     *
     * @private
     * @param {Array} array The array to flatten.
     * @param {number} depth The maximum recursion depth.
     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.
     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.
     * @param {Array} [result=[]] The initial result value.
     * @returns {Array} Returns the new flattened array.
     */
    function baseFlatten(array, depth, predicate, isStrict, result) {
      var index = -1,
          length = array.length;

      predicate || (predicate = isFlattenable);
      result || (result = []);

      while (++index < length) {
        var value = array[index];
        if (depth > 0 && predicate(value)) {
          if (depth > 1) {
            // Recursively flatten arrays (susceptible to call stack limits).
            baseFlatten(value, depth - 1, predicate, isStrict, result);
          } else {
            arrayPush(result, value);
          }
        } else if (!isStrict) {
          result[result.length] = value;
        }
      }
      return result;
    }

    /**
     * The base implementation of `baseForOwn` which iterates over `object`
     * properties returned by `keysFunc` and invokes `iteratee` for each property.
     * Iteratee functions may exit iteration early by explicitly returning `false`.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @param {Function} keysFunc The function to get the keys of `object`.
     * @returns {Object} Returns `object`.
     */
    var baseFor = createBaseFor();

    /**
     * This function is like `baseFor` except that it iterates over properties
     * in the opposite order.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @param {Function} keysFunc The function to get the keys of `object`.
     * @returns {Object} Returns `object`.
     */
    var baseForRight = createBaseFor(true);

    /**
     * The base implementation of `_.forOwn` without support for iteratee shorthands.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Object} Returns `object`.
     */
    function baseForOwn(object, iteratee) {
      return object && baseFor(object, iteratee, keys);
    }

    /**
     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Object} Returns `object`.
     */
    function baseForOwnRight(object, iteratee) {
      return object && baseForRight(object, iteratee, keys);
    }

    /**
     * The base implementation of `_.functions` which creates an array of
     * `object` function property names filtered from `props`.
     *
     * @private
     * @param {Object} object The object to inspect.
     * @param {Array} props The property names to filter.
     * @returns {Array} Returns the function names.
     */
    function baseFunctions(object, props) {
      return arrayFilter(props, function(key) {
        return isFunction(object[key]);
      });
    }

    /**
     * The base implementation of `_.get` without support for default values.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Array|string} path The path of the property to get.
     * @returns {*} Returns the resolved value.
     */
    function baseGet(object, path) {
      path = castPath(path, object);

      var index = 0,
          length = path.length;

      while (object != null && index < length) {
        object = object[toKey(path[index++])];
      }
      return (index && index == length) ? object : undefined;
    }

    /**
     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses
     * `keysFunc` and `symbolsFunc` to get the enumerable property names and
     * symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Function} keysFunc The function to get the keys of `object`.
     * @param {Function} symbolsFunc The function to get the symbols of `object`.
     * @returns {Array} Returns the array of property names and symbols.
     */
    function baseGetAllKeys(object, keysFunc, symbolsFunc) {
      var result = keysFunc(object);
      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));
    }

    /**
     * The base implementation of `getTag` without fallbacks for buggy environments.
     *
     * @private
     * @param {*} value The value to query.
     * @returns {string} Returns the `toStringTag`.
     */
    function baseGetTag(value) {
      if (value == null) {
        return value === undefined ? undefinedTag : nullTag;
      }
      return (symToStringTag && symToStringTag in Object(value))
        ? getRawTag(value)
        : objectToString(value);
    }

    /**
     * The base implementation of `_.gt` which doesn't coerce arguments.
     *
     * @private
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if `value` is greater than `other`,
     *  else `false`.
     */
    function baseGt(value, other) {
      return value > other;
    }

    /**
     * The base implementation of `_.has` without support for deep paths.
     *
     * @private
     * @param {Object} [object] The object to query.
     * @param {Array|string} key The key to check.
     * @returns {boolean} Returns `true` if `key` exists, else `false`.
     */
    function baseHas(object, key) {
      return object != null && hasOwnProperty.call(object, key);
    }

    /**
     * The base implementation of `_.hasIn` without support for deep paths.
     *
     * @private
     * @param {Object} [object] The object to query.
     * @param {Array|string} key The key to check.
     * @returns {boolean} Returns `true` if `key` exists, else `false`.
     */
    function baseHasIn(object, key) {
      return object != null && key in Object(object);
    }

    /**
     * The base implementation of `_.inRange` which doesn't coerce arguments.
     *
     * @private
     * @param {number} number The number to check.
     * @param {number} start The start of the range.
     * @param {number} end The end of the range.
     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.
     */
    function baseInRange(number, start, end) {
      return number >= nativeMin(start, end) && number < nativeMax(start, end);
    }

    /**
     * The base implementation of methods like `_.intersection`, without support
     * for iteratee shorthands, that accepts an array of arrays to inspect.
     *
     * @private
     * @param {Array} arrays The arrays to inspect.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of shared values.
     */
    function baseIntersection(arrays, iteratee, comparator) {
      var includes = comparator ? arrayIncludesWith : arrayIncludes,
          length = arrays[0].length,
          othLength = arrays.length,
          othIndex = othLength,
          caches = Array(othLength),
          maxLength = Infinity,
          result = [];

      while (othIndex--) {
        var array = arrays[othIndex];
        if (othIndex && iteratee) {
          array = arrayMap(array, baseUnary(iteratee));
        }
        maxLength = nativeMin(array.length, maxLength);
        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))
          ? new SetCache(othIndex && array)
          : undefined;
      }
      array = arrays[0];

      var index = -1,
          seen = caches[0];

      outer:
      while (++index < length && result.length < maxLength) {
        var value = array[index],
            computed = iteratee ? iteratee(value) : value;

        value = (comparator || value !== 0) ? value : 0;
        if (!(seen
              ? cacheHas(seen, computed)
              : includes(result, computed, comparator)
            )) {
          othIndex = othLength;
          while (--othIndex) {
            var cache = caches[othIndex];
            if (!(cache
                  ? cacheHas(cache, computed)
                  : includes(arrays[othIndex], computed, comparator))
                ) {
              continue outer;
            }
          }
          if (seen) {
            seen.push(computed);
          }
          result.push(value);
        }
      }
      return result;
    }

    /**
     * The base implementation of `_.invert` and `_.invertBy` which inverts
     * `object` with values transformed by `iteratee` and set by `setter`.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {Function} setter The function to set `accumulator` values.
     * @param {Function} iteratee The iteratee to transform values.
     * @param {Object} accumulator The initial inverted object.
     * @returns {Function} Returns `accumulator`.
     */
    function baseInverter(object, setter, iteratee, accumulator) {
      baseForOwn(object, function(value, key, object) {
        setter(accumulator, iteratee(value), key, object);
      });
      return accumulator;
    }

    /**
     * The base implementation of `_.invoke` without support for individual
     * method arguments.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Array|string} path The path of the method to invoke.
     * @param {Array} args The arguments to invoke the method with.
     * @returns {*} Returns the result of the invoked method.
     */
    function baseInvoke(object, path, args) {
      path = castPath(path, object);
      object = parent(object, path);
      var func = object == null ? object : object[toKey(last(path))];
      return func == null ? undefined : apply(func, object, args);
    }

    /**
     * The base implementation of `_.isArguments`.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an `arguments` object,
     */
    function baseIsArguments(value) {
      return isObjectLike(value) && baseGetTag(value) == argsTag;
    }

    /**
     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.
     */
    function baseIsArrayBuffer(value) {
      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;
    }

    /**
     * The base implementation of `_.isDate` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.
     */
    function baseIsDate(value) {
      return isObjectLike(value) && baseGetTag(value) == dateTag;
    }

    /**
     * The base implementation of `_.isEqual` which supports partial comparisons
     * and tracks traversed objects.
     *
     * @private
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @param {boolean} bitmask The bitmask flags.
     *  1 - Unordered comparison
     *  2 - Partial comparison
     * @param {Function} [customizer] The function to customize comparisons.
     * @param {Object} [stack] Tracks traversed `value` and `other` objects.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     */
    function baseIsEqual(value, other, bitmask, customizer, stack) {
      if (value === other) {
        return true;
      }
      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {
        return value !== value && other !== other;
      }
      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);
    }

    /**
     * A specialized version of `baseIsEqual` for arrays and objects which performs
     * deep comparisons and tracks traversed objects enabling objects with circular
     * references to be compared.
     *
     * @private
     * @param {Object} object The object to compare.
     * @param {Object} other The other object to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} [stack] Tracks traversed `object` and `other` objects.
     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
     */
    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {
      var objIsArr = isArray(object),
          othIsArr = isArray(other),
          objTag = objIsArr ? arrayTag : getTag(object),
          othTag = othIsArr ? arrayTag : getTag(other);

      objTag = objTag == argsTag ? objectTag : objTag;
      othTag = othTag == argsTag ? objectTag : othTag;

      var objIsObj = objTag == objectTag,
          othIsObj = othTag == objectTag,
          isSameTag = objTag == othTag;

      if (isSameTag && isBuffer(object)) {
        if (!isBuffer(other)) {
          return false;
        }
        objIsArr = true;
        objIsObj = false;
      }
      if (isSameTag && !objIsObj) {
        stack || (stack = new Stack);
        return (objIsArr || isTypedArray(object))
          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)
          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);
      }
      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {
        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),
            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');

        if (objIsWrapped || othIsWrapped) {
          var objUnwrapped = objIsWrapped ? object.value() : object,
              othUnwrapped = othIsWrapped ? other.value() : other;

          stack || (stack = new Stack);
          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);
        }
      }
      if (!isSameTag) {
        return false;
      }
      stack || (stack = new Stack);
      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);
    }

    /**
     * The base implementation of `_.isMap` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a map, else `false`.
     */
    function baseIsMap(value) {
      return isObjectLike(value) && getTag(value) == mapTag;
    }

    /**
     * The base implementation of `_.isMatch` without support for iteratee shorthands.
     *
     * @private
     * @param {Object} object The object to inspect.
     * @param {Object} source The object of property values to match.
     * @param {Array} matchData The property names, values, and compare flags to match.
     * @param {Function} [customizer] The function to customize comparisons.
     * @returns {boolean} Returns `true` if `object` is a match, else `false`.
     */
    function baseIsMatch(object, source, matchData, customizer) {
      var index = matchData.length,
          length = index,
          noCustomizer = !customizer;

      if (object == null) {
        return !length;
      }
      object = Object(object);
      while (index--) {
        var data = matchData[index];
        if ((noCustomizer && data[2])
              ? data[1] !== object[data[0]]
              : !(data[0] in object)
            ) {
          return false;
        }
      }
      while (++index < length) {
        data = matchData[index];
        var key = data[0],
            objValue = object[key],
            srcValue = data[1];

        if (noCustomizer && data[2]) {
          if (objValue === undefined && !(key in object)) {
            return false;
          }
        } else {
          var stack = new Stack;
          if (customizer) {
            var result = customizer(objValue, srcValue, key, object, source, stack);
          }
          if (!(result === undefined
                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)
                : result
              )) {
            return false;
          }
        }
      }
      return true;
    }

    /**
     * The base implementation of `_.isNative` without bad shim checks.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a native function,
     *  else `false`.
     */
    function baseIsNative(value) {
      if (!isObject(value) || isMasked(value)) {
        return false;
      }
      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;
      return pattern.test(toSource(value));
    }

    /**
     * The base implementation of `_.isRegExp` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.
     */
    function baseIsRegExp(value) {
      return isObjectLike(value) && baseGetTag(value) == regexpTag;
    }

    /**
     * The base implementation of `_.isSet` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a set, else `false`.
     */
    function baseIsSet(value) {
      return isObjectLike(value) && getTag(value) == setTag;
    }

    /**
     * The base implementation of `_.isTypedArray` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
     */
    function baseIsTypedArray(value) {
      return isObjectLike(value) &&
        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
    }

    /**
     * The base implementation of `_.iteratee`.
     *
     * @private
     * @param {*} [value=_.identity] The value to convert to an iteratee.
     * @returns {Function} Returns the iteratee.
     */
    function baseIteratee(value) {
      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.
      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.
      if (typeof value == 'function') {
        return value;
      }
      if (value == null) {
        return identity;
      }
      if (typeof value == 'object') {
        return isArray(value)
          ? baseMatchesProperty(value[0], value[1])
          : baseMatches(value);
      }
      return property(value);
    }

    /**
     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     */
    function baseKeys(object) {
      if (!isPrototype(object)) {
        return nativeKeys(object);
      }
      var result = [];
      for (var key in Object(object)) {
        if (hasOwnProperty.call(object, key) && key != 'constructor') {
          result.push(key);
        }
      }
      return result;
    }

    /**
     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     */
    function baseKeysIn(object) {
      if (!isObject(object)) {
        return nativeKeysIn(object);
      }
      var isProto = isPrototype(object),
          result = [];

      for (var key in object) {
        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {
          result.push(key);
        }
      }
      return result;
    }

    /**
     * The base implementation of `_.lt` which doesn't coerce arguments.
     *
     * @private
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if `value` is less than `other`,
     *  else `false`.
     */
    function baseLt(value, other) {
      return value < other;
    }

    /**
     * The base implementation of `_.map` without support for iteratee shorthands.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Array} Returns the new mapped array.
     */
    function baseMap(collection, iteratee) {
      var index = -1,
          result = isArrayLike(collection) ? Array(collection.length) : [];

      baseEach(collection, function(value, key, collection) {
        result[++index] = iteratee(value, key, collection);
      });
      return result;
    }

    /**
     * The base implementation of `_.matches` which doesn't clone `source`.
     *
     * @private
     * @param {Object} source The object of property values to match.
     * @returns {Function} Returns the new spec function.
     */
    function baseMatches(source) {
      var matchData = getMatchData(source);
      if (matchData.length == 1 && matchData[0][2]) {
        return matchesStrictComparable(matchData[0][0], matchData[0][1]);
      }
      return function(object) {
        return object === source || baseIsMatch(object, source, matchData);
      };
    }

    /**
     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.
     *
     * @private
     * @param {string} path The path of the property to get.
     * @param {*} srcValue The value to match.
     * @returns {Function} Returns the new spec function.
     */
    function baseMatchesProperty(path, srcValue) {
      if (isKey(path) && isStrictComparable(srcValue)) {
        return matchesStrictComparable(toKey(path), srcValue);
      }
      return function(object) {
        var objValue = get(object, path);
        return (objValue === undefined && objValue === srcValue)
          ? hasIn(object, path)
          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);
      };
    }

    /**
     * The base implementation of `_.merge` without support for multiple sources.
     *
     * @private
     * @param {Object} object The destination object.
     * @param {Object} source The source object.
     * @param {number} srcIndex The index of `source`.
     * @param {Function} [customizer] The function to customize merged values.
     * @param {Object} [stack] Tracks traversed source values and their merged
     *  counterparts.
     */
    function baseMerge(object, source, srcIndex, customizer, stack) {
      if (object === source) {
        return;
      }
      baseFor(source, function(srcValue, key) {
        stack || (stack = new Stack);
        if (isObject(srcValue)) {
          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);
        }
        else {
          var newValue = customizer
            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)
            : undefined;

          if (newValue === undefined) {
            newValue = srcValue;
          }
          assignMergeValue(object, key, newValue);
        }
      }, keysIn);
    }

    /**
     * A specialized version of `baseMerge` for arrays and objects which performs
     * deep merges and tracks traversed objects enabling objects with circular
     * references to be merged.
     *
     * @private
     * @param {Object} object The destination object.
     * @param {Object} source The source object.
     * @param {string} key The key of the value to merge.
     * @param {number} srcIndex The index of `source`.
     * @param {Function} mergeFunc The function to merge values.
     * @param {Function} [customizer] The function to customize assigned values.
     * @param {Object} [stack] Tracks traversed source values and their merged
     *  counterparts.
     */
    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {
      var objValue = safeGet(object, key),
          srcValue = safeGet(source, key),
          stacked = stack.get(srcValue);

      if (stacked) {
        assignMergeValue(object, key, stacked);
        return;
      }
      var newValue = customizer
        ? customizer(objValue, srcValue, (key + ''), object, source, stack)
        : undefined;

      var isCommon = newValue === undefined;

      if (isCommon) {
        var isArr = isArray(srcValue),
            isBuff = !isArr && isBuffer(srcValue),
            isTyped = !isArr && !isBuff && isTypedArray(srcValue);

        newValue = srcValue;
        if (isArr || isBuff || isTyped) {
          if (isArray(objValue)) {
            newValue = objValue;
          }
          else if (isArrayLikeObject(objValue)) {
            newValue = copyArray(objValue);
          }
          else if (isBuff) {
            isCommon = false;
            newValue = cloneBuffer(srcValue, true);
          }
          else if (isTyped) {
            isCommon = false;
            newValue = cloneTypedArray(srcValue, true);
          }
          else {
            newValue = [];
          }
        }
        else if (isPlainObject(srcValue) || isArguments(srcValue)) {
          newValue = objValue;
          if (isArguments(objValue)) {
            newValue = toPlainObject(objValue);
          }
          else if (!isObject(objValue) || isFunction(objValue)) {
            newValue = initCloneObject(srcValue);
          }
        }
        else {
          isCommon = false;
        }
      }
      if (isCommon) {
        // Recursively merge objects and arrays (susceptible to call stack limits).
        stack.set(srcValue, newValue);
        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);
        stack['delete'](srcValue);
      }
      assignMergeValue(object, key, newValue);
    }

    /**
     * The base implementation of `_.nth` which doesn't coerce arguments.
     *
     * @private
     * @param {Array} array The array to query.
     * @param {number} n The index of the element to return.
     * @returns {*} Returns the nth element of `array`.
     */
    function baseNth(array, n) {
      var length = array.length;
      if (!length) {
        return;
      }
      n += n < 0 ? length : 0;
      return isIndex(n, length) ? array[n] : undefined;
    }

    /**
     * The base implementation of `_.orderBy` without param guards.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.
     * @param {string[]} orders The sort orders of `iteratees`.
     * @returns {Array} Returns the new sorted array.
     */
    function baseOrderBy(collection, iteratees, orders) {
      if (iteratees.length) {
        iteratees = arrayMap(iteratees, function(iteratee) {
          if (isArray(iteratee)) {
            return function(value) {
              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);
            }
          }
          return iteratee;
        });
      } else {
        iteratees = [identity];
      }

      var index = -1;
      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));

      var result = baseMap(collection, function(value, key, collection) {
        var criteria = arrayMap(iteratees, function(iteratee) {
          return iteratee(value);
        });
        return { 'criteria': criteria, 'index': ++index, 'value': value };
      });

      return baseSortBy(result, function(object, other) {
        return compareMultiple(object, other, orders);
      });
    }

    /**
     * The base implementation of `_.pick` without support for individual
     * property identifiers.
     *
     * @private
     * @param {Object} object The source object.
     * @param {string[]} paths The property paths to pick.
     * @returns {Object} Returns the new object.
     */
    function basePick(object, paths) {
      return basePickBy(object, paths, function(value, path) {
        return hasIn(object, path);
      });
    }

    /**
     * The base implementation of  `_.pickBy` without support for iteratee shorthands.
     *
     * @private
     * @param {Object} object The source object.
     * @param {string[]} paths The property paths to pick.
     * @param {Function} predicate The function invoked per property.
     * @returns {Object} Returns the new object.
     */
    function basePickBy(object, paths, predicate) {
      var index = -1,
          length = paths.length,
          result = {};

      while (++index < length) {
        var path = paths[index],
            value = baseGet(object, path);

        if (predicate(value, path)) {
          baseSet(result, castPath(path, object), value);
        }
      }
      return result;
    }

    /**
     * A specialized version of `baseProperty` which supports deep paths.
     *
     * @private
     * @param {Array|string} path The path of the property to get.
     * @returns {Function} Returns the new accessor function.
     */
    function basePropertyDeep(path) {
      return function(object) {
        return baseGet(object, path);
      };
    }

    /**
     * The base implementation of `_.pullAllBy` without support for iteratee
     * shorthands.
     *
     * @private
     * @param {Array} array The array to modify.
     * @param {Array} values The values to remove.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns `array`.
     */
    function basePullAll(array, values, iteratee, comparator) {
      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,
          index = -1,
          length = values.length,
          seen = array;

      if (array === values) {
        values = copyArray(values);
      }
      if (iteratee) {
        seen = arrayMap(array, baseUnary(iteratee));
      }
      while (++index < length) {
        var fromIndex = 0,
            value = values[index],
            computed = iteratee ? iteratee(value) : value;

        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {
          if (seen !== array) {
            splice.call(seen, fromIndex, 1);
          }
          splice.call(array, fromIndex, 1);
        }
      }
      return array;
    }

    /**
     * The base implementation of `_.pullAt` without support for individual
     * indexes or capturing the removed elements.
     *
     * @private
     * @param {Array} array The array to modify.
     * @param {number[]} indexes The indexes of elements to remove.
     * @returns {Array} Returns `array`.
     */
    function basePullAt(array, indexes) {
      var length = array ? indexes.length : 0,
          lastIndex = length - 1;

      while (length--) {
        var index = indexes[length];
        if (length == lastIndex || index !== previous) {
          var previous = index;
          if (isIndex(index)) {
            splice.call(array, index, 1);
          } else {
            baseUnset(array, index);
          }
        }
      }
      return array;
    }

    /**
     * The base implementation of `_.random` without support for returning
     * floating-point numbers.
     *
     * @private
     * @param {number} lower The lower bound.
     * @param {number} upper The upper bound.
     * @returns {number} Returns the random number.
     */
    function baseRandom(lower, upper) {
      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));
    }

    /**
     * The base implementation of `_.range` and `_.rangeRight` which doesn't
     * coerce arguments.
     *
     * @private
     * @param {number} start The start of the range.
     * @param {number} end The end of the range.
     * @param {number} step The value to increment or decrement by.
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Array} Returns the range of numbers.
     */
    function baseRange(start, end, step, fromRight) {
      var index = -1,
          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),
          result = Array(length);

      while (length--) {
        result[fromRight ? length : ++index] = start;
        start += step;
      }
      return result;
    }

    /**
     * The base implementation of `_.repeat` which doesn't coerce arguments.
     *
     * @private
     * @param {string} string The string to repeat.
     * @param {number} n The number of times to repeat the string.
     * @returns {string} Returns the repeated string.
     */
    function baseRepeat(string, n) {
      var result = '';
      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {
        return result;
      }
      // Leverage the exponentiation by squaring algorithm for a faster repeat.
      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.
      do {
        if (n % 2) {
          result += string;
        }
        n = nativeFloor(n / 2);
        if (n) {
          string += string;
        }
      } while (n);

      return result;
    }

    /**
     * The base implementation of `_.rest` which doesn't validate or coerce arguments.
     *
     * @private
     * @param {Function} func The function to apply a rest parameter to.
     * @param {number} [start=func.length-1] The start position of the rest parameter.
     * @returns {Function} Returns the new function.
     */
    function baseRest(func, start) {
      return setToString(overRest(func, start, identity), func + '');
    }

    /**
     * The base implementation of `_.sample`.
     *
     * @private
     * @param {Array|Object} collection The collection to sample.
     * @returns {*} Returns the random element.
     */
    function baseSample(collection) {
      return arraySample(values(collection));
    }

    /**
     * The base implementation of `_.sampleSize` without param guards.
     *
     * @private
     * @param {Array|Object} collection The collection to sample.
     * @param {number} n The number of elements to sample.
     * @returns {Array} Returns the random elements.
     */
    function baseSampleSize(collection, n) {
      var array = values(collection);
      return shuffleSelf(array, baseClamp(n, 0, array.length));
    }

    /**
     * The base implementation of `_.set`.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to set.
     * @param {*} value The value to set.
     * @param {Function} [customizer] The function to customize path creation.
     * @returns {Object} Returns `object`.
     */
    function baseSet(object, path, value, customizer) {
      if (!isObject(object)) {
        return object;
      }
      path = castPath(path, object);

      var index = -1,
          length = path.length,
          lastIndex = length - 1,
          nested = object;

      while (nested != null && ++index < length) {
        var key = toKey(path[index]),
            newValue = value;

        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {
          return object;
        }

        if (index != lastIndex) {
          var objValue = nested[key];
          newValue = customizer ? customizer(objValue, key, nested) : undefined;
          if (newValue === undefined) {
            newValue = isObject(objValue)
              ? objValue
              : (isIndex(path[index + 1]) ? [] : {});
          }
        }
        assignValue(nested, key, newValue);
        nested = nested[key];
      }
      return object;
    }

    /**
     * The base implementation of `setData` without support for hot loop shorting.
     *
     * @private
     * @param {Function} func The function to associate metadata with.
     * @param {*} data The metadata.
     * @returns {Function} Returns `func`.
     */
    var baseSetData = !metaMap ? identity : function(func, data) {
      metaMap.set(func, data);
      return func;
    };

    /**
     * The base implementation of `setToString` without support for hot loop shorting.
     *
     * @private
     * @param {Function} func The function to modify.
     * @param {Function} string The `toString` result.
     * @returns {Function} Returns `func`.
     */
    var baseSetToString = !defineProperty ? identity : function(func, string) {
      return defineProperty(func, 'toString', {
        'configurable': true,
        'enumerable': false,
        'value': constant(string),
        'writable': true
      });
    };

    /**
     * The base implementation of `_.shuffle`.
     *
     * @private
     * @param {Array|Object} collection The collection to shuffle.
     * @returns {Array} Returns the new shuffled array.
     */
    function baseShuffle(collection) {
      return shuffleSelf(values(collection));
    }

    /**
     * The base implementation of `_.slice` without an iteratee call guard.
     *
     * @private
     * @param {Array} array The array to slice.
     * @param {number} [start=0] The start position.
     * @param {number} [end=array.length] The end position.
     * @returns {Array} Returns the slice of `array`.
     */
    function baseSlice(array, start, end) {
      var index = -1,
          length = array.length;

      if (start < 0) {
        start = -start > length ? 0 : (length + start);
      }
      end = end > length ? length : end;
      if (end < 0) {
        end += length;
      }
      length = start > end ? 0 : ((end - start) >>> 0);
      start >>>= 0;

      var result = Array(length);
      while (++index < length) {
        result[index] = array[index + start];
      }
      return result;
    }

    /**
     * The base implementation of `_.some` without support for iteratee shorthands.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} predicate The function invoked per iteration.
     * @returns {boolean} Returns `true` if any element passes the predicate check,
     *  else `false`.
     */
    function baseSome(collection, predicate) {
      var result;

      baseEach(collection, function(value, index, collection) {
        result = predicate(value, index, collection);
        return !result;
      });
      return !!result;
    }

    /**
     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which
     * performs a binary search of `array` to determine the index at which `value`
     * should be inserted into `array` in order to maintain its sort order.
     *
     * @private
     * @param {Array} array The sorted array to inspect.
     * @param {*} value The value to evaluate.
     * @param {boolean} [retHighest] Specify returning the highest qualified index.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     */
    function baseSortedIndex(array, value, retHighest) {
      var low = 0,
          high = array == null ? low : array.length;

      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {
        while (low < high) {
          var mid = (low + high) >>> 1,
              computed = array[mid];

          if (computed !== null && !isSymbol(computed) &&
              (retHighest ? (computed <= value) : (computed < value))) {
            low = mid + 1;
          } else {
            high = mid;
          }
        }
        return high;
      }
      return baseSortedIndexBy(array, value, identity, retHighest);
    }

    /**
     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`
     * which invokes `iteratee` for `value` and each element of `array` to compute
     * their sort ranking. The iteratee is invoked with one argument; (value).
     *
     * @private
     * @param {Array} array The sorted array to inspect.
     * @param {*} value The value to evaluate.
     * @param {Function} iteratee The iteratee invoked per element.
     * @param {boolean} [retHighest] Specify returning the highest qualified index.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     */
    function baseSortedIndexBy(array, value, iteratee, retHighest) {
      var low = 0,
          high = array == null ? 0 : array.length;
      if (high === 0) {
        return 0;
      }

      value = iteratee(value);
      var valIsNaN = value !== value,
          valIsNull = value === null,
          valIsSymbol = isSymbol(value),
          valIsUndefined = value === undefined;

      while (low < high) {
        var mid = nativeFloor((low + high) / 2),
            computed = iteratee(array[mid]),
            othIsDefined = computed !== undefined,
            othIsNull = computed === null,
            othIsReflexive = computed === computed,
            othIsSymbol = isSymbol(computed);

        if (valIsNaN) {
          var setLow = retHighest || othIsReflexive;
        } else if (valIsUndefined) {
          setLow = othIsReflexive && (retHighest || othIsDefined);
        } else if (valIsNull) {
          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);
        } else if (valIsSymbol) {
          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);
        } else if (othIsNull || othIsSymbol) {
          setLow = false;
        } else {
          setLow = retHighest ? (computed <= value) : (computed < value);
        }
        if (setLow) {
          low = mid + 1;
        } else {
          high = mid;
        }
      }
      return nativeMin(high, MAX_ARRAY_INDEX);
    }

    /**
     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without
     * support for iteratee shorthands.
     *
     * @private
     * @param {Array} array The array to inspect.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @returns {Array} Returns the new duplicate free array.
     */
    function baseSortedUniq(array, iteratee) {
      var index = -1,
          length = array.length,
          resIndex = 0,
          result = [];

      while (++index < length) {
        var value = array[index],
            computed = iteratee ? iteratee(value) : value;

        if (!index || !eq(computed, seen)) {
          var seen = computed;
          result[resIndex++] = value === 0 ? 0 : value;
        }
      }
      return result;
    }

    /**
     * The base implementation of `_.toNumber` which doesn't ensure correct
     * conversions of binary, hexadecimal, or octal string values.
     *
     * @private
     * @param {*} value The value to process.
     * @returns {number} Returns the number.
     */
    function baseToNumber(value) {
      if (typeof value == 'number') {
        return value;
      }
      if (isSymbol(value)) {
        return NAN;
      }
      return +value;
    }

    /**
     * The base implementation of `_.toString` which doesn't convert nullish
     * values to empty strings.
     *
     * @private
     * @param {*} value The value to process.
     * @returns {string} Returns the string.
     */
    function baseToString(value) {
      // Exit early for strings to avoid a performance hit in some environments.
      if (typeof value == 'string') {
        return value;
      }
      if (isArray(value)) {
        // Recursively convert values (susceptible to call stack limits).
        return arrayMap(value, baseToString) + '';
      }
      if (isSymbol(value)) {
        return symbolToString ? symbolToString.call(value) : '';
      }
      var result = (value + '');
      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
    }

    /**
     * The base implementation of `_.uniqBy` without support for iteratee shorthands.
     *
     * @private
     * @param {Array} array The array to inspect.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new duplicate free array.
     */
    function baseUniq(array, iteratee, comparator) {
      var index = -1,
          includes = arrayIncludes,
          length = array.length,
          isCommon = true,
          result = [],
          seen = result;

      if (comparator) {
        isCommon = false;
        includes = arrayIncludesWith;
      }
      else if (length >= LARGE_ARRAY_SIZE) {
        var set = iteratee ? null : createSet(array);
        if (set) {
          return setToArray(set);
        }
        isCommon = false;
        includes = cacheHas;
        seen = new SetCache;
      }
      else {
        seen = iteratee ? [] : result;
      }
      outer:
      while (++index < length) {
        var value = array[index],
            computed = iteratee ? iteratee(value) : value;

        value = (comparator || value !== 0) ? value : 0;
        if (isCommon && computed === computed) {
          var seenIndex = seen.length;
          while (seenIndex--) {
            if (seen[seenIndex] === computed) {
              continue outer;
            }
          }
          if (iteratee) {
            seen.push(computed);
          }
          result.push(value);
        }
        else if (!includes(seen, computed, comparator)) {
          if (seen !== result) {
            seen.push(computed);
          }
          result.push(value);
        }
      }
      return result;
    }

    /**
     * The base implementation of `_.unset`.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {Array|string} path The property path to unset.
     * @returns {boolean} Returns `true` if the property is deleted, else `false`.
     */
    function baseUnset(object, path) {
      path = castPath(path, object);
      object = parent(object, path);
      return object == null || delete object[toKey(last(path))];
    }

    /**
     * The base implementation of `_.update`.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to update.
     * @param {Function} updater The function to produce the updated value.
     * @param {Function} [customizer] The function to customize path creation.
     * @returns {Object} Returns `object`.
     */
    function baseUpdate(object, path, updater, customizer) {
      return baseSet(object, path, updater(baseGet(object, path)), customizer);
    }

    /**
     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`
     * without support for iteratee shorthands.
     *
     * @private
     * @param {Array} array The array to query.
     * @param {Function} predicate The function invoked per iteration.
     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Array} Returns the slice of `array`.
     */
    function baseWhile(array, predicate, isDrop, fromRight) {
      var length = array.length,
          index = fromRight ? length : -1;

      while ((fromRight ? index-- : ++index < length) &&
        predicate(array[index], index, array)) {}

      return isDrop
        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))
        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));
    }

    /**
     * The base implementation of `wrapperValue` which returns the result of
     * performing a sequence of actions on the unwrapped `value`, where each
     * successive action is supplied the return value of the previous.
     *
     * @private
     * @param {*} value The unwrapped value.
     * @param {Array} actions Actions to perform to resolve the unwrapped value.
     * @returns {*} Returns the resolved value.
     */
    function baseWrapperValue(value, actions) {
      var result = value;
      if (result instanceof LazyWrapper) {
        result = result.value();
      }
      return arrayReduce(actions, function(result, action) {
        return action.func.apply(action.thisArg, arrayPush([result], action.args));
      }, result);
    }

    /**
     * The base implementation of methods like `_.xor`, without support for
     * iteratee shorthands, that accepts an array of arrays to inspect.
     *
     * @private
     * @param {Array} arrays The arrays to inspect.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of values.
     */
    function baseXor(arrays, iteratee, comparator) {
      var length = arrays.length;
      if (length < 2) {
        return length ? baseUniq(arrays[0]) : [];
      }
      var index = -1,
          result = Array(length);

      while (++index < length) {
        var array = arrays[index],
            othIndex = -1;

        while (++othIndex < length) {
          if (othIndex != index) {
            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);
          }
        }
      }
      return baseUniq(baseFlatten(result, 1), iteratee, comparator);
    }

    /**
     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.
     *
     * @private
     * @param {Array} props The property identifiers.
     * @param {Array} values The property values.
     * @param {Function} assignFunc The function to assign values.
     * @returns {Object} Returns the new object.
     */
    function baseZipObject(props, values, assignFunc) {
      var index = -1,
          length = props.length,
          valsLength = values.length,
          result = {};

      while (++index < length) {
        var value = index < valsLength ? values[index] : undefined;
        assignFunc(result, props[index], value);
      }
      return result;
    }

    /**
     * Casts `value` to an empty array if it's not an array like object.
     *
     * @private
     * @param {*} value The value to inspect.
     * @returns {Array|Object} Returns the cast array-like object.
     */
    function castArrayLikeObject(value) {
      return isArrayLikeObject(value) ? value : [];
    }

    /**
     * Casts `value` to `identity` if it's not a function.
     *
     * @private
     * @param {*} value The value to inspect.
     * @returns {Function} Returns cast function.
     */
    function castFunction(value) {
      return typeof value == 'function' ? value : identity;
    }

    /**
     * Casts `value` to a path array if it's not one.
     *
     * @private
     * @param {*} value The value to inspect.
     * @param {Object} [object] The object to query keys on.
     * @returns {Array} Returns the cast property path array.
     */
    function castPath(value, object) {
      if (isArray(value)) {
        return value;
      }
      return isKey(value, object) ? [value] : stringToPath(toString(value));
    }

    /**
     * A `baseRest` alias which can be replaced with `identity` by module
     * replacement plugins.
     *
     * @private
     * @type {Function}
     * @param {Function} func The function to apply a rest parameter to.
     * @returns {Function} Returns the new function.
     */
    var castRest = baseRest;

    /**
     * Casts `array` to a slice if it's needed.
     *
     * @private
     * @param {Array} array The array to inspect.
     * @param {number} start The start position.
     * @param {number} [end=array.length] The end position.
     * @returns {Array} Returns the cast slice.
     */
    function castSlice(array, start, end) {
      var length = array.length;
      end = end === undefined ? length : end;
      return (!start && end >= length) ? array : baseSlice(array, start, end);
    }

    /**
     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).
     *
     * @private
     * @param {number|Object} id The timer id or timeout object of the timer to clear.
     */
    var clearTimeout = ctxClearTimeout || function(id) {
      return root.clearTimeout(id);
    };

    /**
     * Creates a clone of  `buffer`.
     *
     * @private
     * @param {Buffer} buffer The buffer to clone.
     * @param {boolean} [isDeep] Specify a deep clone.
     * @returns {Buffer} Returns the cloned buffer.
     */
    function cloneBuffer(buffer, isDeep) {
      if (isDeep) {
        return buffer.slice();
      }
      var length = buffer.length,
          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);

      buffer.copy(result);
      return result;
    }

    /**
     * Creates a clone of `arrayBuffer`.
     *
     * @private
     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.
     * @returns {ArrayBuffer} Returns the cloned array buffer.
     */
    function cloneArrayBuffer(arrayBuffer) {
      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
      new Uint8Array(result).set(new Uint8Array(arrayBuffer));
      return result;
    }

    /**
     * Creates a clone of `dataView`.
     *
     * @private
     * @param {Object} dataView The data view to clone.
     * @param {boolean} [isDeep] Specify a deep clone.
     * @returns {Object} Returns the cloned data view.
     */
    function cloneDataView(dataView, isDeep) {
      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;
      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);
    }

    /**
     * Creates a clone of `regexp`.
     *
     * @private
     * @param {Object} regexp The regexp to clone.
     * @returns {Object} Returns the cloned regexp.
     */
    function cloneRegExp(regexp) {
      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));
      result.lastIndex = regexp.lastIndex;
      return result;
    }

    /**
     * Creates a clone of the `symbol` object.
     *
     * @private
     * @param {Object} symbol The symbol object to clone.
     * @returns {Object} Returns the cloned symbol object.
     */
    function cloneSymbol(symbol) {
      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};
    }

    /**
     * Creates a clone of `typedArray`.
     *
     * @private
     * @param {Object} typedArray The typed array to clone.
     * @param {boolean} [isDeep] Specify a deep clone.
     * @returns {Object} Returns the cloned typed array.
     */
    function cloneTypedArray(typedArray, isDeep) {
      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);
    }

    /**
     * Compares values to sort them in ascending order.
     *
     * @private
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {number} Returns the sort order indicator for `value`.
     */
    function compareAscending(value, other) {
      if (value !== other) {
        var valIsDefined = value !== undefined,
            valIsNull = value === null,
            valIsReflexive = value === value,
            valIsSymbol = isSymbol(value);

        var othIsDefined = other !== undefined,
            othIsNull = other === null,
            othIsReflexive = other === other,
            othIsSymbol = isSymbol(other);

        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||
            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||
            (valIsNull && othIsDefined && othIsReflexive) ||
            (!valIsDefined && othIsReflexive) ||
            !valIsReflexive) {
          return 1;
        }
        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||
            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||
            (othIsNull && valIsDefined && valIsReflexive) ||
            (!othIsDefined && valIsReflexive) ||
            !othIsReflexive) {
          return -1;
        }
      }
      return 0;
    }

    /**
     * Used by `_.orderBy` to compare multiple properties of a value to another
     * and stable sort them.
     *
     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,
     * specify an order of "desc" for descending or "asc" for ascending sort order
     * of corresponding values.
     *
     * @private
     * @param {Object} object The object to compare.
     * @param {Object} other The other object to compare.
     * @param {boolean[]|string[]} orders The order to sort by for each property.
     * @returns {number} Returns the sort order indicator for `object`.
     */
    function compareMultiple(object, other, orders) {
      var index = -1,
          objCriteria = object.criteria,
          othCriteria = other.criteria,
          length = objCriteria.length,
          ordersLength = orders.length;

      while (++index < length) {
        var result = compareAscending(objCriteria[index], othCriteria[index]);
        if (result) {
          if (index >= ordersLength) {
            return result;
          }
          var order = orders[index];
          return result * (order == 'desc' ? -1 : 1);
        }
      }
      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications
      // that causes it, under certain circumstances, to provide the same value for
      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247
      // for more details.
      //
      // This also ensures a stable sort in V8 and other engines.
      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.
      return object.index - other.index;
    }

    /**
     * Creates an array that is the composition of partially applied arguments,
     * placeholders, and provided arguments into a single array of arguments.
     *
     * @private
     * @param {Array} args The provided arguments.
     * @param {Array} partials The arguments to prepend to those provided.
     * @param {Array} holders The `partials` placeholder indexes.
     * @params {boolean} [isCurried] Specify composing for a curried function.
     * @returns {Array} Returns the new array of composed arguments.
     */
    function composeArgs(args, partials, holders, isCurried) {
      var argsIndex = -1,
          argsLength = args.length,
          holdersLength = holders.length,
          leftIndex = -1,
          leftLength = partials.length,
          rangeLength = nativeMax(argsLength - holdersLength, 0),
          result = Array(leftLength + rangeLength),
          isUncurried = !isCurried;

      while (++leftIndex < leftLength) {
        result[leftIndex] = partials[leftIndex];
      }
      while (++argsIndex < holdersLength) {
        if (isUncurried || argsIndex < argsLength) {
          result[holders[argsIndex]] = args[argsIndex];
        }
      }
      while (rangeLength--) {
        result[leftIndex++] = args[argsIndex++];
      }
      return result;
    }

    /**
     * This function is like `composeArgs` except that the arguments composition
     * is tailored for `_.partialRight`.
     *
     * @private
     * @param {Array} args The provided arguments.
     * @param {Array} partials The arguments to append to those provided.
     * @param {Array} holders The `partials` placeholder indexes.
     * @params {boolean} [isCurried] Specify composing for a curried function.
     * @returns {Array} Returns the new array of composed arguments.
     */
    function composeArgsRight(args, partials, holders, isCurried) {
      var argsIndex = -1,
          argsLength = args.length,
          holdersIndex = -1,
          holdersLength = holders.length,
          rightIndex = -1,
          rightLength = partials.length,
          rangeLength = nativeMax(argsLength - holdersLength, 0),
          result = Array(rangeLength + rightLength),
          isUncurried = !isCurried;

      while (++argsIndex < rangeLength) {
        result[argsIndex] = args[argsIndex];
      }
      var offset = argsIndex;
      while (++rightIndex < rightLength) {
        result[offset + rightIndex] = partials[rightIndex];
      }
      while (++holdersIndex < holdersLength) {
        if (isUncurried || argsIndex < argsLength) {
          result[offset + holders[holdersIndex]] = args[argsIndex++];
        }
      }
      return result;
    }

    /**
     * Copies the values of `source` to `array`.
     *
     * @private
     * @param {Array} source The array to copy values from.
     * @param {Array} [array=[]] The array to copy values to.
     * @returns {Array} Returns `array`.
     */
    function copyArray(source, array) {
      var index = -1,
          length = source.length;

      array || (array = Array(length));
      while (++index < length) {
        array[index] = source[index];
      }
      return array;
    }

    /**
     * Copies properties of `source` to `object`.
     *
     * @private
     * @param {Object} source The object to copy properties from.
     * @param {Array} props The property identifiers to copy.
     * @param {Object} [object={}] The object to copy properties to.
     * @param {Function} [customizer] The function to customize copied values.
     * @returns {Object} Returns `object`.
     */
    function copyObject(source, props, object, customizer) {
      var isNew = !object;
      object || (object = {});

      var index = -1,
          length = props.length;

      while (++index < length) {
        var key = props[index];

        var newValue = customizer
          ? customizer(object[key], source[key], key, object, source)
          : undefined;

        if (newValue === undefined) {
          newValue = source[key];
        }
        if (isNew) {
          baseAssignValue(object, key, newValue);
        } else {
          assignValue(object, key, newValue);
        }
      }
      return object;
    }

    /**
     * Copies own symbols of `source` to `object`.
     *
     * @private
     * @param {Object} source The object to copy symbols from.
     * @param {Object} [object={}] The object to copy symbols to.
     * @returns {Object} Returns `object`.
     */
    function copySymbols(source, object) {
      return copyObject(source, getSymbols(source), object);
    }

    /**
     * Copies own and inherited symbols of `source` to `object`.
     *
     * @private
     * @param {Object} source The object to copy symbols from.
     * @param {Object} [object={}] The object to copy symbols to.
     * @returns {Object} Returns `object`.
     */
    function copySymbolsIn(source, object) {
      return copyObject(source, getSymbolsIn(source), object);
    }

    /**
     * Creates a function like `_.groupBy`.
     *
     * @private
     * @param {Function} setter The function to set accumulator values.
     * @param {Function} [initializer] The accumulator object initializer.
     * @returns {Function} Returns the new aggregator function.
     */
    function createAggregator(setter, initializer) {
      return function(collection, iteratee) {
        var func = isArray(collection) ? arrayAggregator : baseAggregator,
            accumulator = initializer ? initializer() : {};

        return func(collection, setter, getIteratee(iteratee, 2), accumulator);
      };
    }

    /**
     * Creates a function like `_.assign`.
     *
     * @private
     * @param {Function} assigner The function to assign values.
     * @returns {Function} Returns the new assigner function.
     */
    function createAssigner(assigner) {
      return baseRest(function(object, sources) {
        var index = -1,
            length = sources.length,
            customizer = length > 1 ? sources[length - 1] : undefined,
            guard = length > 2 ? sources[2] : undefined;

        customizer = (assigner.length > 3 && typeof customizer == 'function')
          ? (length--, customizer)
          : undefined;

        if (guard && isIterateeCall(sources[0], sources[1], guard)) {
          customizer = length < 3 ? undefined : customizer;
          length = 1;
        }
        object = Object(object);
        while (++index < length) {
          var source = sources[index];
          if (source) {
            assigner(object, source, index, customizer);
          }
        }
        return object;
      });
    }

    /**
     * Creates a `baseEach` or `baseEachRight` function.
     *
     * @private
     * @param {Function} eachFunc The function to iterate over a collection.
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Function} Returns the new base function.
     */
    function createBaseEach(eachFunc, fromRight) {
      return function(collection, iteratee) {
        if (collection == null) {
          return collection;
        }
        if (!isArrayLike(collection)) {
          return eachFunc(collection, iteratee);
        }
        var length = collection.length,
            index = fromRight ? length : -1,
            iterable = Object(collection);

        while ((fromRight ? index-- : ++index < length)) {
          if (iteratee(iterable[index], index, iterable) === false) {
            break;
          }
        }
        return collection;
      };
    }

    /**
     * Creates a base function for methods like `_.forIn` and `_.forOwn`.
     *
     * @private
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Function} Returns the new base function.
     */
    function createBaseFor(fromRight) {
      return function(object, iteratee, keysFunc) {
        var index = -1,
            iterable = Object(object),
            props = keysFunc(object),
            length = props.length;

        while (length--) {
          var key = props[fromRight ? length : ++index];
          if (iteratee(iterable[key], key, iterable) === false) {
            break;
          }
        }
        return object;
      };
    }

    /**
     * Creates a function that wraps `func` to invoke it with the optional `this`
     * binding of `thisArg`.
     *
     * @private
     * @param {Function} func The function to wrap.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @param {*} [thisArg] The `this` binding of `func`.
     * @returns {Function} Returns the new wrapped function.
     */
    function createBind(func, bitmask, thisArg) {
      var isBind = bitmask & WRAP_BIND_FLAG,
          Ctor = createCtor(func);

      function wrapper() {
        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;
        return fn.apply(isBind ? thisArg : this, arguments);
      }
      return wrapper;
    }

    /**
     * Creates a function like `_.lowerFirst`.
     *
     * @private
     * @param {string} methodName The name of the `String` case method to use.
     * @returns {Function} Returns the new case function.
     */
    function createCaseFirst(methodName) {
      return function(string) {
        string = toString(string);

        var strSymbols = hasUnicode(string)
          ? stringToArray(string)
          : undefined;

        var chr = strSymbols
          ? strSymbols[0]
          : string.charAt(0);

        var trailing = strSymbols
          ? castSlice(strSymbols, 1).join('')
          : string.slice(1);

        return chr[methodName]() + trailing;
      };
    }

    /**
     * Creates a function like `_.camelCase`.
     *
     * @private
     * @param {Function} callback The function to combine each word.
     * @returns {Function} Returns the new compounder function.
     */
    function createCompounder(callback) {
      return function(string) {
        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');
      };
    }

    /**
     * Creates a function that produces an instance of `Ctor` regardless of
     * whether it was invoked as part of a `new` expression or by `call` or `apply`.
     *
     * @private
     * @param {Function} Ctor The constructor to wrap.
     * @returns {Function} Returns the new wrapped function.
     */
    function createCtor(Ctor) {
      return function() {
        // Use a `switch` statement to work with class constructors. See
        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist
        // for more details.
        var args = arguments;
        switch (args.length) {
          case 0: return new Ctor;
          case 1: return new Ctor(args[0]);
          case 2: return new Ctor(args[0], args[1]);
          case 3: return new Ctor(args[0], args[1], args[2]);
          case 4: return new Ctor(args[0], args[1], args[2], args[3]);
          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);
          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);
          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);
        }
        var thisBinding = baseCreate(Ctor.prototype),
            result = Ctor.apply(thisBinding, args);

        // Mimic the constructor's `return` behavior.
        // See https://es5.github.io/#x13.2.2 for more details.
        return isObject(result) ? result : thisBinding;
      };
    }

    /**
     * Creates a function that wraps `func` to enable currying.
     *
     * @private
     * @param {Function} func The function to wrap.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @param {number} arity The arity of `func`.
     * @returns {Function} Returns the new wrapped function.
     */
    function createCurry(func, bitmask, arity) {
      var Ctor = createCtor(func);

      function wrapper() {
        var length = arguments.length,
            args = Array(length),
            index = length,
            placeholder = getHolder(wrapper);

        while (index--) {
          args[index] = arguments[index];
        }
        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)
          ? []
          : replaceHolders(args, placeholder);

        length -= holders.length;
        if (length < arity) {
          return createRecurry(
            func, bitmask, createHybrid, wrapper.placeholder, undefined,
            args, holders, undefined, undefined, arity - length);
        }
        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;
        return apply(fn, this, args);
      }
      return wrapper;
    }

    /**
     * Creates a `_.find` or `_.findLast` function.
     *
     * @private
     * @param {Function} findIndexFunc The function to find the collection index.
     * @returns {Function} Returns the new find function.
     */
    function createFind(findIndexFunc) {
      return function(collection, predicate, fromIndex) {
        var iterable = Object(collection);
        if (!isArrayLike(collection)) {
          var iteratee = getIteratee(predicate, 3);
          collection = keys(collection);
          predicate = function(key) { return iteratee(iterable[key], key, iterable); };
        }
        var index = findIndexFunc(collection, predicate, fromIndex);
        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;
      };
    }

    /**
     * Creates a `_.flow` or `_.flowRight` function.
     *
     * @private
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Function} Returns the new flow function.
     */
    function createFlow(fromRight) {
      return flatRest(function(funcs) {
        var length = funcs.length,
            index = length,
            prereq = LodashWrapper.prototype.thru;

        if (fromRight) {
          funcs.reverse();
        }
        while (index--) {
          var func = funcs[index];
          if (typeof func != 'function') {
            throw new TypeError(FUNC_ERROR_TEXT);
          }
          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {
            var wrapper = new LodashWrapper([], true);
          }
        }
        index = wrapper ? index : length;
        while (++index < length) {
          func = funcs[index];

          var funcName = getFuncName(func),
              data = funcName == 'wrapper' ? getData(func) : undefined;

          if (data && isLaziable(data[0]) &&
                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&
                !data[4].length && data[9] == 1
              ) {
            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);
          } else {
            wrapper = (func.length == 1 && isLaziable(func))
              ? wrapper[funcName]()
              : wrapper.thru(func);
          }
        }
        return function() {
          var args = arguments,
              value = args[0];

          if (wrapper && args.length == 1 && isArray(value)) {
            return wrapper.plant(value).value();
          }
          var index = 0,
              result = length ? funcs[index].apply(this, args) : value;

          while (++index < length) {
            result = funcs[index].call(this, result);
          }
          return result;
        };
      });
    }

    /**
     * Creates a function that wraps `func` to invoke it with optional `this`
     * binding of `thisArg`, partial application, and currying.
     *
     * @private
     * @param {Function|string} func The function or method name to wrap.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @param {*} [thisArg] The `this` binding of `func`.
     * @param {Array} [partials] The arguments to prepend to those provided to
     *  the new function.
     * @param {Array} [holders] The `partials` placeholder indexes.
     * @param {Array} [partialsRight] The arguments to append to those provided
     *  to the new function.
     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.
     * @param {Array} [argPos] The argument positions of the new function.
     * @param {number} [ary] The arity cap of `func`.
     * @param {number} [arity] The arity of `func`.
     * @returns {Function} Returns the new wrapped function.
     */
    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {
      var isAry = bitmask & WRAP_ARY_FLAG,
          isBind = bitmask & WRAP_BIND_FLAG,
          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,
          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),
          isFlip = bitmask & WRAP_FLIP_FLAG,
          Ctor = isBindKey ? undefined : createCtor(func);

      function wrapper() {
        var length = arguments.length,
            args = Array(length),
            index = length;

        while (index--) {
          args[index] = arguments[index];
        }
        if (isCurried) {
          var placeholder = getHolder(wrapper),
              holdersCount = countHolders(args, placeholder);
        }
        if (partials) {
          args = composeArgs(args, partials, holders, isCurried);
        }
        if (partialsRight) {
          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);
        }
        length -= holdersCount;
        if (isCurried && length < arity) {
          var newHolders = replaceHolders(args, placeholder);
          return createRecurry(
            func, bitmask, createHybrid, wrapper.placeholder, thisArg,
            args, newHolders, argPos, ary, arity - length
          );
        }
        var thisBinding = isBind ? thisArg : this,
            fn = isBindKey ? thisBinding[func] : func;

        length = args.length;
        if (argPos) {
          args = reorder(args, argPos);
        } else if (isFlip && length > 1) {
          args.reverse();
        }
        if (isAry && ary < length) {
          args.length = ary;
        }
        if (this && this !== root && this instanceof wrapper) {
          fn = Ctor || createCtor(fn);
        }
        return fn.apply(thisBinding, args);
      }
      return wrapper;
    }

    /**
     * Creates a function like `_.invertBy`.
     *
     * @private
     * @param {Function} setter The function to set accumulator values.
     * @param {Function} toIteratee The function to resolve iteratees.
     * @returns {Function} Returns the new inverter function.
     */
    function createInverter(setter, toIteratee) {
      return function(object, iteratee) {
        return baseInverter(object, setter, toIteratee(iteratee), {});
      };
    }

    /**
     * Creates a function that performs a mathematical operation on two values.
     *
     * @private
     * @param {Function} operator The function to perform the operation.
     * @param {number} [defaultValue] The value used for `undefined` arguments.
     * @returns {Function} Returns the new mathematical operation function.
     */
    function createMathOperation(operator, defaultValue) {
      return function(value, other) {
        var result;
        if (value === undefined && other === undefined) {
          return defaultValue;
        }
        if (value !== undefined) {
          result = value;
        }
        if (other !== undefined) {
          if (result === undefined) {
            return other;
          }
          if (typeof value == 'string' || typeof other == 'string') {
            value = baseToString(value);
            other = baseToString(other);
          } else {
            value = baseToNumber(value);
            other = baseToNumber(other);
          }
          result = operator(value, other);
        }
        return result;
      };
    }

    /**
     * Creates a function like `_.over`.
     *
     * @private
     * @param {Function} arrayFunc The function to iterate over iteratees.
     * @returns {Function} Returns the new over function.
     */
    function createOver(arrayFunc) {
      return flatRest(function(iteratees) {
        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));
        return baseRest(function(args) {
          var thisArg = this;
          return arrayFunc(iteratees, function(iteratee) {
            return apply(iteratee, thisArg, args);
          });
        });
      });
    }

    /**
     * Creates the padding for `string` based on `length`. The `chars` string
     * is truncated if the number of characters exceeds `length`.
     *
     * @private
     * @param {number} length The padding length.
     * @param {string} [chars=' '] The string used as padding.
     * @returns {string} Returns the padding for `string`.
     */
    function createPadding(length, chars) {
      chars = chars === undefined ? ' ' : baseToString(chars);

      var charsLength = chars.length;
      if (charsLength < 2) {
        return charsLength ? baseRepeat(chars, length) : chars;
      }
      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));
      return hasUnicode(chars)
        ? castSlice(stringToArray(result), 0, length).join('')
        : result.slice(0, length);
    }

    /**
     * Creates a function that wraps `func` to invoke it with the `this` binding
     * of `thisArg` and `partials` prepended to the arguments it receives.
     *
     * @private
     * @param {Function} func The function to wrap.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @param {*} thisArg The `this` binding of `func`.
     * @param {Array} partials The arguments to prepend to those provided to
     *  the new function.
     * @returns {Function} Returns the new wrapped function.
     */
    function createPartial(func, bitmask, thisArg, partials) {
      var isBind = bitmask & WRAP_BIND_FLAG,
          Ctor = createCtor(func);

      function wrapper() {
        var argsIndex = -1,
            argsLength = arguments.length,
            leftIndex = -1,
            leftLength = partials.length,
            args = Array(leftLength + argsLength),
            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;

        while (++leftIndex < leftLength) {
          args[leftIndex] = partials[leftIndex];
        }
        while (argsLength--) {
          args[leftIndex++] = arguments[++argsIndex];
        }
        return apply(fn, isBind ? thisArg : this, args);
      }
      return wrapper;
    }

    /**
     * Creates a `_.range` or `_.rangeRight` function.
     *
     * @private
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Function} Returns the new range function.
     */
    function createRange(fromRight) {
      return function(start, end, step) {
        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {
          end = step = undefined;
        }
        // Ensure the sign of `-0` is preserved.
        start = toFinite(start);
        if (end === undefined) {
          end = start;
          start = 0;
        } else {
          end = toFinite(end);
        }
        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);
        return baseRange(start, end, step, fromRight);
      };
    }

    /**
     * Creates a function that performs a relational operation on two values.
     *
     * @private
     * @param {Function} operator The function to perform the operation.
     * @returns {Function} Returns the new relational operation function.
     */
    function createRelationalOperation(operator) {
      return function(value, other) {
        if (!(typeof value == 'string' && typeof other == 'string')) {
          value = toNumber(value);
          other = toNumber(other);
        }
        return operator(value, other);
      };
    }

    /**
     * Creates a function that wraps `func` to continue currying.
     *
     * @private
     * @param {Function} func The function to wrap.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @param {Function} wrapFunc The function to create the `func` wrapper.
     * @param {*} placeholder The placeholder value.
     * @param {*} [thisArg] The `this` binding of `func`.
     * @param {Array} [partials] The arguments to prepend to those provided to
     *  the new function.
     * @param {Array} [holders] The `partials` placeholder indexes.
     * @param {Array} [argPos] The argument positions of the new function.
     * @param {number} [ary] The arity cap of `func`.
     * @param {number} [arity] The arity of `func`.
     * @returns {Function} Returns the new wrapped function.
     */
    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {
      var isCurry = bitmask & WRAP_CURRY_FLAG,
          newHolders = isCurry ? holders : undefined,
          newHoldersRight = isCurry ? undefined : holders,
          newPartials = isCurry ? partials : undefined,
          newPartialsRight = isCurry ? undefined : partials;

      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);
      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);

      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {
        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);
      }
      var newData = [
        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,
        newHoldersRight, argPos, ary, arity
      ];

      var result = wrapFunc.apply(undefined, newData);
      if (isLaziable(func)) {
        setData(result, newData);
      }
      result.placeholder = placeholder;
      return setWrapToString(result, func, bitmask);
    }

    /**
     * Creates a function like `_.round`.
     *
     * @private
     * @param {string} methodName The name of the `Math` method to use when rounding.
     * @returns {Function} Returns the new round function.
     */
    function createRound(methodName) {
      var func = Math[methodName];
      return function(number, precision) {
        number = toNumber(number);
        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);
        if (precision && nativeIsFinite(number)) {
          // Shift with exponential notation to avoid floating-point issues.
          // See [MDN](https://mdn.io/round#Examples) for more details.
          var pair = (toString(number) + 'e').split('e'),
              value = func(pair[0] + 'e' + (+pair[1] + precision));

          pair = (toString(value) + 'e').split('e');
          return +(pair[0] + 'e' + (+pair[1] - precision));
        }
        return func(number);
      };
    }

    /**
     * Creates a set object of `values`.
     *
     * @private
     * @param {Array} values The values to add to the set.
     * @returns {Object} Returns the new set.
     */
    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {
      return new Set(values);
    };

    /**
     * Creates a `_.toPairs` or `_.toPairsIn` function.
     *
     * @private
     * @param {Function} keysFunc The function to get the keys of a given object.
     * @returns {Function} Returns the new pairs function.
     */
    function createToPairs(keysFunc) {
      return function(object) {
        var tag = getTag(object);
        if (tag == mapTag) {
          return mapToArray(object);
        }
        if (tag == setTag) {
          return setToPairs(object);
        }
        return baseToPairs(object, keysFunc(object));
      };
    }

    /**
     * Creates a function that either curries or invokes `func` with optional
     * `this` binding and partially applied arguments.
     *
     * @private
     * @param {Function|string} func The function or method name to wrap.
     * @param {number} bitmask The bitmask flags.
     *    1 - `_.bind`
     *    2 - `_.bindKey`
     *    4 - `_.curry` or `_.curryRight` of a bound function
     *    8 - `_.curry`
     *   16 - `_.curryRight`
     *   32 - `_.partial`
     *   64 - `_.partialRight`
     *  128 - `_.rearg`
     *  256 - `_.ary`
     *  512 - `_.flip`
     * @param {*} [thisArg] The `this` binding of `func`.
     * @param {Array} [partials] The arguments to be partially applied.
     * @param {Array} [holders] The `partials` placeholder indexes.
     * @param {Array} [argPos] The argument positions of the new function.
     * @param {number} [ary] The arity cap of `func`.
     * @param {number} [arity] The arity of `func`.
     * @returns {Function} Returns the new wrapped function.
     */
    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {
      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;
      if (!isBindKey && typeof func != 'function') {
        throw new TypeError(FUNC_ERROR_TEXT);
      }
      var length = partials ? partials.length : 0;
      if (!length) {
        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);
        partials = holders = undefined;
      }
      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);
      arity = arity === undefined ? arity : toInteger(arity);
      length -= holders ? holders.length : 0;

      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {
        var partialsRight = partials,
            holdersRight = holders;

        partials = holders = undefined;
      }
      var data = isBindKey ? undefined : getData(func);

      var newData = [
        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,
        argPos, ary, arity
      ];

      if (data) {
        mergeData(newData, data);
      }
      func = newData[0];
      bitmask = newData[1];
      thisArg = newData[2];
      partials = newData[3];
      holders = newData[4];
      arity = newData[9] = newData[9] === undefined
        ? (isBindKey ? 0 : func.length)
        : nativeMax(newData[9] - length, 0);

      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {
        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);
      }
      if (!bitmask || bitmask == WRAP_BIND_FLAG) {
        var result = createBind(func, bitmask, thisArg);
      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {
        result = createCurry(func, bitmask, arity);
      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {
        result = createPartial(func, bitmask, thisArg, partials);
      } else {
        result = createHybrid.apply(undefined, newData);
      }
      var setter = data ? baseSetData : setData;
      return setWrapToString(setter(result, newData), func, bitmask);
    }

    /**
     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties
     * of source objects to the destination object for all destination properties
     * that resolve to `undefined`.
     *
     * @private
     * @param {*} objValue The destination value.
     * @param {*} srcValue The source value.
     * @param {string} key The key of the property to assign.
     * @param {Object} object The parent object of `objValue`.
     * @returns {*} Returns the value to assign.
     */
    function customDefaultsAssignIn(objValue, srcValue, key, object) {
      if (objValue === undefined ||
          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {
        return srcValue;
      }
      return objValue;
    }

    /**
     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source
     * objects into destination objects that are passed thru.
     *
     * @private
     * @param {*} objValue The destination value.
     * @param {*} srcValue The source value.
     * @param {string} key The key of the property to merge.
     * @param {Object} object The parent object of `objValue`.
     * @param {Object} source The parent object of `srcValue`.
     * @param {Object} [stack] Tracks traversed source values and their merged
     *  counterparts.
     * @returns {*} Returns the value to assign.
     */
    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {
      if (isObject(objValue) && isObject(srcValue)) {
        // Recursively merge objects and arrays (susceptible to call stack limits).
        stack.set(srcValue, objValue);
        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);
        stack['delete'](srcValue);
      }
      return objValue;
    }

    /**
     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain
     * objects.
     *
     * @private
     * @param {*} value The value to inspect.
     * @param {string} key The key of the property to inspect.
     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.
     */
    function customOmitClone(value) {
      return isPlainObject(value) ? undefined : value;
    }

    /**
     * A specialized version of `baseIsEqualDeep` for arrays with support for
     * partial deep comparisons.
     *
     * @private
     * @param {Array} array The array to compare.
     * @param {Array} other The other array to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} stack Tracks traversed `array` and `other` objects.
     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.
     */
    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {
      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,
          arrLength = array.length,
          othLength = other.length;

      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {
        return false;
      }
      // Check that cyclic values are equal.
      var arrStacked = stack.get(array);
      var othStacked = stack.get(other);
      if (arrStacked && othStacked) {
        return arrStacked == other && othStacked == array;
      }
      var index = -1,
          result = true,
          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;

      stack.set(array, other);
      stack.set(other, array);

      // Ignore non-index properties.
      while (++index < arrLength) {
        var arrValue = array[index],
            othValue = other[index];

        if (customizer) {
          var compared = isPartial
            ? customizer(othValue, arrValue, index, other, array, stack)
            : customizer(arrValue, othValue, index, array, other, stack);
        }
        if (compared !== undefined) {
          if (compared) {
            continue;
          }
          result = false;
          break;
        }
        // Recursively compare arrays (susceptible to call stack limits).
        if (seen) {
          if (!arraySome(other, function(othValue, othIndex) {
                if (!cacheHas(seen, othIndex) &&
                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {
                  return seen.push(othIndex);
                }
              })) {
            result = false;
            break;
          }
        } else if (!(
              arrValue === othValue ||
                equalFunc(arrValue, othValue, bitmask, customizer, stack)
            )) {
          result = false;
          break;
        }
      }
      stack['delete'](array);
      stack['delete'](other);
      return result;
    }

    /**
     * A specialized version of `baseIsEqualDeep` for comparing objects of
     * the same `toStringTag`.
     *
     * **Note:** This function only supports comparing values with tags of
     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.
     *
     * @private
     * @param {Object} object The object to compare.
     * @param {Object} other The other object to compare.
     * @param {string} tag The `toStringTag` of the objects to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} stack Tracks traversed `object` and `other` objects.
     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
     */
    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {
      switch (tag) {
        case dataViewTag:
          if ((object.byteLength != other.byteLength) ||
              (object.byteOffset != other.byteOffset)) {
            return false;
          }
          object = object.buffer;
          other = other.buffer;

        case arrayBufferTag:
          if ((object.byteLength != other.byteLength) ||
              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {
            return false;
          }
          return true;

        case boolTag:
        case dateTag:
        case numberTag:
          // Coerce booleans to `1` or `0` and dates to milliseconds.
          // Invalid dates are coerced to `NaN`.
          return eq(+object, +other);

        case errorTag:
          return object.name == other.name && object.message == other.message;

        case regexpTag:
        case stringTag:
          // Coerce regexes to strings and treat strings, primitives and objects,
          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring
          // for more details.
          return object == (other + '');

        case mapTag:
          var convert = mapToArray;

        case setTag:
          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;
          convert || (convert = setToArray);

          if (object.size != other.size && !isPartial) {
            return false;
          }
          // Assume cyclic values are equal.
          var stacked = stack.get(object);
          if (stacked) {
            return stacked == other;
          }
          bitmask |= COMPARE_UNORDERED_FLAG;

          // Recursively compare objects (susceptible to call stack limits).
          stack.set(object, other);
          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);
          stack['delete'](object);
          return result;

        case symbolTag:
          if (symbolValueOf) {
            return symbolValueOf.call(object) == symbolValueOf.call(other);
          }
      }
      return false;
    }

    /**
     * A specialized version of `baseIsEqualDeep` for objects with support for
     * partial deep comparisons.
     *
     * @private
     * @param {Object} object The object to compare.
     * @param {Object} other The other object to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} stack Tracks traversed `object` and `other` objects.
     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
     */
    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {
      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,
          objProps = getAllKeys(object),
          objLength = objProps.length,
          othProps = getAllKeys(other),
          othLength = othProps.length;

      if (objLength != othLength && !isPartial) {
        return false;
      }
      var index = objLength;
      while (index--) {
        var key = objProps[index];
        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {
          return false;
        }
      }
      // Check that cyclic values are equal.
      var objStacked = stack.get(object);
      var othStacked = stack.get(other);
      if (objStacked && othStacked) {
        return objStacked == other && othStacked == object;
      }
      var result = true;
      stack.set(object, other);
      stack.set(other, object);

      var skipCtor = isPartial;
      while (++index < objLength) {
        key = objProps[index];
        var objValue = object[key],
            othValue = other[key];

        if (customizer) {
          var compared = isPartial
            ? customizer(othValue, objValue, key, other, object, stack)
            : customizer(objValue, othValue, key, object, other, stack);
        }
        // Recursively compare objects (susceptible to call stack limits).
        if (!(compared === undefined
              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))
              : compared
            )) {
          result = false;
          break;
        }
        skipCtor || (skipCtor = key == 'constructor');
      }
      if (result && !skipCtor) {
        var objCtor = object.constructor,
            othCtor = other.constructor;

        // Non `Object` object instances with different constructors are not equal.
        if (objCtor != othCtor &&
            ('constructor' in object && 'constructor' in other) &&
            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&
              typeof othCtor == 'function' && othCtor instanceof othCtor)) {
          result = false;
        }
      }
      stack['delete'](object);
      stack['delete'](other);
      return result;
    }

    /**
     * A specialized version of `baseRest` which flattens the rest array.
     *
     * @private
     * @param {Function} func The function to apply a rest parameter to.
     * @returns {Function} Returns the new function.
     */
    function flatRest(func) {
      return setToString(overRest(func, undefined, flatten), func + '');
    }

    /**
     * Creates an array of own enumerable property names and symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names and symbols.
     */
    function getAllKeys(object) {
      return baseGetAllKeys(object, keys, getSymbols);
    }

    /**
     * Creates an array of own and inherited enumerable property names and
     * symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names and symbols.
     */
    function getAllKeysIn(object) {
      return baseGetAllKeys(object, keysIn, getSymbolsIn);
    }

    /**
     * Gets metadata for `func`.
     *
     * @private
     * @param {Function} func The function to query.
     * @returns {*} Returns the metadata for `func`.
     */
    var getData = !metaMap ? noop : function(func) {
      return metaMap.get(func);
    };

    /**
     * Gets the name of `func`.
     *
     * @private
     * @param {Function} func The function to query.
     * @returns {string} Returns the function name.
     */
    function getFuncName(func) {
      var result = (func.name + ''),
          array = realNames[result],
          length = hasOwnProperty.call(realNames, result) ? array.length : 0;

      while (length--) {
        var data = array[length],
            otherFunc = data.func;
        if (otherFunc == null || otherFunc == func) {
          return data.name;
        }
      }
      return result;
    }

    /**
     * Gets the argument placeholder value for `func`.
     *
     * @private
     * @param {Function} func The function to inspect.
     * @returns {*} Returns the placeholder value.
     */
    function getHolder(func) {
      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;
      return object.placeholder;
    }

    /**
     * Gets the appropriate "iteratee" function. If `_.iteratee` is customized,
     * this function returns the custom method, otherwise it returns `baseIteratee`.
     * If arguments are provided, the chosen function is invoked with them and
     * its result is returned.
     *
     * @private
     * @param {*} [value] The value to convert to an iteratee.
     * @param {number} [arity] The arity of the created iteratee.
     * @returns {Function} Returns the chosen function or its result.
     */
    function getIteratee() {
      var result = lodash.iteratee || iteratee;
      result = result === iteratee ? baseIteratee : result;
      return arguments.length ? result(arguments[0], arguments[1]) : result;
    }

    /**
     * Gets the data for `map`.
     *
     * @private
     * @param {Object} map The map to query.
     * @param {string} key The reference key.
     * @returns {*} Returns the map data.
     */
    function getMapData(map, key) {
      var data = map.__data__;
      return isKeyable(key)
        ? data[typeof key == 'string' ? 'string' : 'hash']
        : data.map;
    }

    /**
     * Gets the property names, values, and compare flags of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the match data of `object`.
     */
    function getMatchData(object) {
      var result = keys(object),
          length = result.length;

      while (length--) {
        var key = result[length],
            value = object[key];

        result[length] = [key, value, isStrictComparable(value)];
      }
      return result;
    }

    /**
     * Gets the native function at `key` of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {string} key The key of the method to get.
     * @returns {*} Returns the function if it's native, else `undefined`.
     */
    function getNative(object, key) {
      var value = getValue(object, key);
      return baseIsNative(value) ? value : undefined;
    }

    /**
     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
     *
     * @private
     * @param {*} value The value to query.
     * @returns {string} Returns the raw `toStringTag`.
     */
    function getRawTag(value) {
      var isOwn = hasOwnProperty.call(value, symToStringTag),
          tag = value[symToStringTag];

      try {
        value[symToStringTag] = undefined;
        var unmasked = true;
      } catch (e) {}

      var result = nativeObjectToString.call(value);
      if (unmasked) {
        if (isOwn) {
          value[symToStringTag] = tag;
        } else {
          delete value[symToStringTag];
        }
      }
      return result;
    }

    /**
     * Creates an array of the own enumerable symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of symbols.
     */
    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {
      if (object == null) {
        return [];
      }
      object = Object(object);
      return arrayFilter(nativeGetSymbols(object), function(symbol) {
        return propertyIsEnumerable.call(object, symbol);
      });
    };

    /**
     * Creates an array of the own and inherited enumerable symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of symbols.
     */
    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {
      var result = [];
      while (object) {
        arrayPush(result, getSymbols(object));
        object = getPrototype(object);
      }
      return result;
    };

    /**
     * Gets the `toStringTag` of `value`.
     *
     * @private
     * @param {*} value The value to query.
     * @returns {string} Returns the `toStringTag`.
     */
    var getTag = baseGetTag;

    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.
    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||
        (Map && getTag(new Map) != mapTag) ||
        (Promise && getTag(Promise.resolve()) != promiseTag) ||
        (Set && getTag(new Set) != setTag) ||
        (WeakMap && getTag(new WeakMap) != weakMapTag)) {
      getTag = function(value) {
        var result = baseGetTag(value),
            Ctor = result == objectTag ? value.constructor : undefined,
            ctorString = Ctor ? toSource(Ctor) : '';

        if (ctorString) {
          switch (ctorString) {
            case dataViewCtorString: return dataViewTag;
            case mapCtorString: return mapTag;
            case promiseCtorString: return promiseTag;
            case setCtorString: return setTag;
            case weakMapCtorString: return weakMapTag;
          }
        }
        return result;
      };
    }

    /**
     * Gets the view, applying any `transforms` to the `start` and `end` positions.
     *
     * @private
     * @param {number} start The start of the view.
     * @param {number} end The end of the view.
     * @param {Array} transforms The transformations to apply to the view.
     * @returns {Object} Returns an object containing the `start` and `end`
     *  positions of the view.
     */
    function getView(start, end, transforms) {
      var index = -1,
          length = transforms.length;

      while (++index < length) {
        var data = transforms[index],
            size = data.size;

        switch (data.type) {
          case 'drop':      start += size; break;
          case 'dropRight': end -= size; break;
          case 'take':      end = nativeMin(end, start + size); break;
          case 'takeRight': start = nativeMax(start, end - size); break;
        }
      }
      return { 'start': start, 'end': end };
    }

    /**
     * Extracts wrapper details from the `source` body comment.
     *
     * @private
     * @param {string} source The source to inspect.
     * @returns {Array} Returns the wrapper details.
     */
    function getWrapDetails(source) {
      var match = source.match(reWrapDetails);
      return match ? match[1].split(reSplitDetails) : [];
    }

    /**
     * Checks if `path` exists on `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Array|string} path The path to check.
     * @param {Function} hasFunc The function to check properties.
     * @returns {boolean} Returns `true` if `path` exists, else `false`.
     */
    function hasPath(object, path, hasFunc) {
      path = castPath(path, object);

      var index = -1,
          length = path.length,
          result = false;

      while (++index < length) {
        var key = toKey(path[index]);
        if (!(result = object != null && hasFunc(object, key))) {
          break;
        }
        object = object[key];
      }
      if (result || ++index != length) {
        return result;
      }
      length = object == null ? 0 : object.length;
      return !!length && isLength(length) && isIndex(key, length) &&
        (isArray(object) || isArguments(object));
    }

    /**
     * Initializes an array clone.
     *
     * @private
     * @param {Array} array The array to clone.
     * @returns {Array} Returns the initialized clone.
     */
    function initCloneArray(array) {
      var length = array.length,
          result = new array.constructor(length);

      // Add properties assigned by `RegExp#exec`.
      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {
        result.index = array.index;
        result.input = array.input;
      }
      return result;
    }

    /**
     * Initializes an object clone.
     *
     * @private
     * @param {Object} object The object to clone.
     * @returns {Object} Returns the initialized clone.
     */
    function initCloneObject(object) {
      return (typeof object.constructor == 'function' && !isPrototype(object))
        ? baseCreate(getPrototype(object))
        : {};
    }

    /**
     * Initializes an object clone based on its `toStringTag`.
     *
     * **Note:** This function only supports cloning values with tags of
     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.
     *
     * @private
     * @param {Object} object The object to clone.
     * @param {string} tag The `toStringTag` of the object to clone.
     * @param {boolean} [isDeep] Specify a deep clone.
     * @returns {Object} Returns the initialized clone.
     */
    function initCloneByTag(object, tag, isDeep) {
      var Ctor = object.constructor;
      switch (tag) {
        case arrayBufferTag:
          return cloneArrayBuffer(object);

        case boolTag:
        case dateTag:
          return new Ctor(+object);

        case dataViewTag:
          return cloneDataView(object, isDeep);

        case float32Tag: case float64Tag:
        case int8Tag: case int16Tag: case int32Tag:
        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:
          return cloneTypedArray(object, isDeep);

        case mapTag:
          return new Ctor;

        case numberTag:
        case stringTag:
          return new Ctor(object);

        case regexpTag:
          return cloneRegExp(object);

        case setTag:
          return new Ctor;

        case symbolTag:
          return cloneSymbol(object);
      }
    }

    /**
     * Inserts wrapper `details` in a comment at the top of the `source` body.
     *
     * @private
     * @param {string} source The source to modify.
     * @returns {Array} details The details to insert.
     * @returns {string} Returns the modified source.
     */
    function insertWrapDetails(source, details) {
      var length = details.length;
      if (!length) {
        return source;
      }
      var lastIndex = length - 1;
      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];
      details = details.join(length > 2 ? ', ' : ' ');
      return source.replace(reWrapComment, '{\n/* [wrapped with ' + details + '] */\n');
    }

    /**
     * Checks if `value` is a flattenable `arguments` object or array.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.
     */
    function isFlattenable(value) {
      return isArray(value) || isArguments(value) ||
        !!(spreadableSymbol && value && value[spreadableSymbol]);
    }

    /**
     * Checks if `value` is a valid array-like index.
     *
     * @private
     * @param {*} value The value to check.
     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
     */
    function isIndex(value, length) {
      var type = typeof value;
      length = length == null ? MAX_SAFE_INTEGER : length;

      return !!length &&
        (type == 'number' ||
          (type != 'symbol' && reIsUint.test(value))) &&
            (value > -1 && value % 1 == 0 && value < length);
    }

    /**
     * Checks if the given arguments are from an iteratee call.
     *
     * @private
     * @param {*} value The potential iteratee value argument.
     * @param {*} index The potential iteratee index or key argument.
     * @param {*} object The potential iteratee object argument.
     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
     *  else `false`.
     */
    function isIterateeCall(value, index, object) {
      if (!isObject(object)) {
        return false;
      }
      var type = typeof index;
      if (type == 'number'
            ? (isArrayLike(object) && isIndex(index, object.length))
            : (type == 'string' && index in object)
          ) {
        return eq(object[index], value);
      }
      return false;
    }

    /**
     * Checks if `value` is a property name and not a property path.
     *
     * @private
     * @param {*} value The value to check.
     * @param {Object} [object] The object to query keys on.
     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.
     */
    function isKey(value, object) {
      if (isArray(value)) {
        return false;
      }
      var type = typeof value;
      if (type == 'number' || type == 'symbol' || type == 'boolean' ||
          value == null || isSymbol(value)) {
        return true;
      }
      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||
        (object != null && value in Object(object));
    }

    /**
     * Checks if `value` is suitable for use as unique object key.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
     */
    function isKeyable(value) {
      var type = typeof value;
      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
        ? (value !== '__proto__')
        : (value === null);
    }

    /**
     * Checks if `func` has a lazy counterpart.
     *
     * @private
     * @param {Function} func The function to check.
     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,
     *  else `false`.
     */
    function isLaziable(func) {
      var funcName = getFuncName(func),
          other = lodash[funcName];

      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {
        return false;
      }
      if (func === other) {
        return true;
      }
      var data = getData(other);
      return !!data && func === data[0];
    }

    /**
     * Checks if `func` has its source masked.
     *
     * @private
     * @param {Function} func The function to check.
     * @returns {boolean} Returns `true` if `func` is masked, else `false`.
     */
    function isMasked(func) {
      return !!maskSrcKey && (maskSrcKey in func);
    }

    /**
     * Checks if `func` is capable of being masked.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.
     */
    var isMaskable = coreJsData ? isFunction : stubFalse;

    /**
     * Checks if `value` is likely a prototype object.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
     */
    function isPrototype(value) {
      var Ctor = value && value.constructor,
          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

      return value === proto;
    }

    /**
     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` if suitable for strict
     *  equality comparisons, else `false`.
     */
    function isStrictComparable(value) {
      return value === value && !isObject(value);
    }

    /**
     * A specialized version of `matchesProperty` for source values suitable
     * for strict equality comparisons, i.e. `===`.
     *
     * @private
     * @param {string} key The key of the property to get.
     * @param {*} srcValue The value to match.
     * @returns {Function} Returns the new spec function.
     */
    function matchesStrictComparable(key, srcValue) {
      return function(object) {
        if (object == null) {
          return false;
        }
        return object[key] === srcValue &&
          (srcValue !== undefined || (key in Object(object)));
      };
    }

    /**
     * A specialized version of `_.memoize` which clears the memoized function's
     * cache when it exceeds `MAX_MEMOIZE_SIZE`.
     *
     * @private
     * @param {Function} func The function to have its output memoized.
     * @returns {Function} Returns the new memoized function.
     */
    function memoizeCapped(func) {
      var result = memoize(func, function(key) {
        if (cache.size === MAX_MEMOIZE_SIZE) {
          cache.clear();
        }
        return key;
      });

      var cache = result.cache;
      return result;
    }

    /**
     * Merges the function metadata of `source` into `data`.
     *
     * Merging metadata reduces the number of wrappers used to invoke a function.
     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`
     * may be applied regardless of execution order. Methods like `_.ary` and
     * `_.rearg` modify function arguments, making the order in which they are
     * executed important, preventing the merging of metadata. However, we make
     * an exception for a safe combined case where curried functions have `_.ary`
     * and or `_.rearg` applied.
     *
     * @private
     * @param {Array} data The destination metadata.
     * @param {Array} source The source metadata.
     * @returns {Array} Returns `data`.
     */
    function mergeData(data, source) {
      var bitmask = data[1],
          srcBitmask = source[1],
          newBitmask = bitmask | srcBitmask,
          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);

      var isCombo =
        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||
        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||
        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));

      // Exit early if metadata can't be merged.
      if (!(isCommon || isCombo)) {
        return data;
      }
      // Use source `thisArg` if available.
      if (srcBitmask & WRAP_BIND_FLAG) {
        data[2] = source[2];
        // Set when currying a bound function.
        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;
      }
      // Compose partial arguments.
      var value = source[3];
      if (value) {
        var partials = data[3];
        data[3] = partials ? composeArgs(partials, value, source[4]) : value;
        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];
      }
      // Compose partial right arguments.
      value = source[5];
      if (value) {
        partials = data[5];
        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;
        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];
      }
      // Use source `argPos` if available.
      value = source[7];
      if (value) {
        data[7] = value;
      }
      // Use source `ary` if it's smaller.
      if (srcBitmask & WRAP_ARY_FLAG) {
        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);
      }
      // Use source `arity` if one is not provided.
      if (data[9] == null) {
        data[9] = source[9];
      }
      // Use source `func` and merge bitmasks.
      data[0] = source[0];
      data[1] = newBitmask;

      return data;
    }

    /**
     * This function is like
     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
     * except that it includes inherited enumerable properties.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     */
    function nativeKeysIn(object) {
      var result = [];
      if (object != null) {
        for (var key in Object(object)) {
          result.push(key);
        }
      }
      return result;
    }

    /**
     * Converts `value` to a string using `Object.prototype.toString`.
     *
     * @private
     * @param {*} value The value to convert.
     * @returns {string} Returns the converted string.
     */
    function objectToString(value) {
      return nativeObjectToString.call(value);
    }

    /**
     * A specialized version of `baseRest` which transforms the rest array.
     *
     * @private
     * @param {Function} func The function to apply a rest parameter to.
     * @param {number} [start=func.length-1] The start position of the rest parameter.
     * @param {Function} transform The rest array transform.
     * @returns {Function} Returns the new function.
     */
    function overRest(func, start, transform) {
      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);
      return function() {
        var args = arguments,
            index = -1,
            length = nativeMax(args.length - start, 0),
            array = Array(length);

        while (++index < length) {
          array[index] = args[start + index];
        }
        index = -1;
        var otherArgs = Array(start + 1);
        while (++index < start) {
          otherArgs[index] = args[index];
        }
        otherArgs[start] = transform(array);
        return apply(func, this, otherArgs);
      };
    }

    /**
     * Gets the parent value at `path` of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Array} path The path to get the parent value of.
     * @returns {*} Returns the parent value.
     */
    function parent(object, path) {
      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));
    }

    /**
     * Reorder `array` according to the specified indexes where the element at
     * the first index is assigned as the first element, the element at
     * the second index is assigned as the second element, and so on.
     *
     * @private
     * @param {Array} array The array to reorder.
     * @param {Array} indexes The arranged array indexes.
     * @returns {Array} Returns `array`.
     */
    function reorder(array, indexes) {
      var arrLength = array.length,
          length = nativeMin(indexes.length, arrLength),
          oldArray = copyArray(array);

      while (length--) {
        var index = indexes[length];
        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;
      }
      return array;
    }

    /**
     * Gets the value at `key`, unless `key` is "__proto__" or "constructor".
     *
     * @private
     * @param {Object} object The object to query.
     * @param {string} key The key of the property to get.
     * @returns {*} Returns the property value.
     */
    function safeGet(object, key) {
      if (key === 'constructor' && typeof object[key] === 'function') {
        return;
      }

      if (key == '__proto__') {
        return;
      }

      return object[key];
    }

    /**
     * Sets metadata for `func`.
     *
     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short
     * period of time, it will trip its breaker and transition to an identity
     * function to avoid garbage collection pauses in V8. See
     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)
     * for more details.
     *
     * @private
     * @param {Function} func The function to associate metadata with.
     * @param {*} data The metadata.
     * @returns {Function} Returns `func`.
     */
    var setData = shortOut(baseSetData);

    /**
     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).
     *
     * @private
     * @param {Function} func The function to delay.
     * @param {number} wait The number of milliseconds to delay invocation.
     * @returns {number|Object} Returns the timer id or timeout object.
     */
    var setTimeout = ctxSetTimeout || function(func, wait) {
      return root.setTimeout(func, wait);
    };

    /**
     * Sets the `toString` method of `func` to return `string`.
     *
     * @private
     * @param {Function} func The function to modify.
     * @param {Function} string The `toString` result.
     * @returns {Function} Returns `func`.
     */
    var setToString = shortOut(baseSetToString);

    /**
     * Sets the `toString` method of `wrapper` to mimic the source of `reference`
     * with wrapper details in a comment at the top of the source body.
     *
     * @private
     * @param {Function} wrapper The function to modify.
     * @param {Function} reference The reference function.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @returns {Function} Returns `wrapper`.
     */
    function setWrapToString(wrapper, reference, bitmask) {
      var source = (reference + '');
      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));
    }

    /**
     * Creates a function that'll short out and invoke `identity` instead
     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`
     * milliseconds.
     *
     * @private
     * @param {Function} func The function to restrict.
     * @returns {Function} Returns the new shortable function.
     */
    function shortOut(func) {
      var count = 0,
          lastCalled = 0;

      return function() {
        var stamp = nativeNow(),
            remaining = HOT_SPAN - (stamp - lastCalled);

        lastCalled = stamp;
        if (remaining > 0) {
          if (++count >= HOT_COUNT) {
            return arguments[0];
          }
        } else {
          count = 0;
        }
        return func.apply(undefined, arguments);
      };
    }

    /**
     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.
     *
     * @private
     * @param {Array} array The array to shuffle.
     * @param {number} [size=array.length] The size of `array`.
     * @returns {Array} Returns `array`.
     */
    function shuffleSelf(array, size) {
      var index = -1,
          length = array.length,
          lastIndex = length - 1;

      size = size === undefined ? length : size;
      while (++index < size) {
        var rand = baseRandom(index, lastIndex),
            value = array[rand];

        array[rand] = array[index];
        array[index] = value;
      }
      array.length = size;
      return array;
    }

    /**
     * Converts `string` to a property path array.
     *
     * @private
     * @param {string} string The string to convert.
     * @returns {Array} Returns the property path array.
     */
    var stringToPath = memoizeCapped(function(string) {
      var result = [];
      if (string.charCodeAt(0) === 46 /* . */) {
        result.push('');
      }
      string.replace(rePropName, function(match, number, quote, subString) {
        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));
      });
      return result;
    });

    /**
     * Converts `value` to a string key if it's not a string or symbol.
     *
     * @private
     * @param {*} value The value to inspect.
     * @returns {string|symbol} Returns the key.
     */
    function toKey(value) {
      if (typeof value == 'string' || isSymbol(value)) {
        return value;
      }
      var result = (value + '');
      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
    }

    /**
     * Converts `func` to its source code.
     *
     * @private
     * @param {Function} func The function to convert.
     * @returns {string} Returns the source code.
     */
    function toSource(func) {
      if (func != null) {
        try {
          return funcToString.call(func);
        } catch (e) {}
        try {
          return (func + '');
        } catch (e) {}
      }
      return '';
    }

    /**
     * Updates wrapper `details` based on `bitmask` flags.
     *
     * @private
     * @returns {Array} details The details to modify.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @returns {Array} Returns `details`.
     */
    function updateWrapDetails(details, bitmask) {
      arrayEach(wrapFlags, function(pair) {
        var value = '_.' + pair[0];
        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {
          details.push(value);
        }
      });
      return details.sort();
    }

    /**
     * Creates a clone of `wrapper`.
     *
     * @private
     * @param {Object} wrapper The wrapper to clone.
     * @returns {Object} Returns the cloned wrapper.
     */
    function wrapperClone(wrapper) {
      if (wrapper instanceof LazyWrapper) {
        return wrapper.clone();
      }
      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);
      result.__actions__ = copyArray(wrapper.__actions__);
      result.__index__  = wrapper.__index__;
      result.__values__ = wrapper.__values__;
      return result;
    }

    /*------------------------------------------------------------------------*/

    /**
     * Creates an array of elements split into groups the length of `size`.
     * If `array` can't be split evenly, the final chunk will be the remaining
     * elements.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to process.
     * @param {number} [size=1] The length of each chunk
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the new array of chunks.
     * @example
     *
     * _.chunk(['a', 'b', 'c', 'd'], 2);
     * // => [['a', 'b'], ['c', 'd']]
     *
     * _.chunk(['a', 'b', 'c', 'd'], 3);
     * // => [['a', 'b', 'c'], ['d']]
     */
    function chunk(array, size, guard) {
      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {
        size = 1;
      } else {
        size = nativeMax(toInteger(size), 0);
      }
      var length = array == null ? 0 : array.length;
      if (!length || size < 1) {
        return [];
      }
      var index = 0,
          resIndex = 0,
          result = Array(nativeCeil(length / size));

      while (index < length) {
        result[resIndex++] = baseSlice(array, index, (index += size));
      }
      return result;
    }

    /**
     * Creates an array with all falsey values removed. The values `false`, `null`,
     * `0`, `""`, `undefined`, and `NaN` are falsey.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to compact.
     * @returns {Array} Returns the new array of filtered values.
     * @example
     *
     * _.compact([0, 1, false, 2, '', 3]);
     * // => [1, 2, 3]
     */
    function compact(array) {
      var index = -1,
          length = array == null ? 0 : array.length,
          resIndex = 0,
          result = [];

      while (++index < length) {
        var value = array[index];
        if (value) {
          result[resIndex++] = value;
        }
      }
      return result;
    }

    /**
     * Creates a new array concatenating `array` with any additional arrays
     * and/or values.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to concatenate.
     * @param {...*} [values] The values to concatenate.
     * @returns {Array} Returns the new concatenated array.
     * @example
     *
     * var array = [1];
     * var other = _.concat(array, 2, [3], [[4]]);
     *
     * console.log(other);
     * // => [1, 2, 3, [4]]
     *
     * console.log(array);
     * // => [1]
     */
    function concat() {
      var length = arguments.length;
      if (!length) {
        return [];
      }
      var args = Array(length - 1),
          array = arguments[0],
          index = length;

      while (index--) {
        args[index - 1] = arguments[index];
      }
      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));
    }

    /**
     * Creates an array of `array` values not included in the other given arrays
     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons. The order and references of result values are
     * determined by the first array.
     *
     * **Note:** Unlike `_.pullAll`, this method returns a new array.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {...Array} [values] The values to exclude.
     * @returns {Array} Returns the new array of filtered values.
     * @see _.without, _.xor
     * @example
     *
     * _.difference([2, 1], [2, 3]);
     * // => [1]
     */
    var difference = baseRest(function(array, values) {
      return isArrayLikeObject(array)
        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))
        : [];
    });

    /**
     * This method is like `_.difference` except that it accepts `iteratee` which
     * is invoked for each element of `array` and `values` to generate the criterion
     * by which they're compared. The order and references of result values are
     * determined by the first array. The iteratee is invoked with one argument:
     * (value).
     *
     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {...Array} [values] The values to exclude.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Array} Returns the new array of filtered values.
     * @example
     *
     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);
     * // => [1.2]
     *
     * // The `_.property` iteratee shorthand.
     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');
     * // => [{ 'x': 2 }]
     */
    var differenceBy = baseRest(function(array, values) {
      var iteratee = last(values);
      if (isArrayLikeObject(iteratee)) {
        iteratee = undefined;
      }
      return isArrayLikeObject(array)
        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))
        : [];
    });

    /**
     * This method is like `_.difference` except that it accepts `comparator`
     * which is invoked to compare elements of `array` to `values`. The order and
     * references of result values are determined by the first array. The comparator
     * is invoked with two arguments: (arrVal, othVal).
     *
     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {...Array} [values] The values to exclude.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of filtered values.
     * @example
     *
     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];
     *
     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);
     * // => [{ 'x': 2, 'y': 1 }]
     */
    var differenceWith = baseRest(function(array, values) {
      var comparator = last(values);
      if (isArrayLikeObject(comparator)) {
        comparator = undefined;
      }
      return isArrayLikeObject(array)
        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)
        : [];
    });

    /**
     * Creates a slice of `array` with `n` elements dropped from the beginning.
     *
     * @static
     * @memberOf _
     * @since 0.5.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {number} [n=1] The number of elements to drop.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * _.drop([1, 2, 3]);
     * // => [2, 3]
     *
     * _.drop([1, 2, 3], 2);
     * // => [3]
     *
     * _.drop([1, 2, 3], 5);
     * // => []
     *
     * _.drop([1, 2, 3], 0);
     * // => [1, 2, 3]
     */
    function drop(array, n, guard) {
      var length = array == null ? 0 : array.length;
      if (!length) {
        return [];
      }
      n = (guard || n === undefined) ? 1 : toInteger(n);
      return baseSlice(array, n < 0 ? 0 : n, length);
    }

    /**
     * Creates a slice of `array` with `n` elements dropped from the end.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {number} [n=1] The number of elements to drop.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * _.dropRight([1, 2, 3]);
     * // => [1, 2]
     *
     * _.dropRight([1, 2, 3], 2);
     * // => [1]
     *
     * _.dropRight([1, 2, 3], 5);
     * // => []
     *
     * _.dropRight([1, 2, 3], 0);
     * // => [1, 2, 3]
     */
    function dropRight(array, n, guard) {
      var length = array == null ? 0 : array.length;
      if (!length) {
        return [];
      }
      n = (guard || n === undefined) ? 1 : toInteger(n);
      n = length - n;
      return baseSlice(array, 0, n < 0 ? 0 : n);
    }

    /**
     * Creates a slice of `array` excluding elements dropped from the end.
     * Elements are dropped until `predicate` returns falsey. The predicate is
     * invoked with three arguments: (value, index, array).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'active': true },
     *   { 'user': 'fred',    'active': false },
     *   { 'user': 'pebbles', 'active': false }
     * ];
     *
     * _.dropRightWhile(users, function(o) { return !o.active; });
     * // => objects for ['barney']
     *
     * // The `_.matches` iteratee shorthand.
     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });
     * // => objects for ['barney', 'fred']
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.dropRightWhile(users, ['active', false]);
     * // => objects for ['barney']
     *
     * // The `_.property` iteratee shorthand.
     * _.dropRightWhile(users, 'active');
     * // => objects for ['barney', 'fred', 'pebbles']
     */
    function dropRightWhile(array, predicate) {
      return (array && array.length)
        ? baseWhile(array, getIteratee(predicate, 3), true, true)
        : [];
    }

    /**
     * Creates a slice of `array` excluding elements dropped from the beginning.
     * Elements are dropped until `predicate` returns falsey. The predicate is
     * invoked with three arguments: (value, index, array).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'active': false },
     *   { 'user': 'fred',    'active': false },
     *   { 'user': 'pebbles', 'active': true }
     * ];
     *
     * _.dropWhile(users, function(o) { return !o.active; });
     * // => objects for ['pebbles']
     *
     * // The `_.matches` iteratee shorthand.
     * _.dropWhile(users, { 'user': 'barney', 'active': false });
     * // => objects for ['fred', 'pebbles']
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.dropWhile(users, ['active', false]);
     * // => objects for ['pebbles']
     *
     * // The `_.property` iteratee shorthand.
     * _.dropWhile(users, 'active');
     * // => objects for ['barney', 'fred', 'pebbles']
     */
    function dropWhile(array, predicate) {
      return (array && array.length)
        ? baseWhile(array, getIteratee(predicate, 3), true)
        : [];
    }

    /**
     * Fills elements of `array` with `value` from `start` up to, but not
     * including, `end`.
     *
     * **Note:** This method mutates `array`.
     *
     * @static
     * @memberOf _
     * @since 3.2.0
     * @category Array
     * @param {Array} array The array to fill.
     * @param {*} value The value to fill `array` with.
     * @param {number} [start=0] The start position.
     * @param {number} [end=array.length] The end position.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = [1, 2, 3];
     *
     * _.fill(array, 'a');
     * console.log(array);
     * // => ['a', 'a', 'a']
     *
     * _.fill(Array(3), 2);
     * // => [2, 2, 2]
     *
     * _.fill([4, 6, 8, 10], '*', 1, 3);
     * // => [4, '*', '*', 10]
     */
    function fill(array, value, start, end) {
      var length = array == null ? 0 : array.length;
      if (!length) {
        return [];
      }
      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {
        start = 0;
        end = length;
      }
      return baseFill(array, value, start, end);
    }

    /**
     * This method is like `_.find` except that it returns the index of the first
     * element `predicate` returns truthy for instead of the element itself.
     *
     * @static
     * @memberOf _
     * @since 1.1.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param {number} [fromIndex=0] The index to search from.
     * @returns {number} Returns the index of the found element, else `-1`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'active': false },
     *   { 'user': 'fred',    'active': false },
     *   { 'user': 'pebbles', 'active': true }
     * ];
     *
     * _.findIndex(users, function(o) { return o.user == 'barney'; });
     * // => 0
     *
     * // The `_.matches` iteratee shorthand.
     * _.findIndex(users, { 'user': 'fred', 'active': false });
     * // => 1
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.findIndex(users, ['active', false]);
     * // => 0
     *
     * // The `_.property` iteratee shorthand.
     * _.findIndex(users, 'active');
     * // => 2
     */
    function findIndex(array, predicate, fromIndex) {
      var length = array == null ? 0 : array.length;
      if (!length) {
        return -1;
      }
      var index = fromIndex == null ? 0 : toInteger(fromIndex);
      if (index < 0) {
        index = nativeMax(length + index, 0);
      }
      return baseFindIndex(array, getIteratee(predicate, 3), index);
    }

    /**
     * This method is like `_.findIndex` except that it iterates over elements
     * of `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param {number} [fromIndex=array.length-1] The index to search from.
     * @returns {number} Returns the index of the found element, else `-1`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'active': true },
     *   { 'user': 'fred',    'active': false },
     *   { 'user': 'pebbles', 'active': false }
     * ];
     *
     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });
     * // => 2
     *
     * // The `_.matches` iteratee shorthand.
     * _.findLastIndex(users, { 'user': 'barney', 'active': true });
     * // => 0
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.findLastIndex(users, ['active', false]);
     * // => 2
     *
     * // The `_.property` iteratee shorthand.
     * _.findLastIndex(users, 'active');
     * // => 0
     */
    function findLastIndex(array, predicate, fromIndex) {
      var length = array == null ? 0 : array.length;
      if (!length) {
        return -1;
      }
      var index = length - 1;
      if (fromIndex !== undefined) {
        index = toInteger(fromIndex);
        index = fromIndex < 0
          ? nativeMax(length + index, 0)
          : nativeMin(index, length - 1);
      }
      return baseFindIndex(array, getIteratee(predicate, 3), index, true);
    }

    /**
     * Flattens `array` a single level deep.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to flatten.
     * @returns {Array} Returns the new flattened array.
     * @example
     *
     * _.flatten([1, [2, [3, [4]], 5]]);
     * // => [1, 2, [3, [4]], 5]
     */
    function flatten(array) {
      var length = array == null ? 0 : array.length;
      return length ? baseFlatten(array, 1) : [];
    }

    /**
     * Recursively flattens `array`.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to flatten.
     * @returns {Array} Returns the new flattened array.
     * @example
     *
     * _.flattenDeep([1, [2, [3, [4]], 5]]);
     * // => [1, 2, 3, 4, 5]
     */
    function flattenDeep(array) {
      var length = array == null ? 0 : array.length;
      return length ? baseFlatten(array, INFINITY) : [];
    }

    /**
     * Recursively flatten `array` up to `depth` times.
     *
     * @static
     * @memberOf _
     * @since 4.4.0
     * @category Array
     * @param {Array} array The array to flatten.
     * @param {number} [depth=1] The maximum recursion depth.
     * @returns {Array} Returns the new flattened array.
     * @example
     *
     * var array = [1, [2, [3, [4]], 5]];
     *
     * _.flattenDepth(array, 1);
     * // => [1, 2, [3, [4]], 5]
     *
     * _.flattenDepth(array, 2);
     * // => [1, 2, 3, [4], 5]
     */
    function flattenDepth(array, depth) {
      var length = array == null ? 0 : array.length;
      if (!length) {
        return [];
      }
      depth = depth === undefined ? 1 : toInteger(depth);
      return baseFlatten(array, depth);
    }

    /**
     * The inverse of `_.toPairs`; this method returns an object composed
     * from key-value `pairs`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} pairs The key-value pairs.
     * @returns {Object} Returns the new object.
     * @example
     *
     * _.fromPairs([['a', 1], ['b', 2]]);
     * // => { 'a': 1, 'b': 2 }
     */
    function fromPairs(pairs) {
      var index = -1,
          length = pairs == null ? 0 : pairs.length,
          result = {};

      while (++index < length) {
        var pair = pairs[index];
        result[pair[0]] = pair[1];
      }
      return result;
    }

    /**
     * Gets the first element of `array`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @alias first
     * @category Array
     * @param {Array} array The array to query.
     * @returns {*} Returns the first element of `array`.
     * @example
     *
     * _.head([1, 2, 3]);
     * // => 1
     *
     * _.head([]);
     * // => undefined
     */
    function head(array) {
      return (array && array.length) ? array[0] : undefined;
    }

    /**
     * Gets the index at which the first occurrence of `value` is found in `array`
     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons. If `fromIndex` is negative, it's used as the
     * offset from the end of `array`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {*} value The value to search for.
     * @param {number} [fromIndex=0] The index to search from.
     * @returns {number} Returns the index of the matched value, else `-1`.
     * @example
     *
     * _.indexOf([1, 2, 1, 2], 2);
     * // => 1
     *
     * // Search from the `fromIndex`.
     * _.indexOf([1, 2, 1, 2], 2, 2);
     * // => 3
     */
    function indexOf(array, value, fromIndex) {
      var length = array == null ? 0 : array.length;
      if (!length) {
        return -1;
      }
      var index = fromIndex == null ? 0 : toInteger(fromIndex);
      if (index < 0) {
        index = nativeMax(length + index, 0);
      }
      return baseIndexOf(array, value, index);
    }

    /**
     * Gets all but the last element of `array`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to query.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * _.initial([1, 2, 3]);
     * // => [1, 2]
     */
    function initial(array) {
      var length = array == null ? 0 : array.length;
      return length ? baseSlice(array, 0, -1) : [];
    }

    /**
     * Creates an array of unique values that are included in all given arrays
     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons. The order and references of result values are
     * determined by the first array.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @returns {Array} Returns the new array of intersecting values.
     * @example
     *
     * _.intersection([2, 1], [2, 3]);
     * // => [2]
     */
    var intersection = baseRest(function(arrays) {
      var mapped = arrayMap(arrays, castArrayLikeObject);
      return (mapped.length && mapped[0] === arrays[0])
        ? baseIntersection(mapped)
        : [];
    });

    /**
     * This method is like `_.intersection` except that it accepts `iteratee`
     * which is invoked for each element of each `arrays` to generate the criterion
     * by which they're compared. The order and references of result values are
     * determined by the first array. The iteratee is invoked with one argument:
     * (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Array} Returns the new array of intersecting values.
     * @example
     *
     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);
     * // => [2.1]
     *
     * // The `_.property` iteratee shorthand.
     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');
     * // => [{ 'x': 1 }]
     */
    var intersectionBy = baseRest(function(arrays) {
      var iteratee = last(arrays),
          mapped = arrayMap(arrays, castArrayLikeObject);

      if (iteratee === last(mapped)) {
        iteratee = undefined;
      } else {
        mapped.pop();
      }
      return (mapped.length && mapped[0] === arrays[0])
        ? baseIntersection(mapped, getIteratee(iteratee, 2))
        : [];
    });

    /**
     * This method is like `_.intersection` except that it accepts `comparator`
     * which is invoked to compare elements of `arrays`. The order and references
     * of result values are determined by the first array. The comparator is
     * invoked with two arguments: (arrVal, othVal).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of intersecting values.
     * @example
     *
     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];
     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];
     *
     * _.intersectionWith(objects, others, _.isEqual);
     * // => [{ 'x': 1, 'y': 2 }]
     */
    var intersectionWith = baseRest(function(arrays) {
      var comparator = last(arrays),
          mapped = arrayMap(arrays, castArrayLikeObject);

      comparator = typeof comparator == 'function' ? comparator : undefined;
      if (comparator) {
        mapped.pop();
      }
      return (mapped.length && mapped[0] === arrays[0])
        ? baseIntersection(mapped, undefined, comparator)
        : [];
    });

    /**
     * Converts all elements in `array` into a string separated by `separator`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to convert.
     * @param {string} [separator=','] The element separator.
     * @returns {string} Returns the joined string.
     * @example
     *
     * _.join(['a', 'b', 'c'], '~');
     * // => 'a~b~c'
     */
    function join(array, separator) {
      return array == null ? '' : nativeJoin.call(array, separator);
    }

    /**
     * Gets the last element of `array`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to query.
     * @returns {*} Returns the last element of `array`.
     * @example
     *
     * _.last([1, 2, 3]);
     * // => 3
     */
    function last(array) {
      var length = array == null ? 0 : array.length;
      return length ? array[length - 1] : undefined;
    }

    /**
     * This method is like `_.indexOf` except that it iterates over elements of
     * `array` from right to left.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {*} value The value to search for.
     * @param {number} [fromIndex=array.length-1] The index to search from.
     * @returns {number} Returns the index of the matched value, else `-1`.
     * @example
     *
     * _.lastIndexOf([1, 2, 1, 2], 2);
     * // => 3
     *
     * // Search from the `fromIndex`.
     * _.lastIndexOf([1, 2, 1, 2], 2, 2);
     * // => 1
     */
    function lastIndexOf(array, value, fromIndex) {
      var length = array == null ? 0 : array.length;
      if (!length) {
        return -1;
      }
      var index = length;
      if (fromIndex !== undefined) {
        index = toInteger(fromIndex);
        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);
      }
      return value === value
        ? strictLastIndexOf(array, value, index)
        : baseFindIndex(array, baseIsNaN, index, true);
    }

    /**
     * Gets the element at index `n` of `array`. If `n` is negative, the nth
     * element from the end is returned.
     *
     * @static
     * @memberOf _
     * @since 4.11.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {number} [n=0] The index of the element to return.
     * @returns {*} Returns the nth element of `array`.
     * @example
     *
     * var array = ['a', 'b', 'c', 'd'];
     *
     * _.nth(array, 1);
     * // => 'b'
     *
     * _.nth(array, -2);
     * // => 'c';
     */
    function nth(array, n) {
      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;
    }

    /**
     * Removes all given values from `array` using
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons.
     *
     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`
     * to remove elements from an array by predicate.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Array
     * @param {Array} array The array to modify.
     * @param {...*} [values] The values to remove.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];
     *
     * _.pull(array, 'a', 'c');
     * console.log(array);
     * // => ['b', 'b']
     */
    var pull = baseRest(pullAll);

    /**
     * This method is like `_.pull` except that it accepts an array of values to remove.
     *
     * **Note:** Unlike `_.difference`, this method mutates `array`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to modify.
     * @param {Array} values The values to remove.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];
     *
     * _.pullAll(array, ['a', 'c']);
     * console.log(array);
     * // => ['b', 'b']
     */
    function pullAll(array, values) {
      return (array && array.length && values && values.length)
        ? basePullAll(array, values)
        : array;
    }

    /**
     * This method is like `_.pullAll` except that it accepts `iteratee` which is
     * invoked for each element of `array` and `values` to generate the criterion
     * by which they're compared. The iteratee is invoked with one argument: (value).
     *
     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to modify.
     * @param {Array} values The values to remove.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];
     *
     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');
     * console.log(array);
     * // => [{ 'x': 2 }]
     */
    function pullAllBy(array, values, iteratee) {
      return (array && array.length && values && values.length)
        ? basePullAll(array, values, getIteratee(iteratee, 2))
        : array;
    }

    /**
     * This method is like `_.pullAll` except that it accepts `comparator` which
     * is invoked to compare elements of `array` to `values`. The comparator is
     * invoked with two arguments: (arrVal, othVal).
     *
     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.
     *
     * @static
     * @memberOf _
     * @since 4.6.0
     * @category Array
     * @param {Array} array The array to modify.
     * @param {Array} values The values to remove.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];
     *
     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);
     * console.log(array);
     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]
     */
    function pullAllWith(array, values, comparator) {
      return (array && array.length && values && values.length)
        ? basePullAll(array, values, undefined, comparator)
        : array;
    }

    /**
     * Removes elements from `array` corresponding to `indexes` and returns an
     * array of removed elements.
     *
     * **Note:** Unlike `_.at`, this method mutates `array`.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to modify.
     * @param {...(number|number[])} [indexes] The indexes of elements to remove.
     * @returns {Array} Returns the new array of removed elements.
     * @example
     *
     * var array = ['a', 'b', 'c', 'd'];
     * var pulled = _.pullAt(array, [1, 3]);
     *
     * console.log(array);
     * // => ['a', 'c']
     *
     * console.log(pulled);
     * // => ['b', 'd']
     */
    var pullAt = flatRest(function(array, indexes) {
      var length = array == null ? 0 : array.length,
          result = baseAt(array, indexes);

      basePullAt(array, arrayMap(indexes, function(index) {
        return isIndex(index, length) ? +index : index;
      }).sort(compareAscending));

      return result;
    });

    /**
     * Removes all elements from `array` that `predicate` returns truthy for
     * and returns an array of the removed elements. The predicate is invoked
     * with three arguments: (value, index, array).
     *
     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`
     * to pull elements from an array by value.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Array
     * @param {Array} array The array to modify.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the new array of removed elements.
     * @example
     *
     * var array = [1, 2, 3, 4];
     * var evens = _.remove(array, function(n) {
     *   return n % 2 == 0;
     * });
     *
     * console.log(array);
     * // => [1, 3]
     *
     * console.log(evens);
     * // => [2, 4]
     */
    function remove(array, predicate) {
      var result = [];
      if (!(array && array.length)) {
        return result;
      }
      var index = -1,
          indexes = [],
          length = array.length;

      predicate = getIteratee(predicate, 3);
      while (++index < length) {
        var value = array[index];
        if (predicate(value, index, array)) {
          result.push(value);
          indexes.push(index);
        }
      }
      basePullAt(array, indexes);
      return result;
    }

    /**
     * Reverses `array` so that the first element becomes the last, the second
     * element becomes the second to last, and so on.
     *
     * **Note:** This method mutates `array` and is based on
     * [`Array#reverse`](https://mdn.io/Array/reverse).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to modify.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = [1, 2, 3];
     *
     * _.reverse(array);
     * // => [3, 2, 1]
     *
     * console.log(array);
     * // => [3, 2, 1]
     */
    function reverse(array) {
      return array == null ? array : nativeReverse.call(array);
    }

    /**
     * Creates a slice of `array` from `start` up to, but not including, `end`.
     *
     * **Note:** This method is used instead of
     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are
     * returned.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to slice.
     * @param {number} [start=0] The start position.
     * @param {number} [end=array.length] The end position.
     * @returns {Array} Returns the slice of `array`.
     */
    function slice(array, start, end) {
      var length = array == null ? 0 : array.length;
      if (!length) {
        return [];
      }
      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {
        start = 0;
        end = length;
      }
      else {
        start = start == null ? 0 : toInteger(start);
        end = end === undefined ? length : toInteger(end);
      }
      return baseSlice(array, start, end);
    }

    /**
     * Uses a binary search to determine the lowest index at which `value`
     * should be inserted into `array` in order to maintain its sort order.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The sorted array to inspect.
     * @param {*} value The value to evaluate.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     * @example
     *
     * _.sortedIndex([30, 50], 40);
     * // => 1
     */
    function sortedIndex(array, value) {
      return baseSortedIndex(array, value);
    }

    /**
     * This method is like `_.sortedIndex` except that it accepts `iteratee`
     * which is invoked for `value` and each element of `array` to compute their
     * sort ranking. The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The sorted array to inspect.
     * @param {*} value The value to evaluate.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     * @example
     *
     * var objects = [{ 'x': 4 }, { 'x': 5 }];
     *
     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });
     * // => 0
     *
     * // The `_.property` iteratee shorthand.
     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');
     * // => 0
     */
    function sortedIndexBy(array, value, iteratee) {
      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));
    }

    /**
     * This method is like `_.indexOf` except that it performs a binary
     * search on a sorted `array`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {*} value The value to search for.
     * @returns {number} Returns the index of the matched value, else `-1`.
     * @example
     *
     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);
     * // => 1
     */
    function sortedIndexOf(array, value) {
      var length = array == null ? 0 : array.length;
      if (length) {
        var index = baseSortedIndex(array, value);
        if (index < length && eq(array[index], value)) {
          return index;
        }
      }
      return -1;
    }

    /**
     * This method is like `_.sortedIndex` except that it returns the highest
     * index at which `value` should be inserted into `array` in order to
     * maintain its sort order.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The sorted array to inspect.
     * @param {*} value The value to evaluate.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     * @example
     *
     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);
     * // => 4
     */
    function sortedLastIndex(array, value) {
      return baseSortedIndex(array, value, true);
    }

    /**
     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`
     * which is invoked for `value` and each element of `array` to compute their
     * sort ranking. The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The sorted array to inspect.
     * @param {*} value The value to evaluate.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     * @example
     *
     * var objects = [{ 'x': 4 }, { 'x': 5 }];
     *
     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });
     * // => 1
     *
     * // The `_.property` iteratee shorthand.
     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');
     * // => 1
     */
    function sortedLastIndexBy(array, value, iteratee) {
      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);
    }

    /**
     * This method is like `_.lastIndexOf` except that it performs a binary
     * search on a sorted `array`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {*} value The value to search for.
     * @returns {number} Returns the index of the matched value, else `-1`.
     * @example
     *
     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);
     * // => 3
     */
    function sortedLastIndexOf(array, value) {
      var length = array == null ? 0 : array.length;
      if (length) {
        var index = baseSortedIndex(array, value, true) - 1;
        if (eq(array[index], value)) {
          return index;
        }
      }
      return -1;
    }

    /**
     * This method is like `_.uniq` except that it's designed and optimized
     * for sorted arrays.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @returns {Array} Returns the new duplicate free array.
     * @example
     *
     * _.sortedUniq([1, 1, 2]);
     * // => [1, 2]
     */
    function sortedUniq(array) {
      return (array && array.length)
        ? baseSortedUniq(array)
        : [];
    }

    /**
     * This method is like `_.uniqBy` except that it's designed and optimized
     * for sorted arrays.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @returns {Array} Returns the new duplicate free array.
     * @example
     *
     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);
     * // => [1.1, 2.3]
     */
    function sortedUniqBy(array, iteratee) {
      return (array && array.length)
        ? baseSortedUniq(array, getIteratee(iteratee, 2))
        : [];
    }

    /**
     * Gets all but the first element of `array`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * _.tail([1, 2, 3]);
     * // => [2, 3]
     */
    function tail(array) {
      var length = array == null ? 0 : array.length;
      return length ? baseSlice(array, 1, length) : [];
    }

    /**
     * Creates a slice of `array` with `n` elements taken from the beginning.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {number} [n=1] The number of elements to take.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * _.take([1, 2, 3]);
     * // => [1]
     *
     * _.take([1, 2, 3], 2);
     * // => [1, 2]
     *
     * _.take([1, 2, 3], 5);
     * // => [1, 2, 3]
     *
     * _.take([1, 2, 3], 0);
     * // => []
     */
    function take(array, n, guard) {
      if (!(array && array.length)) {
        return [];
      }
      n = (guard || n === undefined) ? 1 : toInteger(n);
      return baseSlice(array, 0, n < 0 ? 0 : n);
    }

    /**
     * Creates a slice of `array` with `n` elements taken from the end.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {number} [n=1] The number of elements to take.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * _.takeRight([1, 2, 3]);
     * // => [3]
     *
     * _.takeRight([1, 2, 3], 2);
     * // => [2, 3]
     *
     * _.takeRight([1, 2, 3], 5);
     * // => [1, 2, 3]
     *
     * _.takeRight([1, 2, 3], 0);
     * // => []
     */
    function takeRight(array, n, guard) {
      var length = array == null ? 0 : array.length;
      if (!length) {
        return [];
      }
      n = (guard || n === undefined) ? 1 : toInteger(n);
      n = length - n;
      return baseSlice(array, n < 0 ? 0 : n, length);
    }

    /**
     * Creates a slice of `array` with elements taken from the end. Elements are
     * taken until `predicate` returns falsey. The predicate is invoked with
     * three arguments: (value, index, array).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'active': true },
     *   { 'user': 'fred',    'active': false },
     *   { 'user': 'pebbles', 'active': false }
     * ];
     *
     * _.takeRightWhile(users, function(o) { return !o.active; });
     * // => objects for ['fred', 'pebbles']
     *
     * // The `_.matches` iteratee shorthand.
     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });
     * // => objects for ['pebbles']
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.takeRightWhile(users, ['active', false]);
     * // => objects for ['fred', 'pebbles']
     *
     * // The `_.property` iteratee shorthand.
     * _.takeRightWhile(users, 'active');
     * // => []
     */
    function takeRightWhile(array, predicate) {
      return (array && array.length)
        ? baseWhile(array, getIteratee(predicate, 3), false, true)
        : [];
    }

    /**
     * Creates a slice of `array` with elements taken from the beginning. Elements
     * are taken until `predicate` returns falsey. The predicate is invoked with
     * three arguments: (value, index, array).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'active': false },
     *   { 'user': 'fred',    'active': false },
     *   { 'user': 'pebbles', 'active': true }
     * ];
     *
     * _.takeWhile(users, function(o) { return !o.active; });
     * // => objects for ['barney', 'fred']
     *
     * // The `_.matches` iteratee shorthand.
     * _.takeWhile(users, { 'user': 'barney', 'active': false });
     * // => objects for ['barney']
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.takeWhile(users, ['active', false]);
     * // => objects for ['barney', 'fred']
     *
     * // The `_.property` iteratee shorthand.
     * _.takeWhile(users, 'active');
     * // => []
     */
    function takeWhile(array, predicate) {
      return (array && array.length)
        ? baseWhile(array, getIteratee(predicate, 3))
        : [];
    }

    /**
     * Creates an array of unique values, in order, from all given arrays using
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @returns {Array} Returns the new array of combined values.
     * @example
     *
     * _.union([2], [1, 2]);
     * // => [2, 1]
     */
    var union = baseRest(function(arrays) {
      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));
    });

    /**
     * This method is like `_.union` except that it accepts `iteratee` which is
     * invoked for each element of each `arrays` to generate the criterion by
     * which uniqueness is computed. Result values are chosen from the first
     * array in which the value occurs. The iteratee is invoked with one argument:
     * (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Array} Returns the new array of combined values.
     * @example
     *
     * _.unionBy([2.1], [1.2, 2.3], Math.floor);
     * // => [2.1, 1.2]
     *
     * // The `_.property` iteratee shorthand.
     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');
     * // => [{ 'x': 1 }, { 'x': 2 }]
     */
    var unionBy = baseRest(function(arrays) {
      var iteratee = last(arrays);
      if (isArrayLikeObject(iteratee)) {
        iteratee = undefined;
      }
      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));
    });

    /**
     * This method is like `_.union` except that it accepts `comparator` which
     * is invoked to compare elements of `arrays`. Result values are chosen from
     * the first array in which the value occurs. The comparator is invoked
     * with two arguments: (arrVal, othVal).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of combined values.
     * @example
     *
     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];
     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];
     *
     * _.unionWith(objects, others, _.isEqual);
     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]
     */
    var unionWith = baseRest(function(arrays) {
      var comparator = last(arrays);
      comparator = typeof comparator == 'function' ? comparator : undefined;
      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);
    });

    /**
     * Creates a duplicate-free version of an array, using
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons, in which only the first occurrence of each element
     * is kept. The order of result values is determined by the order they occur
     * in the array.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @returns {Array} Returns the new duplicate free array.
     * @example
     *
     * _.uniq([2, 1, 2]);
     * // => [2, 1]
     */
    function uniq(array) {
      return (array && array.length) ? baseUniq(array) : [];
    }

    /**
     * This method is like `_.uniq` except that it accepts `iteratee` which is
     * invoked for each element in `array` to generate the criterion by which
     * uniqueness is computed. The order of result values is determined by the
     * order they occur in the array. The iteratee is invoked with one argument:
     * (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Array} Returns the new duplicate free array.
     * @example
     *
     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);
     * // => [2.1, 1.2]
     *
     * // The `_.property` iteratee shorthand.
     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');
     * // => [{ 'x': 1 }, { 'x': 2 }]
     */
    function uniqBy(array, iteratee) {
      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];
    }

    /**
     * This method is like `_.uniq` except that it accepts `comparator` which
     * is invoked to compare elements of `array`. The order of result values is
     * determined by the order they occur in the array.The comparator is invoked
     * with two arguments: (arrVal, othVal).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new duplicate free array.
     * @example
     *
     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];
     *
     * _.uniqWith(objects, _.isEqual);
     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]
     */
    function uniqWith(array, comparator) {
      comparator = typeof comparator == 'function' ? comparator : undefined;
      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];
    }

    /**
     * This method is like `_.zip` except that it accepts an array of grouped
     * elements and creates an array regrouping the elements to their pre-zip
     * configuration.
     *
     * @static
     * @memberOf _
     * @since 1.2.0
     * @category Array
     * @param {Array} array The array of grouped elements to process.
     * @returns {Array} Returns the new array of regrouped elements.
     * @example
     *
     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);
     * // => [['a', 1, true], ['b', 2, false]]
     *
     * _.unzip(zipped);
     * // => [['a', 'b'], [1, 2], [true, false]]
     */
    function unzip(array) {
      if (!(array && array.length)) {
        return [];
      }
      var length = 0;
      array = arrayFilter(array, function(group) {
        if (isArrayLikeObject(group)) {
          length = nativeMax(group.length, length);
          return true;
        }
      });
      return baseTimes(length, function(index) {
        return arrayMap(array, baseProperty(index));
      });
    }

    /**
     * This method is like `_.unzip` except that it accepts `iteratee` to specify
     * how regrouped values should be combined. The iteratee is invoked with the
     * elements of each group: (...group).
     *
     * @static
     * @memberOf _
     * @since 3.8.0
     * @category Array
     * @param {Array} array The array of grouped elements to process.
     * @param {Function} [iteratee=_.identity] The function to combine
     *  regrouped values.
     * @returns {Array} Returns the new array of regrouped elements.
     * @example
     *
     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);
     * // => [[1, 10, 100], [2, 20, 200]]
     *
     * _.unzipWith(zipped, _.add);
     * // => [3, 30, 300]
     */
    function unzipWith(array, iteratee) {
      if (!(array && array.length)) {
        return [];
      }
      var result = unzip(array);
      if (iteratee == null) {
        return result;
      }
      return arrayMap(result, function(group) {
        return apply(iteratee, undefined, group);
      });
    }

    /**
     * Creates an array excluding all given values using
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons.
     *
     * **Note:** Unlike `_.pull`, this method returns a new array.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {...*} [values] The values to exclude.
     * @returns {Array} Returns the new array of filtered values.
     * @see _.difference, _.xor
     * @example
     *
     * _.without([2, 1, 2, 3], 1, 2);
     * // => [3]
     */
    var without = baseRest(function(array, values) {
      return isArrayLikeObject(array)
        ? baseDifference(array, values)
        : [];
    });

    /**
     * Creates an array of unique values that is the
     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)
     * of the given arrays. The order of result values is determined by the order
     * they occur in the arrays.
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @returns {Array} Returns the new array of filtered values.
     * @see _.difference, _.without
     * @example
     *
     * _.xor([2, 1], [2, 3]);
     * // => [1, 3]
     */
    var xor = baseRest(function(arrays) {
      return baseXor(arrayFilter(arrays, isArrayLikeObject));
    });

    /**
     * This method is like `_.xor` except that it accepts `iteratee` which is
     * invoked for each element of each `arrays` to generate the criterion by
     * which by which they're compared. The order of result values is determined
     * by the order they occur in the arrays. The iteratee is invoked with one
     * argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Array} Returns the new array of filtered values.
     * @example
     *
     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);
     * // => [1.2, 3.4]
     *
     * // The `_.property` iteratee shorthand.
     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');
     * // => [{ 'x': 2 }]
     */
    var xorBy = baseRest(function(arrays) {
      var iteratee = last(arrays);
      if (isArrayLikeObject(iteratee)) {
        iteratee = undefined;
      }
      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));
    });

    /**
     * This method is like `_.xor` except that it accepts `comparator` which is
     * invoked to compare elements of `arrays`. The order of result values is
     * determined by the order they occur in the arrays. The comparator is invoked
     * with two arguments: (arrVal, othVal).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of filtered values.
     * @example
     *
     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];
     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];
     *
     * _.xorWith(objects, others, _.isEqual);
     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]
     */
    var xorWith = baseRest(function(arrays) {
      var comparator = last(arrays);
      comparator = typeof comparator == 'function' ? comparator : undefined;
      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);
    });

    /**
     * Creates an array of grouped elements, the first of which contains the
     * first elements of the given arrays, the second of which contains the
     * second elements of the given arrays, and so on.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {...Array} [arrays] The arrays to process.
     * @returns {Array} Returns the new array of grouped elements.
     * @example
     *
     * _.zip(['a', 'b'], [1, 2], [true, false]);
     * // => [['a', 1, true], ['b', 2, false]]
     */
    var zip = baseRest(unzip);

    /**
     * This method is like `_.fromPairs` except that it accepts two arrays,
     * one of property identifiers and one of corresponding values.
     *
     * @static
     * @memberOf _
     * @since 0.4.0
     * @category Array
     * @param {Array} [props=[]] The property identifiers.
     * @param {Array} [values=[]] The property values.
     * @returns {Object} Returns the new object.
     * @example
     *
     * _.zipObject(['a', 'b'], [1, 2]);
     * // => { 'a': 1, 'b': 2 }
     */
    function zipObject(props, values) {
      return baseZipObject(props || [], values || [], assignValue);
    }

    /**
     * This method is like `_.zipObject` except that it supports property paths.
     *
     * @static
     * @memberOf _
     * @since 4.1.0
     * @category Array
     * @param {Array} [props=[]] The property identifiers.
     * @param {Array} [values=[]] The property values.
     * @returns {Object} Returns the new object.
     * @example
     *
     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);
     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }
     */
    function zipObjectDeep(props, values) {
      return baseZipObject(props || [], values || [], baseSet);
    }

    /**
     * This method is like `_.zip` except that it accepts `iteratee` to specify
     * how grouped values should be combined. The iteratee is invoked with the
     * elements of each group: (...group).
     *
     * @static
     * @memberOf _
     * @since 3.8.0
     * @category Array
     * @param {...Array} [arrays] The arrays to process.
     * @param {Function} [iteratee=_.identity] The function to combine
     *  grouped values.
     * @returns {Array} Returns the new array of grouped elements.
     * @example
     *
     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {
     *   return a + b + c;
     * });
     * // => [111, 222]
     */
    var zipWith = baseRest(function(arrays) {
      var length = arrays.length,
          iteratee = length > 1 ? arrays[length - 1] : undefined;

      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;
      return unzipWith(arrays, iteratee);
    });

    /*------------------------------------------------------------------------*/

    /**
     * Creates a `lodash` wrapper instance that wraps `value` with explicit method
     * chain sequences enabled. The result of such sequences must be unwrapped
     * with `_#value`.
     *
     * @static
     * @memberOf _
     * @since 1.3.0
     * @category Seq
     * @param {*} value The value to wrap.
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'age': 36 },
     *   { 'user': 'fred',    'age': 40 },
     *   { 'user': 'pebbles', 'age': 1 }
     * ];
     *
     * var youngest = _
     *   .chain(users)
     *   .sortBy('age')
     *   .map(function(o) {
     *     return o.user + ' is ' + o.age;
     *   })
     *   .head()
     *   .value();
     * // => 'pebbles is 1'
     */
    function chain(value) {
      var result = lodash(value);
      result.__chain__ = true;
      return result;
    }

    /**
     * This method invokes `interceptor` and returns `value`. The interceptor
     * is invoked with one argument; (value). The purpose of this method is to
     * "tap into" a method chain sequence in order to modify intermediate results.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Seq
     * @param {*} value The value to provide to `interceptor`.
     * @param {Function} interceptor The function to invoke.
     * @returns {*} Returns `value`.
     * @example
     *
     * _([1, 2, 3])
     *  .tap(function(array) {
     *    // Mutate input array.
     *    array.pop();
     *  })
     *  .reverse()
     *  .value();
     * // => [2, 1]
     */
    function tap(value, interceptor) {
      interceptor(value);
      return value;
    }

    /**
     * This method is like `_.tap` except that it returns the result of `interceptor`.
     * The purpose of this method is to "pass thru" values replacing intermediate
     * results in a method chain sequence.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Seq
     * @param {*} value The value to provide to `interceptor`.
     * @param {Function} interceptor The function to invoke.
     * @returns {*} Returns the result of `interceptor`.
     * @example
     *
     * _('  abc  ')
     *  .chain()
     *  .trim()
     *  .thru(function(value) {
     *    return [value];
     *  })
     *  .value();
     * // => ['abc']
     */
    function thru(value, interceptor) {
      return interceptor(value);
    }

    /**
     * This method is the wrapper version of `_.at`.
     *
     * @name at
     * @memberOf _
     * @since 1.0.0
     * @category Seq
     * @param {...(string|string[])} [paths] The property paths to pick.
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };
     *
     * _(object).at(['a[0].b.c', 'a[1]']).value();
     * // => [3, 4]
     */
    var wrapperAt = flatRest(function(paths) {
      var length = paths.length,
          start = length ? paths[0] : 0,
          value = this.__wrapped__,
          interceptor = function(object) { return baseAt(object, paths); };

      if (length > 1 || this.__actions__.length ||
          !(value instanceof LazyWrapper) || !isIndex(start)) {
        return this.thru(interceptor);
      }
      value = value.slice(start, +start + (length ? 1 : 0));
      value.__actions__.push({
        'func': thru,
        'args': [interceptor],
        'thisArg': undefined
      });
      return new LodashWrapper(value, this.__chain__).thru(function(array) {
        if (length && !array.length) {
          array.push(undefined);
        }
        return array;
      });
    });

    /**
     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.
     *
     * @name chain
     * @memberOf _
     * @since 0.1.0
     * @category Seq
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * var users = [
     *   { 'user': 'barney', 'age': 36 },
     *   { 'user': 'fred',   'age': 40 }
     * ];
     *
     * // A sequence without explicit chaining.
     * _(users).head();
     * // => { 'user': 'barney', 'age': 36 }
     *
     * // A sequence with explicit chaining.
     * _(users)
     *   .chain()
     *   .head()
     *   .pick('user')
     *   .value();
     * // => { 'user': 'barney' }
     */
    function wrapperChain() {
      return chain(this);
    }

    /**
     * Executes the chain sequence and returns the wrapped result.
     *
     * @name commit
     * @memberOf _
     * @since 3.2.0
     * @category Seq
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * var array = [1, 2];
     * var wrapped = _(array).push(3);
     *
     * console.log(array);
     * // => [1, 2]
     *
     * wrapped = wrapped.commit();
     * console.log(array);
     * // => [1, 2, 3]
     *
     * wrapped.last();
     * // => 3
     *
     * console.log(array);
     * // => [1, 2, 3]
     */
    function wrapperCommit() {
      return new LodashWrapper(this.value(), this.__chain__);
    }

    /**
     * Gets the next value on a wrapped object following the
     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).
     *
     * @name next
     * @memberOf _
     * @since 4.0.0
     * @category Seq
     * @returns {Object} Returns the next iterator value.
     * @example
     *
     * var wrapped = _([1, 2]);
     *
     * wrapped.next();
     * // => { 'done': false, 'value': 1 }
     *
     * wrapped.next();
     * // => { 'done': false, 'value': 2 }
     *
     * wrapped.next();
     * // => { 'done': true, 'value': undefined }
     */
    function wrapperNext() {
      if (this.__values__ === undefined) {
        this.__values__ = toArray(this.value());
      }
      var done = this.__index__ >= this.__values__.length,
          value = done ? undefined : this.__values__[this.__index__++];

      return { 'done': done, 'value': value };
    }

    /**
     * Enables the wrapper to be iterable.
     *
     * @name Symbol.iterator
     * @memberOf _
     * @since 4.0.0
     * @category Seq
     * @returns {Object} Returns the wrapper object.
     * @example
     *
     * var wrapped = _([1, 2]);
     *
     * wrapped[Symbol.iterator]() === wrapped;
     * // => true
     *
     * Array.from(wrapped);
     * // => [1, 2]
     */
    function wrapperToIterator() {
      return this;
    }

    /**
     * Creates a clone of the chain sequence planting `value` as the wrapped value.
     *
     * @name plant
     * @memberOf _
     * @since 3.2.0
     * @category Seq
     * @param {*} value The value to plant.
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * function square(n) {
     *   return n * n;
     * }
     *
     * var wrapped = _([1, 2]).map(square);
     * var other = wrapped.plant([3, 4]);
     *
     * other.value();
     * // => [9, 16]
     *
     * wrapped.value();
     * // => [1, 4]
     */
    function wrapperPlant(value) {
      var result,
          parent = this;

      while (parent instanceof baseLodash) {
        var clone = wrapperClone(parent);
        clone.__index__ = 0;
        clone.__values__ = undefined;
        if (result) {
          previous.__wrapped__ = clone;
        } else {
          result = clone;
        }
        var previous = clone;
        parent = parent.__wrapped__;
      }
      previous.__wrapped__ = value;
      return result;
    }

    /**
     * This method is the wrapper version of `_.reverse`.
     *
     * **Note:** This method mutates the wrapped array.
     *
     * @name reverse
     * @memberOf _
     * @since 0.1.0
     * @category Seq
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * var array = [1, 2, 3];
     *
     * _(array).reverse().value()
     * // => [3, 2, 1]
     *
     * console.log(array);
     * // => [3, 2, 1]
     */
    function wrapperReverse() {
      var value = this.__wrapped__;
      if (value instanceof LazyWrapper) {
        var wrapped = value;
        if (this.__actions__.length) {
          wrapped = new LazyWrapper(this);
        }
        wrapped = wrapped.reverse();
        wrapped.__actions__.push({
          'func': thru,
          'args': [reverse],
          'thisArg': undefined
        });
        return new LodashWrapper(wrapped, this.__chain__);
      }
      return this.thru(reverse);
    }

    /**
     * Executes the chain sequence to resolve the unwrapped value.
     *
     * @name value
     * @memberOf _
     * @since 0.1.0
     * @alias toJSON, valueOf
     * @category Seq
     * @returns {*} Returns the resolved unwrapped value.
     * @example
     *
     * _([1, 2, 3]).value();
     * // => [1, 2, 3]
     */
    function wrapperValue() {
      return baseWrapperValue(this.__wrapped__, this.__actions__);
    }

    /*------------------------------------------------------------------------*/

    /**
     * Creates an object composed of keys generated from the results of running
     * each element of `collection` thru `iteratee`. The corresponding value of
     * each key is the number of times the key was returned by `iteratee`. The
     * iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 0.5.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.
     * @returns {Object} Returns the composed aggregate object.
     * @example
     *
     * _.countBy([6.1, 4.2, 6.3], Math.floor);
     * // => { '4': 1, '6': 2 }
     *
     * // The `_.property` iteratee shorthand.
     * _.countBy(['one', 'two', 'three'], 'length');
     * // => { '3': 2, '5': 1 }
     */
    var countBy = createAggregator(function(result, value, key) {
      if (hasOwnProperty.call(result, key)) {
        ++result[key];
      } else {
        baseAssignValue(result, key, 1);
      }
    });

    /**
     * Checks if `predicate` returns truthy for **all** elements of `collection`.
     * Iteration is stopped once `predicate` returns falsey. The predicate is
     * invoked with three arguments: (value, index|key, collection).
     *
     * **Note:** This method returns `true` for
     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because
     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of
     * elements of empty collections.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {boolean} Returns `true` if all elements pass the predicate check,
     *  else `false`.
     * @example
     *
     * _.every([true, 1, null, 'yes'], Boolean);
     * // => false
     *
     * var users = [
     *   { 'user': 'barney', 'age': 36, 'active': false },
     *   { 'user': 'fred',   'age': 40, 'active': false }
     * ];
     *
     * // The `_.matches` iteratee shorthand.
     * _.every(users, { 'user': 'barney', 'active': false });
     * // => false
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.every(users, ['active', false]);
     * // => true
     *
     * // The `_.property` iteratee shorthand.
     * _.every(users, 'active');
     * // => false
     */
    function every(collection, predicate, guard) {
      var func = isArray(collection) ? arrayEvery : baseEvery;
      if (guard && isIterateeCall(collection, predicate, guard)) {
        predicate = undefined;
      }
      return func(collection, getIteratee(predicate, 3));
    }

    /**
     * Iterates over elements of `collection`, returning an array of all elements
     * `predicate` returns truthy for. The predicate is invoked with three
     * arguments: (value, index|key, collection).
     *
     * **Note:** Unlike `_.remove`, this method returns a new array.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the new filtered array.
     * @see _.reject
     * @example
     *
     * var users = [
     *   { 'user': 'barney', 'age': 36, 'active': true },
     *   { 'user': 'fred',   'age': 40, 'active': false }
     * ];
     *
     * _.filter(users, function(o) { return !o.active; });
     * // => objects for ['fred']
     *
     * // The `_.matches` iteratee shorthand.
     * _.filter(users, { 'age': 36, 'active': true });
     * // => objects for ['barney']
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.filter(users, ['active', false]);
     * // => objects for ['fred']
     *
     * // The `_.property` iteratee shorthand.
     * _.filter(users, 'active');
     * // => objects for ['barney']
     *
     * // Combining several predicates using `_.overEvery` or `_.overSome`.
     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));
     * // => objects for ['fred', 'barney']
     */
    function filter(collection, predicate) {
      var func = isArray(collection) ? arrayFilter : baseFilter;
      return func(collection, getIteratee(predicate, 3));
    }

    /**
     * Iterates over elements of `collection`, returning the first element
     * `predicate` returns truthy for. The predicate is invoked with three
     * arguments: (value, index|key, collection).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param {number} [fromIndex=0] The index to search from.
     * @returns {*} Returns the matched element, else `undefined`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'age': 36, 'active': true },
     *   { 'user': 'fred',    'age': 40, 'active': false },
     *   { 'user': 'pebbles', 'age': 1,  'active': true }
     * ];
     *
     * _.find(users, function(o) { return o.age < 40; });
     * // => object for 'barney'
     *
     * // The `_.matches` iteratee shorthand.
     * _.find(users, { 'age': 1, 'active': true });
     * // => object for 'pebbles'
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.find(users, ['active', false]);
     * // => object for 'fred'
     *
     * // The `_.property` iteratee shorthand.
     * _.find(users, 'active');
     * // => object for 'barney'
     */
    var find = createFind(findIndex);

    /**
     * This method is like `_.find` except that it iterates over elements of
     * `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param {number} [fromIndex=collection.length-1] The index to search from.
     * @returns {*} Returns the matched element, else `undefined`.
     * @example
     *
     * _.findLast([1, 2, 3, 4], function(n) {
     *   return n % 2 == 1;
     * });
     * // => 3
     */
    var findLast = createFind(findLastIndex);

    /**
     * Creates a flattened array of values by running each element in `collection`
     * thru `iteratee` and flattening the mapped results. The iteratee is invoked
     * with three arguments: (value, index|key, collection).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the new flattened array.
     * @example
     *
     * function duplicate(n) {
     *   return [n, n];
     * }
     *
     * _.flatMap([1, 2], duplicate);
     * // => [1, 1, 2, 2]
     */
    function flatMap(collection, iteratee) {
      return baseFlatten(map(collection, iteratee), 1);
    }

    /**
     * This method is like `_.flatMap` except that it recursively flattens the
     * mapped results.
     *
     * @static
     * @memberOf _
     * @since 4.7.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the new flattened array.
     * @example
     *
     * function duplicate(n) {
     *   return [[[n, n]]];
     * }
     *
     * _.flatMapDeep([1, 2], duplicate);
     * // => [1, 1, 2, 2]
     */
    function flatMapDeep(collection, iteratee) {
      return baseFlatten(map(collection, iteratee), INFINITY);
    }

    /**
     * This method is like `_.flatMap` except that it recursively flattens the
     * mapped results up to `depth` times.
     *
     * @static
     * @memberOf _
     * @since 4.7.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @param {number} [depth=1] The maximum recursion depth.
     * @returns {Array} Returns the new flattened array.
     * @example
     *
     * function duplicate(n) {
     *   return [[[n, n]]];
     * }
     *
     * _.flatMapDepth([1, 2], duplicate, 2);
     * // => [[1, 1], [2, 2]]
     */
    function flatMapDepth(collection, iteratee, depth) {
      depth = depth === undefined ? 1 : toInteger(depth);
      return baseFlatten(map(collection, iteratee), depth);
    }

    /**
     * Iterates over elements of `collection` and invokes `iteratee` for each element.
     * The iteratee is invoked with three arguments: (value, index|key, collection).
     * Iteratee functions may exit iteration early by explicitly returning `false`.
     *
     * **Note:** As with other "Collections" methods, objects with a "length"
     * property are iterated like arrays. To avoid this behavior use `_.forIn`
     * or `_.forOwn` for object iteration.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @alias each
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Array|Object} Returns `collection`.
     * @see _.forEachRight
     * @example
     *
     * _.forEach([1, 2], function(value) {
     *   console.log(value);
     * });
     * // => Logs `1` then `2`.
     *
     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {
     *   console.log(key);
     * });
     * // => Logs 'a' then 'b' (iteration order is not guaranteed).
     */
    function forEach(collection, iteratee) {
      var func = isArray(collection) ? arrayEach : baseEach;
      return func(collection, getIteratee(iteratee, 3));
    }

    /**
     * This method is like `_.forEach` except that it iterates over elements of
     * `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @alias eachRight
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Array|Object} Returns `collection`.
     * @see _.forEach
     * @example
     *
     * _.forEachRight([1, 2], function(value) {
     *   console.log(value);
     * });
     * // => Logs `2` then `1`.
     */
    function forEachRight(collection, iteratee) {
      var func = isArray(collection) ? arrayEachRight : baseEachRight;
      return func(collection, getIteratee(iteratee, 3));
    }

    /**
     * Creates an object composed of keys generated from the results of running
     * each element of `collection` thru `iteratee`. The order of grouped values
     * is determined by the order they occur in `collection`. The corresponding
     * value of each key is an array of elements responsible for generating the
     * key. The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.
     * @returns {Object} Returns the composed aggregate object.
     * @example
     *
     * _.groupBy([6.1, 4.2, 6.3], Math.floor);
     * // => { '4': [4.2], '6': [6.1, 6.3] }
     *
     * // The `_.property` iteratee shorthand.
     * _.groupBy(['one', 'two', 'three'], 'length');
     * // => { '3': ['one', 'two'], '5': ['three'] }
     */
    var groupBy = createAggregator(function(result, value, key) {
      if (hasOwnProperty.call(result, key)) {
        result[key].push(value);
      } else {
        baseAssignValue(result, key, [value]);
      }
    });

    /**
     * Checks if `value` is in `collection`. If `collection` is a string, it's
     * checked for a substring of `value`, otherwise
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * is used for equality comparisons. If `fromIndex` is negative, it's used as
     * the offset from the end of `collection`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object|string} collection The collection to inspect.
     * @param {*} value The value to search for.
     * @param {number} [fromIndex=0] The index to search from.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.
     * @returns {boolean} Returns `true` if `value` is found, else `false`.
     * @example
     *
     * _.includes([1, 2, 3], 1);
     * // => true
     *
     * _.includes([1, 2, 3], 1, 2);
     * // => false
     *
     * _.includes({ 'a': 1, 'b': 2 }, 1);
     * // => true
     *
     * _.includes('abcd', 'bc');
     * // => true
     */
    function includes(collection, value, fromIndex, guard) {
      collection = isArrayLike(collection) ? collection : values(collection);
      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;

      var length = collection.length;
      if (fromIndex < 0) {
        fromIndex = nativeMax(length + fromIndex, 0);
      }
      return isString(collection)
        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)
        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);
    }

    /**
     * Invokes the method at `path` of each element in `collection`, returning
     * an array of the results of each invoked method. Any additional arguments
     * are provided to each invoked method. If `path` is a function, it's invoked
     * for, and `this` bound to, each element in `collection`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Array|Function|string} path The path of the method to invoke or
     *  the function invoked per iteration.
     * @param {...*} [args] The arguments to invoke each method with.
     * @returns {Array} Returns the array of results.
     * @example
     *
     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');
     * // => [[1, 5, 7], [1, 2, 3]]
     *
     * _.invokeMap([123, 456], String.prototype.split, '');
     * // => [['1', '2', '3'], ['4', '5', '6']]
     */
    var invokeMap = baseRest(function(collection, path, args) {
      var index = -1,
          isFunc = typeof path == 'function',
          result = isArrayLike(collection) ? Array(collection.length) : [];

      baseEach(collection, function(value) {
        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);
      });
      return result;
    });

    /**
     * Creates an object composed of keys generated from the results of running
     * each element of `collection` thru `iteratee`. The corresponding value of
     * each key is the last element responsible for generating the key. The
     * iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.
     * @returns {Object} Returns the composed aggregate object.
     * @example
     *
     * var array = [
     *   { 'dir': 'left', 'code': 97 },
     *   { 'dir': 'right', 'code': 100 }
     * ];
     *
     * _.keyBy(array, function(o) {
     *   return String.fromCharCode(o.code);
     * });
     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }
     *
     * _.keyBy(array, 'dir');
     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }
     */
    var keyBy = createAggregator(function(result, value, key) {
      baseAssignValue(result, key, value);
    });

    /**
     * Creates an array of values by running each element in `collection` thru
     * `iteratee`. The iteratee is invoked with three arguments:
     * (value, index|key, collection).
     *
     * Many lodash methods are guarded to work as iteratees for methods like
     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.
     *
     * The guarded methods are:
     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,
     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,
     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,
     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the new mapped array.
     * @example
     *
     * function square(n) {
     *   return n * n;
     * }
     *
     * _.map([4, 8], square);
     * // => [16, 64]
     *
     * _.map({ 'a': 4, 'b': 8 }, square);
     * // => [16, 64] (iteration order is not guaranteed)
     *
     * var users = [
     *   { 'user': 'barney' },
     *   { 'user': 'fred' }
     * ];
     *
     * // The `_.property` iteratee shorthand.
     * _.map(users, 'user');
     * // => ['barney', 'fred']
     */
    function map(collection, iteratee) {
      var func = isArray(collection) ? arrayMap : baseMap;
      return func(collection, getIteratee(iteratee, 3));
    }

    /**
     * This method is like `_.sortBy` except that it allows specifying the sort
     * orders of the iteratees to sort by. If `orders` is unspecified, all values
     * are sorted in ascending order. Otherwise, specify an order of "desc" for
     * descending or "asc" for ascending sort order of corresponding values.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]
     *  The iteratees to sort by.
     * @param {string[]} [orders] The sort orders of `iteratees`.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.
     * @returns {Array} Returns the new sorted array.
     * @example
     *
     * var users = [
     *   { 'user': 'fred',   'age': 48 },
     *   { 'user': 'barney', 'age': 34 },
     *   { 'user': 'fred',   'age': 40 },
     *   { 'user': 'barney', 'age': 36 }
     * ];
     *
     * // Sort by `user` in ascending order and by `age` in descending order.
     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);
     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]
     */
    function orderBy(collection, iteratees, orders, guard) {
      if (collection == null) {
        return [];
      }
      if (!isArray(iteratees)) {
        iteratees = iteratees == null ? [] : [iteratees];
      }
      orders = guard ? undefined : orders;
      if (!isArray(orders)) {
        orders = orders == null ? [] : [orders];
      }
      return baseOrderBy(collection, iteratees, orders);
    }

    /**
     * Creates an array of elements split into two groups, the first of which
     * contains elements `predicate` returns truthy for, the second of which
     * contains elements `predicate` returns falsey for. The predicate is
     * invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the array of grouped elements.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'age': 36, 'active': false },
     *   { 'user': 'fred',    'age': 40, 'active': true },
     *   { 'user': 'pebbles', 'age': 1,  'active': false }
     * ];
     *
     * _.partition(users, function(o) { return o.active; });
     * // => objects for [['fred'], ['barney', 'pebbles']]
     *
     * // The `_.matches` iteratee shorthand.
     * _.partition(users, { 'age': 1, 'active': false });
     * // => objects for [['pebbles'], ['barney', 'fred']]
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.partition(users, ['active', false]);
     * // => objects for [['barney', 'pebbles'], ['fred']]
     *
     * // The `_.property` iteratee shorthand.
     * _.partition(users, 'active');
     * // => objects for [['fred'], ['barney', 'pebbles']]
     */
    var partition = createAggregator(function(result, value, key) {
      result[key ? 0 : 1].push(value);
    }, function() { return [[], []]; });

    /**
     * Reduces `collection` to a value which is the accumulated result of running
     * each element in `collection` thru `iteratee`, where each successive
     * invocation is supplied the return value of the previous. If `accumulator`
     * is not given, the first element of `collection` is used as the initial
     * value. The iteratee is invoked with four arguments:
     * (accumulator, value, index|key, collection).
     *
     * Many lodash methods are guarded to work as iteratees for methods like
     * `_.reduce`, `_.reduceRight`, and `_.transform`.
     *
     * The guarded methods are:
     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,
     * and `sortBy`
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @param {*} [accumulator] The initial value.
     * @returns {*} Returns the accumulated value.
     * @see _.reduceRight
     * @example
     *
     * _.reduce([1, 2], function(sum, n) {
     *   return sum + n;
     * }, 0);
     * // => 3
     *
     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {
     *   (result[value] || (result[value] = [])).push(key);
     *   return result;
     * }, {});
     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)
     */
    function reduce(collection, iteratee, accumulator) {
      var func = isArray(collection) ? arrayReduce : baseReduce,
          initAccum = arguments.length < 3;

      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);
    }

    /**
     * This method is like `_.reduce` except that it iterates over elements of
     * `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @param {*} [accumulator] The initial value.
     * @returns {*} Returns the accumulated value.
     * @see _.reduce
     * @example
     *
     * var array = [[0, 1], [2, 3], [4, 5]];
     *
     * _.reduceRight(array, function(flattened, other) {
     *   return flattened.concat(other);
     * }, []);
     * // => [4, 5, 2, 3, 0, 1]
     */
    function reduceRight(collection, iteratee, accumulator) {
      var func = isArray(collection) ? arrayReduceRight : baseReduce,
          initAccum = arguments.length < 3;

      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);
    }

    /**
     * The opposite of `_.filter`; this method returns the elements of `collection`
     * that `predicate` does **not** return truthy for.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the new filtered array.
     * @see _.filter
     * @example
     *
     * var users = [
     *   { 'user': 'barney', 'age': 36, 'active': false },
     *   { 'user': 'fred',   'age': 40, 'active': true }
     * ];
     *
     * _.reject(users, function(o) { return !o.active; });
     * // => objects for ['fred']
     *
     * // The `_.matches` iteratee shorthand.
     * _.reject(users, { 'age': 40, 'active': true });
     * // => objects for ['barney']
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.reject(users, ['active', false]);
     * // => objects for ['fred']
     *
     * // The `_.property` iteratee shorthand.
     * _.reject(users, 'active');
     * // => objects for ['barney']
     */
    function reject(collection, predicate) {
      var func = isArray(collection) ? arrayFilter : baseFilter;
      return func(collection, negate(getIteratee(predicate, 3)));
    }

    /**
     * Gets a random element from `collection`.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to sample.
     * @returns {*} Returns the random element.
     * @example
     *
     * _.sample([1, 2, 3, 4]);
     * // => 2
     */
    function sample(collection) {
      var func = isArray(collection) ? arraySample : baseSample;
      return func(collection);
    }

    /**
     * Gets `n` random elements at unique keys from `collection` up to the
     * size of `collection`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to sample.
     * @param {number} [n=1] The number of elements to sample.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the random elements.
     * @example
     *
     * _.sampleSize([1, 2, 3], 2);
     * // => [3, 1]
     *
     * _.sampleSize([1, 2, 3], 4);
     * // => [2, 3, 1]
     */
    function sampleSize(collection, n, guard) {
      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {
        n = 1;
      } else {
        n = toInteger(n);
      }
      var func = isArray(collection) ? arraySampleSize : baseSampleSize;
      return func(collection, n);
    }

    /**
     * Creates an array of shuffled values, using a version of the
     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to shuffle.
     * @returns {Array} Returns the new shuffled array.
     * @example
     *
     * _.shuffle([1, 2, 3, 4]);
     * // => [4, 1, 3, 2]
     */
    function shuffle(collection) {
      var func = isArray(collection) ? arrayShuffle : baseShuffle;
      return func(collection);
    }

    /**
     * Gets the size of `collection` by returning its length for array-like
     * values or the number of own enumerable string keyed properties for objects.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object|string} collection The collection to inspect.
     * @returns {number} Returns the collection size.
     * @example
     *
     * _.size([1, 2, 3]);
     * // => 3
     *
     * _.size({ 'a': 1, 'b': 2 });
     * // => 2
     *
     * _.size('pebbles');
     * // => 7
     */
    function size(collection) {
      if (collection == null) {
        return 0;
      }
      if (isArrayLike(collection)) {
        return isString(collection) ? stringSize(collection) : collection.length;
      }
      var tag = getTag(collection);
      if (tag == mapTag || tag == setTag) {
        return collection.size;
      }
      return baseKeys(collection).length;
    }

    /**
     * Checks if `predicate` returns truthy for **any** element of `collection`.
     * Iteration is stopped once `predicate` returns truthy. The predicate is
     * invoked with three arguments: (value, index|key, collection).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {boolean} Returns `true` if any element passes the predicate check,
     *  else `false`.
     * @example
     *
     * _.some([null, 0, 'yes', false], Boolean);
     * // => true
     *
     * var users = [
     *   { 'user': 'barney', 'active': true },
     *   { 'user': 'fred',   'active': false }
     * ];
     *
     * // The `_.matches` iteratee shorthand.
     * _.some(users, { 'user': 'barney', 'active': false });
     * // => false
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.some(users, ['active', false]);
     * // => true
     *
     * // The `_.property` iteratee shorthand.
     * _.some(users, 'active');
     * // => true
     */
    function some(collection, predicate, guard) {
      var func = isArray(collection) ? arraySome : baseSome;
      if (guard && isIterateeCall(collection, predicate, guard)) {
        predicate = undefined;
      }
      return func(collection, getIteratee(predicate, 3));
    }

    /**
     * Creates an array of elements, sorted in ascending order by the results of
     * running each element in a collection thru each iteratee. This method
     * performs a stable sort, that is, it preserves the original sort order of
     * equal elements. The iteratees are invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {...(Function|Function[])} [iteratees=[_.identity]]
     *  The iteratees to sort by.
     * @returns {Array} Returns the new sorted array.
     * @example
     *
     * var users = [
     *   { 'user': 'fred',   'age': 48 },
     *   { 'user': 'barney', 'age': 36 },
     *   { 'user': 'fred',   'age': 30 },
     *   { 'user': 'barney', 'age': 34 }
     * ];
     *
     * _.sortBy(users, [function(o) { return o.user; }]);
     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]
     *
     * _.sortBy(users, ['user', 'age']);
     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]
     */
    var sortBy = baseRest(function(collection, iteratees) {
      if (collection == null) {
        return [];
      }
      var length = iteratees.length;
      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {
        iteratees = [];
      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {
        iteratees = [iteratees[0]];
      }
      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);
    });

    /*------------------------------------------------------------------------*/

    /**
     * Gets the timestamp of the number of milliseconds that have elapsed since
     * the Unix epoch (1 January 1970 00:00:00 UTC).
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Date
     * @returns {number} Returns the timestamp.
     * @example
     *
     * _.defer(function(stamp) {
     *   console.log(_.now() - stamp);
     * }, _.now());
     * // => Logs the number of milliseconds it took for the deferred invocation.
     */
    var now = ctxNow || function() {
      return root.Date.now();
    };

    /*------------------------------------------------------------------------*/

    /**
     * The opposite of `_.before`; this method creates a function that invokes
     * `func` once it's called `n` or more times.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {number} n The number of calls before `func` is invoked.
     * @param {Function} func The function to restrict.
     * @returns {Function} Returns the new restricted function.
     * @example
     *
     * var saves = ['profile', 'settings'];
     *
     * var done = _.after(saves.length, function() {
     *   console.log('done saving!');
     * });
     *
     * _.forEach(saves, function(type) {
     *   asyncSave({ 'type': type, 'complete': done });
     * });
     * // => Logs 'done saving!' after the two async saves have completed.
     */
    function after(n, func) {
      if (typeof func != 'function') {
        throw new TypeError(FUNC_ERROR_TEXT);
      }
      n = toInteger(n);
      return function() {
        if (--n < 1) {
          return func.apply(this, arguments);
        }
      };
    }

    /**
     * Creates a function that invokes `func`, with up to `n` arguments,
     * ignoring any additional arguments.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Function
     * @param {Function} func The function to cap arguments for.
     * @param {number} [n=func.length] The arity cap.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Function} Returns the new capped function.
     * @example
     *
     * _.map(['6', '8', '10'], _.ary(parseInt, 1));
     * // => [6, 8, 10]
     */
    function ary(func, n, guard) {
      n = guard ? undefined : n;
      n = (func && n == null) ? func.length : n;
      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);
    }

    /**
     * Creates a function that invokes `func`, with the `this` binding and arguments
     * of the created function, while it's called less than `n` times. Subsequent
     * calls to the created function return the result of the last `func` invocation.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Function
     * @param {number} n The number of calls at which `func` is no longer invoked.
     * @param {Function} func The function to restrict.
     * @returns {Function} Returns the new restricted function.
     * @example
     *
     * jQuery(element).on('click', _.before(5, addContactToList));
     * // => Allows adding up to 4 contacts to the list.
     */
    function before(n, func) {
      var result;
      if (typeof func != 'function') {
        throw new TypeError(FUNC_ERROR_TEXT);
      }
      n = toInteger(n);
      return function() {
        if (--n > 0) {
          result = func.apply(this, arguments);
        }
        if (n <= 1) {
          func = undefined;
        }
        return result;
      };
    }

    /**
     * Creates a function that invokes `func` with the `this` binding of `thisArg`
     * and `partials` prepended to the arguments it receives.
     *
     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,
     * may be used as a placeholder for partially applied arguments.
     *
     * **Note:** Unlike native `Function#bind`, this method doesn't set the "length"
     * property of bound functions.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to bind.
     * @param {*} thisArg The `this` binding of `func`.
     * @param {...*} [partials] The arguments to be partially applied.
     * @returns {Function} Returns the new bound function.
     * @example
     *
     * function greet(greeting, punctuation) {
     *   return greeting + ' ' + this.user + punctuation;
     * }
     *
     * var object = { 'user': 'fred' };
     *
     * var bound = _.bind(greet, object, 'hi');
     * bound('!');
     * // => 'hi fred!'
     *
     * // Bound with placeholders.
     * var bound = _.bind(greet, object, _, '!');
     * bound('hi');
     * // => 'hi fred!'
     */
    var bind = baseRest(function(func, thisArg, partials) {
      var bitmask = WRAP_BIND_FLAG;
      if (partials.length) {
        var holders = replaceHolders(partials, getHolder(bind));
        bitmask |= WRAP_PARTIAL_FLAG;
      }
      return createWrap(func, bitmask, thisArg, partials, holders);
    });

    /**
     * Creates a function that invokes the method at `object[key]` with `partials`
     * prepended to the arguments it receives.
     *
     * This method differs from `_.bind` by allowing bound functions to reference
     * methods that may be redefined or don't yet exist. See
     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)
     * for more details.
     *
     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic
     * builds, may be used as a placeholder for partially applied arguments.
     *
     * @static
     * @memberOf _
     * @since 0.10.0
     * @category Function
     * @param {Object} object The object to invoke the method on.
     * @param {string} key The key of the method.
     * @param {...*} [partials] The arguments to be partially applied.
     * @returns {Function} Returns the new bound function.
     * @example
     *
     * var object = {
     *   'user': 'fred',
     *   'greet': function(greeting, punctuation) {
     *     return greeting + ' ' + this.user + punctuation;
     *   }
     * };
     *
     * var bound = _.bindKey(object, 'greet', 'hi');
     * bound('!');
     * // => 'hi fred!'
     *
     * object.greet = function(greeting, punctuation) {
     *   return greeting + 'ya ' + this.user + punctuation;
     * };
     *
     * bound('!');
     * // => 'hiya fred!'
     *
     * // Bound with placeholders.
     * var bound = _.bindKey(object, 'greet', _, '!');
     * bound('hi');
     * // => 'hiya fred!'
     */
    var bindKey = baseRest(function(object, key, partials) {
      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;
      if (partials.length) {
        var holders = replaceHolders(partials, getHolder(bindKey));
        bitmask |= WRAP_PARTIAL_FLAG;
      }
      return createWrap(key, bitmask, object, partials, holders);
    });

    /**
     * Creates a function that accepts arguments of `func` and either invokes
     * `func` returning its result, if at least `arity` number of arguments have
     * been provided, or returns a function that accepts the remaining `func`
     * arguments, and so on. The arity of `func` may be specified if `func.length`
     * is not sufficient.
     *
     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,
     * may be used as a placeholder for provided arguments.
     *
     * **Note:** This method doesn't set the "length" property of curried functions.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Function
     * @param {Function} func The function to curry.
     * @param {number} [arity=func.length] The arity of `func`.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Function} Returns the new curried function.
     * @example
     *
     * var abc = function(a, b, c) {
     *   return [a, b, c];
     * };
     *
     * var curried = _.curry(abc);
     *
     * curried(1)(2)(3);
     * // => [1, 2, 3]
     *
     * curried(1, 2)(3);
     * // => [1, 2, 3]
     *
     * curried(1, 2, 3);
     * // => [1, 2, 3]
     *
     * // Curried with placeholders.
     * curried(1)(_, 3)(2);
     * // => [1, 2, 3]
     */
    function curry(func, arity, guard) {
      arity = guard ? undefined : arity;
      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);
      result.placeholder = curry.placeholder;
      return result;
    }

    /**
     * This method is like `_.curry` except that arguments are applied to `func`
     * in the manner of `_.partialRight` instead of `_.partial`.
     *
     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic
     * builds, may be used as a placeholder for provided arguments.
     *
     * **Note:** This method doesn't set the "length" property of curried functions.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Function
     * @param {Function} func The function to curry.
     * @param {number} [arity=func.length] The arity of `func`.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Function} Returns the new curried function.
     * @example
     *
     * var abc = function(a, b, c) {
     *   return [a, b, c];
     * };
     *
     * var curried = _.curryRight(abc);
     *
     * curried(3)(2)(1);
     * // => [1, 2, 3]
     *
     * curried(2, 3)(1);
     * // => [1, 2, 3]
     *
     * curried(1, 2, 3);
     * // => [1, 2, 3]
     *
     * // Curried with placeholders.
     * curried(3)(1, _)(2);
     * // => [1, 2, 3]
     */
    function curryRight(func, arity, guard) {
      arity = guard ? undefined : arity;
      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);
      result.placeholder = curryRight.placeholder;
      return result;
    }

    /**
     * Creates a debounced function that delays invoking `func` until after `wait`
     * milliseconds have elapsed since the last time the debounced function was
     * invoked. The debounced function comes with a `cancel` method to cancel
     * delayed `func` invocations and a `flush` method to immediately invoke them.
     * Provide `options` to indicate whether `func` should be invoked on the
     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
     * with the last arguments provided to the debounced function. Subsequent
     * calls to the debounced function return the result of the last `func`
     * invocation.
     *
     * **Note:** If `leading` and `trailing` options are `true`, `func` is
     * invoked on the trailing edge of the timeout only if the debounced function
     * is invoked more than once during the `wait` timeout.
     *
     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
     * until to the next tick, similar to `setTimeout` with a timeout of `0`.
     *
     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
     * for details over the differences between `_.debounce` and `_.throttle`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to debounce.
     * @param {number} [wait=0] The number of milliseconds to delay.
     * @param {Object} [options={}] The options object.
     * @param {boolean} [options.leading=false]
     *  Specify invoking on the leading edge of the timeout.
     * @param {number} [options.maxWait]
     *  The maximum time `func` is allowed to be delayed before it's invoked.
     * @param {boolean} [options.trailing=true]
     *  Specify invoking on the trailing edge of the timeout.
     * @returns {Function} Returns the new debounced function.
     * @example
     *
     * // Avoid costly calculations while the window size is in flux.
     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
     *
     * // Invoke `sendMail` when clicked, debouncing subsequent calls.
     * jQuery(element).on('click', _.debounce(sendMail, 300, {
     *   'leading': true,
     *   'trailing': false
     * }));
     *
     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
     * var source = new EventSource('/stream');
     * jQuery(source).on('message', debounced);
     *
     * // Cancel the trailing debounced invocation.
     * jQuery(window).on('popstate', debounced.cancel);
     */
    function debounce(func, wait, options) {
      var lastArgs,
          lastThis,
          maxWait,
          result,
          timerId,
          lastCallTime,
          lastInvokeTime = 0,
          leading = false,
          maxing = false,
          trailing = true;

      if (typeof func != 'function') {
        throw new TypeError(FUNC_ERROR_TEXT);
      }
      wait = toNumber(wait) || 0;
      if (isObject(options)) {
        leading = !!options.leading;
        maxing = 'maxWait' in options;
        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
        trailing = 'trailing' in options ? !!options.trailing : trailing;
      }

      function invokeFunc(time) {
        var args = lastArgs,
            thisArg = lastThis;

        lastArgs = lastThis = undefined;
        lastInvokeTime = time;
        result = func.apply(thisArg, args);
        return result;
      }

      function leadingEdge(time) {
        // Reset any `maxWait` timer.
        lastInvokeTime = time;
        // Start the timer for the trailing edge.
        timerId = setTimeout(timerExpired, wait);
        // Invoke the leading edge.
        return leading ? invokeFunc(time) : result;
      }

      function remainingWait(time) {
        var timeSinceLastCall = time - lastCallTime,
            timeSinceLastInvoke = time - lastInvokeTime,
            timeWaiting = wait - timeSinceLastCall;

        return maxing
          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)
          : timeWaiting;
      }

      function shouldInvoke(time) {
        var timeSinceLastCall = time - lastCallTime,
            timeSinceLastInvoke = time - lastInvokeTime;

        // Either this is the first call, activity has stopped and we're at the
        // trailing edge, the system time has gone backwards and we're treating
        // it as the trailing edge, or we've hit the `maxWait` limit.
        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
      }

      function timerExpired() {
        var time = now();
        if (shouldInvoke(time)) {
          return trailingEdge(time);
        }
        // Restart the timer.
        timerId = setTimeout(timerExpired, remainingWait(time));
      }

      function trailingEdge(time) {
        timerId = undefined;

        // Only invoke if we have `lastArgs` which means `func` has been
        // debounced at least once.
        if (trailing && lastArgs) {
          return invokeFunc(time);
        }
        lastArgs = lastThis = undefined;
        return result;
      }

      function cancel() {
        if (timerId !== undefined) {
          clearTimeout(timerId);
        }
        lastInvokeTime = 0;
        lastArgs = lastCallTime = lastThis = timerId = undefined;
      }

      function flush() {
        return timerId === undefined ? result : trailingEdge(now());
      }

      function debounced() {
        var time = now(),
            isInvoking = shouldInvoke(time);

        lastArgs = arguments;
        lastThis = this;
        lastCallTime = time;

        if (isInvoking) {
          if (timerId === undefined) {
            return leadingEdge(lastCallTime);
          }
          if (maxing) {
            // Handle invocations in a tight loop.
            clearTimeout(timerId);
            timerId = setTimeout(timerExpired, wait);
            return invokeFunc(lastCallTime);
          }
        }
        if (timerId === undefined) {
          timerId = setTimeout(timerExpired, wait);
        }
        return result;
      }
      debounced.cancel = cancel;
      debounced.flush = flush;
      return debounced;
    }

    /**
     * Defers invoking the `func` until the current call stack has cleared. Any
     * additional arguments are provided to `func` when it's invoked.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to defer.
     * @param {...*} [args] The arguments to invoke `func` with.
     * @returns {number} Returns the timer id.
     * @example
     *
     * _.defer(function(text) {
     *   console.log(text);
     * }, 'deferred');
     * // => Logs 'deferred' after one millisecond.
     */
    var defer = baseRest(function(func, args) {
      return baseDelay(func, 1, args);
    });

    /**
     * Invokes `func` after `wait` milliseconds. Any additional arguments are
     * provided to `func` when it's invoked.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to delay.
     * @param {number} wait The number of milliseconds to delay invocation.
     * @param {...*} [args] The arguments to invoke `func` with.
     * @returns {number} Returns the timer id.
     * @example
     *
     * _.delay(function(text) {
     *   console.log(text);
     * }, 1000, 'later');
     * // => Logs 'later' after one second.
     */
    var delay = baseRest(function(func, wait, args) {
      return baseDelay(func, toNumber(wait) || 0, args);
    });

    /**
     * Creates a function that invokes `func` with arguments reversed.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Function
     * @param {Function} func The function to flip arguments for.
     * @returns {Function} Returns the new flipped function.
     * @example
     *
     * var flipped = _.flip(function() {
     *   return _.toArray(arguments);
     * });
     *
     * flipped('a', 'b', 'c', 'd');
     * // => ['d', 'c', 'b', 'a']
     */
    function flip(func) {
      return createWrap(func, WRAP_FLIP_FLAG);
    }

    /**
     * Creates a function that memoizes the result of `func`. If `resolver` is
     * provided, it determines the cache key for storing the result based on the
     * arguments provided to the memoized function. By default, the first argument
     * provided to the memoized function is used as the map cache key. The `func`
     * is invoked with the `this` binding of the memoized function.
     *
     * **Note:** The cache is exposed as the `cache` property on the memoized
     * function. Its creation may be customized by replacing the `_.memoize.Cache`
     * constructor with one whose instances implement the
     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
     * method interface of `clear`, `delete`, `get`, `has`, and `set`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to have its output memoized.
     * @param {Function} [resolver] The function to resolve the cache key.
     * @returns {Function} Returns the new memoized function.
     * @example
     *
     * var object = { 'a': 1, 'b': 2 };
     * var other = { 'c': 3, 'd': 4 };
     *
     * var values = _.memoize(_.values);
     * values(object);
     * // => [1, 2]
     *
     * values(other);
     * // => [3, 4]
     *
     * object.a = 2;
     * values(object);
     * // => [1, 2]
     *
     * // Modify the result cache.
     * values.cache.set(object, ['a', 'b']);
     * values(object);
     * // => ['a', 'b']
     *
     * // Replace `_.memoize.Cache`.
     * _.memoize.Cache = WeakMap;
     */
    function memoize(func, resolver) {
      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {
        throw new TypeError(FUNC_ERROR_TEXT);
      }
      var memoized = function() {
        var args = arguments,
            key = resolver ? resolver.apply(this, args) : args[0],
            cache = memoized.cache;

        if (cache.has(key)) {
          return cache.get(key);
        }
        var result = func.apply(this, args);
        memoized.cache = cache.set(key, result) || cache;
        return result;
      };
      memoized.cache = new (memoize.Cache || MapCache);
      return memoized;
    }

    // Expose `MapCache`.
    memoize.Cache = MapCache;

    /**
     * Creates a function that negates the result of the predicate `func`. The
     * `func` predicate is invoked with the `this` binding and arguments of the
     * created function.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Function
     * @param {Function} predicate The predicate to negate.
     * @returns {Function} Returns the new negated function.
     * @example
     *
     * function isEven(n) {
     *   return n % 2 == 0;
     * }
     *
     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));
     * // => [1, 3, 5]
     */
    function negate(predicate) {
      if (typeof predicate != 'function') {
        throw new TypeError(FUNC_ERROR_TEXT);
      }
      return function() {
        var args = arguments;
        switch (args.length) {
          case 0: return !predicate.call(this);
          case 1: return !predicate.call(this, args[0]);
          case 2: return !predicate.call(this, args[0], args[1]);
          case 3: return !predicate.call(this, args[0], args[1], args[2]);
        }
        return !predicate.apply(this, args);
      };
    }

    /**
     * Creates a function that is restricted to invoking `func` once. Repeat calls
     * to the function return the value of the first invocation. The `func` is
     * invoked with the `this` binding and arguments of the created function.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to restrict.
     * @returns {Function} Returns the new restricted function.
     * @example
     *
     * var initialize = _.once(createApplication);
     * initialize();
     * initialize();
     * // => `createApplication` is invoked once
     */
    function once(func) {
      return before(2, func);
    }

    /**
     * Creates a function that invokes `func` with its arguments transformed.
     *
     * @static
     * @since 4.0.0
     * @memberOf _
     * @category Function
     * @param {Function} func The function to wrap.
     * @param {...(Function|Function[])} [transforms=[_.identity]]
     *  The argument transforms.
     * @returns {Function} Returns the new function.
     * @example
     *
     * function doubled(n) {
     *   return n * 2;
     * }
     *
     * function square(n) {
     *   return n * n;
     * }
     *
     * var func = _.overArgs(function(x, y) {
     *   return [x, y];
     * }, [square, doubled]);
     *
     * func(9, 3);
     * // => [81, 6]
     *
     * func(10, 5);
     * // => [100, 10]
     */
    var overArgs = castRest(function(func, transforms) {
      transforms = (transforms.length == 1 && isArray(transforms[0]))
        ? arrayMap(transforms[0], baseUnary(getIteratee()))
        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));

      var funcsLength = transforms.length;
      return baseRest(function(args) {
        var index = -1,
            length = nativeMin(args.length, funcsLength);

        while (++index < length) {
          args[index] = transforms[index].call(this, args[index]);
        }
        return apply(func, this, args);
      });
    });

    /**
     * Creates a function that invokes `func` with `partials` prepended to the
     * arguments it receives. This method is like `_.bind` except it does **not**
     * alter the `this` binding.
     *
     * The `_.partial.placeholder` value, which defaults to `_` in monolithic
     * builds, may be used as a placeholder for partially applied arguments.
     *
     * **Note:** This method doesn't set the "length" property of partially
     * applied functions.
     *
     * @static
     * @memberOf _
     * @since 0.2.0
     * @category Function
     * @param {Function} func The function to partially apply arguments to.
     * @param {...*} [partials] The arguments to be partially applied.
     * @returns {Function} Returns the new partially applied function.
     * @example
     *
     * function greet(greeting, name) {
     *   return greeting + ' ' + name;
     * }
     *
     * var sayHelloTo = _.partial(greet, 'hello');
     * sayHelloTo('fred');
     * // => 'hello fred'
     *
     * // Partially applied with placeholders.
     * var greetFred = _.partial(greet, _, 'fred');
     * greetFred('hi');
     * // => 'hi fred'
     */
    var partial = baseRest(function(func, partials) {
      var holders = replaceHolders(partials, getHolder(partial));
      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);
    });

    /**
     * This method is like `_.partial` except that partially applied arguments
     * are appended to the arguments it receives.
     *
     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic
     * builds, may be used as a placeholder for partially applied arguments.
     *
     * **Note:** This method doesn't set the "length" property of partially
     * applied functions.
     *
     * @static
     * @memberOf _
     * @since 1.0.0
     * @category Function
     * @param {Function} func The function to partially apply arguments to.
     * @param {...*} [partials] The arguments to be partially applied.
     * @returns {Function} Returns the new partially applied function.
     * @example
     *
     * function greet(greeting, name) {
     *   return greeting + ' ' + name;
     * }
     *
     * var greetFred = _.partialRight(greet, 'fred');
     * greetFred('hi');
     * // => 'hi fred'
     *
     * // Partially applied with placeholders.
     * var sayHelloTo = _.partialRight(greet, 'hello', _);
     * sayHelloTo('fred');
     * // => 'hello fred'
     */
    var partialRight = baseRest(function(func, partials) {
      var holders = replaceHolders(partials, getHolder(partialRight));
      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);
    });

    /**
     * Creates a function that invokes `func` with arguments arranged according
     * to the specified `indexes` where the argument value at the first index is
     * provided as the first argument, the argument value at the second index is
     * provided as the second argument, and so on.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Function
     * @param {Function} func The function to rearrange arguments for.
     * @param {...(number|number[])} indexes The arranged argument indexes.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var rearged = _.rearg(function(a, b, c) {
     *   return [a, b, c];
     * }, [2, 0, 1]);
     *
     * rearged('b', 'c', 'a')
     * // => ['a', 'b', 'c']
     */
    var rearg = flatRest(function(func, indexes) {
      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);
    });

    /**
     * Creates a function that invokes `func` with the `this` binding of the
     * created function and arguments from `start` and beyond provided as
     * an array.
     *
     * **Note:** This method is based on the
     * [rest parameter](https://mdn.io/rest_parameters).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Function
     * @param {Function} func The function to apply a rest parameter to.
     * @param {number} [start=func.length-1] The start position of the rest parameter.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var say = _.rest(function(what, names) {
     *   return what + ' ' + _.initial(names).join(', ') +
     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);
     * });
     *
     * say('hello', 'fred', 'barney', 'pebbles');
     * // => 'hello fred, barney, & pebbles'
     */
    function rest(func, start) {
      if (typeof func != 'function') {
        throw new TypeError(FUNC_ERROR_TEXT);
      }
      start = start === undefined ? start : toInteger(start);
      return baseRest(func, start);
    }

    /**
     * Creates a function that invokes `func` with the `this` binding of the
     * create function and an array of arguments much like
     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).
     *
     * **Note:** This method is based on the
     * [spread operator](https://mdn.io/spread_operator).
     *
     * @static
     * @memberOf _
     * @since 3.2.0
     * @category Function
     * @param {Function} func The function to spread arguments over.
     * @param {number} [start=0] The start position of the spread.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var say = _.spread(function(who, what) {
     *   return who + ' says ' + what;
     * });
     *
     * say(['fred', 'hello']);
     * // => 'fred says hello'
     *
     * var numbers = Promise.all([
     *   Promise.resolve(40),
     *   Promise.resolve(36)
     * ]);
     *
     * numbers.then(_.spread(function(x, y) {
     *   return x + y;
     * }));
     * // => a Promise of 76
     */
    function spread(func, start) {
      if (typeof func != 'function') {
        throw new TypeError(FUNC_ERROR_TEXT);
      }
      start = start == null ? 0 : nativeMax(toInteger(start), 0);
      return baseRest(function(args) {
        var array = args[start],
            otherArgs = castSlice(args, 0, start);

        if (array) {
          arrayPush(otherArgs, array);
        }
        return apply(func, this, otherArgs);
      });
    }

    /**
     * Creates a throttled function that only invokes `func` at most once per
     * every `wait` milliseconds. The throttled function comes with a `cancel`
     * method to cancel delayed `func` invocations and a `flush` method to
     * immediately invoke them. Provide `options` to indicate whether `func`
     * should be invoked on the leading and/or trailing edge of the `wait`
     * timeout. The `func` is invoked with the last arguments provided to the
     * throttled function. Subsequent calls to the throttled function return the
     * result of the last `func` invocation.
     *
     * **Note:** If `leading` and `trailing` options are `true`, `func` is
     * invoked on the trailing edge of the timeout only if the throttled function
     * is invoked more than once during the `wait` timeout.
     *
     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
     * until to the next tick, similar to `setTimeout` with a timeout of `0`.
     *
     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
     * for details over the differences between `_.throttle` and `_.debounce`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to throttle.
     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.
     * @param {Object} [options={}] The options object.
     * @param {boolean} [options.leading=true]
     *  Specify invoking on the leading edge of the timeout.
     * @param {boolean} [options.trailing=true]
     *  Specify invoking on the trailing edge of the timeout.
     * @returns {Function} Returns the new throttled function.
     * @example
     *
     * // Avoid excessively updating the position while scrolling.
     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));
     *
     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.
     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });
     * jQuery(element).on('click', throttled);
     *
     * // Cancel the trailing throttled invocation.
     * jQuery(window).on('popstate', throttled.cancel);
     */
    function throttle(func, wait, options) {
      var leading = true,
          trailing = true;

      if (typeof func != 'function') {
        throw new TypeError(FUNC_ERROR_TEXT);
      }
      if (isObject(options)) {
        leading = 'leading' in options ? !!options.leading : leading;
        trailing = 'trailing' in options ? !!options.trailing : trailing;
      }
      return debounce(func, wait, {
        'leading': leading,
        'maxWait': wait,
        'trailing': trailing
      });
    }

    /**
     * Creates a function that accepts up to one argument, ignoring any
     * additional arguments.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Function
     * @param {Function} func The function to cap arguments for.
     * @returns {Function} Returns the new capped function.
     * @example
     *
     * _.map(['6', '8', '10'], _.unary(parseInt));
     * // => [6, 8, 10]
     */
    function unary(func) {
      return ary(func, 1);
    }

    /**
     * Creates a function that provides `value` to `wrapper` as its first
     * argument. Any additional arguments provided to the function are appended
     * to those provided to the `wrapper`. The wrapper is invoked with the `this`
     * binding of the created function.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {*} value The value to wrap.
     * @param {Function} [wrapper=identity] The wrapper function.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var p = _.wrap(_.escape, function(func, text) {
     *   return '<p>' + func(text) + '</p>';
     * });
     *
     * p('fred, barney, & pebbles');
     * // => '<p>fred, barney, &amp; pebbles</p>'
     */
    function wrap(value, wrapper) {
      return partial(castFunction(wrapper), value);
    }

    /*------------------------------------------------------------------------*/

    /**
     * Casts `value` as an array if it's not one.
     *
     * @static
     * @memberOf _
     * @since 4.4.0
     * @category Lang
     * @param {*} value The value to inspect.
     * @returns {Array} Returns the cast array.
     * @example
     *
     * _.castArray(1);
     * // => [1]
     *
     * _.castArray({ 'a': 1 });
     * // => [{ 'a': 1 }]
     *
     * _.castArray('abc');
     * // => ['abc']
     *
     * _.castArray(null);
     * // => [null]
     *
     * _.castArray(undefined);
     * // => [undefined]
     *
     * _.castArray();
     * // => []
     *
     * var array = [1, 2, 3];
     * console.log(_.castArray(array) === array);
     * // => true
     */
    function castArray() {
      if (!arguments.length) {
        return [];
      }
      var value = arguments[0];
      return isArray(value) ? value : [value];
    }

    /**
     * Creates a shallow clone of `value`.
     *
     * **Note:** This method is loosely based on the
     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)
     * and supports cloning arrays, array buffers, booleans, date objects, maps,
     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed
     * arrays. The own enumerable properties of `arguments` objects are cloned
     * as plain objects. An empty object is returned for uncloneable values such
     * as error objects, functions, DOM nodes, and WeakMaps.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to clone.
     * @returns {*} Returns the cloned value.
     * @see _.cloneDeep
     * @example
     *
     * var objects = [{ 'a': 1 }, { 'b': 2 }];
     *
     * var shallow = _.clone(objects);
     * console.log(shallow[0] === objects[0]);
     * // => true
     */
    function clone(value) {
      return baseClone(value, CLONE_SYMBOLS_FLAG);
    }

    /**
     * This method is like `_.clone` except that it accepts `customizer` which
     * is invoked to produce the cloned value. If `customizer` returns `undefined`,
     * cloning is handled by the method instead. The `customizer` is invoked with
     * up to four arguments; (value [, index|key, object, stack]).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to clone.
     * @param {Function} [customizer] The function to customize cloning.
     * @returns {*} Returns the cloned value.
     * @see _.cloneDeepWith
     * @example
     *
     * function customizer(value) {
     *   if (_.isElement(value)) {
     *     return value.cloneNode(false);
     *   }
     * }
     *
     * var el = _.cloneWith(document.body, customizer);
     *
     * console.log(el === document.body);
     * // => false
     * console.log(el.nodeName);
     * // => 'BODY'
     * console.log(el.childNodes.length);
     * // => 0
     */
    function cloneWith(value, customizer) {
      customizer = typeof customizer == 'function' ? customizer : undefined;
      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);
    }

    /**
     * This method is like `_.clone` except that it recursively clones `value`.
     *
     * @static
     * @memberOf _
     * @since 1.0.0
     * @category Lang
     * @param {*} value The value to recursively clone.
     * @returns {*} Returns the deep cloned value.
     * @see _.clone
     * @example
     *
     * var objects = [{ 'a': 1 }, { 'b': 2 }];
     *
     * var deep = _.cloneDeep(objects);
     * console.log(deep[0] === objects[0]);
     * // => false
     */
    function cloneDeep(value) {
      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);
    }

    /**
     * This method is like `_.cloneWith` except that it recursively clones `value`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to recursively clone.
     * @param {Function} [customizer] The function to customize cloning.
     * @returns {*} Returns the deep cloned value.
     * @see _.cloneWith
     * @example
     *
     * function customizer(value) {
     *   if (_.isElement(value)) {
     *     return value.cloneNode(true);
     *   }
     * }
     *
     * var el = _.cloneDeepWith(document.body, customizer);
     *
     * console.log(el === document.body);
     * // => false
     * console.log(el.nodeName);
     * // => 'BODY'
     * console.log(el.childNodes.length);
     * // => 20
     */
    function cloneDeepWith(value, customizer) {
      customizer = typeof customizer == 'function' ? customizer : undefined;
      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);
    }

    /**
     * Checks if `object` conforms to `source` by invoking the predicate
     * properties of `source` with the corresponding property values of `object`.
     *
     * **Note:** This method is equivalent to `_.conforms` when `source` is
     * partially applied.
     *
     * @static
     * @memberOf _
     * @since 4.14.0
     * @category Lang
     * @param {Object} object The object to inspect.
     * @param {Object} source The object of property predicates to conform to.
     * @returns {boolean} Returns `true` if `object` conforms, else `false`.
     * @example
     *
     * var object = { 'a': 1, 'b': 2 };
     *
     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });
     * // => true
     *
     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });
     * // => false
     */
    function conformsTo(object, source) {
      return source == null || baseConformsTo(object, source, keys(source));
    }

    /**
     * Performs a
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * comparison between two values to determine if they are equivalent.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     * @example
     *
     * var object = { 'a': 1 };
     * var other = { 'a': 1 };
     *
     * _.eq(object, object);
     * // => true
     *
     * _.eq(object, other);
     * // => false
     *
     * _.eq('a', 'a');
     * // => true
     *
     * _.eq('a', Object('a'));
     * // => false
     *
     * _.eq(NaN, NaN);
     * // => true
     */
    function eq(value, other) {
      return value === other || (value !== value && other !== other);
    }

    /**
     * Checks if `value` is greater than `other`.
     *
     * @static
     * @memberOf _
     * @since 3.9.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if `value` is greater than `other`,
     *  else `false`.
     * @see _.lt
     * @example
     *
     * _.gt(3, 1);
     * // => true
     *
     * _.gt(3, 3);
     * // => false
     *
     * _.gt(1, 3);
     * // => false
     */
    var gt = createRelationalOperation(baseGt);

    /**
     * Checks if `value` is greater than or equal to `other`.
     *
     * @static
     * @memberOf _
     * @since 3.9.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if `value` is greater than or equal to
     *  `other`, else `false`.
     * @see _.lte
     * @example
     *
     * _.gte(3, 1);
     * // => true
     *
     * _.gte(3, 3);
     * // => true
     *
     * _.gte(1, 3);
     * // => false
     */
    var gte = createRelationalOperation(function(value, other) {
      return value >= other;
    });

    /**
     * Checks if `value` is likely an `arguments` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an `arguments` object,
     *  else `false`.
     * @example
     *
     * _.isArguments(function() { return arguments; }());
     * // => true
     *
     * _.isArguments([1, 2, 3]);
     * // => false
     */
    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {
      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&
        !propertyIsEnumerable.call(value, 'callee');
    };

    /**
     * Checks if `value` is classified as an `Array` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an array, else `false`.
     * @example
     *
     * _.isArray([1, 2, 3]);
     * // => true
     *
     * _.isArray(document.body.children);
     * // => false
     *
     * _.isArray('abc');
     * // => false
     *
     * _.isArray(_.noop);
     * // => false
     */
    var isArray = Array.isArray;

    /**
     * Checks if `value` is classified as an `ArrayBuffer` object.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.
     * @example
     *
     * _.isArrayBuffer(new ArrayBuffer(2));
     * // => true
     *
     * _.isArrayBuffer(new Array(2));
     * // => false
     */
    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;

    /**
     * Checks if `value` is array-like. A value is considered array-like if it's
     * not a function and has a `value.length` that's an integer greater than or
     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
     * @example
     *
     * _.isArrayLike([1, 2, 3]);
     * // => true
     *
     * _.isArrayLike(document.body.children);
     * // => true
     *
     * _.isArrayLike('abc');
     * // => true
     *
     * _.isArrayLike(_.noop);
     * // => false
     */
    function isArrayLike(value) {
      return value != null && isLength(value.length) && !isFunction(value);
    }

    /**
     * This method is like `_.isArrayLike` except that it also checks if `value`
     * is an object.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an array-like object,
     *  else `false`.
     * @example
     *
     * _.isArrayLikeObject([1, 2, 3]);
     * // => true
     *
     * _.isArrayLikeObject(document.body.children);
     * // => true
     *
     * _.isArrayLikeObject('abc');
     * // => false
     *
     * _.isArrayLikeObject(_.noop);
     * // => false
     */
    function isArrayLikeObject(value) {
      return isObjectLike(value) && isArrayLike(value);
    }

    /**
     * Checks if `value` is classified as a boolean primitive or object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.
     * @example
     *
     * _.isBoolean(false);
     * // => true
     *
     * _.isBoolean(null);
     * // => false
     */
    function isBoolean(value) {
      return value === true || value === false ||
        (isObjectLike(value) && baseGetTag(value) == boolTag);
    }

    /**
     * Checks if `value` is a buffer.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
     * @example
     *
     * _.isBuffer(new Buffer(2));
     * // => true
     *
     * _.isBuffer(new Uint8Array(2));
     * // => false
     */
    var isBuffer = nativeIsBuffer || stubFalse;

    /**
     * Checks if `value` is classified as a `Date` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.
     * @example
     *
     * _.isDate(new Date);
     * // => true
     *
     * _.isDate('Mon April 23 2012');
     * // => false
     */
    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;

    /**
     * Checks if `value` is likely a DOM element.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.
     * @example
     *
     * _.isElement(document.body);
     * // => true
     *
     * _.isElement('<body>');
     * // => false
     */
    function isElement(value) {
      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);
    }

    /**
     * Checks if `value` is an empty object, collection, map, or set.
     *
     * Objects are considered empty if they have no own enumerable string keyed
     * properties.
     *
     * Array-like values such as `arguments` objects, arrays, buffers, strings, or
     * jQuery-like collections are considered empty if they have a `length` of `0`.
     * Similarly, maps and sets are considered empty if they have a `size` of `0`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is empty, else `false`.
     * @example
     *
     * _.isEmpty(null);
     * // => true
     *
     * _.isEmpty(true);
     * // => true
     *
     * _.isEmpty(1);
     * // => true
     *
     * _.isEmpty([1, 2, 3]);
     * // => false
     *
     * _.isEmpty({ 'a': 1 });
     * // => false
     */
    function isEmpty(value) {
      if (value == null) {
        return true;
      }
      if (isArrayLike(value) &&
          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||
            isBuffer(value) || isTypedArray(value) || isArguments(value))) {
        return !value.length;
      }
      var tag = getTag(value);
      if (tag == mapTag || tag == setTag) {
        return !value.size;
      }
      if (isPrototype(value)) {
        return !baseKeys(value).length;
      }
      for (var key in value) {
        if (hasOwnProperty.call(value, key)) {
          return false;
        }
      }
      return true;
    }

    /**
     * Performs a deep comparison between two values to determine if they are
     * equivalent.
     *
     * **Note:** This method supports comparing arrays, array buffers, booleans,
     * date objects, error objects, maps, numbers, `Object` objects, regexes,
     * sets, strings, symbols, and typed arrays. `Object` objects are compared
     * by their own, not inherited, enumerable properties. Functions and DOM
     * nodes are compared by strict equality, i.e. `===`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     * @example
     *
     * var object = { 'a': 1 };
     * var other = { 'a': 1 };
     *
     * _.isEqual(object, other);
     * // => true
     *
     * object === other;
     * // => false
     */
    function isEqual(value, other) {
      return baseIsEqual(value, other);
    }

    /**
     * This method is like `_.isEqual` except that it accepts `customizer` which
     * is invoked to compare values. If `customizer` returns `undefined`, comparisons
     * are handled by the method instead. The `customizer` is invoked with up to
     * six arguments: (objValue, othValue [, index|key, object, other, stack]).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @param {Function} [customizer] The function to customize comparisons.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     * @example
     *
     * function isGreeting(value) {
     *   return /^h(?:i|ello)$/.test(value);
     * }
     *
     * function customizer(objValue, othValue) {
     *   if (isGreeting(objValue) && isGreeting(othValue)) {
     *     return true;
     *   }
     * }
     *
     * var array = ['hello', 'goodbye'];
     * var other = ['hi', 'goodbye'];
     *
     * _.isEqualWith(array, other, customizer);
     * // => true
     */
    function isEqualWith(value, other, customizer) {
      customizer = typeof customizer == 'function' ? customizer : undefined;
      var result = customizer ? customizer(value, other) : undefined;
      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;
    }

    /**
     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,
     * `SyntaxError`, `TypeError`, or `URIError` object.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.
     * @example
     *
     * _.isError(new Error);
     * // => true
     *
     * _.isError(Error);
     * // => false
     */
    function isError(value) {
      if (!isObjectLike(value)) {
        return false;
      }
      var tag = baseGetTag(value);
      return tag == errorTag || tag == domExcTag ||
        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));
    }

    /**
     * Checks if `value` is a finite primitive number.
     *
     * **Note:** This method is based on
     * [`Number.isFinite`](https://mdn.io/Number/isFinite).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.
     * @example
     *
     * _.isFinite(3);
     * // => true
     *
     * _.isFinite(Number.MIN_VALUE);
     * // => true
     *
     * _.isFinite(Infinity);
     * // => false
     *
     * _.isFinite('3');
     * // => false
     */
    function isFinite(value) {
      return typeof value == 'number' && nativeIsFinite(value);
    }

    /**
     * Checks if `value` is classified as a `Function` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a function, else `false`.
     * @example
     *
     * _.isFunction(_);
     * // => true
     *
     * _.isFunction(/abc/);
     * // => false
     */
    function isFunction(value) {
      if (!isObject(value)) {
        return false;
      }
      // The use of `Object#toString` avoids issues with the `typeof` operator
      // in Safari 9 which returns 'object' for typed arrays and other constructors.
      var tag = baseGetTag(value);
      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
    }

    /**
     * Checks if `value` is an integer.
     *
     * **Note:** This method is based on
     * [`Number.isInteger`](https://mdn.io/Number/isInteger).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.
     * @example
     *
     * _.isInteger(3);
     * // => true
     *
     * _.isInteger(Number.MIN_VALUE);
     * // => false
     *
     * _.isInteger(Infinity);
     * // => false
     *
     * _.isInteger('3');
     * // => false
     */
    function isInteger(value) {
      return typeof value == 'number' && value == toInteger(value);
    }

    /**
     * Checks if `value` is a valid array-like length.
     *
     * **Note:** This method is loosely based on
     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
     * @example
     *
     * _.isLength(3);
     * // => true
     *
     * _.isLength(Number.MIN_VALUE);
     * // => false
     *
     * _.isLength(Infinity);
     * // => false
     *
     * _.isLength('3');
     * // => false
     */
    function isLength(value) {
      return typeof value == 'number' &&
        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
    }

    /**
     * Checks if `value` is the
     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an object, else `false`.
     * @example
     *
     * _.isObject({});
     * // => true
     *
     * _.isObject([1, 2, 3]);
     * // => true
     *
     * _.isObject(_.noop);
     * // => true
     *
     * _.isObject(null);
     * // => false
     */
    function isObject(value) {
      var type = typeof value;
      return value != null && (type == 'object' || type == 'function');
    }

    /**
     * Checks if `value` is object-like. A value is object-like if it's not `null`
     * and has a `typeof` result of "object".
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
     * @example
     *
     * _.isObjectLike({});
     * // => true
     *
     * _.isObjectLike([1, 2, 3]);
     * // => true
     *
     * _.isObjectLike(_.noop);
     * // => false
     *
     * _.isObjectLike(null);
     * // => false
     */
    function isObjectLike(value) {
      return value != null && typeof value == 'object';
    }

    /**
     * Checks if `value` is classified as a `Map` object.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a map, else `false`.
     * @example
     *
     * _.isMap(new Map);
     * // => true
     *
     * _.isMap(new WeakMap);
     * // => false
     */
    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;

    /**
     * Performs a partial deep comparison between `object` and `source` to
     * determine if `object` contains equivalent property values.
     *
     * **Note:** This method is equivalent to `_.matches` when `source` is
     * partially applied.
     *
     * Partial comparisons will match empty array and empty object `source`
     * values against any array or object value, respectively. See `_.isEqual`
     * for a list of supported value comparisons.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Lang
     * @param {Object} object The object to inspect.
     * @param {Object} source The object of property values to match.
     * @returns {boolean} Returns `true` if `object` is a match, else `false`.
     * @example
     *
     * var object = { 'a': 1, 'b': 2 };
     *
     * _.isMatch(object, { 'b': 2 });
     * // => true
     *
     * _.isMatch(object, { 'b': 1 });
     * // => false
     */
    function isMatch(object, source) {
      return object === source || baseIsMatch(object, source, getMatchData(source));
    }

    /**
     * This method is like `_.isMatch` except that it accepts `customizer` which
     * is invoked to compare values. If `customizer` returns `undefined`, comparisons
     * are handled by the method instead. The `customizer` is invoked with five
     * arguments: (objValue, srcValue, index|key, object, source).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {Object} object The object to inspect.
     * @param {Object} source The object of property values to match.
     * @param {Function} [customizer] The function to customize comparisons.
     * @returns {boolean} Returns `true` if `object` is a match, else `false`.
     * @example
     *
     * function isGreeting(value) {
     *   return /^h(?:i|ello)$/.test(value);
     * }
     *
     * function customizer(objValue, srcValue) {
     *   if (isGreeting(objValue) && isGreeting(srcValue)) {
     *     return true;
     *   }
     * }
     *
     * var object = { 'greeting': 'hello' };
     * var source = { 'greeting': 'hi' };
     *
     * _.isMatchWith(object, source, customizer);
     * // => true
     */
    function isMatchWith(object, source, customizer) {
      customizer = typeof customizer == 'function' ? customizer : undefined;
      return baseIsMatch(object, source, getMatchData(source), customizer);
    }

    /**
     * Checks if `value` is `NaN`.
     *
     * **Note:** This method is based on
     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as
     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for
     * `undefined` and other non-number values.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.
     * @example
     *
     * _.isNaN(NaN);
     * // => true
     *
     * _.isNaN(new Number(NaN));
     * // => true
     *
     * isNaN(undefined);
     * // => true
     *
     * _.isNaN(undefined);
     * // => false
     */
    function isNaN(value) {
      // An `NaN` primitive is the only value that is not equal to itself.
      // Perform the `toStringTag` check first to avoid errors with some
      // ActiveX objects in IE.
      return isNumber(value) && value != +value;
    }

    /**
     * Checks if `value` is a pristine native function.
     *
     * **Note:** This method can't reliably detect native functions in the presence
     * of the core-js package because core-js circumvents this kind of detection.
     * Despite multiple requests, the core-js maintainer has made it clear: any
     * attempt to fix the detection will be obstructed. As a result, we're left
     * with little choice but to throw an error. Unfortunately, this also affects
     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),
     * which rely on core-js.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a native function,
     *  else `false`.
     * @example
     *
     * _.isNative(Array.prototype.push);
     * // => true
     *
     * _.isNative(_);
     * // => false
     */
    function isNative(value) {
      if (isMaskable(value)) {
        throw new Error(CORE_ERROR_TEXT);
      }
      return baseIsNative(value);
    }

    /**
     * Checks if `value` is `null`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.
     * @example
     *
     * _.isNull(null);
     * // => true
     *
     * _.isNull(void 0);
     * // => false
     */
    function isNull(value) {
      return value === null;
    }

    /**
     * Checks if `value` is `null` or `undefined`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.
     * @example
     *
     * _.isNil(null);
     * // => true
     *
     * _.isNil(void 0);
     * // => true
     *
     * _.isNil(NaN);
     * // => false
     */
    function isNil(value) {
      return value == null;
    }

    /**
     * Checks if `value` is classified as a `Number` primitive or object.
     *
     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are
     * classified as numbers, use the `_.isFinite` method.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a number, else `false`.
     * @example
     *
     * _.isNumber(3);
     * // => true
     *
     * _.isNumber(Number.MIN_VALUE);
     * // => true
     *
     * _.isNumber(Infinity);
     * // => true
     *
     * _.isNumber('3');
     * // => false
     */
    function isNumber(value) {
      return typeof value == 'number' ||
        (isObjectLike(value) && baseGetTag(value) == numberTag);
    }

    /**
     * Checks if `value` is a plain object, that is, an object created by the
     * `Object` constructor or one with a `[[Prototype]]` of `null`.
     *
     * @static
     * @memberOf _
     * @since 0.8.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     * }
     *
     * _.isPlainObject(new Foo);
     * // => false
     *
     * _.isPlainObject([1, 2, 3]);
     * // => false
     *
     * _.isPlainObject({ 'x': 0, 'y': 0 });
     * // => true
     *
     * _.isPlainObject(Object.create(null));
     * // => true
     */
    function isPlainObject(value) {
      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {
        return false;
      }
      var proto = getPrototype(value);
      if (proto === null) {
        return true;
      }
      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;
      return typeof Ctor == 'function' && Ctor instanceof Ctor &&
        funcToString.call(Ctor) == objectCtorString;
    }

    /**
     * Checks if `value` is classified as a `RegExp` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.
     * @example
     *
     * _.isRegExp(/abc/);
     * // => true
     *
     * _.isRegExp('/abc/');
     * // => false
     */
    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;

    /**
     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754
     * double precision number which isn't the result of a rounded unsafe integer.
     *
     * **Note:** This method is based on
     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.
     * @example
     *
     * _.isSafeInteger(3);
     * // => true
     *
     * _.isSafeInteger(Number.MIN_VALUE);
     * // => false
     *
     * _.isSafeInteger(Infinity);
     * // => false
     *
     * _.isSafeInteger('3');
     * // => false
     */
    function isSafeInteger(value) {
      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;
    }

    /**
     * Checks if `value` is classified as a `Set` object.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a set, else `false`.
     * @example
     *
     * _.isSet(new Set);
     * // => true
     *
     * _.isSet(new WeakSet);
     * // => false
     */
    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;

    /**
     * Checks if `value` is classified as a `String` primitive or object.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a string, else `false`.
     * @example
     *
     * _.isString('abc');
     * // => true
     *
     * _.isString(1);
     * // => false
     */
    function isString(value) {
      return typeof value == 'string' ||
        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);
    }

    /**
     * Checks if `value` is classified as a `Symbol` primitive or object.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
     * @example
     *
     * _.isSymbol(Symbol.iterator);
     * // => true
     *
     * _.isSymbol('abc');
     * // => false
     */
    function isSymbol(value) {
      return typeof value == 'symbol' ||
        (isObjectLike(value) && baseGetTag(value) == symbolTag);
    }

    /**
     * Checks if `value` is classified as a typed array.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
     * @example
     *
     * _.isTypedArray(new Uint8Array);
     * // => true
     *
     * _.isTypedArray([]);
     * // => false
     */
    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;

    /**
     * Checks if `value` is `undefined`.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.
     * @example
     *
     * _.isUndefined(void 0);
     * // => true
     *
     * _.isUndefined(null);
     * // => false
     */
    function isUndefined(value) {
      return value === undefined;
    }

    /**
     * Checks if `value` is classified as a `WeakMap` object.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.
     * @example
     *
     * _.isWeakMap(new WeakMap);
     * // => true
     *
     * _.isWeakMap(new Map);
     * // => false
     */
    function isWeakMap(value) {
      return isObjectLike(value) && getTag(value) == weakMapTag;
    }

    /**
     * Checks if `value` is classified as a `WeakSet` object.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.
     * @example
     *
     * _.isWeakSet(new WeakSet);
     * // => true
     *
     * _.isWeakSet(new Set);
     * // => false
     */
    function isWeakSet(value) {
      return isObjectLike(value) && baseGetTag(value) == weakSetTag;
    }

    /**
     * Checks if `value` is less than `other`.
     *
     * @static
     * @memberOf _
     * @since 3.9.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if `value` is less than `other`,
     *  else `false`.
     * @see _.gt
     * @example
     *
     * _.lt(1, 3);
     * // => true
     *
     * _.lt(3, 3);
     * // => false
     *
     * _.lt(3, 1);
     * // => false
     */
    var lt = createRelationalOperation(baseLt);

    /**
     * Checks if `value` is less than or equal to `other`.
     *
     * @static
     * @memberOf _
     * @since 3.9.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if `value` is less than or equal to
     *  `other`, else `false`.
     * @see _.gte
     * @example
     *
     * _.lte(1, 3);
     * // => true
     *
     * _.lte(3, 3);
     * // => true
     *
     * _.lte(3, 1);
     * // => false
     */
    var lte = createRelationalOperation(function(value, other) {
      return value <= other;
    });

    /**
     * Converts `value` to an array.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {Array} Returns the converted array.
     * @example
     *
     * _.toArray({ 'a': 1, 'b': 2 });
     * // => [1, 2]
     *
     * _.toArray('abc');
     * // => ['a', 'b', 'c']
     *
     * _.toArray(1);
     * // => []
     *
     * _.toArray(null);
     * // => []
     */
    function toArray(value) {
      if (!value) {
        return [];
      }
      if (isArrayLike(value)) {
        return isString(value) ? stringToArray(value) : copyArray(value);
      }
      if (symIterator && value[symIterator]) {
        return iteratorToArray(value[symIterator]());
      }
      var tag = getTag(value),
          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);

      return func(value);
    }

    /**
     * Converts `value` to a finite number.
     *
     * @static
     * @memberOf _
     * @since 4.12.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {number} Returns the converted number.
     * @example
     *
     * _.toFinite(3.2);
     * // => 3.2
     *
     * _.toFinite(Number.MIN_VALUE);
     * // => 5e-324
     *
     * _.toFinite(Infinity);
     * // => 1.7976931348623157e+308
     *
     * _.toFinite('3.2');
     * // => 3.2
     */
    function toFinite(value) {
      if (!value) {
        return value === 0 ? value : 0;
      }
      value = toNumber(value);
      if (value === INFINITY || value === -INFINITY) {
        var sign = (value < 0 ? -1 : 1);
        return sign * MAX_INTEGER;
      }
      return value === value ? value : 0;
    }

    /**
     * Converts `value` to an integer.
     *
     * **Note:** This method is loosely based on
     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {number} Returns the converted integer.
     * @example
     *
     * _.toInteger(3.2);
     * // => 3
     *
     * _.toInteger(Number.MIN_VALUE);
     * // => 0
     *
     * _.toInteger(Infinity);
     * // => 1.7976931348623157e+308
     *
     * _.toInteger('3.2');
     * // => 3
     */
    function toInteger(value) {
      var result = toFinite(value),
          remainder = result % 1;

      return result === result ? (remainder ? result - remainder : result) : 0;
    }

    /**
     * Converts `value` to an integer suitable for use as the length of an
     * array-like object.
     *
     * **Note:** This method is based on
     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {number} Returns the converted integer.
     * @example
     *
     * _.toLength(3.2);
     * // => 3
     *
     * _.toLength(Number.MIN_VALUE);
     * // => 0
     *
     * _.toLength(Infinity);
     * // => 4294967295
     *
     * _.toLength('3.2');
     * // => 3
     */
    function toLength(value) {
      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;
    }

    /**
     * Converts `value` to a number.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to process.
     * @returns {number} Returns the number.
     * @example
     *
     * _.toNumber(3.2);
     * // => 3.2
     *
     * _.toNumber(Number.MIN_VALUE);
     * // => 5e-324
     *
     * _.toNumber(Infinity);
     * // => Infinity
     *
     * _.toNumber('3.2');
     * // => 3.2
     */
    function toNumber(value) {
      if (typeof value == 'number') {
        return value;
      }
      if (isSymbol(value)) {
        return NAN;
      }
      if (isObject(value)) {
        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
        value = isObject(other) ? (other + '') : other;
      }
      if (typeof value != 'string') {
        return value === 0 ? value : +value;
      }
      value = baseTrim(value);
      var isBinary = reIsBinary.test(value);
      return (isBinary || reIsOctal.test(value))
        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
        : (reIsBadHex.test(value) ? NAN : +value);
    }

    /**
     * Converts `value` to a plain object flattening inherited enumerable string
     * keyed properties of `value` to own properties of the plain object.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {Object} Returns the converted plain object.
     * @example
     *
     * function Foo() {
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.assign({ 'a': 1 }, new Foo);
     * // => { 'a': 1, 'b': 2 }
     *
     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));
     * // => { 'a': 1, 'b': 2, 'c': 3 }
     */
    function toPlainObject(value) {
      return copyObject(value, keysIn(value));
    }

    /**
     * Converts `value` to a safe integer. A safe integer can be compared and
     * represented correctly.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {number} Returns the converted integer.
     * @example
     *
     * _.toSafeInteger(3.2);
     * // => 3
     *
     * _.toSafeInteger(Number.MIN_VALUE);
     * // => 0
     *
     * _.toSafeInteger(Infinity);
     * // => 9007199254740991
     *
     * _.toSafeInteger('3.2');
     * // => 3
     */
    function toSafeInteger(value) {
      return value
        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)
        : (value === 0 ? value : 0);
    }

    /**
     * Converts `value` to a string. An empty string is returned for `null`
     * and `undefined` values. The sign of `-0` is preserved.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {string} Returns the converted string.
     * @example
     *
     * _.toString(null);
     * // => ''
     *
     * _.toString(-0);
     * // => '-0'
     *
     * _.toString([1, 2, 3]);
     * // => '1,2,3'
     */
    function toString(value) {
      return value == null ? '' : baseToString(value);
    }

    /*------------------------------------------------------------------------*/

    /**
     * Assigns own enumerable string keyed properties of source objects to the
     * destination object. Source objects are applied from left to right.
     * Subsequent sources overwrite property assignments of previous sources.
     *
     * **Note:** This method mutates `object` and is loosely based on
     * [`Object.assign`](https://mdn.io/Object/assign).
     *
     * @static
     * @memberOf _
     * @since 0.10.0
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} [sources] The source objects.
     * @returns {Object} Returns `object`.
     * @see _.assignIn
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     * }
     *
     * function Bar() {
     *   this.c = 3;
     * }
     *
     * Foo.prototype.b = 2;
     * Bar.prototype.d = 4;
     *
     * _.assign({ 'a': 0 }, new Foo, new Bar);
     * // => { 'a': 1, 'c': 3 }
     */
    var assign = createAssigner(function(object, source) {
      if (isPrototype(source) || isArrayLike(source)) {
        copyObject(source, keys(source), object);
        return;
      }
      for (var key in source) {
        if (hasOwnProperty.call(source, key)) {
          assignValue(object, key, source[key]);
        }
      }
    });

    /**
     * This method is like `_.assign` except that it iterates over own and
     * inherited source properties.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @alias extend
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} [sources] The source objects.
     * @returns {Object} Returns `object`.
     * @see _.assign
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     * }
     *
     * function Bar() {
     *   this.c = 3;
     * }
     *
     * Foo.prototype.b = 2;
     * Bar.prototype.d = 4;
     *
     * _.assignIn({ 'a': 0 }, new Foo, new Bar);
     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }
     */
    var assignIn = createAssigner(function(object, source) {
      copyObject(source, keysIn(source), object);
    });

    /**
     * This method is like `_.assignIn` except that it accepts `customizer`
     * which is invoked to produce the assigned values. If `customizer` returns
     * `undefined`, assignment is handled by the method instead. The `customizer`
     * is invoked with five arguments: (objValue, srcValue, key, object, source).
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @alias extendWith
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} sources The source objects.
     * @param {Function} [customizer] The function to customize assigned values.
     * @returns {Object} Returns `object`.
     * @see _.assignWith
     * @example
     *
     * function customizer(objValue, srcValue) {
     *   return _.isUndefined(objValue) ? srcValue : objValue;
     * }
     *
     * var defaults = _.partialRight(_.assignInWith, customizer);
     *
     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });
     * // => { 'a': 1, 'b': 2 }
     */
    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {
      copyObject(source, keysIn(source), object, customizer);
    });

    /**
     * This method is like `_.assign` except that it accepts `customizer`
     * which is invoked to produce the assigned values. If `customizer` returns
     * `undefined`, assignment is handled by the method instead. The `customizer`
     * is invoked with five arguments: (objValue, srcValue, key, object, source).
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} sources The source objects.
     * @param {Function} [customizer] The function to customize assigned values.
     * @returns {Object} Returns `object`.
     * @see _.assignInWith
     * @example
     *
     * function customizer(objValue, srcValue) {
     *   return _.isUndefined(objValue) ? srcValue : objValue;
     * }
     *
     * var defaults = _.partialRight(_.assignWith, customizer);
     *
     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });
     * // => { 'a': 1, 'b': 2 }
     */
    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {
      copyObject(source, keys(source), object, customizer);
    });

    /**
     * Creates an array of values corresponding to `paths` of `object`.
     *
     * @static
     * @memberOf _
     * @since 1.0.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {...(string|string[])} [paths] The property paths to pick.
     * @returns {Array} Returns the picked values.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };
     *
     * _.at(object, ['a[0].b.c', 'a[1]']);
     * // => [3, 4]
     */
    var at = flatRest(baseAt);

    /**
     * Creates an object that inherits from the `prototype` object. If a
     * `properties` object is given, its own enumerable string keyed properties
     * are assigned to the created object.
     *
     * @static
     * @memberOf _
     * @since 2.3.0
     * @category Object
     * @param {Object} prototype The object to inherit from.
     * @param {Object} [properties] The properties to assign to the object.
     * @returns {Object} Returns the new object.
     * @example
     *
     * function Shape() {
     *   this.x = 0;
     *   this.y = 0;
     * }
     *
     * function Circle() {
     *   Shape.call(this);
     * }
     *
     * Circle.prototype = _.create(Shape.prototype, {
     *   'constructor': Circle
     * });
     *
     * var circle = new Circle;
     * circle instanceof Circle;
     * // => true
     *
     * circle instanceof Shape;
     * // => true
     */
    function create(prototype, properties) {
      var result = baseCreate(prototype);
      return properties == null ? result : baseAssign(result, properties);
    }

    /**
     * Assigns own and inherited enumerable string keyed properties of source
     * objects to the destination object for all destination properties that
     * resolve to `undefined`. Source objects are applied from left to right.
     * Once a property is set, additional values of the same property are ignored.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} [sources] The source objects.
     * @returns {Object} Returns `object`.
     * @see _.defaultsDeep
     * @example
     *
     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });
     * // => { 'a': 1, 'b': 2 }
     */
    var defaults = baseRest(function(object, sources) {
      object = Object(object);

      var index = -1;
      var length = sources.length;
      var guard = length > 2 ? sources[2] : undefined;

      if (guard && isIterateeCall(sources[0], sources[1], guard)) {
        length = 1;
      }

      while (++index < length) {
        var source = sources[index];
        var props = keysIn(source);
        var propsIndex = -1;
        var propsLength = props.length;

        while (++propsIndex < propsLength) {
          var key = props[propsIndex];
          var value = object[key];

          if (value === undefined ||
              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {
            object[key] = source[key];
          }
        }
      }

      return object;
    });

    /**
     * This method is like `_.defaults` except that it recursively assigns
     * default properties.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 3.10.0
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} [sources] The source objects.
     * @returns {Object} Returns `object`.
     * @see _.defaults
     * @example
     *
     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });
     * // => { 'a': { 'b': 2, 'c': 3 } }
     */
    var defaultsDeep = baseRest(function(args) {
      args.push(undefined, customDefaultsMerge);
      return apply(mergeWith, undefined, args);
    });

    /**
     * This method is like `_.find` except that it returns the key of the first
     * element `predicate` returns truthy for instead of the element itself.
     *
     * @static
     * @memberOf _
     * @since 1.1.0
     * @category Object
     * @param {Object} object The object to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {string|undefined} Returns the key of the matched element,
     *  else `undefined`.
     * @example
     *
     * var users = {
     *   'barney':  { 'age': 36, 'active': true },
     *   'fred':    { 'age': 40, 'active': false },
     *   'pebbles': { 'age': 1,  'active': true }
     * };
     *
     * _.findKey(users, function(o) { return o.age < 40; });
     * // => 'barney' (iteration order is not guaranteed)
     *
     * // The `_.matches` iteratee shorthand.
     * _.findKey(users, { 'age': 1, 'active': true });
     * // => 'pebbles'
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.findKey(users, ['active', false]);
     * // => 'fred'
     *
     * // The `_.property` iteratee shorthand.
     * _.findKey(users, 'active');
     * // => 'barney'
     */
    function findKey(object, predicate) {
      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);
    }

    /**
     * This method is like `_.findKey` except that it iterates over elements of
     * a collection in the opposite order.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Object
     * @param {Object} object The object to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {string|undefined} Returns the key of the matched element,
     *  else `undefined`.
     * @example
     *
     * var users = {
     *   'barney':  { 'age': 36, 'active': true },
     *   'fred':    { 'age': 40, 'active': false },
     *   'pebbles': { 'age': 1,  'active': true }
     * };
     *
     * _.findLastKey(users, function(o) { return o.age < 40; });
     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'
     *
     * // The `_.matches` iteratee shorthand.
     * _.findLastKey(users, { 'age': 36, 'active': true });
     * // => 'barney'
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.findLastKey(users, ['active', false]);
     * // => 'fred'
     *
     * // The `_.property` iteratee shorthand.
     * _.findLastKey(users, 'active');
     * // => 'pebbles'
     */
    function findLastKey(object, predicate) {
      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);
    }

    /**
     * Iterates over own and inherited enumerable string keyed properties of an
     * object and invokes `iteratee` for each property. The iteratee is invoked
     * with three arguments: (value, key, object). Iteratee functions may exit
     * iteration early by explicitly returning `false`.
     *
     * @static
     * @memberOf _
     * @since 0.3.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns `object`.
     * @see _.forInRight
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.forIn(new Foo, function(value, key) {
     *   console.log(key);
     * });
     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).
     */
    function forIn(object, iteratee) {
      return object == null
        ? object
        : baseFor(object, getIteratee(iteratee, 3), keysIn);
    }

    /**
     * This method is like `_.forIn` except that it iterates over properties of
     * `object` in the opposite order.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns `object`.
     * @see _.forIn
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.forInRight(new Foo, function(value, key) {
     *   console.log(key);
     * });
     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.
     */
    function forInRight(object, iteratee) {
      return object == null
        ? object
        : baseForRight(object, getIteratee(iteratee, 3), keysIn);
    }

    /**
     * Iterates over own enumerable string keyed properties of an object and
     * invokes `iteratee` for each property. The iteratee is invoked with three
     * arguments: (value, key, object). Iteratee functions may exit iteration
     * early by explicitly returning `false`.
     *
     * @static
     * @memberOf _
     * @since 0.3.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns `object`.
     * @see _.forOwnRight
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.forOwn(new Foo, function(value, key) {
     *   console.log(key);
     * });
     * // => Logs 'a' then 'b' (iteration order is not guaranteed).
     */
    function forOwn(object, iteratee) {
      return object && baseForOwn(object, getIteratee(iteratee, 3));
    }

    /**
     * This method is like `_.forOwn` except that it iterates over properties of
     * `object` in the opposite order.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns `object`.
     * @see _.forOwn
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.forOwnRight(new Foo, function(value, key) {
     *   console.log(key);
     * });
     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.
     */
    function forOwnRight(object, iteratee) {
      return object && baseForOwnRight(object, getIteratee(iteratee, 3));
    }

    /**
     * Creates an array of function property names from own enumerable properties
     * of `object`.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns the function names.
     * @see _.functionsIn
     * @example
     *
     * function Foo() {
     *   this.a = _.constant('a');
     *   this.b = _.constant('b');
     * }
     *
     * Foo.prototype.c = _.constant('c');
     *
     * _.functions(new Foo);
     * // => ['a', 'b']
     */
    function functions(object) {
      return object == null ? [] : baseFunctions(object, keys(object));
    }

    /**
     * Creates an array of function property names from own and inherited
     * enumerable properties of `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns the function names.
     * @see _.functions
     * @example
     *
     * function Foo() {
     *   this.a = _.constant('a');
     *   this.b = _.constant('b');
     * }
     *
     * Foo.prototype.c = _.constant('c');
     *
     * _.functionsIn(new Foo);
     * // => ['a', 'b', 'c']
     */
    function functionsIn(object) {
      return object == null ? [] : baseFunctions(object, keysIn(object));
    }

    /**
     * Gets the value at `path` of `object`. If the resolved value is
     * `undefined`, the `defaultValue` is returned in its place.
     *
     * @static
     * @memberOf _
     * @since 3.7.0
     * @category Object
     * @param {Object} object The object to query.
     * @param {Array|string} path The path of the property to get.
     * @param {*} [defaultValue] The value returned for `undefined` resolved values.
     * @returns {*} Returns the resolved value.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': 3 } }] };
     *
     * _.get(object, 'a[0].b.c');
     * // => 3
     *
     * _.get(object, ['a', '0', 'b', 'c']);
     * // => 3
     *
     * _.get(object, 'a.b.c', 'default');
     * // => 'default'
     */
    function get(object, path, defaultValue) {
      var result = object == null ? undefined : baseGet(object, path);
      return result === undefined ? defaultValue : result;
    }

    /**
     * Checks if `path` is a direct property of `object`.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The object to query.
     * @param {Array|string} path The path to check.
     * @returns {boolean} Returns `true` if `path` exists, else `false`.
     * @example
     *
     * var object = { 'a': { 'b': 2 } };
     * var other = _.create({ 'a': _.create({ 'b': 2 }) });
     *
     * _.has(object, 'a');
     * // => true
     *
     * _.has(object, 'a.b');
     * // => true
     *
     * _.has(object, ['a', 'b']);
     * // => true
     *
     * _.has(other, 'a');
     * // => false
     */
    function has(object, path) {
      return object != null && hasPath(object, path, baseHas);
    }

    /**
     * Checks if `path` is a direct or inherited property of `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The object to query.
     * @param {Array|string} path The path to check.
     * @returns {boolean} Returns `true` if `path` exists, else `false`.
     * @example
     *
     * var object = _.create({ 'a': _.create({ 'b': 2 }) });
     *
     * _.hasIn(object, 'a');
     * // => true
     *
     * _.hasIn(object, 'a.b');
     * // => true
     *
     * _.hasIn(object, ['a', 'b']);
     * // => true
     *
     * _.hasIn(object, 'b');
     * // => false
     */
    function hasIn(object, path) {
      return object != null && hasPath(object, path, baseHasIn);
    }

    /**
     * Creates an object composed of the inverted keys and values of `object`.
     * If `object` contains duplicate values, subsequent values overwrite
     * property assignments of previous values.
     *
     * @static
     * @memberOf _
     * @since 0.7.0
     * @category Object
     * @param {Object} object The object to invert.
     * @returns {Object} Returns the new inverted object.
     * @example
     *
     * var object = { 'a': 1, 'b': 2, 'c': 1 };
     *
     * _.invert(object);
     * // => { '1': 'c', '2': 'b' }
     */
    var invert = createInverter(function(result, value, key) {
      if (value != null &&
          typeof value.toString != 'function') {
        value = nativeObjectToString.call(value);
      }

      result[value] = key;
    }, constant(identity));

    /**
     * This method is like `_.invert` except that the inverted object is generated
     * from the results of running each element of `object` thru `iteratee`. The
     * corresponding inverted value of each inverted key is an array of keys
     * responsible for generating the inverted value. The iteratee is invoked
     * with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.1.0
     * @category Object
     * @param {Object} object The object to invert.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Object} Returns the new inverted object.
     * @example
     *
     * var object = { 'a': 1, 'b': 2, 'c': 1 };
     *
     * _.invertBy(object);
     * // => { '1': ['a', 'c'], '2': ['b'] }
     *
     * _.invertBy(object, function(value) {
     *   return 'group' + value;
     * });
     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }
     */
    var invertBy = createInverter(function(result, value, key) {
      if (value != null &&
          typeof value.toString != 'function') {
        value = nativeObjectToString.call(value);
      }

      if (hasOwnProperty.call(result, value)) {
        result[value].push(key);
      } else {
        result[value] = [key];
      }
    }, getIteratee);

    /**
     * Invokes the method at `path` of `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The object to query.
     * @param {Array|string} path The path of the method to invoke.
     * @param {...*} [args] The arguments to invoke the method with.
     * @returns {*} Returns the result of the invoked method.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };
     *
     * _.invoke(object, 'a[0].b.c.slice', 1, 3);
     * // => [2, 3]
     */
    var invoke = baseRest(baseInvoke);

    /**
     * Creates an array of the own enumerable property names of `object`.
     *
     * **Note:** Non-object values are coerced to objects. See the
     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
     * for more details.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.keys(new Foo);
     * // => ['a', 'b'] (iteration order is not guaranteed)
     *
     * _.keys('hi');
     * // => ['0', '1']
     */
    function keys(object) {
      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);
    }

    /**
     * Creates an array of the own and inherited enumerable property names of `object`.
     *
     * **Note:** Non-object values are coerced to objects.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.keysIn(new Foo);
     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
     */
    function keysIn(object) {
      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);
    }

    /**
     * The opposite of `_.mapValues`; this method creates an object with the
     * same values as `object` and keys generated by running each own enumerable
     * string keyed property of `object` thru `iteratee`. The iteratee is invoked
     * with three arguments: (value, key, object).
     *
     * @static
     * @memberOf _
     * @since 3.8.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns the new mapped object.
     * @see _.mapValues
     * @example
     *
     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {
     *   return key + value;
     * });
     * // => { 'a1': 1, 'b2': 2 }
     */
    function mapKeys(object, iteratee) {
      var result = {};
      iteratee = getIteratee(iteratee, 3);

      baseForOwn(object, function(value, key, object) {
        baseAssignValue(result, iteratee(value, key, object), value);
      });
      return result;
    }

    /**
     * Creates an object with the same keys as `object` and values generated
     * by running each own enumerable string keyed property of `object` thru
     * `iteratee`. The iteratee is invoked with three arguments:
     * (value, key, object).
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns the new mapped object.
     * @see _.mapKeys
     * @example
     *
     * var users = {
     *   'fred':    { 'user': 'fred',    'age': 40 },
     *   'pebbles': { 'user': 'pebbles', 'age': 1 }
     * };
     *
     * _.mapValues(users, function(o) { return o.age; });
     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)
     *
     * // The `_.property` iteratee shorthand.
     * _.mapValues(users, 'age');
     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)
     */
    function mapValues(object, iteratee) {
      var result = {};
      iteratee = getIteratee(iteratee, 3);

      baseForOwn(object, function(value, key, object) {
        baseAssignValue(result, key, iteratee(value, key, object));
      });
      return result;
    }

    /**
     * This method is like `_.assign` except that it recursively merges own and
     * inherited enumerable string keyed properties of source objects into the
     * destination object. Source properties that resolve to `undefined` are
     * skipped if a destination value exists. Array and plain object properties
     * are merged recursively. Other objects and value types are overridden by
     * assignment. Source objects are applied from left to right. Subsequent
     * sources overwrite property assignments of previous sources.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 0.5.0
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} [sources] The source objects.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var object = {
     *   'a': [{ 'b': 2 }, { 'd': 4 }]
     * };
     *
     * var other = {
     *   'a': [{ 'c': 3 }, { 'e': 5 }]
     * };
     *
     * _.merge(object, other);
     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }
     */
    var merge = createAssigner(function(object, source, srcIndex) {
      baseMerge(object, source, srcIndex);
    });

    /**
     * This method is like `_.merge` except that it accepts `customizer` which
     * is invoked to produce the merged values of the destination and source
     * properties. If `customizer` returns `undefined`, merging is handled by the
     * method instead. The `customizer` is invoked with six arguments:
     * (objValue, srcValue, key, object, source, stack).
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} sources The source objects.
     * @param {Function} customizer The function to customize assigned values.
     * @returns {Object} Returns `object`.
     * @example
     *
     * function customizer(objValue, srcValue) {
     *   if (_.isArray(objValue)) {
     *     return objValue.concat(srcValue);
     *   }
     * }
     *
     * var object = { 'a': [1], 'b': [2] };
     * var other = { 'a': [3], 'b': [4] };
     *
     * _.mergeWith(object, other, customizer);
     * // => { 'a': [1, 3], 'b': [2, 4] }
     */
    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {
      baseMerge(object, source, srcIndex, customizer);
    });

    /**
     * The opposite of `_.pick`; this method creates an object composed of the
     * own and inherited enumerable property paths of `object` that are not omitted.
     *
     * **Note:** This method is considerably slower than `_.pick`.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The source object.
     * @param {...(string|string[])} [paths] The property paths to omit.
     * @returns {Object} Returns the new object.
     * @example
     *
     * var object = { 'a': 1, 'b': '2', 'c': 3 };
     *
     * _.omit(object, ['a', 'c']);
     * // => { 'b': '2' }
     */
    var omit = flatRest(function(object, paths) {
      var result = {};
      if (object == null) {
        return result;
      }
      var isDeep = false;
      paths = arrayMap(paths, function(path) {
        path = castPath(path, object);
        isDeep || (isDeep = path.length > 1);
        return path;
      });
      copyObject(object, getAllKeysIn(object), result);
      if (isDeep) {
        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);
      }
      var length = paths.length;
      while (length--) {
        baseUnset(result, paths[length]);
      }
      return result;
    });

    /**
     * The opposite of `_.pickBy`; this method creates an object composed of
     * the own and inherited enumerable string keyed properties of `object` that
     * `predicate` doesn't return truthy for. The predicate is invoked with two
     * arguments: (value, key).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The source object.
     * @param {Function} [predicate=_.identity] The function invoked per property.
     * @returns {Object} Returns the new object.
     * @example
     *
     * var object = { 'a': 1, 'b': '2', 'c': 3 };
     *
     * _.omitBy(object, _.isNumber);
     * // => { 'b': '2' }
     */
    function omitBy(object, predicate) {
      return pickBy(object, negate(getIteratee(predicate)));
    }

    /**
     * Creates an object composed of the picked `object` properties.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The source object.
     * @param {...(string|string[])} [paths] The property paths to pick.
     * @returns {Object} Returns the new object.
     * @example
     *
     * var object = { 'a': 1, 'b': '2', 'c': 3 };
     *
     * _.pick(object, ['a', 'c']);
     * // => { 'a': 1, 'c': 3 }
     */
    var pick = flatRest(function(object, paths) {
      return object == null ? {} : basePick(object, paths);
    });

    /**
     * Creates an object composed of the `object` properties `predicate` returns
     * truthy for. The predicate is invoked with two arguments: (value, key).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The source object.
     * @param {Function} [predicate=_.identity] The function invoked per property.
     * @returns {Object} Returns the new object.
     * @example
     *
     * var object = { 'a': 1, 'b': '2', 'c': 3 };
     *
     * _.pickBy(object, _.isNumber);
     * // => { 'a': 1, 'c': 3 }
     */
    function pickBy(object, predicate) {
      if (object == null) {
        return {};
      }
      var props = arrayMap(getAllKeysIn(object), function(prop) {
        return [prop];
      });
      predicate = getIteratee(predicate);
      return basePickBy(object, props, function(value, path) {
        return predicate(value, path[0]);
      });
    }

    /**
     * This method is like `_.get` except that if the resolved value is a
     * function it's invoked with the `this` binding of its parent object and
     * its result is returned.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The object to query.
     * @param {Array|string} path The path of the property to resolve.
     * @param {*} [defaultValue] The value returned for `undefined` resolved values.
     * @returns {*} Returns the resolved value.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };
     *
     * _.result(object, 'a[0].b.c1');
     * // => 3
     *
     * _.result(object, 'a[0].b.c2');
     * // => 4
     *
     * _.result(object, 'a[0].b.c3', 'default');
     * // => 'default'
     *
     * _.result(object, 'a[0].b.c3', _.constant('default'));
     * // => 'default'
     */
    function result(object, path, defaultValue) {
      path = castPath(path, object);

      var index = -1,
          length = path.length;

      // Ensure the loop is entered when path is empty.
      if (!length) {
        length = 1;
        object = undefined;
      }
      while (++index < length) {
        var value = object == null ? undefined : object[toKey(path[index])];
        if (value === undefined) {
          index = length;
          value = defaultValue;
        }
        object = isFunction(value) ? value.call(object) : value;
      }
      return object;
    }

    /**
     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,
     * it's created. Arrays are created for missing index properties while objects
     * are created for all other missing properties. Use `_.setWith` to customize
     * `path` creation.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 3.7.0
     * @category Object
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': 3 } }] };
     *
     * _.set(object, 'a[0].b.c', 4);
     * console.log(object.a[0].b.c);
     * // => 4
     *
     * _.set(object, ['x', '0', 'y', 'z'], 5);
     * console.log(object.x[0].y.z);
     * // => 5
     */
    function set(object, path, value) {
      return object == null ? object : baseSet(object, path, value);
    }

    /**
     * This method is like `_.set` except that it accepts `customizer` which is
     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`
     * path creation is handled by the method instead. The `customizer` is invoked
     * with three arguments: (nsValue, key, nsObject).
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to set.
     * @param {*} value The value to set.
     * @param {Function} [customizer] The function to customize assigned values.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var object = {};
     *
     * _.setWith(object, '[0][1]', 'a', Object);
     * // => { '0': { '1': 'a' } }
     */
    function setWith(object, path, value, customizer) {
      customizer = typeof customizer == 'function' ? customizer : undefined;
      return object == null ? object : baseSet(object, path, value, customizer);
    }

    /**
     * Creates an array of own enumerable string keyed-value pairs for `object`
     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its
     * entries are returned.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @alias entries
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the key-value pairs.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.toPairs(new Foo);
     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)
     */
    var toPairs = createToPairs(keys);

    /**
     * Creates an array of own and inherited enumerable string keyed-value pairs
     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map
     * or set, its entries are returned.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @alias entriesIn
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the key-value pairs.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.toPairsIn(new Foo);
     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)
     */
    var toPairsIn = createToPairs(keysIn);

    /**
     * An alternative to `_.reduce`; this method transforms `object` to a new
     * `accumulator` object which is the result of running each of its own
     * enumerable string keyed properties thru `iteratee`, with each invocation
     * potentially mutating the `accumulator` object. If `accumulator` is not
     * provided, a new object with the same `[[Prototype]]` will be used. The
     * iteratee is invoked with four arguments: (accumulator, value, key, object).
     * Iteratee functions may exit iteration early by explicitly returning `false`.
     *
     * @static
     * @memberOf _
     * @since 1.3.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @param {*} [accumulator] The custom accumulator value.
     * @returns {*} Returns the accumulated value.
     * @example
     *
     * _.transform([2, 3, 4], function(result, n) {
     *   result.push(n *= n);
     *   return n % 2 == 0;
     * }, []);
     * // => [4, 9]
     *
     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {
     *   (result[value] || (result[value] = [])).push(key);
     * }, {});
     * // => { '1': ['a', 'c'], '2': ['b'] }
     */
    function transform(object, iteratee, accumulator) {
      var isArr = isArray(object),
          isArrLike = isArr || isBuffer(object) || isTypedArray(object);

      iteratee = getIteratee(iteratee, 4);
      if (accumulator == null) {
        var Ctor = object && object.constructor;
        if (isArrLike) {
          accumulator = isArr ? new Ctor : [];
        }
        else if (isObject(object)) {
          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};
        }
        else {
          accumulator = {};
        }
      }
      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {
        return iteratee(accumulator, value, index, object);
      });
      return accumulator;
    }

    /**
     * Removes the property at `path` of `object`.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to unset.
     * @returns {boolean} Returns `true` if the property is deleted, else `false`.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': 7 } }] };
     * _.unset(object, 'a[0].b.c');
     * // => true
     *
     * console.log(object);
     * // => { 'a': [{ 'b': {} }] };
     *
     * _.unset(object, ['a', '0', 'b', 'c']);
     * // => true
     *
     * console.log(object);
     * // => { 'a': [{ 'b': {} }] };
     */
    function unset(object, path) {
      return object == null ? true : baseUnset(object, path);
    }

    /**
     * This method is like `_.set` except that accepts `updater` to produce the
     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`
     * is invoked with one argument: (value).
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.6.0
     * @category Object
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to set.
     * @param {Function} updater The function to produce the updated value.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': 3 } }] };
     *
     * _.update(object, 'a[0].b.c', function(n) { return n * n; });
     * console.log(object.a[0].b.c);
     * // => 9
     *
     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });
     * console.log(object.x[0].y.z);
     * // => 0
     */
    function update(object, path, updater) {
      return object == null ? object : baseUpdate(object, path, castFunction(updater));
    }

    /**
     * This method is like `_.update` except that it accepts `customizer` which is
     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`
     * path creation is handled by the method instead. The `customizer` is invoked
     * with three arguments: (nsValue, key, nsObject).
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.6.0
     * @category Object
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to set.
     * @param {Function} updater The function to produce the updated value.
     * @param {Function} [customizer] The function to customize assigned values.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var object = {};
     *
     * _.updateWith(object, '[0][1]', _.constant('a'), Object);
     * // => { '0': { '1': 'a' } }
     */
    function updateWith(object, path, updater, customizer) {
      customizer = typeof customizer == 'function' ? customizer : undefined;
      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);
    }

    /**
     * Creates an array of the own enumerable string keyed property values of `object`.
     *
     * **Note:** Non-object values are coerced to objects.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property values.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.values(new Foo);
     * // => [1, 2] (iteration order is not guaranteed)
     *
     * _.values('hi');
     * // => ['h', 'i']
     */
    function values(object) {
      return object == null ? [] : baseValues(object, keys(object));
    }

    /**
     * Creates an array of the own and inherited enumerable string keyed property
     * values of `object`.
     *
     * **Note:** Non-object values are coerced to objects.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property values.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.valuesIn(new Foo);
     * // => [1, 2, 3] (iteration order is not guaranteed)
     */
    function valuesIn(object) {
      return object == null ? [] : baseValues(object, keysIn(object));
    }

    /*------------------------------------------------------------------------*/

    /**
     * Clamps `number` within the inclusive `lower` and `upper` bounds.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Number
     * @param {number} number The number to clamp.
     * @param {number} [lower] The lower bound.
     * @param {number} upper The upper bound.
     * @returns {number} Returns the clamped number.
     * @example
     *
     * _.clamp(-10, -5, 5);
     * // => -5
     *
     * _.clamp(10, -5, 5);
     * // => 5
     */
    function clamp(number, lower, upper) {
      if (upper === undefined) {
        upper = lower;
        lower = undefined;
      }
      if (upper !== undefined) {
        upper = toNumber(upper);
        upper = upper === upper ? upper : 0;
      }
      if (lower !== undefined) {
        lower = toNumber(lower);
        lower = lower === lower ? lower : 0;
      }
      return baseClamp(toNumber(number), lower, upper);
    }

    /**
     * Checks if `n` is between `start` and up to, but not including, `end`. If
     * `end` is not specified, it's set to `start` with `start` then set to `0`.
     * If `start` is greater than `end` the params are swapped to support
     * negative ranges.
     *
     * @static
     * @memberOf _
     * @since 3.3.0
     * @category Number
     * @param {number} number The number to check.
     * @param {number} [start=0] The start of the range.
     * @param {number} end The end of the range.
     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.
     * @see _.range, _.rangeRight
     * @example
     *
     * _.inRange(3, 2, 4);
     * // => true
     *
     * _.inRange(4, 8);
     * // => true
     *
     * _.inRange(4, 2);
     * // => false
     *
     * _.inRange(2, 2);
     * // => false
     *
     * _.inRange(1.2, 2);
     * // => true
     *
     * _.inRange(5.2, 4);
     * // => false
     *
     * _.inRange(-3, -2, -6);
     * // => true
     */
    function inRange(number, start, end) {
      start = toFinite(start);
      if (end === undefined) {
        end = start;
        start = 0;
      } else {
        end = toFinite(end);
      }
      number = toNumber(number);
      return baseInRange(number, start, end);
    }

    /**
     * Produces a random number between the inclusive `lower` and `upper` bounds.
     * If only one argument is provided a number between `0` and the given number
     * is returned. If `floating` is `true`, or either `lower` or `upper` are
     * floats, a floating-point number is returned instead of an integer.
     *
     * **Note:** JavaScript follows the IEEE-754 standard for resolving
     * floating-point values which can produce unexpected results.
     *
     * @static
     * @memberOf _
     * @since 0.7.0
     * @category Number
     * @param {number} [lower=0] The lower bound.
     * @param {number} [upper=1] The upper bound.
     * @param {boolean} [floating] Specify returning a floating-point number.
     * @returns {number} Returns the random number.
     * @example
     *
     * _.random(0, 5);
     * // => an integer between 0 and 5
     *
     * _.random(5);
     * // => also an integer between 0 and 5
     *
     * _.random(5, true);
     * // => a floating-point number between 0 and 5
     *
     * _.random(1.2, 5.2);
     * // => a floating-point number between 1.2 and 5.2
     */
    function random(lower, upper, floating) {
      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {
        upper = floating = undefined;
      }
      if (floating === undefined) {
        if (typeof upper == 'boolean') {
          floating = upper;
          upper = undefined;
        }
        else if (typeof lower == 'boolean') {
          floating = lower;
          lower = undefined;
        }
      }
      if (lower === undefined && upper === undefined) {
        lower = 0;
        upper = 1;
      }
      else {
        lower = toFinite(lower);
        if (upper === undefined) {
          upper = lower;
          lower = 0;
        } else {
          upper = toFinite(upper);
        }
      }
      if (lower > upper) {
        var temp = lower;
        lower = upper;
        upper = temp;
      }
      if (floating || lower % 1 || upper % 1) {
        var rand = nativeRandom();
        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);
      }
      return baseRandom(lower, upper);
    }

    /*------------------------------------------------------------------------*/

    /**
     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the camel cased string.
     * @example
     *
     * _.camelCase('Foo Bar');
     * // => 'fooBar'
     *
     * _.camelCase('--foo-bar--');
     * // => 'fooBar'
     *
     * _.camelCase('__FOO_BAR__');
     * // => 'fooBar'
     */
    var camelCase = createCompounder(function(result, word, index) {
      word = word.toLowerCase();
      return result + (index ? capitalize(word) : word);
    });

    /**
     * Converts the first character of `string` to upper case and the remaining
     * to lower case.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to capitalize.
     * @returns {string} Returns the capitalized string.
     * @example
     *
     * _.capitalize('FRED');
     * // => 'Fred'
     */
    function capitalize(string) {
      return upperFirst(toString(string).toLowerCase());
    }

    /**
     * Deburrs `string` by converting
     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)
     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)
     * letters to basic Latin letters and removing
     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to deburr.
     * @returns {string} Returns the deburred string.
     * @example
     *
     * _.deburr('déjà vu');
     * // => 'deja vu'
     */
    function deburr(string) {
      string = toString(string);
      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');
    }

    /**
     * Checks if `string` ends with the given target string.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to inspect.
     * @param {string} [target] The string to search for.
     * @param {number} [position=string.length] The position to search up to.
     * @returns {boolean} Returns `true` if `string` ends with `target`,
     *  else `false`.
     * @example
     *
     * _.endsWith('abc', 'c');
     * // => true
     *
     * _.endsWith('abc', 'b');
     * // => false
     *
     * _.endsWith('abc', 'b', 2);
     * // => true
     */
    function endsWith(string, target, position) {
      string = toString(string);
      target = baseToString(target);

      var length = string.length;
      position = position === undefined
        ? length
        : baseClamp(toInteger(position), 0, length);

      var end = position;
      position -= target.length;
      return position >= 0 && string.slice(position, end) == target;
    }

    /**
     * Converts the characters "&", "<", ">", '"', and "'" in `string` to their
     * corresponding HTML entities.
     *
     * **Note:** No other characters are escaped. To escape additional
     * characters use a third-party library like [_he_](https://mths.be/he).
     *
     * Though the ">" character is escaped for symmetry, characters like
     * ">" and "/" don't need escaping in HTML and have no special meaning
     * unless they're part of a tag or unquoted attribute value. See
     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)
     * (under "semi-related fun fact") for more details.
     *
     * When working with HTML you should always
     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce
     * XSS vectors.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category String
     * @param {string} [string=''] The string to escape.
     * @returns {string} Returns the escaped string.
     * @example
     *
     * _.escape('fred, barney, & pebbles');
     * // => 'fred, barney, &amp; pebbles'
     */
    function escape(string) {
      string = toString(string);
      return (string && reHasUnescapedHtml.test(string))
        ? string.replace(reUnescapedHtml, escapeHtmlChar)
        : string;
    }

    /**
     * Escapes the `RegExp` special characters "^", "$", "\", ".", "*", "+",
     * "?", "(", ")", "[", "]", "{", "}", and "|" in `string`.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to escape.
     * @returns {string} Returns the escaped string.
     * @example
     *
     * _.escapeRegExp('[lodash](https://lodash.com/)');
     * // => '\[lodash\]\(https://lodash\.com/\)'
     */
    function escapeRegExp(string) {
      string = toString(string);
      return (string && reHasRegExpChar.test(string))
        ? string.replace(reRegExpChar, '\\$&')
        : string;
    }

    /**
     * Converts `string` to
     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the kebab cased string.
     * @example
     *
     * _.kebabCase('Foo Bar');
     * // => 'foo-bar'
     *
     * _.kebabCase('fooBar');
     * // => 'foo-bar'
     *
     * _.kebabCase('__FOO_BAR__');
     * // => 'foo-bar'
     */
    var kebabCase = createCompounder(function(result, word, index) {
      return result + (index ? '-' : '') + word.toLowerCase();
    });

    /**
     * Converts `string`, as space separated words, to lower case.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the lower cased string.
     * @example
     *
     * _.lowerCase('--Foo-Bar--');
     * // => 'foo bar'
     *
     * _.lowerCase('fooBar');
     * // => 'foo bar'
     *
     * _.lowerCase('__FOO_BAR__');
     * // => 'foo bar'
     */
    var lowerCase = createCompounder(function(result, word, index) {
      return result + (index ? ' ' : '') + word.toLowerCase();
    });

    /**
     * Converts the first character of `string` to lower case.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the converted string.
     * @example
     *
     * _.lowerFirst('Fred');
     * // => 'fred'
     *
     * _.lowerFirst('FRED');
     * // => 'fRED'
     */
    var lowerFirst = createCaseFirst('toLowerCase');

    /**
     * Pads `string` on the left and right sides if it's shorter than `length`.
     * Padding characters are truncated if they can't be evenly divided by `length`.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to pad.
     * @param {number} [length=0] The padding length.
     * @param {string} [chars=' '] The string used as padding.
     * @returns {string} Returns the padded string.
     * @example
     *
     * _.pad('abc', 8);
     * // => '  abc   '
     *
     * _.pad('abc', 8, '_-');
     * // => '_-abc_-_'
     *
     * _.pad('abc', 3);
     * // => 'abc'
     */
    function pad(string, length, chars) {
      string = toString(string);
      length = toInteger(length);

      var strLength = length ? stringSize(string) : 0;
      if (!length || strLength >= length) {
        return string;
      }
      var mid = (length - strLength) / 2;
      return (
        createPadding(nativeFloor(mid), chars) +
        string +
        createPadding(nativeCeil(mid), chars)
      );
    }

    /**
     * Pads `string` on the right side if it's shorter than `length`. Padding
     * characters are truncated if they exceed `length`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to pad.
     * @param {number} [length=0] The padding length.
     * @param {string} [chars=' '] The string used as padding.
     * @returns {string} Returns the padded string.
     * @example
     *
     * _.padEnd('abc', 6);
     * // => 'abc   '
     *
     * _.padEnd('abc', 6, '_-');
     * // => 'abc_-_'
     *
     * _.padEnd('abc', 3);
     * // => 'abc'
     */
    function padEnd(string, length, chars) {
      string = toString(string);
      length = toInteger(length);

      var strLength = length ? stringSize(string) : 0;
      return (length && strLength < length)
        ? (string + createPadding(length - strLength, chars))
        : string;
    }

    /**
     * Pads `string` on the left side if it's shorter than `length`. Padding
     * characters are truncated if they exceed `length`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to pad.
     * @param {number} [length=0] The padding length.
     * @param {string} [chars=' '] The string used as padding.
     * @returns {string} Returns the padded string.
     * @example
     *
     * _.padStart('abc', 6);
     * // => '   abc'
     *
     * _.padStart('abc', 6, '_-');
     * // => '_-_abc'
     *
     * _.padStart('abc', 3);
     * // => 'abc'
     */
    function padStart(string, length, chars) {
      string = toString(string);
      length = toInteger(length);

      var strLength = length ? stringSize(string) : 0;
      return (length && strLength < length)
        ? (createPadding(length - strLength, chars) + string)
        : string;
    }

    /**
     * Converts `string` to an integer of the specified radix. If `radix` is
     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a
     * hexadecimal, in which case a `radix` of `16` is used.
     *
     * **Note:** This method aligns with the
     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.
     *
     * @static
     * @memberOf _
     * @since 1.1.0
     * @category String
     * @param {string} string The string to convert.
     * @param {number} [radix=10] The radix to interpret `value` by.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {number} Returns the converted integer.
     * @example
     *
     * _.parseInt('08');
     * // => 8
     *
     * _.map(['6', '08', '10'], _.parseInt);
     * // => [6, 8, 10]
     */
    function parseInt(string, radix, guard) {
      if (guard || radix == null) {
        radix = 0;
      } else if (radix) {
        radix = +radix;
      }
      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);
    }

    /**
     * Repeats the given string `n` times.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to repeat.
     * @param {number} [n=1] The number of times to repeat the string.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {string} Returns the repeated string.
     * @example
     *
     * _.repeat('*', 3);
     * // => '***'
     *
     * _.repeat('abc', 2);
     * // => 'abcabc'
     *
     * _.repeat('abc', 0);
     * // => ''
     */
    function repeat(string, n, guard) {
      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {
        n = 1;
      } else {
        n = toInteger(n);
      }
      return baseRepeat(toString(string), n);
    }

    /**
     * Replaces matches for `pattern` in `string` with `replacement`.
     *
     * **Note:** This method is based on
     * [`String#replace`](https://mdn.io/String/replace).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to modify.
     * @param {RegExp|string} pattern The pattern to replace.
     * @param {Function|string} replacement The match replacement.
     * @returns {string} Returns the modified string.
     * @example
     *
     * _.replace('Hi Fred', 'Fred', 'Barney');
     * // => 'Hi Barney'
     */
    function replace() {
      var args = arguments,
          string = toString(args[0]);

      return args.length < 3 ? string : string.replace(args[1], args[2]);
    }

    /**
     * Converts `string` to
     * [snake case](https://en.wikipedia.org/wiki/Snake_case).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the snake cased string.
     * @example
     *
     * _.snakeCase('Foo Bar');
     * // => 'foo_bar'
     *
     * _.snakeCase('fooBar');
     * // => 'foo_bar'
     *
     * _.snakeCase('--FOO-BAR--');
     * // => 'foo_bar'
     */
    var snakeCase = createCompounder(function(result, word, index) {
      return result + (index ? '_' : '') + word.toLowerCase();
    });

    /**
     * Splits `string` by `separator`.
     *
     * **Note:** This method is based on
     * [`String#split`](https://mdn.io/String/split).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to split.
     * @param {RegExp|string} separator The separator pattern to split by.
     * @param {number} [limit] The length to truncate results to.
     * @returns {Array} Returns the string segments.
     * @example
     *
     * _.split('a-b-c', '-', 2);
     * // => ['a', 'b']
     */
    function split(string, separator, limit) {
      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {
        separator = limit = undefined;
      }
      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;
      if (!limit) {
        return [];
      }
      string = toString(string);
      if (string && (
            typeof separator == 'string' ||
            (separator != null && !isRegExp(separator))
          )) {
        separator = baseToString(separator);
        if (!separator && hasUnicode(string)) {
          return castSlice(stringToArray(string), 0, limit);
        }
      }
      return string.split(separator, limit);
    }

    /**
     * Converts `string` to
     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).
     *
     * @static
     * @memberOf _
     * @since 3.1.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the start cased string.
     * @example
     *
     * _.startCase('--foo-bar--');
     * // => 'Foo Bar'
     *
     * _.startCase('fooBar');
     * // => 'Foo Bar'
     *
     * _.startCase('__FOO_BAR__');
     * // => 'FOO BAR'
     */
    var startCase = createCompounder(function(result, word, index) {
      return result + (index ? ' ' : '') + upperFirst(word);
    });

    /**
     * Checks if `string` starts with the given target string.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to inspect.
     * @param {string} [target] The string to search for.
     * @param {number} [position=0] The position to search from.
     * @returns {boolean} Returns `true` if `string` starts with `target`,
     *  else `false`.
     * @example
     *
     * _.startsWith('abc', 'a');
     * // => true
     *
     * _.startsWith('abc', 'b');
     * // => false
     *
     * _.startsWith('abc', 'b', 1);
     * // => true
     */
    function startsWith(string, target, position) {
      string = toString(string);
      position = position == null
        ? 0
        : baseClamp(toInteger(position), 0, string.length);

      target = baseToString(target);
      return string.slice(position, position + target.length) == target;
    }

    /**
     * Creates a compiled template function that can interpolate data properties
     * in "interpolate" delimiters, HTML-escape interpolated data properties in
     * "escape" delimiters, and execute JavaScript in "evaluate" delimiters. Data
     * properties may be accessed as free variables in the template. If a setting
     * object is given, it takes precedence over `_.templateSettings` values.
     *
     * **Note:** In the development build `_.template` utilizes
     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)
     * for easier debugging.
     *
     * For more information on precompiling templates see
     * [lodash's custom builds documentation](https://lodash.com/custom-builds).
     *
     * For more information on Chrome extension sandboxes see
     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category String
     * @param {string} [string=''] The template string.
     * @param {Object} [options={}] The options object.
     * @param {RegExp} [options.escape=_.templateSettings.escape]
     *  The HTML "escape" delimiter.
     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]
     *  The "evaluate" delimiter.
     * @param {Object} [options.imports=_.templateSettings.imports]
     *  An object to import into the template as free variables.
     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]
     *  The "interpolate" delimiter.
     * @param {string} [options.sourceURL='lodash.templateSources[n]']
     *  The sourceURL of the compiled template.
     * @param {string} [options.variable='obj']
     *  The data object variable name.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Function} Returns the compiled template function.
     * @example
     *
     * // Use the "interpolate" delimiter to create a compiled template.
     * var compiled = _.template('hello <%= user %>!');
     * compiled({ 'user': 'fred' });
     * // => 'hello fred!'
     *
     * // Use the HTML "escape" delimiter to escape data property values.
     * var compiled = _.template('<b><%- value %></b>');
     * compiled({ 'value': '<script>' });
     * // => '<b>&lt;script&gt;</b>'
     *
     * // Use the "evaluate" delimiter to execute JavaScript and generate HTML.
     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');
     * compiled({ 'users': ['fred', 'barney'] });
     * // => '<li>fred</li><li>barney</li>'
     *
     * // Use the internal `print` function in "evaluate" delimiters.
     * var compiled = _.template('<% print("hello " + user); %>!');
     * compiled({ 'user': 'barney' });
     * // => 'hello barney!'
     *
     * // Use the ES template literal delimiter as an "interpolate" delimiter.
     * // Disable support by replacing the "interpolate" delimiter.
     * var compiled = _.template('hello ${ user }!');
     * compiled({ 'user': 'pebbles' });
     * // => 'hello pebbles!'
     *
     * // Use backslashes to treat delimiters as plain text.
     * var compiled = _.template('<%= "\\<%- value %\\>" %>');
     * compiled({ 'value': 'ignored' });
     * // => '<%- value %>'
     *
     * // Use the `imports` option to import `jQuery` as `jq`.
     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';
     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });
     * compiled({ 'users': ['fred', 'barney'] });
     * // => '<li>fred</li><li>barney</li>'
     *
     * // Use the `sourceURL` option to specify a custom sourceURL for the template.
     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });
     * compiled(data);
     * // => Find the source of "greeting.jst" under the Sources tab or Resources panel of the web inspector.
     *
     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.
     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });
     * compiled.source;
     * // => function(data) {
     * //   var __t, __p = '';
     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';
     * //   return __p;
     * // }
     *
     * // Use custom template delimiters.
     * _.templateSettings.interpolate = /{{([\s\S]+?)}}/g;
     * var compiled = _.template('hello {{ user }}!');
     * compiled({ 'user': 'mustache' });
     * // => 'hello mustache!'
     *
     * // Use the `source` property to inline compiled templates for meaningful
     * // line numbers in error messages and stack traces.
     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\
     *   var JST = {\
     *     "main": ' + _.template(mainText).source + '\
     *   };\
     * ');
     */
    function template(string, options, guard) {
      // Based on John Resig's `tmpl` implementation
      // (http://ejohn.org/blog/javascript-micro-templating/)
      // and Laura Doktorova's doT.js (https://github.com/olado/doT).
      var settings = lodash.templateSettings;

      if (guard && isIterateeCall(string, options, guard)) {
        options = undefined;
      }
      string = toString(string);
      options = assignInWith({}, options, settings, customDefaultsAssignIn);

      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),
          importsKeys = keys(imports),
          importsValues = baseValues(imports, importsKeys);

      var isEscaping,
          isEvaluating,
          index = 0,
          interpolate = options.interpolate || reNoMatch,
          source = "__p += '";

      // Compile the regexp to match each delimiter.
      var reDelimiters = RegExp(
        (options.escape || reNoMatch).source + '|' +
        interpolate.source + '|' +
        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +
        (options.evaluate || reNoMatch).source + '|$'
      , 'g');

      // Use a sourceURL for easier debugging.
      // The sourceURL gets injected into the source that's eval-ed, so be careful
      // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in
      // and escape the comment, thus injecting code that gets evaled.
      var sourceURL = '//# sourceURL=' +
        (hasOwnProperty.call(options, 'sourceURL')
          ? (options.sourceURL + '').replace(/\s/g, ' ')
          : ('lodash.templateSources[' + (++templateCounter) + ']')
        ) + '\n';

      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {
        interpolateValue || (interpolateValue = esTemplateValue);

        // Escape characters that can't be included in string literals.
        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);

        // Replace delimiters with snippets.
        if (escapeValue) {
          isEscaping = true;
          source += "' +\n__e(" + escapeValue + ") +\n'";
        }
        if (evaluateValue) {
          isEvaluating = true;
          source += "';\n" + evaluateValue + ";\n__p += '";
        }
        if (interpolateValue) {
          source += "' +\n((__t = (" + interpolateValue + ")) == null ? '' : __t) +\n'";
        }
        index = offset + match.length;

        // The JS engine embedded in Adobe products needs `match` returned in
        // order to produce the correct `offset` value.
        return match;
      });

      source += "';\n";

      // If `variable` is not specified wrap a with-statement around the generated
      // code to add the data object to the top of the scope chain.
      var variable = hasOwnProperty.call(options, 'variable') && options.variable;
      if (!variable) {
        source = 'with (obj) {\n' + source + '\n}\n';
      }
      // Throw an error if a forbidden character was found in `variable`, to prevent
      // potential command injection attacks.
      else if (reForbiddenIdentifierChars.test(variable)) {
        throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);
      }

      // Cleanup code by stripping empty strings.
      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)
        .replace(reEmptyStringMiddle, '$1')
        .replace(reEmptyStringTrailing, '$1;');

      // Frame code as the function body.
      source = 'function(' + (variable || 'obj') + ') {\n' +
        (variable
          ? ''
          : 'obj || (obj = {});\n'
        ) +
        "var __t, __p = ''" +
        (isEscaping
           ? ', __e = _.escape'
           : ''
        ) +
        (isEvaluating
          ? ', __j = Array.prototype.join;\n' +
            "function print() { __p += __j.call(arguments, '') }\n"
          : ';\n'
        ) +
        source +
        'return __p\n}';

      var result = attempt(function() {
        return Function(importsKeys, sourceURL + 'return ' + source)
          .apply(undefined, importsValues);
      });

      // Provide the compiled function's source by its `toString` method or
      // the `source` property as a convenience for inlining compiled templates.
      result.source = source;
      if (isError(result)) {
        throw result;
      }
      return result;
    }

    /**
     * Converts `string`, as a whole, to lower case just like
     * [String#toLowerCase](https://mdn.io/toLowerCase).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the lower cased string.
     * @example
     *
     * _.toLower('--Foo-Bar--');
     * // => '--foo-bar--'
     *
     * _.toLower('fooBar');
     * // => 'foobar'
     *
     * _.toLower('__FOO_BAR__');
     * // => '__foo_bar__'
     */
    function toLower(value) {
      return toString(value).toLowerCase();
    }

    /**
     * Converts `string`, as a whole, to upper case just like
     * [String#toUpperCase](https://mdn.io/toUpperCase).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the upper cased string.
     * @example
     *
     * _.toUpper('--foo-bar--');
     * // => '--FOO-BAR--'
     *
     * _.toUpper('fooBar');
     * // => 'FOOBAR'
     *
     * _.toUpper('__foo_bar__');
     * // => '__FOO_BAR__'
     */
    function toUpper(value) {
      return toString(value).toUpperCase();
    }

    /**
     * Removes leading and trailing whitespace or specified characters from `string`.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to trim.
     * @param {string} [chars=whitespace] The characters to trim.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {string} Returns the trimmed string.
     * @example
     *
     * _.trim('  abc  ');
     * // => 'abc'
     *
     * _.trim('-_-abc-_-', '_-');
     * // => 'abc'
     *
     * _.map(['  foo  ', '  bar  '], _.trim);
     * // => ['foo', 'bar']
     */
    function trim(string, chars, guard) {
      string = toString(string);
      if (string && (guard || chars === undefined)) {
        return baseTrim(string);
      }
      if (!string || !(chars = baseToString(chars))) {
        return string;
      }
      var strSymbols = stringToArray(string),
          chrSymbols = stringToArray(chars),
          start = charsStartIndex(strSymbols, chrSymbols),
          end = charsEndIndex(strSymbols, chrSymbols) + 1;

      return castSlice(strSymbols, start, end).join('');
    }

    /**
     * Removes trailing whitespace or specified characters from `string`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to trim.
     * @param {string} [chars=whitespace] The characters to trim.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {string} Returns the trimmed string.
     * @example
     *
     * _.trimEnd('  abc  ');
     * // => '  abc'
     *
     * _.trimEnd('-_-abc-_-', '_-');
     * // => '-_-abc'
     */
    function trimEnd(string, chars, guard) {
      string = toString(string);
      if (string && (guard || chars === undefined)) {
        return string.slice(0, trimmedEndIndex(string) + 1);
      }
      if (!string || !(chars = baseToString(chars))) {
        return string;
      }
      var strSymbols = stringToArray(string),
          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;

      return castSlice(strSymbols, 0, end).join('');
    }

    /**
     * Removes leading whitespace or specified characters from `string`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to trim.
     * @param {string} [chars=whitespace] The characters to trim.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {string} Returns the trimmed string.
     * @example
     *
     * _.trimStart('  abc  ');
     * // => 'abc  '
     *
     * _.trimStart('-_-abc-_-', '_-');
     * // => 'abc-_-'
     */
    function trimStart(string, chars, guard) {
      string = toString(string);
      if (string && (guard || chars === undefined)) {
        return string.replace(reTrimStart, '');
      }
      if (!string || !(chars = baseToString(chars))) {
        return string;
      }
      var strSymbols = stringToArray(string),
          start = charsStartIndex(strSymbols, stringToArray(chars));

      return castSlice(strSymbols, start).join('');
    }

    /**
     * Truncates `string` if it's longer than the given maximum string length.
     * The last characters of the truncated string are replaced with the omission
     * string which defaults to "...".
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to truncate.
     * @param {Object} [options={}] The options object.
     * @param {number} [options.length=30] The maximum string length.
     * @param {string} [options.omission='...'] The string to indicate text is omitted.
     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.
     * @returns {string} Returns the truncated string.
     * @example
     *
     * _.truncate('hi-diddly-ho there, neighborino');
     * // => 'hi-diddly-ho there, neighbo...'
     *
     * _.truncate('hi-diddly-ho there, neighborino', {
     *   'length': 24,
     *   'separator': ' '
     * });
     * // => 'hi-diddly-ho there,...'
     *
     * _.truncate('hi-diddly-ho there, neighborino', {
     *   'length': 24,
     *   'separator': /,? +/
     * });
     * // => 'hi-diddly-ho there...'
     *
     * _.truncate('hi-diddly-ho there, neighborino', {
     *   'omission': ' [...]'
     * });
     * // => 'hi-diddly-ho there, neig [...]'
     */
    function truncate(string, options) {
      var length = DEFAULT_TRUNC_LENGTH,
          omission = DEFAULT_TRUNC_OMISSION;

      if (isObject(options)) {
        var separator = 'separator' in options ? options.separator : separator;
        length = 'length' in options ? toInteger(options.length) : length;
        omission = 'omission' in options ? baseToString(options.omission) : omission;
      }
      string = toString(string);

      var strLength = string.length;
      if (hasUnicode(string)) {
        var strSymbols = stringToArray(string);
        strLength = strSymbols.length;
      }
      if (length >= strLength) {
        return string;
      }
      var end = length - stringSize(omission);
      if (end < 1) {
        return omission;
      }
      var result = strSymbols
        ? castSlice(strSymbols, 0, end).join('')
        : string.slice(0, end);

      if (separator === undefined) {
        return result + omission;
      }
      if (strSymbols) {
        end += (result.length - end);
      }
      if (isRegExp(separator)) {
        if (string.slice(end).search(separator)) {
          var match,
              substring = result;

          if (!separator.global) {
            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');
          }
          separator.lastIndex = 0;
          while ((match = separator.exec(substring))) {
            var newEnd = match.index;
          }
          result = result.slice(0, newEnd === undefined ? end : newEnd);
        }
      } else if (string.indexOf(baseToString(separator), end) != end) {
        var index = result.lastIndexOf(separator);
        if (index > -1) {
          result = result.slice(0, index);
        }
      }
      return result + omission;
    }

    /**
     * The inverse of `_.escape`; this method converts the HTML entities
     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to
     * their corresponding characters.
     *
     * **Note:** No other HTML entities are unescaped. To unescape additional
     * HTML entities use a third-party library like [_he_](https://mths.be/he).
     *
     * @static
     * @memberOf _
     * @since 0.6.0
     * @category String
     * @param {string} [string=''] The string to unescape.
     * @returns {string} Returns the unescaped string.
     * @example
     *
     * _.unescape('fred, barney, &amp; pebbles');
     * // => 'fred, barney, & pebbles'
     */
    function unescape(string) {
      string = toString(string);
      return (string && reHasEscapedHtml.test(string))
        ? string.replace(reEscapedHtml, unescapeHtmlChar)
        : string;
    }

    /**
     * Converts `string`, as space separated words, to upper case.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the upper cased string.
     * @example
     *
     * _.upperCase('--foo-bar');
     * // => 'FOO BAR'
     *
     * _.upperCase('fooBar');
     * // => 'FOO BAR'
     *
     * _.upperCase('__foo_bar__');
     * // => 'FOO BAR'
     */
    var upperCase = createCompounder(function(result, word, index) {
      return result + (index ? ' ' : '') + word.toUpperCase();
    });

    /**
     * Converts the first character of `string` to upper case.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the converted string.
     * @example
     *
     * _.upperFirst('fred');
     * // => 'Fred'
     *
     * _.upperFirst('FRED');
     * // => 'FRED'
     */
    var upperFirst = createCaseFirst('toUpperCase');

    /**
     * Splits `string` into an array of its words.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to inspect.
     * @param {RegExp|string} [pattern] The pattern to match words.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the words of `string`.
     * @example
     *
     * _.words('fred, barney, & pebbles');
     * // => ['fred', 'barney', 'pebbles']
     *
     * _.words('fred, barney, & pebbles', /[^, ]+/g);
     * // => ['fred', 'barney', '&', 'pebbles']
     */
    function words(string, pattern, guard) {
      string = toString(string);
      pattern = guard ? undefined : pattern;

      if (pattern === undefined) {
        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);
      }
      return string.match(pattern) || [];
    }

    /*------------------------------------------------------------------------*/

    /**
     * Attempts to invoke `func`, returning either the result or the caught error
     * object. Any additional arguments are provided to `func` when it's invoked.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Util
     * @param {Function} func The function to attempt.
     * @param {...*} [args] The arguments to invoke `func` with.
     * @returns {*} Returns the `func` result or error object.
     * @example
     *
     * // Avoid throwing errors for invalid selectors.
     * var elements = _.attempt(function(selector) {
     *   return document.querySelectorAll(selector);
     * }, '>_>');
     *
     * if (_.isError(elements)) {
     *   elements = [];
     * }
     */
    var attempt = baseRest(function(func, args) {
      try {
        return apply(func, undefined, args);
      } catch (e) {
        return isError(e) ? e : new Error(e);
      }
    });

    /**
     * Binds methods of an object to the object itself, overwriting the existing
     * method.
     *
     * **Note:** This method doesn't set the "length" property of bound functions.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {Object} object The object to bind and assign the bound methods to.
     * @param {...(string|string[])} methodNames The object method names to bind.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var view = {
     *   'label': 'docs',
     *   'click': function() {
     *     console.log('clicked ' + this.label);
     *   }
     * };
     *
     * _.bindAll(view, ['click']);
     * jQuery(element).on('click', view.click);
     * // => Logs 'clicked docs' when clicked.
     */
    var bindAll = flatRest(function(object, methodNames) {
      arrayEach(methodNames, function(key) {
        key = toKey(key);
        baseAssignValue(object, key, bind(object[key], object));
      });
      return object;
    });

    /**
     * Creates a function that iterates over `pairs` and invokes the corresponding
     * function of the first predicate to return truthy. The predicate-function
     * pairs are invoked with the `this` binding and arguments of the created
     * function.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {Array} pairs The predicate-function pairs.
     * @returns {Function} Returns the new composite function.
     * @example
     *
     * var func = _.cond([
     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],
     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],
     *   [_.stubTrue,                      _.constant('no match')]
     * ]);
     *
     * func({ 'a': 1, 'b': 2 });
     * // => 'matches A'
     *
     * func({ 'a': 0, 'b': 1 });
     * // => 'matches B'
     *
     * func({ 'a': '1', 'b': '2' });
     * // => 'no match'
     */
    function cond(pairs) {
      var length = pairs == null ? 0 : pairs.length,
          toIteratee = getIteratee();

      pairs = !length ? [] : arrayMap(pairs, function(pair) {
        if (typeof pair[1] != 'function') {
          throw new TypeError(FUNC_ERROR_TEXT);
        }
        return [toIteratee(pair[0]), pair[1]];
      });

      return baseRest(function(args) {
        var index = -1;
        while (++index < length) {
          var pair = pairs[index];
          if (apply(pair[0], this, args)) {
            return apply(pair[1], this, args);
          }
        }
      });
    }

    /**
     * Creates a function that invokes the predicate properties of `source` with
     * the corresponding property values of a given object, returning `true` if
     * all predicates return truthy, else `false`.
     *
     * **Note:** The created function is equivalent to `_.conformsTo` with
     * `source` partially applied.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {Object} source The object of property predicates to conform to.
     * @returns {Function} Returns the new spec function.
     * @example
     *
     * var objects = [
     *   { 'a': 2, 'b': 1 },
     *   { 'a': 1, 'b': 2 }
     * ];
     *
     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));
     * // => [{ 'a': 1, 'b': 2 }]
     */
    function conforms(source) {
      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));
    }

    /**
     * Creates a function that returns `value`.
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Util
     * @param {*} value The value to return from the new function.
     * @returns {Function} Returns the new constant function.
     * @example
     *
     * var objects = _.times(2, _.constant({ 'a': 1 }));
     *
     * console.log(objects);
     * // => [{ 'a': 1 }, { 'a': 1 }]
     *
     * console.log(objects[0] === objects[1]);
     * // => true
     */
    function constant(value) {
      return function() {
        return value;
      };
    }

    /**
     * Checks `value` to determine whether a default value should be returned in
     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,
     * or `undefined`.
     *
     * @static
     * @memberOf _
     * @since 4.14.0
     * @category Util
     * @param {*} value The value to check.
     * @param {*} defaultValue The default value.
     * @returns {*} Returns the resolved value.
     * @example
     *
     * _.defaultTo(1, 10);
     * // => 1
     *
     * _.defaultTo(undefined, 10);
     * // => 10
     */
    function defaultTo(value, defaultValue) {
      return (value == null || value !== value) ? defaultValue : value;
    }

    /**
     * Creates a function that returns the result of invoking the given functions
     * with the `this` binding of the created function, where each successive
     * invocation is supplied the return value of the previous.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Util
     * @param {...(Function|Function[])} [funcs] The functions to invoke.
     * @returns {Function} Returns the new composite function.
     * @see _.flowRight
     * @example
     *
     * function square(n) {
     *   return n * n;
     * }
     *
     * var addSquare = _.flow([_.add, square]);
     * addSquare(1, 2);
     * // => 9
     */
    var flow = createFlow();

    /**
     * This method is like `_.flow` except that it creates a function that
     * invokes the given functions from right to left.
     *
     * @static
     * @since 3.0.0
     * @memberOf _
     * @category Util
     * @param {...(Function|Function[])} [funcs] The functions to invoke.
     * @returns {Function} Returns the new composite function.
     * @see _.flow
     * @example
     *
     * function square(n) {
     *   return n * n;
     * }
     *
     * var addSquare = _.flowRight([square, _.add]);
     * addSquare(1, 2);
     * // => 9
     */
    var flowRight = createFlow(true);

    /**
     * This method returns the first argument it receives.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {*} value Any value.
     * @returns {*} Returns `value`.
     * @example
     *
     * var object = { 'a': 1 };
     *
     * console.log(_.identity(object) === object);
     * // => true
     */
    function identity(value) {
      return value;
    }

    /**
     * Creates a function that invokes `func` with the arguments of the created
     * function. If `func` is a property name, the created function returns the
     * property value for a given element. If `func` is an array or object, the
     * created function returns `true` for elements that contain the equivalent
     * source properties, otherwise it returns `false`.
     *
     * @static
     * @since 4.0.0
     * @memberOf _
     * @category Util
     * @param {*} [func=_.identity] The value to convert to a callback.
     * @returns {Function} Returns the callback.
     * @example
     *
     * var users = [
     *   { 'user': 'barney', 'age': 36, 'active': true },
     *   { 'user': 'fred',   'age': 40, 'active': false }
     * ];
     *
     * // The `_.matches` iteratee shorthand.
     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));
     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.filter(users, _.iteratee(['user', 'fred']));
     * // => [{ 'user': 'fred', 'age': 40 }]
     *
     * // The `_.property` iteratee shorthand.
     * _.map(users, _.iteratee('user'));
     * // => ['barney', 'fred']
     *
     * // Create custom iteratee shorthands.
     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {
     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {
     *     return func.test(string);
     *   };
     * });
     *
     * _.filter(['abc', 'def'], /ef/);
     * // => ['def']
     */
    function iteratee(func) {
      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));
    }

    /**
     * Creates a function that performs a partial deep comparison between a given
     * object and `source`, returning `true` if the given object has equivalent
     * property values, else `false`.
     *
     * **Note:** The created function is equivalent to `_.isMatch` with `source`
     * partially applied.
     *
     * Partial comparisons will match empty array and empty object `source`
     * values against any array or object value, respectively. See `_.isEqual`
     * for a list of supported value comparisons.
     *
     * **Note:** Multiple values can be checked by combining several matchers
     * using `_.overSome`
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Util
     * @param {Object} source The object of property values to match.
     * @returns {Function} Returns the new spec function.
     * @example
     *
     * var objects = [
     *   { 'a': 1, 'b': 2, 'c': 3 },
     *   { 'a': 4, 'b': 5, 'c': 6 }
     * ];
     *
     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));
     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]
     *
     * // Checking for several possible values
     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));
     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]
     */
    function matches(source) {
      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));
    }

    /**
     * Creates a function that performs a partial deep comparison between the
     * value at `path` of a given object to `srcValue`, returning `true` if the
     * object value is equivalent, else `false`.
     *
     * **Note:** Partial comparisons will match empty array and empty object
     * `srcValue` values against any array or object value, respectively. See
     * `_.isEqual` for a list of supported value comparisons.
     *
     * **Note:** Multiple values can be checked by combining several matchers
     * using `_.overSome`
     *
     * @static
     * @memberOf _
     * @since 3.2.0
     * @category Util
     * @param {Array|string} path The path of the property to get.
     * @param {*} srcValue The value to match.
     * @returns {Function} Returns the new spec function.
     * @example
     *
     * var objects = [
     *   { 'a': 1, 'b': 2, 'c': 3 },
     *   { 'a': 4, 'b': 5, 'c': 6 }
     * ];
     *
     * _.find(objects, _.matchesProperty('a', 4));
     * // => { 'a': 4, 'b': 5, 'c': 6 }
     *
     * // Checking for several possible values
     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));
     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]
     */
    function matchesProperty(path, srcValue) {
      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));
    }

    /**
     * Creates a function that invokes the method at `path` of a given object.
     * Any additional arguments are provided to the invoked method.
     *
     * @static
     * @memberOf _
     * @since 3.7.0
     * @category Util
     * @param {Array|string} path The path of the method to invoke.
     * @param {...*} [args] The arguments to invoke the method with.
     * @returns {Function} Returns the new invoker function.
     * @example
     *
     * var objects = [
     *   { 'a': { 'b': _.constant(2) } },
     *   { 'a': { 'b': _.constant(1) } }
     * ];
     *
     * _.map(objects, _.method('a.b'));
     * // => [2, 1]
     *
     * _.map(objects, _.method(['a', 'b']));
     * // => [2, 1]
     */
    var method = baseRest(function(path, args) {
      return function(object) {
        return baseInvoke(object, path, args);
      };
    });

    /**
     * The opposite of `_.method`; this method creates a function that invokes
     * the method at a given path of `object`. Any additional arguments are
     * provided to the invoked method.
     *
     * @static
     * @memberOf _
     * @since 3.7.0
     * @category Util
     * @param {Object} object The object to query.
     * @param {...*} [args] The arguments to invoke the method with.
     * @returns {Function} Returns the new invoker function.
     * @example
     *
     * var array = _.times(3, _.constant),
     *     object = { 'a': array, 'b': array, 'c': array };
     *
     * _.map(['a[2]', 'c[0]'], _.methodOf(object));
     * // => [2, 0]
     *
     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));
     * // => [2, 0]
     */
    var methodOf = baseRest(function(object, args) {
      return function(path) {
        return baseInvoke(object, path, args);
      };
    });

    /**
     * Adds all own enumerable string keyed function properties of a source
     * object to the destination object. If `object` is a function, then methods
     * are added to its prototype as well.
     *
     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to
     * avoid conflicts caused by modifying the original.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {Function|Object} [object=lodash] The destination object.
     * @param {Object} source The object of functions to add.
     * @param {Object} [options={}] The options object.
     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.
     * @returns {Function|Object} Returns `object`.
     * @example
     *
     * function vowels(string) {
     *   return _.filter(string, function(v) {
     *     return /[aeiou]/i.test(v);
     *   });
     * }
     *
     * _.mixin({ 'vowels': vowels });
     * _.vowels('fred');
     * // => ['e']
     *
     * _('fred').vowels().value();
     * // => ['e']
     *
     * _.mixin({ 'vowels': vowels }, { 'chain': false });
     * _('fred').vowels();
     * // => ['e']
     */
    function mixin(object, source, options) {
      var props = keys(source),
          methodNames = baseFunctions(source, props);

      if (options == null &&
          !(isObject(source) && (methodNames.length || !props.length))) {
        options = source;
        source = object;
        object = this;
        methodNames = baseFunctions(source, keys(source));
      }
      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,
          isFunc = isFunction(object);

      arrayEach(methodNames, function(methodName) {
        var func = source[methodName];
        object[methodName] = func;
        if (isFunc) {
          object.prototype[methodName] = function() {
            var chainAll = this.__chain__;
            if (chain || chainAll) {
              var result = object(this.__wrapped__),
                  actions = result.__actions__ = copyArray(this.__actions__);

              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });
              result.__chain__ = chainAll;
              return result;
            }
            return func.apply(object, arrayPush([this.value()], arguments));
          };
        }
      });

      return object;
    }

    /**
     * Reverts the `_` variable to its previous value and returns a reference to
     * the `lodash` function.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @returns {Function} Returns the `lodash` function.
     * @example
     *
     * var lodash = _.noConflict();
     */
    function noConflict() {
      if (root._ === this) {
        root._ = oldDash;
      }
      return this;
    }

    /**
     * This method returns `undefined`.
     *
     * @static
     * @memberOf _
     * @since 2.3.0
     * @category Util
     * @example
     *
     * _.times(2, _.noop);
     * // => [undefined, undefined]
     */
    function noop() {
      // No operation performed.
    }

    /**
     * Creates a function that gets the argument at index `n`. If `n` is negative,
     * the nth argument from the end is returned.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {number} [n=0] The index of the argument to return.
     * @returns {Function} Returns the new pass-thru function.
     * @example
     *
     * var func = _.nthArg(1);
     * func('a', 'b', 'c', 'd');
     * // => 'b'
     *
     * var func = _.nthArg(-2);
     * func('a', 'b', 'c', 'd');
     * // => 'c'
     */
    function nthArg(n) {
      n = toInteger(n);
      return baseRest(function(args) {
        return baseNth(args, n);
      });
    }

    /**
     * Creates a function that invokes `iteratees` with the arguments it receives
     * and returns their results.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {...(Function|Function[])} [iteratees=[_.identity]]
     *  The iteratees to invoke.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var func = _.over([Math.max, Math.min]);
     *
     * func(1, 2, 3, 4);
     * // => [4, 1]
     */
    var over = createOver(arrayMap);

    /**
     * Creates a function that checks if **all** of the `predicates` return
     * truthy when invoked with the arguments it receives.
     *
     * Following shorthands are possible for providing predicates.
     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.
     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {...(Function|Function[])} [predicates=[_.identity]]
     *  The predicates to check.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var func = _.overEvery([Boolean, isFinite]);
     *
     * func('1');
     * // => true
     *
     * func(null);
     * // => false
     *
     * func(NaN);
     * // => false
     */
    var overEvery = createOver(arrayEvery);

    /**
     * Creates a function that checks if **any** of the `predicates` return
     * truthy when invoked with the arguments it receives.
     *
     * Following shorthands are possible for providing predicates.
     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.
     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {...(Function|Function[])} [predicates=[_.identity]]
     *  The predicates to check.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var func = _.overSome([Boolean, isFinite]);
     *
     * func('1');
     * // => true
     *
     * func(null);
     * // => true
     *
     * func(NaN);
     * // => false
     *
     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])
     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])
     */
    var overSome = createOver(arraySome);

    /**
     * Creates a function that returns the value at `path` of a given object.
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Util
     * @param {Array|string} path The path of the property to get.
     * @returns {Function} Returns the new accessor function.
     * @example
     *
     * var objects = [
     *   { 'a': { 'b': 2 } },
     *   { 'a': { 'b': 1 } }
     * ];
     *
     * _.map(objects, _.property('a.b'));
     * // => [2, 1]
     *
     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');
     * // => [1, 2]
     */
    function property(path) {
      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);
    }

    /**
     * The opposite of `_.property`; this method creates a function that returns
     * the value at a given path of `object`.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Util
     * @param {Object} object The object to query.
     * @returns {Function} Returns the new accessor function.
     * @example
     *
     * var array = [0, 1, 2],
     *     object = { 'a': array, 'b': array, 'c': array };
     *
     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));
     * // => [2, 0]
     *
     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));
     * // => [2, 0]
     */
    function propertyOf(object) {
      return function(path) {
        return object == null ? undefined : baseGet(object, path);
      };
    }

    /**
     * Creates an array of numbers (positive and/or negative) progressing from
     * `start` up to, but not including, `end`. A step of `-1` is used if a negative
     * `start` is specified without an `end` or `step`. If `end` is not specified,
     * it's set to `start` with `start` then set to `0`.
     *
     * **Note:** JavaScript follows the IEEE-754 standard for resolving
     * floating-point values which can produce unexpected results.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {number} [start=0] The start of the range.
     * @param {number} end The end of the range.
     * @param {number} [step=1] The value to increment or decrement by.
     * @returns {Array} Returns the range of numbers.
     * @see _.inRange, _.rangeRight
     * @example
     *
     * _.range(4);
     * // => [0, 1, 2, 3]
     *
     * _.range(-4);
     * // => [0, -1, -2, -3]
     *
     * _.range(1, 5);
     * // => [1, 2, 3, 4]
     *
     * _.range(0, 20, 5);
     * // => [0, 5, 10, 15]
     *
     * _.range(0, -4, -1);
     * // => [0, -1, -2, -3]
     *
     * _.range(1, 4, 0);
     * // => [1, 1, 1]
     *
     * _.range(0);
     * // => []
     */
    var range = createRange();

    /**
     * This method is like `_.range` except that it populates values in
     * descending order.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {number} [start=0] The start of the range.
     * @param {number} end The end of the range.
     * @param {number} [step=1] The value to increment or decrement by.
     * @returns {Array} Returns the range of numbers.
     * @see _.inRange, _.range
     * @example
     *
     * _.rangeRight(4);
     * // => [3, 2, 1, 0]
     *
     * _.rangeRight(-4);
     * // => [-3, -2, -1, 0]
     *
     * _.rangeRight(1, 5);
     * // => [4, 3, 2, 1]
     *
     * _.rangeRight(0, 20, 5);
     * // => [15, 10, 5, 0]
     *
     * _.rangeRight(0, -4, -1);
     * // => [-3, -2, -1, 0]
     *
     * _.rangeRight(1, 4, 0);
     * // => [1, 1, 1]
     *
     * _.rangeRight(0);
     * // => []
     */
    var rangeRight = createRange(true);

    /**
     * This method returns a new empty array.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {Array} Returns the new empty array.
     * @example
     *
     * var arrays = _.times(2, _.stubArray);
     *
     * console.log(arrays);
     * // => [[], []]
     *
     * console.log(arrays[0] === arrays[1]);
     * // => false
     */
    function stubArray() {
      return [];
    }

    /**
     * This method returns `false`.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {boolean} Returns `false`.
     * @example
     *
     * _.times(2, _.stubFalse);
     * // => [false, false]
     */
    function stubFalse() {
      return false;
    }

    /**
     * This method returns a new empty object.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {Object} Returns the new empty object.
     * @example
     *
     * var objects = _.times(2, _.stubObject);
     *
     * console.log(objects);
     * // => [{}, {}]
     *
     * console.log(objects[0] === objects[1]);
     * // => false
     */
    function stubObject() {
      return {};
    }

    /**
     * This method returns an empty string.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {string} Returns the empty string.
     * @example
     *
     * _.times(2, _.stubString);
     * // => ['', '']
     */
    function stubString() {
      return '';
    }

    /**
     * This method returns `true`.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {boolean} Returns `true`.
     * @example
     *
     * _.times(2, _.stubTrue);
     * // => [true, true]
     */
    function stubTrue() {
      return true;
    }

    /**
     * Invokes the iteratee `n` times, returning an array of the results of
     * each invocation. The iteratee is invoked with one argument; (index).
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {number} n The number of times to invoke `iteratee`.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the array of results.
     * @example
     *
     * _.times(3, String);
     * // => ['0', '1', '2']
     *
     *  _.times(4, _.constant(0));
     * // => [0, 0, 0, 0]
     */
    function times(n, iteratee) {
      n = toInteger(n);
      if (n < 1 || n > MAX_SAFE_INTEGER) {
        return [];
      }
      var index = MAX_ARRAY_LENGTH,
          length = nativeMin(n, MAX_ARRAY_LENGTH);

      iteratee = getIteratee(iteratee);
      n -= MAX_ARRAY_LENGTH;

      var result = baseTimes(length, iteratee);
      while (++index < n) {
        iteratee(index);
      }
      return result;
    }

    /**
     * Converts `value` to a property path array.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {*} value The value to convert.
     * @returns {Array} Returns the new property path array.
     * @example
     *
     * _.toPath('a.b.c');
     * // => ['a', 'b', 'c']
     *
     * _.toPath('a[0].b.c');
     * // => ['a', '0', 'b', 'c']
     */
    function toPath(value) {
      if (isArray(value)) {
        return arrayMap(value, toKey);
      }
      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));
    }

    /**
     * Generates a unique ID. If `prefix` is given, the ID is appended to it.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {string} [prefix=''] The value to prefix the ID with.
     * @returns {string} Returns the unique ID.
     * @example
     *
     * _.uniqueId('contact_');
     * // => 'contact_104'
     *
     * _.uniqueId();
     * // => '105'
     */
    function uniqueId(prefix) {
      var id = ++idCounter;
      return toString(prefix) + id;
    }

    /*------------------------------------------------------------------------*/

    /**
     * Adds two numbers.
     *
     * @static
     * @memberOf _
     * @since 3.4.0
     * @category Math
     * @param {number} augend The first number in an addition.
     * @param {number} addend The second number in an addition.
     * @returns {number} Returns the total.
     * @example
     *
     * _.add(6, 4);
     * // => 10
     */
    var add = createMathOperation(function(augend, addend) {
      return augend + addend;
    }, 0);

    /**
     * Computes `number` rounded up to `precision`.
     *
     * @static
     * @memberOf _
     * @since 3.10.0
     * @category Math
     * @param {number} number The number to round up.
     * @param {number} [precision=0] The precision to round up to.
     * @returns {number} Returns the rounded up number.
     * @example
     *
     * _.ceil(4.006);
     * // => 5
     *
     * _.ceil(6.004, 2);
     * // => 6.01
     *
     * _.ceil(6040, -2);
     * // => 6100
     */
    var ceil = createRound('ceil');

    /**
     * Divide two numbers.
     *
     * @static
     * @memberOf _
     * @since 4.7.0
     * @category Math
     * @param {number} dividend The first number in a division.
     * @param {number} divisor The second number in a division.
     * @returns {number} Returns the quotient.
     * @example
     *
     * _.divide(6, 4);
     * // => 1.5
     */
    var divide = createMathOperation(function(dividend, divisor) {
      return dividend / divisor;
    }, 1);

    /**
     * Computes `number` rounded down to `precision`.
     *
     * @static
     * @memberOf _
     * @since 3.10.0
     * @category Math
     * @param {number} number The number to round down.
     * @param {number} [precision=0] The precision to round down to.
     * @returns {number} Returns the rounded down number.
     * @example
     *
     * _.floor(4.006);
     * // => 4
     *
     * _.floor(0.046, 2);
     * // => 0.04
     *
     * _.floor(4060, -2);
     * // => 4000
     */
    var floor = createRound('floor');

    /**
     * Computes the maximum value of `array`. If `array` is empty or falsey,
     * `undefined` is returned.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Math
     * @param {Array} array The array to iterate over.
     * @returns {*} Returns the maximum value.
     * @example
     *
     * _.max([4, 2, 8, 6]);
     * // => 8
     *
     * _.max([]);
     * // => undefined
     */
    function max(array) {
      return (array && array.length)
        ? baseExtremum(array, identity, baseGt)
        : undefined;
    }

    /**
     * This method is like `_.max` except that it accepts `iteratee` which is
     * invoked for each element in `array` to generate the criterion by which
     * the value is ranked. The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Math
     * @param {Array} array The array to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {*} Returns the maximum value.
     * @example
     *
     * var objects = [{ 'n': 1 }, { 'n': 2 }];
     *
     * _.maxBy(objects, function(o) { return o.n; });
     * // => { 'n': 2 }
     *
     * // The `_.property` iteratee shorthand.
     * _.maxBy(objects, 'n');
     * // => { 'n': 2 }
     */
    function maxBy(array, iteratee) {
      return (array && array.length)
        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)
        : undefined;
    }

    /**
     * Computes the mean of the values in `array`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Math
     * @param {Array} array The array to iterate over.
     * @returns {number} Returns the mean.
     * @example
     *
     * _.mean([4, 2, 8, 6]);
     * // => 5
     */
    function mean(array) {
      return baseMean(array, identity);
    }

    /**
     * This method is like `_.mean` except that it accepts `iteratee` which is
     * invoked for each element in `array` to generate the value to be averaged.
     * The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.7.0
     * @category Math
     * @param {Array} array The array to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {number} Returns the mean.
     * @example
     *
     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];
     *
     * _.meanBy(objects, function(o) { return o.n; });
     * // => 5
     *
     * // The `_.property` iteratee shorthand.
     * _.meanBy(objects, 'n');
     * // => 5
     */
    function meanBy(array, iteratee) {
      return baseMean(array, getIteratee(iteratee, 2));
    }

    /**
     * Computes the minimum value of `array`. If `array` is empty or falsey,
     * `undefined` is returned.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Math
     * @param {Array} array The array to iterate over.
     * @returns {*} Returns the minimum value.
     * @example
     *
     * _.min([4, 2, 8, 6]);
     * // => 2
     *
     * _.min([]);
     * // => undefined
     */
    function min(array) {
      return (array && array.length)
        ? baseExtremum(array, identity, baseLt)
        : undefined;
    }

    /**
     * This method is like `_.min` except that it accepts `iteratee` which is
     * invoked for each element in `array` to generate the criterion by which
     * the value is ranked. The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Math
     * @param {Array} array The array to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {*} Returns the minimum value.
     * @example
     *
     * var objects = [{ 'n': 1 }, { 'n': 2 }];
     *
     * _.minBy(objects, function(o) { return o.n; });
     * // => { 'n': 1 }
     *
     * // The `_.property` iteratee shorthand.
     * _.minBy(objects, 'n');
     * // => { 'n': 1 }
     */
    function minBy(array, iteratee) {
      return (array && array.length)
        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)
        : undefined;
    }

    /**
     * Multiply two numbers.
     *
     * @static
     * @memberOf _
     * @since 4.7.0
     * @category Math
     * @param {number} multiplier The first number in a multiplication.
     * @param {number} multiplicand The second number in a multiplication.
     * @returns {number} Returns the product.
     * @example
     *
     * _.multiply(6, 4);
     * // => 24
     */
    var multiply = createMathOperation(function(multiplier, multiplicand) {
      return multiplier * multiplicand;
    }, 1);

    /**
     * Computes `number` rounded to `precision`.
     *
     * @static
     * @memberOf _
     * @since 3.10.0
     * @category Math
     * @param {number} number The number to round.
     * @param {number} [precision=0] The precision to round to.
     * @returns {number} Returns the rounded number.
     * @example
     *
     * _.round(4.006);
     * // => 4
     *
     * _.round(4.006, 2);
     * // => 4.01
     *
     * _.round(4060, -2);
     * // => 4100
     */
    var round = createRound('round');

    /**
     * Subtract two numbers.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Math
     * @param {number} minuend The first number in a subtraction.
     * @param {number} subtrahend The second number in a subtraction.
     * @returns {number} Returns the difference.
     * @example
     *
     * _.subtract(6, 4);
     * // => 2
     */
    var subtract = createMathOperation(function(minuend, subtrahend) {
      return minuend - subtrahend;
    }, 0);

    /**
     * Computes the sum of the values in `array`.
     *
     * @static
     * @memberOf _
     * @since 3.4.0
     * @category Math
     * @param {Array} array The array to iterate over.
     * @returns {number} Returns the sum.
     * @example
     *
     * _.sum([4, 2, 8, 6]);
     * // => 20
     */
    function sum(array) {
      return (array && array.length)
        ? baseSum(array, identity)
        : 0;
    }

    /**
     * This method is like `_.sum` except that it accepts `iteratee` which is
     * invoked for each element in `array` to generate the value to be summed.
     * The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Math
     * @param {Array} array The array to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {number} Returns the sum.
     * @example
     *
     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];
     *
     * _.sumBy(objects, function(o) { return o.n; });
     * // => 20
     *
     * // The `_.property` iteratee shorthand.
     * _.sumBy(objects, 'n');
     * // => 20
     */
    function sumBy(array, iteratee) {
      return (array && array.length)
        ? baseSum(array, getIteratee(iteratee, 2))
        : 0;
    }

    /*------------------------------------------------------------------------*/

    // Add methods that return wrapped values in chain sequences.
    lodash.after = after;
    lodash.ary = ary;
    lodash.assign = assign;
    lodash.assignIn = assignIn;
    lodash.assignInWith = assignInWith;
    lodash.assignWith = assignWith;
    lodash.at = at;
    lodash.before = before;
    lodash.bind = bind;
    lodash.bindAll = bindAll;
    lodash.bindKey = bindKey;
    lodash.castArray = castArray;
    lodash.chain = chain;
    lodash.chunk = chunk;
    lodash.compact = compact;
    lodash.concat = concat;
    lodash.cond = cond;
    lodash.conforms = conforms;
    lodash.constant = constant;
    lodash.countBy = countBy;
    lodash.create = create;
    lodash.curry = curry;
    lodash.curryRight = curryRight;
    lodash.debounce = debounce;
    lodash.defaults = defaults;
    lodash.defaultsDeep = defaultsDeep;
    lodash.defer = defer;
    lodash.delay = delay;
    lodash.difference = difference;
    lodash.differenceBy = differenceBy;
    lodash.differenceWith = differenceWith;
    lodash.drop = drop;
    lodash.dropRight = dropRight;
    lodash.dropRightWhile = dropRightWhile;
    lodash.dropWhile = dropWhile;
    lodash.fill = fill;
    lodash.filter = filter;
    lodash.flatMap = flatMap;
    lodash.flatMapDeep = flatMapDeep;
    lodash.flatMapDepth = flatMapDepth;
    lodash.flatten = flatten;
    lodash.flattenDeep = flattenDeep;
    lodash.flattenDepth = flattenDepth;
    lodash.flip = flip;
    lodash.flow = flow;
    lodash.flowRight = flowRight;
    lodash.fromPairs = fromPairs;
    lodash.functions = functions;
    lodash.functionsIn = functionsIn;
    lodash.groupBy = groupBy;
    lodash.initial = initial;
    lodash.intersection = intersection;
    lodash.intersectionBy = intersectionBy;
    lodash.intersectionWith = intersectionWith;
    lodash.invert = invert;
    lodash.invertBy = invertBy;
    lodash.invokeMap = invokeMap;
    lodash.iteratee = iteratee;
    lodash.keyBy = keyBy;
    lodash.keys = keys;
    lodash.keysIn = keysIn;
    lodash.map = map;
    lodash.mapKeys = mapKeys;
    lodash.mapValues = mapValues;
    lodash.matches = matches;
    lodash.matchesProperty = matchesProperty;
    lodash.memoize = memoize;
    lodash.merge = merge;
    lodash.mergeWith = mergeWith;
    lodash.method = method;
    lodash.methodOf = methodOf;
    lodash.mixin = mixin;
    lodash.negate = negate;
    lodash.nthArg = nthArg;
    lodash.omit = omit;
    lodash.omitBy = omitBy;
    lodash.once = once;
    lodash.orderBy = orderBy;
    lodash.over = over;
    lodash.overArgs = overArgs;
    lodash.overEvery = overEvery;
    lodash.overSome = overSome;
    lodash.partial = partial;
    lodash.partialRight = partialRight;
    lodash.partition = partition;
    lodash.pick = pick;
    lodash.pickBy = pickBy;
    lodash.property = property;
    lodash.propertyOf = propertyOf;
    lodash.pull = pull;
    lodash.pullAll = pullAll;
    lodash.pullAllBy = pullAllBy;
    lodash.pullAllWith = pullAllWith;
    lodash.pullAt = pullAt;
    lodash.range = range;
    lodash.rangeRight = rangeRight;
    lodash.rearg = rearg;
    lodash.reject = reject;
    lodash.remove = remove;
    lodash.rest = rest;
    lodash.reverse = reverse;
    lodash.sampleSize = sampleSize;
    lodash.set = set;
    lodash.setWith = setWith;
    lodash.shuffle = shuffle;
    lodash.slice = slice;
    lodash.sortBy = sortBy;
    lodash.sortedUniq = sortedUniq;
    lodash.sortedUniqBy = sortedUniqBy;
    lodash.split = split;
    lodash.spread = spread;
    lodash.tail = tail;
    lodash.take = take;
    lodash.takeRight = takeRight;
    lodash.takeRightWhile = takeRightWhile;
    lodash.takeWhile = takeWhile;
    lodash.tap = tap;
    lodash.throttle = throttle;
    lodash.thru = thru;
    lodash.toArray = toArray;
    lodash.toPairs = toPairs;
    lodash.toPairsIn = toPairsIn;
    lodash.toPath = toPath;
    lodash.toPlainObject = toPlainObject;
    lodash.transform = transform;
    lodash.unary = unary;
    lodash.union = union;
    lodash.unionBy = unionBy;
    lodash.unionWith = unionWith;
    lodash.uniq = uniq;
    lodash.uniqBy = uniqBy;
    lodash.uniqWith = uniqWith;
    lodash.unset = unset;
    lodash.unzip = unzip;
    lodash.unzipWith = unzipWith;
    lodash.update = update;
    lodash.updateWith = updateWith;
    lodash.values = values;
    lodash.valuesIn = valuesIn;
    lodash.without = without;
    lodash.words = words;
    lodash.wrap = wrap;
    lodash.xor = xor;
    lodash.xorBy = xorBy;
    lodash.xorWith = xorWith;
    lodash.zip = zip;
    lodash.zipObject = zipObject;
    lodash.zipObjectDeep = zipObjectDeep;
    lodash.zipWith = zipWith;

    // Add aliases.
    lodash.entries = toPairs;
    lodash.entriesIn = toPairsIn;
    lodash.extend = assignIn;
    lodash.extendWith = assignInWith;

    // Add methods to `lodash.prototype`.
    mixin(lodash, lodash);

    /*------------------------------------------------------------------------*/

    // Add methods that return unwrapped values in chain sequences.
    lodash.add = add;
    lodash.attempt = attempt;
    lodash.camelCase = camelCase;
    lodash.capitalize = capitalize;
    lodash.ceil = ceil;
    lodash.clamp = clamp;
    lodash.clone = clone;
    lodash.cloneDeep = cloneDeep;
    lodash.cloneDeepWith = cloneDeepWith;
    lodash.cloneWith = cloneWith;
    lodash.conformsTo = conformsTo;
    lodash.deburr = deburr;
    lodash.defaultTo = defaultTo;
    lodash.divide = divide;
    lodash.endsWith = endsWith;
    lodash.eq = eq;
    lodash.escape = escape;
    lodash.escapeRegExp = escapeRegExp;
    lodash.every = every;
    lodash.find = find;
    lodash.findIndex = findIndex;
    lodash.findKey = findKey;
    lodash.findLast = findLast;
    lodash.findLastIndex = findLastIndex;
    lodash.findLastKey = findLastKey;
    lodash.floor = floor;
    lodash.forEach = forEach;
    lodash.forEachRight = forEachRight;
    lodash.forIn = forIn;
    lodash.forInRight = forInRight;
    lodash.forOwn = forOwn;
    lodash.forOwnRight = forOwnRight;
    lodash.get = get;
    lodash.gt = gt;
    lodash.gte = gte;
    lodash.has = has;
    lodash.hasIn = hasIn;
    lodash.head = head;
    lodash.identity = identity;
    lodash.includes = includes;
    lodash.indexOf = indexOf;
    lodash.inRange = inRange;
    lodash.invoke = invoke;
    lodash.isArguments = isArguments;
    lodash.isArray = isArray;
    lodash.isArrayBuffer = isArrayBuffer;
    lodash.isArrayLike = isArrayLike;
    lodash.isArrayLikeObject = isArrayLikeObject;
    lodash.isBoolean = isBoolean;
    lodash.isBuffer = isBuffer;
    lodash.isDate = isDate;
    lodash.isElement = isElement;
    lodash.isEmpty = isEmpty;
    lodash.isEqual = isEqual;
    lodash.isEqualWith = isEqualWith;
    lodash.isError = isError;
    lodash.isFinite = isFinite;
    lodash.isFunction = isFunction;
    lodash.isInteger = isInteger;
    lodash.isLength = isLength;
    lodash.isMap = isMap;
    lodash.isMatch = isMatch;
    lodash.isMatchWith = isMatchWith;
    lodash.isNaN = isNaN;
    lodash.isNative = isNative;
    lodash.isNil = isNil;
    lodash.isNull = isNull;
    lodash.isNumber = isNumber;
    lodash.isObject = isObject;
    lodash.isObjectLike = isObjectLike;
    lodash.isPlainObject = isPlainObject;
    lodash.isRegExp = isRegExp;
    lodash.isSafeInteger = isSafeInteger;
    lodash.isSet = isSet;
    lodash.isString = isString;
    lodash.isSymbol = isSymbol;
    lodash.isTypedArray = isTypedArray;
    lodash.isUndefined = isUndefined;
    lodash.isWeakMap = isWeakMap;
    lodash.isWeakSet = isWeakSet;
    lodash.join = join;
    lodash.kebabCase = kebabCase;
    lodash.last = last;
    lodash.lastIndexOf = lastIndexOf;
    lodash.lowerCase = lowerCase;
    lodash.lowerFirst = lowerFirst;
    lodash.lt = lt;
    lodash.lte = lte;
    lodash.max = max;
    lodash.maxBy = maxBy;
    lodash.mean = mean;
    lodash.meanBy = meanBy;
    lodash.min = min;
    lodash.minBy = minBy;
    lodash.stubArray = stubArray;
    lodash.stubFalse = stubFalse;
    lodash.stubObject = stubObject;
    lodash.stubString = stubString;
    lodash.stubTrue = stubTrue;
    lodash.multiply = multiply;
    lodash.nth = nth;
    lodash.noConflict = noConflict;
    lodash.noop = noop;
    lodash.now = now;
    lodash.pad = pad;
    lodash.padEnd = padEnd;
    lodash.padStart = padStart;
    lodash.parseInt = parseInt;
    lodash.random = random;
    lodash.reduce = reduce;
    lodash.reduceRight = reduceRight;
    lodash.repeat = repeat;
    lodash.replace = replace;
    lodash.result = result;
    lodash.round = round;
    lodash.runInContext = runInContext;
    lodash.sample = sample;
    lodash.size = size;
    lodash.snakeCase = snakeCase;
    lodash.some = some;
    lodash.sortedIndex = sortedIndex;
    lodash.sortedIndexBy = sortedIndexBy;
    lodash.sortedIndexOf = sortedIndexOf;
    lodash.sortedLastIndex = sortedLastIndex;
    lodash.sortedLastIndexBy = sortedLastIndexBy;
    lodash.sortedLastIndexOf = sortedLastIndexOf;
    lodash.startCase = startCase;
    lodash.startsWith = startsWith;
    lodash.subtract = subtract;
    lodash.sum = sum;
    lodash.sumBy = sumBy;
    lodash.template = template;
    lodash.times = times;
    lodash.toFinite = toFinite;
    lodash.toInteger = toInteger;
    lodash.toLength = toLength;
    lodash.toLower = toLower;
    lodash.toNumber = toNumber;
    lodash.toSafeInteger = toSafeInteger;
    lodash.toString = toString;
    lodash.toUpper = toUpper;
    lodash.trim = trim;
    lodash.trimEnd = trimEnd;
    lodash.trimStart = trimStart;
    lodash.truncate = truncate;
    lodash.unescape = unescape;
    lodash.uniqueId = uniqueId;
    lodash.upperCase = upperCase;
    lodash.upperFirst = upperFirst;

    // Add aliases.
    lodash.each = forEach;
    lodash.eachRight = forEachRight;
    lodash.first = head;

    mixin(lodash, (function() {
      var source = {};
      baseForOwn(lodash, function(func, methodName) {
        if (!hasOwnProperty.call(lodash.prototype, methodName)) {
          source[methodName] = func;
        }
      });
      return source;
    }()), { 'chain': false });

    /*------------------------------------------------------------------------*/

    /**
     * The semantic version number.
     *
     * @static
     * @memberOf _
     * @type {string}
     */
    lodash.VERSION = VERSION;

    // Assign default placeholders.
    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {
      lodash[methodName].placeholder = lodash;
    });

    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.
    arrayEach(['drop', 'take'], function(methodName, index) {
      LazyWrapper.prototype[methodName] = function(n) {
        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);

        var result = (this.__filtered__ && !index)
          ? new LazyWrapper(this)
          : this.clone();

        if (result.__filtered__) {
          result.__takeCount__ = nativeMin(n, result.__takeCount__);
        } else {
          result.__views__.push({
            'size': nativeMin(n, MAX_ARRAY_LENGTH),
            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')
          });
        }
        return result;
      };

      LazyWrapper.prototype[methodName + 'Right'] = function(n) {
        return this.reverse()[methodName](n).reverse();
      };
    });

    // Add `LazyWrapper` methods that accept an `iteratee` value.
    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {
      var type = index + 1,
          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;

      LazyWrapper.prototype[methodName] = function(iteratee) {
        var result = this.clone();
        result.__iteratees__.push({
          'iteratee': getIteratee(iteratee, 3),
          'type': type
        });
        result.__filtered__ = result.__filtered__ || isFilter;
        return result;
      };
    });

    // Add `LazyWrapper` methods for `_.head` and `_.last`.
    arrayEach(['head', 'last'], function(methodName, index) {
      var takeName = 'take' + (index ? 'Right' : '');

      LazyWrapper.prototype[methodName] = function() {
        return this[takeName](1).value()[0];
      };
    });

    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.
    arrayEach(['initial', 'tail'], function(methodName, index) {
      var dropName = 'drop' + (index ? '' : 'Right');

      LazyWrapper.prototype[methodName] = function() {
        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);
      };
    });

    LazyWrapper.prototype.compact = function() {
      return this.filter(identity);
    };

    LazyWrapper.prototype.find = function(predicate) {
      return this.filter(predicate).head();
    };

    LazyWrapper.prototype.findLast = function(predicate) {
      return this.reverse().find(predicate);
    };

    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {
      if (typeof path == 'function') {
        return new LazyWrapper(this);
      }
      return this.map(function(value) {
        return baseInvoke(value, path, args);
      });
    });

    LazyWrapper.prototype.reject = function(predicate) {
      return this.filter(negate(getIteratee(predicate)));
    };

    LazyWrapper.prototype.slice = function(start, end) {
      start = toInteger(start);

      var result = this;
      if (result.__filtered__ && (start > 0 || end < 0)) {
        return new LazyWrapper(result);
      }
      if (start < 0) {
        result = result.takeRight(-start);
      } else if (start) {
        result = result.drop(start);
      }
      if (end !== undefined) {
        end = toInteger(end);
        result = end < 0 ? result.dropRight(-end) : result.take(end - start);
      }
      return result;
    };

    LazyWrapper.prototype.takeRightWhile = function(predicate) {
      return this.reverse().takeWhile(predicate).reverse();
    };

    LazyWrapper.prototype.toArray = function() {
      return this.take(MAX_ARRAY_LENGTH);
    };

    // Add `LazyWrapper` methods to `lodash.prototype`.
    baseForOwn(LazyWrapper.prototype, function(func, methodName) {
      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),
          isTaker = /^(?:head|last)$/.test(methodName),
          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],
          retUnwrapped = isTaker || /^find/.test(methodName);

      if (!lodashFunc) {
        return;
      }
      lodash.prototype[methodName] = function() {
        var value = this.__wrapped__,
            args = isTaker ? [1] : arguments,
            isLazy = value instanceof LazyWrapper,
            iteratee = args[0],
            useLazy = isLazy || isArray(value);

        var interceptor = function(value) {
          var result = lodashFunc.apply(lodash, arrayPush([value], args));
          return (isTaker && chainAll) ? result[0] : result;
        };

        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {
          // Avoid lazy use if the iteratee has a "length" value other than `1`.
          isLazy = useLazy = false;
        }
        var chainAll = this.__chain__,
            isHybrid = !!this.__actions__.length,
            isUnwrapped = retUnwrapped && !chainAll,
            onlyLazy = isLazy && !isHybrid;

        if (!retUnwrapped && useLazy) {
          value = onlyLazy ? value : new LazyWrapper(this);
          var result = func.apply(value, args);
          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });
          return new LodashWrapper(result, chainAll);
        }
        if (isUnwrapped && onlyLazy) {
          return func.apply(this, args);
        }
        result = this.thru(interceptor);
        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;
      };
    });

    // Add `Array` methods to `lodash.prototype`.
    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {
      var func = arrayProto[methodName],
          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',
          retUnwrapped = /^(?:pop|shift)$/.test(methodName);

      lodash.prototype[methodName] = function() {
        var args = arguments;
        if (retUnwrapped && !this.__chain__) {
          var value = this.value();
          return func.apply(isArray(value) ? value : [], args);
        }
        return this[chainName](function(value) {
          return func.apply(isArray(value) ? value : [], args);
        });
      };
    });

    // Map minified method names to their real names.
    baseForOwn(LazyWrapper.prototype, function(func, methodName) {
      var lodashFunc = lodash[methodName];
      if (lodashFunc) {
        var key = lodashFunc.name + '';
        if (!hasOwnProperty.call(realNames, key)) {
          realNames[key] = [];
        }
        realNames[key].push({ 'name': methodName, 'func': lodashFunc });
      }
    });

    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{
      'name': 'wrapper',
      'func': undefined
    }];

    // Add methods to `LazyWrapper`.
    LazyWrapper.prototype.clone = lazyClone;
    LazyWrapper.prototype.reverse = lazyReverse;
    LazyWrapper.prototype.value = lazyValue;

    // Add chain sequence methods to the `lodash` wrapper.
    lodash.prototype.at = wrapperAt;
    lodash.prototype.chain = wrapperChain;
    lodash.prototype.commit = wrapperCommit;
    lodash.prototype.next = wrapperNext;
    lodash.prototype.plant = wrapperPlant;
    lodash.prototype.reverse = wrapperReverse;
    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;

    // Add lazy aliases.
    lodash.prototype.first = lodash.prototype.head;

    if (symIterator) {
      lodash.prototype[symIterator] = wrapperToIterator;
    }
    return lodash;
  });

  /*--------------------------------------------------------------------------*/

  // Export lodash.
  var _ = runInContext();

  // Some AMD build optimizers, like r.js, check for condition patterns like:
  if (true) {
    // Expose Lodash on the global object to prevent errors when Lodash is
    // loaded by a script tag in the presence of an AMD loader.
    // See http://requirejs.org/docs/errors.html#mismatch for more details.
    // Use `_.noConflict` to remove Lodash from the global object.
    root._ = _;

    // Define as an anonymous module so, through path mapping, it can be
    // referenced as the "underscore" module.
    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {
      return _;
    }).call(exports, __webpack_require__, exports, module),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  }
  // Check for `exports` after `define` in case a build optimizer adds it.
  else {}
}.call(this));


/***/ }),

/***/ "./resources/css/app.css":
/*!*******************************!*\
  !*** ./resources/css/app.css ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./resources/css/app_pdf.css":
/*!***********************************!*\
  !*** ./resources/css/app_pdf.css ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./resources/css/print-test-pdf.css":
/*!******************************************!*\
  !*** ./resources/css/print-test-pdf.css ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/plyr/dist/plyr.min.js":
/*!********************************************!*\
  !*** ./node_modules/plyr/dist/plyr.min.js ***!
  \********************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"object"==typeof navigator&&function(e,t){ true?module.exports=t():0}(this,(function(){"use strict";function e(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function t(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a={addCSS:!0,thumbWidth:15,watch:!0};var l=function(e){return null!=e?e.constructor:null},r=function(e,t){return!!(e&&t&&e instanceof t)},o=function(e){return null==e},c=function(e){return l(e)===Object},u=function(e){return l(e)===String},h=function(e){return Array.isArray(e)},d=function(e){return r(e,NodeList)},m={nullOrUndefined:o,object:c,number:function(e){return l(e)===Number&&!Number.isNaN(e)},string:u,boolean:function(e){return l(e)===Boolean},function:function(e){return l(e)===Function},array:h,nodeList:d,element:function(e){return r(e,Element)},event:function(e){return r(e,Event)},empty:function(e){return o(e)||(u(e)||h(e)||d(e))&&!e.length||c(e)&&!Object.keys(e).length}};function p(e,t){if(1>t){var i=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(i))}return Math.round(e/t)*t}var g=function(){function e(t,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),m.element(t)?this.element=t:m.string(t)&&(this.element=document.querySelector(t)),m.element(this.element)&&m.empty(this.element.rangeTouch)&&(this.config=n({},a,{},i),this.init())}return function(e,i,s){i&&t(e.prototype,i),s&&t(e,s)}(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,i=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[i](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!m.event(t))return null;var i,s=t.target,n=t.changedTouches[0],a=parseFloat(s.getAttribute("min"))||0,l=parseFloat(s.getAttribute("max"))||100,r=parseFloat(s.getAttribute("step"))||1,o=s.getBoundingClientRect(),c=100/o.width*(this.config.thumbWidth/2)/100;return 0>(i=100/o.width*(n.clientX-o.left))?i=0:100<i&&(i=100),50>i?i-=(100-2*i)*c:50<i&&(i+=2*(i-50)*c),a+p(i/100*(l-a),r)}},{key:"set",value:function(t){e.enabled&&m.event(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),function(e,t){if(e&&t){var i=new Event(t,{bubbles:!0});e.dispatchEvent(i)}}(t.target,"touchend"===t.type?"change":"input"))}}],[{key:"setup",value:function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=null;if(m.empty(t)||m.string(t)?s=Array.from(document.querySelectorAll(m.string(t)?t:'input[type="range"]')):m.element(t)?s=[t]:m.nodeList(t)?s=Array.from(t):m.array(t)&&(s=t.filter(m.element)),m.empty(s))return null;var l=n({},a,{},i);if(m.string(t)&&l.watch){var r=new MutationObserver((function(i){Array.from(i).forEach((function(i){Array.from(i.addedNodes).forEach((function(i){m.element(i)&&function(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}(i,t)&&new e(i,l)}))}))}));r.observe(document.body,{childList:!0,subtree:!0})}return s.map((function(t){return new e(t,i)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}();const f=e=>null!=e?e.constructor:null,y=(e,t)=>Boolean(e&&t&&e instanceof t),b=e=>null==e,v=e=>f(e)===Object,w=e=>f(e)===String,T=e=>"function"==typeof e,k=e=>Array.isArray(e),C=e=>y(e,NodeList),A=e=>b(e)||(w(e)||k(e)||C(e))&&!e.length||v(e)&&!Object.keys(e).length;var S={nullOrUndefined:b,object:v,number:e=>f(e)===Number&&!Number.isNaN(e),string:w,boolean:e=>f(e)===Boolean,function:T,array:k,weakMap:e=>y(e,WeakMap),nodeList:C,element:e=>null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument,textNode:e=>f(e)===Text,event:e=>y(e,Event),keyboardEvent:e=>y(e,KeyboardEvent),cue:e=>y(e,window.TextTrackCue)||y(e,window.VTTCue),track:e=>y(e,TextTrack)||!b(e)&&w(e.kind),promise:e=>y(e,Promise)&&T(e.then),url:e=>{if(y(e,window.URL))return!0;if(!w(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!A(new URL(t).hostname)}catch(e){return!1}},empty:A};const E=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i=Object.keys(t).find((t=>void 0!==e.style[t]));return!!S.string(i)&&t[i]})();function P(e,t){setTimeout((()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}}),t)}var M={isIE:Boolean(window.document.documentMode),isEdge:/Edge/g.test(navigator.userAgent),isWebKit:"WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),isIPhone:/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,isIPadOS:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,isIos:/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1};function N(e,t){return t.split(".").reduce(((e,t)=>e&&e[t]),e)}function x(e={},...t){if(!t.length)return e;const i=t.shift();return S.object(i)?(Object.keys(i).forEach((t=>{S.object(i[t])?(Object.keys(e).includes(t)||Object.assign(e,{[t]:{}}),x(e[t],i[t])):Object.assign(e,{[t]:i[t]})})),x(e,...t)):e}function L(e,t){const i=e.length?e:[e];Array.from(i).reverse().forEach(((e,i)=>{const s=i>0?t.cloneNode(!0):t,n=e.parentNode,a=e.nextSibling;s.appendChild(e),a?n.insertBefore(s,a):n.appendChild(s)}))}function I(e,t){S.element(e)&&!S.empty(t)&&Object.entries(t).filter((([,e])=>!S.nullOrUndefined(e))).forEach((([t,i])=>e.setAttribute(t,i)))}function $(e,t,i){const s=document.createElement(e);return S.object(t)&&I(s,t),S.string(i)&&(s.innerText=i),s}function _(e,t,i,s){S.element(t)&&t.appendChild($(e,i,s))}function O(e){S.nodeList(e)||S.array(e)?Array.from(e).forEach(O):S.element(e)&&S.element(e.parentNode)&&e.parentNode.removeChild(e)}function j(e){if(!S.element(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function q(e,t){return S.element(t)&&S.element(t.parentNode)&&S.element(e)?(t.parentNode.replaceChild(e,t),e):null}function D(e,t){if(!S.string(e)||S.empty(e))return{};const i={},s=x({},t);return e.split(",").forEach((e=>{const t=e.trim(),n=t.replace(".",""),a=t.replace(/[[\]]/g,"").split("="),[l]=a,r=a.length>1?a[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":S.string(s.class)?i.class=`${s.class} ${n}`:i.class=n;break;case"#":i.id=t.replace("#","");break;case"[":i[l]=r}})),x(s,i)}function H(e,t){if(!S.element(e))return;let i=t;S.boolean(i)||(i=!e.hidden),e.hidden=i}function R(e,t,i){if(S.nodeList(e))return Array.from(e).map((e=>R(e,t,i)));if(S.element(e)){let s="toggle";return void 0!==i&&(s=i?"add":"remove"),e.classList[s](t),e.classList.contains(t)}return!1}function F(e,t){return S.element(e)&&e.classList.contains(t)}function V(e,t){const{prototype:i}=Element;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function U(e){return this.elements.container.querySelectorAll(e)}function B(e){return this.elements.container.querySelector(e)}function W(e=null,t=!1){S.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}const z={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},K={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){const i=K[e]||"html5"!==t;return{api:i,ui:i&&K.rangeInput}},pip:!(M.isIPhone||!S.function($("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||$("video").disablePictureInPicture)),airplay:S.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(S.empty(e))return!1;const[t]=e.split("/");let i=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(z).includes(i)&&(i+=`; codecs="${z[e]}"`);try{return Boolean(i&&this.media.canPlayType(i).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range","range"===e.type})(),touch:"ontouchstart"in document.documentElement,transitions:!1!==E,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},Y=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e})();function Q(e,t,i,s=!1,n=!0,a=!1){if(!e||!("addEventListener"in e)||S.empty(t)||!S.function(i))return;const l=t.split(" ");let r=a;Y&&(r={passive:n,capture:a}),l.forEach((t=>{this&&this.eventListeners&&s&&this.eventListeners.push({element:e,type:t,callback:i,options:r}),e[s?"addEventListener":"removeEventListener"](t,i,r)}))}function X(e,t="",i,s=!0,n=!1){Q.call(this,e,t,i,!0,s,n)}function J(e,t="",i,s=!0,n=!1){Q.call(this,e,t,i,!1,s,n)}function G(e,t="",i,s=!0,n=!1){const a=(...l)=>{J(e,t,a,s,n),i.apply(this,l)};Q.call(this,e,t,a,!0,s,n)}function Z(e,t="",i=!1,s={}){if(!S.element(e)||S.empty(t))return;const n=new CustomEvent(t,{bubbles:i,detail:{...s,plyr:this}});e.dispatchEvent(n)}function ee(){this&&this.eventListeners&&(this.eventListeners.forEach((e=>{const{element:t,type:i,callback:s,options:n}=e;t.removeEventListener(i,s,n)})),this.eventListeners=[])}function te(){return new Promise((e=>this.ready?setTimeout(e,0):X.call(this,this.elements.container,"ready",e))).then((()=>{}))}function ie(e){S.promise(e)&&e.then(null,(()=>{}))}function se(e){return S.array(e)?e.filter(((t,i)=>e.indexOf(t)===i)):e}function ne(e,t){return S.array(e)&&e.length?e.reduce(((e,i)=>Math.abs(i-t)<Math.abs(e-t)?i:e)):null}function ae(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const le=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce(((e,[t,i])=>({...e,[t/i]:[t,i]})),{});function re(e){if(!(S.array(e)||S.string(e)&&e.includes(":")))return!1;return(S.array(e)?e:e.split(":")).map(Number).every(S.number)}function oe(e){if(!S.array(e)||!e.every(S.number))return null;const[t,i]=e,s=(e,t)=>0===t?e:s(t,e%t),n=s(t,i);return[t/n,i/n]}function ce(e){const t=e=>re(e)?e.split(":").map(Number):null;let i=t(e);if(null===i&&(i=t(this.config.ratio)),null===i&&!S.empty(this.embed)&&S.array(this.embed.ratio)&&({ratio:i}=this.embed),null===i&&this.isHTML5){const{videoWidth:e,videoHeight:t}=this.media;i=[e,t]}return oe(i)}function ue(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,i=ce.call(this,e);if(!S.array(i))return{};const[s,n]=oe(i),a=100/s*n;if(ae(`aspect-ratio: ${s}/${n}`)?t.style.aspectRatio=`${s}/${n}`:t.style.paddingBottom=`${a}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const e=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),i=(e-a)/(e/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${i}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:a,ratio:i}}function he(e,t,i=.05){const s=e/t,n=ne(Object.keys(le),s);return Math.abs(n-s)<=i?le[n]:[e,t]}const de={getSources(){if(!this.isHTML5)return[];return Array.from(this.media.querySelectorAll("source")).filter((e=>{const t=e.getAttribute("type");return!!S.empty(t)||K.mime.call(this,t)}))},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:de.getSources.call(this).map((e=>Number(e.getAttribute("size")))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,S.empty(this.config.ratio)||ue.call(e),Object.defineProperty(e.media,"quality",{get(){const t=de.getSources.call(e).find((t=>t.getAttribute("src")===e.source));return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&S.function(e.config.quality.onChange))e.config.quality.onChange(t);else{const i=de.getSources.call(e).find((e=>Number(e.getAttribute("size"))===t));if(!i)return;const{currentTime:s,paused:n,preload:a,readyState:l,playbackRate:r}=e.media;e.media.src=i.getAttribute("src"),("none"!==a||l)&&(e.once("loadedmetadata",(()=>{e.speed=r,e.currentTime=s,n||ie(e.play())})),e.media.load())}Z.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(O(de.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function me(e,...t){return S.empty(e)?e:e.toString().replace(/{(\d+)}/g,((e,i)=>t[i].toString()))}const pe=(e="",t="",i="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),i.toString()),ge=(e="")=>e.toString().replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()));function fe(e=""){let t=e.toString();return t=function(e=""){let t=e.toString();return t=pe(t,"-"," "),t=pe(t,"_"," "),t=ge(t),pe(t," ","")}(t),t.charAt(0).toLowerCase()+t.slice(1)}function ye(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const be={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},ve={get(e="",t={}){if(S.empty(e)||S.empty(t))return"";let i=N(t.i18n,e);if(S.empty(i))return Object.keys(be).includes(e)?be[e]:"";const s={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(s).forEach((([e,t])=>{i=pe(i,e,t)})),i}};class we{constructor(t){e(this,"get",(e=>{if(!we.supported||!this.enabled)return null;const t=window.localStorage.getItem(this.key);if(S.empty(t))return null;const i=JSON.parse(t);return S.string(e)&&e.length?i[e]:i})),e(this,"set",(e=>{if(!we.supported||!this.enabled)return;if(!S.object(e))return;let t=this.get();S.empty(t)&&(t={}),x(t,e);try{window.localStorage.setItem(this.key,JSON.stringify(t))}catch(e){}})),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}}function Te(e,t="text"){return new Promise(((i,s)=>{try{const s=new XMLHttpRequest;if(!("withCredentials"in s))return;s.addEventListener("load",(()=>{if("text"===t)try{i(JSON.parse(s.responseText))}catch(e){i(s.responseText)}else i(s.response)})),s.addEventListener("error",(()=>{throw new Error(s.status)})),s.open("GET",e,!0),s.responseType=t,s.send()}catch(e){s(e)}}))}function ke(e,t){if(!S.string(e))return;const i="cache",s=S.string(t);let n=!1;const a=()=>null!==document.getElementById(t),l=(e,t)=>{e.innerHTML=t,s&&a()||document.body.insertAdjacentElement("afterbegin",e)};if(!s||!a()){const a=we.supported,r=document.createElement("div");if(r.setAttribute("hidden",""),s&&r.setAttribute("id",t),a){const e=window.localStorage.getItem(`${i}-${t}`);if(n=null!==e,n){const t=JSON.parse(e);l(r,t.content)}}Te(e).then((e=>{if(!S.empty(e)){if(a)try{window.localStorage.setItem(`${i}-${t}`,JSON.stringify({content:e}))}catch(e){}l(r,e)}})).catch((()=>{}))}}const Ce=e=>Math.trunc(e/60/60%60,10),Ae=e=>Math.trunc(e/60%60,10),Se=e=>Math.trunc(e%60,10);function Ee(e=0,t=!1,i=!1){if(!S.number(e))return Ee(void 0,t,i);const s=e=>`0${e}`.slice(-2);let n=Ce(e);const a=Ae(e),l=Se(e);return n=t||n>0?`${n}:`:"",`${i&&e>0?"-":""}${n}${s(a)}:${s(l)}`}const Pe={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,i=e.host!==t||M.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:i}},findElements(){try{return this.elements.controls=B.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:U.call(this,this.config.selectors.buttons.play),pause:B.call(this,this.config.selectors.buttons.pause),restart:B.call(this,this.config.selectors.buttons.restart),rewind:B.call(this,this.config.selectors.buttons.rewind),fastForward:B.call(this,this.config.selectors.buttons.fastForward),mute:B.call(this,this.config.selectors.buttons.mute),pip:B.call(this,this.config.selectors.buttons.pip),airplay:B.call(this,this.config.selectors.buttons.airplay),settings:B.call(this,this.config.selectors.buttons.settings),captions:B.call(this,this.config.selectors.buttons.captions),fullscreen:B.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=B.call(this,this.config.selectors.progress),this.elements.inputs={seek:B.call(this,this.config.selectors.inputs.seek),volume:B.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:B.call(this,this.config.selectors.display.buffer),currentTime:B.call(this,this.config.selectors.display.currentTime),duration:B.call(this,this.config.selectors.display.duration)},S.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const i="http://www.w3.org/2000/svg",s=Pe.getIconUrl.call(this),n=`${s.cors?"":s.url}#${this.config.iconPrefix}`,a=document.createElementNS(i,"svg");I(a,x(t,{"aria-hidden":"true",focusable:"false"}));const l=document.createElementNS(i,"use"),r=`${n}-${e}`;return"href"in l&&l.setAttributeNS("http://www.w3.org/1999/xlink","href",r),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r),a.appendChild(l),a},createLabel(e,t={}){const i=ve.get(e,this.config);return $("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},i)},createBadge(e){if(S.empty(e))return null;const t=$("span",{class:this.config.classNames.menu.value});return t.appendChild($("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const i=x({},t);let s=fe(e);const n={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((e=>{Object.keys(i).includes(e)&&(n[e]=i[e],delete i[e])})),"button"!==n.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some((e=>e===this.config.classNames.control))||x(i,{class:`${i.class} ${this.config.classNames.control}`}):i.class=this.config.classNames.control,e){case"play":n.toggle=!0,n.label="play",n.labelPressed="pause",n.icon="play",n.iconPressed="pause";break;case"mute":n.toggle=!0,n.label="mute",n.labelPressed="unmute",n.icon="volume",n.iconPressed="muted";break;case"captions":n.toggle=!0,n.label="enableCaptions",n.labelPressed="disableCaptions",n.icon="captions-off",n.iconPressed="captions-on";break;case"fullscreen":n.toggle=!0,n.label="enterFullscreen",n.labelPressed="exitFullscreen",n.icon="enter-fullscreen",n.iconPressed="exit-fullscreen";break;case"play-large":i.class+=` ${this.config.classNames.control}--overlaid`,s="play",n.label="play",n.icon="play";break;default:S.empty(n.label)&&(n.label=s),S.empty(n.icon)&&(n.icon=e)}const a=$(n.element);return n.toggle?(a.appendChild(Pe.createIcon.call(this,n.iconPressed,{class:"icon--pressed"})),a.appendChild(Pe.createIcon.call(this,n.icon,{class:"icon--not-pressed"})),a.appendChild(Pe.createLabel.call(this,n.labelPressed,{class:"label--pressed"})),a.appendChild(Pe.createLabel.call(this,n.label,{class:"label--not-pressed"}))):(a.appendChild(Pe.createIcon.call(this,n.icon)),a.appendChild(Pe.createLabel.call(this,n.label))),x(i,D(this.config.selectors.buttons[s],i)),I(a,i),"play"===s?(S.array(this.elements.buttons[s])||(this.elements.buttons[s]=[]),this.elements.buttons[s].push(a)):this.elements.buttons[s]=a,a},createRange(e,t){const i=$("input",x(D(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":ve.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=i,Pe.updateRangeFill.call(this,i),g.setup(i),i},createProgress(e,t){const i=$("progress",x(D(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){i.appendChild($("span",null,"0"));const t={played:"played",buffer:"buffered"}[e],s=t?ve.get(t,this.config):"";i.innerText=`% ${s.toLowerCase()}`}return this.elements.display[e]=i,i},createTime(e,t){const i=D(this.config.selectors.display[e],t),s=$("div",x(i,{class:`${i.class?i.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":ve.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=s,s},bindMenuItemShortcuts(e,t){X.call(this,e,"keydown keyup",(i=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(i.key))return;if(i.preventDefault(),i.stopPropagation(),"keydown"===i.type)return;const s=V(e,'[role="menuitemradio"]');if(!s&&[" ","ArrowRight"].includes(i.key))Pe.showMenuPanel.call(this,t,!0);else{let t;" "!==i.key&&("ArrowDown"===i.key||s&&"ArrowRight"===i.key?(t=e.nextElementSibling,S.element(t)||(t=e.parentNode.firstElementChild)):(t=e.previousElementSibling,S.element(t)||(t=e.parentNode.lastElementChild)),W.call(this,t,!0))}}),!1),X.call(this,e,"keyup",(e=>{"Return"===e.key&&Pe.focusFirstMenuItem.call(this,null,!0)}))},createMenuItem({value:e,list:t,type:i,title:s,badge:n=null,checked:a=!1}){const l=D(this.config.selectors.inputs[i]),r=$("button",x(l,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${l.class?l.class:""}`.trim(),"aria-checked":a,value:e})),o=$("span");o.innerHTML=s,S.element(n)&&o.appendChild(n),r.appendChild(o),Object.defineProperty(r,"checked",{enumerable:!0,get:()=>"true"===r.getAttribute("aria-checked"),set(e){e&&Array.from(r.parentNode.children).filter((e=>V(e,'[role="menuitemradio"]'))).forEach((e=>e.setAttribute("aria-checked","false"))),r.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(r,"click keyup",(t=>{if(!S.keyboardEvent(t)||" "===t.key){switch(t.preventDefault(),t.stopPropagation(),r.checked=!0,i){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}Pe.showMenuPanel.call(this,"home",S.keyboardEvent(t))}}),i,!1),Pe.bindMenuItemShortcuts.call(this,r,i),t.appendChild(r)},formatTime(e=0,t=!1){if(!S.number(e))return e;return Ee(e,Ce(this.duration)>0,t)},updateTimeDisplay(e=null,t=0,i=!1){S.element(e)&&S.number(t)&&(e.innerText=Pe.formatTime(t,i))},updateVolume(){this.supported.ui&&(S.element(this.elements.inputs.volume)&&Pe.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),S.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange(e,t=0){S.element(e)&&(e.value=t,Pe.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!S.event(e))return;let t=0;const i=(e,t)=>{const i=S.number(t)?t:0,s=S.element(e)?e:this.elements.display.buffer;if(S.element(s)){s.value=i;const e=s.getElementsByTagName("span")[0];S.element(e)&&(e.childNodes[0].nodeValue=i)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":s=this.currentTime,n=this.duration,t=0===s||0===n||Number.isNaN(s)||Number.isNaN(n)?0:(s/n*100).toFixed(2),"timeupdate"===e.type&&Pe.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":i(this.elements.display.buffer,100*this.buffered)}var s,n},updateRangeFill(e){const t=S.event(e)?e.target:e;if(S.element(t)&&"range"===t.getAttribute("type")){if(V(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const e=Pe.formatTime(this.currentTime),i=Pe.formatTime(this.duration),s=ve.get("seekLabel",this.config);t.setAttribute("aria-valuetext",s.replace("{currentTime}",e).replace("{duration}",i))}else if(V(t,this.config.selectors.inputs.volume)){const e=100*t.value;t.setAttribute("aria-valuenow",e),t.setAttribute("aria-valuetext",`${e.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);(M.isWebKit||M.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,i;if(!this.config.tooltips.seek||!S.element(this.elements.inputs.seek)||!S.element(this.elements.display.seekTooltip)||0===this.duration)return;const s=this.elements.display.seekTooltip,n=`${this.config.classNames.tooltip}--visible`,a=e=>R(s,n,e);if(this.touch)return void a(!1);let l=0;const r=this.elements.progress.getBoundingClientRect();if(S.event(e))l=100/r.width*(e.pageX-r.left);else{if(!F(s,n))return;l=parseFloat(s.style.left,10)}l<0?l=0:l>100&&(l=100);const o=this.duration/100*l;s.innerText=Pe.formatTime(o);const c=null===(t=this.config.markers)||void 0===t||null===(i=t.points)||void 0===i?void 0:i.find((({time:e})=>e===Math.round(o)));c&&s.insertAdjacentHTML("afterbegin",`${c.label}<br>`),s.style.left=`${l}%`,S.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&a("mouseenter"===e.type)},timeUpdate(e){const t=!S.element(this.elements.display.duration)&&this.config.invertTime;Pe.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||Pe.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return H(this.elements.display.currentTime,!0),void H(this.elements.progress,!0);S.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=S.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Pe.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Pe.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&Pe.setMarkers.call(this),Pe.updateSeekTooltip.call(this)},toggleMenuButton(e,t){H(this.elements.settings.buttons[e],!t)},updateSetting(e,t,i){const s=this.elements.settings.panels[e];let n=null,a=t;if("captions"===e)n=this.currentTrack;else{if(n=S.empty(i)?this[e]:i,S.empty(n)&&(n=this.config[e].default),!S.empty(this.options[e])&&!this.options[e].includes(n))return void this.debug.warn(`Unsupported value of '${n}' for ${e}`);if(!this.config[e].options.includes(n))return void this.debug.warn(`Disabled value of '${n}' for ${e}`)}if(S.element(a)||(a=s&&s.querySelector('[role="menu"]')),!S.element(a))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=Pe.getLabel.call(this,e,n);const l=a&&a.querySelector(`[value="${n}"]`);S.element(l)&&(l.checked=!0)},getLabel(e,t){switch(e){case"speed":return 1===t?ve.get("normal",this.config):`${t}&times;`;case"quality":if(S.number(t)){const e=ve.get(`qualityLabel.${t}`,this.config);return e.length?e:`${t}p`}return ge(t);case"captions":return xe.getLabel.call(this);default:return null}},setQualityMenu(e){if(!S.element(this.elements.settings.panels.quality))return;const t="quality",i=this.elements.settings.panels.quality.querySelector('[role="menu"]');S.array(e)&&(this.options.quality=se(e).filter((e=>this.config.quality.options.includes(e))));const s=!S.empty(this.options.quality)&&this.options.quality.length>1;if(Pe.toggleMenuButton.call(this,t,s),j(i),Pe.checkMenu.call(this),!s)return;const n=e=>{const t=ve.get(`qualityBadge.${e}`,this.config);return t.length?Pe.createBadge.call(this,t):null};this.options.quality.sort(((e,t)=>{const i=this.config.quality.options;return i.indexOf(e)>i.indexOf(t)?1:-1})).forEach((e=>{Pe.createMenuItem.call(this,{value:e,list:i,type:t,title:Pe.getLabel.call(this,"quality",e),badge:n(e)})})),Pe.updateSetting.call(this,t,i)},setCaptionsMenu(){if(!S.element(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=xe.getTracks.call(this),s=Boolean(i.length);if(Pe.toggleMenuButton.call(this,e,s),j(t),Pe.checkMenu.call(this),!s)return;const n=i.map(((e,i)=>({value:i,checked:this.captions.toggled&&this.currentTrack===i,title:xe.getLabel.call(this,e),badge:e.language&&Pe.createBadge.call(this,e.language.toUpperCase()),list:t,type:"language"})));n.unshift({value:-1,checked:!this.captions.toggled,title:ve.get("disabled",this.config),list:t,type:"language"}),n.forEach(Pe.createMenuItem.bind(this)),Pe.updateSetting.call(this,e,t)},setSpeedMenu(){if(!S.element(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((e=>e>=this.minimumSpeed&&e<=this.maximumSpeed));const i=!S.empty(this.options.speed)&&this.options.speed.length>1;Pe.toggleMenuButton.call(this,e,i),j(t),Pe.checkMenu.call(this),i&&(this.options.speed.forEach((i=>{Pe.createMenuItem.call(this,{value:i,list:t,type:e,title:Pe.getLabel.call(this,"speed",i)})})),Pe.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!S.empty(e)&&Object.values(e).some((e=>!e.hidden));H(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let i=e;S.element(i)||(i=Object.values(this.elements.settings.panels).find((e=>!e.hidden)));const s=i.querySelector('[role^="menuitem"]');W.call(this,s,t)},toggleMenu(e){const{popup:t}=this.elements.settings,i=this.elements.buttons.settings;if(!S.element(t)||!S.element(i))return;const{hidden:s}=t;let n=s;if(S.boolean(e))n=e;else if(S.keyboardEvent(e)&&"Escape"===e.key)n=!1;else if(S.event(e)){const s=S.function(e.composedPath)?e.composedPath()[0]:e.target,a=t.contains(s);if(a||!a&&e.target!==i&&n)return}i.setAttribute("aria-expanded",n),H(t,!n),R(this.elements.container,this.config.classNames.menu.open,n),n&&S.keyboardEvent(e)?Pe.focusFirstMenuItem.call(this,null,!0):n||s||W.call(this,i,S.keyboardEvent(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const i=t.scrollWidth,s=t.scrollHeight;return O(t),{width:i,height:s}},showMenuPanel(e="",t=!1){const i=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!S.element(i))return;const s=i.parentNode,n=Array.from(s.children).find((e=>!e.hidden));if(K.transitions&&!K.reducedMotion){s.style.width=`${n.scrollWidth}px`,s.style.height=`${n.scrollHeight}px`;const e=Pe.getMenuSize.call(this,i),t=e=>{e.target===s&&["width","height"].includes(e.propertyName)&&(s.style.width="",s.style.height="",J.call(this,s,E,t))};X.call(this,s,E,t),s.style.width=`${e.width}px`,s.style.height=`${e.height}px`}H(n,!0),H(i,!1),Pe.focusFirstMenuItem.call(this,i,t)},setDownloadUrl(){const e=this.elements.buttons.download;S.element(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:i,createProgress:s,createRange:n,createTime:a,setQualityMenu:l,setSpeedMenu:r,showMenuPanel:o}=Pe;this.elements.controls=null,S.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));const c=$("div",D(this.config.selectors.controls.wrapper));this.elements.controls=c;const u={class:"plyr__controls__item"};return se(S.array(this.config.controls)?this.config.controls:[]).forEach((l=>{if("restart"===l&&c.appendChild(i.call(this,"restart",u)),"rewind"===l&&c.appendChild(i.call(this,"rewind",u)),"play"===l&&c.appendChild(i.call(this,"play",u)),"fast-forward"===l&&c.appendChild(i.call(this,"fast-forward",u)),"progress"===l){const t=$("div",{class:`${u.class} plyr__progress__container`}),i=$("div",D(this.config.selectors.progress));if(i.appendChild(n.call(this,"seek",{id:`plyr-seek-${e.id}`})),i.appendChild(s.call(this,"buffer")),this.config.tooltips.seek){const e=$("span",{class:this.config.classNames.tooltip},"00:00");i.appendChild(e),this.elements.display.seekTooltip=e}this.elements.progress=i,t.appendChild(this.elements.progress),c.appendChild(t)}if("current-time"===l&&c.appendChild(a.call(this,"currentTime",u)),"duration"===l&&c.appendChild(a.call(this,"duration",u)),"mute"===l||"volume"===l){let{volume:t}=this.elements;if(S.element(t)&&c.contains(t)||(t=$("div",x({},u,{class:`${u.class} plyr__volume`.trim()})),this.elements.volume=t,c.appendChild(t)),"mute"===l&&t.appendChild(i.call(this,"mute")),"volume"===l&&!M.isIos&&!M.isIPadOS){const i={max:1,step:.05,value:this.config.volume};t.appendChild(n.call(this,"volume",x(i,{id:`plyr-volume-${e.id}`})))}}if("captions"===l&&c.appendChild(i.call(this,"captions",u)),"settings"===l&&!S.empty(this.config.settings)){const s=$("div",x({},u,{class:`${u.class} plyr__menu`.trim(),hidden:""}));s.appendChild(i.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const n=$("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),a=$("div"),l=$("div",{id:`plyr-settings-${e.id}-home`}),r=$("div",{role:"menu"});l.appendChild(r),a.appendChild(l),this.elements.settings.panels.home=l,this.config.settings.forEach((i=>{const s=$("button",x(D(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,s,i),X.call(this,s,"click",(()=>{o.call(this,i,!1)}));const n=$("span",null,ve.get(i,this.config)),l=$("span",{class:this.config.classNames.menu.value});l.innerHTML=e[i],n.appendChild(l),s.appendChild(n),r.appendChild(s);const c=$("div",{id:`plyr-settings-${e.id}-${i}`,hidden:""}),u=$("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});u.appendChild($("span",{"aria-hidden":!0},ve.get(i,this.config))),u.appendChild($("span",{class:this.config.classNames.hidden},ve.get("menuBack",this.config))),X.call(this,c,"keydown",(e=>{"ArrowLeft"===e.key&&(e.preventDefault(),e.stopPropagation(),o.call(this,"home",!0))}),!1),X.call(this,u,"click",(()=>{o.call(this,"home",!1)})),c.appendChild(u),c.appendChild($("div",{role:"menu"})),a.appendChild(c),this.elements.settings.buttons[i]=s,this.elements.settings.panels[i]=c})),n.appendChild(a),s.appendChild(n),c.appendChild(s),this.elements.settings.popup=n,this.elements.settings.menu=s}if("pip"===l&&K.pip&&c.appendChild(i.call(this,"pip",u)),"airplay"===l&&K.airplay&&c.appendChild(i.call(this,"airplay",u)),"download"===l){const e=x({},u,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(e.download="");const{download:t}=this.config.urls;!S.url(t)&&this.isEmbed&&x(e,{icon:`logo-${this.provider}`,label:this.provider}),c.appendChild(i.call(this,"download",e))}"fullscreen"===l&&c.appendChild(i.call(this,"fullscreen",u))})),this.isHTML5&&l.call(this,de.getQualityOptions.call(this)),r.call(this),c},inject(){if(this.config.loadSprite){const e=Pe.getIconUrl.call(this);e.cors&&ke(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let i=!0;S.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),S.element(this.config.controls)||S.string(this.config.controls)?e=this.config.controls:(e=Pe.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:xe.getLabel.call(this)}),i=!1);let s;i&&S.string(this.config.controls)&&(e=(e=>{let i=e;return Object.entries(t).forEach((([e,t])=>{i=pe(i,`{${e}}`,t)})),i})(e)),S.string(this.config.selectors.controls.container)&&(s=document.querySelector(this.config.selectors.controls.container)),S.element(s)||(s=this.elements.container);if(s[S.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),S.element(this.elements.controls)||Pe.findElements.call(this),!S.empty(this.elements.buttons)){const e=e=>{const t=this.config.classNames.controlPressed;e.setAttribute("aria-pressed","false"),Object.defineProperty(e,"pressed",{configurable:!0,enumerable:!0,get:()=>F(e,t),set(i=!1){R(e,t,i),e.setAttribute("aria-pressed",i?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach((t=>{S.array(t)||S.nodeList(t)?Array.from(t).filter(Boolean).forEach(e):e(t)}))}if(M.isEdge&&P(s),this.config.tooltips.controls){const{classNames:e,selectors:t}=this.config,i=`${t.controls.wrapper} ${t.labels} .${e.hidden}`,s=U.call(this,i);Array.from(s).forEach((e=>{R(e,this.config.classNames.hidden,!1),R(e,this.config.classNames.tooltip,!0)}))}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(e){}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const i=null===(e=this.config.markers)||void 0===e||null===(t=e.points)||void 0===t?void 0:t.filter((({time:e})=>e>0&&e<this.duration));if(null==i||!i.length)return;const s=document.createDocumentFragment(),n=document.createDocumentFragment();let a=null;const l=`${this.config.classNames.tooltip}--visible`,r=e=>R(a,l,e);i.forEach((e=>{const t=$("span",{class:this.config.classNames.marker},""),i=e.time/this.duration*100+"%";a&&(t.addEventListener("mouseenter",(()=>{e.label||(a.style.left=i,a.innerHTML=e.label,r(!0))})),t.addEventListener("mouseleave",(()=>{r(!1)}))),t.addEventListener("click",(()=>{this.currentTime=e.time})),t.style.left=i,n.appendChild(t)})),s.appendChild(n),this.config.tooltips.seek||(a=$("span",{class:this.config.classNames.tooltip},""),s.appendChild(a)),this.elements.markers={points:n,tip:a},this.elements.progress.appendChild(s)}};function Me(e,t=!0){let i=e;if(t){const e=document.createElement("a");e.href=i,i=e.href}try{return new URL(i)}catch(e){return null}}function Ne(e){const t=new URLSearchParams;return S.object(e)&&Object.entries(e).forEach((([e,i])=>{t.set(e,i)})),t}const xe={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!K.textTracks)return void(S.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Pe.setCaptionsMenu.call(this));var e,t;if(S.element(this.elements.captions)||(this.elements.captions=$("div",D(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),e=this.elements.captions,t=this.elements.wrapper,S.element(e)&&S.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)),M.isIE&&window.URL){const e=this.media.querySelectorAll("track");Array.from(e).forEach((e=>{const t=e.getAttribute("src"),i=Me(t);null!==i&&i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&Te(t,"blob").then((t=>{e.setAttribute("src",window.URL.createObjectURL(t))})).catch((()=>{O(e)}))}))}const i=se((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((e=>e.split("-")[0])));let s=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===s&&([s]=i);let n=this.storage.get("captions");if(S.boolean(n)||({active:n}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:n,language:s,languages:i}),this.isHTML5){const e=this.config.captions.update?"addtrack removetrack":"removetrack";X.call(this,this.media.textTracks,e,xe.update.bind(this))}setTimeout(xe.update.bind(this),0)},update(){const e=xe.getTracks.call(this,!0),{active:t,language:i,meta:s,currentTrackNode:n}=this.captions,a=Boolean(e.find((e=>e.language===i)));this.isHTML5&&this.isVideo&&e.filter((e=>!s.get(e))).forEach((e=>{this.debug.log("Track added",e),s.set(e,{default:"showing"===e.mode}),"showing"===e.mode&&(e.mode="hidden"),X.call(this,e,"cuechange",(()=>xe.updateCues.call(this)))})),(a&&this.language!==i||!e.includes(n))&&(xe.setLanguage.call(this,i),xe.toggle.call(this,t&&a)),this.elements&&R(this.elements.container,this.config.classNames.captions.enabled,!S.empty(e)),S.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Pe.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:i}=this.captions,s=this.config.classNames.captions.active,n=S.nullOrUndefined(e)?!i:e;if(n!==i){if(t||(this.captions.active=n,this.storage.set({captions:n})),!this.language&&n&&!t){const e=xe.getTracks.call(this),t=xe.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=t.language,void xe.set.call(this,e.indexOf(t))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=n),R(this.elements.container,s,n),this.captions.toggled=n,Pe.updateSetting.call(this,"captions"),Z.call(this,this.media,n?"captionsenabled":"captionsdisabled")}setTimeout((()=>{n&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")}))},set(e,t=!0){const i=xe.getTracks.call(this);if(-1!==e)if(S.number(e))if(e in i){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const s=i[e],{language:n}=s||{};this.captions.currentTrackNode=s,Pe.updateSetting.call(this,"captions"),t||(this.captions.language=n,this.storage.set({language:n})),this.isVimeo&&this.embed.enableTextTrack(n),Z.call(this,this.media,"languagechange")}xe.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&xe.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else xe.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!S.string(e))return void this.debug.warn("Invalid language argument",e);const i=e.toLowerCase();this.captions.language=i;const s=xe.getTracks.call(this),n=xe.findTrack.call(this,[i]);xe.set.call(this,s.indexOf(n),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter((t=>!this.isHTML5||e||this.captions.meta.has(t))).filter((e=>["captions","subtitles"].includes(e.kind)))},findTrack(e,t=!1){const i=xe.getTracks.call(this),s=e=>Number((this.captions.meta.get(e)||{}).default),n=Array.from(i).sort(((e,t)=>s(t)-s(e)));let a;return e.every((e=>(a=n.find((t=>t.language===e)),!a))),a||(t?n[0]:void 0)},getCurrentTrack(){return xe.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!S.track(t)&&K.textTracks&&this.captions.toggled&&(t=xe.getCurrentTrack.call(this)),S.track(t)?S.empty(t.label)?S.empty(t.language)?ve.get("enabled",this.config):e.language.toUpperCase():t.label:ve.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!S.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!S.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const e=xe.getCurrentTrack.call(this);t=Array.from((e||{}).activeCues||[]).map((e=>e.getCueAsHTML())).map(ye)}const i=t.map((e=>e.trim())).join("\n");if(i!==this.elements.captions.innerHTML){j(this.elements.captions);const e=$("span",D(this.config.selectors.caption));e.innerHTML=i,this.elements.captions.appendChild(e),Z.call(this,this.media,"cuechange")}}},Le={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},Ie="picture-in-picture",$e="inline",_e={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Oe="audio",je="video";const qe=()=>{};class De{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):qe}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):qe}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):qe}}class He{constructor(t){e(this,"onChange",(()=>{if(!this.supported)return;const e=this.player.elements.buttons.fullscreen;S.element(e)&&(e.pressed=this.active);const t=this.target===this.player.media?this.target:this.player.elements.container;Z.call(this.player,t,this.active?"enterfullscreen":"exitfullscreen",!0)})),e(this,"toggleFallback",((e=!1)=>{if(e?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",R(this.target,this.player.config.classNames.fullscreen.fallback,e),M.isIos){let t=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";t||(t=document.createElement("meta"),t.setAttribute("name","viewport"));const s=S.string(t.content)&&t.content.includes(i);e?(this.cleanupViewport=!s,s||(t.content+=`,${i}`)):this.cleanupViewport&&(t.content=t.content.split(",").filter((e=>e.trim()!==i)).join(","))}this.onChange()})),e(this,"trapFocus",(e=>{if(M.isIos||M.isIPadOS||!this.active||"Tab"!==e.key)return;const t=document.activeElement,i=U.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[s]=i,n=i[i.length-1];t!==n||e.shiftKey?t===s&&e.shiftKey&&(n.focus(),e.preventDefault()):(s.focus(),e.preventDefault())})),e(this,"update",(()=>{if(this.supported){let e;e=this.forceFallback?"Fallback (forced)":He.nativeSupported?"Native":"Fallback",this.player.debug.log(`${e} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");R(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)})),e(this,"enter",(()=>{this.supported&&(M.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!He.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?S.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))})),e(this,"exit",(()=>{if(this.supported)if(M.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),ie(this.player.play());else if(!He.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!S.empty(this.prefix)){const e="moz"===this.prefix?"Cancel":"Exit";document[`${this.prefix}${e}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)})),e(this,"toggle",(()=>{this.active?this.exit():this.enter()})),this.player=t,this.prefix=He.prefix,this.property=He.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===t.config.fullscreen.fallback,this.player.elements.fullscreen=t.config.fullscreen.container&&function(e,t){const{prototype:i}=Element;return(i.closest||function(){let e=this;do{if(V.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,t.config.fullscreen.container),X.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":`${this.prefix}fullscreenchange`,(()=>{this.onChange()})),X.call(this.player,this.player.elements.container,"dblclick",(e=>{S.element(this.player.elements.controls)&&this.player.elements.controls.contains(e.target)||this.player.listeners.proxy(e,this.toggle,"fullscreen")})),X.call(this,this.player.elements.container,"keydown",(e=>this.trapFocus(e))),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return He.nativeSupported&&!this.forceFallback}static get prefix(){if(S.function(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some((t=>!(!S.function(document[`${t}ExitFullscreen`])&&!S.function(document[`${t}CancelFullScreen`]))&&(e=t,!0))),e}static get property(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,He.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||He.nativeSupported||!M.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!He.nativeSupported||this.forceFallback)return F(this.target,this.player.config.classNames.fullscreen.fallback);const e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){return M.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function Re(e,t=1){return new Promise(((i,s)=>{const n=new Image,a=()=>{delete n.onload,delete n.onerror,(n.naturalWidth>=t?i:s)(n)};Object.assign(n,{onload:a,onerror:a,src:e})}))}const Fe={addStyleHook(){R(this.elements.container,this.config.selectors.container.replace(".",""),!0),R(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void Fe.toggleNativeControls.call(this,!0);S.element(this.elements.controls)||(Pe.inject.call(this),this.listeners.controls()),Fe.toggleNativeControls.call(this),this.isHTML5&&xe.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Pe.updateVolume.call(this),Pe.timeUpdate.call(this),Pe.durationUpdate.call(this),Fe.checkPlaying.call(this),R(this.elements.container,this.config.classNames.pip.supported,K.pip&&this.isHTML5&&this.isVideo),R(this.elements.container,this.config.classNames.airplay.supported,K.airplay&&this.isHTML5),R(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((()=>{Z.call(this,this.media,"ready")}),0),Fe.setTitle.call(this),this.poster&&Fe.setPoster.call(this,this.poster,!1).catch((()=>{})),this.config.duration&&Pe.durationUpdate.call(this),this.config.mediaMetadata&&Pe.setMediaMetadata.call(this)},setTitle(){let e=ve.get("play",this.config);if(S.string(this.config.title)&&!S.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach((t=>{t.setAttribute("aria-label",e)})),this.isEmbed){const e=B.call(this,"iframe");if(!S.element(e))return;const t=S.empty(this.config.title)?"video":this.config.title,i=ve.get("frameTitle",this.config);e.setAttribute("title",i.replace("{title}",t))}},togglePoster(e){R(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),te.call(this).then((()=>Re(e))).catch((t=>{throw e===this.poster&&Fe.togglePoster.call(this,!1),t})).then((()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),Fe.togglePoster.call(this,!0),e))))},checkPlaying(e){R(this.elements.container,this.config.classNames.playing,this.playing),R(this.elements.container,this.config.classNames.paused,this.paused),R(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",ve.get(this.playing?"pause":"play",this.config))})),S.event(e)&&"timeupdate"===e.type||Fe.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((()=>{R(this.elements.container,this.config.classNames.loading,this.loading),Fe.toggleControls.call(this)}),this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||i))}},migrateStyles(){Object.values({...this.media.style}).filter((e=>!S.empty(e)&&S.string(e)&&e.startsWith("--plyr"))).forEach((e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)})),S.empty(this.media.style)&&this.media.removeAttribute("style")}};class Ve{constructor(t){e(this,"firstTouch",(()=>{const{player:e}=this,{elements:t}=e;e.touch=!0,R(t.container,e.config.classNames.isTouch,!0)})),e(this,"global",((e=!0)=>{const{player:t}=this;t.config.keyboard.global&&Q.call(t,window,"keydown keyup",this.handleKey,e,!1),Q.call(t,document.body,"click",this.toggleMenu,e),G.call(t,document.body,"touchstart",this.firstTouch)})),e(this,"container",(()=>{const{player:e}=this,{config:t,elements:i,timers:s}=e;!t.keyboard.global&&t.keyboard.focused&&X.call(e,i.container,"keydown keyup",this.handleKey,!1),X.call(e,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(t=>{const{controls:n}=i;n&&"enterfullscreen"===t.type&&(n.pressed=!1,n.hover=!1);let a=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(Fe.toggleControls.call(e,!0),a=e.touch?3e3:2e3),clearTimeout(s.controls),s.controls=setTimeout((()=>Fe.toggleControls.call(e,!1)),a)}));const n=()=>{if(!e.isVimeo||e.config.vimeo.premium)return;const t=i.wrapper,{active:s}=e.fullscreen,[n,a]=ce.call(e),l=ae(`aspect-ratio: ${n} / ${a}`);if(!s)return void(l?(t.style.width=null,t.style.height=null):(t.style.maxWidth=null,t.style.margin=null));const[r,o]=[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)],c=r/o>n/a;l?(t.style.width=c?"auto":"100%",t.style.height=c?"100%":"auto"):(t.style.maxWidth=c?o/a*n+"px":null,t.style.margin=c?"0 auto":null)},a=()=>{clearTimeout(s.resized),s.resized=setTimeout(n,50)};X.call(e,i.container,"enterfullscreen exitfullscreen",(t=>{const{target:s}=e.fullscreen;if(s!==i.container)return;if(!e.isEmbed&&S.empty(e.config.ratio))return;n();("enterfullscreen"===t.type?X:J).call(e,window,"resize",a)}))})),e(this,"media",(()=>{const{player:e}=this,{elements:t}=e;if(X.call(e,e.media,"timeupdate seeking seeked",(t=>Pe.timeUpdate.call(e,t))),X.call(e,e.media,"durationchange loadeddata loadedmetadata",(t=>Pe.durationUpdate.call(e,t))),X.call(e,e.media,"ended",(()=>{e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&(e.restart(),e.pause())})),X.call(e,e.media,"progress playing seeking seeked",(t=>Pe.updateProgress.call(e,t))),X.call(e,e.media,"volumechange",(t=>Pe.updateVolume.call(e,t))),X.call(e,e.media,"playing play pause ended emptied timeupdate",(t=>Fe.checkPlaying.call(e,t))),X.call(e,e.media,"waiting canplay seeked playing",(t=>Fe.checkLoading.call(e,t))),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){const i=B.call(e,`.${e.config.classNames.video}`);if(!S.element(i))return;X.call(e,t.container,"click",(s=>{([t.container,i].includes(s.target)||i.contains(s.target))&&(e.touch&&e.config.hideControls||(e.ended?(this.proxy(s,e.restart,"restart"),this.proxy(s,(()=>{ie(e.play())}),"play")):this.proxy(s,(()=>{ie(e.togglePlay())}),"play")))}))}e.supported.ui&&e.config.disableContextMenu&&X.call(e,t.wrapper,"contextmenu",(e=>{e.preventDefault()}),!1),X.call(e,e.media,"volumechange",(()=>{e.storage.set({volume:e.volume,muted:e.muted})})),X.call(e,e.media,"ratechange",(()=>{Pe.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})})),X.call(e,e.media,"qualitychange",(t=>{Pe.updateSetting.call(e,"quality",null,t.detail.quality)})),X.call(e,e.media,"ready qualitychange",(()=>{Pe.setDownloadUrl.call(e)}));const i=e.config.events.concat(["keyup","keydown"]).join(" ");X.call(e,e.media,i,(i=>{let{detail:s={}}=i;"error"===i.type&&(s=e.media.error),Z.call(e,t.container,i.type,!0,s)}))})),e(this,"proxy",((e,t,i)=>{const{player:s}=this,n=s.config.listeners[i];let a=!0;S.function(n)&&(a=n.call(s,e)),!1!==a&&S.function(t)&&t.call(s,e)})),e(this,"bind",((e,t,i,s,n=!0)=>{const{player:a}=this,l=a.config.listeners[s],r=S.function(l);X.call(a,e,t,(e=>this.proxy(e,i,s)),n&&!r)})),e(this,"controls",(()=>{const{player:e}=this,{elements:t}=e,i=M.isIE?"change":"input";if(t.buttons.play&&Array.from(t.buttons.play).forEach((t=>{this.bind(t,"click",(()=>{ie(e.togglePlay())}),"play")})),this.bind(t.buttons.restart,"click",e.restart,"restart"),this.bind(t.buttons.rewind,"click",(()=>{e.lastSeekTime=Date.now(),e.rewind()}),"rewind"),this.bind(t.buttons.fastForward,"click",(()=>{e.lastSeekTime=Date.now(),e.forward()}),"fastForward"),this.bind(t.buttons.mute,"click",(()=>{e.muted=!e.muted}),"mute"),this.bind(t.buttons.captions,"click",(()=>e.toggleCaptions())),this.bind(t.buttons.download,"click",(()=>{Z.call(e,e.media,"download")}),"download"),this.bind(t.buttons.fullscreen,"click",(()=>{e.fullscreen.toggle()}),"fullscreen"),this.bind(t.buttons.pip,"click",(()=>{e.pip="toggle"}),"pip"),this.bind(t.buttons.airplay,"click",e.airplay,"airplay"),this.bind(t.buttons.settings,"click",(t=>{t.stopPropagation(),t.preventDefault(),Pe.toggleMenu.call(e,t)}),null,!1),this.bind(t.buttons.settings,"keyup",(t=>{[" ","Enter"].includes(t.key)&&("Enter"!==t.key?(t.preventDefault(),t.stopPropagation(),Pe.toggleMenu.call(e,t)):Pe.focusFirstMenuItem.call(e,null,!0))}),null,!1),this.bind(t.settings.menu,"keydown",(t=>{"Escape"===t.key&&Pe.toggleMenu.call(e,t)})),this.bind(t.inputs.seek,"mousedown mousemove",(e=>{const i=t.progress.getBoundingClientRect(),s=100/i.width*(e.pageX-i.left);e.currentTarget.setAttribute("seek-value",s)})),this.bind(t.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(t=>{const i=t.currentTarget,s="play-on-seeked";if(S.keyboardEvent(t)&&!["ArrowLeft","ArrowRight"].includes(t.key))return;e.lastSeekTime=Date.now();const n=i.hasAttribute(s),a=["mouseup","touchend","keyup"].includes(t.type);n&&a?(i.removeAttribute(s),ie(e.play())):!a&&e.playing&&(i.setAttribute(s,""),e.pause())})),M.isIos){const t=U.call(e,'input[type="range"]');Array.from(t).forEach((e=>this.bind(e,i,(e=>P(e.target)))))}this.bind(t.inputs.seek,i,(t=>{const i=t.currentTarget;let s=i.getAttribute("seek-value");S.empty(s)&&(s=i.value),i.removeAttribute("seek-value"),e.currentTime=s/i.max*e.duration}),"seek"),this.bind(t.progress,"mouseenter mouseleave mousemove",(t=>Pe.updateSeekTooltip.call(e,t))),this.bind(t.progress,"mousemove touchmove",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.startMove(t)})),this.bind(t.progress,"mouseleave touchend click",(()=>{const{previewThumbnails:t}=e;t&&t.loaded&&t.endMove(!1,!0)})),this.bind(t.progress,"mousedown touchstart",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.startScrubbing(t)})),this.bind(t.progress,"mouseup touchend",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.endScrubbing(t)})),M.isWebKit&&Array.from(U.call(e,'input[type="range"]')).forEach((t=>{this.bind(t,"input",(t=>Pe.updateRangeFill.call(e,t.target)))})),e.config.toggleInvert&&!S.element(t.display.duration)&&this.bind(t.display.currentTime,"click",(()=>{0!==e.currentTime&&(e.config.invertTime=!e.config.invertTime,Pe.timeUpdate.call(e))})),this.bind(t.inputs.volume,i,(t=>{e.volume=t.target.value}),"volume"),this.bind(t.controls,"mouseenter mouseleave",(i=>{t.controls.hover=!e.touch&&"mouseenter"===i.type})),t.fullscreen&&Array.from(t.fullscreen.children).filter((e=>!e.contains(t.container))).forEach((i=>{this.bind(i,"mouseenter mouseleave",(i=>{t.controls&&(t.controls.hover=!e.touch&&"mouseenter"===i.type)}))})),this.bind(t.controls,"mousedown mouseup touchstart touchend touchcancel",(e=>{t.controls.pressed=["mousedown","touchstart"].includes(e.type)})),this.bind(t.controls,"focusin",(()=>{const{config:i,timers:s}=e;R(t.controls,i.classNames.noTransition,!0),Fe.toggleControls.call(e,!0),setTimeout((()=>{R(t.controls,i.classNames.noTransition,!1)}),0);const n=this.touch?3e3:4e3;clearTimeout(s.controls),s.controls=setTimeout((()=>Fe.toggleControls.call(e,!1)),n)})),this.bind(t.inputs.volume,"wheel",(t=>{const i=t.webkitDirectionInvertedFromDevice,[s,n]=[t.deltaX,-t.deltaY].map((e=>i?-e:e)),a=Math.sign(Math.abs(s)>Math.abs(n)?s:n);e.increaseVolume(a/50);const{volume:l}=e.media;(1===a&&l<1||-1===a&&l>0)&&t.preventDefault()}),"volume",!1)})),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){const{player:t}=this,{elements:i}=t,{key:s,type:n,altKey:a,ctrlKey:l,metaKey:r,shiftKey:o}=e,c="keydown"===n,u=c&&s===this.lastKey;if(a||l||r||o)return;if(!s)return;if(c){const n=document.activeElement;if(S.element(n)){const{editable:s}=t.config.selectors,{seek:a}=i.inputs;if(n!==a&&V(n,s))return;if(" "===e.key&&V(n,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(s)&&(e.preventDefault(),e.stopPropagation()),s){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":u||(h=parseInt(s,10),t.currentTime=t.duration/10*h);break;case" ":case"k":u||ie(t.togglePlay());break;case"ArrowUp":t.increaseVolume(.1);break;case"ArrowDown":t.decreaseVolume(.1);break;case"m":u||(t.muted=!t.muted);break;case"ArrowRight":t.forward();break;case"ArrowLeft":t.rewind();break;case"f":t.fullscreen.toggle();break;case"c":u||t.toggleCaptions();break;case"l":t.loop=!t.loop}"Escape"===s&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=s}else this.lastKey=null;var h}toggleMenu(e){Pe.toggleMenu.call(this.player,e)}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof __webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self&&self;var Ue=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){e.exports=function(){var e=function(){},t={},i={},s={};function n(e,t){e=e.push?e:[e];var n,a,l,r=[],o=e.length,c=o;for(n=function(e,i){i.length&&r.push(e),--c||t(r)};o--;)a=e[o],(l=i[a])?n(a,l):(s[a]=s[a]||[]).push(n)}function a(e,t){if(e){var n=s[e];if(i[e]=t,n)for(;n.length;)n[0](e,t),n.splice(0,1)}}function l(t,i){t.call&&(t={success:t}),i.length?(t.error||e)(i):(t.success||e)(t)}function r(t,i,s,n){var a,l,o=document,c=s.async,u=(s.numRetries||0)+1,h=s.before||e,d=t.replace(/[\?|#].*$/,""),m=t.replace(/^(css|img)!/,"");n=n||0,/(^css!|\.css$)/.test(d)?((l=o.createElement("link")).rel="stylesheet",l.href=m,(a="hideFocus"in l)&&l.relList&&(a=0,l.rel="preload",l.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(d)?(l=o.createElement("img")).src=m:((l=o.createElement("script")).src=t,l.async=void 0===c||c),l.onload=l.onerror=l.onbeforeload=function(e){var o=e.type[0];if(a)try{l.sheet.cssText.length||(o="e")}catch(e){18!=e.code&&(o="e")}if("e"==o){if((n+=1)<u)return r(t,i,s,n)}else if("preload"==l.rel&&"style"==l.as)return l.rel="stylesheet";i(t,o,e.defaultPrevented)},!1!==h(t,l)&&o.head.appendChild(l)}function o(e,t,i){var s,n,a=(e=e.push?e:[e]).length,l=a,o=[];for(s=function(e,i,s){if("e"==i&&o.push(e),"b"==i){if(!s)return;o.push(e)}--a||t(o)},n=0;n<l;n++)r(e[n],s,i)}function c(e,i,s){var n,r;if(i&&i.trim&&(n=i),r=(n?s:i)||{},n){if(n in t)throw"LoadJS";t[n]=!0}function c(t,i){o(e,(function(e){l(r,e),t&&l({success:t,error:i},e),a(n,e)}),r)}if(r.returnPromise)return new Promise(c);c()}return c.ready=function(e,t){return n(e,(function(e){l(t,e)})),c},c.done=function(e){a(e,[])},c.reset=function(){t={},i={},s={}},c.isDefined=function(e){return e in t},c}()}));function Be(e){return new Promise(((t,i)=>{Ue(e,{success:t,error:i})}))}function We(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Z.call(this,this.media,e?"play":"pause"))}const ze={setup(){const e=this;R(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,ue.call(e),S.object(window.Vimeo)?ze.ready.call(e):Be(e.config.urls.vimeo.sdk).then((()=>{ze.ready.call(e)})).catch((t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready(){const e=this,t=e.config.vimeo,{premium:i,referrerPolicy:s,...n}=t;let a=e.media.getAttribute("src"),l="";S.empty(a)?(a=e.media.getAttribute(e.config.attributes.embed.id),l=e.media.getAttribute(e.config.attributes.embed.hash)):l=function(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&5===t.length?t[4]:null}(a);const r=l?{h:l}:{};i&&Object.assign(n,{controls:!1,sidedock:!1});const o=Ne({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:e.config.playsinline,...r,...n}),c=(u=a,S.empty(u)?null:S.number(Number(u))?u:u.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:u);var u;const h=$("iframe"),d=me(e.config.urls.vimeo.iframe,c,o);if(h.setAttribute("src",d),h.setAttribute("allowfullscreen",""),h.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),S.empty(s)||h.setAttribute("referrerPolicy",s),i||!t.customControls)h.setAttribute("data-poster",e.poster),e.media=q(h,e.media);else{const t=$("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});t.appendChild(h),e.media=q(t,e.media)}t.customControls||Te(me(e.config.urls.vimeo.api,d)).then((t=>{!S.empty(t)&&t.thumbnail_url&&Fe.setPoster.call(e,t.thumbnail_url).catch((()=>{}))})),e.embed=new window.Vimeo.Player(h,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(We.call(e,!0),e.embed.play()),e.media.pause=()=>(We.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:m}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>m,set(t){const{embed:i,media:s,paused:n,volume:a}=e,l=n&&!i.hasPlayed;s.seeking=!0,Z.call(e,s,"seeking"),Promise.resolve(l&&i.setVolume(0)).then((()=>i.setCurrentTime(t))).then((()=>l&&i.pause())).then((()=>l&&i.setVolume(a))).catch((()=>{}))}});let p=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>p,set(t){e.embed.setPlaybackRate(t).then((()=>{p=t,Z.call(e,e.media,"ratechange")})).catch((()=>{e.options.speed=[1]}))}});let{volume:g}=e.config;Object.defineProperty(e.media,"volume",{get:()=>g,set(t){e.embed.setVolume(t).then((()=>{g=t,Z.call(e,e.media,"volumechange")}))}});let{muted:f}=e.config;Object.defineProperty(e.media,"muted",{get:()=>f,set(t){const i=!!S.boolean(t)&&t;e.embed.setMuted(!!i||e.config.muted).then((()=>{f=i,Z.call(e,e.media,"volumechange")}))}});let y,{loop:b}=e.config;Object.defineProperty(e.media,"loop",{get:()=>b,set(t){const i=S.boolean(t)?t:e.config.loop.active;e.embed.setLoop(i).then((()=>{b=i}))}}),e.embed.getVideoUrl().then((t=>{y=t,Pe.setDownloadUrl.call(e)})).catch((e=>{this.debug.warn(e)})),Object.defineProperty(e.media,"currentSrc",{get:()=>y}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then((t=>{const[i,s]=t;e.embed.ratio=he(i,s),ue.call(this)})),e.embed.setAutopause(e.config.autopause).then((t=>{e.config.autopause=t})),e.embed.getVideoTitle().then((t=>{e.config.title=t,Fe.setTitle.call(this)})),e.embed.getCurrentTime().then((t=>{m=t,Z.call(e,e.media,"timeupdate")})),e.embed.getDuration().then((t=>{e.media.duration=t,Z.call(e,e.media,"durationchange")})),e.embed.getTextTracks().then((t=>{e.media.textTracks=t,xe.setup.call(e)})),e.embed.on("cuechange",(({cues:t=[]})=>{const i=t.map((e=>function(e){const t=document.createDocumentFragment(),i=document.createElement("div");return t.appendChild(i),i.innerHTML=e,t.firstChild.innerText}(e.text)));xe.updateCues.call(e,i)})),e.embed.on("loaded",(()=>{if(e.embed.getPaused().then((t=>{We.call(e,!t),t||Z.call(e,e.media,"playing")})),S.element(e.embed.element)&&e.supported.ui){e.embed.element.setAttribute("tabindex",-1)}})),e.embed.on("bufferstart",(()=>{Z.call(e,e.media,"waiting")})),e.embed.on("bufferend",(()=>{Z.call(e,e.media,"playing")})),e.embed.on("play",(()=>{We.call(e,!0),Z.call(e,e.media,"playing")})),e.embed.on("pause",(()=>{We.call(e,!1)})),e.embed.on("timeupdate",(t=>{e.media.seeking=!1,m=t.seconds,Z.call(e,e.media,"timeupdate")})),e.embed.on("progress",(t=>{e.media.buffered=t.percent,Z.call(e,e.media,"progress"),1===parseInt(t.percent,10)&&Z.call(e,e.media,"canplaythrough"),e.embed.getDuration().then((t=>{t!==e.media.duration&&(e.media.duration=t,Z.call(e,e.media,"durationchange"))}))})),e.embed.on("seeked",(()=>{e.media.seeking=!1,Z.call(e,e.media,"seeked")})),e.embed.on("ended",(()=>{e.media.paused=!0,Z.call(e,e.media,"ended")})),e.embed.on("error",(t=>{e.media.error=t,Z.call(e,e.media,"error")})),t.customControls&&setTimeout((()=>Fe.build.call(e)),0)}};function Ke(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Z.call(this,this.media,e?"play":"pause"))}function Ye(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}const Qe={setup(){if(R(this.elements.wrapper,this.config.classNames.embed,!0),S.object(window.YT)&&S.function(window.YT.Player))Qe.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{S.function(e)&&e(),Qe.ready.call(this)},Be(this.config.urls.youtube.sdk).catch((e=>{this.debug.warn("YouTube API failed to load",e)}))}},getTitle(e){Te(me(this.config.urls.youtube.api,e)).then((e=>{if(S.object(e)){const{title:t,height:i,width:s}=e;this.config.title=t,Fe.setTitle.call(this),this.embed.ratio=he(s,i)}ue.call(this)})).catch((()=>{ue.call(this)}))},ready(){const e=this,t=e.config.youtube,i=e.media&&e.media.getAttribute("id");if(!S.empty(i)&&i.startsWith("youtube-"))return;let s=e.media.getAttribute("src");S.empty(s)&&(s=e.media.getAttribute(this.config.attributes.embed.id));const n=(a=s,S.empty(a)?null:a.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:a);var a;const l=$("div",{id:`${e.provider}-${Math.floor(1e4*Math.random())}`,"data-poster":t.customControls?e.poster:void 0});if(e.media=q(l,e.media),t.customControls){const t=e=>`https://i.ytimg.com/vi/${n}/${e}default.jpg`;Re(t("maxres"),121).catch((()=>Re(t("sd"),121))).catch((()=>Re(t("hq")))).then((t=>Fe.setPoster.call(e,t.src))).then((t=>{t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((()=>{}))}e.embed=new window.YT.Player(e.media,{videoId:n,host:Ye(t),playerVars:x({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(t){if(!e.media.error){const i=t.data,s={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[i]||"An unknown error occurred";e.media.error={code:i,message:s},Z.call(e,e.media,"error")}},onPlaybackRateChange(t){const i=t.target;e.media.playbackRate=i.getPlaybackRate(),Z.call(e,e.media,"ratechange")},onReady(i){if(S.function(e.media.play))return;const s=i.target;Qe.getTitle.call(e,n),e.media.play=()=>{Ke.call(e,!0),s.playVideo()},e.media.pause=()=>{Ke.call(e,!1),s.pauseVideo()},e.media.stop=()=>{s.stopVideo()},e.media.duration=s.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(s.getCurrentTime()),set(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,Z.call(e,e.media,"seeking"),s.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>s.getPlaybackRate(),set(e){s.setPlaybackRate(e)}});let{volume:a}=e.config;Object.defineProperty(e.media,"volume",{get:()=>a,set(t){a=t,s.setVolume(100*a),Z.call(e,e.media,"volumechange")}});let{muted:l}=e.config;Object.defineProperty(e.media,"muted",{get:()=>l,set(t){const i=S.boolean(t)?t:l;l=i,s[i?"mute":"unMute"](),s.setVolume(100*a),Z.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>s.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const r=s.getAvailablePlaybackRates();e.options.speed=r.filter((t=>e.config.speed.options.includes(t))),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),Z.call(e,e.media,"timeupdate"),Z.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((()=>{e.media.buffered=s.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&Z.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),Z.call(e,e.media,"canplaythrough"))}),200),t.customControls&&setTimeout((()=>Fe.build.call(e)),50)},onStateChange(i){const s=i.target;clearInterval(e.timers.playing);switch(e.media.seeking&&[1,2].includes(i.data)&&(e.media.seeking=!1,Z.call(e,e.media,"seeked")),i.data){case-1:Z.call(e,e.media,"timeupdate"),e.media.buffered=s.getVideoLoadedFraction(),Z.call(e,e.media,"progress");break;case 0:Ke.call(e,!1),e.media.loop?(s.stopVideo(),s.playVideo()):Z.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(Ke.call(e,!0),Z.call(e,e.media,"playing"),e.timers.playing=setInterval((()=>{Z.call(e,e.media,"timeupdate")}),50),e.media.duration!==s.getDuration()&&(e.media.duration=s.getDuration(),Z.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),Ke.call(e,!1);break;case 3:Z.call(e,e.media,"waiting")}Z.call(e,e.elements.container,"statechange",!1,{code:i.data})}}})}},Xe={setup(){this.media?(R(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),R(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&R(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=$("div",{class:this.config.classNames.video}),L(this.media,this.elements.wrapper),this.elements.poster=$("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?de.setup.call(this):this.isYouTube?Qe.setup.call(this):this.isVimeo&&ze.setup.call(this)):this.debug.warn("No media element found!")}};class Je{constructor(t){e(this,"load",(()=>{this.enabled&&(S.object(window.google)&&S.object(window.google.ima)?this.ready():Be(this.player.config.urls.googleIMA.sdk).then((()=>{this.ready()})).catch((()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))})))})),e(this,"ready",(()=>{var e;this.enabled||((e=this).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then((()=>{this.clearSafetyTimer("onAdsManagerLoaded()")})),this.listeners(),this.setupIMA()})),e(this,"setupIMA",(()=>{this.elements.container=$("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(e=>this.onAdsManagerLoaded(e)),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(e=>this.onAdError(e)),!1),this.requestAds()})),e(this,"requestAds",(()=>{const{container:e}=this.player.elements;try{const t=new google.ima.AdsRequest;t.adTagUrl=this.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t)}catch(e){this.onAdError(e)}})),e(this,"pollCountdown",((e=!1)=>{if(!e)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval((()=>{const e=Ee(Math.max(this.manager.getRemainingTime(),0)),t=`${ve.get("advertisement",this.player.config)} - ${e}`;this.elements.container.setAttribute("data-badge-text",t)}),100)})),e(this,"onAdsManagerLoaded",(e=>{if(!this.enabled)return;const t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,this.manager=e.getAdsManager(this.player,t),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(e=>this.onAdError(e))),Object.keys(google.ima.AdEvent.Type).forEach((e=>{this.manager.addEventListener(google.ima.AdEvent.Type[e],(e=>this.onAdEvent(e)))})),this.trigger("loaded")})),e(this,"addCuePoints",(()=>{S.empty(this.cuePoints)||this.cuePoints.forEach((e=>{if(0!==e&&-1!==e&&e<this.player.duration){const t=this.player.elements.progress;if(S.element(t)){const i=100/this.player.duration*e,s=$("span",{class:this.player.config.classNames.cues});s.style.left=`${i.toString()}%`,t.appendChild(s)}}}))})),e(this,"onAdEvent",(e=>{const{container:t}=this.player.elements,i=e.getAd(),s=e.getAdData();switch((e=>{Z.call(this.player,this.player.media,`ads${e.replace(/_/g,"").toLowerCase()}`)})(e.type),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=t.offsetWidth,i.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:s.adError&&this.player.debug.warn(`Non-fatal ad error: ${s.adError.getMessage()}`)}})),e(this,"onAdError",(e=>{this.cancel(),this.player.debug.warn("Ads error",e)})),e(this,"listeners",(()=>{const{container:e}=this.player.elements;let t;this.player.on("canplay",(()=>{this.addCuePoints()})),this.player.on("ended",(()=>{this.loader.contentComplete()})),this.player.on("timeupdate",(()=>{t=this.player.currentTime})),this.player.on("seeked",(()=>{const e=this.player.currentTime;S.empty(this.cuePoints)||this.cuePoints.forEach(((i,s)=>{t<i&&i<e&&(this.manager.discardAdBreak(),this.cuePoints.splice(s,1))}))})),window.addEventListener("resize",(()=>{this.manager&&this.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)}))})),e(this,"play",(()=>{const{container:e}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then((()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(e){this.onAdError(e)}})).catch((()=>{}))})),e(this,"resumeContent",(()=>{this.elements.container.style.zIndex="",this.playing=!1,ie(this.player.media.play())})),e(this,"pauseContent",(()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()})),e(this,"cancel",(()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()})),e(this,"loadAds",(()=>{this.managerPromise.then((()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise((e=>{this.on("loaded",e),this.player.debug.log(this.manager)})),this.initialized=!1,this.requestAds()})).catch((()=>{}))})),e(this,"trigger",((e,...t)=>{const i=this.events[e];S.array(i)&&i.forEach((e=>{S.function(e)&&e.apply(this,t)}))})),e(this,"on",((e,t)=>(S.array(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this))),e(this,"startSafetyTimer",((e,t)=>{this.player.debug.log(`Safety timer invoked from: ${t}`),this.safetyTimer=setTimeout((()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")}),e)})),e(this,"clearSafetyTimer",(e=>{S.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${e}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)})),this.player=t,this.config=t.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(((e,t)=>{this.on("loaded",e),this.on("error",t)})),this.load()}get enabled(){const{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!S.empty(e.publisherId)||S.url(e.tagUrl))}get tagUrl(){const{config:e}=this;if(S.url(e.tagUrl))return e.tagUrl;return`https://go.aniview.com/api/adserver6/vast/?${Ne({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId})}`}}function Ge(e=0,t=0,i=255){return Math.min(Math.max(e,t),i)}const Ze=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach((e=>{const i={};e.split(/\r\n|\n|\r/).forEach((e=>{if(S.number(i.startTime)){if(!S.empty(e.trim())&&S.empty(i.text)){const t=e.trim().split("#xywh=");[i.text]=t,t[1]&&([i.x,i.y,i.w,i.h]=t[1].split(","))}}else{const t=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);t&&(i.startTime=60*Number(t[1]||0)*60+60*Number(t[2])+Number(t[3])+Number(`0.${t[4]}`),i.endTime=60*Number(t[6]||0)*60+60*Number(t[7])+Number(t[8])+Number(`0.${t[9]}`))}})),i.text&&t.push(i)})),t},et=(e,t)=>{const i={};return e>t.width/t.height?(i.width=t.width,i.height=1/e*t.width):(i.height=t.height,i.width=e*t.height),i};class tt{constructor(t){e(this,"load",(()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then((()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)}))})),e(this,"getThumbnails",(()=>new Promise((e=>{const{src:t}=this.player.config.previewThumbnails;if(S.empty(t))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort(((e,t)=>e.height-t.height)),this.player.debug.log("Preview thumbnails",this.thumbnails),e()};if(S.function(t))t((e=>{this.thumbnails=e,i()}));else{const e=(S.string(t)?[t]:t).map((e=>this.getThumbnail(e)));Promise.all(e).then(i)}})))),e(this,"getThumbnail",(e=>new Promise((t=>{Te(e).then((i=>{const s={frames:Ze(i),height:null,urlPrefix:""};s.frames[0].text.startsWith("/")||s.frames[0].text.startsWith("http://")||s.frames[0].text.startsWith("https://")||(s.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));const n=new Image;n.onload=()=>{s.height=n.naturalHeight,s.width=n.naturalWidth,this.thumbnails.push(s),t()},n.src=s.urlPrefix+s.frames[0].text}))})))),e(this,"startMove",(e=>{if(this.loaded&&S.event(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t,i;const s=this.player.elements.progress.getBoundingClientRect(),n=100/s.width*(e.pageX-s.left);this.seekTime=this.player.media.duration*(n/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=Ee(this.seekTime);const a=null===(t=this.player.config.markers)||void 0===t||null===(i=t.points)||void 0===i?void 0:i.find((({time:e})=>e===Math.round(this.seekTime)));a&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${a.label}<br>`)}this.showImageAtCurrentTime()}})),e(this,"endMove",(()=>{this.toggleThumbContainer(!1,!0)})),e(this,"startScrubbing",(e=>{(S.nullOrUndefined(e.button)||!1===e.button||0===e.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))})),e(this,"endScrubbing",(()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):G.call(this.player,this.player.media,"timeupdate",(()=>{this.mouseDown||this.toggleScrubbingContainer(!1)}))})),e(this,"listeners",(()=>{this.player.on("play",(()=>{this.toggleThumbContainer(!1,!0)})),this.player.on("seeked",(()=>{this.toggleThumbContainer(!1)})),this.player.on("timeupdate",(()=>{this.lastTime=this.player.media.currentTime}))})),e(this,"render",(()=>{this.elements.thumb.container=$("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=$("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const e=$("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=$("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(e),S.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=$("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)})),e(this,"destroy",(()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()})),e(this,"showImageAtCurrentTime",(()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const e=this.thumbnails[0].frames.findIndex((e=>this.seekTime>=e.startTime&&this.seekTime<=e.endTime)),t=e>=0;let i=0;this.mouseDown||this.toggleThumbContainer(t),t&&(this.thumbnails.forEach(((t,s)=>{this.loadedImages.includes(t.frames[e].text)&&(i=s)})),e!==this.showingThumb&&(this.showingThumb=e,this.loadImage(i)))})),e(this,"loadImage",((e=0)=>{const t=this.showingThumb,i=this.thumbnails[e],{urlPrefix:s}=i,n=i.frames[t],a=i.frames[t].text,l=s+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,n,e,t,a,!1),this.currentImageElement.dataset.index=t,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const i=new Image;i.src=l,i.dataset.index=t,i.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log(`Loading image: ${l}`),i.onload=()=>this.showImage(i,n,e,t,a,!0),this.loadingImage=i,this.removeOldImages(i)}})),e(this,"showImage",((e,t,i,s,n,a=!0)=>{this.player.debug.log(`Showing thumb: ${n}. num: ${s}. qual: ${i}. newimg: ${a}`),this.setImageSizeAndOffset(e,t),a&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(n)||this.loadedImages.push(n)),this.preloadNearby(s,!0).then(this.preloadNearby(s,!1)).then(this.getHigherQuality(i,e,t,n))})),e(this,"removeOldImages",(e=>{Array.from(this.currentImageContainer.children).forEach((t=>{if("img"!==t.tagName.toLowerCase())return;const i=this.usingSprites?500:1e3;if(t.dataset.index!==e.dataset.index&&!t.dataset.deleting){t.dataset.deleting=!0;const{currentImageContainer:e}=this;setTimeout((()=>{e.removeChild(t),this.player.debug.log(`Removing thumb: ${t.dataset.filename}`)}),i)}}))})),e(this,"preloadNearby",((e,t=!0)=>new Promise((i=>{setTimeout((()=>{const s=this.thumbnails[0].frames[e].text;if(this.showingThumbFilename===s){let n;n=t?this.thumbnails[0].frames.slice(e):this.thumbnails[0].frames.slice(0,e).reverse();let a=!1;n.forEach((e=>{const t=e.text;if(t!==s&&!this.loadedImages.includes(t)){a=!0,this.player.debug.log(`Preloading thumb filename: ${t}`);const{urlPrefix:e}=this.thumbnails[0],s=e+t,n=new Image;n.src=s,n.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${t}`),this.loadedImages.includes(t)||this.loadedImages.push(t),i()}}})),a||i()}}),300)})))),e(this,"getHigherQuality",((e,t,i,s)=>{if(e<this.thumbnails.length-1){let n=t.naturalHeight;this.usingSprites&&(n=i.h),n<this.thumbContainerHeight&&setTimeout((()=>{this.showingThumbFilename===s&&(this.player.debug.log(`Showing higher quality thumb for: ${s}`),this.loadImage(e+1))}),300)}})),e(this,"toggleThumbContainer",((e=!1,t=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)})),e(this,"toggleScrubbingContainer",((e=!1)=>{const t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)})),e(this,"determineContainerAutoSizing",(()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)})),e(this,"setThumbContainerSizeAndPos",(()=>{const{imageContainer:e}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(e.clientHeight>20&&e.clientWidth<20){const t=Math.floor(e.clientHeight*this.thumbAspectRatio);e.style.width=`${t}px`}else if(e.clientHeight<20&&e.clientWidth>20){const t=Math.floor(e.clientWidth/this.thumbAspectRatio);e.style.height=`${t}px`}}else{const t=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);e.style.height=`${this.thumbContainerHeight}px`,e.style.width=`${t}px`}this.setThumbContainerPos()})),e(this,"setThumbContainerPos",(()=>{const e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,s=t.left-e.left+10,n=t.right-e.left-i.clientWidth-10,a=this.mousePosX-e.left-i.clientWidth/2,l=Ge(a,s,n);i.style.left=`${l}px`,i.style.setProperty("--preview-arrow-offset",a-l+"px")})),e(this,"setScrubbingContainerSize",(()=>{const{width:e,height:t}=et(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${e}px`,this.elements.scrubbing.container.style.height=`${t}px`})),e(this,"setImageSizeAndOffset",((e,t)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/t.h;e.style.height=e.naturalHeight*i+"px",e.style.width=e.naturalWidth*i+"px",e.style.left=`-${t.x*i}px`,e.style.top=`-${t.y*i}px`})),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e}=et(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}const it={insertElements(e,t){S.string(t)?_(e,this.media,{src:t}):S.array(t)&&t.forEach((t=>{_(e,this.media,t)}))},change(e){N(e,"sources.length")?(de.cancelRequests.call(this),this.destroy.call(this,(()=>{this.options.quality=[],O(this.media),this.media=null,S.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:i}=e,[{provider:s=_e.html5,src:n}]=t,a="html5"===s?i:"div",l="html5"===s?{}:{src:n};Object.assign(this,{provider:s,type:i,supported:K.check(i,s,this.config.playsinline),media:$(a,l)}),this.elements.container.appendChild(this.media),S.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),S.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),Fe.addStyleHook.call(this),this.isHTML5&&it.insertElements.call(this,"source",t),this.config.title=e.title,Xe.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&it.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Fe.build.call(this),this.isHTML5&&this.media.load(),S.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new tt(this))),this.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}};class st{constructor(t,i){if(e(this,"play",(()=>S.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then((()=>this.ads.play())).catch((()=>ie(this.media.play()))),this.media.play()):null)),e(this,"pause",(()=>this.playing&&S.function(this.media.pause)?this.media.pause():null)),e(this,"togglePlay",(e=>(S.boolean(e)?e:!this.playing)?this.play():this.pause())),e(this,"stop",(()=>{this.isHTML5?(this.pause(),this.restart()):S.function(this.media.stop)&&this.media.stop()})),e(this,"restart",(()=>{this.currentTime=0})),e(this,"rewind",(e=>{this.currentTime-=S.number(e)?e:this.config.seekTime})),e(this,"forward",(e=>{this.currentTime+=S.number(e)?e:this.config.seekTime})),e(this,"increaseVolume",(e=>{const t=this.media.muted?0:this.volume;this.volume=t+(S.number(e)?e:0)})),e(this,"decreaseVolume",(e=>{this.increaseVolume(-e)})),e(this,"airplay",(()=>{K.airplay&&this.media.webkitShowPlaybackTargetPicker()})),e(this,"toggleControls",(e=>{if(this.supported.ui&&!this.isAudio){const t=F(this.elements.container,this.config.classNames.hideControls),i=void 0===e?void 0:!e,s=R(this.elements.container,this.config.classNames.hideControls,i);if(s&&S.array(this.config.controls)&&this.config.controls.includes("settings")&&!S.empty(this.config.settings)&&Pe.toggleMenu.call(this,!1),s!==t){const e=s?"controlshidden":"controlsshown";Z.call(this,this.media,e)}return!s}return!1})),e(this,"on",((e,t)=>{X.call(this,this.elements.container,e,t)})),e(this,"once",((e,t)=>{G.call(this,this.elements.container,e,t)})),e(this,"off",((e,t)=>{J(this.elements.container,e,t)})),e(this,"destroy",((e,t=!1)=>{if(!this.ready)return;const i=()=>{document.body.style.overflow="",this.embed=null,t?(Object.keys(this.elements).length&&(O(this.elements.buttons.play),O(this.elements.captions),O(this.elements.controls),O(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),S.function(e)&&e()):(ee.call(this),de.cancelRequests.call(this),q(this.elements.original,this.elements.container),Z.call(this,this.elements.original,"destroyed",!0),S.function(e)&&e.call(this.elements.original),this.ready=!1,setTimeout((()=>{this.elements=null,this.media=null}),200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(Fe.toggleNativeControls.call(this,!0),i()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&S.function(this.embed.destroy)&&this.embed.destroy(),i()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200))})),e(this,"supports",(e=>K.mime.call(this,e))),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=K.touch,this.media=t,S.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||S.nodeList(this.media)||S.array(this.media))&&(this.media=this.media[0]),this.config=x({},Le,st.defaults,i||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch(e){return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new De(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",K),S.nullOrUndefined(this.media)||!S.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!K.check().api)return void this.debug.error("Setup failed: no support");const s=this.media.cloneNode(!0);s.autoplay=!1,this.elements.original=s;const n=this.media.tagName.toLowerCase();let a=null,l=null;switch(n){case"div":if(a=this.media.querySelector("iframe"),S.element(a)){if(l=Me(a.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?_e.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?_e.vimeo:null}(l.toString()),this.elements.container=this.media,this.media=a,this.elements.container.className="",l.search.length){const e=["1","true"];e.includes(l.searchParams.get("autoplay"))&&(this.config.autoplay=!0),e.includes(l.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=e.includes(l.searchParams.get("playsinline")),this.config.youtube.hl=l.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(S.empty(this.provider)||!Object.values(_e).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=je;break;case"video":case"audio":this.type=n,this.provider=_e.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=K.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new Ve(this),this.storage=new we(this),this.media.plyr=this,S.element(this.elements.container)||(this.elements.container=$("div"),L(this.media,this.elements.container)),Fe.migrateStyles.call(this),Fe.addStyleHook.call(this),Xe.setup.call(this),this.config.debug&&X.call(this,this.elements.container,this.config.events.join(" "),(e=>{this.debug.log(`event: ${e.type}`)})),this.fullscreen=new He(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Fe.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new Je(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(()=>ie(this.play()))),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new tt(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===_e.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===_e.youtube}get isVimeo(){return this.provider===_e.vimeo}get isVideo(){return this.type===je}get isAudio(){return this.type===Oe}get playing(){return Boolean(this.ready&&!this.paused&&!this.ended)}get paused(){return Boolean(this.media.paused)}get stopped(){return Boolean(this.paused&&0===this.currentTime)}get ended(){return Boolean(this.media.ended)}set currentTime(e){if(!this.duration)return;const t=S.number(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e}=this.media;return S.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return Boolean(this.media.seeking)}get duration(){const e=parseFloat(this.config.duration),t=(this.media||{}).duration,i=S.number(t)&&t!==1/0?t:0;return e||i}set volume(e){let t=e;S.string(t)&&(t=Number(t)),S.number(t)||(t=this.storage.get("volume")),S.number(t)||({volume:t}=this.config),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!S.empty(e)&&this.muted&&t>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let t=e;S.boolean(t)||(t=this.storage.get("muted")),S.boolean(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}get muted(){return Boolean(this.media.muted)}get hasAudio(){return!this.isHTML5||(!!this.isAudio||(Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)))}set speed(e){let t=null;S.number(e)&&(t=e),S.number(t)||(t=this.storage.get("speed")),S.number(t)||(t=this.config.speed.selected);const{minimumSpeed:i,maximumSpeed:s}=this;t=Ge(t,i,s),this.config.speed.selected=t,setTimeout((()=>{this.media&&(this.media.playbackRate=t)}),0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){const t=this.config.quality,i=this.options.quality;if(!i.length)return;let s=[!S.empty(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(S.number),n=!0;if(!i.includes(s)){const e=ne(i,s);this.debug.warn(`Unsupported quality option: ${s}, using ${e} instead`),s=e,n=!1}t.selected=s,this.media.quality=s,n&&this.storage.set({quality:s})}get quality(){return this.media.quality}set loop(e){const t=S.boolean(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}get loop(){return Boolean(this.media.loop)}set source(e){it.change.call(this,e)}get source(){return this.media.currentSrc}get download(){const{download:e}=this.config.urls;return S.url(e)?e:this.source}set download(e){S.url(e)&&(this.config.urls.download=e,Pe.setDownloadUrl.call(this))}set poster(e){this.isVideo?Fe.setPoster.call(this,e,!1).catch((()=>{})):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e=oe(ce.call(this));return S.array(e)?e.join(":"):e}set ratio(e){this.isVideo?S.string(e)&&re(e)?(this.config.ratio=oe(e),ue.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){this.config.autoplay=S.boolean(e)?e:this.config.autoplay}get autoplay(){return Boolean(this.config.autoplay)}toggleCaptions(e){xe.toggle.call(this,e,!1)}set currentTrack(e){xe.set.call(this,e,!1),xe.setup.call(this)}get currentTrack(){const{toggled:e,currentTrack:t}=this.captions;return e?t:-1}set language(e){xe.setLanguage.call(this,e,!1)}get language(){return(xe.getCurrentTrack.call(this)||{}).language}set pip(e){if(!K.pip)return;const t=S.boolean(e)?e:!this.pip;S.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?Ie:$e),S.function(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}get pip(){return K.pip?S.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Ie:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new tt(this))}static supported(e,t){return K.check(e,t)}static loadSprite(e,t){return ke(e,t)}static setup(e,t={}){let i=null;return S.string(e)?i=Array.from(document.querySelectorAll(e)):S.nodeList(e)?i=Array.from(e):S.array(e)&&(i=e.filter(S.element)),S.empty(i)?null:i.map((e=>new st(e,t)))}}var nt;return st.defaults=(nt=Le,JSON.parse(JSON.stringify(nt))),st}));
//# sourceMappingURL=plyr.min.js.map


/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/***/ ((module) => {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),

/***/ "./node_modules/pusher-js/dist/web/pusher.js":
/*!***************************************************!*\
  !*** ./node_modules/pusher-js/dist/web/pusher.js ***!
  \***************************************************/
/***/ ((module) => {

/*!
 * Pusher JavaScript Library v7.6.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */

(function webpackUniversalModuleDefinition(root, factory) {
	if(true)
		module.exports = factory();
	else {}
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __nested_webpack_require_669__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __nested_webpack_require_669__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__nested_webpack_require_669__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__nested_webpack_require_669__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__nested_webpack_require_669__.d = function(exports, name, getter) {
/******/ 		if(!__nested_webpack_require_669__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__nested_webpack_require_669__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__nested_webpack_require_669__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __nested_webpack_require_669__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__nested_webpack_require_669__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __nested_webpack_require_669__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__nested_webpack_require_669__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__nested_webpack_require_669__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__nested_webpack_require_669__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__nested_webpack_require_669__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __nested_webpack_require_669__(__nested_webpack_require_669__.s = 2);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (C) 2016 Dmitry Chestnykh
// MIT License. See LICENSE file for details.
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Package base64 implements Base64 encoding and decoding.
 */
// Invalid character used in decoding to indicate
// that the character to decode is out of range of
// alphabet and cannot be decoded.
var INVALID_BYTE = 256;
/**
 * Implements standard Base64 encoding.
 *
 * Operates in constant time.
 */
var Coder = /** @class */ (function () {
    // TODO(dchest): methods to encode chunk-by-chunk.
    function Coder(_paddingCharacter) {
        if (_paddingCharacter === void 0) { _paddingCharacter = "="; }
        this._paddingCharacter = _paddingCharacter;
    }
    Coder.prototype.encodedLength = function (length) {
        if (!this._paddingCharacter) {
            return (length * 8 + 5) / 6 | 0;
        }
        return (length + 2) / 3 * 4 | 0;
    };
    Coder.prototype.encode = function (data) {
        var out = "";
        var i = 0;
        for (; i < data.length - 2; i += 3) {
            var c = (data[i] << 16) | (data[i + 1] << 8) | (data[i + 2]);
            out += this._encodeByte((c >>> 3 * 6) & 63);
            out += this._encodeByte((c >>> 2 * 6) & 63);
            out += this._encodeByte((c >>> 1 * 6) & 63);
            out += this._encodeByte((c >>> 0 * 6) & 63);
        }
        var left = data.length - i;
        if (left > 0) {
            var c = (data[i] << 16) | (left === 2 ? data[i + 1] << 8 : 0);
            out += this._encodeByte((c >>> 3 * 6) & 63);
            out += this._encodeByte((c >>> 2 * 6) & 63);
            if (left === 2) {
                out += this._encodeByte((c >>> 1 * 6) & 63);
            }
            else {
                out += this._paddingCharacter || "";
            }
            out += this._paddingCharacter || "";
        }
        return out;
    };
    Coder.prototype.maxDecodedLength = function (length) {
        if (!this._paddingCharacter) {
            return (length * 6 + 7) / 8 | 0;
        }
        return length / 4 * 3 | 0;
    };
    Coder.prototype.decodedLength = function (s) {
        return this.maxDecodedLength(s.length - this._getPaddingLength(s));
    };
    Coder.prototype.decode = function (s) {
        if (s.length === 0) {
            return new Uint8Array(0);
        }
        var paddingLength = this._getPaddingLength(s);
        var length = s.length - paddingLength;
        var out = new Uint8Array(this.maxDecodedLength(length));
        var op = 0;
        var i = 0;
        var haveBad = 0;
        var v0 = 0, v1 = 0, v2 = 0, v3 = 0;
        for (; i < length - 4; i += 4) {
            v0 = this._decodeChar(s.charCodeAt(i + 0));
            v1 = this._decodeChar(s.charCodeAt(i + 1));
            v2 = this._decodeChar(s.charCodeAt(i + 2));
            v3 = this._decodeChar(s.charCodeAt(i + 3));
            out[op++] = (v0 << 2) | (v1 >>> 4);
            out[op++] = (v1 << 4) | (v2 >>> 2);
            out[op++] = (v2 << 6) | v3;
            haveBad |= v0 & INVALID_BYTE;
            haveBad |= v1 & INVALID_BYTE;
            haveBad |= v2 & INVALID_BYTE;
            haveBad |= v3 & INVALID_BYTE;
        }
        if (i < length - 1) {
            v0 = this._decodeChar(s.charCodeAt(i));
            v1 = this._decodeChar(s.charCodeAt(i + 1));
            out[op++] = (v0 << 2) | (v1 >>> 4);
            haveBad |= v0 & INVALID_BYTE;
            haveBad |= v1 & INVALID_BYTE;
        }
        if (i < length - 2) {
            v2 = this._decodeChar(s.charCodeAt(i + 2));
            out[op++] = (v1 << 4) | (v2 >>> 2);
            haveBad |= v2 & INVALID_BYTE;
        }
        if (i < length - 3) {
            v3 = this._decodeChar(s.charCodeAt(i + 3));
            out[op++] = (v2 << 6) | v3;
            haveBad |= v3 & INVALID_BYTE;
        }
        if (haveBad !== 0) {
            throw new Error("Base64Coder: incorrect characters for decoding");
        }
        return out;
    };
    // Standard encoding have the following encoded/decoded ranges,
    // which we need to convert between.
    //
    // ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789  +   /
    // Index:   0 - 25                    26 - 51              52 - 61   62  63
    // ASCII:  65 - 90                    97 - 122             48 - 57   43  47
    //
    // Encode 6 bits in b into a new character.
    Coder.prototype._encodeByte = function (b) {
        // Encoding uses constant time operations as follows:
        //
        // 1. Define comparison of A with B using (A - B) >>> 8:
        //          if A > B, then result is positive integer
        //          if A <= B, then result is 0
        //
        // 2. Define selection of C or 0 using bitwise AND: X & C:
        //          if X == 0, then result is 0
        //          if X != 0, then result is C
        //
        // 3. Start with the smallest comparison (b >= 0), which is always
        //    true, so set the result to the starting ASCII value (65).
        //
        // 4. Continue comparing b to higher ASCII values, and selecting
        //    zero if comparison isn't true, otherwise selecting a value
        //    to add to result, which:
        //
        //          a) undoes the previous addition
        //          b) provides new value to add
        //
        var result = b;
        // b >= 0
        result += 65;
        // b > 25
        result += ((25 - b) >>> 8) & ((0 - 65) - 26 + 97);
        // b > 51
        result += ((51 - b) >>> 8) & ((26 - 97) - 52 + 48);
        // b > 61
        result += ((61 - b) >>> 8) & ((52 - 48) - 62 + 43);
        // b > 62
        result += ((62 - b) >>> 8) & ((62 - 43) - 63 + 47);
        return String.fromCharCode(result);
    };
    // Decode a character code into a byte.
    // Must return 256 if character is out of alphabet range.
    Coder.prototype._decodeChar = function (c) {
        // Decoding works similar to encoding: using the same comparison
        // function, but now it works on ranges: result is always incremented
        // by value, but this value becomes zero if the range is not
        // satisfied.
        //
        // Decoding starts with invalid value, 256, which is then
        // subtracted when the range is satisfied. If none of the ranges
        // apply, the function returns 256, which is then checked by
        // the caller to throw error.
        var result = INVALID_BYTE; // start with invalid character
        // c == 43 (c > 42 and c < 44)
        result += (((42 - c) & (c - 44)) >>> 8) & (-INVALID_BYTE + c - 43 + 62);
        // c == 47 (c > 46 and c < 48)
        result += (((46 - c) & (c - 48)) >>> 8) & (-INVALID_BYTE + c - 47 + 63);
        // c > 47 and c < 58
        result += (((47 - c) & (c - 58)) >>> 8) & (-INVALID_BYTE + c - 48 + 52);
        // c > 64 and c < 91
        result += (((64 - c) & (c - 91)) >>> 8) & (-INVALID_BYTE + c - 65 + 0);
        // c > 96 and c < 123
        result += (((96 - c) & (c - 123)) >>> 8) & (-INVALID_BYTE + c - 97 + 26);
        return result;
    };
    Coder.prototype._getPaddingLength = function (s) {
        var paddingLength = 0;
        if (this._paddingCharacter) {
            for (var i = s.length - 1; i >= 0; i--) {
                if (s[i] !== this._paddingCharacter) {
                    break;
                }
                paddingLength++;
            }
            if (s.length < 4 || paddingLength > 2) {
                throw new Error("Base64Coder: incorrect padding");
            }
        }
        return paddingLength;
    };
    return Coder;
}());
exports.Coder = Coder;
var stdCoder = new Coder();
function encode(data) {
    return stdCoder.encode(data);
}
exports.encode = encode;
function decode(s) {
    return stdCoder.decode(s);
}
exports.decode = decode;
/**
 * Implements URL-safe Base64 encoding.
 * (Same as Base64, but '+' is replaced with '-', and '/' with '_').
 *
 * Operates in constant time.
 */
var URLSafeCoder = /** @class */ (function (_super) {
    __extends(URLSafeCoder, _super);
    function URLSafeCoder() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    // URL-safe encoding have the following encoded/decoded ranges:
    //
    // ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789  -   _
    // Index:   0 - 25                    26 - 51              52 - 61   62  63
    // ASCII:  65 - 90                    97 - 122             48 - 57   45  95
    //
    URLSafeCoder.prototype._encodeByte = function (b) {
        var result = b;
        // b >= 0
        result += 65;
        // b > 25
        result += ((25 - b) >>> 8) & ((0 - 65) - 26 + 97);
        // b > 51
        result += ((51 - b) >>> 8) & ((26 - 97) - 52 + 48);
        // b > 61
        result += ((61 - b) >>> 8) & ((52 - 48) - 62 + 45);
        // b > 62
        result += ((62 - b) >>> 8) & ((62 - 45) - 63 + 95);
        return String.fromCharCode(result);
    };
    URLSafeCoder.prototype._decodeChar = function (c) {
        var result = INVALID_BYTE;
        // c == 45 (c > 44 and c < 46)
        result += (((44 - c) & (c - 46)) >>> 8) & (-INVALID_BYTE + c - 45 + 62);
        // c == 95 (c > 94 and c < 96)
        result += (((94 - c) & (c - 96)) >>> 8) & (-INVALID_BYTE + c - 95 + 63);
        // c > 47 and c < 58
        result += (((47 - c) & (c - 58)) >>> 8) & (-INVALID_BYTE + c - 48 + 52);
        // c > 64 and c < 91
        result += (((64 - c) & (c - 91)) >>> 8) & (-INVALID_BYTE + c - 65 + 0);
        // c > 96 and c < 123
        result += (((96 - c) & (c - 123)) >>> 8) & (-INVALID_BYTE + c - 97 + 26);
        return result;
    };
    return URLSafeCoder;
}(Coder));
exports.URLSafeCoder = URLSafeCoder;
var urlSafeCoder = new URLSafeCoder();
function encodeURLSafe(data) {
    return urlSafeCoder.encode(data);
}
exports.encodeURLSafe = encodeURLSafe;
function decodeURLSafe(s) {
    return urlSafeCoder.decode(s);
}
exports.decodeURLSafe = decodeURLSafe;
exports.encodedLength = function (length) {
    return stdCoder.encodedLength(length);
};
exports.maxDecodedLength = function (length) {
    return stdCoder.maxDecodedLength(length);
};
exports.decodedLength = function (s) {
    return stdCoder.decodedLength(s);
};


/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (C) 2016 Dmitry Chestnykh
// MIT License. See LICENSE file for details.
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Package utf8 implements UTF-8 encoding and decoding.
 */
var INVALID_UTF16 = "utf8: invalid string";
var INVALID_UTF8 = "utf8: invalid source encoding";
/**
 * Encodes the given string into UTF-8 byte array.
 * Throws if the source string has invalid UTF-16 encoding.
 */
function encode(s) {
    // Calculate result length and allocate output array.
    // encodedLength() also validates string and throws errors,
    // so we don't need repeat validation here.
    var arr = new Uint8Array(encodedLength(s));
    var pos = 0;
    for (var i = 0; i < s.length; i++) {
        var c = s.charCodeAt(i);
        if (c < 0x80) {
            arr[pos++] = c;
        }
        else if (c < 0x800) {
            arr[pos++] = 0xc0 | c >> 6;
            arr[pos++] = 0x80 | c & 0x3f;
        }
        else if (c < 0xd800) {
            arr[pos++] = 0xe0 | c >> 12;
            arr[pos++] = 0x80 | (c >> 6) & 0x3f;
            arr[pos++] = 0x80 | c & 0x3f;
        }
        else {
            i++; // get one more character
            c = (c & 0x3ff) << 10;
            c |= s.charCodeAt(i) & 0x3ff;
            c += 0x10000;
            arr[pos++] = 0xf0 | c >> 18;
            arr[pos++] = 0x80 | (c >> 12) & 0x3f;
            arr[pos++] = 0x80 | (c >> 6) & 0x3f;
            arr[pos++] = 0x80 | c & 0x3f;
        }
    }
    return arr;
}
exports.encode = encode;
/**
 * Returns the number of bytes required to encode the given string into UTF-8.
 * Throws if the source string has invalid UTF-16 encoding.
 */
function encodedLength(s) {
    var result = 0;
    for (var i = 0; i < s.length; i++) {
        var c = s.charCodeAt(i);
        if (c < 0x80) {
            result += 1;
        }
        else if (c < 0x800) {
            result += 2;
        }
        else if (c < 0xd800) {
            result += 3;
        }
        else if (c <= 0xdfff) {
            if (i >= s.length - 1) {
                throw new Error(INVALID_UTF16);
            }
            i++; // "eat" next character
            result += 4;
        }
        else {
            throw new Error(INVALID_UTF16);
        }
    }
    return result;
}
exports.encodedLength = encodedLength;
/**
 * Decodes the given byte array from UTF-8 into a string.
 * Throws if encoding is invalid.
 */
function decode(arr) {
    var chars = [];
    for (var i = 0; i < arr.length; i++) {
        var b = arr[i];
        if (b & 0x80) {
            var min = void 0;
            if (b < 0xe0) {
                // Need 1 more byte.
                if (i >= arr.length) {
                    throw new Error(INVALID_UTF8);
                }
                var n1 = arr[++i];
                if ((n1 & 0xc0) !== 0x80) {
                    throw new Error(INVALID_UTF8);
                }
                b = (b & 0x1f) << 6 | (n1 & 0x3f);
                min = 0x80;
            }
            else if (b < 0xf0) {
                // Need 2 more bytes.
                if (i >= arr.length - 1) {
                    throw new Error(INVALID_UTF8);
                }
                var n1 = arr[++i];
                var n2 = arr[++i];
                if ((n1 & 0xc0) !== 0x80 || (n2 & 0xc0) !== 0x80) {
                    throw new Error(INVALID_UTF8);
                }
                b = (b & 0x0f) << 12 | (n1 & 0x3f) << 6 | (n2 & 0x3f);
                min = 0x800;
            }
            else if (b < 0xf8) {
                // Need 3 more bytes.
                if (i >= arr.length - 2) {
                    throw new Error(INVALID_UTF8);
                }
                var n1 = arr[++i];
                var n2 = arr[++i];
                var n3 = arr[++i];
                if ((n1 & 0xc0) !== 0x80 || (n2 & 0xc0) !== 0x80 || (n3 & 0xc0) !== 0x80) {
                    throw new Error(INVALID_UTF8);
                }
                b = (b & 0x0f) << 18 | (n1 & 0x3f) << 12 | (n2 & 0x3f) << 6 | (n3 & 0x3f);
                min = 0x10000;
            }
            else {
                throw new Error(INVALID_UTF8);
            }
            if (b < min || (b >= 0xd800 && b <= 0xdfff)) {
                throw new Error(INVALID_UTF8);
            }
            if (b >= 0x10000) {
                // Surrogate pair.
                if (b > 0x10ffff) {
                    throw new Error(INVALID_UTF8);
                }
                b -= 0x10000;
                chars.push(String.fromCharCode(0xd800 | (b >> 10)));
                b = 0xdc00 | (b & 0x3ff);
            }
        }
        chars.push(String.fromCharCode(b));
    }
    return chars.join("");
}
exports.decode = decode;


/***/ }),
/* 2 */
/***/ (function(module, exports, __nested_webpack_require_19901__) {

// required so we don't have to do require('pusher').default etc.
module.exports = __nested_webpack_require_19901__(3).default;


/***/ }),
/* 3 */
/***/ (function(module, __nested_webpack_exports__, __nested_webpack_require_20105__) {

"use strict";
// ESM COMPAT FLAG
__nested_webpack_require_20105__.r(__nested_webpack_exports__);

// CONCATENATED MODULE: ./src/runtimes/web/dom/script_receiver_factory.ts
var ScriptReceiverFactory = (function () {
    function ScriptReceiverFactory(prefix, name) {
        this.lastId = 0;
        this.prefix = prefix;
        this.name = name;
    }
    ScriptReceiverFactory.prototype.create = function (callback) {
        this.lastId++;
        var number = this.lastId;
        var id = this.prefix + number;
        var name = this.name + '[' + number + ']';
        var called = false;
        var callbackWrapper = function () {
            if (!called) {
                callback.apply(null, arguments);
                called = true;
            }
        };
        this[number] = callbackWrapper;
        return { number: number, id: id, name: name, callback: callbackWrapper };
    };
    ScriptReceiverFactory.prototype.remove = function (receiver) {
        delete this[receiver.number];
    };
    return ScriptReceiverFactory;
}());

var ScriptReceivers = new ScriptReceiverFactory('_pusher_script_', 'Pusher.ScriptReceivers');

// CONCATENATED MODULE: ./src/core/defaults.ts
var Defaults = {
    VERSION: "7.6.0",
    PROTOCOL: 7,
    wsPort: 80,
    wssPort: 443,
    wsPath: '',
    httpHost: 'sockjs.pusher.com',
    httpPort: 80,
    httpsPort: 443,
    httpPath: '/pusher',
    stats_host: 'stats.pusher.com',
    authEndpoint: '/pusher/auth',
    authTransport: 'ajax',
    activityTimeout: 120000,
    pongTimeout: 30000,
    unavailableTimeout: 10000,
    cluster: 'mt1',
    userAuthentication: {
        endpoint: '/pusher/user-auth',
        transport: 'ajax'
    },
    channelAuthorization: {
        endpoint: '/pusher/auth',
        transport: 'ajax'
    },
    cdn_http: "http://js.pusher.com",
    cdn_https: "https://js.pusher.com",
    dependency_suffix: ""
};
/* harmony default export */ var defaults = (Defaults);

// CONCATENATED MODULE: ./src/runtimes/web/dom/dependency_loader.ts


var dependency_loader_DependencyLoader = (function () {
    function DependencyLoader(options) {
        this.options = options;
        this.receivers = options.receivers || ScriptReceivers;
        this.loading = {};
    }
    DependencyLoader.prototype.load = function (name, options, callback) {
        var self = this;
        if (self.loading[name] && self.loading[name].length > 0) {
            self.loading[name].push(callback);
        }
        else {
            self.loading[name] = [callback];
            var request = runtime.createScriptRequest(self.getPath(name, options));
            var receiver = self.receivers.create(function (error) {
                self.receivers.remove(receiver);
                if (self.loading[name]) {
                    var callbacks = self.loading[name];
                    delete self.loading[name];
                    var successCallback = function (wasSuccessful) {
                        if (!wasSuccessful) {
                            request.cleanup();
                        }
                    };
                    for (var i = 0; i < callbacks.length; i++) {
                        callbacks[i](error, successCallback);
                    }
                }
            });
            request.send(receiver);
        }
    };
    DependencyLoader.prototype.getRoot = function (options) {
        var cdn;
        var protocol = runtime.getDocument().location.protocol;
        if ((options && options.useTLS) || protocol === 'https:') {
            cdn = this.options.cdn_https;
        }
        else {
            cdn = this.options.cdn_http;
        }
        return cdn.replace(/\/*$/, '') + '/' + this.options.version;
    };
    DependencyLoader.prototype.getPath = function (name, options) {
        return this.getRoot(options) + '/' + name + this.options.suffix + '.js';
    };
    return DependencyLoader;
}());
/* harmony default export */ var dependency_loader = (dependency_loader_DependencyLoader);

// CONCATENATED MODULE: ./src/runtimes/web/dom/dependencies.ts



var DependenciesReceivers = new ScriptReceiverFactory('_pusher_dependencies', 'Pusher.DependenciesReceivers');
var Dependencies = new dependency_loader({
    cdn_http: defaults.cdn_http,
    cdn_https: defaults.cdn_https,
    version: defaults.VERSION,
    suffix: defaults.dependency_suffix,
    receivers: DependenciesReceivers
});

// CONCATENATED MODULE: ./src/core/utils/url_store.ts
var urlStore = {
    baseUrl: 'https://pusher.com',
    urls: {
        authenticationEndpoint: {
            path: '/docs/channels/server_api/authenticating_users'
        },
        authorizationEndpoint: {
            path: '/docs/channels/server_api/authorizing-users/'
        },
        javascriptQuickStart: {
            path: '/docs/javascript_quick_start'
        },
        triggeringClientEvents: {
            path: '/docs/client_api_guide/client_events#trigger-events'
        },
        encryptedChannelSupport: {
            fullUrl: 'https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support'
        }
    }
};
var buildLogSuffix = function (key) {
    var urlPrefix = 'See:';
    var urlObj = urlStore.urls[key];
    if (!urlObj)
        return '';
    var url;
    if (urlObj.fullUrl) {
        url = urlObj.fullUrl;
    }
    else if (urlObj.path) {
        url = urlStore.baseUrl + urlObj.path;
    }
    if (!url)
        return '';
    return urlPrefix + " " + url;
};
/* harmony default export */ var url_store = ({ buildLogSuffix: buildLogSuffix });

// CONCATENATED MODULE: ./src/core/auth/options.ts
var AuthRequestType;
(function (AuthRequestType) {
    AuthRequestType["UserAuthentication"] = "user-authentication";
    AuthRequestType["ChannelAuthorization"] = "channel-authorization";
})(AuthRequestType || (AuthRequestType = {}));

// CONCATENATED MODULE: ./src/core/errors.ts
var __extends = ( false) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var BadEventName = (function (_super) {
    __extends(BadEventName, _super);
    function BadEventName(msg) {
        var _newTarget = this.constructor;
        var _this = _super.call(this, msg) || this;
        Object.setPrototypeOf(_this, _newTarget.prototype);
        return _this;
    }
    return BadEventName;
}(Error));

var BadChannelName = (function (_super) {
    __extends(BadChannelName, _super);
    function BadChannelName(msg) {
        var _newTarget = this.constructor;
        var _this = _super.call(this, msg) || this;
        Object.setPrototypeOf(_this, _newTarget.prototype);
        return _this;
    }
    return BadChannelName;
}(Error));

var RequestTimedOut = (function (_super) {
    __extends(RequestTimedOut, _super);
    function RequestTimedOut(msg) {
        var _newTarget = this.constructor;
        var _this = _super.call(this, msg) || this;
        Object.setPrototypeOf(_this, _newTarget.prototype);
        return _this;
    }
    return RequestTimedOut;
}(Error));

var TransportPriorityTooLow = (function (_super) {
    __extends(TransportPriorityTooLow, _super);
    function TransportPriorityTooLow(msg) {
        var _newTarget = this.constructor;
        var _this = _super.call(this, msg) || this;
        Object.setPrototypeOf(_this, _newTarget.prototype);
        return _this;
    }
    return TransportPriorityTooLow;
}(Error));

var TransportClosed = (function (_super) {
    __extends(TransportClosed, _super);
    function TransportClosed(msg) {
        var _newTarget = this.constructor;
        var _this = _super.call(this, msg) || this;
        Object.setPrototypeOf(_this, _newTarget.prototype);
        return _this;
    }
    return TransportClosed;
}(Error));

var UnsupportedFeature = (function (_super) {
    __extends(UnsupportedFeature, _super);
    function UnsupportedFeature(msg) {
        var _newTarget = this.constructor;
        var _this = _super.call(this, msg) || this;
        Object.setPrototypeOf(_this, _newTarget.prototype);
        return _this;
    }
    return UnsupportedFeature;
}(Error));

var UnsupportedTransport = (function (_super) {
    __extends(UnsupportedTransport, _super);
    function UnsupportedTransport(msg) {
        var _newTarget = this.constructor;
        var _this = _super.call(this, msg) || this;
        Object.setPrototypeOf(_this, _newTarget.prototype);
        return _this;
    }
    return UnsupportedTransport;
}(Error));

var UnsupportedStrategy = (function (_super) {
    __extends(UnsupportedStrategy, _super);
    function UnsupportedStrategy(msg) {
        var _newTarget = this.constructor;
        var _this = _super.call(this, msg) || this;
        Object.setPrototypeOf(_this, _newTarget.prototype);
        return _this;
    }
    return UnsupportedStrategy;
}(Error));

var HTTPAuthError = (function (_super) {
    __extends(HTTPAuthError, _super);
    function HTTPAuthError(status, msg) {
        var _newTarget = this.constructor;
        var _this = _super.call(this, msg) || this;
        _this.status = status;
        Object.setPrototypeOf(_this, _newTarget.prototype);
        return _this;
    }
    return HTTPAuthError;
}(Error));


// CONCATENATED MODULE: ./src/runtimes/isomorphic/auth/xhr_auth.ts




var ajax = function (context, query, authOptions, authRequestType, callback) {
    var xhr = runtime.createXHR();
    xhr.open('POST', authOptions.endpoint, true);
    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    for (var headerName in authOptions.headers) {
        xhr.setRequestHeader(headerName, authOptions.headers[headerName]);
    }
    if (authOptions.headersProvider != null) {
        var dynamicHeaders = authOptions.headersProvider();
        for (var headerName in dynamicHeaders) {
            xhr.setRequestHeader(headerName, dynamicHeaders[headerName]);
        }
    }
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            if (xhr.status === 200) {
                var data = void 0;
                var parsed = false;
                try {
                    data = JSON.parse(xhr.responseText);
                    parsed = true;
                }
                catch (e) {
                    callback(new HTTPAuthError(200, "JSON returned from " + authRequestType.toString() + " endpoint was invalid, yet status code was 200. Data was: " + xhr.responseText), null);
                }
                if (parsed) {
                    callback(null, data);
                }
            }
            else {
                var suffix = '';
                switch (authRequestType) {
                    case AuthRequestType.UserAuthentication:
                        suffix = url_store.buildLogSuffix('authenticationEndpoint');
                        break;
                    case AuthRequestType.ChannelAuthorization:
                        suffix = "Clients must be authorized to join private or presence channels. " + url_store.buildLogSuffix('authorizationEndpoint');
                        break;
                }
                callback(new HTTPAuthError(xhr.status, "Unable to retrieve auth string from " + authRequestType.toString() + " endpoint - " +
                    ("received status: " + xhr.status + " from " + authOptions.endpoint + ". " + suffix)), null);
            }
        }
    };
    xhr.send(query);
    return xhr;
};
/* harmony default export */ var xhr_auth = (ajax);

// CONCATENATED MODULE: ./src/core/base64.ts
function encode(s) {
    return btoa(utob(s));
}
var fromCharCode = String.fromCharCode;
var b64chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';
var b64tab = {};
for (var base64_i = 0, l = b64chars.length; base64_i < l; base64_i++) {
    b64tab[b64chars.charAt(base64_i)] = base64_i;
}
var cb_utob = function (c) {
    var cc = c.charCodeAt(0);
    return cc < 0x80
        ? c
        : cc < 0x800
            ? fromCharCode(0xc0 | (cc >>> 6)) + fromCharCode(0x80 | (cc & 0x3f))
            : fromCharCode(0xe0 | ((cc >>> 12) & 0x0f)) +
                fromCharCode(0x80 | ((cc >>> 6) & 0x3f)) +
                fromCharCode(0x80 | (cc & 0x3f));
};
var utob = function (u) {
    return u.replace(/[^\x00-\x7F]/g, cb_utob);
};
var cb_encode = function (ccc) {
    var padlen = [0, 2, 1][ccc.length % 3];
    var ord = (ccc.charCodeAt(0) << 16) |
        ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8) |
        (ccc.length > 2 ? ccc.charCodeAt(2) : 0);
    var chars = [
        b64chars.charAt(ord >>> 18),
        b64chars.charAt((ord >>> 12) & 63),
        padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),
        padlen >= 1 ? '=' : b64chars.charAt(ord & 63)
    ];
    return chars.join('');
};
var btoa = window.btoa ||
    function (b) {
        return b.replace(/[\s\S]{1,3}/g, cb_encode);
    };

// CONCATENATED MODULE: ./src/core/utils/timers/abstract_timer.ts
var Timer = (function () {
    function Timer(set, clear, delay, callback) {
        var _this = this;
        this.clear = clear;
        this.timer = set(function () {
            if (_this.timer) {
                _this.timer = callback(_this.timer);
            }
        }, delay);
    }
    Timer.prototype.isRunning = function () {
        return this.timer !== null;
    };
    Timer.prototype.ensureAborted = function () {
        if (this.timer) {
            this.clear(this.timer);
            this.timer = null;
        }
    };
    return Timer;
}());
/* harmony default export */ var abstract_timer = (Timer);

// CONCATENATED MODULE: ./src/core/utils/timers/index.ts
var timers_extends = ( false) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

function timers_clearTimeout(timer) {
    window.clearTimeout(timer);
}
function timers_clearInterval(timer) {
    window.clearInterval(timer);
}
var OneOffTimer = (function (_super) {
    timers_extends(OneOffTimer, _super);
    function OneOffTimer(delay, callback) {
        return _super.call(this, setTimeout, timers_clearTimeout, delay, function (timer) {
            callback();
            return null;
        }) || this;
    }
    return OneOffTimer;
}(abstract_timer));

var PeriodicTimer = (function (_super) {
    timers_extends(PeriodicTimer, _super);
    function PeriodicTimer(delay, callback) {
        return _super.call(this, setInterval, timers_clearInterval, delay, function (timer) {
            callback();
            return timer;
        }) || this;
    }
    return PeriodicTimer;
}(abstract_timer));


// CONCATENATED MODULE: ./src/core/util.ts

var Util = {
    now: function () {
        if (Date.now) {
            return Date.now();
        }
        else {
            return new Date().valueOf();
        }
    },
    defer: function (callback) {
        return new OneOffTimer(0, callback);
    },
    method: function (name) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var boundArguments = Array.prototype.slice.call(arguments, 1);
        return function (object) {
            return object[name].apply(object, boundArguments.concat(arguments));
        };
    }
};
/* harmony default export */ var util = (Util);

// CONCATENATED MODULE: ./src/core/utils/collections.ts


function extend(target) {
    var sources = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        sources[_i - 1] = arguments[_i];
    }
    for (var i = 0; i < sources.length; i++) {
        var extensions = sources[i];
        for (var property in extensions) {
            if (extensions[property] &&
                extensions[property].constructor &&
                extensions[property].constructor === Object) {
                target[property] = extend(target[property] || {}, extensions[property]);
            }
            else {
                target[property] = extensions[property];
            }
        }
    }
    return target;
}
function stringify() {
    var m = ['Pusher'];
    for (var i = 0; i < arguments.length; i++) {
        if (typeof arguments[i] === 'string') {
            m.push(arguments[i]);
        }
        else {
            m.push(safeJSONStringify(arguments[i]));
        }
    }
    return m.join(' : ');
}
function arrayIndexOf(array, item) {
    var nativeIndexOf = Array.prototype.indexOf;
    if (array === null) {
        return -1;
    }
    if (nativeIndexOf && array.indexOf === nativeIndexOf) {
        return array.indexOf(item);
    }
    for (var i = 0, l = array.length; i < l; i++) {
        if (array[i] === item) {
            return i;
        }
    }
    return -1;
}
function objectApply(object, f) {
    for (var key in object) {
        if (Object.prototype.hasOwnProperty.call(object, key)) {
            f(object[key], key, object);
        }
    }
}
function keys(object) {
    var keys = [];
    objectApply(object, function (_, key) {
        keys.push(key);
    });
    return keys;
}
function values(object) {
    var values = [];
    objectApply(object, function (value) {
        values.push(value);
    });
    return values;
}
function apply(array, f, context) {
    for (var i = 0; i < array.length; i++) {
        f.call(context || window, array[i], i, array);
    }
}
function map(array, f) {
    var result = [];
    for (var i = 0; i < array.length; i++) {
        result.push(f(array[i], i, array, result));
    }
    return result;
}
function mapObject(object, f) {
    var result = {};
    objectApply(object, function (value, key) {
        result[key] = f(value);
    });
    return result;
}
function filter(array, test) {
    test =
        test ||
            function (value) {
                return !!value;
            };
    var result = [];
    for (var i = 0; i < array.length; i++) {
        if (test(array[i], i, array, result)) {
            result.push(array[i]);
        }
    }
    return result;
}
function filterObject(object, test) {
    var result = {};
    objectApply(object, function (value, key) {
        if ((test && test(value, key, object, result)) || Boolean(value)) {
            result[key] = value;
        }
    });
    return result;
}
function flatten(object) {
    var result = [];
    objectApply(object, function (value, key) {
        result.push([key, value]);
    });
    return result;
}
function any(array, test) {
    for (var i = 0; i < array.length; i++) {
        if (test(array[i], i, array)) {
            return true;
        }
    }
    return false;
}
function collections_all(array, test) {
    for (var i = 0; i < array.length; i++) {
        if (!test(array[i], i, array)) {
            return false;
        }
    }
    return true;
}
function encodeParamsObject(data) {
    return mapObject(data, function (value) {
        if (typeof value === 'object') {
            value = safeJSONStringify(value);
        }
        return encodeURIComponent(encode(value.toString()));
    });
}
function buildQueryString(data) {
    var params = filterObject(data, function (value) {
        return value !== undefined;
    });
    var query = map(flatten(encodeParamsObject(params)), util.method('join', '=')).join('&');
    return query;
}
function decycleObject(object) {
    var objects = [], paths = [];
    return (function derez(value, path) {
        var i, name, nu;
        switch (typeof value) {
            case 'object':
                if (!value) {
                    return null;
                }
                for (i = 0; i < objects.length; i += 1) {
                    if (objects[i] === value) {
                        return { $ref: paths[i] };
                    }
                }
                objects.push(value);
                paths.push(path);
                if (Object.prototype.toString.apply(value) === '[object Array]') {
                    nu = [];
                    for (i = 0; i < value.length; i += 1) {
                        nu[i] = derez(value[i], path + '[' + i + ']');
                    }
                }
                else {
                    nu = {};
                    for (name in value) {
                        if (Object.prototype.hasOwnProperty.call(value, name)) {
                            nu[name] = derez(value[name], path + '[' + JSON.stringify(name) + ']');
                        }
                    }
                }
                return nu;
            case 'number':
            case 'string':
            case 'boolean':
                return value;
        }
    })(object, '$');
}
function safeJSONStringify(source) {
    try {
        return JSON.stringify(source);
    }
    catch (e) {
        return JSON.stringify(decycleObject(source));
    }
}

// CONCATENATED MODULE: ./src/core/logger.ts


var logger_Logger = (function () {
    function Logger() {
        this.globalLog = function (message) {
            if (window.console && window.console.log) {
                window.console.log(message);
            }
        };
    }
    Logger.prototype.debug = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        this.log(this.globalLog, args);
    };
    Logger.prototype.warn = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        this.log(this.globalLogWarn, args);
    };
    Logger.prototype.error = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        this.log(this.globalLogError, args);
    };
    Logger.prototype.globalLogWarn = function (message) {
        if (window.console && window.console.warn) {
            window.console.warn(message);
        }
        else {
            this.globalLog(message);
        }
    };
    Logger.prototype.globalLogError = function (message) {
        if (window.console && window.console.error) {
            window.console.error(message);
        }
        else {
            this.globalLogWarn(message);
        }
    };
    Logger.prototype.log = function (defaultLoggingFunction) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var message = stringify.apply(this, arguments);
        if (core_pusher.log) {
            core_pusher.log(message);
        }
        else if (core_pusher.logToConsole) {
            var log = defaultLoggingFunction.bind(this);
            log(message);
        }
    };
    return Logger;
}());
/* harmony default export */ var logger = (new logger_Logger());

// CONCATENATED MODULE: ./src/runtimes/web/auth/jsonp_auth.ts

var jsonp = function (context, query, authOptions, authRequestType, callback) {
    if (authOptions.headers !== undefined ||
        authOptions.headersProvider != null) {
        logger.warn("To send headers with the " + authRequestType.toString() + " request, you must use AJAX, rather than JSONP.");
    }
    var callbackName = context.nextAuthCallbackID.toString();
    context.nextAuthCallbackID++;
    var document = context.getDocument();
    var script = document.createElement('script');
    context.auth_callbacks[callbackName] = function (data) {
        callback(null, data);
    };
    var callback_name = "Pusher.auth_callbacks['" + callbackName + "']";
    script.src =
        authOptions.endpoint +
            '?callback=' +
            encodeURIComponent(callback_name) +
            '&' +
            query;
    var head = document.getElementsByTagName('head')[0] || document.documentElement;
    head.insertBefore(script, head.firstChild);
};
/* harmony default export */ var jsonp_auth = (jsonp);

// CONCATENATED MODULE: ./src/runtimes/web/dom/script_request.ts
var ScriptRequest = (function () {
    function ScriptRequest(src) {
        this.src = src;
    }
    ScriptRequest.prototype.send = function (receiver) {
        var self = this;
        var errorString = 'Error loading ' + self.src;
        self.script = document.createElement('script');
        self.script.id = receiver.id;
        self.script.src = self.src;
        self.script.type = 'text/javascript';
        self.script.charset = 'UTF-8';
        if (self.script.addEventListener) {
            self.script.onerror = function () {
                receiver.callback(errorString);
            };
            self.script.onload = function () {
                receiver.callback(null);
            };
        }
        else {
            self.script.onreadystatechange = function () {
                if (self.script.readyState === 'loaded' ||
                    self.script.readyState === 'complete') {
                    receiver.callback(null);
                }
            };
        }
        if (self.script.async === undefined &&
            document.attachEvent &&
            /opera/i.test(navigator.userAgent)) {
            self.errorScript = document.createElement('script');
            self.errorScript.id = receiver.id + '_error';
            self.errorScript.text = receiver.name + "('" + errorString + "');";
            self.script.async = self.errorScript.async = false;
        }
        else {
            self.script.async = true;
        }
        var head = document.getElementsByTagName('head')[0];
        head.insertBefore(self.script, head.firstChild);
        if (self.errorScript) {
            head.insertBefore(self.errorScript, self.script.nextSibling);
        }
    };
    ScriptRequest.prototype.cleanup = function () {
        if (this.script) {
            this.script.onload = this.script.onerror = null;
            this.script.onreadystatechange = null;
        }
        if (this.script && this.script.parentNode) {
            this.script.parentNode.removeChild(this.script);
        }
        if (this.errorScript && this.errorScript.parentNode) {
            this.errorScript.parentNode.removeChild(this.errorScript);
        }
        this.script = null;
        this.errorScript = null;
    };
    return ScriptRequest;
}());
/* harmony default export */ var script_request = (ScriptRequest);

// CONCATENATED MODULE: ./src/runtimes/web/dom/jsonp_request.ts


var jsonp_request_JSONPRequest = (function () {
    function JSONPRequest(url, data) {
        this.url = url;
        this.data = data;
    }
    JSONPRequest.prototype.send = function (receiver) {
        if (this.request) {
            return;
        }
        var query = buildQueryString(this.data);
        var url = this.url + '/' + receiver.number + '?' + query;
        this.request = runtime.createScriptRequest(url);
        this.request.send(receiver);
    };
    JSONPRequest.prototype.cleanup = function () {
        if (this.request) {
            this.request.cleanup();
        }
    };
    return JSONPRequest;
}());
/* harmony default export */ var jsonp_request = (jsonp_request_JSONPRequest);

// CONCATENATED MODULE: ./src/runtimes/web/timeline/jsonp_timeline.ts


var getAgent = function (sender, useTLS) {
    return function (data, callback) {
        var scheme = 'http' + (useTLS ? 's' : '') + '://';
        var url = scheme + (sender.host || sender.options.host) + sender.options.path;
        var request = runtime.createJSONPRequest(url, data);
        var receiver = runtime.ScriptReceivers.create(function (error, result) {
            ScriptReceivers.remove(receiver);
            request.cleanup();
            if (result && result.host) {
                sender.host = result.host;
            }
            if (callback) {
                callback(error, result);
            }
        });
        request.send(receiver);
    };
};
var jsonp_timeline_jsonp = {
    name: 'jsonp',
    getAgent: getAgent
};
/* harmony default export */ var jsonp_timeline = (jsonp_timeline_jsonp);

// CONCATENATED MODULE: ./src/core/transports/url_schemes.ts

function getGenericURL(baseScheme, params, path) {
    var scheme = baseScheme + (params.useTLS ? 's' : '');
    var host = params.useTLS ? params.hostTLS : params.hostNonTLS;
    return scheme + '://' + host + path;
}
function getGenericPath(key, queryString) {
    var path = '/app/' + key;
    var query = '?protocol=' +
        defaults.PROTOCOL +
        '&client=js' +
        '&version=' +
        defaults.VERSION +
        (queryString ? '&' + queryString : '');
    return path + query;
}
var ws = {
    getInitial: function (key, params) {
        var path = (params.httpPath || '') + getGenericPath(key, 'flash=false');
        return getGenericURL('ws', params, path);
    }
};
var http = {
    getInitial: function (key, params) {
        var path = (params.httpPath || '/pusher') + getGenericPath(key);
        return getGenericURL('http', params, path);
    }
};
var sockjs = {
    getInitial: function (key, params) {
        return getGenericURL('http', params, params.httpPath || '/pusher');
    },
    getPath: function (key, params) {
        return getGenericPath(key);
    }
};

// CONCATENATED MODULE: ./src/core/events/callback_registry.ts

var callback_registry_CallbackRegistry = (function () {
    function CallbackRegistry() {
        this._callbacks = {};
    }
    CallbackRegistry.prototype.get = function (name) {
        return this._callbacks[prefix(name)];
    };
    CallbackRegistry.prototype.add = function (name, callback, context) {
        var prefixedEventName = prefix(name);
        this._callbacks[prefixedEventName] =
            this._callbacks[prefixedEventName] || [];
        this._callbacks[prefixedEventName].push({
            fn: callback,
            context: context
        });
    };
    CallbackRegistry.prototype.remove = function (name, callback, context) {
        if (!name && !callback && !context) {
            this._callbacks = {};
            return;
        }
        var names = name ? [prefix(name)] : keys(this._callbacks);
        if (callback || context) {
            this.removeCallback(names, callback, context);
        }
        else {
            this.removeAllCallbacks(names);
        }
    };
    CallbackRegistry.prototype.removeCallback = function (names, callback, context) {
        apply(names, function (name) {
            this._callbacks[name] = filter(this._callbacks[name] || [], function (binding) {
                return ((callback && callback !== binding.fn) ||
                    (context && context !== binding.context));
            });
            if (this._callbacks[name].length === 0) {
                delete this._callbacks[name];
            }
        }, this);
    };
    CallbackRegistry.prototype.removeAllCallbacks = function (names) {
        apply(names, function (name) {
            delete this._callbacks[name];
        }, this);
    };
    return CallbackRegistry;
}());
/* harmony default export */ var callback_registry = (callback_registry_CallbackRegistry);
function prefix(name) {
    return '_' + name;
}

// CONCATENATED MODULE: ./src/core/events/dispatcher.ts


var dispatcher_Dispatcher = (function () {
    function Dispatcher(failThrough) {
        this.callbacks = new callback_registry();
        this.global_callbacks = [];
        this.failThrough = failThrough;
    }
    Dispatcher.prototype.bind = function (eventName, callback, context) {
        this.callbacks.add(eventName, callback, context);
        return this;
    };
    Dispatcher.prototype.bind_global = function (callback) {
        this.global_callbacks.push(callback);
        return this;
    };
    Dispatcher.prototype.unbind = function (eventName, callback, context) {
        this.callbacks.remove(eventName, callback, context);
        return this;
    };
    Dispatcher.prototype.unbind_global = function (callback) {
        if (!callback) {
            this.global_callbacks = [];
            return this;
        }
        this.global_callbacks = filter(this.global_callbacks || [], function (c) { return c !== callback; });
        return this;
    };
    Dispatcher.prototype.unbind_all = function () {
        this.unbind();
        this.unbind_global();
        return this;
    };
    Dispatcher.prototype.emit = function (eventName, data, metadata) {
        for (var i = 0; i < this.global_callbacks.length; i++) {
            this.global_callbacks[i](eventName, data);
        }
        var callbacks = this.callbacks.get(eventName);
        var args = [];
        if (metadata) {
            args.push(data, metadata);
        }
        else if (data) {
            args.push(data);
        }
        if (callbacks && callbacks.length > 0) {
            for (var i = 0; i < callbacks.length; i++) {
                callbacks[i].fn.apply(callbacks[i].context || window, args);
            }
        }
        else if (this.failThrough) {
            this.failThrough(eventName, data);
        }
        return this;
    };
    return Dispatcher;
}());
/* harmony default export */ var dispatcher = (dispatcher_Dispatcher);

// CONCATENATED MODULE: ./src/core/transports/transport_connection.ts
var transport_connection_extends = ( false) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var transport_connection_TransportConnection = (function (_super) {
    transport_connection_extends(TransportConnection, _super);
    function TransportConnection(hooks, name, priority, key, options) {
        var _this = _super.call(this) || this;
        _this.initialize = runtime.transportConnectionInitializer;
        _this.hooks = hooks;
        _this.name = name;
        _this.priority = priority;
        _this.key = key;
        _this.options = options;
        _this.state = 'new';
        _this.timeline = options.timeline;
        _this.activityTimeout = options.activityTimeout;
        _this.id = _this.timeline.generateUniqueID();
        return _this;
    }
    TransportConnection.prototype.handlesActivityChecks = function () {
        return Boolean(this.hooks.handlesActivityChecks);
    };
    TransportConnection.prototype.supportsPing = function () {
        return Boolean(this.hooks.supportsPing);
    };
    TransportConnection.prototype.connect = function () {
        var _this = this;
        if (this.socket || this.state !== 'initialized') {
            return false;
        }
        var url = this.hooks.urls.getInitial(this.key, this.options);
        try {
            this.socket = this.hooks.getSocket(url, this.options);
        }
        catch (e) {
            util.defer(function () {
                _this.onError(e);
                _this.changeState('closed');
            });
            return false;
        }
        this.bindListeners();
        logger.debug('Connecting', { transport: this.name, url: url });
        this.changeState('connecting');
        return true;
    };
    TransportConnection.prototype.close = function () {
        if (this.socket) {
            this.socket.close();
            return true;
        }
        else {
            return false;
        }
    };
    TransportConnection.prototype.send = function (data) {
        var _this = this;
        if (this.state === 'open') {
            util.defer(function () {
                if (_this.socket) {
                    _this.socket.send(data);
                }
            });
            return true;
        }
        else {
            return false;
        }
    };
    TransportConnection.prototype.ping = function () {
        if (this.state === 'open' && this.supportsPing()) {
            this.socket.ping();
        }
    };
    TransportConnection.prototype.onOpen = function () {
        if (this.hooks.beforeOpen) {
            this.hooks.beforeOpen(this.socket, this.hooks.urls.getPath(this.key, this.options));
        }
        this.changeState('open');
        this.socket.onopen = undefined;
    };
    TransportConnection.prototype.onError = function (error) {
        this.emit('error', { type: 'WebSocketError', error: error });
        this.timeline.error(this.buildTimelineMessage({ error: error.toString() }));
    };
    TransportConnection.prototype.onClose = function (closeEvent) {
        if (closeEvent) {
            this.changeState('closed', {
                code: closeEvent.code,
                reason: closeEvent.reason,
                wasClean: closeEvent.wasClean
            });
        }
        else {
            this.changeState('closed');
        }
        this.unbindListeners();
        this.socket = undefined;
    };
    TransportConnection.prototype.onMessage = function (message) {
        this.emit('message', message);
    };
    TransportConnection.prototype.onActivity = function () {
        this.emit('activity');
    };
    TransportConnection.prototype.bindListeners = function () {
        var _this = this;
        this.socket.onopen = function () {
            _this.onOpen();
        };
        this.socket.onerror = function (error) {
            _this.onError(error);
        };
        this.socket.onclose = function (closeEvent) {
            _this.onClose(closeEvent);
        };
        this.socket.onmessage = function (message) {
            _this.onMessage(message);
        };
        if (this.supportsPing()) {
            this.socket.onactivity = function () {
                _this.onActivity();
            };
        }
    };
    TransportConnection.prototype.unbindListeners = function () {
        if (this.socket) {
            this.socket.onopen = undefined;
            this.socket.onerror = undefined;
            this.socket.onclose = undefined;
            this.socket.onmessage = undefined;
            if (this.supportsPing()) {
                this.socket.onactivity = undefined;
            }
        }
    };
    TransportConnection.prototype.changeState = function (state, params) {
        this.state = state;
        this.timeline.info(this.buildTimelineMessage({
            state: state,
            params: params
        }));
        this.emit(state, params);
    };
    TransportConnection.prototype.buildTimelineMessage = function (message) {
        return extend({ cid: this.id }, message);
    };
    return TransportConnection;
}(dispatcher));
/* harmony default export */ var transport_connection = (transport_connection_TransportConnection);

// CONCATENATED MODULE: ./src/core/transports/transport.ts

var transport_Transport = (function () {
    function Transport(hooks) {
        this.hooks = hooks;
    }
    Transport.prototype.isSupported = function (environment) {
        return this.hooks.isSupported(environment);
    };
    Transport.prototype.createConnection = function (name, priority, key, options) {
        return new transport_connection(this.hooks, name, priority, key, options);
    };
    return Transport;
}());
/* harmony default export */ var transports_transport = (transport_Transport);

// CONCATENATED MODULE: ./src/runtimes/isomorphic/transports/transports.ts




var WSTransport = new transports_transport({
    urls: ws,
    handlesActivityChecks: false,
    supportsPing: false,
    isInitialized: function () {
        return Boolean(runtime.getWebSocketAPI());
    },
    isSupported: function () {
        return Boolean(runtime.getWebSocketAPI());
    },
    getSocket: function (url) {
        return runtime.createWebSocket(url);
    }
});
var httpConfiguration = {
    urls: http,
    handlesActivityChecks: false,
    supportsPing: true,
    isInitialized: function () {
        return true;
    }
};
var streamingConfiguration = extend({
    getSocket: function (url) {
        return runtime.HTTPFactory.createStreamingSocket(url);
    }
}, httpConfiguration);
var pollingConfiguration = extend({
    getSocket: function (url) {
        return runtime.HTTPFactory.createPollingSocket(url);
    }
}, httpConfiguration);
var xhrConfiguration = {
    isSupported: function () {
        return runtime.isXHRSupported();
    }
};
var XHRStreamingTransport = new transports_transport((extend({}, streamingConfiguration, xhrConfiguration)));
var XHRPollingTransport = new transports_transport(extend({}, pollingConfiguration, xhrConfiguration));
var Transports = {
    ws: WSTransport,
    xhr_streaming: XHRStreamingTransport,
    xhr_polling: XHRPollingTransport
};
/* harmony default export */ var transports = (Transports);

// CONCATENATED MODULE: ./src/runtimes/web/transports/transports.ts






var SockJSTransport = new transports_transport({
    file: 'sockjs',
    urls: sockjs,
    handlesActivityChecks: true,
    supportsPing: false,
    isSupported: function () {
        return true;
    },
    isInitialized: function () {
        return window.SockJS !== undefined;
    },
    getSocket: function (url, options) {
        return new window.SockJS(url, null, {
            js_path: Dependencies.getPath('sockjs', {
                useTLS: options.useTLS
            }),
            ignore_null_origin: options.ignoreNullOrigin
        });
    },
    beforeOpen: function (socket, path) {
        socket.send(JSON.stringify({
            path: path
        }));
    }
});
var xdrConfiguration = {
    isSupported: function (environment) {
        var yes = runtime.isXDRSupported(environment.useTLS);
        return yes;
    }
};
var XDRStreamingTransport = new transports_transport((extend({}, streamingConfiguration, xdrConfiguration)));
var XDRPollingTransport = new transports_transport(extend({}, pollingConfiguration, xdrConfiguration));
transports.xdr_streaming = XDRStreamingTransport;
transports.xdr_polling = XDRPollingTransport;
transports.sockjs = SockJSTransport;
/* harmony default export */ var transports_transports = (transports);

// CONCATENATED MODULE: ./src/runtimes/web/net_info.ts
var net_info_extends = ( false) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var NetInfo = (function (_super) {
    net_info_extends(NetInfo, _super);
    function NetInfo() {
        var _this = _super.call(this) || this;
        var self = _this;
        if (window.addEventListener !== undefined) {
            window.addEventListener('online', function () {
                self.emit('online');
            }, false);
            window.addEventListener('offline', function () {
                self.emit('offline');
            }, false);
        }
        return _this;
    }
    NetInfo.prototype.isOnline = function () {
        if (window.navigator.onLine === undefined) {
            return true;
        }
        else {
            return window.navigator.onLine;
        }
    };
    return NetInfo;
}(dispatcher));

var net_info_Network = new NetInfo();

// CONCATENATED MODULE: ./src/core/transports/assistant_to_the_transport_manager.ts


var assistant_to_the_transport_manager_AssistantToTheTransportManager = (function () {
    function AssistantToTheTransportManager(manager, transport, options) {
        this.manager = manager;
        this.transport = transport;
        this.minPingDelay = options.minPingDelay;
        this.maxPingDelay = options.maxPingDelay;
        this.pingDelay = undefined;
    }
    AssistantToTheTransportManager.prototype.createConnection = function (name, priority, key, options) {
        var _this = this;
        options = extend({}, options, {
            activityTimeout: this.pingDelay
        });
        var connection = this.transport.createConnection(name, priority, key, options);
        var openTimestamp = null;
        var onOpen = function () {
            connection.unbind('open', onOpen);
            connection.bind('closed', onClosed);
            openTimestamp = util.now();
        };
        var onClosed = function (closeEvent) {
            connection.unbind('closed', onClosed);
            if (closeEvent.code === 1002 || closeEvent.code === 1003) {
                _this.manager.reportDeath();
            }
            else if (!closeEvent.wasClean && openTimestamp) {
                var lifespan = util.now() - openTimestamp;
                if (lifespan < 2 * _this.maxPingDelay) {
                    _this.manager.reportDeath();
                    _this.pingDelay = Math.max(lifespan / 2, _this.minPingDelay);
                }
            }
        };
        connection.bind('open', onOpen);
        return connection;
    };
    AssistantToTheTransportManager.prototype.isSupported = function (environment) {
        return this.manager.isAlive() && this.transport.isSupported(environment);
    };
    return AssistantToTheTransportManager;
}());
/* harmony default export */ var assistant_to_the_transport_manager = (assistant_to_the_transport_manager_AssistantToTheTransportManager);

// CONCATENATED MODULE: ./src/core/connection/protocol/protocol.ts
var Protocol = {
    decodeMessage: function (messageEvent) {
        try {
            var messageData = JSON.parse(messageEvent.data);
            var pusherEventData = messageData.data;
            if (typeof pusherEventData === 'string') {
                try {
                    pusherEventData = JSON.parse(messageData.data);
                }
                catch (e) { }
            }
            var pusherEvent = {
                event: messageData.event,
                channel: messageData.channel,
                data: pusherEventData
            };
            if (messageData.user_id) {
                pusherEvent.user_id = messageData.user_id;
            }
            return pusherEvent;
        }
        catch (e) {
            throw { type: 'MessageParseError', error: e, data: messageEvent.data };
        }
    },
    encodeMessage: function (event) {
        return JSON.stringify(event);
    },
    processHandshake: function (messageEvent) {
        var message = Protocol.decodeMessage(messageEvent);
        if (message.event === 'pusher:connection_established') {
            if (!message.data.activity_timeout) {
                throw 'No activity timeout specified in handshake';
            }
            return {
                action: 'connected',
                id: message.data.socket_id,
                activityTimeout: message.data.activity_timeout * 1000
            };
        }
        else if (message.event === 'pusher:error') {
            return {
                action: this.getCloseAction(message.data),
                error: this.getCloseError(message.data)
            };
        }
        else {
            throw 'Invalid handshake';
        }
    },
    getCloseAction: function (closeEvent) {
        if (closeEvent.code < 4000) {
            if (closeEvent.code >= 1002 && closeEvent.code <= 1004) {
                return 'backoff';
            }
            else {
                return null;
            }
        }
        else if (closeEvent.code === 4000) {
            return 'tls_only';
        }
        else if (closeEvent.code < 4100) {
            return 'refused';
        }
        else if (closeEvent.code < 4200) {
            return 'backoff';
        }
        else if (closeEvent.code < 4300) {
            return 'retry';
        }
        else {
            return 'refused';
        }
    },
    getCloseError: function (closeEvent) {
        if (closeEvent.code !== 1000 && closeEvent.code !== 1001) {
            return {
                type: 'PusherError',
                data: {
                    code: closeEvent.code,
                    message: closeEvent.reason || closeEvent.message
                }
            };
        }
        else {
            return null;
        }
    }
};
/* harmony default export */ var protocol_protocol = (Protocol);

// CONCATENATED MODULE: ./src/core/connection/connection.ts
var connection_extends = ( false) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var connection_Connection = (function (_super) {
    connection_extends(Connection, _super);
    function Connection(id, transport) {
        var _this = _super.call(this) || this;
        _this.id = id;
        _this.transport = transport;
        _this.activityTimeout = transport.activityTimeout;
        _this.bindListeners();
        return _this;
    }
    Connection.prototype.handlesActivityChecks = function () {
        return this.transport.handlesActivityChecks();
    };
    Connection.prototype.send = function (data) {
        return this.transport.send(data);
    };
    Connection.prototype.send_event = function (name, data, channel) {
        var event = { event: name, data: data };
        if (channel) {
            event.channel = channel;
        }
        logger.debug('Event sent', event);
        return this.send(protocol_protocol.encodeMessage(event));
    };
    Connection.prototype.ping = function () {
        if (this.transport.supportsPing()) {
            this.transport.ping();
        }
        else {
            this.send_event('pusher:ping', {});
        }
    };
    Connection.prototype.close = function () {
        this.transport.close();
    };
    Connection.prototype.bindListeners = function () {
        var _this = this;
        var listeners = {
            message: function (messageEvent) {
                var pusherEvent;
                try {
                    pusherEvent = protocol_protocol.decodeMessage(messageEvent);
                }
                catch (e) {
                    _this.emit('error', {
                        type: 'MessageParseError',
                        error: e,
                        data: messageEvent.data
                    });
                }
                if (pusherEvent !== undefined) {
                    logger.debug('Event recd', pusherEvent);
                    switch (pusherEvent.event) {
                        case 'pusher:error':
                            _this.emit('error', {
                                type: 'PusherError',
                                data: pusherEvent.data
                            });
                            break;
                        case 'pusher:ping':
                            _this.emit('ping');
                            break;
                        case 'pusher:pong':
                            _this.emit('pong');
                            break;
                    }
                    _this.emit('message', pusherEvent);
                }
            },
            activity: function () {
                _this.emit('activity');
            },
            error: function (error) {
                _this.emit('error', error);
            },
            closed: function (closeEvent) {
                unbindListeners();
                if (closeEvent && closeEvent.code) {
                    _this.handleCloseEvent(closeEvent);
                }
                _this.transport = null;
                _this.emit('closed');
            }
        };
        var unbindListeners = function () {
            objectApply(listeners, function (listener, event) {
                _this.transport.unbind(event, listener);
            });
        };
        objectApply(listeners, function (listener, event) {
            _this.transport.bind(event, listener);
        });
    };
    Connection.prototype.handleCloseEvent = function (closeEvent) {
        var action = protocol_protocol.getCloseAction(closeEvent);
        var error = protocol_protocol.getCloseError(closeEvent);
        if (error) {
            this.emit('error', error);
        }
        if (action) {
            this.emit(action, { action: action, error: error });
        }
    };
    return Connection;
}(dispatcher));
/* harmony default export */ var connection_connection = (connection_Connection);

// CONCATENATED MODULE: ./src/core/connection/handshake/index.ts



var handshake_Handshake = (function () {
    function Handshake(transport, callback) {
        this.transport = transport;
        this.callback = callback;
        this.bindListeners();
    }
    Handshake.prototype.close = function () {
        this.unbindListeners();
        this.transport.close();
    };
    Handshake.prototype.bindListeners = function () {
        var _this = this;
        this.onMessage = function (m) {
            _this.unbindListeners();
            var result;
            try {
                result = protocol_protocol.processHandshake(m);
            }
            catch (e) {
                _this.finish('error', { error: e });
                _this.transport.close();
                return;
            }
            if (result.action === 'connected') {
                _this.finish('connected', {
                    connection: new connection_connection(result.id, _this.transport),
                    activityTimeout: result.activityTimeout
                });
            }
            else {
                _this.finish(result.action, { error: result.error });
                _this.transport.close();
            }
        };
        this.onClosed = function (closeEvent) {
            _this.unbindListeners();
            var action = protocol_protocol.getCloseAction(closeEvent) || 'backoff';
            var error = protocol_protocol.getCloseError(closeEvent);
            _this.finish(action, { error: error });
        };
        this.transport.bind('message', this.onMessage);
        this.transport.bind('closed', this.onClosed);
    };
    Handshake.prototype.unbindListeners = function () {
        this.transport.unbind('message', this.onMessage);
        this.transport.unbind('closed', this.onClosed);
    };
    Handshake.prototype.finish = function (action, params) {
        this.callback(extend({ transport: this.transport, action: action }, params));
    };
    return Handshake;
}());
/* harmony default export */ var connection_handshake = (handshake_Handshake);

// CONCATENATED MODULE: ./src/core/timeline/timeline_sender.ts

var timeline_sender_TimelineSender = (function () {
    function TimelineSender(timeline, options) {
        this.timeline = timeline;
        this.options = options || {};
    }
    TimelineSender.prototype.send = function (useTLS, callback) {
        if (this.timeline.isEmpty()) {
            return;
        }
        this.timeline.send(runtime.TimelineTransport.getAgent(this, useTLS), callback);
    };
    return TimelineSender;
}());
/* harmony default export */ var timeline_sender = (timeline_sender_TimelineSender);

// CONCATENATED MODULE: ./src/core/channels/channel.ts
var channel_extends = ( false) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var channel_Channel = (function (_super) {
    channel_extends(Channel, _super);
    function Channel(name, pusher) {
        var _this = _super.call(this, function (event, data) {
            logger.debug('No callbacks on ' + name + ' for ' + event);
        }) || this;
        _this.name = name;
        _this.pusher = pusher;
        _this.subscribed = false;
        _this.subscriptionPending = false;
        _this.subscriptionCancelled = false;
        return _this;
    }
    Channel.prototype.authorize = function (socketId, callback) {
        return callback(null, { auth: '' });
    };
    Channel.prototype.trigger = function (event, data) {
        if (event.indexOf('client-') !== 0) {
            throw new BadEventName("Event '" + event + "' does not start with 'client-'");
        }
        if (!this.subscribed) {
            var suffix = url_store.buildLogSuffix('triggeringClientEvents');
            logger.warn("Client event triggered before channel 'subscription_succeeded' event . " + suffix);
        }
        return this.pusher.send_event(event, data, this.name);
    };
    Channel.prototype.disconnect = function () {
        this.subscribed = false;
        this.subscriptionPending = false;
    };
    Channel.prototype.handleEvent = function (event) {
        var eventName = event.event;
        var data = event.data;
        if (eventName === 'pusher_internal:subscription_succeeded') {
            this.handleSubscriptionSucceededEvent(event);
        }
        else if (eventName === 'pusher_internal:subscription_count') {
            this.handleSubscriptionCountEvent(event);
        }
        else if (eventName.indexOf('pusher_internal:') !== 0) {
            var metadata = {};
            this.emit(eventName, data, metadata);
        }
    };
    Channel.prototype.handleSubscriptionSucceededEvent = function (event) {
        this.subscriptionPending = false;
        this.subscribed = true;
        if (this.subscriptionCancelled) {
            this.pusher.unsubscribe(this.name);
        }
        else {
            this.emit('pusher:subscription_succeeded', event.data);
        }
    };
    Channel.prototype.handleSubscriptionCountEvent = function (event) {
        if (event.data.subscription_count) {
            this.subscriptionCount = event.data.subscription_count;
        }
        this.emit('pusher:subscription_count', event.data);
    };
    Channel.prototype.subscribe = function () {
        var _this = this;
        if (this.subscribed) {
            return;
        }
        this.subscriptionPending = true;
        this.subscriptionCancelled = false;
        this.authorize(this.pusher.connection.socket_id, function (error, data) {
            if (error) {
                _this.subscriptionPending = false;
                logger.error(error.toString());
                _this.emit('pusher:subscription_error', Object.assign({}, {
                    type: 'AuthError',
                    error: error.message
                }, error instanceof HTTPAuthError ? { status: error.status } : {}));
            }
            else {
                _this.pusher.send_event('pusher:subscribe', {
                    auth: data.auth,
                    channel_data: data.channel_data,
                    channel: _this.name
                });
            }
        });
    };
    Channel.prototype.unsubscribe = function () {
        this.subscribed = false;
        this.pusher.send_event('pusher:unsubscribe', {
            channel: this.name
        });
    };
    Channel.prototype.cancelSubscription = function () {
        this.subscriptionCancelled = true;
    };
    Channel.prototype.reinstateSubscription = function () {
        this.subscriptionCancelled = false;
    };
    return Channel;
}(dispatcher));
/* harmony default export */ var channels_channel = (channel_Channel);

// CONCATENATED MODULE: ./src/core/channels/private_channel.ts
var private_channel_extends = ( false) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var PrivateChannel = (function (_super) {
    private_channel_extends(PrivateChannel, _super);
    function PrivateChannel() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    PrivateChannel.prototype.authorize = function (socketId, callback) {
        return this.pusher.config.channelAuthorizer({
            channelName: this.name,
            socketId: socketId
        }, callback);
    };
    return PrivateChannel;
}(channels_channel));
/* harmony default export */ var private_channel = (PrivateChannel);

// CONCATENATED MODULE: ./src/core/channels/members.ts

var members_Members = (function () {
    function Members() {
        this.reset();
    }
    Members.prototype.get = function (id) {
        if (Object.prototype.hasOwnProperty.call(this.members, id)) {
            return {
                id: id,
                info: this.members[id]
            };
        }
        else {
            return null;
        }
    };
    Members.prototype.each = function (callback) {
        var _this = this;
        objectApply(this.members, function (member, id) {
            callback(_this.get(id));
        });
    };
    Members.prototype.setMyID = function (id) {
        this.myID = id;
    };
    Members.prototype.onSubscription = function (subscriptionData) {
        this.members = subscriptionData.presence.hash;
        this.count = subscriptionData.presence.count;
        this.me = this.get(this.myID);
    };
    Members.prototype.addMember = function (memberData) {
        if (this.get(memberData.user_id) === null) {
            this.count++;
        }
        this.members[memberData.user_id] = memberData.user_info;
        return this.get(memberData.user_id);
    };
    Members.prototype.removeMember = function (memberData) {
        var member = this.get(memberData.user_id);
        if (member) {
            delete this.members[memberData.user_id];
            this.count--;
        }
        return member;
    };
    Members.prototype.reset = function () {
        this.members = {};
        this.count = 0;
        this.myID = null;
        this.me = null;
    };
    return Members;
}());
/* harmony default export */ var members = (members_Members);

// CONCATENATED MODULE: ./src/core/channels/presence_channel.ts
var presence_channel_extends = ( false) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = ( false) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = ( false) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




var presence_channel_PresenceChannel = (function (_super) {
    presence_channel_extends(PresenceChannel, _super);
    function PresenceChannel(name, pusher) {
        var _this = _super.call(this, name, pusher) || this;
        _this.members = new members();
        return _this;
    }
    PresenceChannel.prototype.authorize = function (socketId, callback) {
        var _this = this;
        _super.prototype.authorize.call(this, socketId, function (error, authData) { return __awaiter(_this, void 0, void 0, function () {
            var channelData, suffix;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!!error) return [3, 3];
                        authData = authData;
                        if (!(authData.channel_data != null)) return [3, 1];
                        channelData = JSON.parse(authData.channel_data);
                        this.members.setMyID(channelData.user_id);
                        return [3, 3];
                    case 1: return [4, this.pusher.user.signinDonePromise];
                    case 2:
                        _a.sent();
                        if (this.pusher.user.user_data != null) {
                            this.members.setMyID(this.pusher.user.user_data.id);
                        }
                        else {
                            suffix = url_store.buildLogSuffix('authorizationEndpoint');
                            logger.error("Invalid auth response for channel '" + this.name + "', " +
                                ("expected 'channel_data' field. " + suffix + ", ") +
                                "or the user should be signed in.");
                            callback('Invalid auth response');
                            return [2];
                        }
                        _a.label = 3;
                    case 3:
                        callback(error, authData);
                        return [2];
                }
            });
        }); });
    };
    PresenceChannel.prototype.handleEvent = function (event) {
        var eventName = event.event;
        if (eventName.indexOf('pusher_internal:') === 0) {
            this.handleInternalEvent(event);
        }
        else {
            var data = event.data;
            var metadata = {};
            if (event.user_id) {
                metadata.user_id = event.user_id;
            }
            this.emit(eventName, data, metadata);
        }
    };
    PresenceChannel.prototype.handleInternalEvent = function (event) {
        var eventName = event.event;
        var data = event.data;
        switch (eventName) {
            case 'pusher_internal:subscription_succeeded':
                this.handleSubscriptionSucceededEvent(event);
                break;
            case 'pusher_internal:subscription_count':
                this.handleSubscriptionCountEvent(event);
                break;
            case 'pusher_internal:member_added':
                var addedMember = this.members.addMember(data);
                this.emit('pusher:member_added', addedMember);
                break;
            case 'pusher_internal:member_removed':
                var removedMember = this.members.removeMember(data);
                if (removedMember) {
                    this.emit('pusher:member_removed', removedMember);
                }
                break;
        }
    };
    PresenceChannel.prototype.handleSubscriptionSucceededEvent = function (event) {
        this.subscriptionPending = false;
        this.subscribed = true;
        if (this.subscriptionCancelled) {
            this.pusher.unsubscribe(this.name);
        }
        else {
            this.members.onSubscription(event.data);
            this.emit('pusher:subscription_succeeded', this.members);
        }
    };
    PresenceChannel.prototype.disconnect = function () {
        this.members.reset();
        _super.prototype.disconnect.call(this);
    };
    return PresenceChannel;
}(private_channel));
/* harmony default export */ var presence_channel = (presence_channel_PresenceChannel);

// EXTERNAL MODULE: ./node_modules/@stablelib/utf8/lib/utf8.js
var utf8 = __nested_webpack_require_20105__(1);

// EXTERNAL MODULE: ./node_modules/@stablelib/base64/lib/base64.js
var base64 = __nested_webpack_require_20105__(0);

// CONCATENATED MODULE: ./src/core/channels/encrypted_channel.ts
var encrypted_channel_extends = ( false) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var encrypted_channel_EncryptedChannel = (function (_super) {
    encrypted_channel_extends(EncryptedChannel, _super);
    function EncryptedChannel(name, pusher, nacl) {
        var _this = _super.call(this, name, pusher) || this;
        _this.key = null;
        _this.nacl = nacl;
        return _this;
    }
    EncryptedChannel.prototype.authorize = function (socketId, callback) {
        var _this = this;
        _super.prototype.authorize.call(this, socketId, function (error, authData) {
            if (error) {
                callback(error, authData);
                return;
            }
            var sharedSecret = authData['shared_secret'];
            if (!sharedSecret) {
                callback(new Error("No shared_secret key in auth payload for encrypted channel: " + _this.name), null);
                return;
            }
            _this.key = Object(base64["decode"])(sharedSecret);
            delete authData['shared_secret'];
            callback(null, authData);
        });
    };
    EncryptedChannel.prototype.trigger = function (event, data) {
        throw new UnsupportedFeature('Client events are not currently supported for encrypted channels');
    };
    EncryptedChannel.prototype.handleEvent = function (event) {
        var eventName = event.event;
        var data = event.data;
        if (eventName.indexOf('pusher_internal:') === 0 ||
            eventName.indexOf('pusher:') === 0) {
            _super.prototype.handleEvent.call(this, event);
            return;
        }
        this.handleEncryptedEvent(eventName, data);
    };
    EncryptedChannel.prototype.handleEncryptedEvent = function (event, data) {
        var _this = this;
        if (!this.key) {
            logger.debug('Received encrypted event before key has been retrieved from the authEndpoint');
            return;
        }
        if (!data.ciphertext || !data.nonce) {
            logger.error('Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: ' +
                data);
            return;
        }
        var cipherText = Object(base64["decode"])(data.ciphertext);
        if (cipherText.length < this.nacl.secretbox.overheadLength) {
            logger.error("Expected encrypted event ciphertext length to be " + this.nacl.secretbox.overheadLength + ", got: " + cipherText.length);
            return;
        }
        var nonce = Object(base64["decode"])(data.nonce);
        if (nonce.length < this.nacl.secretbox.nonceLength) {
            logger.error("Expected encrypted event nonce length to be " + this.nacl.secretbox.nonceLength + ", got: " + nonce.length);
            return;
        }
        var bytes = this.nacl.secretbox.open(cipherText, nonce, this.key);
        if (bytes === null) {
            logger.debug('Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint...');
            this.authorize(this.pusher.connection.socket_id, function (error, authData) {
                if (error) {
                    logger.error("Failed to make a request to the authEndpoint: " + authData + ". Unable to fetch new key, so dropping encrypted event");
                    return;
                }
                bytes = _this.nacl.secretbox.open(cipherText, nonce, _this.key);
                if (bytes === null) {
                    logger.error("Failed to decrypt event with new key. Dropping encrypted event");
                    return;
                }
                _this.emit(event, _this.getDataToEmit(bytes));
                return;
            });
            return;
        }
        this.emit(event, this.getDataToEmit(bytes));
    };
    EncryptedChannel.prototype.getDataToEmit = function (bytes) {
        var raw = Object(utf8["decode"])(bytes);
        try {
            return JSON.parse(raw);
        }
        catch (_a) {
            return raw;
        }
    };
    return EncryptedChannel;
}(private_channel));
/* harmony default export */ var encrypted_channel = (encrypted_channel_EncryptedChannel);

// CONCATENATED MODULE: ./src/core/connection/connection_manager.ts
var connection_manager_extends = ( false) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var connection_manager_ConnectionManager = (function (_super) {
    connection_manager_extends(ConnectionManager, _super);
    function ConnectionManager(key, options) {
        var _this = _super.call(this) || this;
        _this.state = 'initialized';
        _this.connection = null;
        _this.key = key;
        _this.options = options;
        _this.timeline = _this.options.timeline;
        _this.usingTLS = _this.options.useTLS;
        _this.errorCallbacks = _this.buildErrorCallbacks();
        _this.connectionCallbacks = _this.buildConnectionCallbacks(_this.errorCallbacks);
        _this.handshakeCallbacks = _this.buildHandshakeCallbacks(_this.errorCallbacks);
        var Network = runtime.getNetwork();
        Network.bind('online', function () {
            _this.timeline.info({ netinfo: 'online' });
            if (_this.state === 'connecting' || _this.state === 'unavailable') {
                _this.retryIn(0);
            }
        });
        Network.bind('offline', function () {
            _this.timeline.info({ netinfo: 'offline' });
            if (_this.connection) {
                _this.sendActivityCheck();
            }
        });
        _this.updateStrategy();
        return _this;
    }
    ConnectionManager.prototype.connect = function () {
        if (this.connection || this.runner) {
            return;
        }
        if (!this.strategy.isSupported()) {
            this.updateState('failed');
            return;
        }
        this.updateState('connecting');
        this.startConnecting();
        this.setUnavailableTimer();
    };
    ConnectionManager.prototype.send = function (data) {
        if (this.connection) {
            return this.connection.send(data);
        }
        else {
            return false;
        }
    };
    ConnectionManager.prototype.send_event = function (name, data, channel) {
        if (this.connection) {
            return this.connection.send_event(name, data, channel);
        }
        else {
            return false;
        }
    };
    ConnectionManager.prototype.disconnect = function () {
        this.disconnectInternally();
        this.updateState('disconnected');
    };
    ConnectionManager.prototype.isUsingTLS = function () {
        return this.usingTLS;
    };
    ConnectionManager.prototype.startConnecting = function () {
        var _this = this;
        var callback = function (error, handshake) {
            if (error) {
                _this.runner = _this.strategy.connect(0, callback);
            }
            else {
                if (handshake.action === 'error') {
                    _this.emit('error', {
                        type: 'HandshakeError',
                        error: handshake.error
                    });
                    _this.timeline.error({ handshakeError: handshake.error });
                }
                else {
                    _this.abortConnecting();
                    _this.handshakeCallbacks[handshake.action](handshake);
                }
            }
        };
        this.runner = this.strategy.connect(0, callback);
    };
    ConnectionManager.prototype.abortConnecting = function () {
        if (this.runner) {
            this.runner.abort();
            this.runner = null;
        }
    };
    ConnectionManager.prototype.disconnectInternally = function () {
        this.abortConnecting();
        this.clearRetryTimer();
        this.clearUnavailableTimer();
        if (this.connection) {
            var connection = this.abandonConnection();
            connection.close();
        }
    };
    ConnectionManager.prototype.updateStrategy = function () {
        this.strategy = this.options.getStrategy({
            key: this.key,
            timeline: this.timeline,
            useTLS: this.usingTLS
        });
    };
    ConnectionManager.prototype.retryIn = function (delay) {
        var _this = this;
        this.timeline.info({ action: 'retry', delay: delay });
        if (delay > 0) {
            this.emit('connecting_in', Math.round(delay / 1000));
        }
        this.retryTimer = new OneOffTimer(delay || 0, function () {
            _this.disconnectInternally();
            _this.connect();
        });
    };
    ConnectionManager.prototype.clearRetryTimer = function () {
        if (this.retryTimer) {
            this.retryTimer.ensureAborted();
            this.retryTimer = null;
        }
    };
    ConnectionManager.prototype.setUnavailableTimer = function () {
        var _this = this;
        this.unavailableTimer = new OneOffTimer(this.options.unavailableTimeout, function () {
            _this.updateState('unavailable');
        });
    };
    ConnectionManager.prototype.clearUnavailableTimer = function () {
        if (this.unavailableTimer) {
            this.unavailableTimer.ensureAborted();
        }
    };
    ConnectionManager.prototype.sendActivityCheck = function () {
        var _this = this;
        this.stopActivityCheck();
        this.connection.ping();
        this.activityTimer = new OneOffTimer(this.options.pongTimeout, function () {
            _this.timeline.error({ pong_timed_out: _this.options.pongTimeout });
            _this.retryIn(0);
        });
    };
    ConnectionManager.prototype.resetActivityCheck = function () {
        var _this = this;
        this.stopActivityCheck();
        if (this.connection && !this.connection.handlesActivityChecks()) {
            this.activityTimer = new OneOffTimer(this.activityTimeout, function () {
                _this.sendActivityCheck();
            });
        }
    };
    ConnectionManager.prototype.stopActivityCheck = function () {
        if (this.activityTimer) {
            this.activityTimer.ensureAborted();
        }
    };
    ConnectionManager.prototype.buildConnectionCallbacks = function (errorCallbacks) {
        var _this = this;
        return extend({}, errorCallbacks, {
            message: function (message) {
                _this.resetActivityCheck();
                _this.emit('message', message);
            },
            ping: function () {
                _this.send_event('pusher:pong', {});
            },
            activity: function () {
                _this.resetActivityCheck();
            },
            error: function (error) {
                _this.emit('error', error);
            },
            closed: function () {
                _this.abandonConnection();
                if (_this.shouldRetry()) {
                    _this.retryIn(1000);
                }
            }
        });
    };
    ConnectionManager.prototype.buildHandshakeCallbacks = function (errorCallbacks) {
        var _this = this;
        return extend({}, errorCallbacks, {
            connected: function (handshake) {
                _this.activityTimeout = Math.min(_this.options.activityTimeout, handshake.activityTimeout, handshake.connection.activityTimeout || Infinity);
                _this.clearUnavailableTimer();
                _this.setConnection(handshake.connection);
                _this.socket_id = _this.connection.id;
                _this.updateState('connected', { socket_id: _this.socket_id });
            }
        });
    };
    ConnectionManager.prototype.buildErrorCallbacks = function () {
        var _this = this;
        var withErrorEmitted = function (callback) {
            return function (result) {
                if (result.error) {
                    _this.emit('error', { type: 'WebSocketError', error: result.error });
                }
                callback(result);
            };
        };
        return {
            tls_only: withErrorEmitted(function () {
                _this.usingTLS = true;
                _this.updateStrategy();
                _this.retryIn(0);
            }),
            refused: withErrorEmitted(function () {
                _this.disconnect();
            }),
            backoff: withErrorEmitted(function () {
                _this.retryIn(1000);
            }),
            retry: withErrorEmitted(function () {
                _this.retryIn(0);
            })
        };
    };
    ConnectionManager.prototype.setConnection = function (connection) {
        this.connection = connection;
        for (var event in this.connectionCallbacks) {
            this.connection.bind(event, this.connectionCallbacks[event]);
        }
        this.resetActivityCheck();
    };
    ConnectionManager.prototype.abandonConnection = function () {
        if (!this.connection) {
            return;
        }
        this.stopActivityCheck();
        for (var event in this.connectionCallbacks) {
            this.connection.unbind(event, this.connectionCallbacks[event]);
        }
        var connection = this.connection;
        this.connection = null;
        return connection;
    };
    ConnectionManager.prototype.updateState = function (newState, data) {
        var previousState = this.state;
        this.state = newState;
        if (previousState !== newState) {
            var newStateDescription = newState;
            if (newStateDescription === 'connected') {
                newStateDescription += ' with new socket ID ' + data.socket_id;
            }
            logger.debug('State changed', previousState + ' -> ' + newStateDescription);
            this.timeline.info({ state: newState, params: data });
            this.emit('state_change', { previous: previousState, current: newState });
            this.emit(newState, data);
        }
    };
    ConnectionManager.prototype.shouldRetry = function () {
        return this.state === 'connecting' || this.state === 'connected';
    };
    return ConnectionManager;
}(dispatcher));
/* harmony default export */ var connection_manager = (connection_manager_ConnectionManager);

// CONCATENATED MODULE: ./src/core/channels/channels.ts




var channels_Channels = (function () {
    function Channels() {
        this.channels = {};
    }
    Channels.prototype.add = function (name, pusher) {
        if (!this.channels[name]) {
            this.channels[name] = createChannel(name, pusher);
        }
        return this.channels[name];
    };
    Channels.prototype.all = function () {
        return values(this.channels);
    };
    Channels.prototype.find = function (name) {
        return this.channels[name];
    };
    Channels.prototype.remove = function (name) {
        var channel = this.channels[name];
        delete this.channels[name];
        return channel;
    };
    Channels.prototype.disconnect = function () {
        objectApply(this.channels, function (channel) {
            channel.disconnect();
        });
    };
    return Channels;
}());
/* harmony default export */ var channels = (channels_Channels);
function createChannel(name, pusher) {
    if (name.indexOf('private-encrypted-') === 0) {
        if (pusher.config.nacl) {
            return factory.createEncryptedChannel(name, pusher, pusher.config.nacl);
        }
        var errMsg = 'Tried to subscribe to a private-encrypted- channel but no nacl implementation available';
        var suffix = url_store.buildLogSuffix('encryptedChannelSupport');
        throw new UnsupportedFeature(errMsg + ". " + suffix);
    }
    else if (name.indexOf('private-') === 0) {
        return factory.createPrivateChannel(name, pusher);
    }
    else if (name.indexOf('presence-') === 0) {
        return factory.createPresenceChannel(name, pusher);
    }
    else if (name.indexOf('#') === 0) {
        throw new BadChannelName('Cannot create a channel with name "' + name + '".');
    }
    else {
        return factory.createChannel(name, pusher);
    }
}

// CONCATENATED MODULE: ./src/core/utils/factory.ts









var Factory = {
    createChannels: function () {
        return new channels();
    },
    createConnectionManager: function (key, options) {
        return new connection_manager(key, options);
    },
    createChannel: function (name, pusher) {
        return new channels_channel(name, pusher);
    },
    createPrivateChannel: function (name, pusher) {
        return new private_channel(name, pusher);
    },
    createPresenceChannel: function (name, pusher) {
        return new presence_channel(name, pusher);
    },
    createEncryptedChannel: function (name, pusher, nacl) {
        return new encrypted_channel(name, pusher, nacl);
    },
    createTimelineSender: function (timeline, options) {
        return new timeline_sender(timeline, options);
    },
    createHandshake: function (transport, callback) {
        return new connection_handshake(transport, callback);
    },
    createAssistantToTheTransportManager: function (manager, transport, options) {
        return new assistant_to_the_transport_manager(manager, transport, options);
    }
};
/* harmony default export */ var factory = (Factory);

// CONCATENATED MODULE: ./src/core/transports/transport_manager.ts

var transport_manager_TransportManager = (function () {
    function TransportManager(options) {
        this.options = options || {};
        this.livesLeft = this.options.lives || Infinity;
    }
    TransportManager.prototype.getAssistant = function (transport) {
        return factory.createAssistantToTheTransportManager(this, transport, {
            minPingDelay: this.options.minPingDelay,
            maxPingDelay: this.options.maxPingDelay
        });
    };
    TransportManager.prototype.isAlive = function () {
        return this.livesLeft > 0;
    };
    TransportManager.prototype.reportDeath = function () {
        this.livesLeft -= 1;
    };
    return TransportManager;
}());
/* harmony default export */ var transport_manager = (transport_manager_TransportManager);

// CONCATENATED MODULE: ./src/core/strategies/sequential_strategy.ts



var sequential_strategy_SequentialStrategy = (function () {
    function SequentialStrategy(strategies, options) {
        this.strategies = strategies;
        this.loop = Boolean(options.loop);
        this.failFast = Boolean(options.failFast);
        this.timeout = options.timeout;
        this.timeoutLimit = options.timeoutLimit;
    }
    SequentialStrategy.prototype.isSupported = function () {
        return any(this.strategies, util.method('isSupported'));
    };
    SequentialStrategy.prototype.connect = function (minPriority, callback) {
        var _this = this;
        var strategies = this.strategies;
        var current = 0;
        var timeout = this.timeout;
        var runner = null;
        var tryNextStrategy = function (error, handshake) {
            if (handshake) {
                callback(null, handshake);
            }
            else {
                current = current + 1;
                if (_this.loop) {
                    current = current % strategies.length;
                }
                if (current < strategies.length) {
                    if (timeout) {
                        timeout = timeout * 2;
                        if (_this.timeoutLimit) {
                            timeout = Math.min(timeout, _this.timeoutLimit);
                        }
                    }
                    runner = _this.tryStrategy(strategies[current], minPriority, { timeout: timeout, failFast: _this.failFast }, tryNextStrategy);
                }
                else {
                    callback(true);
                }
            }
        };
        runner = this.tryStrategy(strategies[current], minPriority, { timeout: timeout, failFast: this.failFast }, tryNextStrategy);
        return {
            abort: function () {
                runner.abort();
            },
            forceMinPriority: function (p) {
                minPriority = p;
                if (runner) {
                    runner.forceMinPriority(p);
                }
            }
        };
    };
    SequentialStrategy.prototype.tryStrategy = function (strategy, minPriority, options, callback) {
        var timer = null;
        var runner = null;
        if (options.timeout > 0) {
            timer = new OneOffTimer(options.timeout, function () {
                runner.abort();
                callback(true);
            });
        }
        runner = strategy.connect(minPriority, function (error, handshake) {
            if (error && timer && timer.isRunning() && !options.failFast) {
                return;
            }
            if (timer) {
                timer.ensureAborted();
            }
            callback(error, handshake);
        });
        return {
            abort: function () {
                if (timer) {
                    timer.ensureAborted();
                }
                runner.abort();
            },
            forceMinPriority: function (p) {
                runner.forceMinPriority(p);
            }
        };
    };
    return SequentialStrategy;
}());
/* harmony default export */ var sequential_strategy = (sequential_strategy_SequentialStrategy);

// CONCATENATED MODULE: ./src/core/strategies/best_connected_ever_strategy.ts


var best_connected_ever_strategy_BestConnectedEverStrategy = (function () {
    function BestConnectedEverStrategy(strategies) {
        this.strategies = strategies;
    }
    BestConnectedEverStrategy.prototype.isSupported = function () {
        return any(this.strategies, util.method('isSupported'));
    };
    BestConnectedEverStrategy.prototype.connect = function (minPriority, callback) {
        return connect(this.strategies, minPriority, function (i, runners) {
            return function (error, handshake) {
                runners[i].error = error;
                if (error) {
                    if (allRunnersFailed(runners)) {
                        callback(true);
                    }
                    return;
                }
                apply(runners, function (runner) {
                    runner.forceMinPriority(handshake.transport.priority);
                });
                callback(null, handshake);
            };
        });
    };
    return BestConnectedEverStrategy;
}());
/* harmony default export */ var best_connected_ever_strategy = (best_connected_ever_strategy_BestConnectedEverStrategy);
function connect(strategies, minPriority, callbackBuilder) {
    var runners = map(strategies, function (strategy, i, _, rs) {
        return strategy.connect(minPriority, callbackBuilder(i, rs));
    });
    return {
        abort: function () {
            apply(runners, abortRunner);
        },
        forceMinPriority: function (p) {
            apply(runners, function (runner) {
                runner.forceMinPriority(p);
            });
        }
    };
}
function allRunnersFailed(runners) {
    return collections_all(runners, function (runner) {
        return Boolean(runner.error);
    });
}
function abortRunner(runner) {
    if (!runner.error && !runner.aborted) {
        runner.abort();
        runner.aborted = true;
    }
}

// CONCATENATED MODULE: ./src/core/strategies/cached_strategy.ts




var cached_strategy_CachedStrategy = (function () {
    function CachedStrategy(strategy, transports, options) {
        this.strategy = strategy;
        this.transports = transports;
        this.ttl = options.ttl || 1800 * 1000;
        this.usingTLS = options.useTLS;
        this.timeline = options.timeline;
    }
    CachedStrategy.prototype.isSupported = function () {
        return this.strategy.isSupported();
    };
    CachedStrategy.prototype.connect = function (minPriority, callback) {
        var usingTLS = this.usingTLS;
        var info = fetchTransportCache(usingTLS);
        var strategies = [this.strategy];
        if (info && info.timestamp + this.ttl >= util.now()) {
            var transport = this.transports[info.transport];
            if (transport) {
                this.timeline.info({
                    cached: true,
                    transport: info.transport,
                    latency: info.latency
                });
                strategies.push(new sequential_strategy([transport], {
                    timeout: info.latency * 2 + 1000,
                    failFast: true
                }));
            }
        }
        var startTimestamp = util.now();
        var runner = strategies
            .pop()
            .connect(minPriority, function cb(error, handshake) {
            if (error) {
                flushTransportCache(usingTLS);
                if (strategies.length > 0) {
                    startTimestamp = util.now();
                    runner = strategies.pop().connect(minPriority, cb);
                }
                else {
                    callback(error);
                }
            }
            else {
                storeTransportCache(usingTLS, handshake.transport.name, util.now() - startTimestamp);
                callback(null, handshake);
            }
        });
        return {
            abort: function () {
                runner.abort();
            },
            forceMinPriority: function (p) {
                minPriority = p;
                if (runner) {
                    runner.forceMinPriority(p);
                }
            }
        };
    };
    return CachedStrategy;
}());
/* harmony default export */ var cached_strategy = (cached_strategy_CachedStrategy);
function getTransportCacheKey(usingTLS) {
    return 'pusherTransport' + (usingTLS ? 'TLS' : 'NonTLS');
}
function fetchTransportCache(usingTLS) {
    var storage = runtime.getLocalStorage();
    if (storage) {
        try {
            var serializedCache = storage[getTransportCacheKey(usingTLS)];
            if (serializedCache) {
                return JSON.parse(serializedCache);
            }
        }
        catch (e) {
            flushTransportCache(usingTLS);
        }
    }
    return null;
}
function storeTransportCache(usingTLS, transport, latency) {
    var storage = runtime.getLocalStorage();
    if (storage) {
        try {
            storage[getTransportCacheKey(usingTLS)] = safeJSONStringify({
                timestamp: util.now(),
                transport: transport,
                latency: latency
            });
        }
        catch (e) {
        }
    }
}
function flushTransportCache(usingTLS) {
    var storage = runtime.getLocalStorage();
    if (storage) {
        try {
            delete storage[getTransportCacheKey(usingTLS)];
        }
        catch (e) {
        }
    }
}

// CONCATENATED MODULE: ./src/core/strategies/delayed_strategy.ts

var delayed_strategy_DelayedStrategy = (function () {
    function DelayedStrategy(strategy, _a) {
        var number = _a.delay;
        this.strategy = strategy;
        this.options = { delay: number };
    }
    DelayedStrategy.prototype.isSupported = function () {
        return this.strategy.isSupported();
    };
    DelayedStrategy.prototype.connect = function (minPriority, callback) {
        var strategy = this.strategy;
        var runner;
        var timer = new OneOffTimer(this.options.delay, function () {
            runner = strategy.connect(minPriority, callback);
        });
        return {
            abort: function () {
                timer.ensureAborted();
                if (runner) {
                    runner.abort();
                }
            },
            forceMinPriority: function (p) {
                minPriority = p;
                if (runner) {
                    runner.forceMinPriority(p);
                }
            }
        };
    };
    return DelayedStrategy;
}());
/* harmony default export */ var delayed_strategy = (delayed_strategy_DelayedStrategy);

// CONCATENATED MODULE: ./src/core/strategies/if_strategy.ts
var IfStrategy = (function () {
    function IfStrategy(test, trueBranch, falseBranch) {
        this.test = test;
        this.trueBranch = trueBranch;
        this.falseBranch = falseBranch;
    }
    IfStrategy.prototype.isSupported = function () {
        var branch = this.test() ? this.trueBranch : this.falseBranch;
        return branch.isSupported();
    };
    IfStrategy.prototype.connect = function (minPriority, callback) {
        var branch = this.test() ? this.trueBranch : this.falseBranch;
        return branch.connect(minPriority, callback);
    };
    return IfStrategy;
}());
/* harmony default export */ var if_strategy = (IfStrategy);

// CONCATENATED MODULE: ./src/core/strategies/first_connected_strategy.ts
var FirstConnectedStrategy = (function () {
    function FirstConnectedStrategy(strategy) {
        this.strategy = strategy;
    }
    FirstConnectedStrategy.prototype.isSupported = function () {
        return this.strategy.isSupported();
    };
    FirstConnectedStrategy.prototype.connect = function (minPriority, callback) {
        var runner = this.strategy.connect(minPriority, function (error, handshake) {
            if (handshake) {
                runner.abort();
            }
            callback(error, handshake);
        });
        return runner;
    };
    return FirstConnectedStrategy;
}());
/* harmony default export */ var first_connected_strategy = (FirstConnectedStrategy);

// CONCATENATED MODULE: ./src/runtimes/web/default_strategy.ts







function testSupportsStrategy(strategy) {
    return function () {
        return strategy.isSupported();
    };
}
var getDefaultStrategy = function (config, baseOptions, defineTransport) {
    var definedTransports = {};
    function defineTransportStrategy(name, type, priority, options, manager) {
        var transport = defineTransport(config, name, type, priority, options, manager);
        definedTransports[name] = transport;
        return transport;
    }
    var ws_options = Object.assign({}, baseOptions, {
        hostNonTLS: config.wsHost + ':' + config.wsPort,
        hostTLS: config.wsHost + ':' + config.wssPort,
        httpPath: config.wsPath
    });
    var wss_options = Object.assign({}, ws_options, {
        useTLS: true
    });
    var sockjs_options = Object.assign({}, baseOptions, {
        hostNonTLS: config.httpHost + ':' + config.httpPort,
        hostTLS: config.httpHost + ':' + config.httpsPort,
        httpPath: config.httpPath
    });
    var timeouts = {
        loop: true,
        timeout: 15000,
        timeoutLimit: 60000
    };
    var ws_manager = new transport_manager({
        lives: 2,
        minPingDelay: 10000,
        maxPingDelay: config.activityTimeout
    });
    var streaming_manager = new transport_manager({
        lives: 2,
        minPingDelay: 10000,
        maxPingDelay: config.activityTimeout
    });
    var ws_transport = defineTransportStrategy('ws', 'ws', 3, ws_options, ws_manager);
    var wss_transport = defineTransportStrategy('wss', 'ws', 3, wss_options, ws_manager);
    var sockjs_transport = defineTransportStrategy('sockjs', 'sockjs', 1, sockjs_options);
    var xhr_streaming_transport = defineTransportStrategy('xhr_streaming', 'xhr_streaming', 1, sockjs_options, streaming_manager);
    var xdr_streaming_transport = defineTransportStrategy('xdr_streaming', 'xdr_streaming', 1, sockjs_options, streaming_manager);
    var xhr_polling_transport = defineTransportStrategy('xhr_polling', 'xhr_polling', 1, sockjs_options);
    var xdr_polling_transport = defineTransportStrategy('xdr_polling', 'xdr_polling', 1, sockjs_options);
    var ws_loop = new sequential_strategy([ws_transport], timeouts);
    var wss_loop = new sequential_strategy([wss_transport], timeouts);
    var sockjs_loop = new sequential_strategy([sockjs_transport], timeouts);
    var streaming_loop = new sequential_strategy([
        new if_strategy(testSupportsStrategy(xhr_streaming_transport), xhr_streaming_transport, xdr_streaming_transport)
    ], timeouts);
    var polling_loop = new sequential_strategy([
        new if_strategy(testSupportsStrategy(xhr_polling_transport), xhr_polling_transport, xdr_polling_transport)
    ], timeouts);
    var http_loop = new sequential_strategy([
        new if_strategy(testSupportsStrategy(streaming_loop), new best_connected_ever_strategy([
            streaming_loop,
            new delayed_strategy(polling_loop, { delay: 4000 })
        ]), polling_loop)
    ], timeouts);
    var http_fallback_loop = new if_strategy(testSupportsStrategy(http_loop), http_loop, sockjs_loop);
    var wsStrategy;
    if (baseOptions.useTLS) {
        wsStrategy = new best_connected_ever_strategy([
            ws_loop,
            new delayed_strategy(http_fallback_loop, { delay: 2000 })
        ]);
    }
    else {
        wsStrategy = new best_connected_ever_strategy([
            ws_loop,
            new delayed_strategy(wss_loop, { delay: 2000 }),
            new delayed_strategy(http_fallback_loop, { delay: 5000 })
        ]);
    }
    return new cached_strategy(new first_connected_strategy(new if_strategy(testSupportsStrategy(ws_transport), wsStrategy, http_fallback_loop)), definedTransports, {
        ttl: 1800000,
        timeline: baseOptions.timeline,
        useTLS: baseOptions.useTLS
    });
};
/* harmony default export */ var default_strategy = (getDefaultStrategy);

// CONCATENATED MODULE: ./src/runtimes/web/transports/transport_connection_initializer.ts

/* harmony default export */ var transport_connection_initializer = (function () {
    var self = this;
    self.timeline.info(self.buildTimelineMessage({
        transport: self.name + (self.options.useTLS ? 's' : '')
    }));
    if (self.hooks.isInitialized()) {
        self.changeState('initialized');
    }
    else if (self.hooks.file) {
        self.changeState('initializing');
        Dependencies.load(self.hooks.file, { useTLS: self.options.useTLS }, function (error, callback) {
            if (self.hooks.isInitialized()) {
                self.changeState('initialized');
                callback(true);
            }
            else {
                if (error) {
                    self.onError(error);
                }
                self.onClose();
                callback(false);
            }
        });
    }
    else {
        self.onClose();
    }
});

// CONCATENATED MODULE: ./src/runtimes/web/http/http_xdomain_request.ts

var http_xdomain_request_hooks = {
    getRequest: function (socket) {
        var xdr = new window.XDomainRequest();
        xdr.ontimeout = function () {
            socket.emit('error', new RequestTimedOut());
            socket.close();
        };
        xdr.onerror = function (e) {
            socket.emit('error', e);
            socket.close();
        };
        xdr.onprogress = function () {
            if (xdr.responseText && xdr.responseText.length > 0) {
                socket.onChunk(200, xdr.responseText);
            }
        };
        xdr.onload = function () {
            if (xdr.responseText && xdr.responseText.length > 0) {
                socket.onChunk(200, xdr.responseText);
            }
            socket.emit('finished', 200);
            socket.close();
        };
        return xdr;
    },
    abortRequest: function (xdr) {
        xdr.ontimeout = xdr.onerror = xdr.onprogress = xdr.onload = null;
        xdr.abort();
    }
};
/* harmony default export */ var http_xdomain_request = (http_xdomain_request_hooks);

// CONCATENATED MODULE: ./src/core/http/http_request.ts
var http_request_extends = ( false) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var MAX_BUFFER_LENGTH = 256 * 1024;
var http_request_HTTPRequest = (function (_super) {
    http_request_extends(HTTPRequest, _super);
    function HTTPRequest(hooks, method, url) {
        var _this = _super.call(this) || this;
        _this.hooks = hooks;
        _this.method = method;
        _this.url = url;
        return _this;
    }
    HTTPRequest.prototype.start = function (payload) {
        var _this = this;
        this.position = 0;
        this.xhr = this.hooks.getRequest(this);
        this.unloader = function () {
            _this.close();
        };
        runtime.addUnloadListener(this.unloader);
        this.xhr.open(this.method, this.url, true);
        if (this.xhr.setRequestHeader) {
            this.xhr.setRequestHeader('Content-Type', 'application/json');
        }
        this.xhr.send(payload);
    };
    HTTPRequest.prototype.close = function () {
        if (this.unloader) {
            runtime.removeUnloadListener(this.unloader);
            this.unloader = null;
        }
        if (this.xhr) {
            this.hooks.abortRequest(this.xhr);
            this.xhr = null;
        }
    };
    HTTPRequest.prototype.onChunk = function (status, data) {
        while (true) {
            var chunk = this.advanceBuffer(data);
            if (chunk) {
                this.emit('chunk', { status: status, data: chunk });
            }
            else {
                break;
            }
        }
        if (this.isBufferTooLong(data)) {
            this.emit('buffer_too_long');
        }
    };
    HTTPRequest.prototype.advanceBuffer = function (buffer) {
        var unreadData = buffer.slice(this.position);
        var endOfLinePosition = unreadData.indexOf('\n');
        if (endOfLinePosition !== -1) {
            this.position += endOfLinePosition + 1;
            return unreadData.slice(0, endOfLinePosition);
        }
        else {
            return null;
        }
    };
    HTTPRequest.prototype.isBufferTooLong = function (buffer) {
        return this.position === buffer.length && buffer.length > MAX_BUFFER_LENGTH;
    };
    return HTTPRequest;
}(dispatcher));
/* harmony default export */ var http_request = (http_request_HTTPRequest);

// CONCATENATED MODULE: ./src/core/http/state.ts
var State;
(function (State) {
    State[State["CONNECTING"] = 0] = "CONNECTING";
    State[State["OPEN"] = 1] = "OPEN";
    State[State["CLOSED"] = 3] = "CLOSED";
})(State || (State = {}));
/* harmony default export */ var state = (State);

// CONCATENATED MODULE: ./src/core/http/http_socket.ts



var autoIncrement = 1;
var http_socket_HTTPSocket = (function () {
    function HTTPSocket(hooks, url) {
        this.hooks = hooks;
        this.session = randomNumber(1000) + '/' + randomString(8);
        this.location = getLocation(url);
        this.readyState = state.CONNECTING;
        this.openStream();
    }
    HTTPSocket.prototype.send = function (payload) {
        return this.sendRaw(JSON.stringify([payload]));
    };
    HTTPSocket.prototype.ping = function () {
        this.hooks.sendHeartbeat(this);
    };
    HTTPSocket.prototype.close = function (code, reason) {
        this.onClose(code, reason, true);
    };
    HTTPSocket.prototype.sendRaw = function (payload) {
        if (this.readyState === state.OPEN) {
            try {
                runtime.createSocketRequest('POST', getUniqueURL(getSendURL(this.location, this.session))).start(payload);
                return true;
            }
            catch (e) {
                return false;
            }
        }
        else {
            return false;
        }
    };
    HTTPSocket.prototype.reconnect = function () {
        this.closeStream();
        this.openStream();
    };
    HTTPSocket.prototype.onClose = function (code, reason, wasClean) {
        this.closeStream();
        this.readyState = state.CLOSED;
        if (this.onclose) {
            this.onclose({
                code: code,
                reason: reason,
                wasClean: wasClean
            });
        }
    };
    HTTPSocket.prototype.onChunk = function (chunk) {
        if (chunk.status !== 200) {
            return;
        }
        if (this.readyState === state.OPEN) {
            this.onActivity();
        }
        var payload;
        var type = chunk.data.slice(0, 1);
        switch (type) {
            case 'o':
                payload = JSON.parse(chunk.data.slice(1) || '{}');
                this.onOpen(payload);
                break;
            case 'a':
                payload = JSON.parse(chunk.data.slice(1) || '[]');
                for (var i = 0; i < payload.length; i++) {
                    this.onEvent(payload[i]);
                }
                break;
            case 'm':
                payload = JSON.parse(chunk.data.slice(1) || 'null');
                this.onEvent(payload);
                break;
            case 'h':
                this.hooks.onHeartbeat(this);
                break;
            case 'c':
                payload = JSON.parse(chunk.data.slice(1) || '[]');
                this.onClose(payload[0], payload[1], true);
                break;
        }
    };
    HTTPSocket.prototype.onOpen = function (options) {
        if (this.readyState === state.CONNECTING) {
            if (options && options.hostname) {
                this.location.base = replaceHost(this.location.base, options.hostname);
            }
            this.readyState = state.OPEN;
            if (this.onopen) {
                this.onopen();
            }
        }
        else {
            this.onClose(1006, 'Server lost session', true);
        }
    };
    HTTPSocket.prototype.onEvent = function (event) {
        if (this.readyState === state.OPEN && this.onmessage) {
            this.onmessage({ data: event });
        }
    };
    HTTPSocket.prototype.onActivity = function () {
        if (this.onactivity) {
            this.onactivity();
        }
    };
    HTTPSocket.prototype.onError = function (error) {
        if (this.onerror) {
            this.onerror(error);
        }
    };
    HTTPSocket.prototype.openStream = function () {
        var _this = this;
        this.stream = runtime.createSocketRequest('POST', getUniqueURL(this.hooks.getReceiveURL(this.location, this.session)));
        this.stream.bind('chunk', function (chunk) {
            _this.onChunk(chunk);
        });
        this.stream.bind('finished', function (status) {
            _this.hooks.onFinished(_this, status);
        });
        this.stream.bind('buffer_too_long', function () {
            _this.reconnect();
        });
        try {
            this.stream.start();
        }
        catch (error) {
            util.defer(function () {
                _this.onError(error);
                _this.onClose(1006, 'Could not start streaming', false);
            });
        }
    };
    HTTPSocket.prototype.closeStream = function () {
        if (this.stream) {
            this.stream.unbind_all();
            this.stream.close();
            this.stream = null;
        }
    };
    return HTTPSocket;
}());
function getLocation(url) {
    var parts = /([^\?]*)\/*(\??.*)/.exec(url);
    return {
        base: parts[1],
        queryString: parts[2]
    };
}
function getSendURL(url, session) {
    return url.base + '/' + session + '/xhr_send';
}
function getUniqueURL(url) {
    var separator = url.indexOf('?') === -1 ? '?' : '&';
    return url + separator + 't=' + +new Date() + '&n=' + autoIncrement++;
}
function replaceHost(url, hostname) {
    var urlParts = /(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(url);
    return urlParts[1] + hostname + urlParts[3];
}
function randomNumber(max) {
    return runtime.randomInt(max);
}
function randomString(length) {
    var result = [];
    for (var i = 0; i < length; i++) {
        result.push(randomNumber(32).toString(32));
    }
    return result.join('');
}
/* harmony default export */ var http_socket = (http_socket_HTTPSocket);

// CONCATENATED MODULE: ./src/core/http/http_streaming_socket.ts
var http_streaming_socket_hooks = {
    getReceiveURL: function (url, session) {
        return url.base + '/' + session + '/xhr_streaming' + url.queryString;
    },
    onHeartbeat: function (socket) {
        socket.sendRaw('[]');
    },
    sendHeartbeat: function (socket) {
        socket.sendRaw('[]');
    },
    onFinished: function (socket, status) {
        socket.onClose(1006, 'Connection interrupted (' + status + ')', false);
    }
};
/* harmony default export */ var http_streaming_socket = (http_streaming_socket_hooks);

// CONCATENATED MODULE: ./src/core/http/http_polling_socket.ts
var http_polling_socket_hooks = {
    getReceiveURL: function (url, session) {
        return url.base + '/' + session + '/xhr' + url.queryString;
    },
    onHeartbeat: function () {
    },
    sendHeartbeat: function (socket) {
        socket.sendRaw('[]');
    },
    onFinished: function (socket, status) {
        if (status === 200) {
            socket.reconnect();
        }
        else {
            socket.onClose(1006, 'Connection interrupted (' + status + ')', false);
        }
    }
};
/* harmony default export */ var http_polling_socket = (http_polling_socket_hooks);

// CONCATENATED MODULE: ./src/runtimes/isomorphic/http/http_xhr_request.ts

var http_xhr_request_hooks = {
    getRequest: function (socket) {
        var Constructor = runtime.getXHRAPI();
        var xhr = new Constructor();
        xhr.onreadystatechange = xhr.onprogress = function () {
            switch (xhr.readyState) {
                case 3:
                    if (xhr.responseText && xhr.responseText.length > 0) {
                        socket.onChunk(xhr.status, xhr.responseText);
                    }
                    break;
                case 4:
                    if (xhr.responseText && xhr.responseText.length > 0) {
                        socket.onChunk(xhr.status, xhr.responseText);
                    }
                    socket.emit('finished', xhr.status);
                    socket.close();
                    break;
            }
        };
        return xhr;
    },
    abortRequest: function (xhr) {
        xhr.onreadystatechange = null;
        xhr.abort();
    }
};
/* harmony default export */ var http_xhr_request = (http_xhr_request_hooks);

// CONCATENATED MODULE: ./src/runtimes/isomorphic/http/http.ts





var HTTP = {
    createStreamingSocket: function (url) {
        return this.createSocket(http_streaming_socket, url);
    },
    createPollingSocket: function (url) {
        return this.createSocket(http_polling_socket, url);
    },
    createSocket: function (hooks, url) {
        return new http_socket(hooks, url);
    },
    createXHR: function (method, url) {
        return this.createRequest(http_xhr_request, method, url);
    },
    createRequest: function (hooks, method, url) {
        return new http_request(hooks, method, url);
    }
};
/* harmony default export */ var http_http = (HTTP);

// CONCATENATED MODULE: ./src/runtimes/web/http/http.ts


http_http.createXDR = function (method, url) {
    return this.createRequest(http_xdomain_request, method, url);
};
/* harmony default export */ var web_http_http = (http_http);

// CONCATENATED MODULE: ./src/runtimes/web/runtime.ts












var Runtime = {
    nextAuthCallbackID: 1,
    auth_callbacks: {},
    ScriptReceivers: ScriptReceivers,
    DependenciesReceivers: DependenciesReceivers,
    getDefaultStrategy: default_strategy,
    Transports: transports_transports,
    transportConnectionInitializer: transport_connection_initializer,
    HTTPFactory: web_http_http,
    TimelineTransport: jsonp_timeline,
    getXHRAPI: function () {
        return window.XMLHttpRequest;
    },
    getWebSocketAPI: function () {
        return window.WebSocket || window.MozWebSocket;
    },
    setup: function (PusherClass) {
        var _this = this;
        window.Pusher = PusherClass;
        var initializeOnDocumentBody = function () {
            _this.onDocumentBody(PusherClass.ready);
        };
        if (!window.JSON) {
            Dependencies.load('json2', {}, initializeOnDocumentBody);
        }
        else {
            initializeOnDocumentBody();
        }
    },
    getDocument: function () {
        return document;
    },
    getProtocol: function () {
        return this.getDocument().location.protocol;
    },
    getAuthorizers: function () {
        return { ajax: xhr_auth, jsonp: jsonp_auth };
    },
    onDocumentBody: function (callback) {
        var _this = this;
        if (document.body) {
            callback();
        }
        else {
            setTimeout(function () {
                _this.onDocumentBody(callback);
            }, 0);
        }
    },
    createJSONPRequest: function (url, data) {
        return new jsonp_request(url, data);
    },
    createScriptRequest: function (src) {
        return new script_request(src);
    },
    getLocalStorage: function () {
        try {
            return window.localStorage;
        }
        catch (e) {
            return undefined;
        }
    },
    createXHR: function () {
        if (this.getXHRAPI()) {
            return this.createXMLHttpRequest();
        }
        else {
            return this.createMicrosoftXHR();
        }
    },
    createXMLHttpRequest: function () {
        var Constructor = this.getXHRAPI();
        return new Constructor();
    },
    createMicrosoftXHR: function () {
        return new ActiveXObject('Microsoft.XMLHTTP');
    },
    getNetwork: function () {
        return net_info_Network;
    },
    createWebSocket: function (url) {
        var Constructor = this.getWebSocketAPI();
        return new Constructor(url);
    },
    createSocketRequest: function (method, url) {
        if (this.isXHRSupported()) {
            return this.HTTPFactory.createXHR(method, url);
        }
        else if (this.isXDRSupported(url.indexOf('https:') === 0)) {
            return this.HTTPFactory.createXDR(method, url);
        }
        else {
            throw 'Cross-origin HTTP requests are not supported';
        }
    },
    isXHRSupported: function () {
        var Constructor = this.getXHRAPI();
        return (Boolean(Constructor) && new Constructor().withCredentials !== undefined);
    },
    isXDRSupported: function (useTLS) {
        var protocol = useTLS ? 'https:' : 'http:';
        var documentProtocol = this.getProtocol();
        return (Boolean(window['XDomainRequest']) && documentProtocol === protocol);
    },
    addUnloadListener: function (listener) {
        if (window.addEventListener !== undefined) {
            window.addEventListener('unload', listener, false);
        }
        else if (window.attachEvent !== undefined) {
            window.attachEvent('onunload', listener);
        }
    },
    removeUnloadListener: function (listener) {
        if (window.addEventListener !== undefined) {
            window.removeEventListener('unload', listener, false);
        }
        else if (window.detachEvent !== undefined) {
            window.detachEvent('onunload', listener);
        }
    },
    randomInt: function (max) {
        var random = function () {
            var crypto = window.crypto || window['msCrypto'];
            var random = crypto.getRandomValues(new Uint32Array(1))[0];
            return random / Math.pow(2, 32);
        };
        return Math.floor(random() * max);
    }
};
/* harmony default export */ var runtime = (Runtime);

// CONCATENATED MODULE: ./src/core/timeline/level.ts
var TimelineLevel;
(function (TimelineLevel) {
    TimelineLevel[TimelineLevel["ERROR"] = 3] = "ERROR";
    TimelineLevel[TimelineLevel["INFO"] = 6] = "INFO";
    TimelineLevel[TimelineLevel["DEBUG"] = 7] = "DEBUG";
})(TimelineLevel || (TimelineLevel = {}));
/* harmony default export */ var timeline_level = (TimelineLevel);

// CONCATENATED MODULE: ./src/core/timeline/timeline.ts



var timeline_Timeline = (function () {
    function Timeline(key, session, options) {
        this.key = key;
        this.session = session;
        this.events = [];
        this.options = options || {};
        this.sent = 0;
        this.uniqueID = 0;
    }
    Timeline.prototype.log = function (level, event) {
        if (level <= this.options.level) {
            this.events.push(extend({}, event, { timestamp: util.now() }));
            if (this.options.limit && this.events.length > this.options.limit) {
                this.events.shift();
            }
        }
    };
    Timeline.prototype.error = function (event) {
        this.log(timeline_level.ERROR, event);
    };
    Timeline.prototype.info = function (event) {
        this.log(timeline_level.INFO, event);
    };
    Timeline.prototype.debug = function (event) {
        this.log(timeline_level.DEBUG, event);
    };
    Timeline.prototype.isEmpty = function () {
        return this.events.length === 0;
    };
    Timeline.prototype.send = function (sendfn, callback) {
        var _this = this;
        var data = extend({
            session: this.session,
            bundle: this.sent + 1,
            key: this.key,
            lib: 'js',
            version: this.options.version,
            cluster: this.options.cluster,
            features: this.options.features,
            timeline: this.events
        }, this.options.params);
        this.events = [];
        sendfn(data, function (error, result) {
            if (!error) {
                _this.sent++;
            }
            if (callback) {
                callback(error, result);
            }
        });
        return true;
    };
    Timeline.prototype.generateUniqueID = function () {
        this.uniqueID++;
        return this.uniqueID;
    };
    return Timeline;
}());
/* harmony default export */ var timeline_timeline = (timeline_Timeline);

// CONCATENATED MODULE: ./src/core/strategies/transport_strategy.ts




var transport_strategy_TransportStrategy = (function () {
    function TransportStrategy(name, priority, transport, options) {
        this.name = name;
        this.priority = priority;
        this.transport = transport;
        this.options = options || {};
    }
    TransportStrategy.prototype.isSupported = function () {
        return this.transport.isSupported({
            useTLS: this.options.useTLS
        });
    };
    TransportStrategy.prototype.connect = function (minPriority, callback) {
        var _this = this;
        if (!this.isSupported()) {
            return failAttempt(new UnsupportedStrategy(), callback);
        }
        else if (this.priority < minPriority) {
            return failAttempt(new TransportPriorityTooLow(), callback);
        }
        var connected = false;
        var transport = this.transport.createConnection(this.name, this.priority, this.options.key, this.options);
        var handshake = null;
        var onInitialized = function () {
            transport.unbind('initialized', onInitialized);
            transport.connect();
        };
        var onOpen = function () {
            handshake = factory.createHandshake(transport, function (result) {
                connected = true;
                unbindListeners();
                callback(null, result);
            });
        };
        var onError = function (error) {
            unbindListeners();
            callback(error);
        };
        var onClosed = function () {
            unbindListeners();
            var serializedTransport;
            serializedTransport = safeJSONStringify(transport);
            callback(new TransportClosed(serializedTransport));
        };
        var unbindListeners = function () {
            transport.unbind('initialized', onInitialized);
            transport.unbind('open', onOpen);
            transport.unbind('error', onError);
            transport.unbind('closed', onClosed);
        };
        transport.bind('initialized', onInitialized);
        transport.bind('open', onOpen);
        transport.bind('error', onError);
        transport.bind('closed', onClosed);
        transport.initialize();
        return {
            abort: function () {
                if (connected) {
                    return;
                }
                unbindListeners();
                if (handshake) {
                    handshake.close();
                }
                else {
                    transport.close();
                }
            },
            forceMinPriority: function (p) {
                if (connected) {
                    return;
                }
                if (_this.priority < p) {
                    if (handshake) {
                        handshake.close();
                    }
                    else {
                        transport.close();
                    }
                }
            }
        };
    };
    return TransportStrategy;
}());
/* harmony default export */ var transport_strategy = (transport_strategy_TransportStrategy);
function failAttempt(error, callback) {
    util.defer(function () {
        callback(error);
    });
    return {
        abort: function () { },
        forceMinPriority: function () { }
    };
}

// CONCATENATED MODULE: ./src/core/strategies/strategy_builder.ts





var strategy_builder_Transports = runtime.Transports;
var strategy_builder_defineTransport = function (config, name, type, priority, options, manager) {
    var transportClass = strategy_builder_Transports[type];
    if (!transportClass) {
        throw new UnsupportedTransport(type);
    }
    var enabled = (!config.enabledTransports ||
        arrayIndexOf(config.enabledTransports, name) !== -1) &&
        (!config.disabledTransports ||
            arrayIndexOf(config.disabledTransports, name) === -1);
    var transport;
    if (enabled) {
        options = Object.assign({ ignoreNullOrigin: config.ignoreNullOrigin }, options);
        transport = new transport_strategy(name, priority, manager ? manager.getAssistant(transportClass) : transportClass, options);
    }
    else {
        transport = strategy_builder_UnsupportedStrategy;
    }
    return transport;
};
var strategy_builder_UnsupportedStrategy = {
    isSupported: function () {
        return false;
    },
    connect: function (_, callback) {
        var deferred = util.defer(function () {
            callback(new UnsupportedStrategy());
        });
        return {
            abort: function () {
                deferred.ensureAborted();
            },
            forceMinPriority: function () { }
        };
    }
};

// CONCATENATED MODULE: ./src/core/auth/user_authenticator.ts


var composeChannelQuery = function (params, authOptions) {
    var query = 'socket_id=' + encodeURIComponent(params.socketId);
    for (var key in authOptions.params) {
        query +=
            '&' +
                encodeURIComponent(key) +
                '=' +
                encodeURIComponent(authOptions.params[key]);
    }
    if (authOptions.paramsProvider != null) {
        var dynamicParams = authOptions.paramsProvider();
        for (var key in dynamicParams) {
            query +=
                '&' +
                    encodeURIComponent(key) +
                    '=' +
                    encodeURIComponent(dynamicParams[key]);
        }
    }
    return query;
};
var UserAuthenticator = function (authOptions) {
    if (typeof runtime.getAuthorizers()[authOptions.transport] === 'undefined') {
        throw "'" + authOptions.transport + "' is not a recognized auth transport";
    }
    return function (params, callback) {
        var query = composeChannelQuery(params, authOptions);
        runtime.getAuthorizers()[authOptions.transport](runtime, query, authOptions, AuthRequestType.UserAuthentication, callback);
    };
};
/* harmony default export */ var user_authenticator = (UserAuthenticator);

// CONCATENATED MODULE: ./src/core/auth/channel_authorizer.ts


var channel_authorizer_composeChannelQuery = function (params, authOptions) {
    var query = 'socket_id=' + encodeURIComponent(params.socketId);
    query += '&channel_name=' + encodeURIComponent(params.channelName);
    for (var key in authOptions.params) {
        query +=
            '&' +
                encodeURIComponent(key) +
                '=' +
                encodeURIComponent(authOptions.params[key]);
    }
    if (authOptions.paramsProvider != null) {
        var dynamicParams = authOptions.paramsProvider();
        for (var key in dynamicParams) {
            query +=
                '&' +
                    encodeURIComponent(key) +
                    '=' +
                    encodeURIComponent(dynamicParams[key]);
        }
    }
    return query;
};
var ChannelAuthorizer = function (authOptions) {
    if (typeof runtime.getAuthorizers()[authOptions.transport] === 'undefined') {
        throw "'" + authOptions.transport + "' is not a recognized auth transport";
    }
    return function (params, callback) {
        var query = channel_authorizer_composeChannelQuery(params, authOptions);
        runtime.getAuthorizers()[authOptions.transport](runtime, query, authOptions, AuthRequestType.ChannelAuthorization, callback);
    };
};
/* harmony default export */ var channel_authorizer = (ChannelAuthorizer);

// CONCATENATED MODULE: ./src/core/auth/deprecated_channel_authorizer.ts
var ChannelAuthorizerProxy = function (pusher, authOptions, channelAuthorizerGenerator) {
    var deprecatedAuthorizerOptions = {
        authTransport: authOptions.transport,
        authEndpoint: authOptions.endpoint,
        auth: {
            params: authOptions.params,
            headers: authOptions.headers
        }
    };
    return function (params, callback) {
        var channel = pusher.channel(params.channelName);
        var channelAuthorizer = channelAuthorizerGenerator(channel, deprecatedAuthorizerOptions);
        channelAuthorizer.authorize(params.socketId, callback);
    };
};

// CONCATENATED MODULE: ./src/core/config.ts
var __assign = ( false) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};





function getConfig(opts, pusher) {
    var config = {
        activityTimeout: opts.activityTimeout || defaults.activityTimeout,
        cluster: opts.cluster || defaults.cluster,
        httpPath: opts.httpPath || defaults.httpPath,
        httpPort: opts.httpPort || defaults.httpPort,
        httpsPort: opts.httpsPort || defaults.httpsPort,
        pongTimeout: opts.pongTimeout || defaults.pongTimeout,
        statsHost: opts.statsHost || defaults.stats_host,
        unavailableTimeout: opts.unavailableTimeout || defaults.unavailableTimeout,
        wsPath: opts.wsPath || defaults.wsPath,
        wsPort: opts.wsPort || defaults.wsPort,
        wssPort: opts.wssPort || defaults.wssPort,
        enableStats: getEnableStatsConfig(opts),
        httpHost: getHttpHost(opts),
        useTLS: shouldUseTLS(opts),
        wsHost: getWebsocketHost(opts),
        userAuthenticator: buildUserAuthenticator(opts),
        channelAuthorizer: buildChannelAuthorizer(opts, pusher)
    };
    if ('disabledTransports' in opts)
        config.disabledTransports = opts.disabledTransports;
    if ('enabledTransports' in opts)
        config.enabledTransports = opts.enabledTransports;
    if ('ignoreNullOrigin' in opts)
        config.ignoreNullOrigin = opts.ignoreNullOrigin;
    if ('timelineParams' in opts)
        config.timelineParams = opts.timelineParams;
    if ('nacl' in opts) {
        config.nacl = opts.nacl;
    }
    return config;
}
function getHttpHost(opts) {
    if (opts.httpHost) {
        return opts.httpHost;
    }
    if (opts.cluster) {
        return "sockjs-" + opts.cluster + ".pusher.com";
    }
    return defaults.httpHost;
}
function getWebsocketHost(opts) {
    if (opts.wsHost) {
        return opts.wsHost;
    }
    if (opts.cluster) {
        return getWebsocketHostFromCluster(opts.cluster);
    }
    return getWebsocketHostFromCluster(defaults.cluster);
}
function getWebsocketHostFromCluster(cluster) {
    return "ws-" + cluster + ".pusher.com";
}
function shouldUseTLS(opts) {
    if (runtime.getProtocol() === 'https:') {
        return true;
    }
    else if (opts.forceTLS === false) {
        return false;
    }
    return true;
}
function getEnableStatsConfig(opts) {
    if ('enableStats' in opts) {
        return opts.enableStats;
    }
    if ('disableStats' in opts) {
        return !opts.disableStats;
    }
    return false;
}
function buildUserAuthenticator(opts) {
    var userAuthentication = __assign(__assign({}, defaults.userAuthentication), opts.userAuthentication);
    if ('customHandler' in userAuthentication &&
        userAuthentication['customHandler'] != null) {
        return userAuthentication['customHandler'];
    }
    return user_authenticator(userAuthentication);
}
function buildChannelAuth(opts, pusher) {
    var channelAuthorization;
    if ('channelAuthorization' in opts) {
        channelAuthorization = __assign(__assign({}, defaults.channelAuthorization), opts.channelAuthorization);
    }
    else {
        channelAuthorization = {
            transport: opts.authTransport || defaults.authTransport,
            endpoint: opts.authEndpoint || defaults.authEndpoint
        };
        if ('auth' in opts) {
            if ('params' in opts.auth)
                channelAuthorization.params = opts.auth.params;
            if ('headers' in opts.auth)
                channelAuthorization.headers = opts.auth.headers;
        }
        if ('authorizer' in opts)
            channelAuthorization.customHandler = ChannelAuthorizerProxy(pusher, channelAuthorization, opts.authorizer);
    }
    return channelAuthorization;
}
function buildChannelAuthorizer(opts, pusher) {
    var channelAuthorization = buildChannelAuth(opts, pusher);
    if ('customHandler' in channelAuthorization &&
        channelAuthorization['customHandler'] != null) {
        return channelAuthorization['customHandler'];
    }
    return channel_authorizer(channelAuthorization);
}

// CONCATENATED MODULE: ./src/core/watchlist.ts
var watchlist_extends = ( false) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var watchlist_WatchlistFacade = (function (_super) {
    watchlist_extends(WatchlistFacade, _super);
    function WatchlistFacade(pusher) {
        var _this = _super.call(this, function (eventName, data) {
            logger.debug("No callbacks on watchlist events for " + eventName);
        }) || this;
        _this.pusher = pusher;
        _this.bindWatchlistInternalEvent();
        return _this;
    }
    WatchlistFacade.prototype.handleEvent = function (pusherEvent) {
        var _this = this;
        pusherEvent.data.events.forEach(function (watchlistEvent) {
            _this.emit(watchlistEvent.name, watchlistEvent);
        });
    };
    WatchlistFacade.prototype.bindWatchlistInternalEvent = function () {
        var _this = this;
        this.pusher.connection.bind('message', function (pusherEvent) {
            var eventName = pusherEvent.event;
            if (eventName === 'pusher_internal:watchlist_events') {
                _this.handleEvent(pusherEvent);
            }
        });
    };
    return WatchlistFacade;
}(dispatcher));
/* harmony default export */ var watchlist = (watchlist_WatchlistFacade);

// CONCATENATED MODULE: ./src/core/utils/flat_promise.ts
function flatPromise() {
    var resolve, reject;
    var promise = new Promise(function (res, rej) {
        resolve = res;
        reject = rej;
    });
    return { promise: promise, resolve: resolve, reject: reject };
}
/* harmony default export */ var flat_promise = (flatPromise);

// CONCATENATED MODULE: ./src/core/user.ts
var user_extends = ( false) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var user_UserFacade = (function (_super) {
    user_extends(UserFacade, _super);
    function UserFacade(pusher) {
        var _this = _super.call(this, function (eventName, data) {
            logger.debug('No callbacks on user for ' + eventName);
        }) || this;
        _this.signin_requested = false;
        _this.user_data = null;
        _this.serverToUserChannel = null;
        _this.signinDonePromise = null;
        _this._signinDoneResolve = null;
        _this._onAuthorize = function (err, authData) {
            if (err) {
                logger.warn("Error during signin: " + err);
                _this._cleanup();
                return;
            }
            _this.pusher.send_event('pusher:signin', {
                auth: authData.auth,
                user_data: authData.user_data
            });
        };
        _this.pusher = pusher;
        _this.pusher.connection.bind('state_change', function (_a) {
            var previous = _a.previous, current = _a.current;
            if (previous !== 'connected' && current === 'connected') {
                _this._signin();
            }
            if (previous === 'connected' && current !== 'connected') {
                _this._cleanup();
                _this._newSigninPromiseIfNeeded();
            }
        });
        _this.watchlist = new watchlist(pusher);
        _this.pusher.connection.bind('message', function (event) {
            var eventName = event.event;
            if (eventName === 'pusher:signin_success') {
                _this._onSigninSuccess(event.data);
            }
            if (_this.serverToUserChannel &&
                _this.serverToUserChannel.name === event.channel) {
                _this.serverToUserChannel.handleEvent(event);
            }
        });
        return _this;
    }
    UserFacade.prototype.signin = function () {
        if (this.signin_requested) {
            return;
        }
        this.signin_requested = true;
        this._signin();
    };
    UserFacade.prototype._signin = function () {
        if (!this.signin_requested) {
            return;
        }
        this._newSigninPromiseIfNeeded();
        if (this.pusher.connection.state !== 'connected') {
            return;
        }
        this.pusher.config.userAuthenticator({
            socketId: this.pusher.connection.socket_id
        }, this._onAuthorize);
    };
    UserFacade.prototype._onSigninSuccess = function (data) {
        try {
            this.user_data = JSON.parse(data.user_data);
        }
        catch (e) {
            logger.error("Failed parsing user data after signin: " + data.user_data);
            this._cleanup();
            return;
        }
        if (typeof this.user_data.id !== 'string' || this.user_data.id === '') {
            logger.error("user_data doesn't contain an id. user_data: " + this.user_data);
            this._cleanup();
            return;
        }
        this._signinDoneResolve();
        this._subscribeChannels();
    };
    UserFacade.prototype._subscribeChannels = function () {
        var _this = this;
        var ensure_subscribed = function (channel) {
            if (channel.subscriptionPending && channel.subscriptionCancelled) {
                channel.reinstateSubscription();
            }
            else if (!channel.subscriptionPending &&
                _this.pusher.connection.state === 'connected') {
                channel.subscribe();
            }
        };
        this.serverToUserChannel = new channels_channel("#server-to-user-" + this.user_data.id, this.pusher);
        this.serverToUserChannel.bind_global(function (eventName, data) {
            if (eventName.indexOf('pusher_internal:') === 0 ||
                eventName.indexOf('pusher:') === 0) {
                return;
            }
            _this.emit(eventName, data);
        });
        ensure_subscribed(this.serverToUserChannel);
    };
    UserFacade.prototype._cleanup = function () {
        this.user_data = null;
        if (this.serverToUserChannel) {
            this.serverToUserChannel.unbind_all();
            this.serverToUserChannel.disconnect();
            this.serverToUserChannel = null;
        }
        if (this.signin_requested) {
            this._signinDoneResolve();
        }
    };
    UserFacade.prototype._newSigninPromiseIfNeeded = function () {
        if (!this.signin_requested) {
            return;
        }
        if (this.signinDonePromise && !this.signinDonePromise.done) {
            return;
        }
        var _a = flat_promise(), promise = _a.promise, resolve = _a.resolve, _ = _a.reject;
        promise.done = false;
        var setDone = function () {
            promise.done = true;
        };
        promise.then(setDone)["catch"](setDone);
        this.signinDonePromise = promise;
        this._signinDoneResolve = resolve;
    };
    return UserFacade;
}(dispatcher));
/* harmony default export */ var user = (user_UserFacade);

// CONCATENATED MODULE: ./src/core/pusher.ts













var pusher_Pusher = (function () {
    function Pusher(app_key, options) {
        var _this = this;
        checkAppKey(app_key);
        options = options || {};
        if (!options.cluster && !(options.wsHost || options.httpHost)) {
            var suffix = url_store.buildLogSuffix('javascriptQuickStart');
            logger.warn("You should always specify a cluster when connecting. " + suffix);
        }
        if ('disableStats' in options) {
            logger.warn('The disableStats option is deprecated in favor of enableStats');
        }
        this.key = app_key;
        this.config = getConfig(options, this);
        this.channels = factory.createChannels();
        this.global_emitter = new dispatcher();
        this.sessionID = runtime.randomInt(1000000000);
        this.timeline = new timeline_timeline(this.key, this.sessionID, {
            cluster: this.config.cluster,
            features: Pusher.getClientFeatures(),
            params: this.config.timelineParams || {},
            limit: 50,
            level: timeline_level.INFO,
            version: defaults.VERSION
        });
        if (this.config.enableStats) {
            this.timelineSender = factory.createTimelineSender(this.timeline, {
                host: this.config.statsHost,
                path: '/timeline/v2/' + runtime.TimelineTransport.name
            });
        }
        var getStrategy = function (options) {
            return runtime.getDefaultStrategy(_this.config, options, strategy_builder_defineTransport);
        };
        this.connection = factory.createConnectionManager(this.key, {
            getStrategy: getStrategy,
            timeline: this.timeline,
            activityTimeout: this.config.activityTimeout,
            pongTimeout: this.config.pongTimeout,
            unavailableTimeout: this.config.unavailableTimeout,
            useTLS: Boolean(this.config.useTLS)
        });
        this.connection.bind('connected', function () {
            _this.subscribeAll();
            if (_this.timelineSender) {
                _this.timelineSender.send(_this.connection.isUsingTLS());
            }
        });
        this.connection.bind('message', function (event) {
            var eventName = event.event;
            var internal = eventName.indexOf('pusher_internal:') === 0;
            if (event.channel) {
                var channel = _this.channel(event.channel);
                if (channel) {
                    channel.handleEvent(event);
                }
            }
            if (!internal) {
                _this.global_emitter.emit(event.event, event.data);
            }
        });
        this.connection.bind('connecting', function () {
            _this.channels.disconnect();
        });
        this.connection.bind('disconnected', function () {
            _this.channels.disconnect();
        });
        this.connection.bind('error', function (err) {
            logger.warn(err);
        });
        Pusher.instances.push(this);
        this.timeline.info({ instances: Pusher.instances.length });
        this.user = new user(this);
        if (Pusher.isReady) {
            this.connect();
        }
    }
    Pusher.ready = function () {
        Pusher.isReady = true;
        for (var i = 0, l = Pusher.instances.length; i < l; i++) {
            Pusher.instances[i].connect();
        }
    };
    Pusher.getClientFeatures = function () {
        return keys(filterObject({ ws: runtime.Transports.ws }, function (t) {
            return t.isSupported({});
        }));
    };
    Pusher.prototype.channel = function (name) {
        return this.channels.find(name);
    };
    Pusher.prototype.allChannels = function () {
        return this.channels.all();
    };
    Pusher.prototype.connect = function () {
        this.connection.connect();
        if (this.timelineSender) {
            if (!this.timelineSenderTimer) {
                var usingTLS = this.connection.isUsingTLS();
                var timelineSender = this.timelineSender;
                this.timelineSenderTimer = new PeriodicTimer(60000, function () {
                    timelineSender.send(usingTLS);
                });
            }
        }
    };
    Pusher.prototype.disconnect = function () {
        this.connection.disconnect();
        if (this.timelineSenderTimer) {
            this.timelineSenderTimer.ensureAborted();
            this.timelineSenderTimer = null;
        }
    };
    Pusher.prototype.bind = function (event_name, callback, context) {
        this.global_emitter.bind(event_name, callback, context);
        return this;
    };
    Pusher.prototype.unbind = function (event_name, callback, context) {
        this.global_emitter.unbind(event_name, callback, context);
        return this;
    };
    Pusher.prototype.bind_global = function (callback) {
        this.global_emitter.bind_global(callback);
        return this;
    };
    Pusher.prototype.unbind_global = function (callback) {
        this.global_emitter.unbind_global(callback);
        return this;
    };
    Pusher.prototype.unbind_all = function (callback) {
        this.global_emitter.unbind_all();
        return this;
    };
    Pusher.prototype.subscribeAll = function () {
        var channelName;
        for (channelName in this.channels.channels) {
            if (this.channels.channels.hasOwnProperty(channelName)) {
                this.subscribe(channelName);
            }
        }
    };
    Pusher.prototype.subscribe = function (channel_name) {
        var channel = this.channels.add(channel_name, this);
        if (channel.subscriptionPending && channel.subscriptionCancelled) {
            channel.reinstateSubscription();
        }
        else if (!channel.subscriptionPending &&
            this.connection.state === 'connected') {
            channel.subscribe();
        }
        return channel;
    };
    Pusher.prototype.unsubscribe = function (channel_name) {
        var channel = this.channels.find(channel_name);
        if (channel && channel.subscriptionPending) {
            channel.cancelSubscription();
        }
        else {
            channel = this.channels.remove(channel_name);
            if (channel && channel.subscribed) {
                channel.unsubscribe();
            }
        }
    };
    Pusher.prototype.send_event = function (event_name, data, channel) {
        return this.connection.send_event(event_name, data, channel);
    };
    Pusher.prototype.shouldUseTLS = function () {
        return this.config.useTLS;
    };
    Pusher.prototype.signin = function () {
        this.user.signin();
    };
    Pusher.instances = [];
    Pusher.isReady = false;
    Pusher.logToConsole = false;
    Pusher.Runtime = runtime;
    Pusher.ScriptReceivers = runtime.ScriptReceivers;
    Pusher.DependenciesReceivers = runtime.DependenciesReceivers;
    Pusher.auth_callbacks = runtime.auth_callbacks;
    return Pusher;
}());
/* harmony default export */ var core_pusher = __nested_webpack_exports__["default"] = (pusher_Pusher);
function checkAppKey(key) {
    if (key === null || key === undefined) {
        throw 'You must pass your app key when you instantiate Pusher.';
    }
}
runtime.setup(pusher_Pusher);


/***/ })
/******/ ]);
});
//# sourceMappingURL=pusher.js.map

/***/ }),

/***/ "./node_modules/sortablejs/modular/sortable.esm.js":
/*!*********************************************************!*\
  !*** ./node_modules/sortablejs/modular/sortable.esm.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MultiDrag: () => (/* binding */ MultiDragPlugin),
/* harmony export */   Sortable: () => (/* binding */ Sortable),
/* harmony export */   Swap: () => (/* binding */ SwapPlugin),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);

  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);

    if (enumerableOnly) {
      symbols = symbols.filter(function (sym) {
        return Object.getOwnPropertyDescriptor(object, sym).enumerable;
      });
    }

    keys.push.apply(keys, symbols);
  }

  return keys;
}

function _objectSpread2(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};

    if (i % 2) {
      ownKeys(Object(source), true).forEach(function (key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(Object(source)).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }

  return target;
}

function _typeof(obj) {
  "@babel/helpers - typeof";

  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
    _typeof = function (obj) {
      return typeof obj;
    };
  } else {
    _typeof = function (obj) {
      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
  }

  return _typeof(obj);
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};

  var target = _objectWithoutPropertiesLoose(source, excluded);

  var key, i;

  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }

  return target;
}

function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}

function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}

function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];

  return arr2;
}

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

var version = "1.15.0";

function userAgent(pattern) {
  if (typeof window !== 'undefined' && window.navigator) {
    return !! /*@__PURE__*/navigator.userAgent.match(pattern);
  }
}

var IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i);
var Edge = userAgent(/Edge/i);
var FireFox = userAgent(/firefox/i);
var Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);
var IOS = userAgent(/iP(ad|od|hone)/i);
var ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);

var captureMode = {
  capture: false,
  passive: false
};

function on(el, event, fn) {
  el.addEventListener(event, fn, !IE11OrLess && captureMode);
}

function off(el, event, fn) {
  el.removeEventListener(event, fn, !IE11OrLess && captureMode);
}

function matches(
/**HTMLElement*/
el,
/**String*/
selector) {
  if (!selector) return;
  selector[0] === '>' && (selector = selector.substring(1));

  if (el) {
    try {
      if (el.matches) {
        return el.matches(selector);
      } else if (el.msMatchesSelector) {
        return el.msMatchesSelector(selector);
      } else if (el.webkitMatchesSelector) {
        return el.webkitMatchesSelector(selector);
      }
    } catch (_) {
      return false;
    }
  }

  return false;
}

function getParentOrHost(el) {
  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;
}

function closest(
/**HTMLElement*/
el,
/**String*/
selector,
/**HTMLElement*/
ctx, includeCTX) {
  if (el) {
    ctx = ctx || document;

    do {
      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {
        return el;
      }

      if (el === ctx) break;
      /* jshint boss:true */
    } while (el = getParentOrHost(el));
  }

  return null;
}

var R_SPACE = /\s+/g;

function toggleClass(el, name, state) {
  if (el && name) {
    if (el.classList) {
      el.classList[state ? 'add' : 'remove'](name);
    } else {
      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');
      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');
    }
  }
}

function css(el, prop, val) {
  var style = el && el.style;

  if (style) {
    if (val === void 0) {
      if (document.defaultView && document.defaultView.getComputedStyle) {
        val = document.defaultView.getComputedStyle(el, '');
      } else if (el.currentStyle) {
        val = el.currentStyle;
      }

      return prop === void 0 ? val : val[prop];
    } else {
      if (!(prop in style) && prop.indexOf('webkit') === -1) {
        prop = '-webkit-' + prop;
      }

      style[prop] = val + (typeof val === 'string' ? '' : 'px');
    }
  }
}

function matrix(el, selfOnly) {
  var appliedTransforms = '';

  if (typeof el === 'string') {
    appliedTransforms = el;
  } else {
    do {
      var transform = css(el, 'transform');

      if (transform && transform !== 'none') {
        appliedTransforms = transform + ' ' + appliedTransforms;
      }
      /* jshint boss:true */

    } while (!selfOnly && (el = el.parentNode));
  }

  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;
  /*jshint -W056 */

  return matrixFn && new matrixFn(appliedTransforms);
}

function find(ctx, tagName, iterator) {
  if (ctx) {
    var list = ctx.getElementsByTagName(tagName),
        i = 0,
        n = list.length;

    if (iterator) {
      for (; i < n; i++) {
        iterator(list[i], i);
      }
    }

    return list;
  }

  return [];
}

function getWindowScrollingElement() {
  var scrollingElement = document.scrollingElement;

  if (scrollingElement) {
    return scrollingElement;
  } else {
    return document.documentElement;
  }
}
/**
 * Returns the "bounding client rect" of given element
 * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted
 * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container
 * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr
 * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone
 * @param  {[HTMLElement]} container              The parent the element will be placed in
 * @return {Object}                               The boundingClientRect of el, with specified adjustments
 */


function getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {
  if (!el.getBoundingClientRect && el !== window) return;
  var elRect, top, left, bottom, right, height, width;

  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {
    elRect = el.getBoundingClientRect();
    top = elRect.top;
    left = elRect.left;
    bottom = elRect.bottom;
    right = elRect.right;
    height = elRect.height;
    width = elRect.width;
  } else {
    top = 0;
    left = 0;
    bottom = window.innerHeight;
    right = window.innerWidth;
    height = window.innerHeight;
    width = window.innerWidth;
  }

  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {
    // Adjust for translate()
    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)
    // Not needed on <= IE11

    if (!IE11OrLess) {
      do {
        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {
          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container

          top -= containerRect.top + parseInt(css(container, 'border-top-width'));
          left -= containerRect.left + parseInt(css(container, 'border-left-width'));
          bottom = top + elRect.height;
          right = left + elRect.width;
          break;
        }
        /* jshint boss:true */

      } while (container = container.parentNode);
    }
  }

  if (undoScale && el !== window) {
    // Adjust for scale()
    var elMatrix = matrix(container || el),
        scaleX = elMatrix && elMatrix.a,
        scaleY = elMatrix && elMatrix.d;

    if (elMatrix) {
      top /= scaleY;
      left /= scaleX;
      width /= scaleX;
      height /= scaleY;
      bottom = top + height;
      right = left + width;
    }
  }

  return {
    top: top,
    left: left,
    bottom: bottom,
    right: right,
    width: width,
    height: height
  };
}
/**
 * Checks if a side of an element is scrolled past a side of its parents
 * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question
 * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')
 * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')
 * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element
 */


function isScrolledPast(el, elSide, parentSide) {
  var parent = getParentAutoScrollElement(el, true),
      elSideVal = getRect(el)[elSide];
  /* jshint boss:true */

  while (parent) {
    var parentSideVal = getRect(parent)[parentSide],
        visible = void 0;

    if (parentSide === 'top' || parentSide === 'left') {
      visible = elSideVal >= parentSideVal;
    } else {
      visible = elSideVal <= parentSideVal;
    }

    if (!visible) return parent;
    if (parent === getWindowScrollingElement()) break;
    parent = getParentAutoScrollElement(parent, false);
  }

  return false;
}
/**
 * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)
 * and non-draggable elements
 * @param  {HTMLElement} el       The parent element
 * @param  {Number} childNum      The index of the child
 * @param  {Object} options       Parent Sortable's options
 * @return {HTMLElement}          The child at index childNum, or null if not found
 */


function getChild(el, childNum, options, includeDragEl) {
  var currentChild = 0,
      i = 0,
      children = el.children;

  while (i < children.length) {
    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && (includeDragEl || children[i] !== Sortable.dragged) && closest(children[i], options.draggable, el, false)) {
      if (currentChild === childNum) {
        return children[i];
      }

      currentChild++;
    }

    i++;
  }

  return null;
}
/**
 * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)
 * @param  {HTMLElement} el       Parent element
 * @param  {selector} selector    Any other elements that should be ignored
 * @return {HTMLElement}          The last child, ignoring ghostEl
 */


function lastChild(el, selector) {
  var last = el.lastElementChild;

  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {
    last = last.previousElementSibling;
  }

  return last || null;
}
/**
 * Returns the index of an element within its parent for a selected set of
 * elements
 * @param  {HTMLElement} el
 * @param  {selector} selector
 * @return {number}
 */


function index(el, selector) {
  var index = 0;

  if (!el || !el.parentNode) {
    return -1;
  }
  /* jshint boss:true */


  while (el = el.previousElementSibling) {
    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {
      index++;
    }
  }

  return index;
}
/**
 * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.
 * The value is returned in real pixels.
 * @param  {HTMLElement} el
 * @return {Array}             Offsets in the format of [left, top]
 */


function getRelativeScrollOffset(el) {
  var offsetLeft = 0,
      offsetTop = 0,
      winScroller = getWindowScrollingElement();

  if (el) {
    do {
      var elMatrix = matrix(el),
          scaleX = elMatrix.a,
          scaleY = elMatrix.d;
      offsetLeft += el.scrollLeft * scaleX;
      offsetTop += el.scrollTop * scaleY;
    } while (el !== winScroller && (el = el.parentNode));
  }

  return [offsetLeft, offsetTop];
}
/**
 * Returns the index of the object within the given array
 * @param  {Array} arr   Array that may or may not hold the object
 * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find
 * @return {Number}      The index of the object in the array, or -1
 */


function indexOfObject(arr, obj) {
  for (var i in arr) {
    if (!arr.hasOwnProperty(i)) continue;

    for (var key in obj) {
      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);
    }
  }

  return -1;
}

function getParentAutoScrollElement(el, includeSelf) {
  // skip to window
  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();
  var elem = el;
  var gotSelf = false;

  do {
    // we don't need to get elem css if it isn't even overflowing in the first place (performance)
    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {
      var elemCSS = css(elem);

      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {
        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();
        if (gotSelf || includeSelf) return elem;
        gotSelf = true;
      }
    }
    /* jshint boss:true */

  } while (elem = elem.parentNode);

  return getWindowScrollingElement();
}

function extend(dst, src) {
  if (dst && src) {
    for (var key in src) {
      if (src.hasOwnProperty(key)) {
        dst[key] = src[key];
      }
    }
  }

  return dst;
}

function isRectEqual(rect1, rect2) {
  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);
}

var _throttleTimeout;

function throttle(callback, ms) {
  return function () {
    if (!_throttleTimeout) {
      var args = arguments,
          _this = this;

      if (args.length === 1) {
        callback.call(_this, args[0]);
      } else {
        callback.apply(_this, args);
      }

      _throttleTimeout = setTimeout(function () {
        _throttleTimeout = void 0;
      }, ms);
    }
  };
}

function cancelThrottle() {
  clearTimeout(_throttleTimeout);
  _throttleTimeout = void 0;
}

function scrollBy(el, x, y) {
  el.scrollLeft += x;
  el.scrollTop += y;
}

function clone(el) {
  var Polymer = window.Polymer;
  var $ = window.jQuery || window.Zepto;

  if (Polymer && Polymer.dom) {
    return Polymer.dom(el).cloneNode(true);
  } else if ($) {
    return $(el).clone(true)[0];
  } else {
    return el.cloneNode(true);
  }
}

function setRect(el, rect) {
  css(el, 'position', 'absolute');
  css(el, 'top', rect.top);
  css(el, 'left', rect.left);
  css(el, 'width', rect.width);
  css(el, 'height', rect.height);
}

function unsetRect(el) {
  css(el, 'position', '');
  css(el, 'top', '');
  css(el, 'left', '');
  css(el, 'width', '');
  css(el, 'height', '');
}

var expando = 'Sortable' + new Date().getTime();

function AnimationStateManager() {
  var animationStates = [],
      animationCallbackId;
  return {
    captureAnimationState: function captureAnimationState() {
      animationStates = [];
      if (!this.options.animation) return;
      var children = [].slice.call(this.el.children);
      children.forEach(function (child) {
        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;
        animationStates.push({
          target: child,
          rect: getRect(child)
        });

        var fromRect = _objectSpread2({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation


        if (child.thisAnimationDuration) {
          var childMatrix = matrix(child, true);

          if (childMatrix) {
            fromRect.top -= childMatrix.f;
            fromRect.left -= childMatrix.e;
          }
        }

        child.fromRect = fromRect;
      });
    },
    addAnimationState: function addAnimationState(state) {
      animationStates.push(state);
    },
    removeAnimationState: function removeAnimationState(target) {
      animationStates.splice(indexOfObject(animationStates, {
        target: target
      }), 1);
    },
    animateAll: function animateAll(callback) {
      var _this = this;

      if (!this.options.animation) {
        clearTimeout(animationCallbackId);
        if (typeof callback === 'function') callback();
        return;
      }

      var animating = false,
          animationTime = 0;
      animationStates.forEach(function (state) {
        var time = 0,
            target = state.target,
            fromRect = target.fromRect,
            toRect = getRect(target),
            prevFromRect = target.prevFromRect,
            prevToRect = target.prevToRect,
            animatingRect = state.rect,
            targetMatrix = matrix(target, true);

        if (targetMatrix) {
          // Compensate for current animation
          toRect.top -= targetMatrix.f;
          toRect.left -= targetMatrix.e;
        }

        target.toRect = toRect;

        if (target.thisAnimationDuration) {
          // Could also check if animatingRect is between fromRect and toRect
          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect
          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {
            // If returning to same place as started from animation and on same axis
            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);
          }
        } // if fromRect != toRect: animate


        if (!isRectEqual(toRect, fromRect)) {
          target.prevFromRect = fromRect;
          target.prevToRect = toRect;

          if (!time) {
            time = _this.options.animation;
          }

          _this.animate(target, animatingRect, toRect, time);
        }

        if (time) {
          animating = true;
          animationTime = Math.max(animationTime, time);
          clearTimeout(target.animationResetTimer);
          target.animationResetTimer = setTimeout(function () {
            target.animationTime = 0;
            target.prevFromRect = null;
            target.fromRect = null;
            target.prevToRect = null;
            target.thisAnimationDuration = null;
          }, time);
          target.thisAnimationDuration = time;
        }
      });
      clearTimeout(animationCallbackId);

      if (!animating) {
        if (typeof callback === 'function') callback();
      } else {
        animationCallbackId = setTimeout(function () {
          if (typeof callback === 'function') callback();
        }, animationTime);
      }

      animationStates = [];
    },
    animate: function animate(target, currentRect, toRect, duration) {
      if (duration) {
        css(target, 'transition', '');
        css(target, 'transform', '');
        var elMatrix = matrix(this.el),
            scaleX = elMatrix && elMatrix.a,
            scaleY = elMatrix && elMatrix.d,
            translateX = (currentRect.left - toRect.left) / (scaleX || 1),
            translateY = (currentRect.top - toRect.top) / (scaleY || 1);
        target.animatingX = !!translateX;
        target.animatingY = !!translateY;
        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');
        this.forRepaintDummy = repaint(target); // repaint

        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));
        css(target, 'transform', 'translate3d(0,0,0)');
        typeof target.animated === 'number' && clearTimeout(target.animated);
        target.animated = setTimeout(function () {
          css(target, 'transition', '');
          css(target, 'transform', '');
          target.animated = false;
          target.animatingX = false;
          target.animatingY = false;
        }, duration);
      }
    }
  };
}

function repaint(target) {
  return target.offsetWidth;
}

function calculateRealTime(animatingRect, fromRect, toRect, options) {
  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;
}

var plugins = [];
var defaults = {
  initializeByDefault: true
};
var PluginManager = {
  mount: function mount(plugin) {
    // Set default static properties
    for (var option in defaults) {
      if (defaults.hasOwnProperty(option) && !(option in plugin)) {
        plugin[option] = defaults[option];
      }
    }

    plugins.forEach(function (p) {
      if (p.pluginName === plugin.pluginName) {
        throw "Sortable: Cannot mount plugin ".concat(plugin.pluginName, " more than once");
      }
    });
    plugins.push(plugin);
  },
  pluginEvent: function pluginEvent(eventName, sortable, evt) {
    var _this = this;

    this.eventCanceled = false;

    evt.cancel = function () {
      _this.eventCanceled = true;
    };

    var eventNameGlobal = eventName + 'Global';
    plugins.forEach(function (plugin) {
      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable

      if (sortable[plugin.pluginName][eventNameGlobal]) {
        sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({
          sortable: sortable
        }, evt));
      } // Only fire plugin event if plugin is enabled in this sortable,
      // and plugin has event defined


      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {
        sortable[plugin.pluginName][eventName](_objectSpread2({
          sortable: sortable
        }, evt));
      }
    });
  },
  initializePlugins: function initializePlugins(sortable, el, defaults, options) {
    plugins.forEach(function (plugin) {
      var pluginName = plugin.pluginName;
      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;
      var initialized = new plugin(sortable, el, sortable.options);
      initialized.sortable = sortable;
      initialized.options = sortable.options;
      sortable[pluginName] = initialized; // Add default options from plugin

      _extends(defaults, initialized.defaults);
    });

    for (var option in sortable.options) {
      if (!sortable.options.hasOwnProperty(option)) continue;
      var modified = this.modifyOption(sortable, option, sortable.options[option]);

      if (typeof modified !== 'undefined') {
        sortable.options[option] = modified;
      }
    }
  },
  getEventProperties: function getEventProperties(name, sortable) {
    var eventProperties = {};
    plugins.forEach(function (plugin) {
      if (typeof plugin.eventProperties !== 'function') return;

      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));
    });
    return eventProperties;
  },
  modifyOption: function modifyOption(sortable, name, value) {
    var modifiedValue;
    plugins.forEach(function (plugin) {
      // Plugin must exist on the Sortable
      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin

      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {
        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);
      }
    });
    return modifiedValue;
  }
};

function dispatchEvent(_ref) {
  var sortable = _ref.sortable,
      rootEl = _ref.rootEl,
      name = _ref.name,
      targetEl = _ref.targetEl,
      cloneEl = _ref.cloneEl,
      toEl = _ref.toEl,
      fromEl = _ref.fromEl,
      oldIndex = _ref.oldIndex,
      newIndex = _ref.newIndex,
      oldDraggableIndex = _ref.oldDraggableIndex,
      newDraggableIndex = _ref.newDraggableIndex,
      originalEvent = _ref.originalEvent,
      putSortable = _ref.putSortable,
      extraEventProperties = _ref.extraEventProperties;
  sortable = sortable || rootEl && rootEl[expando];
  if (!sortable) return;
  var evt,
      options = sortable.options,
      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature

  if (window.CustomEvent && !IE11OrLess && !Edge) {
    evt = new CustomEvent(name, {
      bubbles: true,
      cancelable: true
    });
  } else {
    evt = document.createEvent('Event');
    evt.initEvent(name, true, true);
  }

  evt.to = toEl || rootEl;
  evt.from = fromEl || rootEl;
  evt.item = targetEl || rootEl;
  evt.clone = cloneEl;
  evt.oldIndex = oldIndex;
  evt.newIndex = newIndex;
  evt.oldDraggableIndex = oldDraggableIndex;
  evt.newDraggableIndex = newDraggableIndex;
  evt.originalEvent = originalEvent;
  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;

  var allEventProperties = _objectSpread2(_objectSpread2({}, extraEventProperties), PluginManager.getEventProperties(name, sortable));

  for (var option in allEventProperties) {
    evt[option] = allEventProperties[option];
  }

  if (rootEl) {
    rootEl.dispatchEvent(evt);
  }

  if (options[onName]) {
    options[onName].call(sortable, evt);
  }
}

var _excluded = ["evt"];

var pluginEvent = function pluginEvent(eventName, sortable) {
  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
      originalEvent = _ref.evt,
      data = _objectWithoutProperties(_ref, _excluded);

  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread2({
    dragEl: dragEl,
    parentEl: parentEl,
    ghostEl: ghostEl,
    rootEl: rootEl,
    nextEl: nextEl,
    lastDownEl: lastDownEl,
    cloneEl: cloneEl,
    cloneHidden: cloneHidden,
    dragStarted: moved,
    putSortable: putSortable,
    activeSortable: Sortable.active,
    originalEvent: originalEvent,
    oldIndex: oldIndex,
    oldDraggableIndex: oldDraggableIndex,
    newIndex: newIndex,
    newDraggableIndex: newDraggableIndex,
    hideGhostForTarget: _hideGhostForTarget,
    unhideGhostForTarget: _unhideGhostForTarget,
    cloneNowHidden: function cloneNowHidden() {
      cloneHidden = true;
    },
    cloneNowShown: function cloneNowShown() {
      cloneHidden = false;
    },
    dispatchSortableEvent: function dispatchSortableEvent(name) {
      _dispatchEvent({
        sortable: sortable,
        name: name,
        originalEvent: originalEvent
      });
    }
  }, data));
};

function _dispatchEvent(info) {
  dispatchEvent(_objectSpread2({
    putSortable: putSortable,
    cloneEl: cloneEl,
    targetEl: dragEl,
    rootEl: rootEl,
    oldIndex: oldIndex,
    oldDraggableIndex: oldDraggableIndex,
    newIndex: newIndex,
    newDraggableIndex: newDraggableIndex
  }, info));
}

var dragEl,
    parentEl,
    ghostEl,
    rootEl,
    nextEl,
    lastDownEl,
    cloneEl,
    cloneHidden,
    oldIndex,
    newIndex,
    oldDraggableIndex,
    newDraggableIndex,
    activeGroup,
    putSortable,
    awaitingDragStarted = false,
    ignoreNextClick = false,
    sortables = [],
    tapEvt,
    touchEvt,
    lastDx,
    lastDy,
    tapDistanceLeft,
    tapDistanceTop,
    moved,
    lastTarget,
    lastDirection,
    pastFirstInvertThresh = false,
    isCircumstantialInvert = false,
    targetMoveDistance,
    // For positioning ghost absolutely
ghostRelativeParent,
    ghostRelativeParentInitialScroll = [],
    // (left, top)
_silent = false,
    savedInputChecked = [];
/** @const */

var documentExists = typeof document !== 'undefined',
    PositionGhostAbsolutely = IOS,
    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',
    // This will not pass for IE9, because IE9 DnD only works on anchors
supportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),
    supportCssPointerEvents = function () {
  if (!documentExists) return; // false when <= IE11

  if (IE11OrLess) {
    return false;
  }

  var el = document.createElement('x');
  el.style.cssText = 'pointer-events:auto';
  return el.style.pointerEvents === 'auto';
}(),
    _detectDirection = function _detectDirection(el, options) {
  var elCSS = css(el),
      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),
      child1 = getChild(el, 0, options),
      child2 = getChild(el, 1, options),
      firstChildCSS = child1 && css(child1),
      secondChildCSS = child2 && css(child2),
      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,
      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;

  if (elCSS.display === 'flex') {
    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';
  }

  if (elCSS.display === 'grid') {
    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';
  }

  if (child1 && firstChildCSS["float"] && firstChildCSS["float"] !== 'none') {
    var touchingSideChild2 = firstChildCSS["float"] === 'left' ? 'left' : 'right';
    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';
  }

  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';
},
    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {
  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,
      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,
      dragElOppLength = vertical ? dragRect.width : dragRect.height,
      targetS1Opp = vertical ? targetRect.left : targetRect.top,
      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,
      targetOppLength = vertical ? targetRect.width : targetRect.height;
  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;
},

/**
 * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.
 * @param  {Number} x      X position
 * @param  {Number} y      Y position
 * @return {HTMLElement}   Element of the first found nearest Sortable
 */
_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {
  var ret;
  sortables.some(function (sortable) {
    var threshold = sortable[expando].options.emptyInsertThreshold;
    if (!threshold || lastChild(sortable)) return;
    var rect = getRect(sortable),
        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,
        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;

    if (insideHorizontally && insideVertically) {
      return ret = sortable;
    }
  });
  return ret;
},
    _prepareGroup = function _prepareGroup(options) {
  function toFn(value, pull) {
    return function (to, from, dragEl, evt) {
      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;

      if (value == null && (pull || sameGroup)) {
        // Default pull value
        // Default pull and put value if same group
        return true;
      } else if (value == null || value === false) {
        return false;
      } else if (pull && value === 'clone') {
        return value;
      } else if (typeof value === 'function') {
        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);
      } else {
        var otherGroup = (pull ? to : from).options.group.name;
        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;
      }
    };
  }

  var group = {};
  var originalGroup = options.group;

  if (!originalGroup || _typeof(originalGroup) != 'object') {
    originalGroup = {
      name: originalGroup
    };
  }

  group.name = originalGroup.name;
  group.checkPull = toFn(originalGroup.pull, true);
  group.checkPut = toFn(originalGroup.put);
  group.revertClone = originalGroup.revertClone;
  options.group = group;
},
    _hideGhostForTarget = function _hideGhostForTarget() {
  if (!supportCssPointerEvents && ghostEl) {
    css(ghostEl, 'display', 'none');
  }
},
    _unhideGhostForTarget = function _unhideGhostForTarget() {
  if (!supportCssPointerEvents && ghostEl) {
    css(ghostEl, 'display', '');
  }
}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position


if (documentExists && !ChromeForAndroid) {
  document.addEventListener('click', function (evt) {
    if (ignoreNextClick) {
      evt.preventDefault();
      evt.stopPropagation && evt.stopPropagation();
      evt.stopImmediatePropagation && evt.stopImmediatePropagation();
      ignoreNextClick = false;
      return false;
    }
  }, true);
}

var nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {
  if (dragEl) {
    evt = evt.touches ? evt.touches[0] : evt;

    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);

    if (nearest) {
      // Create imitation event
      var event = {};

      for (var i in evt) {
        if (evt.hasOwnProperty(i)) {
          event[i] = evt[i];
        }
      }

      event.target = event.rootEl = nearest;
      event.preventDefault = void 0;
      event.stopPropagation = void 0;

      nearest[expando]._onDragOver(event);
    }
  }
};

var _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {
  if (dragEl) {
    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);
  }
};
/**
 * @class  Sortable
 * @param  {HTMLElement}  el
 * @param  {Object}       [options]
 */


function Sortable(el, options) {
  if (!(el && el.nodeType && el.nodeType === 1)) {
    throw "Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(el));
  }

  this.el = el; // root element

  this.options = options = _extends({}, options); // Export instance

  el[expando] = this;
  var defaults = {
    group: null,
    sort: true,
    disabled: false,
    store: null,
    handle: null,
    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',
    swapThreshold: 1,
    // percentage; 0 <= x <= 1
    invertSwap: false,
    // invert always
    invertedSwapThreshold: null,
    // will be set to same as swapThreshold if default
    removeCloneOnHide: true,
    direction: function direction() {
      return _detectDirection(el, this.options);
    },
    ghostClass: 'sortable-ghost',
    chosenClass: 'sortable-chosen',
    dragClass: 'sortable-drag',
    ignore: 'a, img',
    filter: null,
    preventOnFilter: true,
    animation: 0,
    easing: null,
    setData: function setData(dataTransfer, dragEl) {
      dataTransfer.setData('Text', dragEl.textContent);
    },
    dropBubble: false,
    dragoverBubble: false,
    dataIdAttr: 'data-id',
    delay: 0,
    delayOnTouchOnly: false,
    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,
    forceFallback: false,
    fallbackClass: 'sortable-fallback',
    fallbackOnBody: false,
    fallbackTolerance: 0,
    fallbackOffset: {
      x: 0,
      y: 0
    },
    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,
    emptyInsertThreshold: 5
  };
  PluginManager.initializePlugins(this, el, defaults); // Set default options

  for (var name in defaults) {
    !(name in options) && (options[name] = defaults[name]);
  }

  _prepareGroup(options); // Bind all private methods


  for (var fn in this) {
    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {
      this[fn] = this[fn].bind(this);
    }
  } // Setup drag mode


  this.nativeDraggable = options.forceFallback ? false : supportDraggable;

  if (this.nativeDraggable) {
    // Touch start threshold cannot be greater than the native dragstart threshold
    this.options.touchStartThreshold = 1;
  } // Bind events


  if (options.supportPointer) {
    on(el, 'pointerdown', this._onTapStart);
  } else {
    on(el, 'mousedown', this._onTapStart);
    on(el, 'touchstart', this._onTapStart);
  }

  if (this.nativeDraggable) {
    on(el, 'dragover', this);
    on(el, 'dragenter', this);
  }

  sortables.push(this.el); // Restore sorting

  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager

  _extends(this, AnimationStateManager());
}

Sortable.prototype =
/** @lends Sortable.prototype */
{
  constructor: Sortable,
  _isOutsideThisEl: function _isOutsideThisEl(target) {
    if (!this.el.contains(target) && target !== this.el) {
      lastTarget = null;
    }
  },
  _getDirection: function _getDirection(evt, target) {
    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;
  },
  _onTapStart: function _onTapStart(
  /** Event|TouchEvent */
  evt) {
    if (!evt.cancelable) return;

    var _this = this,
        el = this.el,
        options = this.options,
        preventOnFilter = options.preventOnFilter,
        type = evt.type,
        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,
        target = (touch || evt).target,
        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,
        filter = options.filter;

    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.


    if (dragEl) {
      return;
    }

    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {
      return; // only left button and enabled
    } // cancel dnd if original target is content editable


    if (originalTarget.isContentEditable) {
      return;
    } // Safari ignores further event handling after mousedown


    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {
      return;
    }

    target = closest(target, options.draggable, el, false);

    if (target && target.animated) {
      return;
    }

    if (lastDownEl === target) {
      // Ignoring duplicate `down`
      return;
    } // Get the index of the dragged element within its parent


    oldIndex = index(target);
    oldDraggableIndex = index(target, options.draggable); // Check filter

    if (typeof filter === 'function') {
      if (filter.call(this, evt, target, this)) {
        _dispatchEvent({
          sortable: _this,
          rootEl: originalTarget,
          name: 'filter',
          targetEl: target,
          toEl: el,
          fromEl: el
        });

        pluginEvent('filter', _this, {
          evt: evt
        });
        preventOnFilter && evt.cancelable && evt.preventDefault();
        return; // cancel dnd
      }
    } else if (filter) {
      filter = filter.split(',').some(function (criteria) {
        criteria = closest(originalTarget, criteria.trim(), el, false);

        if (criteria) {
          _dispatchEvent({
            sortable: _this,
            rootEl: criteria,
            name: 'filter',
            targetEl: target,
            fromEl: el,
            toEl: el
          });

          pluginEvent('filter', _this, {
            evt: evt
          });
          return true;
        }
      });

      if (filter) {
        preventOnFilter && evt.cancelable && evt.preventDefault();
        return; // cancel dnd
      }
    }

    if (options.handle && !closest(originalTarget, options.handle, el, false)) {
      return;
    } // Prepare `dragstart`


    this._prepareDragStart(evt, touch, target);
  },
  _prepareDragStart: function _prepareDragStart(
  /** Event */
  evt,
  /** Touch */
  touch,
  /** HTMLElement */
  target) {
    var _this = this,
        el = _this.el,
        options = _this.options,
        ownerDocument = el.ownerDocument,
        dragStartFn;

    if (target && !dragEl && target.parentNode === el) {
      var dragRect = getRect(target);
      rootEl = el;
      dragEl = target;
      parentEl = dragEl.parentNode;
      nextEl = dragEl.nextSibling;
      lastDownEl = target;
      activeGroup = options.group;
      Sortable.dragged = dragEl;
      tapEvt = {
        target: dragEl,
        clientX: (touch || evt).clientX,
        clientY: (touch || evt).clientY
      };
      tapDistanceLeft = tapEvt.clientX - dragRect.left;
      tapDistanceTop = tapEvt.clientY - dragRect.top;
      this._lastX = (touch || evt).clientX;
      this._lastY = (touch || evt).clientY;
      dragEl.style['will-change'] = 'all';

      dragStartFn = function dragStartFn() {
        pluginEvent('delayEnded', _this, {
          evt: evt
        });

        if (Sortable.eventCanceled) {
          _this._onDrop();

          return;
        } // Delayed drag has been triggered
        // we can re-enable the events: touchmove/mousemove


        _this._disableDelayedDragEvents();

        if (!FireFox && _this.nativeDraggable) {
          dragEl.draggable = true;
        } // Bind the events: dragstart/dragend


        _this._triggerDragStart(evt, touch); // Drag start event


        _dispatchEvent({
          sortable: _this,
          name: 'choose',
          originalEvent: evt
        }); // Chosen item


        toggleClass(dragEl, options.chosenClass, true);
      }; // Disable "draggable"


      options.ignore.split(',').forEach(function (criteria) {
        find(dragEl, criteria.trim(), _disableDraggable);
      });
      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);
      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);
      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);
      on(ownerDocument, 'mouseup', _this._onDrop);
      on(ownerDocument, 'touchend', _this._onDrop);
      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)

      if (FireFox && this.nativeDraggable) {
        this.options.touchStartThreshold = 4;
        dragEl.draggable = true;
      }

      pluginEvent('delayStart', this, {
        evt: evt
      }); // Delay is impossible for native DnD in Edge or IE

      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {
        if (Sortable.eventCanceled) {
          this._onDrop();

          return;
        } // If the user moves the pointer or let go the click or touch
        // before the delay has been reached:
        // disable the delayed drag


        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);
        on(ownerDocument, 'touchend', _this._disableDelayedDrag);
        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);
        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);
        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);
        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);
        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);
      } else {
        dragStartFn();
      }
    }
  },
  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(
  /** TouchEvent|PointerEvent **/
  e) {
    var touch = e.touches ? e.touches[0] : e;

    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {
      this._disableDelayedDrag();
    }
  },
  _disableDelayedDrag: function _disableDelayedDrag() {
    dragEl && _disableDraggable(dragEl);
    clearTimeout(this._dragStartTimer);

    this._disableDelayedDragEvents();
  },
  _disableDelayedDragEvents: function _disableDelayedDragEvents() {
    var ownerDocument = this.el.ownerDocument;
    off(ownerDocument, 'mouseup', this._disableDelayedDrag);
    off(ownerDocument, 'touchend', this._disableDelayedDrag);
    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);
    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);
    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);
    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);
  },
  _triggerDragStart: function _triggerDragStart(
  /** Event */
  evt,
  /** Touch */
  touch) {
    touch = touch || evt.pointerType == 'touch' && evt;

    if (!this.nativeDraggable || touch) {
      if (this.options.supportPointer) {
        on(document, 'pointermove', this._onTouchMove);
      } else if (touch) {
        on(document, 'touchmove', this._onTouchMove);
      } else {
        on(document, 'mousemove', this._onTouchMove);
      }
    } else {
      on(dragEl, 'dragend', this);
      on(rootEl, 'dragstart', this._onDragStart);
    }

    try {
      if (document.selection) {
        // Timeout neccessary for IE9
        _nextTick(function () {
          document.selection.empty();
        });
      } else {
        window.getSelection().removeAllRanges();
      }
    } catch (err) {}
  },
  _dragStarted: function _dragStarted(fallback, evt) {

    awaitingDragStarted = false;

    if (rootEl && dragEl) {
      pluginEvent('dragStarted', this, {
        evt: evt
      });

      if (this.nativeDraggable) {
        on(document, 'dragover', _checkOutsideTargetEl);
      }

      var options = this.options; // Apply effect

      !fallback && toggleClass(dragEl, options.dragClass, false);
      toggleClass(dragEl, options.ghostClass, true);
      Sortable.active = this;
      fallback && this._appendGhost(); // Drag start event

      _dispatchEvent({
        sortable: this,
        name: 'start',
        originalEvent: evt
      });
    } else {
      this._nulling();
    }
  },
  _emulateDragOver: function _emulateDragOver() {
    if (touchEvt) {
      this._lastX = touchEvt.clientX;
      this._lastY = touchEvt.clientY;

      _hideGhostForTarget();

      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);
      var parent = target;

      while (target && target.shadowRoot) {
        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);
        if (target === parent) break;
        parent = target;
      }

      dragEl.parentNode[expando]._isOutsideThisEl(target);

      if (parent) {
        do {
          if (parent[expando]) {
            var inserted = void 0;
            inserted = parent[expando]._onDragOver({
              clientX: touchEvt.clientX,
              clientY: touchEvt.clientY,
              target: target,
              rootEl: parent
            });

            if (inserted && !this.options.dragoverBubble) {
              break;
            }
          }

          target = parent; // store last element
        }
        /* jshint boss:true */
        while (parent = parent.parentNode);
      }

      _unhideGhostForTarget();
    }
  },
  _onTouchMove: function _onTouchMove(
  /**TouchEvent*/
  evt) {
    if (tapEvt) {
      var options = this.options,
          fallbackTolerance = options.fallbackTolerance,
          fallbackOffset = options.fallbackOffset,
          touch = evt.touches ? evt.touches[0] : evt,
          ghostMatrix = ghostEl && matrix(ghostEl, true),
          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,
          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,
          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),
          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),
          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging

      if (!Sortable.active && !awaitingDragStarted) {
        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {
          return;
        }

        this._onDragStart(evt, true);
      }

      if (ghostEl) {
        if (ghostMatrix) {
          ghostMatrix.e += dx - (lastDx || 0);
          ghostMatrix.f += dy - (lastDy || 0);
        } else {
          ghostMatrix = {
            a: 1,
            b: 0,
            c: 0,
            d: 1,
            e: dx,
            f: dy
          };
        }

        var cssMatrix = "matrix(".concat(ghostMatrix.a, ",").concat(ghostMatrix.b, ",").concat(ghostMatrix.c, ",").concat(ghostMatrix.d, ",").concat(ghostMatrix.e, ",").concat(ghostMatrix.f, ")");
        css(ghostEl, 'webkitTransform', cssMatrix);
        css(ghostEl, 'mozTransform', cssMatrix);
        css(ghostEl, 'msTransform', cssMatrix);
        css(ghostEl, 'transform', cssMatrix);
        lastDx = dx;
        lastDy = dy;
        touchEvt = touch;
      }

      evt.cancelable && evt.preventDefault();
    }
  },
  _appendGhost: function _appendGhost() {
    // Bug if using scale(): https://stackoverflow.com/questions/2637058
    // Not being adjusted for
    if (!ghostEl) {
      var container = this.options.fallbackOnBody ? document.body : rootEl,
          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),
          options = this.options; // Position absolutely

      if (PositionGhostAbsolutely) {
        // Get relatively positioned parent
        ghostRelativeParent = container;

        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {
          ghostRelativeParent = ghostRelativeParent.parentNode;
        }

        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {
          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();
          rect.top += ghostRelativeParent.scrollTop;
          rect.left += ghostRelativeParent.scrollLeft;
        } else {
          ghostRelativeParent = getWindowScrollingElement();
        }

        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);
      }

      ghostEl = dragEl.cloneNode(true);
      toggleClass(ghostEl, options.ghostClass, false);
      toggleClass(ghostEl, options.fallbackClass, true);
      toggleClass(ghostEl, options.dragClass, true);
      css(ghostEl, 'transition', '');
      css(ghostEl, 'transform', '');
      css(ghostEl, 'box-sizing', 'border-box');
      css(ghostEl, 'margin', 0);
      css(ghostEl, 'top', rect.top);
      css(ghostEl, 'left', rect.left);
      css(ghostEl, 'width', rect.width);
      css(ghostEl, 'height', rect.height);
      css(ghostEl, 'opacity', '0.8');
      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');
      css(ghostEl, 'zIndex', '100000');
      css(ghostEl, 'pointerEvents', 'none');
      Sortable.ghost = ghostEl;
      container.appendChild(ghostEl); // Set transform-origin

      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');
    }
  },
  _onDragStart: function _onDragStart(
  /**Event*/
  evt,
  /**boolean*/
  fallback) {
    var _this = this;

    var dataTransfer = evt.dataTransfer;
    var options = _this.options;
    pluginEvent('dragStart', this, {
      evt: evt
    });

    if (Sortable.eventCanceled) {
      this._onDrop();

      return;
    }

    pluginEvent('setupClone', this);

    if (!Sortable.eventCanceled) {
      cloneEl = clone(dragEl);
      cloneEl.removeAttribute("id");
      cloneEl.draggable = false;
      cloneEl.style['will-change'] = '';

      this._hideClone();

      toggleClass(cloneEl, this.options.chosenClass, false);
      Sortable.clone = cloneEl;
    } // #1143: IFrame support workaround


    _this.cloneId = _nextTick(function () {
      pluginEvent('clone', _this);
      if (Sortable.eventCanceled) return;

      if (!_this.options.removeCloneOnHide) {
        rootEl.insertBefore(cloneEl, dragEl);
      }

      _this._hideClone();

      _dispatchEvent({
        sortable: _this,
        name: 'clone'
      });
    });
    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events

    if (fallback) {
      ignoreNextClick = true;
      _this._loopId = setInterval(_this._emulateDragOver, 50);
    } else {
      // Undo what was set in _prepareDragStart before drag started
      off(document, 'mouseup', _this._onDrop);
      off(document, 'touchend', _this._onDrop);
      off(document, 'touchcancel', _this._onDrop);

      if (dataTransfer) {
        dataTransfer.effectAllowed = 'move';
        options.setData && options.setData.call(_this, dataTransfer, dragEl);
      }

      on(document, 'drop', _this); // #1276 fix:

      css(dragEl, 'transform', 'translateZ(0)');
    }

    awaitingDragStarted = true;
    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));
    on(document, 'selectstart', _this);
    moved = true;

    if (Safari) {
      css(document.body, 'user-select', 'none');
    }
  },
  // Returns true - if no further action is needed (either inserted or another condition)
  _onDragOver: function _onDragOver(
  /**Event*/
  evt) {
    var el = this.el,
        target = evt.target,
        dragRect,
        targetRect,
        revert,
        options = this.options,
        group = options.group,
        activeSortable = Sortable.active,
        isOwner = activeGroup === group,
        canSort = options.sort,
        fromSortable = putSortable || activeSortable,
        vertical,
        _this = this,
        completedFired = false;

    if (_silent) return;

    function dragOverEvent(name, extra) {
      pluginEvent(name, _this, _objectSpread2({
        evt: evt,
        isOwner: isOwner,
        axis: vertical ? 'vertical' : 'horizontal',
        revert: revert,
        dragRect: dragRect,
        targetRect: targetRect,
        canSort: canSort,
        fromSortable: fromSortable,
        target: target,
        completed: completed,
        onMove: function onMove(target, after) {
          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);
        },
        changed: changed
      }, extra));
    } // Capture animation state


    function capture() {
      dragOverEvent('dragOverAnimationCapture');

      _this.captureAnimationState();

      if (_this !== fromSortable) {
        fromSortable.captureAnimationState();
      }
    } // Return invocation when dragEl is inserted (or completed)


    function completed(insertion) {
      dragOverEvent('dragOverCompleted', {
        insertion: insertion
      });

      if (insertion) {
        // Clones must be hidden before folding animation to capture dragRectAbsolute properly
        if (isOwner) {
          activeSortable._hideClone();
        } else {
          activeSortable._showClone(_this);
        }

        if (_this !== fromSortable) {
          // Set ghost class to new sortable's ghost class
          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);
          toggleClass(dragEl, options.ghostClass, true);
        }

        if (putSortable !== _this && _this !== Sortable.active) {
          putSortable = _this;
        } else if (_this === Sortable.active && putSortable) {
          putSortable = null;
        } // Animation


        if (fromSortable === _this) {
          _this._ignoreWhileAnimating = target;
        }

        _this.animateAll(function () {
          dragOverEvent('dragOverAnimationComplete');
          _this._ignoreWhileAnimating = null;
        });

        if (_this !== fromSortable) {
          fromSortable.animateAll();
          fromSortable._ignoreWhileAnimating = null;
        }
      } // Null lastTarget if it is not inside a previously swapped element


      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {
        lastTarget = null;
      } // no bubbling and not fallback


      if (!options.dragoverBubble && !evt.rootEl && target !== document) {
        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted


        !insertion && nearestEmptyInsertDetectEvent(evt);
      }

      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();
      return completedFired = true;
    } // Call when dragEl has been inserted


    function changed() {
      newIndex = index(dragEl);
      newDraggableIndex = index(dragEl, options.draggable);

      _dispatchEvent({
        sortable: _this,
        name: 'change',
        toEl: el,
        newIndex: newIndex,
        newDraggableIndex: newDraggableIndex,
        originalEvent: evt
      });
    }

    if (evt.preventDefault !== void 0) {
      evt.cancelable && evt.preventDefault();
    }

    target = closest(target, options.draggable, el, true);
    dragOverEvent('dragOver');
    if (Sortable.eventCanceled) return completedFired;

    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {
      return completed(false);
    }

    ignoreNextClick = false;

    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list
    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {
      vertical = this._getDirection(evt, target) === 'vertical';
      dragRect = getRect(dragEl);
      dragOverEvent('dragOverValid');
      if (Sortable.eventCanceled) return completedFired;

      if (revert) {
        parentEl = rootEl; // actualization

        capture();

        this._hideClone();

        dragOverEvent('revert');

        if (!Sortable.eventCanceled) {
          if (nextEl) {
            rootEl.insertBefore(dragEl, nextEl);
          } else {
            rootEl.appendChild(dragEl);
          }
        }

        return completed(true);
      }

      var elLastChild = lastChild(el, options.draggable);

      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {
        // Insert to end of list
        // If already at end of list: Do not insert
        if (elLastChild === dragEl) {
          return completed(false);
        } // if there is a last element, it is the target


        if (elLastChild && el === evt.target) {
          target = elLastChild;
        }

        if (target) {
          targetRect = getRect(target);
        }

        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {
          capture();

          if (elLastChild && elLastChild.nextSibling) {
            // the last draggable element is not the last node
            el.insertBefore(dragEl, elLastChild.nextSibling);
          } else {
            el.appendChild(dragEl);
          }

          parentEl = el; // actualization

          changed();
          return completed(true);
        }
      } else if (elLastChild && _ghostIsFirst(evt, vertical, this)) {
        // Insert to start of list
        var firstChild = getChild(el, 0, options, true);

        if (firstChild === dragEl) {
          return completed(false);
        }

        target = firstChild;
        targetRect = getRect(target);

        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {
          capture();
          el.insertBefore(dragEl, firstChild);
          parentEl = el; // actualization

          changed();
          return completed(true);
        }
      } else if (target.parentNode === el) {
        targetRect = getRect(target);
        var direction = 0,
            targetBeforeFirstSwap,
            differentLevel = dragEl.parentNode !== el,
            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),
            side1 = vertical ? 'top' : 'left',
            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),
            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;

        if (lastTarget !== target) {
          targetBeforeFirstSwap = targetRect[side1];
          pastFirstInvertThresh = false;
          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;
        }

        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);
        var sibling;

        if (direction !== 0) {
          // Check if target is beside dragEl in respective direction (ignoring hidden elements)
          var dragIndex = index(dragEl);

          do {
            dragIndex -= direction;
            sibling = parentEl.children[dragIndex];
          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));
        } // If dragEl is already beside target: Do not insert


        if (direction === 0 || sibling === target) {
          return completed(false);
        }

        lastTarget = target;
        lastDirection = direction;
        var nextSibling = target.nextElementSibling,
            after = false;
        after = direction === 1;

        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);

        if (moveVector !== false) {
          if (moveVector === 1 || moveVector === -1) {
            after = moveVector === 1;
          }

          _silent = true;
          setTimeout(_unsilent, 30);
          capture();

          if (after && !nextSibling) {
            el.appendChild(dragEl);
          } else {
            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);
          } // Undo chrome's scroll adjustment (has no effect on other browsers)


          if (scrolledPastTop) {
            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);
          }

          parentEl = dragEl.parentNode; // actualization
          // must be done before animation

          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {
            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);
          }

          changed();
          return completed(true);
        }
      }

      if (el.contains(dragEl)) {
        return completed(false);
      }
    }

    return false;
  },
  _ignoreWhileAnimating: null,
  _offMoveEvents: function _offMoveEvents() {
    off(document, 'mousemove', this._onTouchMove);
    off(document, 'touchmove', this._onTouchMove);
    off(document, 'pointermove', this._onTouchMove);
    off(document, 'dragover', nearestEmptyInsertDetectEvent);
    off(document, 'mousemove', nearestEmptyInsertDetectEvent);
    off(document, 'touchmove', nearestEmptyInsertDetectEvent);
  },
  _offUpEvents: function _offUpEvents() {
    var ownerDocument = this.el.ownerDocument;
    off(ownerDocument, 'mouseup', this._onDrop);
    off(ownerDocument, 'touchend', this._onDrop);
    off(ownerDocument, 'pointerup', this._onDrop);
    off(ownerDocument, 'touchcancel', this._onDrop);
    off(document, 'selectstart', this);
  },
  _onDrop: function _onDrop(
  /**Event*/
  evt) {
    var el = this.el,
        options = this.options; // Get the index of the dragged element within its parent

    newIndex = index(dragEl);
    newDraggableIndex = index(dragEl, options.draggable);
    pluginEvent('drop', this, {
      evt: evt
    });
    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event

    newIndex = index(dragEl);
    newDraggableIndex = index(dragEl, options.draggable);

    if (Sortable.eventCanceled) {
      this._nulling();

      return;
    }

    awaitingDragStarted = false;
    isCircumstantialInvert = false;
    pastFirstInvertThresh = false;
    clearInterval(this._loopId);
    clearTimeout(this._dragStartTimer);

    _cancelNextTick(this.cloneId);

    _cancelNextTick(this._dragStartId); // Unbind events


    if (this.nativeDraggable) {
      off(document, 'drop', this);
      off(el, 'dragstart', this._onDragStart);
    }

    this._offMoveEvents();

    this._offUpEvents();

    if (Safari) {
      css(document.body, 'user-select', '');
    }

    css(dragEl, 'transform', '');

    if (evt) {
      if (moved) {
        evt.cancelable && evt.preventDefault();
        !options.dropBubble && evt.stopPropagation();
      }

      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);

      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {
        // Remove clone(s)
        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);
      }

      if (dragEl) {
        if (this.nativeDraggable) {
          off(dragEl, 'dragend', this);
        }

        _disableDraggable(dragEl);

        dragEl.style['will-change'] = ''; // Remove classes
        // ghostClass is added in dragStarted

        if (moved && !awaitingDragStarted) {
          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);
        }

        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event

        _dispatchEvent({
          sortable: this,
          name: 'unchoose',
          toEl: parentEl,
          newIndex: null,
          newDraggableIndex: null,
          originalEvent: evt
        });

        if (rootEl !== parentEl) {
          if (newIndex >= 0) {
            // Add event
            _dispatchEvent({
              rootEl: parentEl,
              name: 'add',
              toEl: parentEl,
              fromEl: rootEl,
              originalEvent: evt
            }); // Remove event


            _dispatchEvent({
              sortable: this,
              name: 'remove',
              toEl: parentEl,
              originalEvent: evt
            }); // drag from one list and drop into another


            _dispatchEvent({
              rootEl: parentEl,
              name: 'sort',
              toEl: parentEl,
              fromEl: rootEl,
              originalEvent: evt
            });

            _dispatchEvent({
              sortable: this,
              name: 'sort',
              toEl: parentEl,
              originalEvent: evt
            });
          }

          putSortable && putSortable.save();
        } else {
          if (newIndex !== oldIndex) {
            if (newIndex >= 0) {
              // drag & drop within the same list
              _dispatchEvent({
                sortable: this,
                name: 'update',
                toEl: parentEl,
                originalEvent: evt
              });

              _dispatchEvent({
                sortable: this,
                name: 'sort',
                toEl: parentEl,
                originalEvent: evt
              });
            }
          }
        }

        if (Sortable.active) {
          /* jshint eqnull:true */
          if (newIndex == null || newIndex === -1) {
            newIndex = oldIndex;
            newDraggableIndex = oldDraggableIndex;
          }

          _dispatchEvent({
            sortable: this,
            name: 'end',
            toEl: parentEl,
            originalEvent: evt
          }); // Save sorting


          this.save();
        }
      }
    }

    this._nulling();
  },
  _nulling: function _nulling() {
    pluginEvent('nulling', this);
    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;
    savedInputChecked.forEach(function (el) {
      el.checked = true;
    });
    savedInputChecked.length = lastDx = lastDy = 0;
  },
  handleEvent: function handleEvent(
  /**Event*/
  evt) {
    switch (evt.type) {
      case 'drop':
      case 'dragend':
        this._onDrop(evt);

        break;

      case 'dragenter':
      case 'dragover':
        if (dragEl) {
          this._onDragOver(evt);

          _globalDragOver(evt);
        }

        break;

      case 'selectstart':
        evt.preventDefault();
        break;
    }
  },

  /**
   * Serializes the item into an array of string.
   * @returns {String[]}
   */
  toArray: function toArray() {
    var order = [],
        el,
        children = this.el.children,
        i = 0,
        n = children.length,
        options = this.options;

    for (; i < n; i++) {
      el = children[i];

      if (closest(el, options.draggable, this.el, false)) {
        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));
      }
    }

    return order;
  },

  /**
   * Sorts the elements according to the array.
   * @param  {String[]}  order  order of the items
   */
  sort: function sort(order, useAnimation) {
    var items = {},
        rootEl = this.el;
    this.toArray().forEach(function (id, i) {
      var el = rootEl.children[i];

      if (closest(el, this.options.draggable, rootEl, false)) {
        items[id] = el;
      }
    }, this);
    useAnimation && this.captureAnimationState();
    order.forEach(function (id) {
      if (items[id]) {
        rootEl.removeChild(items[id]);
        rootEl.appendChild(items[id]);
      }
    });
    useAnimation && this.animateAll();
  },

  /**
   * Save the current sorting
   */
  save: function save() {
    var store = this.options.store;
    store && store.set && store.set(this);
  },

  /**
   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.
   * @param   {HTMLElement}  el
   * @param   {String}       [selector]  default: `options.draggable`
   * @returns {HTMLElement|null}
   */
  closest: function closest$1(el, selector) {
    return closest(el, selector || this.options.draggable, this.el, false);
  },

  /**
   * Set/get option
   * @param   {string} name
   * @param   {*}      [value]
   * @returns {*}
   */
  option: function option(name, value) {
    var options = this.options;

    if (value === void 0) {
      return options[name];
    } else {
      var modifiedValue = PluginManager.modifyOption(this, name, value);

      if (typeof modifiedValue !== 'undefined') {
        options[name] = modifiedValue;
      } else {
        options[name] = value;
      }

      if (name === 'group') {
        _prepareGroup(options);
      }
    }
  },

  /**
   * Destroy
   */
  destroy: function destroy() {
    pluginEvent('destroy', this);
    var el = this.el;
    el[expando] = null;
    off(el, 'mousedown', this._onTapStart);
    off(el, 'touchstart', this._onTapStart);
    off(el, 'pointerdown', this._onTapStart);

    if (this.nativeDraggable) {
      off(el, 'dragover', this);
      off(el, 'dragenter', this);
    } // Remove draggable attributes


    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {
      el.removeAttribute('draggable');
    });

    this._onDrop();

    this._disableDelayedDragEvents();

    sortables.splice(sortables.indexOf(this.el), 1);
    this.el = el = null;
  },
  _hideClone: function _hideClone() {
    if (!cloneHidden) {
      pluginEvent('hideClone', this);
      if (Sortable.eventCanceled) return;
      css(cloneEl, 'display', 'none');

      if (this.options.removeCloneOnHide && cloneEl.parentNode) {
        cloneEl.parentNode.removeChild(cloneEl);
      }

      cloneHidden = true;
    }
  },
  _showClone: function _showClone(putSortable) {
    if (putSortable.lastPutMode !== 'clone') {
      this._hideClone();

      return;
    }

    if (cloneHidden) {
      pluginEvent('showClone', this);
      if (Sortable.eventCanceled) return; // show clone at dragEl or original position

      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {
        rootEl.insertBefore(cloneEl, dragEl);
      } else if (nextEl) {
        rootEl.insertBefore(cloneEl, nextEl);
      } else {
        rootEl.appendChild(cloneEl);
      }

      if (this.options.group.revertClone) {
        this.animate(dragEl, cloneEl);
      }

      css(cloneEl, 'display', '');
      cloneHidden = false;
    }
  }
};

function _globalDragOver(
/**Event*/
evt) {
  if (evt.dataTransfer) {
    evt.dataTransfer.dropEffect = 'move';
  }

  evt.cancelable && evt.preventDefault();
}

function _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {
  var evt,
      sortable = fromEl[expando],
      onMoveFn = sortable.options.onMove,
      retVal; // Support for new CustomEvent feature

  if (window.CustomEvent && !IE11OrLess && !Edge) {
    evt = new CustomEvent('move', {
      bubbles: true,
      cancelable: true
    });
  } else {
    evt = document.createEvent('Event');
    evt.initEvent('move', true, true);
  }

  evt.to = toEl;
  evt.from = fromEl;
  evt.dragged = dragEl;
  evt.draggedRect = dragRect;
  evt.related = targetEl || toEl;
  evt.relatedRect = targetRect || getRect(toEl);
  evt.willInsertAfter = willInsertAfter;
  evt.originalEvent = originalEvent;
  fromEl.dispatchEvent(evt);

  if (onMoveFn) {
    retVal = onMoveFn.call(sortable, evt, originalEvent);
  }

  return retVal;
}

function _disableDraggable(el) {
  el.draggable = false;
}

function _unsilent() {
  _silent = false;
}

function _ghostIsFirst(evt, vertical, sortable) {
  var rect = getRect(getChild(sortable.el, 0, sortable.options, true));
  var spacer = 10;
  return vertical ? evt.clientX < rect.left - spacer || evt.clientY < rect.top && evt.clientX < rect.right : evt.clientY < rect.top - spacer || evt.clientY < rect.bottom && evt.clientX < rect.left;
}

function _ghostIsLast(evt, vertical, sortable) {
  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));
  var spacer = 10;
  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;
}

function _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {
  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,
      targetLength = vertical ? targetRect.height : targetRect.width,
      targetS1 = vertical ? targetRect.top : targetRect.left,
      targetS2 = vertical ? targetRect.bottom : targetRect.right,
      invert = false;

  if (!invertSwap) {
    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold
    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {
      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2
      // check if past first invert threshold on side opposite of lastDirection
      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {
        // past first invert threshold, do not restrict inverted threshold to dragEl shadow
        pastFirstInvertThresh = true;
      }

      if (!pastFirstInvertThresh) {
        // dragEl shadow (target move distance shadow)
        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow
        : mouseOnAxis > targetS2 - targetMoveDistance) {
          return -lastDirection;
        }
      } else {
        invert = true;
      }
    } else {
      // Regular
      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {
        return _getInsertDirection(target);
      }
    }
  }

  invert = invert || invertSwap;

  if (invert) {
    // Invert of regular
    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {
      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;
    }
  }

  return 0;
}
/**
 * Gets the direction dragEl must be swapped relative to target in order to make it
 * seem that dragEl has been "inserted" into that element's position
 * @param  {HTMLElement} target       The target whose position dragEl is being inserted at
 * @return {Number}                   Direction dragEl must be swapped
 */


function _getInsertDirection(target) {
  if (index(dragEl) < index(target)) {
    return 1;
  } else {
    return -1;
  }
}
/**
 * Generate id
 * @param   {HTMLElement} el
 * @returns {String}
 * @private
 */


function _generateId(el) {
  var str = el.tagName + el.className + el.src + el.href + el.textContent,
      i = str.length,
      sum = 0;

  while (i--) {
    sum += str.charCodeAt(i);
  }

  return sum.toString(36);
}

function _saveInputCheckedState(root) {
  savedInputChecked.length = 0;
  var inputs = root.getElementsByTagName('input');
  var idx = inputs.length;

  while (idx--) {
    var el = inputs[idx];
    el.checked && savedInputChecked.push(el);
  }
}

function _nextTick(fn) {
  return setTimeout(fn, 0);
}

function _cancelNextTick(id) {
  return clearTimeout(id);
} // Fixed #973:


if (documentExists) {
  on(document, 'touchmove', function (evt) {
    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {
      evt.preventDefault();
    }
  });
} // Export utils


Sortable.utils = {
  on: on,
  off: off,
  css: css,
  find: find,
  is: function is(el, selector) {
    return !!closest(el, selector, el, false);
  },
  extend: extend,
  throttle: throttle,
  closest: closest,
  toggleClass: toggleClass,
  clone: clone,
  index: index,
  nextTick: _nextTick,
  cancelNextTick: _cancelNextTick,
  detectDirection: _detectDirection,
  getChild: getChild
};
/**
 * Get the Sortable instance of an element
 * @param  {HTMLElement} element The element
 * @return {Sortable|undefined}         The instance of Sortable
 */

Sortable.get = function (element) {
  return element[expando];
};
/**
 * Mount a plugin to Sortable
 * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted
 */


Sortable.mount = function () {
  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {
    plugins[_key] = arguments[_key];
  }

  if (plugins[0].constructor === Array) plugins = plugins[0];
  plugins.forEach(function (plugin) {
    if (!plugin.prototype || !plugin.prototype.constructor) {
      throw "Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(plugin));
    }

    if (plugin.utils) Sortable.utils = _objectSpread2(_objectSpread2({}, Sortable.utils), plugin.utils);
    PluginManager.mount(plugin);
  });
};
/**
 * Create sortable instance
 * @param {HTMLElement}  el
 * @param {Object}      [options]
 */


Sortable.create = function (el, options) {
  return new Sortable(el, options);
}; // Export


Sortable.version = version;

var autoScrolls = [],
    scrollEl,
    scrollRootEl,
    scrolling = false,
    lastAutoScrollX,
    lastAutoScrollY,
    touchEvt$1,
    pointerElemChangedInterval;

function AutoScrollPlugin() {
  function AutoScroll() {
    this.defaults = {
      scroll: true,
      forceAutoScrollFallback: false,
      scrollSensitivity: 30,
      scrollSpeed: 10,
      bubbleScroll: true
    }; // Bind all private methods

    for (var fn in this) {
      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {
        this[fn] = this[fn].bind(this);
      }
    }
  }

  AutoScroll.prototype = {
    dragStarted: function dragStarted(_ref) {
      var originalEvent = _ref.originalEvent;

      if (this.sortable.nativeDraggable) {
        on(document, 'dragover', this._handleAutoScroll);
      } else {
        if (this.options.supportPointer) {
          on(document, 'pointermove', this._handleFallbackAutoScroll);
        } else if (originalEvent.touches) {
          on(document, 'touchmove', this._handleFallbackAutoScroll);
        } else {
          on(document, 'mousemove', this._handleFallbackAutoScroll);
        }
      }
    },
    dragOverCompleted: function dragOverCompleted(_ref2) {
      var originalEvent = _ref2.originalEvent;

      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)
      if (!this.options.dragOverBubble && !originalEvent.rootEl) {
        this._handleAutoScroll(originalEvent);
      }
    },
    drop: function drop() {
      if (this.sortable.nativeDraggable) {
        off(document, 'dragover', this._handleAutoScroll);
      } else {
        off(document, 'pointermove', this._handleFallbackAutoScroll);
        off(document, 'touchmove', this._handleFallbackAutoScroll);
        off(document, 'mousemove', this._handleFallbackAutoScroll);
      }

      clearPointerElemChangedInterval();
      clearAutoScrolls();
      cancelThrottle();
    },
    nulling: function nulling() {
      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;
      autoScrolls.length = 0;
    },
    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {
      this._handleAutoScroll(evt, true);
    },
    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {
      var _this = this;

      var x = (evt.touches ? evt.touches[0] : evt).clientX,
          y = (evt.touches ? evt.touches[0] : evt).clientY,
          elem = document.elementFromPoint(x, y);
      touchEvt$1 = evt; // IE does not seem to have native autoscroll,
      // Edge's autoscroll seems too conditional,
      // MACOS Safari does not have autoscroll,
      // Firefox and Chrome are good

      if (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {
        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change

        var ogElemScroller = getParentAutoScrollElement(elem, true);

        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {
          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour

          pointerElemChangedInterval = setInterval(function () {
            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);

            if (newElem !== ogElemScroller) {
              ogElemScroller = newElem;
              clearAutoScrolls();
            }

            autoScroll(evt, _this.options, newElem, fallback);
          }, 10);
          lastAutoScrollX = x;
          lastAutoScrollY = y;
        }
      } else {
        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll
        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {
          clearAutoScrolls();
          return;
        }

        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);
      }
    }
  };
  return _extends(AutoScroll, {
    pluginName: 'scroll',
    initializeByDefault: true
  });
}

function clearAutoScrolls() {
  autoScrolls.forEach(function (autoScroll) {
    clearInterval(autoScroll.pid);
  });
  autoScrolls = [];
}

function clearPointerElemChangedInterval() {
  clearInterval(pointerElemChangedInterval);
}

var autoScroll = throttle(function (evt, options, rootEl, isFallback) {
  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521
  if (!options.scroll) return;
  var x = (evt.touches ? evt.touches[0] : evt).clientX,
      y = (evt.touches ? evt.touches[0] : evt).clientY,
      sens = options.scrollSensitivity,
      speed = options.scrollSpeed,
      winScroller = getWindowScrollingElement();
  var scrollThisInstance = false,
      scrollCustomFn; // New scroll root, set scrollEl

  if (scrollRootEl !== rootEl) {
    scrollRootEl = rootEl;
    clearAutoScrolls();
    scrollEl = options.scroll;
    scrollCustomFn = options.scrollFn;

    if (scrollEl === true) {
      scrollEl = getParentAutoScrollElement(rootEl, true);
    }
  }

  var layersOut = 0;
  var currentParent = scrollEl;

  do {
    var el = currentParent,
        rect = getRect(el),
        top = rect.top,
        bottom = rect.bottom,
        left = rect.left,
        right = rect.right,
        width = rect.width,
        height = rect.height,
        canScrollX = void 0,
        canScrollY = void 0,
        scrollWidth = el.scrollWidth,
        scrollHeight = el.scrollHeight,
        elCSS = css(el),
        scrollPosX = el.scrollLeft,
        scrollPosY = el.scrollTop;

    if (el === winScroller) {
      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');
      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');
    } else {
      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');
      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');
    }

    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);
    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);

    if (!autoScrolls[layersOut]) {
      for (var i = 0; i <= layersOut; i++) {
        if (!autoScrolls[i]) {
          autoScrolls[i] = {};
        }
      }
    }

    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {
      autoScrolls[layersOut].el = el;
      autoScrolls[layersOut].vx = vx;
      autoScrolls[layersOut].vy = vy;
      clearInterval(autoScrolls[layersOut].pid);

      if (vx != 0 || vy != 0) {
        scrollThisInstance = true;
        /* jshint loopfunc:true */

        autoScrolls[layersOut].pid = setInterval(function () {
          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour
          if (isFallback && this.layer === 0) {
            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely

          }

          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;
          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;

          if (typeof scrollCustomFn === 'function') {
            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {
              return;
            }
          }

          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);
        }.bind({
          layer: layersOut
        }), 24);
      }
    }

    layersOut++;
  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));

  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not
}, 30);

var drop = function drop(_ref) {
  var originalEvent = _ref.originalEvent,
      putSortable = _ref.putSortable,
      dragEl = _ref.dragEl,
      activeSortable = _ref.activeSortable,
      dispatchSortableEvent = _ref.dispatchSortableEvent,
      hideGhostForTarget = _ref.hideGhostForTarget,
      unhideGhostForTarget = _ref.unhideGhostForTarget;
  if (!originalEvent) return;
  var toSortable = putSortable || activeSortable;
  hideGhostForTarget();
  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;
  var target = document.elementFromPoint(touch.clientX, touch.clientY);
  unhideGhostForTarget();

  if (toSortable && !toSortable.el.contains(target)) {
    dispatchSortableEvent('spill');
    this.onSpill({
      dragEl: dragEl,
      putSortable: putSortable
    });
  }
};

function Revert() {}

Revert.prototype = {
  startIndex: null,
  dragStart: function dragStart(_ref2) {
    var oldDraggableIndex = _ref2.oldDraggableIndex;
    this.startIndex = oldDraggableIndex;
  },
  onSpill: function onSpill(_ref3) {
    var dragEl = _ref3.dragEl,
        putSortable = _ref3.putSortable;
    this.sortable.captureAnimationState();

    if (putSortable) {
      putSortable.captureAnimationState();
    }

    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);

    if (nextSibling) {
      this.sortable.el.insertBefore(dragEl, nextSibling);
    } else {
      this.sortable.el.appendChild(dragEl);
    }

    this.sortable.animateAll();

    if (putSortable) {
      putSortable.animateAll();
    }
  },
  drop: drop
};

_extends(Revert, {
  pluginName: 'revertOnSpill'
});

function Remove() {}

Remove.prototype = {
  onSpill: function onSpill(_ref4) {
    var dragEl = _ref4.dragEl,
        putSortable = _ref4.putSortable;
    var parentSortable = putSortable || this.sortable;
    parentSortable.captureAnimationState();
    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);
    parentSortable.animateAll();
  },
  drop: drop
};

_extends(Remove, {
  pluginName: 'removeOnSpill'
});

var lastSwapEl;

function SwapPlugin() {
  function Swap() {
    this.defaults = {
      swapClass: 'sortable-swap-highlight'
    };
  }

  Swap.prototype = {
    dragStart: function dragStart(_ref) {
      var dragEl = _ref.dragEl;
      lastSwapEl = dragEl;
    },
    dragOverValid: function dragOverValid(_ref2) {
      var completed = _ref2.completed,
          target = _ref2.target,
          onMove = _ref2.onMove,
          activeSortable = _ref2.activeSortable,
          changed = _ref2.changed,
          cancel = _ref2.cancel;
      if (!activeSortable.options.swap) return;
      var el = this.sortable.el,
          options = this.options;

      if (target && target !== el) {
        var prevSwapEl = lastSwapEl;

        if (onMove(target) !== false) {
          toggleClass(target, options.swapClass, true);
          lastSwapEl = target;
        } else {
          lastSwapEl = null;
        }

        if (prevSwapEl && prevSwapEl !== lastSwapEl) {
          toggleClass(prevSwapEl, options.swapClass, false);
        }
      }

      changed();
      completed(true);
      cancel();
    },
    drop: function drop(_ref3) {
      var activeSortable = _ref3.activeSortable,
          putSortable = _ref3.putSortable,
          dragEl = _ref3.dragEl;
      var toSortable = putSortable || this.sortable;
      var options = this.options;
      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);

      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {
        if (dragEl !== lastSwapEl) {
          toSortable.captureAnimationState();
          if (toSortable !== activeSortable) activeSortable.captureAnimationState();
          swapNodes(dragEl, lastSwapEl);
          toSortable.animateAll();
          if (toSortable !== activeSortable) activeSortable.animateAll();
        }
      }
    },
    nulling: function nulling() {
      lastSwapEl = null;
    }
  };
  return _extends(Swap, {
    pluginName: 'swap',
    eventProperties: function eventProperties() {
      return {
        swapItem: lastSwapEl
      };
    }
  });
}

function swapNodes(n1, n2) {
  var p1 = n1.parentNode,
      p2 = n2.parentNode,
      i1,
      i2;
  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;
  i1 = index(n1);
  i2 = index(n2);

  if (p1.isEqualNode(p2) && i1 < i2) {
    i2++;
  }

  p1.insertBefore(n2, p1.children[i1]);
  p2.insertBefore(n1, p2.children[i2]);
}

var multiDragElements = [],
    multiDragClones = [],
    lastMultiDragSelect,
    // for selection with modifier key down (SHIFT)
multiDragSortable,
    initialFolding = false,
    // Initial multi-drag fold when drag started
folding = false,
    // Folding any other time
dragStarted = false,
    dragEl$1,
    clonesFromRect,
    clonesHidden;

function MultiDragPlugin() {
  function MultiDrag(sortable) {
    // Bind all private methods
    for (var fn in this) {
      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {
        this[fn] = this[fn].bind(this);
      }
    }

    if (!sortable.options.avoidImplicitDeselect) {
      if (sortable.options.supportPointer) {
        on(document, 'pointerup', this._deselectMultiDrag);
      } else {
        on(document, 'mouseup', this._deselectMultiDrag);
        on(document, 'touchend', this._deselectMultiDrag);
      }
    }

    on(document, 'keydown', this._checkKeyDown);
    on(document, 'keyup', this._checkKeyUp);
    this.defaults = {
      selectedClass: 'sortable-selected',
      multiDragKey: null,
      avoidImplicitDeselect: false,
      setData: function setData(dataTransfer, dragEl) {
        var data = '';

        if (multiDragElements.length && multiDragSortable === sortable) {
          multiDragElements.forEach(function (multiDragElement, i) {
            data += (!i ? '' : ', ') + multiDragElement.textContent;
          });
        } else {
          data = dragEl.textContent;
        }

        dataTransfer.setData('Text', data);
      }
    };
  }

  MultiDrag.prototype = {
    multiDragKeyDown: false,
    isMultiDrag: false,
    delayStartGlobal: function delayStartGlobal(_ref) {
      var dragged = _ref.dragEl;
      dragEl$1 = dragged;
    },
    delayEnded: function delayEnded() {
      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);
    },
    setupClone: function setupClone(_ref2) {
      var sortable = _ref2.sortable,
          cancel = _ref2.cancel;
      if (!this.isMultiDrag) return;

      for (var i = 0; i < multiDragElements.length; i++) {
        multiDragClones.push(clone(multiDragElements[i]));
        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;
        multiDragClones[i].draggable = false;
        multiDragClones[i].style['will-change'] = '';
        toggleClass(multiDragClones[i], this.options.selectedClass, false);
        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);
      }

      sortable._hideClone();

      cancel();
    },
    clone: function clone(_ref3) {
      var sortable = _ref3.sortable,
          rootEl = _ref3.rootEl,
          dispatchSortableEvent = _ref3.dispatchSortableEvent,
          cancel = _ref3.cancel;
      if (!this.isMultiDrag) return;

      if (!this.options.removeCloneOnHide) {
        if (multiDragElements.length && multiDragSortable === sortable) {
          insertMultiDragClones(true, rootEl);
          dispatchSortableEvent('clone');
          cancel();
        }
      }
    },
    showClone: function showClone(_ref4) {
      var cloneNowShown = _ref4.cloneNowShown,
          rootEl = _ref4.rootEl,
          cancel = _ref4.cancel;
      if (!this.isMultiDrag) return;
      insertMultiDragClones(false, rootEl);
      multiDragClones.forEach(function (clone) {
        css(clone, 'display', '');
      });
      cloneNowShown();
      clonesHidden = false;
      cancel();
    },
    hideClone: function hideClone(_ref5) {
      var _this = this;

      var sortable = _ref5.sortable,
          cloneNowHidden = _ref5.cloneNowHidden,
          cancel = _ref5.cancel;
      if (!this.isMultiDrag) return;
      multiDragClones.forEach(function (clone) {
        css(clone, 'display', 'none');

        if (_this.options.removeCloneOnHide && clone.parentNode) {
          clone.parentNode.removeChild(clone);
        }
      });
      cloneNowHidden();
      clonesHidden = true;
      cancel();
    },
    dragStartGlobal: function dragStartGlobal(_ref6) {
      var sortable = _ref6.sortable;

      if (!this.isMultiDrag && multiDragSortable) {
        multiDragSortable.multiDrag._deselectMultiDrag();
      }

      multiDragElements.forEach(function (multiDragElement) {
        multiDragElement.sortableIndex = index(multiDragElement);
      }); // Sort multi-drag elements

      multiDragElements = multiDragElements.sort(function (a, b) {
        return a.sortableIndex - b.sortableIndex;
      });
      dragStarted = true;
    },
    dragStarted: function dragStarted(_ref7) {
      var _this2 = this;

      var sortable = _ref7.sortable;
      if (!this.isMultiDrag) return;

      if (this.options.sort) {
        // Capture rects,
        // hide multi drag elements (by positioning them absolute),
        // set multi drag elements rects to dragRect,
        // show multi drag elements,
        // animate to rects,
        // unset rects & remove from DOM
        sortable.captureAnimationState();

        if (this.options.animation) {
          multiDragElements.forEach(function (multiDragElement) {
            if (multiDragElement === dragEl$1) return;
            css(multiDragElement, 'position', 'absolute');
          });
          var dragRect = getRect(dragEl$1, false, true, true);
          multiDragElements.forEach(function (multiDragElement) {
            if (multiDragElement === dragEl$1) return;
            setRect(multiDragElement, dragRect);
          });
          folding = true;
          initialFolding = true;
        }
      }

      sortable.animateAll(function () {
        folding = false;
        initialFolding = false;

        if (_this2.options.animation) {
          multiDragElements.forEach(function (multiDragElement) {
            unsetRect(multiDragElement);
          });
        } // Remove all auxiliary multidrag items from el, if sorting enabled


        if (_this2.options.sort) {
          removeMultiDragElements();
        }
      });
    },
    dragOver: function dragOver(_ref8) {
      var target = _ref8.target,
          completed = _ref8.completed,
          cancel = _ref8.cancel;

      if (folding && ~multiDragElements.indexOf(target)) {
        completed(false);
        cancel();
      }
    },
    revert: function revert(_ref9) {
      var fromSortable = _ref9.fromSortable,
          rootEl = _ref9.rootEl,
          sortable = _ref9.sortable,
          dragRect = _ref9.dragRect;

      if (multiDragElements.length > 1) {
        // Setup unfold animation
        multiDragElements.forEach(function (multiDragElement) {
          sortable.addAnimationState({
            target: multiDragElement,
            rect: folding ? getRect(multiDragElement) : dragRect
          });
          unsetRect(multiDragElement);
          multiDragElement.fromRect = dragRect;
          fromSortable.removeAnimationState(multiDragElement);
        });
        folding = false;
        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);
      }
    },
    dragOverCompleted: function dragOverCompleted(_ref10) {
      var sortable = _ref10.sortable,
          isOwner = _ref10.isOwner,
          insertion = _ref10.insertion,
          activeSortable = _ref10.activeSortable,
          parentEl = _ref10.parentEl,
          putSortable = _ref10.putSortable;
      var options = this.options;

      if (insertion) {
        // Clones must be hidden before folding animation to capture dragRectAbsolute properly
        if (isOwner) {
          activeSortable._hideClone();
        }

        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location

        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {
          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible
          var dragRectAbsolute = getRect(dragEl$1, false, true, true);
          multiDragElements.forEach(function (multiDragElement) {
            if (multiDragElement === dragEl$1) return;
            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted
            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable

            parentEl.appendChild(multiDragElement);
          });
          folding = true;
        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out


        if (!isOwner) {
          // Only remove if not folding (folding will remove them anyways)
          if (!folding) {
            removeMultiDragElements();
          }

          if (multiDragElements.length > 1) {
            var clonesHiddenBefore = clonesHidden;

            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden


            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {
              multiDragClones.forEach(function (clone) {
                activeSortable.addAnimationState({
                  target: clone,
                  rect: clonesFromRect
                });
                clone.fromRect = clonesFromRect;
                clone.thisAnimationDuration = null;
              });
            }
          } else {
            activeSortable._showClone(sortable);
          }
        }
      }
    },
    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {
      var dragRect = _ref11.dragRect,
          isOwner = _ref11.isOwner,
          activeSortable = _ref11.activeSortable;
      multiDragElements.forEach(function (multiDragElement) {
        multiDragElement.thisAnimationDuration = null;
      });

      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {
        clonesFromRect = _extends({}, dragRect);
        var dragMatrix = matrix(dragEl$1, true);
        clonesFromRect.top -= dragMatrix.f;
        clonesFromRect.left -= dragMatrix.e;
      }
    },
    dragOverAnimationComplete: function dragOverAnimationComplete() {
      if (folding) {
        folding = false;
        removeMultiDragElements();
      }
    },
    drop: function drop(_ref12) {
      var evt = _ref12.originalEvent,
          rootEl = _ref12.rootEl,
          parentEl = _ref12.parentEl,
          sortable = _ref12.sortable,
          dispatchSortableEvent = _ref12.dispatchSortableEvent,
          oldIndex = _ref12.oldIndex,
          putSortable = _ref12.putSortable;
      var toSortable = putSortable || this.sortable;
      if (!evt) return;
      var options = this.options,
          children = parentEl.children; // Multi-drag selection

      if (!dragStarted) {
        if (options.multiDragKey && !this.multiDragKeyDown) {
          this._deselectMultiDrag();
        }

        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));

        if (!~multiDragElements.indexOf(dragEl$1)) {
          multiDragElements.push(dragEl$1);
          dispatchEvent({
            sortable: sortable,
            rootEl: rootEl,
            name: 'select',
            targetEl: dragEl$1,
            originalEvent: evt
          }); // Modifier activated, select from last to dragEl

          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {
            var lastIndex = index(lastMultiDragSelect),
                currentIndex = index(dragEl$1);

            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {
              // Must include lastMultiDragSelect (select it), in case modified selection from no selection
              // (but previous selection existed)
              var n, i;

              if (currentIndex > lastIndex) {
                i = lastIndex;
                n = currentIndex;
              } else {
                i = currentIndex;
                n = lastIndex + 1;
              }

              for (; i < n; i++) {
                if (~multiDragElements.indexOf(children[i])) continue;
                toggleClass(children[i], options.selectedClass, true);
                multiDragElements.push(children[i]);
                dispatchEvent({
                  sortable: sortable,
                  rootEl: rootEl,
                  name: 'select',
                  targetEl: children[i],
                  originalEvent: evt
                });
              }
            }
          } else {
            lastMultiDragSelect = dragEl$1;
          }

          multiDragSortable = toSortable;
        } else {
          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);
          lastMultiDragSelect = null;
          dispatchEvent({
            sortable: sortable,
            rootEl: rootEl,
            name: 'deselect',
            targetEl: dragEl$1,
            originalEvent: evt
          });
        }
      } // Multi-drag drop


      if (dragStarted && this.isMultiDrag) {
        folding = false; // Do not "unfold" after around dragEl if reverted

        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {
          var dragRect = getRect(dragEl$1),
              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');
          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;
          toSortable.captureAnimationState();

          if (!initialFolding) {
            if (options.animation) {
              dragEl$1.fromRect = dragRect;
              multiDragElements.forEach(function (multiDragElement) {
                multiDragElement.thisAnimationDuration = null;

                if (multiDragElement !== dragEl$1) {
                  var rect = folding ? getRect(multiDragElement) : dragRect;
                  multiDragElement.fromRect = rect; // Prepare unfold animation

                  toSortable.addAnimationState({
                    target: multiDragElement,
                    rect: rect
                  });
                }
              });
            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert
            // properly they must all be removed


            removeMultiDragElements();
            multiDragElements.forEach(function (multiDragElement) {
              if (children[multiDragIndex]) {
                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);
              } else {
                parentEl.appendChild(multiDragElement);
              }

              multiDragIndex++;
            }); // If initial folding is done, the elements may have changed position because they are now
            // unfolding around dragEl, even though dragEl may not have his index changed, so update event
            // must be fired here as Sortable will not.

            if (oldIndex === index(dragEl$1)) {
              var update = false;
              multiDragElements.forEach(function (multiDragElement) {
                if (multiDragElement.sortableIndex !== index(multiDragElement)) {
                  update = true;
                  return;
                }
              });

              if (update) {
                dispatchSortableEvent('update');
              }
            }
          } // Must be done after capturing individual rects (scroll bar)


          multiDragElements.forEach(function (multiDragElement) {
            unsetRect(multiDragElement);
          });
          toSortable.animateAll();
        }

        multiDragSortable = toSortable;
      } // Remove clones if necessary


      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {
        multiDragClones.forEach(function (clone) {
          clone.parentNode && clone.parentNode.removeChild(clone);
        });
      }
    },
    nullingGlobal: function nullingGlobal() {
      this.isMultiDrag = dragStarted = false;
      multiDragClones.length = 0;
    },
    destroyGlobal: function destroyGlobal() {
      this._deselectMultiDrag();

      off(document, 'pointerup', this._deselectMultiDrag);
      off(document, 'mouseup', this._deselectMultiDrag);
      off(document, 'touchend', this._deselectMultiDrag);
      off(document, 'keydown', this._checkKeyDown);
      off(document, 'keyup', this._checkKeyUp);
    },
    _deselectMultiDrag: function _deselectMultiDrag(evt) {
      if (typeof dragStarted !== "undefined" && dragStarted) return; // Only deselect if selection is in this sortable

      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable

      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click

      if (evt && evt.button !== 0) return;

      while (multiDragElements.length) {
        var el = multiDragElements[0];
        toggleClass(el, this.options.selectedClass, false);
        multiDragElements.shift();
        dispatchEvent({
          sortable: this.sortable,
          rootEl: this.sortable.el,
          name: 'deselect',
          targetEl: el,
          originalEvent: evt
        });
      }
    },
    _checkKeyDown: function _checkKeyDown(evt) {
      if (evt.key === this.options.multiDragKey) {
        this.multiDragKeyDown = true;
      }
    },
    _checkKeyUp: function _checkKeyUp(evt) {
      if (evt.key === this.options.multiDragKey) {
        this.multiDragKeyDown = false;
      }
    }
  };
  return _extends(MultiDrag, {
    // Static methods & properties
    pluginName: 'multiDrag',
    utils: {
      /**
       * Selects the provided multi-drag item
       * @param  {HTMLElement} el    The element to be selected
       */
      select: function select(el) {
        var sortable = el.parentNode[expando];
        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;

        if (multiDragSortable && multiDragSortable !== sortable) {
          multiDragSortable.multiDrag._deselectMultiDrag();

          multiDragSortable = sortable;
        }

        toggleClass(el, sortable.options.selectedClass, true);
        multiDragElements.push(el);
      },

      /**
       * Deselects the provided multi-drag item
       * @param  {HTMLElement} el    The element to be deselected
       */
      deselect: function deselect(el) {
        var sortable = el.parentNode[expando],
            index = multiDragElements.indexOf(el);
        if (!sortable || !sortable.options.multiDrag || !~index) return;
        toggleClass(el, sortable.options.selectedClass, false);
        multiDragElements.splice(index, 1);
      }
    },
    eventProperties: function eventProperties() {
      var _this3 = this;

      var oldIndicies = [],
          newIndicies = [];
      multiDragElements.forEach(function (multiDragElement) {
        oldIndicies.push({
          multiDragElement: multiDragElement,
          index: multiDragElement.sortableIndex
        }); // multiDragElements will already be sorted if folding

        var newIndex;

        if (folding && multiDragElement !== dragEl$1) {
          newIndex = -1;
        } else if (folding) {
          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');
        } else {
          newIndex = index(multiDragElement);
        }

        newIndicies.push({
          multiDragElement: multiDragElement,
          index: newIndex
        });
      });
      return {
        items: _toConsumableArray(multiDragElements),
        clones: [].concat(multiDragClones),
        oldIndicies: oldIndicies,
        newIndicies: newIndicies
      };
    },
    optionListeners: {
      multiDragKey: function multiDragKey(key) {
        key = key.toLowerCase();

        if (key === 'ctrl') {
          key = 'Control';
        } else if (key.length > 1) {
          key = key.charAt(0).toUpperCase() + key.substr(1);
        }

        return key;
      }
    }
  });
}

function insertMultiDragElements(clonesInserted, rootEl) {
  multiDragElements.forEach(function (multiDragElement, i) {
    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];

    if (target) {
      rootEl.insertBefore(multiDragElement, target);
    } else {
      rootEl.appendChild(multiDragElement);
    }
  });
}
/**
 * Insert multi-drag clones
 * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted
 * @param  {HTMLElement} rootEl
 */


function insertMultiDragClones(elementsInserted, rootEl) {
  multiDragClones.forEach(function (clone, i) {
    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];

    if (target) {
      rootEl.insertBefore(clone, target);
    } else {
      rootEl.appendChild(clone);
    }
  });
}

function removeMultiDragElements() {
  multiDragElements.forEach(function (multiDragElement) {
    if (multiDragElement === dragEl$1) return;
    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);
  });
}

Sortable.mount(new AutoScrollPlugin());
Sortable.mount(Remove, Revert);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Sortable);



/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/regex.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/regex.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/rng.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/rng.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ rng)
/* harmony export */ });
// Unique ID creation requires a high quality random # generator. In the browser we therefore
// require the crypto API and do not support built-in fallback to lower quality random number
// generators (like Math.random()).
var getRandomValues;
var rnds8 = new Uint8Array(16);
function rng() {
  // lazy load so that environments that need to polyfill have a chance to do so
  if (!getRandomValues) {
    // getRandomValues needs to be invoked in a context where "this" is a Crypto implementation. Also,
    // find the complete implementation of crypto (msCrypto) on IE11.
    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);

    if (!getRandomValues) {
      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');
    }
  }

  return getRandomValues(rnds8);
}

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/stringify.js":
/*!*********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/stringify.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ "./node_modules/uuid/dist/esm-browser/validate.js");

/**
 * Convert array of 16 byte values to UUID string format of the form:
 * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
 */

var byteToHex = [];

for (var i = 0; i < 256; ++i) {
  byteToHex.push((i + 0x100).toString(16).substr(1));
}

function stringify(arr) {
  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  // Note: Be careful editing this code!  It's been tuned for performance
  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434
  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one
  // of the following:
  // - One or more input array values don't map to a hex octet (leading to
  // "undefined" in the uuid)
  // - Invalid input values for the RFC `version` or `variant` fields

  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__["default"])(uuid)) {
    throw TypeError('Stringified UUID is invalid');
  }

  return uuid;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v4.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v4.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ "./node_modules/uuid/dist/esm-browser/rng.js");
/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ "./node_modules/uuid/dist/esm-browser/stringify.js");



function v4(options, buf, offset) {
  options = options || {};
  var rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__["default"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`

  rnds[6] = rnds[6] & 0x0f | 0x40;
  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided

  if (buf) {
    offset = offset || 0;

    for (var i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }

    return buf;
  }

  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__["default"])(rnds);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/validate.js":
/*!********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/validate.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ "./node_modules/uuid/dist/esm-browser/regex.js");


function validate(uuid) {
  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__["default"].test(uuid);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);

/***/ }),

/***/ "./resources/ckeditor5/node_modules/@ckeditor/ckeditor5-word-count/src/utils.js":
/*!**************************************************************************************!*\
  !*** ./resources/ckeditor5/node_modules/@ckeditor/ckeditor5-word-count/src/utils.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   modelElementToPlainText: () => (/* binding */ modelElementToPlainText)
/* harmony export */ });
/**
 * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * @module word-count/utils
 */

/**
 * Returns a plain text representation of an element and its children.
 *
 * @param {module:engine/model/element~Element} element
 * @returns {String} Plain text representing the model's data.
 */
function modelElementToPlainText( element ) {
	if ( element.is( '$text' ) || element.is( '$textProxy' ) ) {
		return element.data;
	}

	let text = '';
	let prev = null;

	for ( const child of element.getChildren() ) {
		const childText = modelElementToPlainText( child );

		// If last block was finish, start from new line.
		if ( prev && prev.is( 'element' ) ) {
			text += '\n';
		}

		text += childText;

		prev = child;
	}

	return text;
}


/***/ }),

/***/ "./node_modules/axios/package.json":
/*!*****************************************!*\
  !*** ./node_modules/axios/package.json ***!
  \*****************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"/js/app": 0,
/******/ 			"css/app": 0,
/******/ 			"css/app_pdf": 0,
/******/ 			"css/print-test-pdf": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunk"] = self["webpackChunk"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	__webpack_require__.O(undefined, ["css/app","css/app_pdf","css/print-test-pdf"], () => (__webpack_require__("./resources/js/app.js")))
/******/ 	__webpack_require__.O(undefined, ["css/app","css/app_pdf","css/print-test-pdf"], () => (__webpack_require__("./resources/css/app.css")))
/******/ 	__webpack_require__.O(undefined, ["css/app","css/app_pdf","css/print-test-pdf"], () => (__webpack_require__("./resources/css/app_pdf.css")))
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["css/app","css/app_pdf","css/print-test-pdf"], () => (__webpack_require__("./resources/css/print-test-pdf.css")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;